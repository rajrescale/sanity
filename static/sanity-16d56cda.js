const KFe="modulepreload",ZFe=function(e){return"/"+e},SK={},Ff=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=ZFe(a),a in SK)return;SK[a]=!0;const o=a.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(!!r)for(let d=i.length-1;d>=0;d--){const h=i[d];if(h.href===a&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${s}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":KFe,o||(c.as="script",c.crossOrigin=""),c.href=a,document.head.appendChild(c),o)return new Promise((d,h)=>{c.addEventListener("load",d),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t()).catch(a=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a})};var ya=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function XFe(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Ahe={exports:{}},$I={},jhe={exports:{}},mn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t2=Symbol.for("react.element"),JFe=Symbol.for("react.portal"),QFe=Symbol.for("react.fragment"),e4e=Symbol.for("react.strict_mode"),t4e=Symbol.for("react.profiler"),n4e=Symbol.for("react.provider"),r4e=Symbol.for("react.context"),i4e=Symbol.for("react.forward_ref"),a4e=Symbol.for("react.suspense"),o4e=Symbol.for("react.memo"),s4e=Symbol.for("react.lazy"),_K=Symbol.iterator;function l4e(e){return e===null||typeof e!="object"?null:(e=_K&&e[_K]||e["@@iterator"],typeof e=="function"?e:null)}var Ihe={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dhe=Object.assign,$he={};function zy(e,t,n){this.props=e,this.context=t,this.refs=$he,this.updater=n||Ihe}zy.prototype.isReactComponent={};zy.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};zy.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ohe(){}Ohe.prototype=zy.prototype;function $9(e,t,n){this.props=e,this.context=t,this.refs=$he,this.updater=n||Ihe}var O9=$9.prototype=new Ohe;O9.constructor=$9;Dhe(O9,zy.prototype);O9.isPureReactComponent=!0;var EK=Array.isArray,Mhe=Object.prototype.hasOwnProperty,M9={current:null},Rhe={key:!0,ref:!0,__self:!0,__source:!0};function Phe(e,t,n){var r,i={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)Mhe.call(t,r)&&!Rhe.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:t2,type:e,key:a,ref:o,props:i,_owner:M9.current}}function u4e(e,t){return{$$typeof:t2,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function R9(e){return typeof e=="object"&&e!==null&&e.$$typeof===t2}function c4e(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var kK=/\/+/g;function lR(e,t){return typeof e=="object"&&e!==null&&e.key!=null?c4e(""+e.key):t.toString(36)}function a5(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case t2:case JFe:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+lR(o,0):r,EK(i)?(n="",e!=null&&(n=e.replace(kK,"$&/")+"/"),a5(i,t,n,"",function(c){return c})):i!=null&&(R9(i)&&(i=u4e(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(kK,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",EK(e))for(var s=0;s<e.length;s++){a=e[s];var l=r+lR(a,s);o+=a5(a,t,n,l,i)}else if(l=l4e(e),typeof l=="function")for(e=l.call(e),s=0;!(a=e.next()).done;)a=a.value,l=r+lR(a,s++),o+=a5(a,t,n,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function q_(e,t,n){if(e==null)return e;var r=[],i=0;return a5(e,r,"","",function(a){return t.call(n,a,i++)}),r}function d4e(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var qo={current:null},o5={transition:null},f4e={ReactCurrentDispatcher:qo,ReactCurrentBatchConfig:o5,ReactCurrentOwner:M9};function Fhe(){throw Error("act(...) is not supported in production builds of React.")}mn.Children={map:q_,forEach:function(e,t,n){q_(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return q_(e,function(){t++}),t},toArray:function(e){return q_(e,function(t){return t})||[]},only:function(e){if(!R9(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};mn.Component=zy;mn.Fragment=QFe;mn.Profiler=t4e;mn.PureComponent=$9;mn.StrictMode=e4e;mn.Suspense=a4e;mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f4e;mn.act=Fhe;mn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Dhe({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=M9.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)Mhe.call(t,l)&&!Rhe.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:t2,type:e.type,key:i,ref:a,props:r,_owner:o}};mn.createContext=function(e){return e={$$typeof:r4e,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:n4e,_context:e},e.Consumer=e};mn.createElement=Phe;mn.createFactory=function(e){var t=Phe.bind(null,e);return t.type=e,t};mn.createRef=function(){return{current:null}};mn.forwardRef=function(e){return{$$typeof:i4e,render:e}};mn.isValidElement=R9;mn.lazy=function(e){return{$$typeof:s4e,_payload:{_status:-1,_result:e},_init:d4e}};mn.memo=function(e,t){return{$$typeof:o4e,type:e,compare:t===void 0?null:t}};mn.startTransition=function(e){var t=o5.transition;o5.transition={};try{e()}finally{o5.transition=t}};mn.unstable_act=Fhe;mn.useCallback=function(e,t){return qo.current.useCallback(e,t)};mn.useContext=function(e){return qo.current.useContext(e)};mn.useDebugValue=function(){};mn.useDeferredValue=function(e){return qo.current.useDeferredValue(e)};mn.useEffect=function(e,t){return qo.current.useEffect(e,t)};mn.useId=function(){return qo.current.useId()};mn.useImperativeHandle=function(e,t,n){return qo.current.useImperativeHandle(e,t,n)};mn.useInsertionEffect=function(e,t){return qo.current.useInsertionEffect(e,t)};mn.useLayoutEffect=function(e,t){return qo.current.useLayoutEffect(e,t)};mn.useMemo=function(e,t){return qo.current.useMemo(e,t)};mn.useReducer=function(e,t,n){return qo.current.useReducer(e,t,n)};mn.useRef=function(e){return qo.current.useRef(e)};mn.useState=function(e){return qo.current.useState(e)};mn.useSyncExternalStore=function(e,t,n){return qo.current.useSyncExternalStore(e,t,n)};mn.useTransition=function(){return qo.current.useTransition()};mn.version="18.3.1";jhe.exports=mn;var f=jhe.exports;const Ye=Pe(f);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h4e=f,p4e=Symbol.for("react.element"),m4e=Symbol.for("react.fragment"),g4e=Object.prototype.hasOwnProperty,v4e=h4e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,y4e={key:!0,ref:!0,__self:!0,__source:!0};function Nhe(e,t,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)g4e.call(t,r)&&!y4e.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:p4e,type:e,key:a,ref:o,props:i,_owner:v4e.current}}$I.Fragment=m4e;$I.jsx=Nhe;$I.jsxs=Nhe;Ahe.exports=$I;var u=Ahe.exports;function f0(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function qs(e){return f0(e)&&typeof e._ref=="string"}function b4e(e){return f0(e)&&qs(e.asset)&&e.asset._ref.startsWith("image-")}function Lhe(e){return f0(e)&&typeof e._ref=="string"&&typeof e._dataset=="string"&&typeof e._projectId=="string"}function x4e(e){return f0(e)&&typeof e._id=="string"&&typeof e._type=="string"}function $C(e){return f0(e)&&typeof e._type=="string"}function Uu(e){return f0(e)&&typeof e._key=="string"}function P9(e){return e.level==="error"}function Bhe(e){return e.level==="warning"}function w4e(e){return e.level==="info"}const C4e=/_key\s*==\s*['"](.*)['"]/,S4e=/^\d*:\d*$/;function Cs(e){return typeof e=="number"||typeof e=="string"&&/^\[\d+\]$/.test(e)}function Pn(e){return typeof e=="string"?C4e.test(e.trim()):typeof e=="object"&&"_key"in e}function gp(e){if(typeof e=="string"&&S4e.test(e))return!0;if(!Array.isArray(e)||e.length!==2)return!1;const[t,n]=e;return(typeof t=="number"||t==="")&&(typeof n=="number"||n==="")}function s5(e){return!!e&&(typeof e=="object"||typeof e=="function")}function yr(e){return s5(e)&&typeof e._type=="string"&&Array.isArray(e.children)&&e.children.every(t=>s5(t))&&("markDefs"in e?Array.isArray(e.markDefs)&&e.markDefs.every(t=>s5(t)):!0)&&("style"in e?typeof e.style=="string":!0)}function Ti(e){return s5(e)&&e._type==="span"&&typeof e.text=="string"&&("marks"in e?Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"):!0)}function _4e(e){return yr(e)&&"listItem"in e&&typeof e.listItem=="string"&&"level"in e&&Number.isInteger(e.level)}function Ka(e){return!!e&&(typeof e=="object"||typeof e=="function")}function E4e(e){if(!Bi(e))return!1;let t=e;for(;t;){if(t.name==="document")return!0;t=t.type}return!1}function Bi(e){return Ka(e)?e.jsonType==="object":!1}function Is(e){return Ka(e)?e.jsonType==="array":!1}function ng(e){return Is(e)&&e.of.some(t=>L9(t))}function Fp(e){return Is(e)&&e.of.every(t=>Bi(t))}function OI(e){return Is(e)&&e.of.every(t=>MI(t))}function n2(e){return Ka(e)?e.jsonType==="boolean":!1}function F9(e){return Ka(e)?e.jsonType==="string":!1}function vp(e){return Ka(e)?e.jsonType==="number":!1}function MI(e){return n2(e)||F9(e)||vp(e)}function Zs(e){return Ka(e)&&(e.name==="reference"||Zs(e.type))}function m1(e){return Ka(e)&&(e.name==="image"||m1(e.type))}function OC(e){return Ka(e)&&(e.name==="file"||OC(e.type))}function Vhe(e){return Ka(e)?typeof e.deprecated<"u":!1}function N9(e){return Ka(e)&&(e.name==="crossDatasetReference"||N9(e.type))}function RI(e){return typeof e=="object"&&e!==null&&"title"in e&&"value"in e}function k4e(e){return Ka(e)?Array.isArray(e.annotations)&&Array.isArray(e.decorators):!1}function L9(e){if(!Ka(e)||!Array.isArray(e.fields))return!1;const t=e.fields.find(B4),n=e.fields.find(N4),r=e.fields.find(L4);return B4(t)&&N4(n)&&L4(r)}function N4(e){return!Ka(e)||e.name!=="style"?!1:Ka(e.type)&&e.type.jsonType==="string"}function L4(e){return!Ka(e)||e.name!=="listItem"?!1:Ka(e.type)&&e.type.jsonType==="string"}function B4(e){return!Ka(e)||e.name!=="children"||!Is(e.type)?!1:e.type.of.some(k4e)}function zhe(e,t){return e}function Hd(e,t){return e}function T4e(e,t){return e}function A4e(e){return f0(e)&&typeof e.current=="string"}function j4e(e){return e.level==="error"}function I4e(e){return e.level==="warning"}const D4e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$4e=/_key\s*==\s*['"](.*)['"]/,Uhe=[],O4e="$",M4e=["true","false","null"];function Uy(e,t,n){const r=typeof t=="string"?el(t):t;if(!Array.isArray(r))throw new Error("Path must be an array or a string");let i=e;for(let a=0;a<r.length;a++){const o=r[a];if(Cs(o)){if(!Array.isArray(i))return n;i=i[o]}if(Pn(o)){if(!Array.isArray(i))return n;i=i.find(s=>s._key===o._key)}if(typeof o=="string"&&(i=typeof i=="object"&&i!==null?i[o]:void 0),typeof i>"u")return n}return i}const uR=new Map;function Wc(e){if(e.length===0)return Uhe;const t=qt(e);return uR.has(t)?uR.get(t):(uR.set(t,e),Object.freeze(e),e)}function vr(e,t){return e.length===t.length&&e.every((n,r)=>PI(n,t[r]))}function R4e(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++)if(!PI(e[r],t[r]))return r;return n}function PI(e,t){return Pn(e)&&Pn(t)?e._key===t._key:Cs(e)?Number(e)===Number(t):gp(e)&&gp(t)?e[0]===t[0]&&e[1]===t[1]:e===t}function Ua(e,t){return e.every((n,r)=>PI(n,t[r]))}function Hw(e,t){if(e.length===0||t.length===0)return t;const[n,...r]=e,[i,...a]=t;return PI(n,i)?Wc(Hw(r,a)):t}function B9(e,t){return Ua(e,t)?Hw(e,t):Uhe}function qt(e){if(!Array.isArray(e))throw new Error("Path is not an array");return e.reduce((t,n,r)=>{const i=r===0;if(typeof n=="number")return`${t}[${n}]`;if(typeof n=="string")return i?n:M4e.includes(n)?`${t}["${n}"]`:`${t}.${n}`;if(Pn(n)&&n._key)return`${t}[_key=="${n._key}"]`;if(Array.isArray(n)){const[a,o]=n;return`${t}[${a}:${o}]`}throw new Error(`Unsupported path segment \`${JSON.stringify(n)}\``)},"")}function V4(e,t){if(t.length===0)return t;const[n,...r]=t;if(typeof n=="number"){if(!Array.isArray(e)||!(n in e))return[];const a=e[n];return[typeof(a==null?void 0:a._key)=="string"?{_key:a._key}:n,...V4(a,r)]}const i=Uy(e,[n]);return[n,...V4(i,r)]}function P4e(e,t){if(!Array.isArray(t))throw new Error("Path is not an array");return Wc(V4(e,t))}function el(e){if(typeof e!="string")throw new Error("Path is not a string");const t=e.match(D4e);if(!t)throw new Error("Invalid path string");return t.map(F4e)}function F4e(e){return Cs(e)?N4e(e):Pn(e)?L4e(e):gp(e)?B4e(e):e}function N4e(e){return Number(e.replace(/[^\d]/g,""))}function L4e(e){return{_key:e.match($4e)[1]}}function B4e(e){const[t,n]=e.split(":").map(r=>r===""?r:Number(r));return[t,n]}var V4e=typeof Element<"u",z4e=typeof Map=="function",U4e=typeof Set=="function",H4e=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function l5(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!l5(e[r],t[r]))return!1;return!0}var a;if(z4e&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(a=e.entries();!(r=a.next()).done;)if(!t.has(r.value[0]))return!1;for(a=e.entries();!(r=a.next()).done;)if(!l5(r.value[1],t.get(r.value[0])))return!1;return!0}if(U4e&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(a=e.entries();!(r=a.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(H4e&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(V4e&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&e.$$typeof)&&!l5(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}var W4e=function(t,n){try{return l5(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const _g=Pe(W4e),Pl="3.52.4",TK="https://www.sanity.io/help/missing-context-error";function Ko(e,t){const n=Symbol.for(e);if(typeof document>"u")return f.createContext(t);if(!lx[n])lx[n]={context:f.createContext(t),version:Pl};else{if(lx[n].version!==Pl)throw new TypeError(`Duplicate instances of context "${e}" with incompatible versions detected: Expected ${Pl} but got ${lx[n].version}.

For more information, please visit ${TK}`);AK.has(Pl)||(console.warn(`Duplicate instances of context "${e}" detected. This is likely a mistake and may cause unexpected behavior.

For more information, please visit ${TK}`),AK.add(Pl))}return lx[n].context}const AK=new Set;function G4e(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global;throw new Error("sanity: could not locate global scope")}const lx=G4e(),Hhe=f.createContext(null),Whe=f.createContext(null),h0=f.createContext({isReviewChangesOpen:!1,onOpenReviewChanges:()=>{},onSetFocus:()=>{}}),Y4e=f.createContext({selected:!1}),z4=f.createContext(null),q4e={navbar:200,navbarPopover:5e5,navbarDialog:500001,pane:100,paneHeader:[110,15e3],paneFooter:[120,2e4],paneResizer:[130,25e3],paneDialog:[140,5e3],popover:200,modal:200,movingItem:1e4,drawershade:1e6,drawer:1000001,fullscreen:12e5,toast:[100,11e3],portal:200,dropdown:200,navbarFixed:1010,fullscreenEdit:1050,popoverBackground:1060,tooltip:200,modalBackground:2e3,spinner:3e3},K4e=f.createContext(q4e),mf=f.createContext({path:[]}),Ghe=f.createContext(null),Yhe=f.createContext(null),qhe=f.createContext({actions:[],focused:!1,hovered:!1,onMouseEnter:()=>{},onMouseLeave:()=>{}}),Khe=f.createContext({hoveredStack:[],onMouseEnter:()=>{},onMouseLeave:()=>{}}),Zhe=f.createContext(null),Xhe=Ko("sanity/_singletons/context/form-value",null),Jhe=Ko("sanity/_singletons/context/get-form-value",null),Qhe=f.createContext(null),epe=f.createContext(null),tpe=f.createContext([]),V9=f.createContext([]),npe=f.createContext(null),rpe=f.createContext(null),z9=f.createContext(null),ipe=f.createContext([]),ape=f.createContext({});f.createContext(null);const ope=f.createContext({enabled:!1,legacyEditing:!1}),spe=f.createContext([]),U9=Ko("sanity/_singletons/context/locale",void 0),Z4e=f.createContext([]),lpe=f.createContext(null),upe=f.createContext(null),cpe=f.createContext(void 0),dpe=f.createContext(null),fpe=f.createContext({upsellData:null,handleOpenDialog:()=>null,upsellDialogOpen:!1,telemetryLogs:{dialogSecondaryClicked:()=>null,dialogPrimaryClicked:()=>null,panelViewed:()=>null,panelDismissed:()=>null,panelPrimaryClicked:()=>null,panelSecondaryClicked:()=>null}}),hpe=f.createContext(void 0),ppe=Ko("sanity/_singletons/context/resource-cache",null),mpe=Ko("sanity/_singletons/context/active-workspace-matcher",null),gpe=f.createContext(null),FI=f.createContext(null),NI=f.createContext(null),vpe=f.createContext(void 0),ype=f.createContext(void 0),bpe=f.createContext(void 0),xpe=f.createContext(null),wpe=f.createContext({onSearchFullscreenOpenChange:()=>"",onSearchOpenChange:()=>"",searchFullscreenOpen:!1,searchFullscreenPortalEl:null,searchOpen:!1}),Cpe=f.createContext(null),u5=Ko("sanity/_singletons/context/source",null),Spe=Ko("sanity/_singletons/context/workspace",null),_pe=Ko("sanity/_singletons/context/workspaces",null),Epe=f.createContext({enabled:!1,mode:null}),kpe=f.createContext(!1),Tpe=f.createContext(null),Ape=f.createContext(null),jpe=f.createContext(null),Ipe=f.createContext(null),Dpe=f.createContext(null),H9=Ko("sanity/_singletons/context/router",null),$pe=f.createContext(null),Ope=f.createContext(null),Mpe=f.createContext(null),Rpe=f.createContext({enabled:!1,mode:null}),Ppe=Ko("sanity/_singletons/context/comments-intent",void 0),Fpe=f.createContext(null),Npe=f.createContext(null),Lpe=f.createContext(null),Bpe=Ko("sanity/_singletons/context/pane",null),Vpe=Ko("sanity/_singletons/context/pane-layout",null);function ss(){throw new Error("Pane is missing router context")}const LI=Ko("sanity/_singletons/context/pane-router",{index:0,groupIndex:0,siblingIndex:0,payload:void 0,params:{},hasGroupSiblings:!1,groupLength:0,routerPanesState:[],BackLink:()=>ss(),ChildLink:()=>ss(),ReferenceChildLink:()=>ss(),handleEditReference:()=>ss(),ParameterizedLink:()=>ss(),replaceCurrent:()=>ss(),closeCurrentAndAfter:()=>ss(),closeCurrent:()=>ss(),duplicateCurrent:()=>ss(),setView:()=>ss(),setParams:()=>ss(),setPayload:()=>ss(),navigateIntent:()=>ss(),createPathWithParams:()=>ss()}),zpe=Ko("sanity/_singletons/context/document-pane",null),Upe=f.createContext(void 0),Hpe=Ko("sanity/_singletons/context/structure-tool",null);function X4e(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var su=X4e;const BI=Pe(su);var J4e=typeof ya=="object"&&ya&&ya.Object===Object&&ya,Wpe=J4e,Q4e=Wpe,eNe=typeof self=="object"&&self&&self.Object===Object&&self,tNe=Q4e||eNe||Function("return this")(),lu=tNe,nNe=lu,rNe=function(){return nNe.Date.now()},iNe=rNe,aNe=/\s/;function oNe(e){for(var t=e.length;t--&&aNe.test(e.charAt(t)););return t}var sNe=oNe,lNe=sNe,uNe=/^\s+/;function cNe(e){return e&&e.slice(0,lNe(e)+1).replace(uNe,"")}var Gpe=cNe,dNe=lu,fNe=dNe.Symbol,Hy=fNe,jK=Hy,Ype=Object.prototype,hNe=Ype.hasOwnProperty,pNe=Ype.toString,ux=jK?jK.toStringTag:void 0;function mNe(e){var t=hNe.call(e,ux),n=e[ux];try{e[ux]=void 0;var r=!0}catch{}var i=pNe.call(e);return r&&(t?e[ux]=n:delete e[ux]),i}var gNe=mNe,vNe=Object.prototype,yNe=vNe.toString;function bNe(e){return yNe.call(e)}var xNe=bNe,IK=Hy,wNe=gNe,CNe=xNe,SNe="[object Null]",_Ne="[object Undefined]",DK=IK?IK.toStringTag:void 0;function ENe(e){return e==null?e===void 0?_Ne:SNe:DK&&DK in Object(e)?wNe(e):CNe(e)}var Nf=ENe;function kNe(e){return e!=null&&typeof e=="object"}var ul=kNe,TNe=Nf,ANe=ul,jNe="[object Symbol]";function INe(e){return typeof e=="symbol"||ANe(e)&&TNe(e)==jNe}var p0=INe,DNe=Gpe,$K=su,$Ne=p0,OK=0/0,ONe=/^[-+]0x[0-9a-f]+$/i,MNe=/^0b[01]+$/i,RNe=/^0o[0-7]+$/i,PNe=parseInt;function FNe(e){if(typeof e=="number")return e;if($Ne(e))return OK;if($K(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=$K(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=DNe(e);var n=MNe.test(e);return n||RNe.test(e)?PNe(e.slice(2),n?2:8):ONe.test(e)?OK:+e}var qpe=FNe,NNe=su,cR=iNe,MK=qpe,LNe="Expected a function",BNe=Math.max,VNe=Math.min;function zNe(e,t,n){var r,i,a,o,s,l,c=0,d=!1,h=!1,p=!0;if(typeof e!="function")throw new TypeError(LNe);t=MK(t)||0,NNe(n)&&(d=!!n.leading,h="maxWait"in n,a=h?BNe(MK(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p);function m(_){var E=r,k=i;return r=i=void 0,c=_,o=e.apply(k,E),o}function g(_){return c=_,s=setTimeout(y,t),d?m(_):o}function v(_){var E=_-l,k=_-c,T=t-E;return h?VNe(T,a-k):T}function b(_){var E=_-l,k=_-c;return l===void 0||E>=t||E<0||h&&k>=a}function y(){var _=cR();if(b(_))return x(_);s=setTimeout(y,v(_))}function x(_){return s=void 0,p&&r?m(_):(r=i=void 0,o)}function w(){s!==void 0&&clearTimeout(s),c=0,r=l=i=s=void 0}function C(){return s===void 0?o:x(cR())}function S(){var _=cR(),E=b(_);if(r=arguments,i=this,l=_,E){if(s===void 0)return g(l);if(h)return clearTimeout(s),s=setTimeout(y,t),m(l)}return s===void 0&&(s=setTimeout(y,t)),o}return S.cancel=w,S.flush=C,S}var Kpe=zNe;const m0=Pe(Kpe),Xn={_version:2,avatar:{sizes:[{distance:-4,size:19},{distance:-4,size:25},{distance:-8,size:33},{distance:-12,size:49}],focusRing:{offset:1,width:1}},button:{textWeight:"medium",border:{width:1},focusRing:{offset:-1,width:1}},card:{border:{width:1},focusRing:{offset:-1,width:1},shadow:{outline:.5}},container:[320,640,960,1280,1600,1920],media:[360,600,900,1200,1800,2400],layer:{dialog:{zOffset:600},popover:{zOffset:400},tooltip:{zOffset:200}},radius:[0,1,3,6,9,12,21],shadow:[null,{umbra:[0,0,0,0],penumbra:[0,0,0,0],ambient:[0,0,0,0]},{umbra:[0,3,5,-2],penumbra:[0,6,10,0],ambient:[0,1,18,1]},{umbra:[0,7,8,-4],penumbra:[0,12,17,2],ambient:[0,5,22,4]},{umbra:[0,9,11,-5],penumbra:[0,18,28,2],ambient:[0,7,34,6]},{umbra:[0,11,15,-7],penumbra:[0,24,38,3],ambient:[0,9,46,8]}],space:[0,4,8,12,20,32,52,84,136,220],input:{border:{width:1},checkbox:{size:17,focusRing:{offset:-1,width:1}},radio:{size:17,markSize:9,focusRing:{offset:-1,width:1}},switch:{width:25,height:17,padding:5,transitionDurationMs:150,transitionTimingFunction:"ease-out",focusRing:{offset:1,width:1}},select:{focusRing:{offset:-1,width:1}},text:{focusRing:{offset:-1,width:1}}},style:{button:{root:{transition:"background-color 100ms,border-color 100ms,color 100ms"}}}},RK=new WeakMap;function Rs(e){var t,n,r;const i=RK.get(e);if(i)return i;const a=kr(e,e.card.enabled),o={_blend:e._blend||(e.dark?"screen":"multiply"),_dark:e.dark,accent:a.accent,avatar:a.avatar,backdrop:e.base.shadow.ambient,badge:a.badge,bg:e.base.bg,border:e.base.border,button:{default:K_(e,e.button.default),ghost:K_(e,e.button.ghost),bleed:K_(e,e.button.bleed)},code:a.code,fg:e.base.fg,focusRing:e.base.focusRing,icon:a.muted.fg,input:{default:PK(e.input.default),invalid:PK(e.input.invalid)},kbd:a.kbd,link:a.link,muted:{...a.muted,bg:((t=e.selectable)==null?void 0:t.default.enabled.bg2)||e.base.bg},selectable:K_(e,e.selectable||e.muted),shadow:e.base.shadow,skeleton:{from:((n=e.skeleton)==null?void 0:n.from)||e.base.border,to:((r=e.skeleton)==null?void 0:r.to)||e.base.border},syntax:e.syntax};return RK.set(e,o),o}function K_(e,t){return{default:{enabled:kr(e,t.default.enabled),hovered:kr(e,t.default.hovered),pressed:kr(e,t.default.pressed),selected:kr(e,t.default.selected),disabled:kr(e,t.default.disabled)},primary:{enabled:kr(e,t.primary.enabled),hovered:kr(e,t.primary.hovered),pressed:kr(e,t.primary.pressed),selected:kr(e,t.primary.selected),disabled:kr(e,t.primary.disabled)},positive:{enabled:kr(e,t.positive.enabled),hovered:kr(e,t.positive.hovered),pressed:kr(e,t.positive.pressed),selected:kr(e,t.positive.selected),disabled:kr(e,t.positive.disabled)},caution:{enabled:kr(e,t.caution.enabled),hovered:kr(e,t.caution.hovered),pressed:kr(e,t.caution.pressed),selected:kr(e,t.caution.selected),disabled:kr(e,t.caution.disabled)},critical:{enabled:kr(e,t.critical.enabled),hovered:kr(e,t.critical.hovered),pressed:kr(e,t.critical.pressed),selected:kr(e,t.critical.selected),disabled:kr(e,t.critical.disabled)}}}function kr(e,t){var n,r;return{...t,avatar:{gray:{bg:e.spot.gray,fg:e.base.bg},blue:{bg:e.spot.blue,fg:e.base.bg},purple:{bg:e.spot.purple,fg:e.base.bg},magenta:{bg:e.spot.magenta,fg:e.base.bg},red:{bg:e.spot.red,fg:e.base.bg},orange:{bg:e.spot.orange,fg:e.base.bg},yellow:{bg:e.spot.yellow,fg:e.base.bg},green:{bg:e.spot.green,fg:e.base.bg},cyan:{bg:e.spot.cyan,fg:e.base.bg}},badge:{default:{bg:e.muted.default.enabled.bg,fg:e.muted.default.enabled.fg,dot:e.muted.default.enabled.muted.fg,icon:e.muted.default.enabled.muted.fg},primary:{bg:e.muted.primary.enabled.bg,fg:e.muted.primary.enabled.fg,dot:e.muted.primary.enabled.muted.fg,icon:e.muted.primary.enabled.muted.fg},positive:{bg:e.muted.positive.enabled.bg,fg:e.muted.positive.enabled.fg,dot:e.muted.positive.enabled.muted.fg,icon:e.muted.positive.enabled.muted.fg},caution:{bg:e.muted.caution.enabled.bg,fg:e.muted.caution.enabled.fg,dot:e.muted.caution.enabled.muted.fg,icon:e.muted.caution.enabled.muted.fg},critical:{bg:e.muted.critical.enabled.bg,fg:e.muted.critical.enabled.fg,dot:e.muted.critical.enabled.muted.fg,icon:e.muted.critical.enabled.muted.fg}},kbd:{bg:e.muted.default.enabled.bg,fg:e.muted.default.enabled.fg,border:e.muted.default.enabled.border},muted:{...e.muted.default.enabled.muted,bg:t.bg2||t.bg},skeleton:{from:((n=t.skeleton)==null?void 0:n.from)||t.border,to:((r=t.skeleton)==null?void 0:r.to)||t.border}}}function PK(e){return{enabled:Z_(e.enabled),disabled:Z_(e.disabled),readOnly:Z_(e.readOnly),hovered:Z_(e.hovered)}}function Z_(e){return{bg:e.bg,border:e.border,fg:e.fg,muted:{bg:e.bg2},placeholder:e.placeholder}}const FK=new WeakMap;function Ee(e){var t,n;if((t=e.sanity.v2)!=null&&t._resolved)return e.sanity.v2;const r=FK.get(e);if(r)return r;const i={_version:2,_resolved:!0,avatar:{...Xn.avatar,...e.sanity.avatar},button:{...Xn.button,...e.sanity.button},card:Xn.card,color:Rs(e.sanity.color),container:e.sanity.container,font:e.sanity.fonts,input:{...Xn.input,...e.sanity.input,checkbox:{...Xn.input.checkbox,...e.sanity.input.checkbox},radio:{...Xn.input.radio,...e.sanity.input.radio},switch:{...Xn.input.switch,...e.sanity.input.switch}},layer:(n=e.sanity.layer)!=null?n:Xn.layer,media:e.sanity.media,radius:e.sanity.radius,shadow:e.sanity.shadows,space:e.sanity.space,style:e.sanity.styles};return FK.set(e,i),i}const W9=["gray","blue","purple","magenta","red","orange","yellow","green","cyan"],UNe=["50","100","200","300","400","500","600","700","800","900","950"],c5={title:"Black",hex:"#0d0e12"},rf={title:"White",hex:"#ffffff"},Ww={50:{title:"Gray 50",hex:"#f6f6f8"},100:{title:"Gray 100",hex:"#eeeef1"},200:{title:"Gray 200",hex:"#e3e4e8"},300:{title:"Gray 300",hex:"#bbbdc9"},400:{title:"Gray 400",hex:"#9499ad"},500:{title:"Gray 500",hex:"#727892"},600:{title:"Gray 600",hex:"#515870"},700:{title:"Gray 700",hex:"#383d51"},800:{title:"Gray 800",hex:"#252837"},900:{title:"Gray 900",hex:"#1b1d27"},950:{title:"Gray 950",hex:"#13141b"}},hw={50:{title:"Blue 50",hex:"#f5f8ff"},100:{title:"Blue 100",hex:"#e5edff"},200:{title:"Blue 200",hex:"#dbe5ff"},300:{title:"Blue 300",hex:"#a8bfff"},400:{title:"Blue 400",hex:"#7595ff"},500:{title:"Blue 500",hex:"#556bfc"},600:{title:"Blue 600",hex:"#4043e7"},700:{title:"Blue 700",hex:"#2927aa"},800:{title:"Blue 800",hex:"#192457"},900:{title:"Blue 900",hex:"#161a41"},950:{title:"Blue 950",hex:"#101228"}},Zpe={50:{title:"Purple 50",hex:"#f8f5ff"},100:{title:"Purple 100",hex:"#f1ebff"},200:{title:"Purple 200",hex:"#ece1fe"},300:{title:"Purple 300",hex:"#ccb1fc"},400:{title:"Purple 400",hex:"#b087f7"},500:{title:"Purple 500",hex:"#8f57ef"},600:{title:"Purple 600",hex:"#721fe5"},700:{title:"Purple 700",hex:"#4c1a9e"},800:{title:"Purple 800",hex:"#2f1862"},900:{title:"Purple 900",hex:"#23173f"},950:{title:"Purple 950",hex:"#181128"}},HNe={50:{title:"Magenta 50",hex:"#fef6f9"},100:{title:"Magenta 100",hex:"#fde8ef"},200:{title:"Magenta 200",hex:"#fcdee9"},300:{title:"Magenta 300",hex:"#f7abc5"},400:{title:"Magenta 400",hex:"#f0709b"},500:{title:"Magenta 500",hex:"#e72767"},600:{title:"Magenta 600",hex:"#b11651"},700:{title:"Magenta 700",hex:"#7c1342"},800:{title:"Magenta 800",hex:"#4b1130"},900:{title:"Magenta 900",hex:"#341325"},950:{title:"Magenta 950",hex:"#1f0f14"}},Eg={50:{title:"Red 50",hex:"#fff6f5"},100:{title:"Red 100",hex:"#ffe7e5"},200:{title:"Red 200",hex:"#ffdedc"},300:{title:"Red 300",hex:"#fdada5"},400:{title:"Red 400",hex:"#f77769"},500:{title:"Red 500",hex:"#ef4434"},600:{title:"Red 600",hex:"#cc2819"},700:{title:"Red 700",hex:"#8b2018"},800:{title:"Red 800",hex:"#4d1714"},900:{title:"Red 900",hex:"#321615"},950:{title:"Red 950",hex:"#1e1011"}},WNe={50:{title:"Orange 50",hex:"#fff7f0"},100:{title:"Orange 100",hex:"#ffeadb"},200:{title:"Orange 200",hex:"#ffddc7"},300:{title:"Orange 300",hex:"#ffb685"},400:{title:"Orange 400",hex:"#ff8e42"},500:{title:"Orange 500",hex:"#fa6400"},600:{title:"Orange 600",hex:"#b14802"},700:{title:"Orange 700",hex:"#7c3404"},800:{title:"Orange 800",hex:"#461e07"},900:{title:"Orange 900",hex:"#32160b"},950:{title:"Orange 950",hex:"#21120d"}},OT={50:{title:"Yellow 50",hex:"#fefae1"},100:{title:"Yellow 100",hex:"#fcf3bb"},200:{title:"Yellow 200",hex:"#f9e994"},300:{title:"Yellow 300",hex:"#f7d455"},400:{title:"Yellow 400",hex:"#f9bc15"},500:{title:"Yellow 500",hex:"#d28a04"},600:{title:"Yellow 600",hex:"#965908"},700:{title:"Yellow 700",hex:"#653a0b"},800:{title:"Yellow 800",hex:"#3b220c"},900:{title:"Yellow 900",hex:"#271a11"},950:{title:"Yellow 950",hex:"#181410"}},U4={50:{title:"Green 50",hex:"#e7fef5"},100:{title:"Green 100",hex:"#c5fce8"},200:{title:"Green 200",hex:"#a9f9dc"},300:{title:"Green 300",hex:"#59f3ba"},400:{title:"Green 400",hex:"#0ff0a1"},500:{title:"Green 500",hex:"#04b97a"},600:{title:"Green 600",hex:"#01794f"},700:{title:"Green 700",hex:"#015133"},800:{title:"Green 800",hex:"#023120"},900:{title:"Green 900",hex:"#06231a"},950:{title:"Green 950",hex:"#071715"}},GNe={50:{title:"Cyan 50",hex:"#e7fefe"},100:{title:"Cyan 100",hex:"#c5fcfc"},200:{title:"Cyan 200",hex:"#96f8f8"},300:{title:"Cyan 300",hex:"#62efef"},400:{title:"Cyan 400",hex:"#18e2e2"},500:{title:"Cyan 500",hex:"#04b8be"},600:{title:"Cyan 600",hex:"#037782"},700:{title:"Cyan 700",hex:"#024950"},800:{title:"Cyan 800",hex:"#042f34"},900:{title:"Cyan 900",hex:"#072227"},950:{title:"Cyan 950",hex:"#0d181c"}},Qe={gray:Ww,blue:hw,purple:Zpe,magenta:HNe,red:Eg,orange:WNe,yellow:OT,green:U4,cyan:GNe},YNe={black:c5,white:rf,...Qe},qNe={code:{family:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace",weights:{regular:400,medium:500,semibold:600,bold:700},sizes:[{ascenderHeight:4,descenderHeight:4,fontSize:10,iconSize:17,lineHeight:15,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:13,iconSize:21,lineHeight:19,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:16,iconSize:25,lineHeight:23,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:19,iconSize:29,lineHeight:27,letterSpacing:0},{ascenderHeight:8,descenderHeight:8,fontSize:22,iconSize:33,lineHeight:31,letterSpacing:0}]},heading:{family:'Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", Helvetica, Arial, system-ui, sans-serif',weights:{regular:700,medium:800,semibold:900,bold:900},sizes:[{ascenderHeight:5,descenderHeight:5,fontSize:13,iconSize:17,lineHeight:19,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:16,iconSize:25,lineHeight:23,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:21,iconSize:33,lineHeight:29,letterSpacing:0},{ascenderHeight:8,descenderHeight:8,fontSize:27,iconSize:41,lineHeight:35,letterSpacing:0},{ascenderHeight:9.5,descenderHeight:8.5,fontSize:33,iconSize:49,lineHeight:41,letterSpacing:0},{ascenderHeight:10.5,descenderHeight:9.5,fontSize:38,iconSize:53,lineHeight:47,letterSpacing:0}]},label:{family:'Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", system-ui, sans-serif',weights:{regular:600,medium:700,semibold:800,bold:900},sizes:[{ascenderHeight:2,descenderHeight:2,fontSize:8.1,iconSize:13,lineHeight:10,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:9.5,iconSize:15,lineHeight:11,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:10.8,iconSize:17,lineHeight:12,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:12.25,iconSize:19,lineHeight:13,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:13.6,iconSize:21,lineHeight:14,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:15,iconSize:23,lineHeight:15,letterSpacing:.5}]},text:{family:'Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", Helvetica, Arial, system-ui, sans-serif',weights:{regular:400,medium:500,semibold:600,bold:700},sizes:[{ascenderHeight:4,descenderHeight:4,fontSize:10,iconSize:17,lineHeight:15,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:13,iconSize:21,lineHeight:19,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:15,iconSize:25,lineHeight:23,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:18,iconSize:29,lineHeight:27,letterSpacing:0},{ascenderHeight:8,descenderHeight:8,fontSize:21,iconSize:33,lineHeight:31,letterSpacing:0}]}};function NK(e){return e._version===2}const LK=new WeakMap;function KNe(e){if(e.v2)return e.v2;const t=LK.get(e);if(t)return t;const{avatar:n,button:r,color:i,container:a,focusRing:o,fonts:s,input:l,layer:c,media:d,radius:h,shadows:p,space:m,styles:g}=e,v={_version:2,avatar:{...Xn.avatar,...n},button:{...Xn.button,...r},card:Xn.card,color:{light:{transparent:Rs(i.light.transparent),default:Rs(i.light.default),primary:Rs(i.light.primary),positive:Rs(i.light.positive),caution:Rs(i.light.caution),critical:Rs(i.light.critical)},dark:{transparent:Rs(i.dark.transparent),default:Rs(i.dark.default),primary:Rs(i.dark.primary),positive:Rs(i.dark.positive),caution:Rs(i.dark.caution),critical:Rs(i.dark.critical)}},container:a,font:s,input:{...Xn.input,...l,checkbox:{...Xn.input.checkbox,...l.checkbox},radio:{...Xn.input.radio,...l.radio},switch:{...Xn.input.switch,...l.switch}},layer:c??Xn.layer,media:d,radius:h,shadow:p,space:m,style:g};return LK.set(e,v),v}const ZNe=new WeakMap;function Xpe(e){const t=ZNe.get(e);if(t)return t;const{avatar:n,button:r,color:i,container:a,font:o,input:s,media:l,radius:c,shadow:d,space:h,style:p}=e;return{_version:0,avatar:n,button:r,container:a,color:{light:{transparent:xl(i.light.transparent),default:xl(i.light.default),primary:xl(i.light.primary),positive:xl(i.light.positive),caution:xl(i.light.caution),critical:xl(i.light.critical)},dark:{transparent:xl(i.dark.transparent),default:xl(i.dark.default),primary:xl(i.dark.primary),positive:xl(i.dark.positive),caution:xl(i.dark.caution),critical:xl(i.dark.critical)}},focusRing:s.text.focusRing,fonts:o,input:s,media:l,radius:c,shadows:d,space:h,styles:p,v2:e}}function xl(e){return{base:{bg:e.bg,fg:e.fg,border:e.border,focusRing:e.focusRing,shadow:e.shadow},button:e.button,card:e.selectable.default,dark:e._dark,input:{default:BK(e.input.default),invalid:BK(e.input.invalid)},muted:{...e.button.ghost,transparent:e.button.ghost.default},solid:{...e.button.default,transparent:e.button.default.default},selectable:e.selectable,spot:{gray:e.avatar.gray.bg,blue:e.avatar.blue.bg,purple:e.avatar.purple.bg,magenta:e.avatar.magenta.bg,red:e.avatar.red.bg,orange:e.avatar.orange.bg,yellow:e.avatar.yellow.bg,green:e.avatar.green.bg,cyan:e.avatar.cyan.bg},syntax:e.syntax}}function BK(e){return{enabled:X_(e.enabled),disabled:X_(e.disabled),readOnly:X_(e.readOnly),hovered:X_(e.hovered)}}function X_(e){return{bg:e.bg,bg2:e.muted.bg,border:e.border,fg:e.fg,placeholder:e.placeholder}}const XNe=["multiply","screen"],Jpe=["transparent","default","primary","positive","caution","critical"],r2=["default","primary","positive","caution","critical"],i2=["enabled","hovered","pressed","selected","disabled"],Qpe=["default","ghost","bleed"],eme=["default","invalid"],tme=["enabled","hovered","readOnly","disabled"];function JNe(e){return XNe.includes(e)}function QNe(e){return W9.includes(e)}function VK(e){return UNe.includes(e)}[...Jpe];[...r2];[...i2];[...eme];[...tme];function dR(e){return/^\d+%$/.test(e)}function nme(e){const t=e.split("/");let n=t.shift()||"";const[r,i]=n.split(" ");if(VK(r)){const a=r,o=t.shift()||"";if(dR(i)){const s=Number(i.slice(0,-1))/100;return{type:"color",tint:a,mix:s}}if(fR(o)){const s=Number(o);return{type:"color",tint:a,opacity:s}}return{type:"color",tint:a}}if(eLe(r)){const a=r,o=t.shift()||"";if(dR(i)){const s=Number(i.slice(0,-1))/100;return{type:"color",key:a,mix:s}}if(fR(o)){const s=Number(o);return{type:"color",key:a,opacity:s}}return{type:"color",key:a}}if(QNe(r)){const a=r;n=t.shift()||"";const[o,s]=n.split(" ");if(VK(o)){const l=o,c=t.shift()||"";if(dR(s)){const d=Number(s.slice(0,-1))/100;return{type:"color",hue:a,tint:l,mix:d}}if(fR(c)){const d=Number(c);return{type:"color",hue:a,tint:l,opacity:d}}return{type:"color",hue:a,tint:l}}return{type:"hue",value:a}}if(JNe(r))return{type:"blendMode",value:r}}function eLe(e){return e==="black"||e==="white"}function fR(e){return e==="0"||/^0\.[0-9]+$/.test(e)||e==="1"}function tLe(e){let t="";return e.key==="black"||e.key==="white"?t=e.key:t=`${e.hue}/${e.tint}`,e.mix!==void 0?`${t} ${e.mix*100}%`:(e.opacity!==void 0&&(t+=`/${e.opacity}`),t)}const nLe=["500","500"];function Ie(e,t=nLe){const{hue:n,scheme:r}=e,i=nme(t[r==="light"?0:1]);if(!i||i.type!=="color")throw new Error(`Invalid color token: ${t[0]}`);return tLe({...i,hue:i.hue||n})}const rLe={base:{"*":{_blend:["multiply","screen"],accent:{fg:["purple/600","purple/400"]},avatar:{"*":{_blend:["screen","multiply"],bg:["500","400"],fg:["white","black"]}},backdrop:["gray/200/0.5","black/0.5"],badge:{"*":{bg:["100","900"],fg:["600","400"],icon:["500","500"],dot:["500","500"]},positive:{bg:["200 50%","900"],fg:["600","500"]},caution:{bg:["200 50%","900"],fg:["600","500"]}},bg:["50","950"],border:["200","800"],code:{bg:["50","950"],fg:["600","400"]},fg:["800","200"],focusRing:["blue/500","blue/500"],icon:["600","400"],kbd:{bg:["white","black"],fg:["600","400"],border:["200","800"]},link:{fg:["blue/600","blue/300"]},muted:{bg:["50","950"],fg:["700 75%","300 75%"]},shadow:{outline:["500/0.3","500/0.4"],umbra:["gray/500/0.1","black/0.2"],penumbra:["gray/500/0.07","black/0.14"],ambient:["gray/500/0.06","black/0.12"]},skeleton:{from:["100","900"],to:["100 50%","900 50%"]}},transparent:{bg:["50","black"]},default:{bg:["white","950"],fg:["800","200"],muted:{fg:["600","400"]}},primary:{_hue:"blue"},positive:{_hue:"green",shadow:{outline:["500/0.4","500/0.4"]}},caution:{_hue:"yellow",shadow:{outline:["600/0.3","500/0.4"]}},critical:{_hue:"red"}},button:{default:{"*":{"*":{_blend:["screen","multiply"],accent:{fg:["purple/300","purple/700"]},avatar:{"*":{_blend:["screen","multiply"],bg:["500","400"],fg:["white","black"]}},badge:{"*":{bg:["900","100"],fg:["400","600"],dot:["500","500"],icon:["500","500"]}},bg:["500","400"],border:["500/0","400/0"],code:{bg:["500 20%","400 20%"],fg:["200","600"]},fg:["white","black"],icon:["100 70%","900 70%"],kbd:{bg:["black","white"],fg:["200","600"],border:["800","200"]},link:{fg:["blue/200","blue/600"]},muted:{bg:["950","50"],fg:["100 70%","900 70%"]},skeleton:{from:["900","100"],to:["900 50%","100 50%"]}},hovered:{bg:["700","300"],border:["700/0","300/0"]},pressed:{bg:["700","300"]},selected:{bg:["700","300"]},disabled:{_hue:"gray",accent:{fg:["100 70%","900 70%"]},avatar:{"*":{_blend:["screen","multiply"],bg:["gray/500","gray/400"],fg:["white","black"]}},badge:{"*":{bg:["gray/700","gray/300"],fg:["white","black"],dot:["white","black"],icon:["white","black"]}},bg:["300","600"],code:{bg:["950","50"],fg:["300","600"]},fg:["300","600"],muted:{bg:["950","50"],fg:["300","600"]},kbd:{bg:["black","white"],fg:["white","black"],border:["700","300"]},link:{fg:["100 70%","900 70%"]}}},default:{"*":{avatar:{"*":{_blend:["screen","multiply"],bg:["500","400"],fg:["white","black"]}},bg:["800","200"],muted:{bg:["950","50"],fg:["400","600"]}},hovered:{bg:["900","100"]},pressed:{bg:["black","white"]},selected:{bg:["black","white"]}}},ghost:{"*":{"*":{_blend:["multiply","screen"],accent:{fg:["purple/700 60%","purple/300 70%"]},avatar:{"*":{_blend:["screen","multiply"],bg:["500","400"],fg:["white","black"]}},badge:{"*":{bg:["100","900"],fg:["600","400"],dot:["500","500"],icon:["500","500"]}},bg:["50","950"],border:["100","900"],code:{bg:["500 10%","400 10%"],fg:["700 60%","400 60%"]},fg:["600","400"],icon:["700 60%","300 60%"],kbd:{bg:["white","black"],fg:["600","400"],border:["200","800"]},link:{fg:["blue/700 60%","blue/300 60%"]},muted:{bg:["100","950"],fg:["700 60%","300 60%"]},skeleton:{from:["100","900"],to:["100 50%","900 50%"]}},hovered:{bg:["100","900"],fg:["700","300"]},pressed:{bg:["100","900"],fg:["800","200"]},selected:{bg:["100","900"],fg:["800","200"]},disabled:{_hue:"gray",accent:{fg:["200","800"]},avatar:{"*":{_blend:["screen","multiply"],bg:["gray/100","gray/900"],fg:["white","black"]}},badge:{"*":{_hue:"gray",bg:["50","950"],fg:["gray/200","gray/800"],dot:["gray/200","gray/800"],icon:["gray/200","gray/800"]}},border:["100","900"],code:{bg:["50","950"],fg:["200","800"]},fg:["400","600"],icon:["300","700"],muted:{fg:["300","700"]},kbd:{bg:["white","black"],fg:["200","800"],border:["100","900"]},link:{fg:["200","800"]}}},positive:{"*":{border:["600 20%","800"]}},caution:{"*":{border:["600 20%","800"]}}},bleed:{"*":{"*":{_blend:["multiply","screen"],accent:{fg:["purple/700 70%","purple/300 70%"]},avatar:{"*":{_blend:["screen","multiply"],bg:["500","400"],fg:["white","black"]}},badge:{"*":{bg:["100","900"],fg:["600","400"],dot:["500","500"],icon:["500","500"]}},bg:["white","black"],border:["white/0","black/0"],code:{bg:["50","950"],fg:["700 75%","300 75%"]},fg:["700","300"],icon:["700 75%","300 75%"],kbd:{bg:["white","black"],fg:["700","300"],border:["200","800"]},link:{fg:["blue/700 70%","blue/300 70%"]},muted:{bg:["100","950"],fg:["700 75%","300 75%"]},skeleton:{from:["100","900"],to:["100 50%","900 50%"]}},hovered:{bg:["50","950"],icon:["700 70%","400 70%"]},pressed:{bg:["100","900"],fg:["800","200"],icon:["800 70%","200 70%"]},selected:{bg:["100","900"],fg:["800","200"],icon:["800 60%","200 60%"]},disabled:{_hue:"gray",accent:{fg:["200","800"]},avatar:{"*":{_blend:["screen","multiply"],bg:["gray/100","gray/900"],fg:["white","black"]}},badge:{"*":{_hue:"gray",bg:["50","950"],fg:["gray/200","gray/800"],dot:["gray/200","gray/800"],icon:["gray/200","gray/800"]}},code:{bg:["50","950"],fg:["200","800"]},fg:["400","600"],icon:["300","700"],muted:{fg:["400","600"]},kbd:{bg:["white","black"],fg:["200","800"],border:["100","900"]},link:{fg:["200","800"]}}}}},input:{"*":{"*":{_blend:["multiply","screen"],bg:["white","black"],border:["200","800"],fg:["black","200"],muted:{bg:["50","950"]},placeholder:["400","600"]},hovered:{border:["300","700"]},readOnly:{bg:["50","950"],border:["200","800"],fg:["800","200"]},disabled:{fg:["400","600"],border:["100","900"],placeholder:["200","800 50%"]}},invalid:{"*":{_hue:"red",bg:["100","950"]}}},selectable:{"*":{"*":{_blend:["multiply","screen"],accent:{fg:["purple/700 70%","purple/300 70%"]},avatar:{"*":{_blend:["screen","multiply"],bg:["500","400"],fg:["white","black"]}},badge:{"*":{bg:["100","900"],fg:["600","400"],dot:["500","500"],icon:["500","500"]}},bg:["white","black"],border:["200","800"],code:{bg:["50","950"],fg:["600","400"]},fg:["700","300"],icon:["700 75%","300 75%"],kbd:{bg:["white","black"],fg:["600","400"],border:["200","800"]},link:{fg:["blue/700 70%","blue/300 70%"]},muted:{bg:["50","950"],fg:["700 75%","300 75%"]},skeleton:{from:["100","900"],to:["100 50%","900 50%"]}},hovered:{bg:["50","950"]},pressed:{bg:["100","900"]},selected:{_blend:["screen","multiply"],accent:{fg:["purple/300","purple/700"]},avatar:{"*":{_blend:["multiply","screen"],bg:["white","black"],fg:["black","white"]}},badge:{"*":{bg:["900","100"],fg:["400","600"],dot:["500","500"],icon:["500","500"]}},bg:["500","400"],border:["500 20%","400 20%"],code:{bg:["500 20%","400 20%"],fg:["200","600"]},fg:["white","black"],icon:["100 70%","900 70%"],kbd:{bg:["black","white"],fg:["200","600"],border:["800","200"]},link:{fg:["blue/200","blue/600"]},muted:{bg:["500 10%","400 10%"],fg:["100 70%","900 70%"]},skeleton:{from:["900","100"],to:["900 50%","100 50%"]}},disabled:{_hue:"gray",accent:{fg:["200","800"]},avatar:{"*":{_blend:["screen","multiply"],bg:["gray/100","gray/900"],fg:["white","black"]}},badge:{"*":{_hue:"gray",bg:["50","950"],fg:["gray/200","gray/800"],dot:["gray/200","gray/800"],icon:["gray/200","gray/800"]}},border:["100","900"],code:{bg:["50","950"],fg:["200","800"]},fg:["200","800"],icon:["200","800"],kbd:{bg:["white","black"],fg:["200","800"],border:["100","900"]},link:{fg:["200","800"]},muted:{bg:["50 50%","950 50%"],fg:["200","800"]}}},default:{selected:{_hue:"blue"}},critical:{disabled:{bg:["50 50%","950 50%"]}}},syntax:{atrule:["purple/600","purple/400"],attrName:["green/600","green/400"],attrValue:["yellow/600","yellow/400"],attribute:["yellow/600","yellow/400"],boolean:["purple/600","purple/400"],builtin:["purple/600","purple/400"],cdata:["yellow/600","yellow/400"],char:["yellow/600","yellow/400"],class:["orange/600","orange/400"],className:["cyan/600","cyan/400"],comment:["gray/400","gray/600"],constant:["purple/600","purple/400"],deleted:["red/600","red/400"],entity:["red/600","red/400"],function:["green/600","green/400"],hexcode:["blue/600","blue/400"],id:["purple/600","purple/400"],important:["purple/600","purple/400"],inserted:["yellow/600","yellow/400"],keyword:["magenta/600","magenta/400"],number:["purple/600","purple/400"],operator:["magenta/600","magenta/400"],property:["blue/600","blue/400"],pseudoClass:["yellow/600","yellow/400"],pseudoElement:["yellow/600","yellow/400"],punctuation:["gray/600","gray/400"],regex:["blue/600","blue/400"],selector:["red/600","red/400"],string:["yellow/600","yellow/400"],symbol:["purple/600","purple/400"],tag:["red/600","red/400"],unit:["orange/600","orange/400"],url:["red/600","red/400"],variable:["red/600","red/400"]}};function zK(e){return!!(e&&typeof e=="object"&&!Array.isArray(e))}function $n(...e){const t=e.filter(Boolean);return t.length===0?{}:t.reduce(iLe,{})}function iLe(e,t){for(const n of Object.keys(t)){const r=e[n],i=t[n];zK(r)&&zK(i)?e[n]=$n(r,i):e[n]=i}return e}function aLe(e){const t=$n(rLe,e);return{base:oLe(t),button:lLe(t),input:fLe(t),selectable:mLe(t),syntax:t.syntax}}function oLe(e){const t={};for(const n of Jpe)t[n]=sLe(e,n);return t}function sLe(e,t){var n,r,i,a,o,s,l,c,d,h,p,m,g,v,b,y,x,w,C,S,_,E,k,T,j,I,A,$,D,M,O,F,P,V,H,W,G,X,z,q,Z,K;const J=$n((n=e==null?void 0:e.base)==null?void 0:n["*"],(r=e==null?void 0:e.base)==null?void 0:r[t]),Q=J._hue||((a=(i=e==null?void 0:e.base)==null?void 0:i[t])==null?void 0:a._hue)||"gray";return{...J,_hue:Q,avatar:{gray:$n({_hue:"gray"},(o=J.avatar)==null?void 0:o["*"],(s=J.avatar)==null?void 0:s.gray),blue:$n({_hue:"blue"},(l=J.avatar)==null?void 0:l["*"],(c=J.avatar)==null?void 0:c.blue),purple:$n({_hue:"purple"},(d=J.avatar)==null?void 0:d["*"],(h=J.avatar)==null?void 0:h.purple),magenta:$n({_hue:"magenta"},(p=J.avatar)==null?void 0:p["*"],(m=J.avatar)==null?void 0:m.magenta),red:$n({_hue:"red"},(g=J.avatar)==null?void 0:g["*"],(v=J.avatar)==null?void 0:v.red),orange:$n({_hue:"orange"},(b=J.avatar)==null?void 0:b["*"],(y=J.avatar)==null?void 0:y.orange),yellow:$n({_hue:"yellow"},(x=J.avatar)==null?void 0:x["*"],(w=J.avatar)==null?void 0:w.yellow),green:$n({_hue:"green"},(C=J.avatar)==null?void 0:C["*"],(S=J.avatar)==null?void 0:S.green),cyan:$n({_hue:"cyan"},(_=J.avatar)==null?void 0:_["*"],(E=J.avatar)==null?void 0:E.cyan)},badge:{default:{_hue:((T=(k=e==null?void 0:e.base)==null?void 0:k.default)==null?void 0:T._hue)||Q,...(j=J.badge)==null?void 0:j["*"],...(I=J.badge)==null?void 0:I.default},primary:{_hue:(($=(A=e==null?void 0:e.base)==null?void 0:A.primary)==null?void 0:$._hue)||Q,...(D=J.badge)==null?void 0:D["*"],...(M=J.badge)==null?void 0:M.primary},positive:{_hue:((F=(O=e==null?void 0:e.base)==null?void 0:O.positive)==null?void 0:F._hue)||Q,...(P=J.badge)==null?void 0:P["*"],...(V=J.badge)==null?void 0:V.positive},caution:{_hue:((W=(H=e==null?void 0:e.base)==null?void 0:H.caution)==null?void 0:W._hue)||Q,...(G=J.badge)==null?void 0:G["*"],...(X=J.badge)==null?void 0:X.caution},critical:{_hue:((q=(z=e==null?void 0:e.base)==null?void 0:z.critical)==null?void 0:q._hue)||Q,...(Z=J.badge)==null?void 0:Z["*"],...(K=J.badge)==null?void 0:K.critical}}}}function lLe(e){const t={};for(const n of Qpe)t[n]=uLe(e,n);return t}function uLe(e,t){const n={};for(const r of r2)n[r]=cLe(e,t,r);return n}function cLe(e,t,n){const r={};for(const i of i2)r[i]=dLe(e,n,t,i);return r}function dLe(e,t,n,r){var i,a,o,s,l,c,d,h,p,m,g,v,b,y,x,w,C,S,_,E,k,T,j,I,A,$,D,M,O,F,P,V,H,W,G,X,z,q,Z,K,J,Q,re,ae,ne,se,le,oe,ge,_e,Me,me;const ye=$n((o=(a=(i=e==null?void 0:e.button)==null?void 0:i[n])==null?void 0:a["*"])==null?void 0:o["*"],(c=(l=(s=e==null?void 0:e.button)==null?void 0:s[n])==null?void 0:l[t])==null?void 0:c["*"],(p=(h=(d=e==null?void 0:e.button)==null?void 0:d[n])==null?void 0:h["*"])==null?void 0:p[r],(v=(g=(m=e==null?void 0:e.button)==null?void 0:m[n])==null?void 0:g[t])==null?void 0:v[r]),De=ye._hue||((y=(b=e==null?void 0:e.base)==null?void 0:b[t])==null?void 0:y._hue);return{...ye,_hue:De,avatar:{gray:$n({_hue:"gray"},(x=ye.avatar)==null?void 0:x["*"],(w=ye.avatar)==null?void 0:w.gray),blue:$n({_hue:"blue"},(C=ye.avatar)==null?void 0:C["*"],(S=ye.avatar)==null?void 0:S.blue),purple:$n({_hue:"purple"},(_=ye.avatar)==null?void 0:_["*"],(E=ye.avatar)==null?void 0:E.purple),magenta:$n({_hue:"magenta"},(k=ye.avatar)==null?void 0:k["*"],(T=ye.avatar)==null?void 0:T.magenta),red:$n({_hue:"red"},(j=ye.avatar)==null?void 0:j["*"],(I=ye.avatar)==null?void 0:I.red),orange:$n({_hue:"orange"},(A=ye.avatar)==null?void 0:A["*"],($=ye.avatar)==null?void 0:$.orange),yellow:$n({_hue:"yellow"},(D=ye.avatar)==null?void 0:D["*"],(M=ye.avatar)==null?void 0:M.yellow),green:$n({_hue:"green"},(O=ye.avatar)==null?void 0:O["*"],(F=ye.avatar)==null?void 0:F.green),cyan:$n({_hue:"cyan"},(P=ye.avatar)==null?void 0:P["*"],(V=ye.avatar)==null?void 0:V.cyan)},badge:{default:{_hue:(W=(H=e==null?void 0:e.base)==null?void 0:H.default)==null?void 0:W._hue,...(G=ye.badge)==null?void 0:G["*"],...(X=ye.badge)==null?void 0:X.default},primary:{_hue:(q=(z=e==null?void 0:e.base)==null?void 0:z.primary)==null?void 0:q._hue,...(Z=ye.badge)==null?void 0:Z["*"],...(K=ye.badge)==null?void 0:K.primary},positive:{_hue:(Q=(J=e==null?void 0:e.base)==null?void 0:J.positive)==null?void 0:Q._hue,...(re=ye.badge)==null?void 0:re["*"],...(ae=ye.badge)==null?void 0:ae.positive},caution:{_hue:(se=(ne=e==null?void 0:e.base)==null?void 0:ne.caution)==null?void 0:se._hue,...(le=ye.badge)==null?void 0:le["*"],...(oe=ye.badge)==null?void 0:oe.caution},critical:{_hue:(_e=(ge=e==null?void 0:e.base)==null?void 0:ge.critical)==null?void 0:_e._hue,...(Me=ye.badge)==null?void 0:Me["*"],...(me=ye.badge)==null?void 0:me.critical}}}}function fLe(e){const t={};for(const n of eme)t[n]=hLe(e,n);return t}function hLe(e,t){const n={};for(const r of tme)n[r]=pLe(e,t,r);return n}function pLe(e,t,n){var r,i,a,o,s,l,c,d,h,p;const m=$n((i=(r=e==null?void 0:e.input)==null?void 0:r["*"])==null?void 0:i["*"],(o=(a=e==null?void 0:e.input)==null?void 0:a[t])==null?void 0:o["*"],(l=(s=e==null?void 0:e.input)==null?void 0:s["*"])==null?void 0:l[n],(d=(c=e==null?void 0:e.input)==null?void 0:c[t])==null?void 0:d[n]),g=m._hue||((p=(h=e==null?void 0:e.input)==null?void 0:h[t])==null?void 0:p._hue);return{...m,_hue:g}}function mLe(e){const t={};for(const n of r2)t[n]=gLe(e,n);return t}function gLe(e,t){var n,r,i,a;const o={_hue:((r=(n=e==null?void 0:e.selectable)==null?void 0:n[t])==null?void 0:r._hue)||((a=(i=e==null?void 0:e.base)==null?void 0:i[t])==null?void 0:a._hue)};for(const s of i2)o[s]=vLe(e,t,s);return o}function vLe(e,t,n){var r,i,a,o,s,l,c,d,h,p,m,g,v,b,y,x,w,C,S,_,E,k,T,j,I,A,$,D,M,O,F,P,V,H,W,G,X,z,q,Z,K,J,Q,re,ae,ne,se,le;const oe=$n((i=(r=e==null?void 0:e.selectable)==null?void 0:r["*"])==null?void 0:i["*"],(o=(a=e==null?void 0:e.selectable)==null?void 0:a[t])==null?void 0:o["*"],(l=(s=e==null?void 0:e.selectable)==null?void 0:s["*"])==null?void 0:l[n],(d=(c=e==null?void 0:e.selectable)==null?void 0:c[t])==null?void 0:d[n]),ge=oe._hue||((p=(h=e==null?void 0:e.base)==null?void 0:h[t])==null?void 0:p._hue);return{...oe,_hue:ge,avatar:{gray:$n({_hue:"gray"},(m=oe.avatar)==null?void 0:m["*"],(g=oe.avatar)==null?void 0:g.gray),blue:$n({_hue:"blue"},(v=oe.avatar)==null?void 0:v["*"],(b=oe.avatar)==null?void 0:b.blue),purple:$n({_hue:"purple"},(y=oe.avatar)==null?void 0:y["*"],(x=oe.avatar)==null?void 0:x.purple),magenta:$n({_hue:"magenta"},(w=oe.avatar)==null?void 0:w["*"],(C=oe.avatar)==null?void 0:C.magenta),red:$n({_hue:"red"},(S=oe.avatar)==null?void 0:S["*"],(_=oe.avatar)==null?void 0:_.red),orange:$n({_hue:"orange"},(E=oe.avatar)==null?void 0:E["*"],(k=oe.avatar)==null?void 0:k.orange),yellow:$n({_hue:"yellow"},(T=oe.avatar)==null?void 0:T["*"],(j=oe.avatar)==null?void 0:j.yellow),green:$n({_hue:"green"},(I=oe.avatar)==null?void 0:I["*"],(A=oe.avatar)==null?void 0:A.green),cyan:$n({_hue:"cyan"},($=oe.avatar)==null?void 0:$["*"],(D=oe.avatar)==null?void 0:D.cyan)},badge:{default:{_hue:(O=(M=e==null?void 0:e.base)==null?void 0:M.default)==null?void 0:O._hue,...(F=oe.badge)==null?void 0:F["*"],...(P=oe.badge)==null?void 0:P.default},primary:{_hue:(H=(V=e==null?void 0:e.base)==null?void 0:V.primary)==null?void 0:H._hue,...(W=oe.badge)==null?void 0:W["*"],...(G=oe.badge)==null?void 0:G.primary},positive:{_hue:(z=(X=e==null?void 0:e.base)==null?void 0:X.positive)==null?void 0:z._hue,...(q=oe.badge)==null?void 0:q["*"],...(Z=oe.badge)==null?void 0:Z.positive},caution:{_hue:(J=(K=e==null?void 0:e.base)==null?void 0:K.caution)==null?void 0:J._hue,...(Q=oe.badge)==null?void 0:Q["*"],...(re=oe.badge)==null?void 0:re.caution},critical:{_hue:(ne=(ae=e==null?void 0:e.base)==null?void 0:ae.critical)==null?void 0:ne._hue,...(se=oe.badge)==null?void 0:se["*"],...(le=oe.badge)==null?void 0:le.critical}}}}function yLe(e){const t={...e,color:aLe(e==null?void 0:e.color)};return{light:UK({scheme:"light"},t),dark:UK({scheme:"dark"},t)}}function UK(e,t){const{scheme:n}=e;return{transparent:iv({scheme:n,tone:"transparent"},t),default:iv({scheme:n,tone:"default"},t),primary:iv({scheme:n,tone:"primary"},t),positive:iv({scheme:n,tone:"positive"},t),caution:iv({scheme:n,tone:"caution"},t),critical:iv({scheme:n,tone:"critical"},t)}}function iv(e,t){var n,r,i,a,o,s,l,c,d,h,p,m,g;const{scheme:v,tone:b}=e,y=(r=(n=t==null?void 0:t.color)==null?void 0:n.base)==null?void 0:r[b],x={hue:(y==null?void 0:y._hue)||"gray",scheme:v};return{_blend:((y==null?void 0:y._blend)||["multiply","screen"])[v==="light"?0:1],_dark:v==="dark",accent:{fg:Ie(x,(i=y==null?void 0:y.accent)==null?void 0:i.fg)},avatar:G9({scheme:v},y),backdrop:Ie(x,y==null?void 0:y.backdrop),badge:Y9(y==null?void 0:y.badge,{scheme:v},t),bg:Ie(x,y==null?void 0:y.bg),border:Ie(x,y==null?void 0:y.border),button:xLe({scheme:v},t),code:{bg:Ie(x,(a=y==null?void 0:y.code)==null?void 0:a.bg),fg:Ie(x,(o=y==null?void 0:y.code)==null?void 0:o.fg)},fg:Ie(x,y==null?void 0:y.fg),focusRing:Ie(x,y==null?void 0:y.focusRing),icon:Ie(x,y==null?void 0:y.icon),input:_Le({scheme:v,tone:b},t),kbd:{bg:Ie(x,(s=y==null?void 0:y.kbd)==null?void 0:s.bg),fg:Ie(x,(l=y==null?void 0:y.kbd)==null?void 0:l.fg),border:Ie(x,(c=y==null?void 0:y.kbd)==null?void 0:c.border)},link:{fg:Ie(x,(d=y==null?void 0:y.link)==null?void 0:d.fg)},muted:{bg:Ie(x,(h=y==null?void 0:y.muted)==null?void 0:h.bg),fg:Ie(x,(p=y==null?void 0:y.muted)==null?void 0:p.fg)},selectable:ELe({scheme:v},t),shadow:bLe({scheme:v,tone:b},t),skeleton:{from:Ie(x,(m=y==null?void 0:y.skeleton)==null?void 0:m.from),to:Ie(x,(g=y==null?void 0:y.skeleton)==null?void 0:g.to)},syntax:ALe({scheme:v},t)}}function bLe(e,t){var n,r,i,a,o,s;const{scheme:l,tone:c}=e,d=(r=(n=t==null?void 0:t.color)==null?void 0:n.base)==null?void 0:r[c],h={hue:(d==null?void 0:d._hue)||"gray",scheme:l};return{outline:Ie(h,(i=d==null?void 0:d.shadow)==null?void 0:i.outline),umbra:Ie(h,(a=d==null?void 0:d.shadow)==null?void 0:a.umbra),penumbra:Ie(h,(o=d==null?void 0:d.shadow)==null?void 0:o.penumbra),ambient:Ie(h,(s=d==null?void 0:d.shadow)==null?void 0:s.ambient)}}function G9(e,t){const{scheme:n}=e;return{gray:Sd({color:"gray",scheme:n},t),blue:Sd({color:"blue",scheme:n},t),purple:Sd({color:"purple",scheme:n},t),magenta:Sd({color:"magenta",scheme:n},t),red:Sd({color:"red",scheme:n},t),orange:Sd({color:"orange",scheme:n},t),yellow:Sd({color:"yellow",scheme:n},t),green:Sd({color:"green",scheme:n},t),cyan:Sd({color:"cyan",scheme:n},t)}}function Sd(e,t){var n;const{color:r,scheme:i}=e,a=(n=t==null?void 0:t.avatar)==null?void 0:n[r],o={hue:(a==null?void 0:a._hue)||"gray",scheme:i};return{_blend:((a==null?void 0:a._blend)||["screen","multiply"])[i==="light"?0:1],bg:Ie(o,a==null?void 0:a.bg),fg:Ie(o,a==null?void 0:a.fg)}}function Y9(e,t,n){const{scheme:r}=t;return{default:cx(e,{scheme:r,tone:"default"},n),primary:cx(e,{scheme:r,tone:"primary"},n),positive:cx(e,{scheme:r,tone:"positive"},n),caution:cx(e,{scheme:r,tone:"caution"},n),critical:cx(e,{scheme:r,tone:"critical"},n)}}function cx(e,t,n){var r,i,a;const{scheme:o,tone:s}=t,l=e==null?void 0:e[s],c={hue:(l==null?void 0:l._hue)||((a=(i=(r=n==null?void 0:n.color)==null?void 0:r.base)==null?void 0:i[s])==null?void 0:a._hue)||"gray",scheme:o};return{bg:Ie(c,l==null?void 0:l.bg),fg:Ie(c,l==null?void 0:l.fg),dot:Ie(c,l==null?void 0:l.dot),icon:Ie(c,l==null?void 0:l.icon)}}function xLe(e,t){const{scheme:n}=e,r={};for(const i of Qpe)r[i]=wLe({scheme:n,mode:i},t);return r}function wLe(e,t){const{mode:n,scheme:r}=e,i={};for(const a of r2)i[a]=CLe({mode:n,scheme:r,tone:a},t);return i}function CLe(e,t){const{mode:n,scheme:r,tone:i}=e,a={};for(const o of i2)a[o]=SLe({mode:n,tone:i,scheme:r,state:o},t);return a}function SLe(e,t){var n,r,i,a,o,s,l,c,d,h,p,m,g,v,b;const{mode:y,tone:x,scheme:w,state:C}=e,S=(a=(i=(r=(n=t==null?void 0:t.color)==null?void 0:n.button)==null?void 0:r[y])==null?void 0:i[x])==null?void 0:a[C],_=(S==null?void 0:S._hue)||"gray",E=(S==null?void 0:S._blend)||["screen","multiply"],k={hue:_,scheme:w};return{_blend:E[w==="light"?0:1],accent:{fg:Ie(k,(o=S==null?void 0:S.accent)==null?void 0:o.fg)},avatar:G9({scheme:w},S),badge:Y9(S==null?void 0:S.badge,{scheme:w},t),bg:Ie(k,S==null?void 0:S.bg),border:Ie(k,S==null?void 0:S.border),code:{bg:Ie(k,(s=S==null?void 0:S.code)==null?void 0:s.bg),fg:Ie(k,(l=S==null?void 0:S.code)==null?void 0:l.fg)},fg:Ie(k,S==null?void 0:S.fg),icon:Ie(k,S==null?void 0:S.icon),muted:{bg:Ie(k,(c=S==null?void 0:S.muted)==null?void 0:c.bg),fg:Ie(k,(d=S==null?void 0:S.muted)==null?void 0:d.fg)},kbd:{bg:Ie(k,(h=S==null?void 0:S.kbd)==null?void 0:h.bg),fg:Ie(k,(p=S==null?void 0:S.kbd)==null?void 0:p.fg),border:Ie(k,(m=S==null?void 0:S.kbd)==null?void 0:m.border)},link:{fg:Ie(k,(g=S==null?void 0:S.link)==null?void 0:g.fg)},skeleton:{from:Ie(k,(v=S==null?void 0:S.skeleton)==null?void 0:v.from),to:Ie(k,(b=S==null?void 0:S.skeleton)==null?void 0:b.to)}}}function _Le(e,t){const{scheme:n,tone:r}=e;return{default:HK({mode:"default",scheme:n,tone:r},t),invalid:HK({mode:"invalid",scheme:n,tone:r},t)}}function HK(e,t){const{mode:n,scheme:r,tone:i}=e;return{enabled:J_({mode:n,scheme:r,state:"enabled",tone:i},t),hovered:J_({mode:n,scheme:r,state:"hovered",tone:i},t),readOnly:J_({mode:n,scheme:r,state:"readOnly",tone:i},t),disabled:J_({mode:n,scheme:r,state:"disabled",tone:i},t)}}function J_(e,t){var n,r,i,a,o,s,l;const{mode:c,tone:d,scheme:h,state:p}=e,m=(i=(r=(n=t==null?void 0:t.color)==null?void 0:n.input)==null?void 0:r[c])==null?void 0:i[p],g=(m==null?void 0:m._hue)||((s=(o=(a=t==null?void 0:t.color)==null?void 0:a.base)==null?void 0:o[d])==null?void 0:s._hue)||"gray",v=(m==null?void 0:m._blend)||["screen","multiply"],b={hue:g,scheme:h};return{_blend:v[h==="light"?0:1],bg:Ie(b,m==null?void 0:m.bg),border:Ie(b,m==null?void 0:m.border),fg:Ie(b,m==null?void 0:m.fg),muted:{bg:Ie(b,(l=m==null?void 0:m.muted)==null?void 0:l.bg)},placeholder:Ie(b,m==null?void 0:m.placeholder)}}function ELe(e,t){const{scheme:n}=e,r={};for(const i of r2)r[i]=kLe({scheme:n,tone:i},t);return r}function kLe(e,t){const{scheme:n,tone:r}=e,i={};for(const a of i2)i[a]=TLe({tone:r,scheme:n,state:a},t);return i}function TLe(e,t){var n,r,i,a,o,s,l,c,d,h,p,m,g,v;const{scheme:b,state:y,tone:x}=e,w=(i=(r=(n=t==null?void 0:t.color)==null?void 0:n.selectable)==null?void 0:r[x])==null?void 0:i[y],C=(w==null?void 0:w._hue)||"gray",S=(w==null?void 0:w._blend)||["screen","multiply"],_={hue:C,scheme:b};return{_blend:S[b==="light"?0:1],accent:{fg:Ie(_,(a=w==null?void 0:w.accent)==null?void 0:a.fg)},avatar:G9({scheme:b},w),badge:Y9(w==null?void 0:w.badge,{scheme:b},t),bg:Ie(_,w==null?void 0:w.bg),border:Ie(_,w==null?void 0:w.border),code:{bg:Ie(_,(o=w==null?void 0:w.code)==null?void 0:o.bg),fg:Ie(_,(s=w==null?void 0:w.code)==null?void 0:s.fg)},fg:Ie(_,w==null?void 0:w.fg),icon:Ie(_,w==null?void 0:w.icon),muted:{bg:Ie(_,(l=w==null?void 0:w.muted)==null?void 0:l.bg),fg:Ie(_,(c=w==null?void 0:w.muted)==null?void 0:c.fg)},kbd:{bg:Ie(_,(d=w==null?void 0:w.kbd)==null?void 0:d.bg),fg:Ie(_,(h=w==null?void 0:w.kbd)==null?void 0:h.fg),border:Ie(_,(p=w==null?void 0:w.kbd)==null?void 0:p.border)},link:{fg:Ie(_,(m=w==null?void 0:w.link)==null?void 0:m.fg)},skeleton:{from:Ie(_,(g=w==null?void 0:w.skeleton)==null?void 0:g.from),to:Ie(_,(v=w==null?void 0:w.skeleton)==null?void 0:v.to)}}}function ALe(e,t){var n;const{scheme:r}=e,i=(n=t==null?void 0:t.color)==null?void 0:n.syntax,a={hue:"gray",scheme:r};return{atrule:Ie(a,i==null?void 0:i.atrule),attrName:Ie(a,i==null?void 0:i.attrName),attrValue:Ie(a,i==null?void 0:i.attrValue),attribute:Ie(a,i==null?void 0:i.attribute),boolean:Ie(a,i==null?void 0:i.boolean),builtin:Ie(a,i==null?void 0:i.builtin),cdata:Ie(a,i==null?void 0:i.cdata),char:Ie(a,i==null?void 0:i.char),class:Ie(a,i==null?void 0:i.class),className:Ie(a,i==null?void 0:i.className),comment:Ie(a,i==null?void 0:i.comment),constant:Ie(a,i==null?void 0:i.constant),deleted:Ie(a,i==null?void 0:i.deleted),doctype:Ie(a,i==null?void 0:i.doctype),entity:Ie(a,i==null?void 0:i.entity),function:Ie(a,i==null?void 0:i.function),hexcode:Ie(a,i==null?void 0:i.hexcode),id:Ie(a,i==null?void 0:i.id),important:Ie(a,i==null?void 0:i.important),inserted:Ie(a,i==null?void 0:i.inserted),keyword:Ie(a,i==null?void 0:i.keyword),number:Ie(a,i==null?void 0:i.number),operator:Ie(a,i==null?void 0:i.operator),prolog:Ie(a,i==null?void 0:i.prolog),property:Ie(a,i==null?void 0:i.property),pseudoClass:Ie(a,i==null?void 0:i.pseudoClass),pseudoElement:Ie(a,i==null?void 0:i.pseudoElement),punctuation:Ie(a,i==null?void 0:i.punctuation),regex:Ie(a,i==null?void 0:i.regex),selector:Ie(a,i==null?void 0:i.selector),string:Ie(a,i==null?void 0:i.string),symbol:Ie(a,i==null?void 0:i.symbol),tag:Ie(a,i==null?void 0:i.tag),unit:Ie(a,i==null?void 0:i.unit),url:Ie(a,i==null?void 0:i.url),variable:Ie(a,i==null?void 0:i.variable)}}const jLe=YNe;function hR(e,t,n){const r=(t-e)*n;return e+r}function ILe(e,t,n){return{r:hR(e.r,t.r,n),g:hR(e.g,t.g,n),b:hR(e.b,t.b,n)}}function pR(e,t){return e*t}function DLe(e,t){return{r:pR(e.r/255,t.r/255)*255,g:pR(e.g/255,t.g/255)*255,b:pR(e.b/255,t.b/255)*255}}function mR(e,t){return e+t-e*t}function $Le(e,t){return{r:mR(e.r/255,t.r/255)*255,g:mR(e.g/255,t.g/255)*255,b:mR(e.b/255,t.b/255)*255}}function OLe(e,t,n){return e*(1-n)+t*n}function MLe(e,t,n){return Ls((n-e)/(t-e))}function Ls(e,t=0,n=1){return Math.min(n,Math.max(t,e))}function _d(e,t,n,r,i){return OLe(n,r,MLe(e,t,i))}function gR(e){return Math.round(e)}function H4(e){if(e.length===4){const t=e.slice(1,2),n=e.slice(2,3),r=e.slice(3,4);return{r:parseInt(t+t,16),g:parseInt(n+n,16),b:parseInt(r+r,16)}}return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16)}}function RLe(e){const t=e.replace(/rgba\(|\)/g,"").split(",");return{r:parseInt(t[0]),g:parseInt(t[1]),b:parseInt(t[2]),a:parseFloat(t[3])}}function rme(e){const t=gR(Ls(Math.round(e.r),0,255)),n=gR(Ls(Math.round(e.g),0,255)),r=gR(Ls(Math.round(e.b),0,255));return"a"in e?`rgba(${t},${n},${r},${e.a})`:"#"+((1<<24)+(t<<16)+(n<<8)+r).toString(16).slice(1)}function PLe(e){const t=e.s/100,n=e.l/100,r=(1-Math.abs(2*n-1))*t,i=r*(1-Math.abs(e.h/60%2-1)),a=n-r/2;let o=0,s=0,l=0;return 0<=e.h&&e.h<60?(o=r,s=i,l=0):60<=e.h&&e.h<120?(o=i,s=r,l=0):120<=e.h&&e.h<180?(o=0,s=r,l=i):180<=e.h&&e.h<240?(o=0,s=i,l=r):240<=e.h&&e.h<300?(o=i,s=0,l=r):300<=e.h&&e.h<360&&(o=r,s=0,l=i),{r:Math.round((o+a)*255),g:Math.round((s+a)*255),b:Math.round((l+a)*255)}}const FLe="0123456789ABCDEFabcdef",NLe=/hsl\(\s*(\d+)\s*,\s*((\d+(?:\.\d+)?)%)\s*,\s*((\d+(?:\.\d+)?)%)\s*\)/i;function LLe(e){for(const t of e)if(FLe.indexOf(t)===-1)return!1;return!0}function BLe(e){return e[0]!=="#"||!(e.length===4||e.length===7)?!1:LLe(e.slice(1))}function VLe(e){const t=NLe.exec(e);if(!t)throw new Error(`parseHsl: string is not a HSL color: "${e}"`);return{h:parseInt(t[1]),s:parseFloat(t[3]),l:parseFloat(t[5])}}function pw(e){if(!e)return{r:0,g:0,b:0};if(typeof e!="string")throw new Error("parseColor: expected a string");if(BLe(e))return H4(e);if(e.startsWith("hsl("))return PLe(VLe(e));if(e.startsWith("rgba("))return RLe(e);throw new Error(`parseColor: unexpected color format: "${e}"`)}function VI(e,t){const n=pw(e);return`rgba(${n.r},${n.g},${n.b},${t})`}const Ro=[0,255];function zLe(e,t){const{blendMode:n}=t,r=pw(e),i=pw(t.black),a=pw(t.white),o=t.bg?pw(t.bg):n==="multiply"?a:i,s={r:[i.r,a.r],g:[i.g,a.g],b:[i.b,a.b]},l={r:Ls(_d(...s.r,...Ro,o.r),...Ro),g:Ls(_d(...s.g,...Ro,o.g),...Ro),b:Ls(_d(...s.b,...Ro,o.b),...Ro)},c={r:Ls(_d(...s.r,...Ro,r.r),...Ro),g:Ls(_d(...s.g,...Ro,r.g),...Ro),b:Ls(_d(...s.b,...Ro,r.b),...Ro)},d=n==="multiply"?DLe(l,c):$Le(l,c),h={r:Ls(_d(...Ro,...s.r,d.r),...s.r),g:Ls(_d(...Ro,...s.g,d.g),...s.g),b:Ls(_d(...Ro,...s.b,d.b),...s.b)};return rme(h)}function Ve(e,t){const{bg:n,blendMode:r,colorPalette:i}=t;if(n==="white")throw new Error("Cannot blend with white background");const a=nme(e);if(!a||a.type!=="color")throw new Error(`Invalid color token value: ${e}`);let o="";if(a.key==="black"&&(o=dx(i.black)),a.key==="white"&&(o=dx(i.white)),a.hue&&a.tint&&(o=dx(i[a.hue][a.tint])),!o)throw new Error(`Invalid color token value: ${e}`);const s=o,l={blendMode:r,bg:n,black:dx(i.black),white:dx(i.white)};try{if(o=zLe(o,l),n&&a.mix!==void 0){const c=H4(n),d=H4(o);o=rme(ILe(c,d,a.mix))}}catch(c){throw console.warn("could not blend",o,l),c}return o==="#aN"&&(console.warn(`invalid color token value: ${e}`),o=s),a.opacity!==void 0&&(o=VI(o,a.opacity)),o}function dx(e){return typeof e=="string"?e:e.hex}function ULe(e,t){var n;const r=(n=t==null?void 0:t.palette)!=null?n:jLe;return{light:WK(r,e.light),dark:WK(r,e.dark)}}function WK(e,t){const n=Object.entries(t),[,r]=n.find(([l])=>l==="transparent"),[,i]=n.find(([l])=>l==="default"),a=vR(r,{colorPalette:e}),o=vR(i,{colorPalette:e}),s=o.bg;if(s==="white")throw new Error("Cannot blend with white background");return Object.fromEntries([["transparent",a],["default",o],...n.filter(([l])=>l!=="default"&&l!=="transparent").map(([l,c])=>[l,vR(c,{bg:s,colorPalette:e})])])}function vR(e,t){const{colorPalette:n,bg:r}=t,i=e._blend||"multiply",a=Ve(e.bg,{colorPalette:n,bg:r,blendMode:i}),o={colorPalette:n,bg:a,blendMode:i},s=WLe(e.button,{baseBg:a,blendMode:i,colorPalette:n}),l=YLe(e.selectable,{colorPalette:n,baseBg:a,blendMode:i}),c={outline:Ve(e.shadow.outline,o),umbra:Ve(e.shadow.umbra,{...o,bg:void 0,colorPalette:{...n,black:"#000000"}}),penumbra:Ve(e.shadow.penumbra,{...o,bg:void 0,colorPalette:{...n,black:"#000000"}}),ambient:Ve(e.shadow.ambient,{...o,bg:void 0,colorPalette:{...n,black:"#000000"}})};return{_blend:i,_dark:e._dark,accent:{fg:Ve(e.accent.fg,o)},avatar:ime(e.avatar,{baseBg:a,colorPalette:n,blendMode:i}),backdrop:Ve(e.backdrop,o),badge:ame(e.badge,{baseBg:a,colorPalette:n,blendMode:i}),bg:a,border:Ve(e.border,o),button:s,code:{bg:Ve(e.code.bg,o),fg:Ve(e.code.fg,o)},fg:Ve(e.fg,o),focusRing:Ve(e.focusRing,o),icon:Ve(e.icon,o),input:GLe(e.input,{baseBg:a,colorPalette:n,blendMode:i}),kbd:HLe(e.kbd,{baseBg:a,colorPalette:n,blendMode:i}),link:{fg:Ve(e.link.fg,o)},muted:{bg:Ve(e.muted.bg,o),fg:Ve(e.muted.fg,o)},shadow:c,skeleton:{from:Ve(e.skeleton.from,o),to:Ve(e.skeleton.to,o)},syntax:qLe(e.syntax,{baseBg:a,colorPalette:n,blendMode:i}),selectable:l}}function HLe(e,t){const{baseBg:n,blendMode:r,colorPalette:i}=t,a={bg:n,blendMode:r,colorPalette:i},o=Ve(e.bg,a),s={bg:o,blendMode:r,colorPalette:i};return{bg:o,fg:Ve(e.fg,s),border:Ve(e.border,s)}}function ime(e,t){return{gray:Ed(e.gray,t),blue:Ed(e.blue,t),purple:Ed(e.purple,t),magenta:Ed(e.magenta,t),red:Ed(e.red,t),orange:Ed(e.orange,t),yellow:Ed(e.yellow,t),green:Ed(e.green,t),cyan:Ed(e.cyan,t)}}function Ed(e,t){const{baseBg:n,blendMode:r,colorPalette:i}=t,a=e._blend||"multiply",o={bg:n,blendMode:r,colorPalette:i},s=Ve(e.bg,o),l={bg:s,blendMode:a,colorPalette:i};return{_blend:a,bg:s,fg:Ve(e.fg,l)}}function ame(e,t){return{default:fx(e.default,t),primary:fx(e.primary,t),positive:fx(e.positive,t),caution:fx(e.caution,t),critical:fx(e.critical,t)}}function fx(e,t){const{baseBg:n,blendMode:r,colorPalette:i}=t,a=r,o={bg:n,blendMode:r,colorPalette:i},s=Ve(e.bg,o),l={bg:s,blendMode:a,colorPalette:i};return{bg:s,dot:Ve(e.dot,l),fg:Ve(e.fg,l),icon:Ve(e.icon,l)}}function WLe(e,t){return{default:yR(e.default,t),ghost:yR(e.ghost,t),bleed:yR(e.bleed,t)}}function yR(e,t){return{default:hx(e.default,t),primary:hx(e.primary,t),positive:hx(e.positive,t),caution:hx(e.caution,t),critical:hx(e.critical,t)}}function hx(e,t){return{enabled:_c(e.enabled,t),hovered:_c(e.hovered,t),pressed:_c(e.pressed,t),selected:_c(e.selected,t),disabled:_c(e.disabled,t)}}function _c(e,t){var n,r;const{baseBg:i,blendMode:a,colorPalette:o}=t,s=e._blend||"multiply",l={bg:i,blendMode:a,colorPalette:o},c=Ve(e.bg,l),d={bg:c,blendMode:s,colorPalette:o};return{_blend:s,accent:{fg:Ve(e.accent.fg,d)},avatar:ime(e.avatar,{baseBg:c,colorPalette:o,blendMode:s}),badge:ame(e.badge,{baseBg:c,colorPalette:o,blendMode:s}),bg:c,border:Ve(e.border,d),code:{bg:Ve(e.code.bg,d),fg:Ve(e.code.fg,d)},fg:Ve(e.fg,d),icon:Ve(e.icon,d),link:{fg:Ve(e.link.fg,d)},muted:{bg:Ve(e.muted.bg,d),fg:Ve(e.muted.fg,d)},kbd:{bg:Ve(e.kbd.bg,d),fg:Ve(e.kbd.fg,d),border:Ve(e.kbd.border,d)},skeleton:{from:Ve((n=e.skeleton)==null?void 0:n.from,d),to:Ve((r=e.skeleton)==null?void 0:r.to,d)}}}function GLe(e,t){return{default:GK(e.default,t),invalid:GK(e.invalid,t)}}function GK(e,t){return{enabled:Q_(e.enabled,t),hovered:Q_(e.hovered,t),readOnly:Q_(e.readOnly,t),disabled:Q_(e.disabled,t)}}function Q_(e,t){const{baseBg:n,blendMode:r,colorPalette:i}=t,a=e._blend||"multiply",o={colorPalette:i,bg:n,blendMode:r},s=Ve(e.bg,o),l={colorPalette:i,bg:s,blendMode:a};return{_blend:a,bg:s,border:Ve(e.border,l),fg:Ve(e.fg,l),muted:{bg:Ve(e.muted.bg,l)},placeholder:Ve(e.placeholder,l)}}function YLe(e,t){return{default:px(e.default,t),primary:px(e.primary,t),positive:px(e.positive,t),caution:px(e.caution,t),critical:px(e.critical,t)}}function px(e,t){return{enabled:_c(e.enabled,t),hovered:_c(e.hovered,t),pressed:_c(e.pressed,t),selected:_c(e.selected,t),disabled:_c(e.disabled,t)}}function qLe(e,t){const{colorPalette:n,baseBg:r,blendMode:i}=t,a={colorPalette:n,bg:r,blendMode:i};return{atrule:Ve(e.atrule,a),attrName:Ve(e.attrName,a),attrValue:Ve(e.attrValue,a),attribute:Ve(e.attribute,a),boolean:Ve(e.boolean,a),builtin:Ve(e.builtin,a),cdata:Ve(e.cdata,a),char:Ve(e.char,a),class:Ve(e.class,a),className:Ve(e.className,a),comment:Ve(e.comment,a),constant:Ve(e.constant,a),deleted:Ve(e.deleted,a),doctype:Ve(e.doctype,a),entity:Ve(e.entity,a),function:Ve(e.function,a),hexcode:Ve(e.hexcode,a),id:Ve(e.id,a),important:Ve(e.important,a),inserted:Ve(e.inserted,a),keyword:Ve(e.keyword,a),number:Ve(e.number,a),operator:Ve(e.operator,a),prolog:Ve(e.prolog,a),property:Ve(e.property,a),pseudoClass:Ve(e.pseudoClass,a),pseudoElement:Ve(e.pseudoElement,a),punctuation:Ve(e.punctuation,a),regex:Ve(e.regex,a),selector:Ve(e.selector,a),string:Ve(e.string,a),symbol:Ve(e.symbol,a),tag:Ve(e.tag,a),unit:Ve(e.unit,a),url:Ve(e.url,a),variable:Ve(e.variable,a)}}function ome(e){var t,n,r,i,a,o,s,l,c,d,h,p;const m=yLe(e),g={_version:2,avatar:(t=e==null?void 0:e.avatar)!=null?t:Xn.avatar,button:(n=e==null?void 0:e.button)!=null?n:Xn.button,card:(r=e==null?void 0:e.card)!=null?r:Xn.card,color:ULe(m,e),container:(i=e==null?void 0:e.container)!=null?i:Xn.container,font:(a=e==null?void 0:e.font)!=null?a:qNe,input:(o=e==null?void 0:e.input)!=null?o:Xn.input,layer:(s=e==null?void 0:e.layer)!=null?s:Xn.layer,media:(l=e==null?void 0:e.media)!=null?l:Xn.media,radius:(c=e==null?void 0:e.radius)!=null?c:Xn.radius,shadow:(d=e==null?void 0:e.shadow)!=null?d:Xn.shadow,space:(h=e==null?void 0:e.space)!=null?h:Xn.space,style:(p=e==null?void 0:e.style)!=null?p:Xn.style};return Xpe(g)}const d5=new Map;function KLe(e,t,n){const r=ZLe(e,t,n);if(r)return r;const i=NK(e)?Xpe(e):e,a=NK(e)?e:KNe(e),o=i.color[t]||i.color.light,s=o[n]||o.default,l=i.layer||Xn.layer,c=a.color[t]||a.color.light,d=c[n]||c.default,h=a.layer||Xn.layer,p={sanity:{...i,color:s,layer:l,v2:{...a,_resolved:!0,color:d,layer:h}}};return XLe(e,t,n,p),p}function ZLe(e,t,n){const r=d5.get(t);if(!r)return;const i=r.get(n);if(i)return i.get(e)}function XLe(e,t,n,r){d5.has(t)||d5.set(t,new Map);const i=d5.get(t);i.has(n)||i.set(n,new WeakMap),i.get(n).set(e,r)}var sme={exports:{}},or={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fa=typeof Symbol=="function"&&Symbol.for,q9=Fa?Symbol.for("react.element"):60103,K9=Fa?Symbol.for("react.portal"):60106,zI=Fa?Symbol.for("react.fragment"):60107,UI=Fa?Symbol.for("react.strict_mode"):60108,HI=Fa?Symbol.for("react.profiler"):60114,WI=Fa?Symbol.for("react.provider"):60109,GI=Fa?Symbol.for("react.context"):60110,Z9=Fa?Symbol.for("react.async_mode"):60111,YI=Fa?Symbol.for("react.concurrent_mode"):60111,qI=Fa?Symbol.for("react.forward_ref"):60112,KI=Fa?Symbol.for("react.suspense"):60113,JLe=Fa?Symbol.for("react.suspense_list"):60120,ZI=Fa?Symbol.for("react.memo"):60115,XI=Fa?Symbol.for("react.lazy"):60116,QLe=Fa?Symbol.for("react.block"):60121,e8e=Fa?Symbol.for("react.fundamental"):60117,t8e=Fa?Symbol.for("react.responder"):60118,n8e=Fa?Symbol.for("react.scope"):60119;function cl(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case q9:switch(e=e.type,e){case Z9:case YI:case zI:case HI:case UI:case KI:return e;default:switch(e=e&&e.$$typeof,e){case GI:case qI:case XI:case ZI:case WI:return e;default:return t}}case K9:return t}}}function lme(e){return cl(e)===YI}or.AsyncMode=Z9;or.ConcurrentMode=YI;or.ContextConsumer=GI;or.ContextProvider=WI;or.Element=q9;or.ForwardRef=qI;or.Fragment=zI;or.Lazy=XI;or.Memo=ZI;or.Portal=K9;or.Profiler=HI;or.StrictMode=UI;or.Suspense=KI;or.isAsyncMode=function(e){return lme(e)||cl(e)===Z9};or.isConcurrentMode=lme;or.isContextConsumer=function(e){return cl(e)===GI};or.isContextProvider=function(e){return cl(e)===WI};or.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===q9};or.isForwardRef=function(e){return cl(e)===qI};or.isFragment=function(e){return cl(e)===zI};or.isLazy=function(e){return cl(e)===XI};or.isMemo=function(e){return cl(e)===ZI};or.isPortal=function(e){return cl(e)===K9};or.isProfiler=function(e){return cl(e)===HI};or.isStrictMode=function(e){return cl(e)===UI};or.isSuspense=function(e){return cl(e)===KI};or.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===zI||e===YI||e===HI||e===UI||e===KI||e===JLe||typeof e=="object"&&e!==null&&(e.$$typeof===XI||e.$$typeof===ZI||e.$$typeof===WI||e.$$typeof===GI||e.$$typeof===qI||e.$$typeof===e8e||e.$$typeof===t8e||e.$$typeof===n8e||e.$$typeof===QLe)};or.typeOf=cl;sme.exports=or;var Gc=sme.exports;const r8e=Pe(Gc);var Oa=function(){return Oa=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Oa.apply(this,arguments)};function H1(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var Br="-ms-",Gw="-moz-",Yn="-webkit-",ume="comm",JI="rule",X9="decl",i8e="@import",cme="@keyframes",a8e="@layer",dme=Math.abs,J9=String.fromCharCode,W4=Object.assign;function o8e(e,t){return Aa(e,0)^45?(((t<<2^Aa(e,0))<<2^Aa(e,1))<<2^Aa(e,2))<<2^Aa(e,3):0}function fme(e){return e.trim()}function Pd(e,t){return(e=t.exec(e))?e[0]:e}function Xt(e,t,n){return e.replace(t,n)}function f5(e,t,n){return e.indexOf(t,n)}function Aa(e,t){return e.charCodeAt(t)|0}function W1(e,t,n){return e.slice(t,n)}function yc(e){return e.length}function hme(e){return e.length}function mw(e,t){return t.push(e),e}function s8e(e,t){return e.map(t).join("")}function YK(e,t){return e.filter(function(n){return!Pd(n,t)})}var QI=1,G1=1,pme=0,Jl=0,Xi=0,Wy="";function eD(e,t,n,r,i,a,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:QI,column:G1,length:o,return:"",siblings:s}}function mh(e,t){return W4(eD("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function av(e){for(;e.root;)e=mh(e.root,{children:[e]});mw(e,e.siblings)}function l8e(){return Xi}function u8e(){return Xi=Jl>0?Aa(Wy,--Jl):0,G1--,Xi===10&&(G1=1,QI--),Xi}function Fu(){return Xi=Jl<pme?Aa(Wy,Jl++):0,G1++,Xi===10&&(G1=1,QI++),Xi}function rg(){return Aa(Wy,Jl)}function h5(){return Jl}function tD(e,t){return W1(Wy,e,t)}function G4(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function c8e(e){return QI=G1=1,pme=yc(Wy=e),Jl=0,[]}function d8e(e){return Wy="",e}function bR(e){return fme(tD(Jl-1,Y4(e===91?e+2:e===40?e+1:e)))}function f8e(e){for(;(Xi=rg())&&Xi<33;)Fu();return G4(e)>2||G4(Xi)>3?"":" "}function h8e(e,t){for(;--t&&Fu()&&!(Xi<48||Xi>102||Xi>57&&Xi<65||Xi>70&&Xi<97););return tD(e,h5()+(t<6&&rg()==32&&Fu()==32))}function Y4(e){for(;Fu();)switch(Xi){case e:return Jl;case 34:case 39:e!==34&&e!==39&&Y4(Xi);break;case 40:e===41&&Y4(e);break;case 92:Fu();break}return Jl}function p8e(e,t){for(;Fu()&&e+Xi!==47+10;)if(e+Xi===42+42&&rg()===47)break;return"/*"+tD(t,Jl-1)+"*"+J9(e===47?e:Fu())}function m8e(e){for(;!G4(rg());)Fu();return tD(e,Jl)}function g8e(e){return d8e(p5("",null,null,null,[""],e=c8e(e),0,[0],e))}function p5(e,t,n,r,i,a,o,s,l){for(var c=0,d=0,h=o,p=0,m=0,g=0,v=1,b=1,y=1,x=0,w="",C=i,S=a,_=r,E=w;b;)switch(g=x,x=Fu()){case 40:if(g!=108&&Aa(E,h-1)==58){f5(E+=Xt(bR(x),"&","&\f"),"&\f",dme(c?s[c-1]:0))!=-1&&(y=-1);break}case 34:case 39:case 91:E+=bR(x);break;case 9:case 10:case 13:case 32:E+=f8e(g);break;case 92:E+=h8e(h5()-1,7);continue;case 47:switch(rg()){case 42:case 47:mw(v8e(p8e(Fu(),h5()),t,n,l),l);break;default:E+="/"}break;case 123*v:s[c++]=yc(E)*y;case 125*v:case 59:case 0:switch(x){case 0:case 125:b=0;case 59+d:y==-1&&(E=Xt(E,/\f/g,"")),m>0&&yc(E)-h&&mw(m>32?KK(E+";",r,n,h-1,l):KK(Xt(E," ","")+";",r,n,h-2,l),l);break;case 59:E+=";";default:if(mw(_=qK(E,t,n,c,d,i,s,w,C=[],S=[],h,a),a),x===123)if(d===0)p5(E,t,_,_,C,a,h,s,S);else switch(p===99&&Aa(E,3)===110?100:p){case 100:case 108:case 109:case 115:p5(e,_,_,r&&mw(qK(e,_,_,0,0,i,s,w,i,C=[],h,S),S),i,S,h,s,r?C:S);break;default:p5(E,_,_,_,[""],S,0,s,S)}}c=d=m=0,v=y=1,w=E="",h=o;break;case 58:h=1+yc(E),m=g;default:if(v<1){if(x==123)--v;else if(x==125&&v++==0&&u8e()==125)continue}switch(E+=J9(x),x*v){case 38:y=d>0?1:(E+="\f",-1);break;case 44:s[c++]=(yc(E)-1)*y,y=1;break;case 64:rg()===45&&(E+=bR(Fu())),p=rg(),d=h=yc(w=E+=m8e(h5())),x++;break;case 45:g===45&&yc(E)==2&&(v=0)}}return a}function qK(e,t,n,r,i,a,o,s,l,c,d,h){for(var p=i-1,m=i===0?a:[""],g=hme(m),v=0,b=0,y=0;v<r;++v)for(var x=0,w=W1(e,p+1,p=dme(b=o[v])),C=e;x<g;++x)(C=fme(b>0?m[x]+" "+w:Xt(w,/&\f/g,m[x])))&&(l[y++]=C);return eD(e,t,n,i===0?JI:s,l,c,d,h)}function v8e(e,t,n,r){return eD(e,t,n,ume,J9(l8e()),W1(e,2,-2),0,r)}function KK(e,t,n,r,i){return eD(e,t,n,X9,W1(e,0,r),W1(e,r+1,-1),r,i)}function mme(e,t,n){switch(o8e(e,t)){case 5103:return Yn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Yn+e+e;case 4789:return Gw+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Yn+e+Gw+e+Br+e+e;case 5936:switch(Aa(e,t+11)){case 114:return Yn+e+Br+Xt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Yn+e+Br+Xt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Yn+e+Br+Xt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return Yn+e+Br+e+e;case 6165:return Yn+e+Br+"flex-"+e+e;case 5187:return Yn+e+Xt(e,/(\w+).+(:[^]+)/,Yn+"box-$1$2"+Br+"flex-$1$2")+e;case 5443:return Yn+e+Br+"flex-item-"+Xt(e,/flex-|-self/g,"")+(Pd(e,/flex-|baseline/)?"":Br+"grid-row-"+Xt(e,/flex-|-self/g,""))+e;case 4675:return Yn+e+Br+"flex-line-pack"+Xt(e,/align-content|flex-|-self/g,"")+e;case 5548:return Yn+e+Br+Xt(e,"shrink","negative")+e;case 5292:return Yn+e+Br+Xt(e,"basis","preferred-size")+e;case 6060:return Yn+"box-"+Xt(e,"-grow","")+Yn+e+Br+Xt(e,"grow","positive")+e;case 4554:return Yn+Xt(e,/([^-])(transform)/g,"$1"+Yn+"$2")+e;case 6187:return Xt(Xt(Xt(e,/(zoom-|grab)/,Yn+"$1"),/(image-set)/,Yn+"$1"),e,"")+e;case 5495:case 3959:return Xt(e,/(image-set\([^]*)/,Yn+"$1$`$1");case 4968:return Xt(Xt(e,/(.+:)(flex-)?(.*)/,Yn+"box-pack:$3"+Br+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Yn+e+e;case 4200:if(!Pd(e,/flex-|baseline/))return Br+"grid-column-align"+W1(e,t)+e;break;case 2592:case 3360:return Br+Xt(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(r,i){return t=i,Pd(r.props,/grid-\w+-end/)})?~f5(e+(n=n[t].value),"span",0)?e:Br+Xt(e,"-start","")+e+Br+"grid-row-span:"+(~f5(n,"span",0)?Pd(n,/\d+/):+Pd(n,/\d+/)-+Pd(e,/\d+/))+";":Br+Xt(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(r){return Pd(r.props,/grid-\w+-start/)})?e:Br+Xt(Xt(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return Xt(e,/(.+)-inline(.+)/,Yn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(yc(e)-1-t>6)switch(Aa(e,t+1)){case 109:if(Aa(e,t+4)!==45)break;case 102:return Xt(e,/(.+:)(.+)-([^]+)/,"$1"+Yn+"$2-$3$1"+Gw+(Aa(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~f5(e,"stretch",0)?mme(Xt(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return Xt(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,a,o,s,l,c){return Br+i+":"+a+c+(o?Br+i+"-span:"+(s?l:+l-+a)+c:"")+e});case 4949:if(Aa(e,t+6)===121)return Xt(e,":",":"+Yn)+e;break;case 6444:switch(Aa(e,Aa(e,14)===45?18:11)){case 120:return Xt(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Yn+(Aa(e,14)===45?"inline-":"")+"box$3$1"+Yn+"$2$3$1"+Br+"$2box$3")+e;case 100:return Xt(e,":",":"+Br)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Xt(e,"scroll-","scroll-snap-")+e}return e}function MT(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function y8e(e,t,n,r){switch(e.type){case a8e:if(e.children.length)break;case i8e:case X9:return e.return=e.return||e.value;case ume:return"";case cme:return e.return=e.value+"{"+MT(e.children,r)+"}";case JI:if(!yc(e.value=e.props.join(",")))return""}return yc(n=MT(e.children,r))?e.return=e.value+"{"+n+"}":""}function b8e(e){var t=hme(e);return function(n,r,i,a){for(var o="",s=0;s<t;s++)o+=e[s](n,r,i,a)||"";return o}}function x8e(e){return function(t){t.root||(t=t.return)&&e(t)}}function w8e(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case X9:e.return=mme(e.value,e.length,n);return;case cme:return MT([mh(e,{value:Xt(e.value,"@","@"+Yn)})],r);case JI:if(e.length)return s8e(n=e.props,function(i){switch(Pd(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":av(mh(e,{props:[Xt(i,/:(read-\w+)/,":"+Gw+"$1")]})),av(mh(e,{props:[i]})),W4(e,{props:YK(n,r)});break;case"::placeholder":av(mh(e,{props:[Xt(i,/:(plac\w+)/,":"+Yn+"input-$1")]})),av(mh(e,{props:[Xt(i,/:(plac\w+)/,":"+Gw+"$1")]})),av(mh(e,{props:[Xt(i,/:(plac\w+)/,Br+"input-$1")]})),av(mh(e,{props:[i]})),W4(e,{props:YK(n,r)});break}return""})}}var C8e={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Y1=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",gme="active",vme="data-styled-version",nD="6.1.12",Q9=`/*!sc*/
`,RT=typeof window<"u"&&"HTMLElement"in window,S8e=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),_8e={},rD=Object.freeze([]),q1=Object.freeze({});function yme(e,t,n){return n===void 0&&(n=q1),e.theme!==n.theme&&e.theme||t||n.theme}var bme=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),E8e=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,k8e=/(^-|-$)/g;function ZK(e){return e.replace(E8e,"-").replace(k8e,"")}var T8e=/(a)(d)/gi,eE=52,XK=function(e){return String.fromCharCode(e+(e>25?39:97))};function q4(e){var t,n="";for(t=Math.abs(e);t>eE;t=t/eE|0)n=XK(t%eE)+n;return(XK(t%eE)+n).replace(T8e,"$1-$2")}var xR,xme=5381,zv=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},wme=function(e){return zv(xme,e)};function eB(e){return q4(wme(e)>>>0)}function A8e(e){return e.displayName||e.name||"Component"}function wR(e){return typeof e=="string"&&!0}var Cme=typeof Symbol=="function"&&Symbol.for,Sme=Cme?Symbol.for("react.memo"):60115,j8e=Cme?Symbol.for("react.forward_ref"):60112,I8e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},D8e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},_me={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},$8e=((xR={})[j8e]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},xR[Sme]=_me,xR);function JK(e){return("type"in(t=e)&&t.type.$$typeof)===Sme?_me:"$$typeof"in e?$8e[e.$$typeof]:I8e;var t}var O8e=Object.defineProperty,M8e=Object.getOwnPropertyNames,QK=Object.getOwnPropertySymbols,R8e=Object.getOwnPropertyDescriptor,P8e=Object.getPrototypeOf,eZ=Object.prototype;function Eme(e,t,n){if(typeof t!="string"){if(eZ){var r=P8e(t);r&&r!==eZ&&Eme(e,r,n)}var i=M8e(t);QK&&(i=i.concat(QK(t)));for(var a=JK(e),o=JK(t),s=0;s<i.length;++s){var l=i[s];if(!(l in D8e||n&&n[l]||o&&l in o||a&&l in a)){var c=R8e(t,l);try{O8e(e,l,c)}catch{}}}}return e}function kg(e){return typeof e=="function"}function tB(e){return typeof e=="object"&&"styledComponentId"in e}function Hm(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function PT(e,t){if(e.length===0)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function MC(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function K4(e,t,n){if(n===void 0&&(n=!1),!n&&!MC(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=K4(e[r],t[r]);else if(MC(t))for(var r in t)e[r]=K4(e[r],t[r]);return e}function nB(e,t){Object.defineProperty(e,"toString",{value:t})}function yp(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var F8e=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var n=0,r=0;r<t;r++)n+=this.groupSizes[r];return n},e.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,a=i;t>=a;)if((a<<=1)<0)throw yp(16,"".concat(t));this.groupSizes=new Uint32Array(a),this.groupSizes.set(r),this.length=a;for(var o=i;o<a;o++)this.groupSizes[o]=0}for(var s=this.indexOfGroup(t+1),l=(o=0,n.length);o<l;o++)this.tag.insertRule(s,n[o])&&(this.groupSizes[t]++,s++)},e.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],r=this.indexOfGroup(t),i=r+n;this.groupSizes[t]=0;for(var a=r;a<i;a++)this.tag.deleteRule(r)}},e.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var r=this.groupSizes[t],i=this.indexOfGroup(t),a=i+r,o=i;o<a;o++)n+="".concat(this.tag.getRule(o)).concat(Q9);return n},e}(),m5=new Map,FT=new Map,g5=1,tE=function(e){if(m5.has(e))return m5.get(e);for(;FT.has(g5);)g5++;var t=g5++;return m5.set(e,t),FT.set(t,e),t},N8e=function(e,t){g5=t+1,m5.set(e,t),FT.set(t,e)},L8e="style[".concat(Y1,"][").concat(vme,'="').concat(nD,'"]'),B8e=new RegExp("^".concat(Y1,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),V8e=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},z8e=function(e,t){for(var n,r=((n=t.textContent)!==null&&n!==void 0?n:"").split(Q9),i=[],a=0,o=r.length;a<o;a++){var s=r[a].trim();if(s){var l=s.match(B8e);if(l){var c=0|parseInt(l[1],10),d=l[2];c!==0&&(N8e(d,c),V8e(e,d,l[3]),e.getTag().insertRules(c,i)),i.length=0}else i.push(s)}}},tZ=function(e){for(var t=document.querySelectorAll(L8e),n=0,r=t.length;n<r;n++){var i=t[n];i&&i.getAttribute(Y1)!==gme&&(z8e(e,i),i.parentNode&&i.parentNode.removeChild(i))}};function U8e(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var kme=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(s){var l=Array.from(s.querySelectorAll("style[".concat(Y1,"]")));return l[l.length-1]}(n),a=i!==void 0?i.nextSibling:null;r.setAttribute(Y1,gme),r.setAttribute(vme,nD);var o=U8e();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},H8e=function(){function e(t){this.element=kme(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,a=r.length;i<a;i++){var o=r[i];if(o.ownerNode===n)return o}throw yp(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},e}(),W8e=function(){function e(t){this.element=kme(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),G8e=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),nZ=RT,Y8e={isServer:!RT,useCSSOMInjection:!S8e},NT=function(){function e(t,n,r){t===void 0&&(t=q1),n===void 0&&(n={});var i=this;this.options=Oa(Oa({},Y8e),t),this.gs=n,this.names=new Map(r),this.server=!!t.isServer,!this.server&&RT&&nZ&&(nZ=!1,tZ(this)),nB(this,function(){return function(a){for(var o=a.getTag(),s=o.length,l="",c=function(h){var p=function(y){return FT.get(y)}(h);if(p===void 0)return"continue";var m=a.names.get(p),g=o.getGroup(h);if(m===void 0||!m.size||g.length===0)return"continue";var v="".concat(Y1,".g").concat(h,'[id="').concat(p,'"]'),b="";m!==void 0&&m.forEach(function(y){y.length>0&&(b+="".concat(y,","))}),l+="".concat(g).concat(v,'{content:"').concat(b,'"}').concat(Q9)},d=0;d<s;d++)c(d);return l}(i)})}return e.registerId=function(t){return tE(t)},e.prototype.rehydrate=function(){!this.server&&RT&&tZ(this)},e.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new e(Oa(Oa({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new G8e(i):r?new H8e(i):new W8e(i)}(this.options),new F8e(t)));var t},e.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},e.prototype.registerName=function(t,n){if(tE(t),this.names.has(t))this.names.get(t).add(n);else{var r=new Set;r.add(n),this.names.set(t,r)}},e.prototype.insertRules=function(t,n,r){this.registerName(t,n),this.getTag().insertRules(tE(t),r)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(tE(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),q8e=/&/g,K8e=/^\s*\/\/.*$/gm;function Tme(e,t){return e.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(r){return"".concat(t," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=Tme(n.children,t)),n})}function Z8e(e){var t,n,r,i=e===void 0?q1:e,a=i.options,o=a===void 0?q1:a,s=i.plugins,l=s===void 0?rD:s,c=function(p,m,g){return g.startsWith(n)&&g.endsWith(n)&&g.replaceAll(n,"").length>0?".".concat(t):p},d=l.slice();d.push(function(p){p.type===JI&&p.value.includes("&")&&(p.props[0]=p.props[0].replace(q8e,n).replace(r,c))}),o.prefix&&d.push(w8e),d.push(y8e);var h=function(p,m,g,v){m===void 0&&(m=""),g===void 0&&(g=""),v===void 0&&(v="&"),t=v,n=m,r=new RegExp("\\".concat(n,"\\b"),"g");var b=p.replace(K8e,""),y=g8e(g||m?"".concat(g," ").concat(m," { ").concat(b," }"):b);o.namespace&&(y=Tme(y,o.namespace));var x=[];return MT(y,b8e(d.concat(x8e(function(w){return x.push(w)})))),x};return h.hash=l.length?l.reduce(function(p,m){return m.name||yp(15),zv(p,m.name)},xme).toString():"",h}var X8e=new NT,Z4=Z8e(),Ame=Ye.createContext({shouldForwardProp:void 0,styleSheet:X8e,stylis:Z4});Ame.Consumer;Ye.createContext(void 0);function X4(){return f.useContext(Ame)}var jme=function(){function e(t,n){var r=this;this.inject=function(i,a){a===void 0&&(a=Z4);var o=r.name+a.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,a(r.rules,o,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,nB(this,function(){throw yp(12,String(r.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=Z4),this.name+t.hash},e}(),J8e=function(e){return e>="A"&&e<="Z"};function rZ(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(n===1&&r==="-"&&e[0]==="-")return e;J8e(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var Ime=function(e){return e==null||e===!1||e===""},Dme=function(e){var t,n,r=[];for(var i in e){var a=e[i];e.hasOwnProperty(i)&&!Ime(a)&&(Array.isArray(a)&&a.isCss||kg(a)?r.push("".concat(rZ(i),":"),a,";"):MC(a)?r.push.apply(r,H1(H1(["".concat(i," {")],Dme(a),!1),["}"],!1)):r.push("".concat(rZ(i),": ").concat((t=i,(n=a)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in C8e||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function ip(e,t,n,r){if(Ime(e))return[];if(tB(e))return[".".concat(e.styledComponentId)];if(kg(e)){if(!kg(a=e)||a.prototype&&a.prototype.isReactComponent||!t)return[e];var i=e(t);return ip(i,t,n,r)}var a;return e instanceof jme?n?(e.inject(n,r),[e.getName(r)]):[e]:MC(e)?Dme(e):Array.isArray(e)?Array.prototype.concat.apply(rD,e.map(function(o){return ip(o,t,n,r)})):[e.toString()]}function $me(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(kg(n)&&!tB(n))return!1}return!0}var Q8e=wme(nD),e6e=function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&$me(t),this.componentId=n,this.baseHash=zv(Q8e,n),this.baseStyle=r,NT.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Hm(i,this.staticRulesId);else{var a=PT(ip(this.rules,t,n,r)),o=q4(zv(this.baseHash,a)>>>0);if(!n.hasNameForId(this.componentId,o)){var s=r(a,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,s)}i=Hm(i,o),this.staticRulesId=o}else{for(var l=zv(this.baseHash,r.hash),c="",d=0;d<this.rules.length;d++){var h=this.rules[d];if(typeof h=="string")c+=h;else if(h){var p=PT(ip(h,t,n,r));l=zv(l,p+d),c+=p}}if(c){var m=q4(l>>>0);n.hasNameForId(this.componentId,m)||n.insertRules(this.componentId,m,r(c,".".concat(m),void 0,this.componentId)),i=Hm(i,m)}}return i},e}(),K1=Ye.createContext(void 0);K1.Consumer;function Ome(){var e=f.useContext(K1);if(!e)throw yp(18);return e}function t6e(e){var t=Ye.useContext(K1),n=f.useMemo(function(){return function(r,i){if(!r)throw yp(14);if(kg(r)){var a=r(i);return a}if(Array.isArray(r)||typeof r!="object")throw yp(8);return i?Oa(Oa({},i),r):r}(e.theme,t)},[e.theme,t]);return e.children?Ye.createElement(K1.Provider,{value:n},e.children):null}var CR={};function n6e(e,t,n){var r=tB(e),i=e,a=!wR(e),o=t.attrs,s=o===void 0?rD:o,l=t.componentId,c=l===void 0?function(C,S){var _=typeof C!="string"?"sc":ZK(C);CR[_]=(CR[_]||0)+1;var E="".concat(_,"-").concat(eB(nD+_+CR[_]));return S?"".concat(S,"-").concat(E):E}(t.displayName,t.parentComponentId):l,d=t.displayName,h=d===void 0?function(C){return wR(C)?"styled.".concat(C):"Styled(".concat(A8e(C),")")}(e):d,p=t.displayName&&t.componentId?"".concat(ZK(t.displayName),"-").concat(t.componentId):t.componentId||c,m=r&&i.attrs?i.attrs.concat(s).filter(Boolean):s,g=t.shouldForwardProp;if(r&&i.shouldForwardProp){var v=i.shouldForwardProp;if(t.shouldForwardProp){var b=t.shouldForwardProp;g=function(C,S){return v(C,S)&&b(C,S)}}else g=v}var y=new e6e(n,p,r?i.componentStyle:void 0);function x(C,S){return function(_,E,k){var T=_.attrs,j=_.componentStyle,I=_.defaultProps,A=_.foldedComponentIds,$=_.styledComponentId,D=_.target,M=Ye.useContext(K1),O=X4(),F=_.shouldForwardProp||O.shouldForwardProp,P=yme(E,M,I)||q1,V=function(q,Z,K){for(var J,Q=Oa(Oa({},Z),{className:void 0,theme:K}),re=0;re<q.length;re+=1){var ae=kg(J=q[re])?J(Q):J;for(var ne in ae)Q[ne]=ne==="className"?Hm(Q[ne],ae[ne]):ne==="style"?Oa(Oa({},Q[ne]),ae[ne]):ae[ne]}return Z.className&&(Q.className=Hm(Q.className,Z.className)),Q}(T,E,P),H=V.as||D,W={};for(var G in V)V[G]===void 0||G[0]==="$"||G==="as"||G==="theme"&&V.theme===P||(G==="forwardedAs"?W.as=V.forwardedAs:F&&!F(G,H)||(W[G]=V[G]));var X=function(q,Z){var K=X4(),J=q.generateAndInjectStyles(Z,K.styleSheet,K.stylis);return J}(j,V),z=Hm(A,$);return X&&(z+=" "+X),V.className&&(z+=" "+V.className),W[wR(H)&&!bme.has(H)?"class":"className"]=z,W.ref=k,f.createElement(H,W)}(w,C,S)}x.displayName=h;var w=Ye.forwardRef(x);return w.attrs=m,w.componentStyle=y,w.displayName=h,w.shouldForwardProp=g,w.foldedComponentIds=r?Hm(i.foldedComponentIds,i.styledComponentId):"",w.styledComponentId=p,w.target=r?i.target:e,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(C){this._foldedDefaultProps=r?function(S){for(var _=[],E=1;E<arguments.length;E++)_[E-1]=arguments[E];for(var k=0,T=_;k<T.length;k++)K4(S,T[k],!0);return S}({},i.defaultProps,C):C}}),nB(w,function(){return".".concat(w.styledComponentId)}),a&&Eme(w,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function iZ(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var aZ=function(e){return Object.assign(e,{isCss:!0})};function ce(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(kg(e)||MC(e))return aZ(ip(iZ(rD,H1([e],t,!0))));var r=e;return t.length===0&&r.length===1&&typeof r[0]=="string"?ip(r):aZ(ip(iZ(r,t)))}function J4(e,t,n){if(n===void 0&&(n=q1),!t)throw yp(1,t);var r=function(i){for(var a=[],o=1;o<arguments.length;o++)a[o-1]=arguments[o];return e(t,n,ce.apply(void 0,H1([i],a,!1)))};return r.attrs=function(i){return J4(e,t,Oa(Oa({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return J4(e,t,Oa(Oa({},n),i))},r}var Mme=function(e){return J4(n6e,e)},R=Mme;bme.forEach(function(e){R[e]=Mme(e)});var r6e=function(){function e(t,n){this.rules=t,this.componentId=n,this.isStatic=$me(t),NT.registerId(this.componentId+1)}return e.prototype.createStyles=function(t,n,r,i){var a=i(PT(ip(this.rules,n,r,i)),""),o=this.componentId+t;r.insertRules(o,o,a)},e.prototype.removeStyles=function(t,n){n.clearRules(this.componentId+t)},e.prototype.renderStyles=function(t,n,r,i){t>2&&NT.registerId(this.componentId+t),this.removeStyles(t,r),this.createStyles(t,n,r,i)},e}();function i6e(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=ce.apply(void 0,H1([e],t,!1)),i="sc-global-".concat(eB(JSON.stringify(r))),a=new r6e(r,i),o=function(l){var c=X4(),d=Ye.useContext(K1),h=Ye.useRef(c.styleSheet.allocateGSInstance(i)).current;return c.styleSheet.server&&s(h,l,c.styleSheet,d,c.stylis),Ye.useLayoutEffect(function(){if(!c.styleSheet.server)return s(h,l,c.styleSheet,d,c.stylis),function(){return a.removeStyles(h,c.styleSheet)}},[h,l,c.styleSheet,d,c.stylis]),null};function s(l,c,d,h,p){if(a.isStatic)a.renderStyles(l,_8e,d,p);else{var m=Oa(Oa({},c),{theme:yme(c,h,o.defaultProps)});a.renderStyles(l,m,d,p)}}return Ye.memo(o)}function Np(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=PT(ce.apply(void 0,H1([e],t,!1))),i=eB(r);return new jme(i,r)}const gf=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"access-denied",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M18.1568 6.84315C21.281 9.96734 21.281 15.0327 18.1568 18.1569C15.0326 21.281 9.96733 21.281 6.84313 18.1569C3.71894 15.0327 3.71894 9.96734 6.84313 6.84315C9.96733 3.71895 15.0326 3.71895 18.1568 6.84315ZM18.1568 6.84315L6.844 18.156",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});gf.displayName="ForwardRef(AccessDeniedIcon)";const Rme=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"activity",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M21 15H19L15.5 7L11 18L8 12L6 15H4",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Rme.displayName="ForwardRef(ActivityIcon)";const LT=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"add-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M8 12.4H17M12.5 8V17M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});LT.displayName="ForwardRef(AddCircleIcon)";const iD=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"add-comment",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M13 6.5H7.5C6.39543 6.5 5.5 7.39543 5.5 8.5V14.5C5.5 15.6046 6.39543 16.5 7.5 16.5H9.5V20.5L13.5 16.5H16.5C17.6046 16.5 18.5 15.6046 18.5 14.5V12M15 6.5H22M18.5 10V3",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});iD.displayName="ForwardRef(AddCommentIcon)";const Pme=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"add-document",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M11.5 4.5H18.5V12M11.5 4.5L6.5 9.5M11.5 4.5V9.5H6.5M6.5 9.5V19.5H11M20 17.5H16.5M16.5 17.5H13M16.5 17.5V14M16.5 17.5V21",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});Pme.displayName="ForwardRef(AddDocumentIcon)";const wa=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"add",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 5V20M5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});wa.displayName="ForwardRef(AddIcon)";const Fme=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"api",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M5.93047 13.2107L6.66782 10.3728H6.73089L7.45854 13.2107H5.93047ZM8.17164 16H9.66089L7.56041 9H5.93047L3.82999 16H5.20767L5.65396 14.2876H7.73505L8.17164 16Z",fill:"currentColor"}),u.jsx("path",{d:"M10.5389 9V16H11.9166V13.7782H13.0323C14.541 13.7782 15.5015 12.8517 15.5015 11.3964C15.5015 9.92654 14.5701 9 13.1003 9H10.5389ZM11.9166 10.1303H12.751C13.6533 10.1303 14.1044 10.5475 14.1044 11.3867C14.1044 12.2308 13.6533 12.6431 12.751 12.6431H11.9166V10.1303Z",fill:"currentColor"}),u.jsx("path",{d:"M21.1675 16V14.8164H19.717V10.1836H21.1675V9H16.8889V10.1836H18.3393V14.8164H16.8889V16H21.1675Z",fill:"currentColor"})]})});Fme.displayName="ForwardRef(ApiIcon)";const Nme=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"archive",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M12.5 10V17M20.5 7.5V20.5H4.5V7.5L7.5 4.5H17.5L20.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M4.5 7.5H20.5M16 14L12.5 17.5L9 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});Nme.displayName="ForwardRef(ArchiveIcon)";const rB=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"arrow-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M12.5 19.5V5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M18 14L12.5 19.5L7 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});rB.displayName="ForwardRef(ArrowDownIcon)";const Gy=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"arrow-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M5.5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M11 18L5.5 12.5L11 7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});Gy.displayName="ForwardRef(ArrowLeftIcon)";const iB=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"arrow-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M19.5 12.5H5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M14 7L19.5 12.5L14 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});iB.displayName="ForwardRef(ArrowRightIcon)";const Lme=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"arrow-top-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M16.5 8.5L7 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M9 8.5H16.5V16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});Lme.displayName="ForwardRef(ArrowTopRightIcon)";const Bme=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"arrow-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M7 11L12.5 5.5L18 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M12.5 5.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});Bme.displayName="ForwardRef(ArrowUpIcon)";const Vme=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"asterisk",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 4V21M16.75 5.13879L8.25 19.8612M19.8612 8.25L5.13878 16.75M4.00002 12.5H21M5.13881 8.25L19.8612 16.75M8.25002 5.13879L16.75 19.8612",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Vme.displayName="ForwardRef(AsteriskIcon)";const zme=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"bar-chart",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M5.5 5V19.5H20M8.5 18V13M11.5 18V9M14.5 18V11M17.5 18V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});zme.displayName="ForwardRef(BarChartIcon)";const Ume=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"basket",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M8.5 10.5H5L6.5 19.5H18.5L20 10.5H16.5M8.5 10.5L10.2721 5.18377C10.4082 4.77543 10.7903 4.5 11.2208 4.5H13.7792C14.2097 4.5 14.5918 4.77543 14.7279 5.18377L16.5 10.5M8.5 10.5H16.5M8.5 10.5L9.5 19.5M16.5 10.5L15.5 19.5M12.5 10.5V19.5M19.5 13.5H5.5M19 16.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Ume.displayName="ForwardRef(BasketIcon)";const Hme=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"bell",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M10.5 17.5V18.5C10.5 20 11.5 20.5 12.5 20.5C13.5 20.5 14.5 20 14.5 18.5V17.5M5.5 17.5C6.5 16 6.5 15 6.5 12C6.5 8 8.5 5.5 12.5 5.5C16.5 5.5 18.5 8 18.5 12C18.5 15 18.5 16 19.5 17.5H5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Hme.displayName="ForwardRef(BellIcon)";const Wme=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"bill",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M6.50001 5.5C8.50003 5.5 8.50003 8 8.50003 8V9.5M6.50001 5.5C4.5 5.5 4.5 8 4.5 8L4.50001 9.5H8.50003M6.50001 5.5C6.50001 5.5 15.8333 5.5 17.6667 5.5C19.5 5.5 19.5 8.5 19.5 8.5V20L17.6667 19L15.8333 20L14 19L12.1667 20L10.3334 19L8.50003 20V9.5M11 12.5H15M11 9.5H16M11 15.5H16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Wme.displayName="ForwardRef(BillIcon)";const Yy=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"binary-document",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M9.5 12.5V17.5M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5ZM12.5 12.5V17.5H15.5V12.5H12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})]})});Yy.displayName="ForwardRef(BinaryDocumentIcon)";const aB=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"block-content",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 7.60002L11 7.60003V6.40003L21 6.40002V7.60002Z",fill:"currentColor"}),u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 11.2667L12.4833 11.2667V10.0667L21 10.0667V11.2667Z",fill:"currentColor"}),u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 14.9334H13.9254V13.7334L21 13.7334V14.9334Z",fill:"currentColor"}),u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 18.6002H4V17.4002H21V18.6002Z",fill:"currentColor"}),u.jsx("path",{d:"M9.86438 15.6H11.2L8.27623 7.60003H6.92377L4 15.6H5.29072L6.0371 13.4767H9.12362L9.86438 15.6ZM7.53546 9.05255H7.63086L8.80374 12.4344H6.35698L7.53546 9.05255Z",fill:"currentColor"})]})});aB.displayName="ForwardRef(BlockContentIcon)";const oB=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"block-element",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M5 19.5H20M5 5.5H20M6.5 8.5H18.5V16.5H6.5V8.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});oB.displayName="ForwardRef(BlockElementIcon)";const Gme=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"blockquote",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M10 17.5H19M6 7.5H19M10 12.5H17M6.5 12V18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Gme.displayName="ForwardRef(BlockquoteIcon)";const sB=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"bold",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M13.2087 18C15.5322 18 16.9731 16.793 16.9731 14.8844C16.9731 13.4812 15.9245 12.3949 14.4836 12.2892V12.1534C15.6001 11.9875 16.4526 10.9841 16.4526 9.82991C16.4526 8.14761 15.1927 7.11409 13.0804 7.11409H8.32019V18H13.2087ZM10.5985 8.85674H12.4995C13.5859 8.85674 14.212 9.37727 14.212 10.2448C14.212 11.1199 13.5406 11.6254 12.3109 11.6254H10.5985V8.85674ZM10.5985 16.2574V13.1643H12.575C13.9178 13.1643 14.6496 13.6924 14.6496 14.6882C14.6496 15.7066 13.9404 16.2574 12.6278 16.2574H10.5985Z",fill:"currentColor"})})});sB.displayName="ForwardRef(BoldIcon)";const aD=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"bolt",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M18 11.5L9 21L11 13.5H7L16 4L14 11.5H18Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});aD.displayName="ForwardRef(BoltIcon)";const Yme=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"book",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M20.5 17.5V5.5L12.5 6.5M20.5 17.5L12.5 18.5M20.5 17.5V18.5M4.5 17.5V5.5L12.5 6.5M4.5 17.5L12.5 18.5M4.5 17.5V18.5M12.5 18.5L4.5 19.5V18.5M12.5 18.5L20.5 19.5V18.5M12.5 18.5V6.5M12.5 18.5H4.5M12.5 18.5H20.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Yme.displayName="ForwardRef(BookIcon)";const qme=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"bottle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M7.5 17.5L17.5 17.5M17.5 13C17.5 12.087 17.5 11.3518 17.5 11C17.5 8.5 14.5 9 14.5 7.37494L14.5 5.5M17.5 13C17.5 15.1229 17.5 18.7543 17.5 20.5022C17.5 21.0545 17.0523 21.5 16.5 21.5L8.5 21.5C7.94772 21.5 7.5 21.0547 7.5 20.5024C7.5 18.8157 7.5 15.3546 7.5 13M17.5 13L7.5 13M7.5 13C7.5 12.2538 7.5 11.5648 7.5 11C7.5 8.5 10.5 9 10.5 7.37494L10.5 5.5M10.5 5.5L10.5 3.99999C10.5 3.72385 10.7239 3.49999 11 3.49999L14 3.49999C14.2761 3.49999 14.5 3.72385 14.5 3.99999L14.5 5.5M10.5 5.5L14.5 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});qme.displayName="ForwardRef(BottleIcon)";const Kme=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"bulb-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.4272 14.3368C15.8273 15.1773 15.5 16.1794 15.5 17.212V18.5C15.5 19.0523 15.0523 19.5 14.5 19.5H14V20.5C14 21.0523 13.5523 21.5 13 21.5H12C11.4477 21.5 11 21.0523 11 20.5V19.5H10.5C9.94772 19.5 9.5 19.0523 9.5 18.5V17.212C9.5 16.1794 9.17266 15.1773 8.57284 14.3368C7.60216 12.9767 7 11.94 7 10C7 7 9.5 4.5 12.5 4.5C15.5 4.5 18 7 18 10C18 11.94 17.3978 12.9767 16.4272 14.3368Z",fill:"currentColor"}),u.jsx("path",{d:"M16.4272 14.3368L15.9388 13.9883L15.9388 13.9883L16.4272 14.3368ZM14 19.5V18.9H13.4V19.5H14ZM11 19.5H11.6V18.9H11V19.5ZM8.57284 14.3368L9.06122 13.9883L9.06122 13.9883L8.57284 14.3368ZM16.1 17.212C16.1 16.3069 16.3868 15.4261 16.9155 14.6853L15.9388 13.9883C15.2678 14.9284 14.9 16.0519 14.9 17.212H16.1ZM16.1 18.5V17.212H14.9V18.5H16.1ZM14.5 20.1C15.3837 20.1 16.1 19.3837 16.1 18.5H14.9C14.9 18.7209 14.7209 18.9 14.5 18.9V20.1ZM14 20.1H14.5V18.9H14V20.1ZM13.4 19.5V20.5H14.6V19.5H13.4ZM13.4 20.5C13.4 20.7209 13.2209 20.9 13 20.9V22.1C13.8837 22.1 14.6 21.3837 14.6 20.5H13.4ZM13 20.9H12V22.1H13V20.9ZM12 20.9C11.7791 20.9 11.6 20.7209 11.6 20.5H10.4C10.4 21.3837 11.1163 22.1 12 22.1V20.9ZM11.6 20.5V19.5H10.4V20.5H11.6ZM10.5 20.1H11V18.9H10.5V20.1ZM8.9 18.5C8.9 19.3837 9.61634 20.1 10.5 20.1V18.9C10.2791 18.9 10.1 18.7209 10.1 18.5H8.9ZM8.9 17.212V18.5H10.1V17.212H8.9ZM8.08446 14.6853C8.61315 15.4261 8.9 16.3069 8.9 17.212H10.1C10.1 16.0519 9.73217 14.9284 9.06122 13.9883L8.08446 14.6853ZM6.4 10C6.4 11.0377 6.56208 11.8595 6.86624 12.611C7.16624 13.3521 7.59495 13.9995 8.08446 14.6853L9.06122 13.9883C8.58004 13.314 8.22233 12.7629 7.97858 12.1607C7.739 11.5688 7.6 10.9023 7.6 10H6.4ZM12.5 3.9C9.16863 3.9 6.4 6.66863 6.4 10H7.6C7.6 7.33137 9.83137 5.1 12.5 5.1V3.9ZM18.6 10C18.6 6.66863 15.8314 3.9 12.5 3.9V5.1C15.1686 5.1 17.4 7.33137 17.4 10H18.6ZM16.9155 14.6853C17.4051 13.9995 17.8338 13.3521 18.1338 12.611C18.4379 11.8595 18.6 11.0377 18.6 10H17.4C17.4 10.9023 17.261 11.5688 17.0214 12.1607C16.7777 12.7629 16.42 13.314 15.9388 13.9883L16.9155 14.6853Z",fill:"currentColor"})]})});Kme.displayName="ForwardRef(BulbFilledIcon)";const a2=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"bulb-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M9.5 16.5H15.5M11 20V20.5C11 21.0523 11.4477 21.5 12 21.5H13C13.5523 21.5 14 21.0523 14 20.5V20M18 10C18 11.94 17.3978 12.9767 16.4272 14.3368C15.8273 15.1773 15.5 16.1794 15.5 17.212V18.5C15.5 19.0523 15.0523 19.5 14.5 19.5H10.5C9.94772 19.5 9.5 19.0523 9.5 18.5V17.212C9.5 16.1794 9.17266 15.1773 8.57284 14.3368C7.60216 12.9767 7 11.94 7 10C7 7 9.5 4.5 12.5 4.5C15.5 4.5 18 7 18 10Z",stroke:"currentColor",strokeWidth:1.2})})});a2.displayName="ForwardRef(BulbOutlineIcon)";const Ma=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"calendar",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M4.5 10.5V19.5H20.5V10.5M4.5 10.5V5.5H20.5V10.5M4.5 10.5H12.5H20.5M20.5 13.5H16.5M16.5 13.5H12.5M16.5 13.5V10.5M16.5 13.5V16.5M12.5 13.5H8.5M12.5 13.5V16.5M12.5 13.5V10.5M8.5 13.5H4.5M8.5 13.5V10.5M8.5 13.5V16.5M20.5 16.5H16.5M16.5 16.5H12.5M16.5 16.5V19.5M12.5 16.5H8.5M12.5 16.5V19.5M8.5 16.5H4.5M8.5 16.5V19.5M17.5 8V3M7.5 8V3",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Ma.displayName="ForwardRef(CalendarIcon)";const Zme=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"case",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M9 8.5122V6C9 5.44772 9.44772 5 10 5H15C15.5523 5 16 5.44772 16 6V8.5122M4.5 12V18.5C4.5 19.0523 4.94772 19.5 5.5 19.5H19.5C20.0523 19.5 20.5 19.0523 20.5 18.5V12M4.5 12V9.5122C4.5 8.95991 4.94772 8.5122 5.5 8.5122H19.5C20.0523 8.5122 20.5 8.95991 20.5 9.5122V12M4.5 12L11.7978 14.7367C12.2505 14.9064 12.7495 14.9064 13.2022 14.7367L20.5 12",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Zme.displayName="ForwardRef(CaseIcon)";const Xme=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"chart-upward",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M5.5 5V19.5H20M7.5 16L11.5 11.5L15.5 14L19.5 8.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Xme.displayName="ForwardRef(ChartUpwardIcon)";const Lp=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"checkmark-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M9.5 12.1316L11.7414 14.5L16 10M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Lp.displayName="ForwardRef(CheckmarkCircleIcon)";const _a=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"checkmark",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M5.5 11.5L10.5 16.5L19.5 7.60001",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});_a.displayName="ForwardRef(CheckmarkIcon)";const Ii=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"chevron-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M17 10.5L12.5 15L8 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Ii.displayName="ForwardRef(ChevronDownIcon)";const Lf=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"chevron-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M14.5 17L10 12.5L14.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Lf.displayName="ForwardRef(ChevronLeftIcon)";const no=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"chevron-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M10.5 8L15 12.5L10.5 17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});no.displayName="ForwardRef(ChevronRightIcon)";const lB=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"chevron-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M8 14.5L12.5 10L17 14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});lB.displayName="ForwardRef(ChevronUpIcon)";const Tg=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("circle",{cx:12.5,cy:12.5,r:8,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Tg.displayName="ForwardRef(CircleIcon)";const uB=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"clipboard",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M8 5.5H6.5V19.5H18.5V5.5H17M12.5 3C11.5 3 11.5 4.5 11 4.5C10 4.5 9.5 5 9.5 6.5H15.6C15.6 5 15 4.5 14 4.5C13.5 4.5 13.5 3 12.5 3Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});uB.displayName="ForwardRef(ClipboardIcon)";const Jme=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"clipboard-image",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M8 5.5H6.5V19.5H10.5M17 5.5H18.5V11.5M10.5 18.5L12.73 15.8983C13.1327 15.4285 13.8613 15.4335 14.2575 15.909L15.299 17.1588C15.6754 17.6105 16.3585 17.6415 16.7743 17.2257L16.9903 17.0097C17.2947 16.7053 17.7597 16.6298 18.1447 16.8223L20.5 18M10.5 11.5H20.5V21.5H10.5V11.5ZM12.5 3C11.5 3 11.5 4.5 11 4.5C10 4.5 9.5 5 9.5 6.5H15.6C15.6 5 15 4.5 14 4.5C13.5 4.5 13.5 3 12.5 3Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Jme.displayName="ForwardRef(ClipboardImageIcon)";const oD=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"clock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 8V12.5L15.5 15.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});oD.displayName="ForwardRef(ClockIcon)";const Qme=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"close-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M9.5 15.5L12.5 12.5M12.5 12.5L15.5 9.5M12.5 12.5L9.5 9.5M12.5 12.5L15.5 15.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Qme.displayName="ForwardRef(CloseCircleIcon)";const Rr=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"close",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M18 7L7 18M7 7L18 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Rr.displayName="ForwardRef(CloseIcon)";const ege=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"code-block",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M11 15L8.5 12.5L11 10M14 10L16.5 12.5L14 15M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});ege.displayName="ForwardRef(CodeBlockIcon)";const cB=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"code",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M11 16L7.5 12.5L11 9M14 9L17.5 12.5L14 16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});cB.displayName="ForwardRef(CodeIcon)";const o2=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"cog",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M14.2624 5.40607L13.8714 4.42848C13.6471 3.86771 13.104 3.5 12.5 3.5C11.896 3.5 11.3529 3.86771 11.1286 4.42848L10.7376 5.40607C10.5857 5.78585 10.2869 6.08826 9.90901 6.2448C9.53111 6.40133 9.10603 6.39874 8.73006 6.23761L7.76229 5.82285C7.20716 5.58494 6.56311 5.70897 6.13604 6.13604C5.70897 6.56311 5.58494 7.20716 5.82285 7.76229L6.23761 8.73006C6.39874 9.10602 6.40133 9.53111 6.2448 9.90901C6.08826 10.2869 5.78585 10.5857 5.40607 10.7376L4.42848 11.1286C3.86771 11.3529 3.5 11.896 3.5 12.5C3.5 13.104 3.86771 13.6471 4.42848 13.8714L5.40607 14.2624C5.78585 14.4143 6.08826 14.7131 6.2448 15.091C6.40133 15.4689 6.39874 15.894 6.23761 16.2699L5.82285 17.2377C5.58494 17.7928 5.70897 18.4369 6.13604 18.864C6.56311 19.291 7.20716 19.4151 7.76229 19.1772L8.73006 18.7624C9.10603 18.6013 9.53111 18.5987 9.90901 18.7552C10.2869 18.9117 10.5857 19.2141 10.7376 19.5939L11.1286 20.5715C11.3529 21.1323 11.896 21.5 12.5 21.5C13.104 21.5 13.6471 21.1323 13.8714 20.5715L14.2624 19.5939C14.4143 19.2141 14.7131 18.9117 15.091 18.7552C15.4689 18.5987 15.894 18.6013 16.2699 18.7624L17.2377 19.1771C17.7928 19.4151 18.4369 19.291 18.864 18.864C19.291 18.4369 19.4151 17.7928 19.1771 17.2377L18.7624 16.2699C18.6013 15.894 18.5987 15.4689 18.7552 15.091C18.9117 14.7131 19.2141 14.4143 19.5939 14.2624L20.5715 13.8714C21.1323 13.6471 21.5 13.104 21.5 12.5C21.5 11.896 21.1323 11.3529 20.5715 11.1286L19.5939 10.7376C19.2141 10.5857 18.9117 10.2869 18.7552 9.90901C18.5987 9.53111 18.6013 9.10602 18.7624 8.73006L19.1772 7.76229C19.4151 7.20716 19.291 6.56311 18.864 6.13604C18.4369 5.70897 17.7928 5.58494 17.2377 5.82285L16.2699 6.23761C15.894 6.39874 15.4689 6.40133 15.091 6.2448C14.7131 6.08826 14.4143 5.78585 14.2624 5.40607Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M16.5 12.5C16.5 14.7091 14.7091 16.5 12.5 16.5C10.2909 16.5 8.5 14.7091 8.5 12.5C8.5 10.2909 10.2909 8.5 12.5 8.5C14.7091 8.5 16.5 10.2909 16.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});o2.displayName="ForwardRef(CogIcon)";const dB=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"collapse",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M6 14.5L10.5 14.5V19M19 10.5H14.5L14.5 6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M10.5 14.5L6 19M14.5 10.5L19 6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});dB.displayName="ForwardRef(CollapseIcon)";const tge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"color-wheel",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M9.43853 5.10896L11.1606 9.26642M13.8394 15.7336L15.5615 19.891M15.7336 11.1606L19.891 9.43853M9.26642 13.8394L5.10896 15.5615M5.3139 9.52342L9.23359 11.147M15.7664 13.853L19.6861 15.4766M13.853 9.23359L15.4766 5.3139M9.52342 19.6861L11.147 15.7664M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5ZM16 12.5C16 14.433 14.433 16 12.5 16C10.567 16 9 14.433 9 12.5C9 10.567 10.567 9 12.5 9C14.433 9 16 10.567 16 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});tge.displayName="ForwardRef(ColorWheelIcon)";const sD=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"comment",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M7.5 16.5H9.5V20.5L13.5 16.5H17.5C18.6046 16.5 19.5 15.6046 19.5 14.5V8.5C19.5 7.39543 18.6046 6.5 17.5 6.5H7.5C6.39543 6.5 5.5 7.39543 5.5 8.5V14.5C5.5 15.6046 6.39543 16.5 7.5 16.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});sD.displayName="ForwardRef(CommentIcon)";const nge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"component",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M8.5 8.5L12.5 12.5M12.5 12.5L16.5 16.5M12.5 12.5L16.5 8.5M12.5 12.5L8.5 16.5M12.5 4L21 12.5L12.5 21L4 12.5L12.5 4Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});nge.displayName="ForwardRef(ComponentIcon)";const rge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"compose",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M17 6L19 8M14 5.5H5.5V19.5H19.5V11M9 16L9.5 13.5L19 4L21 6L11.5 15.5L9 16Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});rge.displayName="ForwardRef(ComposeIcon)";const ige=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"confetti",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M16.5 6.25C16.9142 6.25 17.25 5.91421 17.25 5.5C17.25 5.08579 16.9142 4.75 16.5 4.75C16.0858 4.75 15.75 5.08579 15.75 5.5C15.75 5.91421 16.0858 6.25 16.5 6.25Z",fill:"currentColor"}),u.jsx("path",{d:"M19.5 16.25C19.9142 16.25 20.25 15.9142 20.25 15.5C20.25 15.0858 19.9142 14.75 19.5 14.75C19.0858 14.75 18.75 15.0858 18.75 15.5C18.75 15.9142 19.0858 16.25 19.5 16.25Z",fill:"currentColor"}),u.jsx("path",{d:"M13 4C11 6 14.5 5.5 12.5 7.5M21 12C19 14 19.5 10.5 17.5 12.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M16.066 16.4904C15.3965 17.1598 13.1126 15.9613 10.9647 13.8135C8.81684 11.6656 7.61835 9.38165 8.28782 8.71218M16.066 16.4904C16.7355 15.8209 15.537 13.537 13.3891 11.3891C11.2412 9.2412 8.95729 8.04271 8.28782 8.71218M16.066 16.4904C15.8661 16.6902 15.6277 16.8474 15.3657 16.952L6.99288 20.296C6.26931 20.5849 5.44878 20.4193 4.9038 19.8744C4.35883 19.3294 4.19324 18.5089 4.48221 17.7853L7.82614 9.41242C7.93077 9.15042 8.08793 8.91208 8.28782 8.71218M20 5C20 14 11.5 5.32688 11.5 14.3269",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});ige.displayName="ForwardRef(ConfettiIcon)";const lD=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"controls",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M6.5 5V7.5M6.5 7.5C5.39543 7.5 4.5 8.39543 4.5 9.5C4.5 10.6046 5.39543 11.5 6.5 11.5M6.5 7.5C7.60457 7.5 8.5 8.39543 8.5 9.5C8.5 10.6046 7.60457 11.5 6.5 11.5M6.5 11.5V20M12.5 5V13.5M12.5 13.5C11.3954 13.5 10.5 14.3954 10.5 15.5C10.5 16.6046 11.3954 17.5 12.5 17.5M12.5 13.5C13.6046 13.5 14.5 14.3954 14.5 15.5C14.5 16.6046 13.6046 17.5 12.5 17.5M12.5 17.5V20M18.5 5V7.5M18.5 7.5C17.3954 7.5 16.5 8.39543 16.5 9.5C16.5 10.6046 17.3954 11.5 18.5 11.5M18.5 7.5C19.6046 7.5 20.5 8.39543 20.5 9.5C20.5 10.6046 19.6046 11.5 18.5 11.5M18.5 11.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});lD.displayName="ForwardRef(ControlsIcon)";const Ql=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"copy",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M8.5 8.5H5.5V20.5H16.5V16.5M19.5 4.5H8.5V16.5H19.5V4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Ql.displayName="ForwardRef(CopyIcon)";const age=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"credit-card",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M20.5 9.5H4.5V11.5H20.5V9.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M7 15.5H14M5.5 18.5H19.5C20.0523 18.5 20.5 18.0523 20.5 17.5V7.5C20.5 6.94772 20.0523 6.5 19.5 6.5H5.5C4.94772 6.5 4.5 6.94772 4.5 7.5V17.5C4.5 18.0523 4.94772 18.5 5.5 18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});age.displayName="ForwardRef(CreditCardIcon)";const fB=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"crop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M9.5 5V15.5H20M5 9.5H15.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});fB.displayName="ForwardRef(CropIcon)";const oge=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"cube",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M4.5 8L12.5 3L20.5 8V17L12.5 22L4.5 17V8Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M12.5 22V13M12.5 13L4.5 8M12.5 13L20.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});oge.displayName="ForwardRef(CubeIcon)";const sge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"dashboard",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M14.5 19.5V12.5M10.5 12.5V5.5M5.5 12.5H19.5M5.5 19.5H19.5V5.5H5.5V19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});sge.displayName="ForwardRef(DashboardIcon)";const lge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"database",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M18.5 7V17.5C18.5 19.0594 16.0504 20.5 12.5 20.5C8.9496 20.5 6.5 19.0594 6.5 17.5V7M18.5 7C18.5 8.45543 15.8137 9.5 12.5 9.5C9.18629 9.5 6.5 8.45543 6.5 7C6.5 5.54457 9.18629 4.5 12.5 4.5C15.8137 4.5 18.5 5.54457 18.5 7Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});lge.displayName="ForwardRef(DatabaseIcon)";const hB=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"desktop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M4.5 13.5V15.5C4.5 16.0523 4.94772 16.5 5.5 16.5H12.5M4.5 13.5V6.5C4.5 5.94772 4.94772 5.5 5.5 5.5H19.5C20.0523 5.5 20.5 5.94772 20.5 6.5V13.5M4.5 13.5H20.5M20.5 13.5V15.5C20.5 16.0523 20.0523 16.5 19.5 16.5H12.5M12.5 16.5V19.5M12.5 19.5H8M12.5 19.5H17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});hB.displayName="ForwardRef(DesktopIcon)";const uge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"diamond",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M21 10.5L12.5 21M21 10.5L18 5.5H11M21 10.5H16M12.5 21L4 10.5M12.5 21L9 10.5M12.5 21L16 10.5M4 10.5L7 5.5H11M4 10.5H9M9 10.5H12.5H16M9 10.5L11 5.5M16 10.5L14.5 5.5H11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});uge.displayName="ForwardRef(DiamondIcon)";const Hu=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"document",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5L6.5 9.5M11.5 4.5L6.5 9.5M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});Hu.displayName="ForwardRef(DocumentIcon)";const cge=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"document-pdf",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M12.7127 13.8012L12.7193 13.77C12.8488 13.2366 13.0117 12.5716 12.8845 11.969C12.7997 11.4937 12.4493 11.3084 12.1503 11.295C11.7977 11.2794 11.483 11.4803 11.4049 11.7726C11.2576 12.3082 11.3893 13.0402 11.6303 13.973C11.3268 14.6961 10.8425 15.7472 10.4877 16.3721C9.8271 16.7135 8.94113 17.2402 8.80946 17.9053C8.78268 18.028 8.81392 18.1842 8.88757 18.3248C8.97014 18.481 9.10181 18.6015 9.25579 18.6596C9.32274 18.6841 9.40308 18.7042 9.49681 18.7042C9.88959 18.7042 10.5256 18.3873 11.3736 16.9322C11.5031 16.8898 11.637 16.8452 11.7664 16.8006C12.3734 16.5953 13.0028 16.381 13.5718 16.2851C14.2012 16.622 14.9175 16.8385 15.404 16.8385C15.8861 16.8385 16.0758 16.5529 16.1472 16.381C16.2722 16.0797 16.2119 15.7004 16.0088 15.4973C15.7143 15.2072 14.9979 15.1313 13.882 15.2696C13.3331 14.9349 12.9738 14.4796 12.7127 13.8012ZM10.2645 17.1911C9.95431 17.6419 9.71998 17.8673 9.59278 17.9655C9.7423 17.691 10.0346 17.4009 10.2645 17.1911ZM12.2195 11.9355C12.3355 12.1341 12.3199 12.7345 12.2306 13.038C12.1213 12.5939 12.1056 11.9645 12.1704 11.8909L12.2195 11.9355ZM12.1837 14.6247C12.4225 15.0376 12.7238 15.3924 13.0563 15.6557C12.5743 15.7651 12.1346 15.9458 11.7419 16.1065C11.6481 16.1445 11.5566 16.1824 11.4674 16.2181C11.7642 15.6803 12.0119 15.071 12.1837 14.6247ZM15.6562 16.0864L15.6428 16.1065C15.6428 16.1065 15.4375 16.2315 14.6497 15.9213C15.5558 15.8789 15.6562 16.0864 15.6562 16.0864Z",fill:"currentColor"}),u.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});cge.displayName="ForwardRef(DocumentPdfIcon)";const dge=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"document-remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M6.5 14V20.5H18.5V14M6.5 11V9.5L11.5 4.5H18.5V11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});dge.displayName="ForwardRef(DocumentRemoveIcon)";const fge=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"document-sheet",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M10.4 19V16.4M10.4 16.4L10.4 13.4M10.4 16.4H8M10.4 16.4H14.4M10.4 13.4V11M10.4 13.4H8M10.4 13.4H14.4M14.4 19V16.4M14.4 16.4V13.4M14.4 16.4H17M14.4 13.4V11M14.4 13.4H17M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});fge.displayName="ForwardRef(DocumentSheetIcon)";const hge=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"document-text",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M16 13H9M14 16H9M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});hge.displayName="ForwardRef(DocumentTextIcon)";const pge=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"document-video",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M11.5 16.5V13.5L14 15L11.5 16.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2}),u.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});pge.displayName="ForwardRef(DocumentVideoIcon)";const mge=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"document-word",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M12.4699 13.4588H12.5263L13.6328 17H14.5435L16 12H14.9952L14.0656 15.7214H14.0129L12.929 12H12.0672L10.9984 15.7214H10.9419L10.0124 12H9L10.4565 17H11.371L12.4699 13.4588Z",fill:"currentColor"}),u.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});mge.displayName="ForwardRef(DocumentWordIcon)";const gge=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"document-zip",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M15 4.5L13.5 5L15.5 6L13.5 7L15.5 8L13.5 9L15.5 10L13.5 11L14.5 11.5V13M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5ZM13.5 13H15.5L16 17H13L13.5 13Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});gge.displayName="ForwardRef(DocumentZipIcon)";const uD=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"documents",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M10.5 4.5V9.5H5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M16.5 7.5H19.5V21.5H8.5V18.5M10.5 4.5H16.5V18.5H5.5V9.5L10.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});uD.displayName="ForwardRef(DocumentsIcon)";const pB=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"dot",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("circle",{cx:12.5,cy:12.5,r:2.5,fill:"currentColor",stroke:"currentColor",strokeWidth:1.2})})});pB.displayName="ForwardRef(DotIcon)";const vge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"double-chevron-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M17 8L12.5 12.5L8 8M17 13L12.5 17.5L8 13",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});vge.displayName="ForwardRef(DoubleChevronDownIcon)";const mB=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"double-chevron-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12 17L7.5 12.5L12 8M17 17L12.5 12.5L17 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});mB.displayName="ForwardRef(DoubleChevronLeftIcon)";const cD=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"double-chevron-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M13 8L17.5 12.5L13 17M8 8L12.5 12.5L8 17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});cD.displayName="ForwardRef(DoubleChevronRightIcon)";const yge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"double-chevron-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M8 12L12.5 7.5L17 12M8 17L12.5 12.5L17 17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});yge.displayName="ForwardRef(DoubleChevronUpIcon)";const dD=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"download",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M19.5 17V19.5H5.5V17M12.5 16L12.5 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M17.5 11L12.5 16L7.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});dD.displayName="ForwardRef(DownloadIcon)";const gB=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"drag-handle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M9.5 8C10.3284 8 11 7.32843 11 6.5C11 5.67157 10.3284 5 9.5 5C8.67157 5 8 5.67157 8 6.5C8 7.32843 8.67157 8 9.5 8Z",fill:"currentColor"}),u.jsx("path",{d:"M9.5 14C10.3284 14 11 13.3284 11 12.5C11 11.6716 10.3284 11 9.5 11C8.67157 11 8 11.6716 8 12.5C8 13.3284 8.67157 14 9.5 14Z",fill:"currentColor"}),u.jsx("path",{d:"M11 18.5C11 19.3284 10.3284 20 9.5 20C8.67157 20 8 19.3284 8 18.5C8 17.6716 8.67157 17 9.5 17C10.3284 17 11 17.6716 11 18.5Z",fill:"currentColor"}),u.jsx("path",{d:"M15.5 8C16.3284 8 17 7.32843 17 6.5C17 5.67157 16.3284 5 15.5 5C14.6716 5 14 5.67157 14 6.5C14 7.32843 14.6716 8 15.5 8Z",fill:"currentColor"}),u.jsx("path",{d:"M17 12.5C17 13.3284 16.3284 14 15.5 14C14.6716 14 14 13.3284 14 12.5C14 11.6716 14.6716 11 15.5 11C16.3284 11 17 11.6716 17 12.5Z",fill:"currentColor"}),u.jsx("path",{d:"M15.5 20C16.3284 20 17 19.3284 17 18.5C17 17.6716 16.3284 17 15.5 17C14.6716 17 14 17.6716 14 18.5C14 19.3284 14.6716 20 15.5 20Z",fill:"currentColor"})]})});gB.displayName="ForwardRef(DragHandleIcon)";const bge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"drop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M18.5 14.5C18.5 18 16 20.5 12.5 20.5C9 20.5 6.5 18 6.5 14.5C6.5 11 9.5 7.50001 12.5 4.5C15.5 7.5 18.5 11 18.5 14.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});bge.displayName="ForwardRef(DropIcon)";const g1=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"earth-americas",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M7 13L5.5 9L10 5H15V10L14 9H11L9.5 11L10.5 12H12V13L13 14.5H15.5L18.5 17L15.5 19.5L10.5 20V17L12.5 15L9 13L7 10.5V13Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("circle",{cx:12.5,cy:12.5,r:8,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});g1.displayName="ForwardRef(EarthAmericasIcon)";const xge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"earth-globe",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M5.5 16.5H19.5M5.5 8.5H19.5M4.5 12.5H20.5M12.5 20.5C12.5 20.5 8 18.5 8 12.5C8 6.5 12.5 4.5 12.5 4.5M12.5 4.5C12.5 4.5 17 6.5 17 12.5C17 18.5 12.5 20.5 12.5 20.5M12.5 4.5V20.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});xge.displayName="ForwardRef(EarthGlobeIcon)";const Yc=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"edit",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M15 7L18 10M6 19L7 15L17 5L20 8L10 18L6 19Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Yc.displayName="ForwardRef(EditIcon)";const qy=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"ellipsis-horizontal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M6.5 11C7.32843 11 8 11.6716 8 12.5C8 13.3284 7.32843 14 6.5 14C5.67157 14 5 13.3284 5 12.5C5 11.6716 5.67157 11 6.5 11Z",fill:"currentColor"}),u.jsx("path",{d:"M12.5 11C13.3284 11 14 11.6716 14 12.5C14 13.3284 13.3284 14 12.5 14C11.6716 14 11 13.3284 11 12.5C11 11.6716 11.6716 11 12.5 11Z",fill:"currentColor"}),u.jsx("path",{d:"M18.5 11C19.3284 11 20 11.6716 20 12.5C20 13.3284 19.3284 14 18.5 14C17.6716 14 17 13.3284 17 12.5C17 11.6716 17.6716 11 18.5 11Z",fill:"currentColor"})]})});qy.displayName="ForwardRef(EllipsisHorizontalIcon)";const wge=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"ellipsis-vertical",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M14 6.5C14 7.32843 13.3284 8 12.5 8C11.6716 8 11 7.32843 11 6.5C11 5.67157 11.6716 5 12.5 5C13.3284 5 14 5.67157 14 6.5Z",fill:"currentColor"}),u.jsx("path",{d:"M14 12.5C14 13.3284 13.3284 14 12.5 14C11.6716 14 11 13.3284 11 12.5C11 11.6716 11.6716 11 12.5 11C13.3284 11 14 11.6716 14 12.5Z",fill:"currentColor"}),u.jsx("path",{d:"M14 18.5C14 19.3284 13.3284 20 12.5 20C11.6716 20 11 19.3284 11 18.5C11 17.6716 11.6716 17 12.5 17C13.3284 17 14 17.6716 14 18.5Z",fill:"currentColor"})]})});wge.displayName="ForwardRef(EllipsisVerticalIcon)";const Cge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"empty",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 21V19.1111M8.25 19.8614L9.19445 18.2255M5.13878 16.7501L6.77461 15.8057M4 12.5H5.8889M5.13872 8.2499L6.77455 9.19436M8.25004 5.13876L9.19449 6.7746M12.5 5.88891V4M15.8055 6.77465L16.75 5.1388M18.2254 9.19449L19.8612 8.25004M19.1111 12.5001H21M18.2254 15.8056L19.8612 16.7501M15.8056 18.2255L16.75 19.8614",stroke:"currentColor",strokeWidth:1.2})})});Cge.displayName="ForwardRef(EmptyIcon)";const Sge=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"enter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M6 14.5H19.5V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M10 18.5L6 14.5L10 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});Sge.displayName="ForwardRef(EnterIcon)";const _ge=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"enter-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M19 14.5H5.5V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M15 18.5L19 14.5L15 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});_ge.displayName="ForwardRef(EnterRightIcon)";const Ege=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"envelope",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M20.5 18.5H4.5V6.5H20.5V18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M20.5 18.5L17.75 15.5L15 12.5M4.5 18.5L10 12.5M20.5 6.5L12.5 15L4.5 6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});Ege.displayName="ForwardRef(EnvelopeIcon)";const kge=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"equal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M7.5 4.5H3.5V20.5H7.5",stroke:"currentColor",strokeWidth:1.2}),u.jsx("path",{d:"M17.5 20.5L21.5 20.5L21.5 4.5L17.5 4.5",stroke:"currentColor",strokeWidth:1.2}),u.jsx("path",{d:"M9 10.5H16",stroke:"currentColor",strokeWidth:1.2}),u.jsx("path",{d:"M9 14.5H16",stroke:"currentColor",strokeWidth:1.2})]})});kge.displayName="ForwardRef(EqualIcon)";const Tge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"error-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 12.5C4 7.80558 7.80558 4 12.5 4C17.1944 4 21 7.80558 21 12.5C21 17.1944 17.1944 21 12.5 21C7.80558 21 4 17.1944 4 12.5ZM13 14.5V16H12V14.5H13ZM12 9V13H13V9H12Z",fill:"currentColor"})})});Tge.displayName="ForwardRef(ErrorFilledIcon)";const Ea=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"error-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 16V14.5M12.5 9V13M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Ea.displayName="ForwardRef(ErrorOutlineIcon)";const vB=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"expand",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M14 6.5H18.5V11M11 18.5H6.5V14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M18.5 6.5L14 11M6.5 18.5L11 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});vB.displayName="ForwardRef(ExpandIcon)";const Age=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"eye-closed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M7 15.5L5.5 17.5M20.5 12.5C19.8612 13.5647 19.041 14.6294 18.0008 15.501M18.0008 15.501C16.5985 16.676 14.7965 17.5 12.5 17.5M18.0008 15.501L18 15.5M18.0008 15.501L19.5 17.5M12.5 17.5C8.5 17.5 6 15 4.5 12.5M12.5 17.5V20M15.5 17L16.5 19.5M9.5 17L8.5 19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Age.displayName="ForwardRef(EyeClosedIcon)";const fD=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"eye-open",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.39999 12.5C9.39999 10.7879 10.7879 9.39999 12.5 9.39999C14.2121 9.39999 15.6 10.7879 15.6 12.5C15.6 14.2121 14.2121 15.6 12.5 15.6C10.7879 15.6 9.39999 14.2121 9.39999 12.5Z",fill:"currentColor"}),u.jsx("path",{d:"M12.5 7.5C8.5 7.5 6 10 4.5 12.5C6 15 8.5 17.5 12.5 17.5C16.5 17.5 19 15 20.5 12.5C19 10 16.5 7.5 12.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});fD.displayName="ForwardRef(EyeOpenIcon)";const jge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"filter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M11 12L6 7V6L19 6L19 7L14 12V17L11 19V12Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})});jge.displayName="ForwardRef(FilterIcon)";const yB=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"folder",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M11.5 8.5H19.5V18.5H5.5V5.5H10.5L11.5 8.5ZM11.5 8.5H5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});yB.displayName="ForwardRef(FolderIcon)";const Ige=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"generate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M9 5.30423C6.33576 6.60253 4.5 9.33688 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5V14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M16 11L12.5 14.5L9 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});Ige.displayName="ForwardRef(GenerateIcon)";const Dge=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"groq",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M13 13H21L13 21L13 13Z",fill:"currentColor"}),u.jsx("path",{d:"M12 12V4L4 12H12Z",fill:"currentColor"}),u.jsx("path",{d:"M12 13H4L12 21V13Z",fill:"currentColor"})]})});Dge.displayName="ForwardRef(GroqIcon)";const $ge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"hash",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.33894 16.1002H5.44615L5.63077 14.9002H8.52356L9.26202 10.1002H6.36923L6.55384 8.90018H9.44663L9.89281 6H11.1069L10.6608 8.90018H15.4466L15.8928 6H17.1069L16.6608 8.90018H19.5539L19.3693 10.1002H16.4761L15.7377 14.9002H18.6308L18.4462 16.1002H15.5531L15.1069 19H13.8928L14.3389 16.1002H9.55306L9.10693 19H7.89281L8.33894 16.1002ZM10.4761 10.1002L9.73767 14.9002H14.5236L15.262 10.1002H10.4761Z",fill:"currentColor"})})});$ge.displayName="ForwardRef(HashIcon)";const Oge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"heart-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M17 16C15.8 17.3235 12.5 20.5 12.5 20.5C12.5 20.5 9.2 17.3235 8 16C5.2 12.9118 4.5 11.7059 4.5 9.5C4.5 7.29412 6.1 5.5 8.5 5.5C10.5 5.5 11.7 6.82353 12.5 8.14706C13.3 6.82353 14.5 5.5 16.5 5.5C18.9 5.5 20.5 7.29412 20.5 9.5C20.5 11.7059 19.8 12.9118 17 16Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Oge.displayName="ForwardRef(HeartFilledIcon)";const Mge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"heart",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M17 16C15.8 17.3235 12.5 20.5 12.5 20.5C12.5 20.5 9.2 17.3235 8 16C5.2 12.9118 4.5 11.7059 4.5 9.5C4.5 7.29412 6.1 5.5 8.5 5.5C10.5 5.5 11.7 6.82353 12.5 8.14706C13.3 6.82353 14.5 5.5 16.5 5.5C18.9 5.5 20.5 7.29412 20.5 9.5C20.5 11.7059 19.8 12.9118 17 16Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Mge.displayName="ForwardRef(HeartIcon)";const Ag=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"help-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 13C12.5 11 14 11.5 14 10C14 9.34375 13.5 8.5 12.5 8.5C11.5 8.5 11 9 10.5 9.5M12.5 16V14.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Ag.displayName="ForwardRef(HelpCircleIcon)";const Rge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"highlight",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M17.5311 13.7141L8.0245 8.22547M17.5311 13.7141L20.25 9.00478M17.5311 13.7141L16.5 15.5L13.232 16.134L12 18L11.4142 17.6485M8.0245 8.22547L10.75 3.50479M8.0245 8.22547L6.99999 9.99998L7.99998 13L6.99998 15L7.58576 15.3514M7.58576 15.3514L4.90192 20L10.0566 20L11.4142 17.6485M7.58576 15.3514L11.4142 17.6485M13 20H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Rge.displayName="ForwardRef(HighlightIcon)";const Pge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"home",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M6.5 8.75V18.5H18.5V8.75M4.5 10L12.5 5L20.5 10M14.5 18.5V11.5H10.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Pge.displayName="ForwardRef(HomeIcon)";const Fge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"ice-cream",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M9.5 13.5L12.5 20.5L15.5 13.5M12.5 8.26389C11.9692 7.78885 11.2684 7.5 10.5 7.5C8.84315 7.5 7.5 8.84315 7.5 10.5C7.5 12.1569 8.84315 13.5 10.5 13.5C11.2684 13.5 11.9692 13.2111 12.5 12.7361M9.5 7.5C9.5 5.84315 10.8431 4.5 12.5 4.5C14.1569 4.5 15.5 5.84315 15.5 7.5M17.5 10.5C17.5 12.1569 16.1569 13.5 14.5 13.5C12.8431 13.5 11.5 12.1569 11.5 10.5C11.5 8.84315 12.8431 7.5 14.5 7.5C16.1569 7.5 17.5 8.84315 17.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Fge.displayName="ForwardRef(IceCreamIcon)";const eu=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"image",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M5.5 15.5L8.79289 12.2071C9.18342 11.8166 9.81658 11.8166 10.2071 12.2071L12.8867 14.8867C13.2386 15.2386 13.7957 15.2782 14.1938 14.9796L15.1192 14.2856C15.3601 14.1049 15.6696 14.0424 15.9618 14.1154L19.5 15M5.5 6.5H19.5V18.5H5.5V6.5ZM15.5 10.5C15.5 11.0523 15.0523 11.5 14.5 11.5C13.9477 11.5 13.5 11.0523 13.5 10.5C13.5 9.94772 13.9477 9.5 14.5 9.5C15.0523 9.5 15.5 9.94772 15.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});eu.displayName="ForwardRef(ImageIcon)";const Nge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"image-remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M5.5 11V6.5H19.5V11M5.5 14V18.5H19.5V14M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Nge.displayName="ForwardRef(ImageRemoveIcon)";const Lge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"images",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M18.5 7.5H20.5V19.5H6.5V17.5M4.5 14.5L7.79289 11.2071C8.18342 10.8166 8.81658 10.8166 9.20711 11.2071L11.8867 13.8867C12.2386 14.2386 12.7957 14.2782 13.1938 13.9796L14.1192 13.2856C14.3601 13.1049 14.6696 13.0424 14.9618 13.1154L18.5 14M4.5 5.5H18.5V17.5H4.5V5.5ZM14.5 9.5C14.5 10.0523 14.0523 10.5 13.5 10.5C12.9477 10.5 12.5 10.0523 12.5 9.5C12.5 8.94772 12.9477 8.5 13.5 8.5C14.0523 8.5 14.5 8.94772 14.5 9.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Lge.displayName="ForwardRef(ImagesIcon)";const Bge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"info-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 12.5C21 17.1944 17.1944 21 12.5 21C7.80558 21 4 17.1944 4 12.5C4 7.80558 7.80558 4 12.5 4C17.1944 4 21 7.80558 21 12.5ZM12 10.5V9H13V10.5H12ZM13 16V12H12V16H13Z",fill:"currentColor"})})});Bge.displayName="ForwardRef(InfoFilledIcon)";const Bf=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"info-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 10.5V9M12.5 12V16M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Bf.displayName="ForwardRef(InfoOutlineIcon)";const bB=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"inline-element",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M5.5 5V20M19.5 5V20M8.5 6.5H16.5V18.5H8.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});bB.displayName="ForwardRef(InlineElementIcon)";const Vge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"inline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 6.5H19.5V18.5H12.5M12.5 6.5H5.5V18.5H12.5M12.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Vge.displayName="ForwardRef(InlineIcon)";const hD=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"insert-above",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M14.5 10.5556L10.5 10.5556M12.5 12.5L12.5 8.5M18.5 5.5L6.5 5.5M18.5 19.5L6.5 19.5L6.5 15.5L18.5 15.5L18.5 19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})});hD.displayName="ForwardRef(InsertAboveIcon)";const pD=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"insert-below",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M10.5 14.5H14.5M12.5 12.5V16.5M6.5 19.5H18.5M6.5 5.5H18.5V9.5H6.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})});pD.displayName="ForwardRef(InsertBelowIcon)";const xB=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"italic",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M10.43 18H11.7276L13.4551 9.86763H12.1576L10.43 18ZM13.3043 8.29849C13.8022 8.29849 14.2095 7.89112 14.2095 7.39322C14.2095 6.89532 13.8022 6.48795 13.3043 6.48795C12.8064 6.48795 12.399 6.89532 12.399 7.39322C12.399 7.89112 12.8064 8.29849 13.3043 8.29849Z",fill:"currentColor"})})});xB.displayName="ForwardRef(ItalicIcon)";const zge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"joystick",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M9.5 16V14.5H15.5V16M13.5 10.5V14.5M11.5 10.5V14.5M15.5 7.5C15.5 9.15685 14.1569 10.5 12.5 10.5C10.8431 10.5 9.5 9.15685 9.5 7.5C9.5 5.84315 10.8431 4.5 12.5 4.5C14.1569 4.5 15.5 5.84315 15.5 7.5ZM18.5 19.5H6.5C5.94772 19.5 5.5 19.0523 5.5 18.5V17.5C5.5 16.9477 5.94772 16.5 6.5 16.5H18.5C19.0523 16.5 19.5 16.9477 19.5 17.5V18.5C19.5 19.0523 19.0523 19.5 18.5 19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});zge.displayName="ForwardRef(JoystickIcon)";const wB=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"json",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M11 5.5H9.5C8.39543 5.5 7.5 6.39543 7.5 7.5V12.5M7.5 12.5H4M7.5 12.5V17.5C7.5 18.6046 8.39543 19.5 9.5 19.5H11M14 5.5H15.5C16.6046 5.5 17.5 6.39543 17.5 7.5V12.5M17.5 12.5H21M17.5 12.5V17.5C17.5 18.6046 16.6046 19.5 15.5 19.5H14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});wB.displayName="ForwardRef(JsonIcon)";const Qc=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"launch",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M12 7.5H6.5V18.5H17.5V13M19.5 5.5L10.5 14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M14 5.5H19.5V11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});Qc.displayName="ForwardRef(LaunchIcon)";const mD=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"leave",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M14.5 15V18.5H5.5V6.5H14.5V10M9 12.5H21.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M18 9L21.5 12.5L18 16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});mD.displayName="ForwardRef(LeaveIcon)";const Uge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"lemon",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M10.6569 10.3431L6.41422 14.5858C7.58579 15.7574 9.12132 16.3431 10.6569 16.3431M10.6569 10.3431L14.8995 6.1005C16.0711 7.27208 16.6569 8.80761 16.6569 10.3431M10.6569 10.3431L10.6569 16.3431M10.6569 10.3431L16.6569 10.3431M10.6569 10.3431L14.8995 14.5858M14.8995 14.5858C13.7279 15.7574 12.1924 16.3431 10.6569 16.3431M14.8995 14.5858C16.0711 13.4142 16.6569 11.8787 16.6569 10.3431M16.3137 4.68629C19.4379 7.81049 19.4379 12.8758 16.3137 16C13.1895 19.1242 8.12419 19.1242 5 16L16.3137 4.68629Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Uge.displayName="ForwardRef(LemonIcon)";const tl=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"link",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M11 12.5L12.5 14C13.281 14.781 14.719 14.781 15.5 14L18.5 11C19.281 10.219 19.281 8.78105 18.5 8L18 7.5C17.2189 6.71895 15.781 6.71895 15 7.5L13 9.5M12 15.5L10 17.5C9.21895 18.281 7.78105 18.281 7 17.5L6.5 17C5.71895 16.219 5.71896 14.781 6.5 14L9.50001 11C10.2811 10.219 11.719 10.2189 12.5 11L14 12.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});tl.displayName="ForwardRef(LinkIcon)";const CB=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"link-removed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M18.5 11C19.281 10.219 19.281 8.78108 18.5 8.00003L18 7.50003C17.2189 6.71898 15.781 6.71898 15 7.50003L13 9.50003M15.5 14C14.7189 14.7811 13.281 14.7811 12.5 14M6.5 14C5.71895 14.7811 5.71894 16.219 6.49999 17L6.99999 17.5C7.78104 18.2811 9.21894 18.2811 9.99999 17.5L12 15.5M12.5 11C11.719 10.219 10.281 10.219 9.5 11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});CB.displayName="ForwardRef(LinkRemovedIcon)";const Hge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"lock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M15.5 11.5V8.5C15.5 6.5 14 5.5 12.5 5.5C11 5.5 9.5 6.5 9.5 8.5V11.5M7.5 11.5H17.5V19.5H7.5V11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Hge.displayName="ForwardRef(LockIcon)";const Wge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"logo-js",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 5H5V20H20V5ZM12.5254 16.1572C12.5254 17.4189 11.7742 18.1536 10.4792 18.1536C9.24243 18.1536 8.49121 17.4189 8.45801 16.2942V16.261H9.67407V16.2859C9.69897 16.7466 9.9729 17.0703 10.4626 17.0703C10.9939 17.0703 11.272 16.7507 11.272 16.1489V12.011H12.5254V16.1572ZM18.2893 16.2153C18.2893 17.4023 17.3679 18.1536 15.8738 18.1536C14.4419 18.1536 13.5371 17.4688 13.4666 16.4062L13.4624 16.3398H14.6702L14.6743 16.3813C14.72 16.8296 15.2056 17.1326 15.907 17.1326C16.5752 17.1326 17.0359 16.813 17.0359 16.3523V16.3481C17.0359 15.9539 16.7412 15.7339 15.9983 15.5803L15.3674 15.4517C14.1223 15.1985 13.5869 14.6174 13.5869 13.7085V13.7043C13.5869 12.592 14.5415 11.8574 15.8696 11.8574C17.2683 11.8574 18.0901 12.5962 18.1689 13.5964L18.1731 13.6504H16.9944L16.9861 13.6006C16.9155 13.1731 16.5005 12.8743 15.8696 12.8743C15.2512 12.8784 14.8403 13.1606 14.8403 13.6089V13.613C14.8403 14.0032 15.1309 14.2356 15.8364 14.3809L16.4714 14.5095C17.7373 14.771 18.2893 15.2773 18.2893 16.2112V16.2153Z",fill:"currentColor"})})});Wge.displayName="ForwardRef(LogoJsIcon)";const Gge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"logo-ts",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 5H5V20H20V5ZM11.0769 18H9.82349V13.0444H8.02637V12.011H12.874V13.0444H11.0769V18ZM18.2893 16.2153C18.2893 17.4023 17.3679 18.1536 15.8738 18.1536C14.4419 18.1536 13.5371 17.4688 13.4666 16.4062L13.4624 16.3398H14.6702L14.6743 16.3813C14.72 16.8296 15.2056 17.1326 15.907 17.1326C16.5752 17.1326 17.0359 16.813 17.0359 16.3523V16.3481C17.0359 15.9539 16.7412 15.7339 15.9983 15.5803L15.3674 15.4517C14.1223 15.1985 13.5869 14.6174 13.5869 13.7085V13.7043C13.5869 12.592 14.5415 11.8574 15.8696 11.8574C17.2683 11.8574 18.0901 12.5962 18.1689 13.5964L18.1731 13.6504H16.9944L16.9861 13.6006C16.9155 13.1731 16.5005 12.8743 15.8696 12.8743C15.2512 12.8784 14.8403 13.1606 14.8403 13.6089V13.613C14.8403 14.0032 15.1309 14.2356 15.8364 14.3809L16.4714 14.5095C17.7373 14.771 18.2893 15.2773 18.2893 16.2112V16.2153Z",fill:"currentColor"})})});Gge.displayName="ForwardRef(LogoTsIcon)";const SB=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"master-detail",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M7 9.5H10M11.5 6.5V18.5M7 12.5H10M13 9.5H18M7 15.5H10M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});SB.displayName="ForwardRef(MasterDetailIcon)";const _B=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"menu",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M6 7.5H19M6 17.5H19M6 12.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});_B.displayName="ForwardRef(MenuIcon)";const Yge=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"mobile-device",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M7.5 6.5C7.5 5.39543 8.39543 4.5 9.5 4.5H15.5C16.6046 4.5 17.5 5.39543 17.5 6.5V18.5C17.5 19.6046 16.6046 20.5 15.5 20.5H9.5C8.39543 20.5 7.5 19.6046 7.5 18.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M13.5 17.5C13.5 18.0523 13.0523 18.5 12.5 18.5C11.9477 18.5 11.5 18.0523 11.5 17.5C11.5 16.9477 11.9477 16.5 12.5 16.5C13.0523 16.5 13.5 16.9477 13.5 17.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});Yge.displayName="ForwardRef(MobileDeviceIcon)";const EB=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"moon",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M19.6065 16.1775C18.9417 16.387 18.234 16.5 17.5 16.5C13.634 16.5 10.5 13.366 10.5 9.5C10.5 7.54163 11.3042 5.77109 12.6004 4.50062C12.567 4.50021 12.5335 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C15.5924 20.5 18.275 18.7454 19.6065 16.1775Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});EB.displayName="ForwardRef(MoonIcon)";const kB=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"number",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.0165 17.6336H3.83636V16.4336H21.0165V17.6336Z",fill:"currentColor"}),u.jsx("path",{d:"M7.09808 13.3967V7.508H5.74066L3.83636 8.78241V10.091L5.65277 8.88495H5.74066V13.3967H3.84125V14.5539H8.89984V13.3967H7.09808Z",fill:"currentColor"}),u.jsx("path",{d:"M9.81781 9.63202V9.66132H11.1069V9.62714C11.1069 8.95331 11.5756 8.49432 12.2739 8.49432C12.9575 8.49432 13.4018 8.89471 13.4018 9.50507C13.4018 9.9787 13.1528 10.3498 12.1909 11.3117L9.89594 13.5822V14.5539H14.8618V13.3869H11.7807V13.299L13.1577 11.9855C14.3491 10.843 14.7543 10.1838 14.7543 9.41229C14.7543 8.19159 13.7729 7.36639 12.3178 7.36639C10.8383 7.36639 9.81781 8.28436 9.81781 9.63202Z",fill:"currentColor"}),u.jsx("path",{d:"M17.6694 11.4631H18.5092C19.3198 11.4631 19.8422 11.8683 19.8422 12.4982C19.8422 13.1183 19.3295 13.5139 18.5239 13.5139C17.767 13.5139 17.2592 13.133 17.2104 12.5324H15.9262C15.9897 13.8508 17.0248 14.6955 18.5629 14.6955C20.1401 14.6955 21.2192 13.841 21.2192 12.591C21.2192 11.6584 20.6528 11.0334 19.7006 10.9211V10.8332C20.4721 10.6769 20.9457 10.0666 20.9457 9.23651C20.9457 8.12323 19.9741 7.36639 18.5434 7.36639C17.0541 7.36639 16.1118 8.17694 16.0629 9.50018H17.2983C17.3422 8.88007 17.8061 8.48456 18.4995 8.48456C19.2075 8.48456 19.6567 8.85565 19.6567 9.44159C19.6567 10.0324 19.1977 10.4182 18.4946 10.4182H17.6694V11.4631Z",fill:"currentColor"})]})});kB.displayName="ForwardRef(NumberIcon)";const qge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"ok-hand",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M15.9957 11.5C14.8197 10.912 11.9957 9 10.4957 9C8.9957 9 5.17825 11.7674 6 13C7 14.5 9.15134 11.7256 10.4957 12C11.8401 12.2744 13 13.5 13 14.5C13 15.5 11.8401 16.939 10.4957 16.5C9.15134 16.061 8.58665 14.3415 7.4957 14C6.21272 13.5984 5.05843 14.6168 5.5 15.5C5.94157 16.3832 7.10688 17.6006 8.4957 19C9.74229 20.2561 11.9957 21.5 14.9957 20C17.9957 18.5 18.5 16.2498 18.5 13C18.5 11.5 13.7332 5.36875 11.9957 4.5C10.9957 4 10 5 10.9957 6.5C11.614 7.43149 13.5 9.27705 14 10.3751M15.5 8C15.5 8 15.3707 7.5 14.9957 6C14.4957 4 15.9957 3.5 16.4957 4.5C17.1281 5.76491 18.2872 10.9147 18.4957 13",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});qge.displayName="ForwardRef(OkHandIcon)";const TB=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"olist",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M10 7.5H19M10 12.5H19M10 17.5H19M5 18.5H7.5L7 17.5L7.5 16.5H5M5 6.5H6.5V8.5M5 8.5H6.5M6.5 8.5H8M8 13.5H6L7 11.5H5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});TB.displayName="ForwardRef(OlistIcon)";const Kge=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"overage",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M18.5 11V6.5H14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M6.5 18.5L9 16L12 13L18.5 6.5M3 13.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});Kge.displayName="ForwardRef(OverageIcon)";const Zge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"package",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 13V22M12.5 13L4.5 8M12.5 13L20.5 8M8.5 5.5L16.5 10.5M4.5 8L12.5 3L20.5 8V17L12.5 22L4.5 17V8Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Zge.displayName="ForwardRef(PackageIcon)";const AB=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"panel-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M10.5 6.5H19.5V18.5H10.5M10.5 6.5H5.5V18.5H10.5M10.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});AB.displayName="ForwardRef(PanelLeftIcon)";const jB=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"panel-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M14.5 6.5H19.5V18.5H14.5M14.5 6.5H5.5V18.5H14.5M14.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});jB.displayName="ForwardRef(PanelRightIcon)";const Xge=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"pause",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M10.5 7.5H8.5V17.5H10.5V7.5Z",fill:"currentColor"}),u.jsx("path",{d:"M16.5 7.5H14.5V17.5H16.5V7.5Z",fill:"currentColor"}),u.jsx("path",{d:"M10.5 7.5H8.5V17.5H10.5V7.5Z",stroke:"currentColor",strokeWidth:1.2}),u.jsx("path",{d:"M16.5 7.5H14.5V17.5H16.5V7.5Z",stroke:"currentColor",strokeWidth:1.2})]})});Xge.displayName="ForwardRef(PauseIcon)";const Jge=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"pin",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M6.5 10.5C6.5 7 9 4.5 12.5 4.5C16 4.5 18.5 7 18.5 10.5C18.5 14 15.5 17.5 12.5 20.5C9.5 17.5 6.5 14 6.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M14 10.5C14 11.3284 13.3284 12 12.5 12C11.6716 12 11 11.3284 11 10.5C11 9.67157 11.6716 9 12.5 9C13.3284 9 14 9.67157 14 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});Jge.displayName="ForwardRef(PinIcon)";const Qge=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"pin-removed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M7.39787 14C8.51075 16.2897 10.5054 18.5054 12.5 20.5C14.4946 18.5054 16.4892 16.2897 17.6021 14M6.52009 11C6.50681 10.8334 6.5 10.6667 6.5 10.5C6.5 7 9 4.5 12.5 4.5C16 4.5 18.5 7 18.5 10.5C18.5 10.6667 18.4932 10.8334 18.4799 11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Qge.displayName="ForwardRef(PinRemovedIcon)";const e0e=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"play",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M7.5 18.5V6.5L17.5 12.5L7.5 18.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});e0e.displayName="ForwardRef(PlayIcon)";const t0e=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"plug",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M13.25 8.5L16.75 5M16.25 11.5L19.75 8M9.25 15.5L5.25 19.5M7.75 14L9.75 12C8.25 10 8.75 9 9.75 8C10.15 7.6 11.25 6.5 11.25 6.5L18.25 13.5C18.25 13.5 17.3825 14.3675 16.75 15C15.75 16 14.75 16.5 12.75 15L10.75 17L7.75 14Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});t0e.displayName="ForwardRef(PlugIcon)";const n0e=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"presentation",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M10.5 18H5.5V8.5H19.5V18H14.5M10.5 18L9 22M10.5 18H14.5M14.5 18L16 22M4.5 8.5H20.5V6.5H4.5V8.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});n0e.displayName="ForwardRef(PresentationIcon)";const r0e=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"progress-50",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M17 12.5C17 14.9853 14.9853 17 12.5 17V8C14.9853 8 17 10.0147 17 12.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});r0e.displayName="ForwardRef(Progress50Icon)";const i0e=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"progress-75",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M12.5 17C14.9853 17 17 14.9853 17 12.5C17 10.0147 14.9853 8 12.5 8V12.5H8C8 14.9853 10.0147 17 12.5 17Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});i0e.displayName="ForwardRef(Progress75Icon)";const a0e=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"projects",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M21 17.5H14M17.5 14V21M5.5 14.5H10.5V19.5H5.5V14.5ZM14.5 5.5H19.5V10.5H14.5V5.5ZM5.5 5.5H10.5V10.5H5.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});a0e.displayName="ForwardRef(ProjectsIcon)";const ig=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"publish",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M4.99997 5.50006H20M12.5 9.00005V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M7.5 14L12.5 9.00006L17.5 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});ig.displayName="ForwardRef(PublishIcon)";const Ky=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"read-only",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M15 7L18 10M10 12L7 15L6 19L10 18L13 15M12 10L17 5L20 8L15 13M19 19L5 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Ky.displayName="ForwardRef(ReadOnlyIcon)";const o0e=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"redo",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M19 9.5L10 9.5C7.51472 9.5 5.5 11.5147 5.5 14C5.5 16.4853 7.51472 18.5 10 18.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M15 13.5L19 9.5L15 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});o0e.displayName="ForwardRef(RedoIcon)";const s0e=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"refresh",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M19.5 13.5C19.5 17.366 16.366 20.5 12.5 20.5C8.63401 20.5 5.5 17.366 5.5 13.5C5.5 9.63401 8.63401 6.5 12.5 6.5H15.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M11.5 10.5L15.5 6.5L11.5 2.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});s0e.displayName="ForwardRef(RefreshIcon)";const l0e=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"remove-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M8 12.4H17M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});l0e.displayName="ForwardRef(RemoveCircleIcon)";const IB=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});IB.displayName="ForwardRef(RemoveIcon)";const qc=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"reset",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M4.56189 13.5L4.14285 13.9294C4.25676 14.0406 4.41017 14.1019 4.56932 14.1C4.72847 14.098 4.88032 14.0329 4.99144 13.9189L4.56189 13.5ZM9.92427 15.9243L15.9243 9.92427L15.0757 9.07574L9.07574 15.0757L9.92427 15.9243ZM9.07574 9.92426L15.0757 15.9243L15.9243 15.0757L9.92426 9.07574L9.07574 9.92426ZM19.9 12.5C19.9 16.5869 16.5869 19.9 12.5 19.9V21.1C17.2496 21.1 21.1 17.2496 21.1 12.5H19.9ZM5.1 12.5C5.1 8.41309 8.41309 5.1 12.5 5.1V3.9C7.75035 3.9 3.9 7.75035 3.9 12.5H5.1ZM12.5 5.1C16.5869 5.1 19.9 8.41309 19.9 12.5H21.1C21.1 7.75035 17.2496 3.9 12.5 3.9V5.1ZM5.15728 13.4258C5.1195 13.1227 5.1 12.8138 5.1 12.5H3.9C3.9 12.8635 3.92259 13.2221 3.9665 13.5742L5.15728 13.4258ZM12.5 19.9C9.9571 19.9 7.71347 18.6179 6.38048 16.6621L5.38888 17.3379C6.93584 19.6076 9.54355 21.1 12.5 21.1V19.9ZM4.99144 13.9189L7.42955 11.4189L6.57045 10.5811L4.13235 13.0811L4.99144 13.9189ZM4.98094 13.0706L2.41905 10.5706L1.58095 11.4294L4.14285 13.9294L4.98094 13.0706Z",fill:"currentColor"})})});qc.displayName="ForwardRef(ResetIcon)";const gD=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"restore",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M5.88468 17C7.32466 19.1128 9.75033 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5V13.5M12.5 8V12.5L15.5 15.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M7 11L4.5 13.5L2 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});gD.displayName="ForwardRef(RestoreIcon)";const u0e=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"retrieve",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M16 14L12.5 10.5L9 14M5.5 7.5H19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M12.5 10.5L12.5 17.5M19.5 7.5V19.5H5.5V7.5L7.5 5.5H17.5L19.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});u0e.displayName="ForwardRef(RetrieveIcon)";const c0e=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"retry",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M19 9.5L10 9.5C7.51472 9.5 5.5 11.5147 5.5 14C5.5 16.4853 7.51472 18.5 10 18.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M15 13.5L19 9.5L15 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});c0e.displayName="ForwardRef(RetryIcon)";const vD=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"revert",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M6 9.5L15 9.5C17.4853 9.5 19.5 11.5147 19.5 14C19.5 16.4853 17.4853 18.5 15 18.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M10 13.5L6 9.5L10 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});vD.displayName="ForwardRef(RevertIcon)";const d0e=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"robot",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 15.5V17.5M12.5 8.5V6.5M12.5 6.5C13.3284 6.5 14 5.82843 14 5C14 4.17157 13.3284 3.5 12.5 3.5C11.6716 3.5 11 4.17157 11 5C11 5.82843 11.6716 6.5 12.5 6.5ZM20.5 20.5V19.5C20.5 18.3954 19.6046 17.5 18.5 17.5H6.5C5.39543 17.5 4.5 18.3954 4.5 19.5V20.5H20.5ZM11.5 12C11.5 12.5523 11.0523 13 10.5 13C9.94772 13 9.5 12.5523 9.5 12C9.5 11.4477 9.94772 11 10.5 11C11.0523 11 11.5 11.4477 11.5 12ZM15.5 12C15.5 12.5523 15.0523 13 14.5 13C13.9477 13 13.5 12.5523 13.5 12C13.5 11.4477 13.9477 11 14.5 11C15.0523 11 15.5 11.4477 15.5 12ZM8.5 15.5H16.5C17.6046 15.5 18.5 14.6046 18.5 13.5V10.5C18.5 9.39543 17.6046 8.5 16.5 8.5H8.5C7.39543 8.5 6.5 9.39543 6.5 10.5V13.5C6.5 14.6046 7.39543 15.5 8.5 15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});d0e.displayName="ForwardRef(RobotIcon)";const f0e=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"rocket",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 20.5L15.5 14M11 9.49999L4.5 12.5M9 14C9 14 7.54688 14.9531 6.5 16C5.5 17 4.5 20.5 4.5 20.5C4.5 20.5 8 19.5 9 18.5C10 17.5 11 16 11 16M9 14C9 14 10.1 9.9 12.5 7.5C15.5 4.5 20.5 4.5 20.5 4.5C20.5 4.5 20.5 9.5 17.5 12.5C15.7492 14.2508 11 16 11 16L9 14ZM16.5 9.99999C16.5 10.8284 15.8284 11.5 15 11.5C14.1716 11.5 13.5 10.8284 13.5 9.99999C13.5 9.17157 14.1716 8.49999 15 8.49999C15.8284 8.49999 16.5 9.17157 16.5 9.99999Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});f0e.displayName="ForwardRef(RocketIcon)";const h0e=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"schema",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 9.5V12.5M12.5 12.5H8.5V15.5M12.5 12.5H16.5V15.5M10.5 5.5H14.5V9.5H10.5V5.5ZM6.5 15.5H10.5V19.5H6.5V15.5ZM14.5 15.5H18.5V19.5H14.5V15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});h0e.displayName="ForwardRef(SchemaIcon)";const Ca=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"search",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M15.0355 15.0355L20 20M16.5 11.5C16.5 14.2614 14.2614 16.5 11.5 16.5C8.73858 16.5 6.5 14.2614 6.5 11.5C6.5 8.73858 8.73858 6.5 11.5 6.5C14.2614 6.5 16.5 8.73858 16.5 11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Ca.displayName="ForwardRef(SearchIcon)";const DB=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"select",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M16 15L12.5 18.5L9 15M9 10L12.5 6.5L16 10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});DB.displayName="ForwardRef(SelectIcon)";const p0e=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"share",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M15 10.5H18.5V19.5H6.5L6.5 10.5H10M12.5 16V3.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M9 7L12.5 3.5L16 7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});p0e.displayName="ForwardRef(ShareIcon)";const Z1=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"sort",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M8.5 18.5V6M16.5 19V6.5M12 15L8.5 18.5L5 15M13 10L16.5 6.5L20 10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Z1.displayName="ForwardRef(SortIcon)";const m0e=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"sparkle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M10.5 10.5C8.5 12.5 5 12.5 5 12.5C5 12.5 8.5 12.5 10.5 14.5C12.5 16.5 12.5 20 12.5 20C12.5 20 12.5 16.5 14.5 14.5C16.5 12.5 20 12.5 20 12.5C20 12.5 16.5 12.5 14.5 10.5C12.5 8.5 12.5 5 12.5 5C12.5 5 12.5 8.5 10.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});m0e.displayName="ForwardRef(SparkleIcon)";const g0e=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"sparkles",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M11 3.5V5M11 5V6.5M11 5H12.5M11 5H9.5M9.5 15C9.5 15 12.2308 14.7692 13.5 13.5C14.7692 12.2308 15 9.5 15 9.5C15 9.5 15.2308 12.2308 16.5 13.5C17.7692 14.7692 20.5 15 20.5 15C20.5 15 17.7692 15.2308 16.5 16.5C15.2308 17.7692 15 20.5 15 20.5C15 20.5 14.7692 17.7692 13.5 16.5C12.2308 15.2308 9.5 15 9.5 15ZM4.5 10C4.5 10 5.72308 9.87692 6.3 9.3C6.87692 8.72308 7 7.5 7 7.5C7 7.5 7.12308 8.72308 7.7 9.3C8.27692 9.87692 9.5 10 9.5 10C9.5 10 8.27692 10.1231 7.7 10.7C7.12308 11.2769 7 12.5 7 12.5C7 12.5 6.87692 11.2769 6.3 10.7C5.72308 10.1231 4.5 10 4.5 10Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"})})});g0e.displayName="ForwardRef(SparklesIcon)";const Zy=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"spinner",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Zy.displayName="ForwardRef(SpinnerIcon)";const v0e=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"split-horizontal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M19.5 10.5V20.5H5.5V10.5M19.5 10.5H5.5M19.5 10.5V4.5H5.5V10.5M12.5 13V15.5M12.5 18V15.5M12.5 15.5H15M12.5 15.5H10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});v0e.displayName="ForwardRef(SplitHorizontalIcon)";const $B=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"split-vertical",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M10.5 5.5V19.5M13 12.5H15.5M18 12.5H15.5M15.5 12.5V15M15.5 12.5V10M4.5 5.5H20.5V19.5H4.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});$B.displayName="ForwardRef(SplitVerticalIcon)";const y0e=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"square",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("rect",{x:5.5,y:5.5,width:14,height:14,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});y0e.displayName="ForwardRef(SquareIcon)";const yD=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"stack-compact",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M5.5 15.5V18.5H19.5V15.5M5.5 15.5H19.5M5.5 15.5V9.5M19.5 15.5V9.5M5.5 9.5V6.5H19.5V9.5M5.5 9.5H19.5M5.5 12.5H19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});yD.displayName="ForwardRef(StackCompactIcon)";const OB=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"stack",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M5.5 12.5H19.5M5.5 18.5H19.5V6.5H5.5V18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});OB.displayName="ForwardRef(StackIcon)";const b0e=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"star-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 5L14.522 10.217L20.1085 10.5279L15.7716 14.063L17.2023 19.4721L12.5 16.44L7.79772 19.4721L9.22837 14.063L4.89155 10.5279L10.478 10.217L12.5 5Z",fill:"currentColor",stroke:"currentColor",strokeLinejoin:"round"})})});b0e.displayName="ForwardRef(StarFilledIcon)";const x0e=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"star",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 5L14.522 10.217L20.1085 10.5279L15.7716 14.063L17.2023 19.4721L12.5 16.44L7.79772 19.4721L9.22837 14.063L4.89155 10.5279L10.478 10.217L12.5 5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});x0e.displayName="ForwardRef(StarIcon)";const w0e=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"stop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("rect",{x:7.5,y:7.5,width:10,height:10,fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});w0e.displayName="ForwardRef(StopIcon)";const MB=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"strikethrough",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M12.5656 7.73438C11.0656 7.73438 10.0734 8.48438 10.0734 9.625C10.0734 10.2317 10.3649 10.6613 11.0519 11H8.90358C8.71703 10.6199 8.62813 10.1801 8.62813 9.67188C8.62813 7.75781 10.2297 6.46094 12.6125 6.46094C14.7922 6.46094 16.4172 7.75781 16.5344 9.57812H15.1203C14.925 8.42188 13.9719 7.73438 12.5656 7.73438Z",fill:"currentColor"}),u.jsx("path",{d:"M12.4875 18.2656C10.0969 18.2656 8.44844 17 8.3 15.0547H9.72188C9.89375 16.2344 11.0188 16.9844 12.6203 16.9844C14.1359 16.9844 15.2531 16.1641 15.2531 15.0469C15.2531 14.6375 15.1255 14.292 14.8589 14H16.5912C16.6638 14.266 16.6984 14.5566 16.6984 14.875C16.6984 16.9453 15.0656 18.2656 12.4875 18.2656Z",fill:"currentColor"}),u.jsx("path",{d:"M7 13.1H18V11.9H7V13.1Z",fill:"currentColor"})]})});MB.displayName="ForwardRef(StrikethroughIcon)";const Fm=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"string",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M11.6748 15.5227H13.1855L9.87842 6.36304H8.34863L5.0415 15.5227H6.50146L7.3457 13.0916H10.8369L11.6748 15.5227ZM9.04053 8.02612H9.14844L10.4751 11.8982H7.70752L9.04053 8.02612Z",fill:"currentColor"}),u.jsx("path",{d:"M16.8101 14.488C16.0674 14.488 15.5278 14.1262 15.5278 13.5042C15.5278 12.8948 15.9595 12.571 16.9116 12.5076L18.6001 12.3997V12.9773C18.6001 13.8342 17.8384 14.488 16.8101 14.488ZM16.4609 15.637C17.3687 15.637 18.124 15.2434 18.5366 14.5515H18.6445V15.5227H19.9585V10.8C19.9585 9.34009 18.981 8.47681 17.248 8.47681C15.6802 8.47681 14.563 9.23853 14.4233 10.4255H15.7437C15.896 9.93677 16.4229 9.65747 17.1846 9.65747C18.1177 9.65747 18.6001 10.0701 18.6001 10.8V11.3967L16.7275 11.5046C15.0835 11.6062 14.1567 12.3235 14.1567 13.5676C14.1567 14.8308 15.1279 15.637 16.4609 15.637Z",fill:"currentColor"}),u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.9585 18.637L5.0415 18.637V17.437L19.9585 17.437V18.637Z",fill:"currentColor"})]})});Fm.displayName="ForwardRef(StringIcon)";const RB=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"sun",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M19 12.5H22M3 12.5H6M12.5 6V3M12.5 22V19M17.3891 7.61091L19.5104 5.48959M5.48959 19.5104L7.61091 17.3891M7.61091 7.61091L5.48959 5.48959M19.5104 19.5104L17.3891 17.3891M16 12.5C16 14.433 14.433 16 12.5 16C10.567 16 9 14.433 9 12.5C9 10.567 10.567 9 12.5 9C14.433 9 16 10.567 16 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});RB.displayName="ForwardRef(SunIcon)";const g0=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"sync",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M13.5 4.5H12.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 15.6631 6.33576 18.3975 9 19.6958M11.5 20.5H12.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 9.33688 18.6642 6.60253 16 5.30423",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M14 17.5619L11.5 20.5L14.5 23.0619M11 7.43811L13.5 4.50001L10.5 1.93811",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});g0.displayName="ForwardRef(SyncIcon)";const C0e=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"tablet-device",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M5.5 5.5C5.5 4.94772 5.94772 4.5 6.5 4.5H18.5C19.0523 4.5 19.5 4.94772 19.5 5.5V19.5C19.5 20.0523 19.0523 20.5 18.5 20.5H6.5C5.94772 20.5 5.5 20.0523 5.5 19.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M13 18C13 18.2761 12.7761 18.5 12.5 18.5C12.2239 18.5 12 18.2761 12 18C12 17.7239 12.2239 17.5 12.5 17.5C12.7761 17.5 13 17.7239 13 18Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});C0e.displayName="ForwardRef(TabletDeviceIcon)";const S0e=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"tag",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M12.5 20L5 20L5 12.5L12.5 5L20 12.5L12.5 20Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M11 15.5C11 16.3284 10.3284 17 9.5 17C8.67157 17 8 16.3284 8 15.5C8 14.6716 8.67157 14 9.5 14C10.3284 14 11 14.6716 11 15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});S0e.displayName="ForwardRef(TagIcon)";const _0e=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"tags",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.1562 7.93179L13.9717 6.11633L20.3553 12.5L13.9717 18.8836L10.6855 18.8836M11.0283 18.8836L17.4119 12.5L11.0283 6.11633L4.64462 12.5L4.64462 18.8836L11.0283 18.8836ZM9.75153 15.0534C9.75153 15.7585 9.17992 16.3302 8.47481 16.3302C7.76969 16.3302 7.19808 15.7585 7.19808 15.0534C7.19808 14.3483 7.76969 13.7767 8.47481 13.7767C9.17992 13.7767 9.75153 14.3483 9.75153 15.0534Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});_0e.displayName="ForwardRef(TagsIcon)";const s2=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"task",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M4.88281 10.75V19.75H20.8828V10.75M4.88281 10.75V5.75H20.8828V10.75M4.88281 10.75H12.8828H20.8828M17.8828 8.25V3.25M7.88281 8.25V3.25",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M10.083 14.7358L12.083 16.7358L15.683 13.1758",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});s2.displayName="ForwardRef(TaskIcon)";const E0e=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"terminal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M8.5 9.5L11.5 12.5L8.5 15.5M13 15.5H17M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});E0e.displayName="ForwardRef(TerminalIcon)";const k0e=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"text",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M7.5 9V6.5H17.5V9M12.5 18.5V6.5M10 18.5H15",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});k0e.displayName="ForwardRef(TextIcon)";const PB=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"th-large",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 6.5V12.5M12.5 12.5V18.5M12.5 12.5H20.5M12.5 12.5H4.5M4.5 6.5H20.5V18.5H4.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});PB.displayName="ForwardRef(ThLargeIcon)";const T0e=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"th-list",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M9.5 6.5V10.5M9.5 10.5V14.5M9.5 10.5H20.5M9.5 10.5H4.5M9.5 14.5V18.5M9.5 14.5H20.5M9.5 14.5H4.5M4.5 6.5H20.5V18.5H4.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});T0e.displayName="ForwardRef(ThListIcon)";const A0e=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"tiers",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M16.5 14.5L20.5 16.5L12.5 20.5L4.5 16.5L8.5 14.5M16.5 10.5L20.5 12.5L12.5 16.5L4.5 12.5L8.5 10.5M12.5 12.5L20.5 8.5L12.5 4.5L4.5 8.5L12.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});A0e.displayName="ForwardRef(TiersIcon)";const l2=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"toggle-arrow-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M10 16.5V8.5L16 12.5L10 16.5Z",fill:"currentColor",stroke:"currentColor",strokeLinejoin:"round"})})});l2.displayName="ForwardRef(ToggleArrowRightIcon)";const j0e=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"token",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M17.5711 12.5C17.5711 15.2614 15.3325 17.5 12.5711 17.5M7.57107 12.5C7.57107 9.73858 9.80964 7.5 12.5711 7.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});j0e.displayName="ForwardRef(TokenIcon)";const I0e=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"transfer",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M19.5 16.5H6M5.5 8.5L19 8.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M16 13L19.5 16.5L16 20M9 12L5.5 8.5L9 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});I0e.displayName="ForwardRef(TransferIcon)";const D0e=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"translate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.4 5.4H4V6.6H13.2189C13.1612 6.78478 13.0895 6.99578 13.0025 7.22211C12.7032 8.00031 12.2402 8.91125 11.5757 9.57574L10 11.1515L9.42426 10.5757C8.72102 9.8725 8.25297 9.16987 7.96199 8.64611C7.81668 8.38455 7.71617 8.16874 7.65305 8.02146C7.62151 7.94787 7.59937 7.89154 7.5857 7.85534C7.57886 7.83725 7.57415 7.8242 7.57144 7.81657L7.56886 7.80922C7.56886 7.80922 7.56921 7.81026 7 8C6.43079 8.18974 6.43091 8.19009 6.43091 8.19009L6.43133 8.19135L6.43206 8.19351L6.4341 8.19948L6.44052 8.21786C6.44587 8.23292 6.45336 8.25357 6.46313 8.27942C6.48266 8.33112 6.5113 8.40369 6.55008 8.49416C6.62758 8.67501 6.74582 8.92795 6.91301 9.22889C7.24703 9.83013 7.77898 10.6275 8.57574 11.4243L9.15147 12L4.57964 16.5718L4.57655 16.5749L4.57577 16.5757L5.4243 17.4242L5.42688 17.4216L10.0368 12.8117L12.6159 14.9609L13.3841 14.0391L10.8888 11.9597L12.4243 10.4243C13.2598 9.58875 13.7968 8.49969 14.1225 7.65289C14.2818 7.23863 14.395 6.87072 14.4696 6.6H16V5.4H10.6V4H9.4V5.4ZM17.4405 10L21.553 19.7672H20.2509L19.1279 17.1H14.8721L13.7491 19.7672H12.447L16.5595 10H17.4405ZM15.3773 15.9H18.6227L17 12.0462L15.3773 15.9Z",fill:"currentColor"})})});D0e.displayName="ForwardRef(TranslateIcon)";const Kr=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"trash",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M5 6.5H20M10 6.5V4.5C10 3.94772 10.4477 3.5 11 3.5H14C14.5523 3.5 15 3.94772 15 4.5V6.5M12.5 9V17M15.5 9L15 17M9.5 9L10 17M18.5 6.5L17.571 18.5767C17.5309 19.0977 17.0965 19.5 16.574 19.5H8.42603C7.90349 19.5 7.46905 19.0977 7.42898 18.5767L6.5 6.5H18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Kr.displayName="ForwardRef(TrashIcon)";const $0e=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"trend-upward",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M4.5 18.5L11.5 10.5L13.5 14.5L20.5 6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M20.5 11V6.5H16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});$0e.displayName="ForwardRef(TrendUpwardIcon)";const O0e=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"triangle-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M20.5 18.5H4.5L12.5 5.5L20.5 18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});O0e.displayName="ForwardRef(TriangleOutlineIcon)";const M0e=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"trolley",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M8 17.5L5.81763 6.26772C5.71013 5.81757 5.30779 5.5 4.84498 5.5H3M8 17.5H17M8 17.5C8.82843 17.5 9.5 18.1716 9.5 19C9.5 19.8284 8.82843 20.5 8 20.5C7.17157 20.5 6.5 19.8284 6.5 19C6.5 18.1716 7.17157 17.5 8 17.5ZM17 17.5C17.8284 17.5 18.5 18.1716 18.5 19C18.5 19.8284 17.8284 20.5 17 20.5C16.1716 20.5 15.5 19.8284 15.5 19C15.5 18.1716 16.1716 17.5 17 17.5ZM7.78357 14.5H17.5L19 7.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});M0e.displayName="ForwardRef(TrolleyIcon)";const R0e=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"truncate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M5 12.5H20M8.5 19.5L12.5 15.5L16.5 19.5M16.5 5.5L12.5 9.5L8.5 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});R0e.displayName="ForwardRef(TruncateIcon)";const P0e=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"twitter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M18.8738 6.65751C18.1994 5.9447 17.2445 5.5 16.1857 5.5C14.1423 5.5 12.4857 7.15655 12.4857 9.2C12.4857 9.55263 12.535 9.89374 12.6272 10.2168C7.0826 9.56422 4.55703 6.02857 4.55703 6.02857C4.55703 6.02857 4.02846 9.2 6.14274 11.3143C5.08571 11.3143 4.55703 10.7857 4.55703 10.7857C4.55703 10.7857 4.55703 13.4286 7.19989 14.4857C6.67143 15.0143 5.61417 14.4857 5.61417 14.4857C5.97533 15.9303 7.45606 16.8562 8.82133 17.1358C6.67298 19.1676 3.5 18.7143 3.5 18.7143C5.14562 19.771 7.21334 20.3 9.31429 20.3C16.1214 20.3 19.8162 15.6315 19.8848 9.37762C20.8722 8.58943 22 7.08571 22 7.08571C22 7.08571 21.277 7.45458 19.6913 7.98315C21.277 6.92601 21.4714 5.5 21.4714 5.5C21.4714 5.5 20.4135 6.55789 18.8738 6.65751Z",fill:"currentColor"})})});P0e.displayName="ForwardRef(TwitterIcon)";const ag=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"ulist",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M7.10153 17.5001C7.10153 17.8323 6.83221 18.1016 6.5 18.1016C6.16778 18.1016 5.89847 17.8323 5.89847 17.5001C5.89847 17.1678 6.16778 16.8985 6.5 16.8985C6.83221 16.8985 7.10153 17.1678 7.10153 17.5001Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M7.10153 7.5C7.10153 7.83221 6.83221 8.10153 6.5 8.10153C6.16778 8.10153 5.89847 7.83221 5.89847 7.5C5.89847 7.16778 6.16778 6.89847 6.5 6.89847C6.83221 6.89847 7.10153 7.16778 7.10153 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M7.10153 12.5C7.10153 12.8322 6.83221 13.1015 6.5 13.1015C6.16778 13.1015 5.89847 12.8322 5.89847 12.5C5.89847 12.1678 6.16778 11.8985 6.5 11.8985C6.83221 11.8985 7.10153 12.1678 7.10153 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M10 7.5H19M10 17.5H19M10 12.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});ag.displayName="ForwardRef(UlistIcon)";const F0e=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"unarchive",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M12.5 10.5V18M20.5 7.5V20.5H4.5V7.5L7.5 4.5H17.5L20.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M4.5 7.5H20.5M16 14L12.5 10.5L9 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});F0e.displayName="ForwardRef(UnarchiveIcon)";const FB=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"underline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M9.52791 7.11407H8.17V14.2582C8.17 16.5817 9.79195 18.2565 12.4927 18.2565C15.1934 18.2565 16.8154 16.5817 16.8154 14.2582V7.11407H15.4574V14.1677C15.4574 15.8122 14.3787 17.0042 12.4927 17.0042C10.6067 17.0042 9.52791 15.8122 9.52791 14.1677V7.11407Z",fill:"currentColor"}),u.jsx("path",{d:"M7 20.5H18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});FB.displayName="ForwardRef(UnderlineIcon)";const RC=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"undo",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M6 9.5L15 9.5C17.4853 9.5 19.5 11.5147 19.5 14C19.5 16.4853 17.4853 18.5 15 18.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M10 13.5L6 9.5L10 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});RC.displayName="ForwardRef(UndoIcon)";const Hl=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"unknown",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 13C12.5 11 14 11.5 14 10C14 9.34375 13.5 8.5 12.5 8.5C11.5 8.5 11 9 10.5 9.5M12.5 16V14.5M5.5 5.5H19.5V19.5H5.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});Hl.displayName="ForwardRef(UnknownIcon)";const N0e=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"unlink",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M15 13.5L17.5 11C18.281 10.219 18.281 8.78105 17.5 8L17 7.5C16.2189 6.71895 14.781 6.71895 14 7.5L11.5 10M10 11.5L7.5 14C6.71896 14.781 6.71895 16.219 7.5 17L8 17.5C8.78105 18.281 10.2189 18.281 11 17.5L13.5 15M9.5 8V5M8 9.5H5M17 15.5H20M15.5 17V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});N0e.displayName="ForwardRef(UnlinkIcon)";const L0e=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"unlock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M9.5 11.5V8.5C9.5 6.5 8 5.5 6.5 5.5C5 5.5 3.5 6.5 3.5 8.5V11.5M7.5 11.5H17.5V19.5H7.5V11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});L0e.displayName="ForwardRef(UnlockIcon)";const PC=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"unpublish",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M5 19.5H20M12.5 16V5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M17.5 11L12.5 16L7.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});PC.displayName="ForwardRef(UnpublishIcon)";const u2=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"upload",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:[u.jsx("path",{d:"M12.5 6.00003V15.5M5.5 15.5H19.5V19.5H5.5V15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("path",{d:"M7.5 11L12.5 6.00003L17.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});u2.displayName="ForwardRef(UploadIcon)";const X1=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"user",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M8 14.5C7 15 5.5 16 5.5 19.5H19.5C19.5 16 18.3416 15.1708 17 14.5C16 14 14 14 14 12.5C14 11 15 10.25 15 8.25C15 6.25 14 5.25 12.5 5.25C11 5.25 10 6.25 10 8.25C10 10.25 11 11 11 12.5C11 14 9 14 8 14.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});X1.displayName="ForwardRef(UserIcon)";const c2=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"users",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M17.5 18.5H21.5C21.5 15 20.8416 14.1708 19.5 13.5C18.5 13 16.5 12.5 16.5 11C16.5 9.5 17.5 9 17.5 7C17.5 5 16.5 4 15 4C13.6628 4 12.723 4.79472 12.5347 6.38415M4.5 20.5C4.5 17 5.5 16 6.5 15.5C7.5 15 9.5 14.5 9.5 13C9.5 11.5 8.5 11 8.5 9C8.5 7 9.5 6 11 6C12.5 6 13.5 7 13.5 9C13.5 11 12.5 11.5 12.5 13C12.5 14.5 14.5 15 15.5 15.5C16.8416 16.1708 17.5 17 17.5 20.5H4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});c2.displayName="ForwardRef(UsersIcon)";const B0e=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"warning-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.741 5.12637C13.7357 3.41737 11.2643 3.41737 10.259 5.12637L3.7558 16.1818C2.73624 17.915 3.98595 20.1 5.99683 20.1H19.0032C21.014 20.1 22.2637 17.915 21.2442 16.1818L14.741 5.12637ZM11.9 9V13H13.1V9H11.9ZM13.1 16V14.5H11.9V16H13.1Z",fill:"currentColor"})})});B0e.displayName="ForwardRef(WarningFilledIcon)";const fr=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"warning-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M12.5 9V13M12.5 16V14.5M14.2239 5.43058L20.727 16.486C21.5113 17.8192 20.55 19.5 19.0032 19.5H5.99683C4.45 19.5 3.48869 17.8192 4.27297 16.486L10.7761 5.43058C11.5494 4.11596 13.4506 4.11596 14.2239 5.43058Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})});fr.displayName="ForwardRef(WarningOutlineIcon)";const V0e=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"wrench",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,...e,children:u.jsx("path",{d:"M17.0407 5.14624L17.4649 5.57051C17.6166 5.41887 17.6758 5.19783 17.6202 4.99071C17.5646 4.78359 17.4027 4.62189 17.1955 4.56656L17.0407 5.14624ZM14.4013 7.7856L13.9771 7.36134C13.8288 7.50959 13.7687 7.72447 13.8185 7.92813L14.4013 7.7856ZM12.8778 6.26211L12.4535 5.83784L12.4535 5.83784L12.8778 6.26211ZM11.8309 10.6568L12.2552 11.0811C12.4152 10.9211 12.4716 10.6847 12.401 10.4697L11.8309 10.6568ZM5.63925 16.8485L5.21498 16.4242L5.21498 16.4242L5.63925 16.8485ZM5.63925 19.935L6.06351 19.5108L6.06351 19.5108L5.63925 19.935ZM8.72581 19.935L9.15007 20.3593L9.15007 20.3593L8.72581 19.935ZM15.1184 13.5425L15.2301 12.953C15.0351 12.916 14.8344 12.9779 14.6941 13.1182L15.1184 13.5425ZM18.9718 12.3561L18.5475 11.9318L18.5475 11.9318L18.9718 12.3561ZM20.0877 8.19324L20.6674 8.03843C20.612 7.83124 20.4503 7.66934 20.2432 7.61375C20.0361 7.55816 19.815 7.61734 19.6634 7.76897L20.0877 8.19324ZM17.4483 10.8326L17.3058 11.4154C17.5094 11.4652 17.7243 11.4051 17.8726 11.2569L17.4483 10.8326ZM15 10.2339L14.4172 10.3764C14.4704 10.5938 14.6401 10.7635 14.8575 10.8167L15 10.2339ZM16.6164 4.72198L13.9771 7.36134L14.8256 8.20986L17.4649 5.57051L16.6164 4.72198ZM13.3021 6.68637C14.2723 5.71612 15.6467 5.39501 16.8859 5.72593L17.1955 4.56656C15.5595 4.12966 13.7389 4.55245 12.4535 5.83784L13.3021 6.68637ZM12.401 10.4697C11.9779 9.18109 12.2794 7.70907 13.3021 6.68637L12.4535 5.83784C11.0986 7.19284 10.7021 9.14217 11.2608 10.844L12.401 10.4697ZM11.4066 10.2326L5.21498 16.4242L6.06351 17.2727L12.2552 11.0811L11.4066 10.2326ZM5.21498 16.4242C4.12834 17.5109 4.12834 19.2727 5.21498 20.3593L6.06351 19.5108C5.4455 18.8928 5.4455 17.8908 6.06351 17.2727L5.21498 16.4242ZM5.21498 20.3593C6.30163 21.446 8.06343 21.446 9.15007 20.3593L8.30155 19.5108C7.68353 20.1288 6.68153 20.1288 6.06351 19.5108L5.21498 20.3593ZM9.15007 20.3593L15.5426 13.9668L14.6941 13.1182L8.30155 19.5108L9.15007 20.3593ZM18.5475 11.9318C17.6463 12.8331 16.3968 13.1742 15.2301 12.953L15.0066 14.132C16.5466 14.4239 18.2023 13.9741 19.3961 12.7804L18.5475 11.9318ZM19.508 8.34804C19.8389 9.58721 19.5178 10.9616 18.5475 11.9318L19.3961 12.7804C20.6815 11.495 21.1043 9.67445 20.6674 8.03843L19.508 8.34804ZM17.8726 11.2569L20.5119 8.6175L19.6634 7.76897L17.024 10.4083L17.8726 11.2569ZM14.8575 10.8167L17.3058 11.4154L17.5908 10.2498L15.1426 9.65106L14.8575 10.8167ZM13.8185 7.92813L14.4172 10.3764L15.5829 10.0914L14.9841 7.64307L13.8185 7.92813Z",fill:"currentColor"})})});V0e.displayName="ForwardRef(WrenchIcon)";const a6e={"access-denied":gf,activity:Rme,"add-circle":LT,"add-comment":iD,"add-document":Pme,add:wa,api:Fme,archive:Nme,"arrow-down":rB,"arrow-left":Gy,"arrow-right":iB,"arrow-top-right":Lme,"arrow-up":Bme,asterisk:Vme,"bar-chart":zme,basket:Ume,bell:Hme,bill:Wme,"binary-document":Yy,"block-content":aB,"block-element":oB,blockquote:Gme,bold:sB,bolt:aD,book:Yme,bottle:qme,"bulb-filled":Kme,"bulb-outline":a2,calendar:Ma,case:Zme,"chart-upward":Xme,"checkmark-circle":Lp,checkmark:_a,"chevron-down":Ii,"chevron-left":Lf,"chevron-right":no,"chevron-up":lB,circle:Tg,clipboard:uB,"clipboard-image":Jme,clock:oD,"close-circle":Qme,close:Rr,"code-block":ege,code:cB,cog:o2,collapse:dB,"color-wheel":tge,comment:sD,component:nge,compose:rge,confetti:ige,controls:lD,copy:Ql,"credit-card":age,crop:fB,cube:oge,dashboard:sge,database:lge,desktop:hB,diamond:uge,document:Hu,"document-pdf":cge,"document-remove":dge,"document-sheet":fge,"document-text":hge,"document-video":pge,"document-word":mge,"document-zip":gge,documents:uD,dot:pB,"double-chevron-down":vge,"double-chevron-left":mB,"double-chevron-right":cD,"double-chevron-up":yge,download:dD,"drag-handle":gB,drop:bge,"earth-americas":g1,"earth-globe":xge,edit:Yc,"ellipsis-horizontal":qy,"ellipsis-vertical":wge,empty:Cge,enter:Sge,"enter-right":_ge,envelope:Ege,equal:kge,"error-filled":Tge,"error-outline":Ea,expand:vB,"eye-closed":Age,"eye-open":fD,filter:jge,folder:yB,generate:Ige,groq:Dge,hash:$ge,"heart-filled":Oge,heart:Mge,"help-circle":Ag,highlight:Rge,home:Pge,"ice-cream":Fge,image:eu,"image-remove":Nge,images:Lge,"info-filled":Bge,"info-outline":Bf,"inline-element":bB,inline:Vge,"insert-above":hD,"insert-below":pD,italic:xB,joystick:zge,json:wB,launch:Qc,leave:mD,lemon:Uge,link:tl,"link-removed":CB,lock:Hge,"logo-js":Wge,"logo-ts":Gge,"master-detail":SB,menu:_B,"mobile-device":Yge,moon:EB,number:kB,"ok-hand":qge,olist:TB,overage:Kge,package:Zge,"panel-left":AB,"panel-right":jB,pause:Xge,pin:Jge,"pin-removed":Qge,play:e0e,plug:t0e,presentation:n0e,"progress-50":r0e,"progress-75":i0e,projects:a0e,publish:ig,"read-only":Ky,redo:o0e,refresh:s0e,"remove-circle":l0e,remove:IB,reset:qc,restore:gD,retrieve:u0e,retry:c0e,revert:vD,robot:d0e,rocket:f0e,schema:h0e,search:Ca,select:DB,share:p0e,sort:Z1,sparkle:m0e,sparkles:g0e,spinner:Zy,"split-horizontal":v0e,"split-vertical":$B,square:y0e,"stack-compact":yD,stack:OB,"star-filled":b0e,star:x0e,stop:w0e,strikethrough:MB,string:Fm,sun:RB,sync:g0,"tablet-device":C0e,tag:S0e,tags:_0e,task:s2,terminal:E0e,text:k0e,"th-large":PB,"th-list":T0e,tiers:A0e,"toggle-arrow-right":l2,token:j0e,transfer:I0e,translate:D0e,trash:Kr,"trend-upward":$0e,"triangle-outline":O0e,trolley:M0e,truncate:R0e,twitter:P0e,ulist:ag,unarchive:F0e,underline:FB,undo:RC,unknown:Hl,unlink:N0e,unlock:L0e,unpublish:PC,upload:u2,user:X1,users:c2,"warning-filled":B0e,"warning-outline":fr,wrench:V0e},NB=f.forwardRef(function(e,t){const{symbol:n,...r}=e,i=a6e[n];return i?u.jsx(i,{...r,ref:t}):null});NB.displayName="ForwardRef(Icon)";var o6e=l6e,s6e=Object.prototype.hasOwnProperty;function l6e(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)s6e.call(n,r)&&(e[r]=n[r])}return e}var z0e=U0e,LB=U0e.prototype;LB.space=null;LB.normal={};LB.property={};function U0e(e,t,n){this.property=e,this.normal=t,n&&(this.space=n)}var oZ=o6e,u6e=z0e,c6e=d6e;function d6e(e){for(var t=e.length,n=[],r=[],i=-1,a,o;++i<t;)a=e[i],n.push(a.property),r.push(a.normal),o=a.space;return new u6e(oZ.apply(null,n),oZ.apply(null,r),o)}var BB=f6e;function f6e(e){return e.toLowerCase()}var H0e=W0e,uu=W0e.prototype;uu.space=null;uu.attribute=null;uu.property=null;uu.boolean=!1;uu.booleanish=!1;uu.overloadedBoolean=!1;uu.number=!1;uu.commaSeparated=!1;uu.spaceSeparated=!1;uu.commaOrSpaceSeparated=!1;uu.mustUseProperty=!1;uu.defined=!1;function W0e(e,t){this.property=e,this.attribute=t}var ed={},h6e=0;ed.boolean=v0();ed.booleanish=v0();ed.overloadedBoolean=v0();ed.number=v0();ed.spaceSeparated=v0();ed.commaSeparated=v0();ed.commaOrSpaceSeparated=v0();function v0(){return Math.pow(2,++h6e)}var G0e=H0e,sZ=ed,Y0e=VB;VB.prototype=new G0e;VB.prototype.defined=!0;var q0e=["boolean","booleanish","overloadedBoolean","number","commaSeparated","spaceSeparated","commaOrSpaceSeparated"],p6e=q0e.length;function VB(e,t,n,r){var i=-1,a;for(lZ(this,"space",r),G0e.call(this,e,t);++i<p6e;)a=q0e[i],lZ(this,a,(n&sZ[a])===sZ[a])}function lZ(e,t,n){n&&(e[t]=n)}var uZ=BB,m6e=z0e,g6e=Y0e,d2=v6e;function v6e(e){var t=e.space,n=e.mustUseProperty||[],r=e.attributes||{},i=e.properties,a=e.transform,o={},s={},l,c;for(l in i)c=new g6e(l,a(r,l),i[l],t),n.indexOf(l)!==-1&&(c.mustUseProperty=!0),o[l]=c,s[uZ(l)]=l,s[uZ(c.attribute)]=l;return new m6e(o,s,t)}var y6e=d2,b6e=y6e({space:"xlink",transform:x6e,properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}});function x6e(e,t){return"xlink:"+t.slice(5).toLowerCase()}var w6e=d2,C6e=w6e({space:"xml",transform:S6e,properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function S6e(e,t){return"xml:"+t.slice(3).toLowerCase()}var _6e=E6e;function E6e(e,t){return t in e?e[t]:t}var k6e=_6e,K0e=T6e;function T6e(e,t){return k6e(e,t.toLowerCase())}var A6e=d2,j6e=K0e,I6e=A6e({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:j6e,properties:{xmlns:null,xmlnsXLink:null}}),zB=ed,D6e=d2,ls=zB.booleanish,wl=zB.number,um=zB.spaceSeparated,$6e=D6e({transform:O6e,properties:{ariaActiveDescendant:null,ariaAtomic:ls,ariaAutoComplete:null,ariaBusy:ls,ariaChecked:ls,ariaColCount:wl,ariaColIndex:wl,ariaColSpan:wl,ariaControls:um,ariaCurrent:null,ariaDescribedBy:um,ariaDetails:null,ariaDisabled:ls,ariaDropEffect:um,ariaErrorMessage:null,ariaExpanded:ls,ariaFlowTo:um,ariaGrabbed:ls,ariaHasPopup:null,ariaHidden:ls,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:um,ariaLevel:wl,ariaLive:null,ariaModal:ls,ariaMultiLine:ls,ariaMultiSelectable:ls,ariaOrientation:null,ariaOwns:um,ariaPlaceholder:null,ariaPosInSet:wl,ariaPressed:ls,ariaReadOnly:ls,ariaRelevant:null,ariaRequired:ls,ariaRoleDescription:um,ariaRowCount:wl,ariaRowIndex:wl,ariaRowSpan:wl,ariaSelected:ls,ariaSetSize:wl,ariaSort:null,ariaValueMax:wl,ariaValueMin:wl,ariaValueNow:wl,ariaValueText:null,role:null}});function O6e(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}var Xy=ed,M6e=d2,R6e=K0e,on=Xy.boolean,P6e=Xy.overloadedBoolean,mx=Xy.booleanish,Lr=Xy.number,Po=Xy.spaceSeparated,nE=Xy.commaSeparated,F6e=M6e({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:R6e,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:nE,acceptCharset:Po,accessKey:Po,action:null,allow:null,allowFullScreen:on,allowPaymentRequest:on,allowUserMedia:on,alt:null,as:null,async:on,autoCapitalize:null,autoComplete:Po,autoFocus:on,autoPlay:on,capture:on,charSet:null,checked:on,cite:null,className:Po,cols:Lr,colSpan:null,content:null,contentEditable:mx,controls:on,controlsList:Po,coords:Lr|nE,crossOrigin:null,data:null,dateTime:null,decoding:null,default:on,defer:on,dir:null,dirName:null,disabled:on,download:P6e,draggable:mx,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:on,formTarget:null,headers:Po,height:Lr,hidden:on,high:Lr,href:null,hrefLang:null,htmlFor:Po,httpEquiv:Po,id:null,imageSizes:null,imageSrcSet:nE,inputMode:null,integrity:null,is:null,isMap:on,itemId:null,itemProp:Po,itemRef:Po,itemScope:on,itemType:Po,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:on,low:Lr,manifest:null,max:null,maxLength:Lr,media:null,method:null,min:null,minLength:Lr,multiple:on,muted:on,name:null,nonce:null,noModule:on,noValidate:on,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextMenu:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:on,optimum:Lr,pattern:null,ping:Po,placeholder:null,playsInline:on,poster:null,preload:null,readOnly:on,referrerPolicy:null,rel:Po,required:on,reversed:on,rows:Lr,rowSpan:Lr,sandbox:Po,scope:null,scoped:on,seamless:on,selected:on,shape:null,size:Lr,sizes:null,slot:null,span:Lr,spellCheck:mx,src:null,srcDoc:null,srcLang:null,srcSet:nE,start:Lr,step:null,style:null,tabIndex:Lr,target:null,title:null,translate:null,type:null,typeMustMatch:on,useMap:null,value:mx,width:Lr,wrap:null,align:null,aLink:null,archive:Po,axis:null,background:null,bgColor:null,border:Lr,borderColor:null,bottomMargin:Lr,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:on,declare:on,event:null,face:null,frame:null,frameBorder:null,hSpace:Lr,leftMargin:Lr,link:null,longDesc:null,lowSrc:null,marginHeight:Lr,marginWidth:Lr,noResize:on,noHref:on,noShade:on,noWrap:on,object:null,profile:null,prompt:null,rev:null,rightMargin:Lr,rules:null,scheme:null,scrolling:mx,standby:null,summary:null,text:null,topMargin:Lr,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Lr,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:on,disableRemotePlayback:on,prefix:null,property:null,results:Lr,security:null,unselectable:null}}),N6e=c6e,L6e=b6e,B6e=C6e,V6e=I6e,z6e=$6e,U6e=F6e,H6e=N6e([B6e,L6e,V6e,z6e,U6e]),W6e=BB,G6e=Y0e,Y6e=H0e,UB="data",q6e=X6e,K6e=/^data[-\w.:]+$/i,Z0e=/-[a-z]/g,Z6e=/[A-Z]/g;function X6e(e,t){var n=W6e(t),r=t,i=Y6e;return n in e.normal?e.property[e.normal[n]]:(n.length>4&&n.slice(0,4)===UB&&K6e.test(t)&&(t.charAt(4)==="-"?r=J6e(t):t=Q6e(t),i=G6e),new i(r,t))}function J6e(e){var t=e.slice(5).replace(Z0e,t7e);return UB+t.charAt(0).toUpperCase()+t.slice(1)}function Q6e(e){var t=e.slice(4);return Z0e.test(t)?e:(t=t.replace(Z6e,e7e),t.charAt(0)!=="-"&&(t="-"+t),UB+t)}function e7e(e){return"-"+e.toLowerCase()}function t7e(e){return e.charAt(1).toUpperCase()}var n7e=r7e,cZ=/[#.]/g;function r7e(e,t){for(var n=e||"",r=t||"div",i={},a=0,o,s,l;a<n.length;)cZ.lastIndex=a,l=cZ.exec(n),o=n.slice(a,l?l.index:n.length),o&&(s?s==="#"?i.id=o:i.className?i.className.push(o):i.className=[o]:r=o,a+=o.length),l&&(s=l[0],a++);return{type:"element",tagName:r,properties:i,children:[]}}var HB={};HB.parse=o7e;HB.stringify=s7e;var dZ="",i7e=" ",a7e=/[ \t\n\r\f]+/g;function o7e(e){var t=String(e||dZ).trim();return t===dZ?[]:t.split(a7e)}function s7e(e){return e.join(i7e).trim()}var WB={};WB.parse=l7e;WB.stringify=u7e;var Q4=",",fZ=" ",gw="";function l7e(e){for(var t=[],n=String(e||gw),r=n.indexOf(Q4),i=0,a=!1,o;!a;)r===-1&&(r=n.length,a=!0),o=n.slice(i,r).trim(),(o||!a)&&t.push(o),i=r+1,r=n.indexOf(Q4,i);return t}function u7e(e,t){var n=t||{},r=n.padLeft===!1?gw:fZ,i=n.padRight?fZ:gw;return e[e.length-1]===gw&&(e=e.concat(gw)),e.join(i+Q4+r).trim()}var c7e=q6e,hZ=BB,d7e=n7e,pZ=HB.parse,mZ=WB.parse,f7e=p7e,h7e={}.hasOwnProperty;function p7e(e,t,n){var r=n?b7e(n):null;return i;function i(o,s){var l=d7e(o,t),c=Array.prototype.slice.call(arguments,2),d=l.tagName.toLowerCase(),h;if(l.tagName=r&&h7e.call(r,d)?r[d]:d,s&&m7e(s,l)&&(c.unshift(s),s=null),s)for(h in s)a(l.properties,h,s[h]);return X0e(l.children,c),l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}function a(o,s,l){var c,d,h;l==null||l!==l||(c=c7e(e,s),d=c.property,h=l,typeof h=="string"&&(c.spaceSeparated?h=pZ(h):c.commaSeparated?h=mZ(h):c.commaOrSpaceSeparated&&(h=pZ(mZ(h).join(" ")))),d==="style"&&typeof l!="string"&&(h=y7e(h)),d==="className"&&o.className&&(h=o.className.concat(h)),o[d]=v7e(c,d,h))}}function m7e(e,t){return typeof e=="string"||"length"in e||g7e(t.tagName,e)}function g7e(e,t){var n=t.type;return e==="input"||!n||typeof n!="string"?!1:typeof t.children=="object"&&"length"in t.children?!0:(n=n.toLowerCase(),e==="button"?n!=="menu"&&n!=="submit"&&n!=="reset"&&n!=="button":"value"in t)}function X0e(e,t){var n,r;if(typeof t=="string"||typeof t=="number"){e.push({type:"text",value:String(t)});return}if(typeof t=="object"&&"length"in t){for(n=-1,r=t.length;++n<r;)X0e(e,t[n]);return}if(typeof t!="object"||!("type"in t))throw new Error("Expected node, nodes, or string, got `"+t+"`");e.push(t)}function v7e(e,t,n){var r,i,a;if(typeof n!="object"||!("length"in n))return gZ(e,t,n);for(i=n.length,r=-1,a=[];++r<i;)a[r]=gZ(e,t,n[r]);return a}function gZ(e,t,n){var r=n;return e.number||e.positiveNumber?!isNaN(r)&&r!==""&&(r=Number(r)):(e.boolean||e.overloadedBoolean)&&typeof r=="string"&&(r===""||hZ(n)===hZ(t))&&(r=!0),r}function y7e(e){var t=[],n;for(n in e)t.push([n,e[n]].join(": "));return t.join("; ")}function b7e(e){for(var t=e.length,n=-1,r={},i;++n<t;)i=e[n],r[i.toLowerCase()]=i;return r}var x7e=H6e,w7e=f7e,J0e=w7e(x7e,"div");J0e.displayName="html";var C7e=J0e,S7e=C7e;const _7e="Æ",E7e="&",k7e="Á",T7e="Â",A7e="À",j7e="Å",I7e="Ã",D7e="Ä",$7e="©",O7e="Ç",M7e="Ð",R7e="É",P7e="Ê",F7e="È",N7e="Ë",L7e=">",B7e="Í",V7e="Î",z7e="Ì",U7e="Ï",H7e="<",W7e="Ñ",G7e="Ó",Y7e="Ô",q7e="Ò",K7e="Ø",Z7e="Õ",X7e="Ö",J7e='"',Q7e="®",e9e="Þ",t9e="Ú",n9e="Û",r9e="Ù",i9e="Ü",a9e="Ý",o9e="á",s9e="â",l9e="´",u9e="æ",c9e="à",d9e="&",f9e="å",h9e="ã",p9e="ä",m9e="¦",g9e="ç",v9e="¸",y9e="¢",b9e="©",x9e="¤",w9e="°",C9e="÷",S9e="é",_9e="ê",E9e="è",k9e="ð",T9e="ë",A9e="½",j9e="¼",I9e="¾",D9e=">",$9e="í",O9e="î",M9e="¡",R9e="ì",P9e="¿",F9e="ï",N9e="«",L9e="<",B9e="¯",V9e="µ",z9e="·",U9e=" ",H9e="¬",W9e="ñ",G9e="ó",Y9e="ô",q9e="ò",K9e="ª",Z9e="º",X9e="ø",J9e="õ",Q9e="ö",eBe="¶",tBe="±",nBe="£",rBe='"',iBe="»",aBe="®",oBe="§",sBe="­",lBe="¹",uBe="²",cBe="³",dBe="ß",fBe="þ",hBe="×",pBe="ú",mBe="û",gBe="ù",vBe="¨",yBe="ü",bBe="ý",xBe="¥",wBe="ÿ",CBe={AElig:_7e,AMP:E7e,Aacute:k7e,Acirc:T7e,Agrave:A7e,Aring:j7e,Atilde:I7e,Auml:D7e,COPY:$7e,Ccedil:O7e,ETH:M7e,Eacute:R7e,Ecirc:P7e,Egrave:F7e,Euml:N7e,GT:L7e,Iacute:B7e,Icirc:V7e,Igrave:z7e,Iuml:U7e,LT:H7e,Ntilde:W7e,Oacute:G7e,Ocirc:Y7e,Ograve:q7e,Oslash:K7e,Otilde:Z7e,Ouml:X7e,QUOT:J7e,REG:Q7e,THORN:e9e,Uacute:t9e,Ucirc:n9e,Ugrave:r9e,Uuml:i9e,Yacute:a9e,aacute:o9e,acirc:s9e,acute:l9e,aelig:u9e,agrave:c9e,amp:d9e,aring:f9e,atilde:h9e,auml:p9e,brvbar:m9e,ccedil:g9e,cedil:v9e,cent:y9e,copy:b9e,curren:x9e,deg:w9e,divide:C9e,eacute:S9e,ecirc:_9e,egrave:E9e,eth:k9e,euml:T9e,frac12:A9e,frac14:j9e,frac34:I9e,gt:D9e,iacute:$9e,icirc:O9e,iexcl:M9e,igrave:R9e,iquest:P9e,iuml:F9e,laquo:N9e,lt:L9e,macr:B9e,micro:V9e,middot:z9e,nbsp:U9e,not:H9e,ntilde:W9e,oacute:G9e,ocirc:Y9e,ograve:q9e,ordf:K9e,ordm:Z9e,oslash:X9e,otilde:J9e,ouml:Q9e,para:eBe,plusmn:tBe,pound:nBe,quot:rBe,raquo:iBe,reg:aBe,sect:oBe,shy:sBe,sup1:lBe,sup2:uBe,sup3:cBe,szlig:dBe,thorn:fBe,times:hBe,uacute:pBe,ucirc:mBe,ugrave:gBe,uml:vBe,uuml:yBe,yacute:bBe,yen:xBe,yuml:wBe},SBe={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};var Q0e=_Be;function _Be(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=48&&t<=57}var EBe=kBe;function kBe(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=102||t>=65&&t<=70||t>=48&&t<=57}var TBe=ABe;function ABe(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=122||t>=65&&t<=90}var jBe=TBe,IBe=Q0e,DBe=$Be;function $Be(e){return jBe(e)||IBe(e)}var rE,OBe=59,MBe=RBe;function RBe(e){var t="&"+e+";",n;return rE=rE||document.createElement("i"),rE.innerHTML=t,n=rE.textContent,n.charCodeAt(n.length-1)===OBe&&e!=="semi"||n===t?!1:n}var vZ=CBe,yZ=SBe,PBe=Q0e,FBe=EBe,eve=DBe,NBe=MBe,LBe=JBe,BBe={}.hasOwnProperty,ov=String.fromCharCode,VBe=Function.prototype,bZ={warning:null,reference:null,text:null,warningContext:null,referenceContext:null,textContext:null,position:{},additional:null,attribute:!1,nonTerminated:!0},zBe=9,xZ=10,UBe=12,HBe=32,wZ=38,WBe=59,GBe=60,YBe=61,qBe=35,KBe=88,ZBe=120,XBe=65533,wv="named",GB="hexadecimal",YB="decimal",qB={};qB[GB]=16;qB[YB]=10;var bD={};bD[wv]=eve;bD[YB]=PBe;bD[GB]=FBe;var tve=1,nve=2,rve=3,ive=4,ave=5,eN=6,ove=7,Bp={};Bp[tve]="Named character references must be terminated by a semicolon";Bp[nve]="Numeric character references must be terminated by a semicolon";Bp[rve]="Named character references cannot be empty";Bp[ive]="Numeric character references cannot be empty";Bp[ave]="Named character references must be known";Bp[eN]="Numeric character references cannot be disallowed";Bp[ove]="Numeric character references cannot be outside the permissible Unicode range";function JBe(e,t){var n={},r,i;t||(t={});for(i in bZ)r=t[i],n[i]=r??bZ[i];return(n.position.indent||n.position.start)&&(n.indent=n.position.indent||[],n.position=n.position.start),QBe(e,n)}function QBe(e,t){var n=t.additional,r=t.nonTerminated,i=t.text,a=t.reference,o=t.warning,s=t.textContext,l=t.referenceContext,c=t.warningContext,d=t.position,h=t.indent||[],p=e.length,m=0,g=-1,v=d.column||1,b=d.line||1,y="",x=[],w,C,S,_,E,k,T,j,I,A,$,D,M,O,F,P,V,H,W;for(typeof n=="string"&&(n=n.charCodeAt(0)),P=G(),j=o?X:VBe,m--,p++;++m<p;)if(E===xZ&&(v=h[g]||1),E=e.charCodeAt(m),E===wZ){if(T=e.charCodeAt(m+1),T===zBe||T===xZ||T===UBe||T===HBe||T===wZ||T===GBe||T!==T||n&&T===n){y+=ov(E),v++;continue}for(M=m+1,D=M,W=M,T===qBe?(W=++D,T=e.charCodeAt(W),T===KBe||T===ZBe?(O=GB,W=++D):O=YB):O=wv,w="",$="",_="",F=bD[O],W--;++W<p&&(T=e.charCodeAt(W),!!F(T));)_+=ov(T),O===wv&&BBe.call(vZ,_)&&(w=_,$=vZ[_]);S=e.charCodeAt(W)===WBe,S&&(W++,C=O===wv?NBe(_):!1,C&&(w=_,$=C)),H=1+W-M,!S&&!r||(_?O===wv?(S&&!$?j(ave,1):(w!==_&&(W=D+w.length,H=1+W-D,S=!1),S||(I=w?tve:rve,t.attribute?(T=e.charCodeAt(W),T===YBe?(j(I,H),$=null):eve(T)?$=null:j(I,H)):j(I,H))),k=$):(S||j(nve,H),k=parseInt(_,qB[O]),eVe(k)?(j(ove,H),k=ov(XBe)):k in yZ?(j(eN,H),k=yZ[k]):(A="",tVe(k)&&j(eN,H),k>65535&&(k-=65536,A+=ov(k>>>10|55296),k=56320|k&1023),k=A+ov(k))):O!==wv&&j(ive,H)),k?(z(),P=G(),m=W-1,v+=W-M+1,x.push(k),V=G(),V.offset++,a&&a.call(l,k,{start:P,end:V},e.slice(M-1,W)),P=V):(_=e.slice(M-1,W),y+=_,v+=_.length,m=W-1)}else E===10&&(b++,g++,v=0),E===E?(y+=ov(E),v++):z();return x.join("");function G(){return{line:b,column:v,offset:m+(d.offset||0)}}function X(q,Z){var K=G();K.column+=Z,K.offset+=Z,o.call(c,Bp[q],K,q)}function z(){y&&(x.push(y),i&&i.call(s,y,{start:P,end:G()}),y="")}}function eVe(e){return e>=55296&&e<=57343||e>1114111}function tVe(e){return e>=1&&e<=8||e===11||e>=13&&e<=31||e>=127&&e<=159||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534}var sve={exports:{}};(function(e){var t=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var n=function(r){var i=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,a=0,o={},s={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function x(w){return w instanceof l?new l(w.type,x(w.content),w.alias):Array.isArray(w)?w.map(x):w.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(x){return Object.prototype.toString.call(x).slice(8,-1)},objId:function(x){return x.__id||Object.defineProperty(x,"__id",{value:++a}),x.__id},clone:function x(w,C){C=C||{};var S,_;switch(s.util.type(w)){case"Object":if(_=s.util.objId(w),C[_])return C[_];S={},C[_]=S;for(var E in w)w.hasOwnProperty(E)&&(S[E]=x(w[E],C));return S;case"Array":return _=s.util.objId(w),C[_]?C[_]:(S=[],C[_]=S,w.forEach(function(k,T){S[T]=x(k,C)}),S);default:return w}},getLanguage:function(x){for(;x;){var w=i.exec(x.className);if(w)return w[1].toLowerCase();x=x.parentElement}return"none"},setLanguage:function(x,w){x.className=x.className.replace(RegExp(i,"gi"),""),x.classList.add("language-"+w)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(S){var x=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(S.stack)||[])[1];if(x){var w=document.getElementsByTagName("script");for(var C in w)if(w[C].src==x)return w[C]}return null}},isActive:function(x,w,C){for(var S="no-"+w;x;){var _=x.classList;if(_.contains(w))return!0;if(_.contains(S))return!1;x=x.parentElement}return!!C}},languages:{plain:o,plaintext:o,text:o,txt:o,extend:function(x,w){var C=s.util.clone(s.languages[x]);for(var S in w)C[S]=w[S];return C},insertBefore:function(x,w,C,S){S=S||s.languages;var _=S[x],E={};for(var k in _)if(_.hasOwnProperty(k)){if(k==w)for(var T in C)C.hasOwnProperty(T)&&(E[T]=C[T]);C.hasOwnProperty(k)||(E[k]=_[k])}var j=S[x];return S[x]=E,s.languages.DFS(s.languages,function(I,A){A===j&&I!=x&&(this[I]=E)}),E},DFS:function x(w,C,S,_){_=_||{};var E=s.util.objId;for(var k in w)if(w.hasOwnProperty(k)){C.call(w,k,w[k],S||k);var T=w[k],j=s.util.type(T);j==="Object"&&!_[E(T)]?(_[E(T)]=!0,x(T,C,null,_)):j==="Array"&&!_[E(T)]&&(_[E(T)]=!0,x(T,C,k,_))}}},plugins:{},highlightAll:function(x,w){s.highlightAllUnder(document,x,w)},highlightAllUnder:function(x,w,C){var S={callback:C,container:x,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};s.hooks.run("before-highlightall",S),S.elements=Array.prototype.slice.apply(S.container.querySelectorAll(S.selector)),s.hooks.run("before-all-elements-highlight",S);for(var _=0,E;E=S.elements[_++];)s.highlightElement(E,w===!0,S.callback)},highlightElement:function(x,w,C){var S=s.util.getLanguage(x),_=s.languages[S];s.util.setLanguage(x,S);var E=x.parentElement;E&&E.nodeName.toLowerCase()==="pre"&&s.util.setLanguage(E,S);var k=x.textContent,T={element:x,language:S,grammar:_,code:k};function j(A){T.highlightedCode=A,s.hooks.run("before-insert",T),T.element.innerHTML=T.highlightedCode,s.hooks.run("after-highlight",T),s.hooks.run("complete",T),C&&C.call(T.element)}if(s.hooks.run("before-sanity-check",T),E=T.element.parentElement,E&&E.nodeName.toLowerCase()==="pre"&&!E.hasAttribute("tabindex")&&E.setAttribute("tabindex","0"),!T.code){s.hooks.run("complete",T),C&&C.call(T.element);return}if(s.hooks.run("before-highlight",T),!T.grammar){j(s.util.encode(T.code));return}if(w&&r.Worker){var I=new Worker(s.filename);I.onmessage=function(A){j(A.data)},I.postMessage(JSON.stringify({language:T.language,code:T.code,immediateClose:!0}))}else j(s.highlight(T.code,T.grammar,T.language))},highlight:function(x,w,C){var S={code:x,grammar:w,language:C};if(s.hooks.run("before-tokenize",S),!S.grammar)throw new Error('The language "'+S.language+'" has no grammar.');return S.tokens=s.tokenize(S.code,S.grammar),s.hooks.run("after-tokenize",S),l.stringify(s.util.encode(S.tokens),S.language)},tokenize:function(x,w){var C=w.rest;if(C){for(var S in C)w[S]=C[S];delete w.rest}var _=new h;return p(_,_.head,x),d(x,_,w,_.head,0),g(_)},hooks:{all:{},add:function(x,w){var C=s.hooks.all;C[x]=C[x]||[],C[x].push(w)},run:function(x,w){var C=s.hooks.all[x];if(!(!C||!C.length))for(var S=0,_;_=C[S++];)_(w)}},Token:l};r.Prism=s;function l(x,w,C,S){this.type=x,this.content=w,this.alias=C,this.length=(S||"").length|0}l.stringify=function x(w,C){if(typeof w=="string")return w;if(Array.isArray(w)){var S="";return w.forEach(function(j){S+=x(j,C)}),S}var _={type:w.type,content:x(w.content,C),tag:"span",classes:["token",w.type],attributes:{},language:C},E=w.alias;E&&(Array.isArray(E)?Array.prototype.push.apply(_.classes,E):_.classes.push(E)),s.hooks.run("wrap",_);var k="";for(var T in _.attributes)k+=" "+T+'="'+(_.attributes[T]||"").replace(/"/g,"&quot;")+'"';return"<"+_.tag+' class="'+_.classes.join(" ")+'"'+k+">"+_.content+"</"+_.tag+">"};function c(x,w,C,S){x.lastIndex=w;var _=x.exec(C);if(_&&S&&_[1]){var E=_[1].length;_.index+=E,_[0]=_[0].slice(E)}return _}function d(x,w,C,S,_,E){for(var k in C)if(!(!C.hasOwnProperty(k)||!C[k])){var T=C[k];T=Array.isArray(T)?T:[T];for(var j=0;j<T.length;++j){if(E&&E.cause==k+","+j)return;var I=T[j],A=I.inside,$=!!I.lookbehind,D=!!I.greedy,M=I.alias;if(D&&!I.pattern.global){var O=I.pattern.toString().match(/[imsuy]*$/)[0];I.pattern=RegExp(I.pattern.source,O+"g")}for(var F=I.pattern||I,P=S.next,V=_;P!==w.tail&&!(E&&V>=E.reach);V+=P.value.length,P=P.next){var H=P.value;if(w.length>x.length)return;if(!(H instanceof l)){var W=1,G;if(D){if(G=c(F,V,x,$),!G||G.index>=x.length)break;var Z=G.index,X=G.index+G[0].length,z=V;for(z+=P.value.length;Z>=z;)P=P.next,z+=P.value.length;if(z-=P.value.length,V=z,P.value instanceof l)continue;for(var q=P;q!==w.tail&&(z<X||typeof q.value=="string");q=q.next)W++,z+=q.value.length;W--,H=x.slice(V,z),G.index-=V}else if(G=c(F,0,H,$),!G)continue;var Z=G.index,K=G[0],J=H.slice(0,Z),Q=H.slice(Z+K.length),re=V+H.length;E&&re>E.reach&&(E.reach=re);var ae=P.prev;J&&(ae=p(w,ae,J),V+=J.length),m(w,ae,W);var ne=new l(k,A?s.tokenize(K,A):K,M,K);if(P=p(w,ae,ne),Q&&p(w,P,Q),W>1){var se={cause:k+","+j,reach:re};d(x,w,C,P.prev,V,se),E&&se.reach>E.reach&&(E.reach=se.reach)}}}}}}function h(){var x={value:null,prev:null,next:null},w={value:null,prev:x,next:null};x.next=w,this.head=x,this.tail=w,this.length=0}function p(x,w,C){var S=w.next,_={value:C,prev:w,next:S};return w.next=_,S.prev=_,x.length++,_}function m(x,w,C){for(var S=w.next,_=0;_<C&&S!==x.tail;_++)S=S.next;w.next=S,S.prev=w,x.length-=_}function g(x){for(var w=[],C=x.head.next;C!==x.tail;)w.push(C.value),C=C.next;return w}if(!r.document)return r.addEventListener&&(s.disableWorkerMessageHandler||r.addEventListener("message",function(x){var w=JSON.parse(x.data),C=w.language,S=w.code,_=w.immediateClose;r.postMessage(s.highlight(S,s.languages[C],C)),_&&r.close()},!1)),s;var v=s.util.currentScript();v&&(s.filename=v.src,v.hasAttribute("data-manual")&&(s.manual=!0));function b(){s.manual||s.highlightAll()}if(!s.manual){var y=document.readyState;y==="loading"||y==="interactive"&&v&&v.defer?document.addEventListener("DOMContentLoaded",b):window.requestAnimationFrame?window.requestAnimationFrame(b):window.setTimeout(b,16)}return s}(t);e.exports&&(e.exports=n),typeof ya<"u"&&(ya.Prism=n)})(sve);var nVe=sve.exports,rVe=KB;KB.displayName="markup";KB.aliases=["html","mathml","svg","xml","ssml","atom","rss"];function KB(e){e.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},e.languages.markup.tag.inside["attr-value"].inside.entity=e.languages.markup.entity,e.languages.markup.doctype.inside["internal-subset"].inside=e.languages.markup,e.hooks.add("wrap",function(t){t.type==="entity"&&(t.attributes.title=t.content.value.replace(/&amp;/,"&"))}),Object.defineProperty(e.languages.markup.tag,"addInlined",{value:function(n,r){var i={};i["language-"+r]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:e.languages[r]},i.cdata=/^<!\[CDATA\[|\]\]>$/i;var a={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:i}};a["language-"+r]={pattern:/[\s\S]+/,inside:e.languages[r]};var o={};o[n]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return n}),"i"),lookbehind:!0,greedy:!0,inside:a},e.languages.insertBefore("markup","cdata",o)}}),Object.defineProperty(e.languages.markup.tag,"addAttribute",{value:function(t,n){e.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+t+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[n,"language-"+n],inside:e.languages[n]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),e.languages.html=e.languages.markup,e.languages.mathml=e.languages.markup,e.languages.svg=e.languages.markup,e.languages.xml=e.languages.extend("markup",{}),e.languages.ssml=e.languages.xml,e.languages.atom=e.languages.xml,e.languages.rss=e.languages.xml}var iVe=ZB;ZB.displayName="css";ZB.aliases=[];function ZB(e){(function(t){var n=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+n.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+n.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+n.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:n,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var r=t.languages.markup;r&&(r.tag.addInlined("style","css"),r.tag.addAttribute("style","css"))})(e)}var aVe=XB;XB.displayName="clike";XB.aliases=[];function XB(e){e.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}var lve=JB;JB.displayName="javascript";JB.aliases=["js"];function JB(e){e.languages.javascript=e.languages.extend("clike",{"class-name":[e.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),e.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,e.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:e.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:e.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:e.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:e.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),e.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:e.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),e.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),e.languages.markup&&(e.languages.markup.tag.addInlined("script","javascript"),e.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),e.languages.js=e.languages.javascript}const oVe=Pe(lve);var vw=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof ya=="object"?ya:{},sVe=SVe();vw.Prism={manual:!0,disableWorkerMessageHandler:!0};var lVe=S7e,uVe=LBe,uve=nVe,cVe=rVe,dVe=iVe,fVe=aVe,hVe=lve;sVe();var QB={}.hasOwnProperty;function cve(){}cve.prototype=uve;var ta=new cve,pVe=ta;ta.highlight=gVe;ta.register=f2;ta.alias=mVe;ta.registered=vVe;ta.listLanguages=yVe;f2(cVe);f2(dVe);f2(fVe);f2(hVe);ta.util.encode=wVe;ta.Token.stringify=bVe;function f2(e){if(typeof e!="function"||!e.displayName)throw new Error("Expected `function` for `grammar`, got `"+e+"`");ta.languages[e.displayName]===void 0&&e(ta)}function mVe(e,t){var n=ta.languages,r=e,i,a,o,s;t&&(r={},r[e]=t);for(i in r)for(a=r[i],a=typeof a=="string"?[a]:a,o=a.length,s=-1;++s<o;)n[a[s]]=n[i]}function gVe(e,t){var n=uve.highlight,r;if(typeof e!="string")throw new Error("Expected `string` for `value`, got `"+e+"`");if(ta.util.type(t)==="Object")r=t,t=null;else{if(typeof t!="string")throw new Error("Expected `string` for `name`, got `"+t+"`");if(QB.call(ta.languages,t))r=ta.languages[t];else throw new Error("Unknown language: `"+t+"` is not registered")}return n.call(this,e,r,t)}function vVe(e){if(typeof e!="string")throw new Error("Expected `string` for `language`, got `"+e+"`");return QB.call(ta.languages,e)}function yVe(){var e=ta.languages,t=[],n;for(n in e)QB.call(e,n)&&typeof e[n]=="object"&&t.push(n);return t}function bVe(e,t,n){var r;return typeof e=="string"?{type:"text",value:e}:ta.util.type(e)==="Array"?xVe(e,t):(r={type:e.type,content:ta.Token.stringify(e.content,t,n),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:n},e.alias&&(r.classes=r.classes.concat(e.alias)),ta.hooks.run("wrap",r),lVe(r.tag+"."+r.classes.join("."),CVe(r.attributes),r.content))}function xVe(e,t){for(var n=[],r=e.length,i=-1,a;++i<r;)a=e[i],a!==""&&a!==null&&a!==void 0&&n.push(a);for(i=-1,r=n.length;++i<r;)a=n[i],n[i]=ta.Token.stringify(a,t,n);return n}function wVe(e){return e}function CVe(e){var t;for(t in e)e[t]=uVe(e[t]);return e}function SVe(){var e="Prism"in vw,t=e?vw.Prism:void 0;return n;function n(){e?vw.Prism=t:delete vw.Prism,e=void 0,t=void 0}}var dve={},_Ve=f;function EVe(e,t,n){if(e.tagName){var r=e.properties&&Array.isArray(e.properties.className)?e.properties.className.join(" "):e.properties.className;return _Ve.createElement(e.tagName,Object.assign({key:"fract-".concat(n,"-").concat(t)},e.properties,{className:r}),e.children&&e.children.map(fve(n+1)))}return e.value}function fve(e){return function(n,r){return EVe(n,r,e)}}dve.depth=fve;var hve=pve;function pve(e){if(e==null)return jVe;if(typeof e=="string")return AVe(e);if(typeof e=="object")return"length"in e?TVe(e):kVe(e);if(typeof e=="function")return e;throw new Error("Expected function, string, or object as test")}function kVe(e){return t;function t(n){var r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function TVe(e){for(var t=[],n=-1;++n<e.length;)t[n]=pve(e[n]);return r;function r(){for(var i=-1;++i<t.length;)if(t[i].apply(this,arguments))return!0;return!1}}function AVe(e){return t;function t(n){return!!(n&&n.type===e)}}function jVe(){return!0}var IVe=hve,DVe=OVe,$Ve={}.hasOwnProperty;function OVe(e,t,n){var r=IVe(n||t),i=t.cascade==null?!0:t.cascade;return a(e,null,null);function a(o,s,l){var c,d,h,p,m;if(!r(o,s,l))return null;if(o.children){for(c=[],d=-1;++d<o.children.length;)h=a(o.children[d],d,o),h&&c.push(h);if(i&&o.children.length&&!c.length)return null}p={};for(m in o)$Ve.call(o,m)&&(p[m]=m==="children"?c:o[m]);return p}}var MVe=RVe;function RVe(e){return e}var PVe=xD,FVe=hve,NVe=MVe,mve=!0,gve="skip",tN=!1;xD.CONTINUE=mve;xD.SKIP=gve;xD.EXIT=tN;function xD(e,t,n,r){var i,a;typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),a=FVe(t),i=r?-1:1,o(e,null,[])();function o(s,l,c){var d=typeof s=="object"&&s!==null?s:{},h;return typeof d.type=="string"&&(h=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0,p.displayName="node ("+NVe(d.type+(h?"<"+h+">":""))+")"),p;function p(){var m=c.concat(s),g=[],v,b;if((!t||a(s,l,c[c.length-1]||null))&&(g=LVe(n(s,c)),g[0]===tN))return g;if(s.children&&g[0]!==gve)for(b=(r?s.children.length:-1)+i;b>-1&&b<s.children.length;){if(v=o(s.children[b],b,m)(),v[0]===tN)return v;b=typeof v[1]=="number"?v[1]:b+i}return g}}}function LVe(e){return e!==null&&typeof e=="object"&&"length"in e?e:typeof e=="number"?[mve,e]:[e]}var BVe=typeof WeakMap=="function"?h2:p2;function h2(){this.map=new WeakMap}h2.prototype.has=function(e){return this.map.has(e)};h2.prototype.set=function(e,t){return this.map.set(e,t),this};h2.prototype.get=function(e){return this.map.get(e)};h2.prototype.clear=function(){};function p2(){this.keys=[],this.values=[]}p2.prototype.has=function(e){return this.keys.indexOf(e)!==-1};p2.prototype.set=function(e,t){var n=this.keys.indexOf(e);return n===-1?(this.keys.push(e),this.values.push(t)):this.values[n]=t,this};p2.prototype.get=function(e){var t=this.keys.indexOf(e);return t===-1?void 0:this.values[t]};p2.prototype.clear=function(){this.keys=[],this.values=[]};var VVe=DVe,CZ=PVe,SR=BVe;function vve(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{lineNumber:1};return e.reduce(function(n,r){var i=t.lineNumber;if(r.type==="text"){if(r.value.indexOf(`
`)===-1)return r.lineStart=i,r.lineEnd=i,n.nodes.push(r),n;for(var a=r.value.split(`
`),o=0;o<a.length;o++){var s=o===0?t.lineNumber:++t.lineNumber;n.nodes.push({type:"text",value:o===a.length-1?a[o]:"".concat(a[o],`
`),lineStart:s,lineEnd:s})}return n.lineNumber=t.lineNumber,n}if(r.children){var l=vve(r.children,t),c=l.nodes[0],d=l.nodes[l.nodes.length-1];return r.lineStart=c?c.lineStart:i,r.lineEnd=d?d.lineEnd:i,r.children=l.nodes,n.lineNumber=l.lineNumber,n.nodes.push(r),n}return n.nodes.push(r),n},{nodes:[],lineNumber:t.lineNumber})}function zVe(e,t){var n={type:"root",children:t},r=new SR,i=new SR,a=new SR,o=[];function s(h,p,m){o.push(p),m.forEach(function(x){h.has(x)||(h.set(x,Object.assign({},x,{children:[]})),x!==n&&o.push(x))});for(var g=m.length;g--;){var v=h.get(m[g]),b=m[g+1],y=h.get(b)||p;v.children.indexOf(y)===-1&&v.children.push(y)}}CZ(n,function(h,p){if(!h.children){if(h.lineStart<e){s(r,h,p);return}if(h.lineStart===e){s(i,h,p);return}h.lineEnd>e&&o.some(function(m){return p.indexOf(m)!==-1})&&s(a,h,p)}});var l=VVe(n,function(h){return o.indexOf(h)===-1}),c=function(p){var m=p.get(n);return m?(CZ(m,function(g,v){if(g.children){g.lineStart=0,g.lineEnd=0;return}v.forEach(function(b){b.lineStart=Math.max(b.lineStart,g.lineStart),b.lineEnd=Math.max(b.lineEnd,g.lineEnd)})}),m.children):[]},d=[].concat(c(r),c(i),c(a),l?l.children:[]);return r.clear(),i.clear(),a.clear(),d}function UVe(e,t,n){var r=t.className||"refractor-marker";return{type:"element",tagName:t.component||"div",properties:t.component?Object.assign({},n,{className:r}):{className:r},children:e,lineStart:t.line,lineEnd:e[e.length-1].lineEnd,isMarker:!0}}function HVe(e,t,n){if(t.length===0||e.length===0)return e;for(var r=t.reduce(function(h,p){return zVe(p.line,h)},e),i=[],a=0,o=0;o<t.length;o++){for(var s=t[o],l=r[a];l&&l.lineEnd<s.line;l=r[++a])i.push(l);for(var c=[],d=r[a];d&&d.lineEnd===s.line;d=r[++a])c.push(d);c.length>0&&i.push(UVe(c,s,n))}for(;a<r.length;)i.push(r[a++]);return i}function WVe(e,t){var n=t.markers.map(function(i){return i.line?i:{line:i}}).sort(function(i,a){return i.line-a.line}),r=vve(e).nodes;return HVe(r,n,t)}var GVe=WVe,YVe=f,eV=pVe,qVe=dve,KVe=GVe,SZ=YVe.createElement;function tV(e){var t="language-".concat(e.language),n={className:t},r={className:[e.className||"refractor",t].filter(Boolean).join(" ")};e.inline&&(n.style={display:"inline"},n.className=e.className||"refractor");var i=eV.highlight(e.value,e.language);e.markers&&e.markers.length>0&&(i=KVe(i,{markers:e.markers}));var a=i.length===0?e.value:i.map(qVe.depth(0)),o=SZ("code",n,a);return e.inline?o:SZ("pre",r,o)}tV.registerLanguage=function(e){return eV.register(e)};tV.hasLanguage=function(e){return eV.registered(e)};var ZVe=tV;const jg=Pe(ZVe),XVe=["top","right","bottom","left"],J1=Math.min,og=Math.max,BT=Math.round,iE=Math.floor,bp=e=>({x:e,y:e}),JVe={left:"right",right:"left",bottom:"top",top:"bottom"},QVe={start:"end",end:"start"};function nN(e,t,n){return og(e,J1(t,n))}function Jy(e,t){return typeof e=="function"?e(t):e}function Ig(e){return e.split("-")[0]}function m2(e){return e.split("-")[1]}function yve(e){return e==="x"?"y":"x"}function nV(e){return e==="y"?"height":"width"}function Q1(e){return["top","bottom"].includes(Ig(e))?"y":"x"}function rV(e){return yve(Q1(e))}function eze(e,t,n){n===void 0&&(n=!1);const r=m2(e),i=rV(e),a=nV(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=VT(o)),[o,VT(o)]}function tze(e){const t=VT(e);return[rN(e),t,rN(t)]}function rN(e){return e.replace(/start|end/g,t=>QVe[t])}function nze(e,t,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?a:o;default:return[]}}function rze(e,t,n,r){const i=m2(e);let a=nze(Ig(e),n==="start",r);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(rN)))),a}function VT(e){return e.replace(/left|right|bottom|top/g,t=>JVe[t])}function ize(e){return{top:0,right:0,bottom:0,left:0,...e}}function bve(e){return typeof e!="number"?ize(e):{top:e,right:e,bottom:e,left:e}}function zT(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function _Z(e,t,n){let{reference:r,floating:i}=e;const a=Q1(t),o=rV(t),s=nV(o),l=Ig(t),c=a==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,p=r[s]/2-i[s]/2;let m;switch(l){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-i.width,y:h};break;default:m={x:r.x,y:r.y}}switch(m2(t)){case"start":m[o]-=p*(n&&c?-1:1);break;case"end":m[o]+=p*(n&&c?-1:1);break}return m}const aze=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,s=a.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:h}=_Z(c,r,l),p=r,m={},g=0;for(let v=0;v<s.length;v++){const{name:b,fn:y}=s[v],{x,y:w,data:C,reset:S}=await y({x:d,y:h,initialPlacement:r,placement:p,strategy:i,middlewareData:m,rects:c,platform:o,elements:{reference:e,floating:t}});d=x??d,h=w??h,m={...m,[b]:{...m[b],...C}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(p=S.placement),S.rects&&(c=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):S.rects),{x:d,y:h}=_Z(c,p,l)),v=-1)}return{x:d,y:h,placement:p,strategy:i,middlewareData:m}};async function FC(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:o,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=Jy(t,e),g=bve(m),b=s[p?h==="floating"?"reference":"floating":h],y=zT(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(b)))==null||n?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:c,rootBoundary:d,strategy:l})),x=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),C=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},S=zT(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:x,offsetParent:w,strategy:l}):x);return{top:(y.top-S.top+g.top)/C.y,bottom:(S.bottom-y.bottom+g.bottom)/C.y,left:(y.left-S.left+g.left)/C.x,right:(S.right-y.right+g.right)/C.x}}const oze=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:o,elements:s,middlewareData:l}=t,{element:c,padding:d=0}=Jy(e,t)||{};if(c==null)return{};const h=bve(d),p={x:n,y:r},m=rV(i),g=nV(m),v=await o.getDimensions(c),b=m==="y",y=b?"top":"left",x=b?"bottom":"right",w=b?"clientHeight":"clientWidth",C=a.reference[g]+a.reference[m]-p[m]-a.floating[g],S=p[m]-a.reference[m],_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let E=_?_[w]:0;(!E||!await(o.isElement==null?void 0:o.isElement(_)))&&(E=s.floating[w]||a.floating[g]);const k=C/2-S/2,T=E/2-v[g]/2-1,j=J1(h[y],T),I=J1(h[x],T),A=j,$=E-v[g]-I,D=E/2-v[g]/2+k,M=nN(A,D,$),O=!l.arrow&&m2(i)!=null&&D!==M&&a.reference[g]/2-(D<A?j:I)-v[g]/2<0,F=O?D<A?D-A:D-$:0;return{[m]:p[m]+F,data:{[m]:M,centerOffset:D-M-F,...O&&{alignmentOffset:F}},reset:O}}}),sze=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:s,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...b}=Jy(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const y=Ig(i),x=Q1(s),w=Ig(s)===s,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=p||(w||!v?[VT(s)]:tze(s)),_=g!=="none";!p&&_&&S.push(...rze(s,v,g,C));const E=[s,...S],k=await FC(t,b),T=[];let j=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&T.push(k[y]),h){const D=eze(i,o,C);T.push(k[D[0]],k[D[1]])}if(j=[...j,{placement:i,overflows:T}],!T.every(D=>D<=0)){var I,A;const D=(((I=a.flip)==null?void 0:I.index)||0)+1,M=E[D];if(M)return{data:{index:D,overflows:j},reset:{placement:M}};let O=(A=j.filter(F=>F.overflows[0]<=0).sort((F,P)=>F.overflows[1]-P.overflows[1])[0])==null?void 0:A.placement;if(!O)switch(m){case"bestFit":{var $;const F=($=j.filter(P=>{if(_){const V=Q1(P.placement);return V===x||V==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(V=>V>0).reduce((V,H)=>V+H,0)]).sort((P,V)=>P[1]-V[1])[0])==null?void 0:$[0];F&&(O=F);break}case"initialPlacement":O=s;break}if(i!==O)return{reset:{placement:O}}}return{}}}};function EZ(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function kZ(e){return XVe.some(t=>e[t]>=0)}const lze=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Jy(e,t);switch(r){case"referenceHidden":{const a=await FC(t,{...i,elementContext:"reference"}),o=EZ(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:kZ(o)}}}case"escaped":{const a=await FC(t,{...i,altBoundary:!0}),o=EZ(a,n.floating);return{data:{escapedOffsets:o,escaped:kZ(o)}}}default:return{}}}}};async function uze(e,t){const{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Ig(n),s=m2(n),l=Q1(n)==="y",c=["left","top"].includes(o)?-1:1,d=a&&l?-1:1,h=Jy(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return s&&typeof g=="number"&&(m=s==="end"?g*-1:g),l?{x:m*d,y:p*c}:{x:p*c,y:m*d}}const cze=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:o,middlewareData:s}=t,l=await uze(t,e);return o===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:o}}}}},dze=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:b=>{let{x:y,y:x}=b;return{x:y,y:x}}},...l}=Jy(e,t),c={x:n,y:r},d=await FC(t,l),h=Q1(Ig(i)),p=yve(h);let m=c[p],g=c[h];if(a){const b=p==="y"?"top":"left",y=p==="y"?"bottom":"right",x=m+d[b],w=m-d[y];m=nN(x,m,w)}if(o){const b=h==="y"?"top":"left",y=h==="y"?"bottom":"right",x=g+d[b],w=g-d[y];g=nN(x,g,w)}const v=s.fn({...t,[p]:m,[h]:g});return{...v,data:{x:v.x-n,y:v.y-r}}}}};function Qy(e){return xve(e)?(e.nodeName||"").toLowerCase():"#document"}function Xs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Vf(e){var t;return(t=(xve(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function xve(e){return e instanceof Node||e instanceof Xs(e).Node}function Wu(e){return e instanceof Element||e instanceof Xs(e).Element}function Kc(e){return e instanceof HTMLElement||e instanceof Xs(e).HTMLElement}function TZ(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Xs(e).ShadowRoot}function g2(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Gu(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function fze(e){return["table","td","th"].includes(Qy(e))}function wD(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function iV(e){const t=aV(),n=Wu(e)?Gu(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function hze(e){let t=xp(e);for(;Kc(t)&&!ey(t);){if(iV(t))return t;if(wD(t))return null;t=xp(t)}return null}function aV(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ey(e){return["html","body","#document"].includes(Qy(e))}function Gu(e){return Xs(e).getComputedStyle(e)}function CD(e){return Wu(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function xp(e){if(Qy(e)==="html")return e;const t=e.assignedSlot||e.parentNode||TZ(e)&&e.host||Vf(e);return TZ(t)?t.host:t}function wve(e){const t=xp(e);return ey(t)?e.ownerDocument?e.ownerDocument.body:e.body:Kc(t)&&g2(t)?t:wve(t)}function NC(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=wve(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),o=Xs(i);if(a){const s=iN(o);return t.concat(o,o.visualViewport||[],g2(i)?i:[],s&&n?NC(s):[])}return t.concat(i,NC(i,[],n))}function iN(e){return Object.getPrototypeOf(e.parent)?e.frameElement:null}function Cve(e){const t=Gu(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Kc(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,s=BT(n)!==a||BT(r)!==o;return s&&(n=a,r=o),{width:n,height:r,$:s}}function oV(e){return Wu(e)?e:e.contextElement}function v1(e){const t=oV(e);if(!Kc(t))return bp(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=Cve(t);let o=(a?BT(n.width):n.width)/r,s=(a?BT(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const pze=bp(0);function Sve(e){const t=Xs(e);return!aV()||!t.visualViewport?pze:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function mze(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Xs(e)?!1:t}function Dg(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=oV(e);let o=bp(1);t&&(r?Wu(r)&&(o=v1(r)):o=v1(e));const s=mze(a,n,r)?Sve(a):bp(0);let l=(i.left+s.x)/o.x,c=(i.top+s.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(a){const p=Xs(a),m=r&&Wu(r)?Xs(r):r;let g=p,v=iN(g);for(;v&&r&&m!==g;){const b=v1(v),y=v.getBoundingClientRect(),x=Gu(v),w=y.left+(v.clientLeft+parseFloat(x.paddingLeft))*b.x,C=y.top+(v.clientTop+parseFloat(x.paddingTop))*b.y;l*=b.x,c*=b.y,d*=b.x,h*=b.y,l+=w,c+=C,g=Xs(v),v=iN(g)}}return zT({width:d,height:h,x:l,y:c})}function gze(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a=i==="fixed",o=Vf(r),s=t?wD(t.floating):!1;if(r===o||s&&a)return n;let l={scrollLeft:0,scrollTop:0},c=bp(1);const d=bp(0),h=Kc(r);if((h||!h&&!a)&&((Qy(r)!=="body"||g2(o))&&(l=CD(r)),Kc(r))){const p=Dg(r);c=v1(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x,y:n.y*c.y-l.scrollTop*c.y+d.y}}function vze(e){return Array.from(e.getClientRects())}function _ve(e){return Dg(Vf(e)).left+CD(e).scrollLeft}function yze(e){const t=Vf(e),n=CD(e),r=e.ownerDocument.body,i=og(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=og(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+_ve(e);const s=-n.scrollTop;return Gu(r).direction==="rtl"&&(o+=og(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:s}}function bze(e,t){const n=Xs(e),r=Vf(e),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;const c=aV();(!c||c&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s,y:l}}function xze(e,t){const n=Dg(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=Kc(e)?v1(e):bp(1),o=e.clientWidth*a.x,s=e.clientHeight*a.y,l=i*a.x,c=r*a.y;return{width:o,height:s,x:l,y:c}}function AZ(e,t,n){let r;if(t==="viewport")r=bze(e,n);else if(t==="document")r=yze(Vf(e));else if(Wu(t))r=xze(t,n);else{const i=Sve(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return zT(r)}function Eve(e,t){const n=xp(e);return n===t||!Wu(n)||ey(n)?!1:Gu(n).position==="fixed"||Eve(n,t)}function wze(e,t){const n=t.get(e);if(n)return n;let r=NC(e,[],!1).filter(s=>Wu(s)&&Qy(s)!=="body"),i=null;const a=Gu(e).position==="fixed";let o=a?xp(e):e;for(;Wu(o)&&!ey(o);){const s=Gu(o),l=iV(o);!l&&s.position==="fixed"&&(i=null),(a?!l&&!i:!l&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||g2(o)&&!l&&Eve(e,o))?r=r.filter(d=>d!==o):i=s,o=xp(o)}return t.set(e,r),r}function Cze(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?wD(t)?[]:wze(t,this._c):[].concat(n),r],s=o[0],l=o.reduce((c,d)=>{const h=AZ(t,d,i);return c.top=og(h.top,c.top),c.right=J1(h.right,c.right),c.bottom=J1(h.bottom,c.bottom),c.left=og(h.left,c.left),c},AZ(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Sze(e){const{width:t,height:n}=Cve(e);return{width:t,height:n}}function _ze(e,t,n){const r=Kc(t),i=Vf(t),a=n==="fixed",o=Dg(e,!0,a,t);let s={scrollLeft:0,scrollTop:0};const l=bp(0);if(r||!r&&!a)if((Qy(t)!=="body"||g2(i))&&(s=CD(t)),r){const h=Dg(t,!0,a,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else i&&(l.x=_ve(i));const c=o.left+s.scrollLeft-l.x,d=o.top+s.scrollTop-l.y;return{x:c,y:d,width:o.width,height:o.height}}function _R(e){return Gu(e).position==="static"}function jZ(e,t){return!Kc(e)||Gu(e).position==="fixed"?null:t?t(e):e.offsetParent}function kve(e,t){const n=Xs(e);if(wD(e))return n;if(!Kc(e)){let i=xp(e);for(;i&&!ey(i);){if(Wu(i)&&!_R(i))return i;i=xp(i)}return n}let r=jZ(e,t);for(;r&&fze(r)&&_R(r);)r=jZ(r,t);return r&&ey(r)&&_R(r)&&!iV(r)?n:r||hze(e)||n}const Eze=async function(e){const t=this.getOffsetParent||kve,n=this.getDimensions,r=await n(e.floating);return{reference:_ze(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function kze(e){return Gu(e).direction==="rtl"}const Tze={convertOffsetParentRelativeRectToViewportRelativeRect:gze,getDocumentElement:Vf,getClippingRect:Cze,getOffsetParent:kve,getElementRects:Eze,getClientRects:vze,getDimensions:Sze,getScale:v1,isElement:Wu,isRTL:kze};function Aze(e,t){let n=null,r;const i=Vf(e);function a(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function o(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),a();const{left:c,top:d,width:h,height:p}=e.getBoundingClientRect();if(s||t(),!h||!p)return;const m=iE(d),g=iE(i.clientWidth-(c+h)),v=iE(i.clientHeight-(d+p)),b=iE(c),x={rootMargin:-m+"px "+-g+"px "+-v+"px "+-b+"px",threshold:og(0,J1(1,l))||1};let w=!0;function C(S){const _=S[0].intersectionRatio;if(_!==l){if(!w)return o();_?o(!1,_):r=setTimeout(()=>{o(!1,1e-7)},1e3)}w=!1}try{n=new IntersectionObserver(C,{...x,root:i.ownerDocument})}catch{n=new IntersectionObserver(C,x)}n.observe(e)}return o(!0),a}function Tve(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=oV(e),d=i||a?[...c?NC(c):[],...NC(t)]:[];d.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),a&&y.addEventListener("resize",n)});const h=c&&s?Aze(c,n):null;let p=-1,m=null;o&&(m=new ResizeObserver(y=>{let[x]=y;x&&x.target===c&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),n()}),c&&!l&&m.observe(c),m.observe(t));let g,v=l?Dg(e):null;l&&b();function b(){const y=Dg(e);v&&(y.x!==v.x||y.y!==v.y||y.width!==v.width||y.height!==v.height)&&n(),v=y,g=requestAnimationFrame(b)}return n(),()=>{var y;d.forEach(x=>{i&&x.removeEventListener("scroll",n),a&&x.removeEventListener("resize",n)}),h==null||h(),(y=m)==null||y.disconnect(),m=null,l&&cancelAnimationFrame(g)}}const jze=FC,Ize=cze,Dze=dze,$ze=sze,Oze=lze,IZ=oze,Mze=(e,t,n)=>{const r=new Map,i={platform:Tze,...n},a={...i.platform,_c:r};return aze(e,t,{...i,platform:a})};var Ave={exports:{}},dl={},jve={exports:{}},Ive={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,V){var H=P.length;P.push(V);e:for(;0<H;){var W=H-1>>>1,G=P[W];if(0<i(G,V))P[W]=V,P[H]=G,H=W;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var V=P[0],H=P.pop();if(H!==V){P[0]=H;e:for(var W=0,G=P.length,X=G>>>1;W<X;){var z=2*(W+1)-1,q=P[z],Z=z+1,K=P[Z];if(0>i(q,H))Z<G&&0>i(K,q)?(P[W]=K,P[Z]=H,W=Z):(P[W]=q,P[z]=H,W=z);else if(Z<G&&0>i(K,H))P[W]=K,P[Z]=H,W=Z;else break e}}return V}function i(P,V){var H=P.sortIndex-V.sortIndex;return H!==0?H:P.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],c=[],d=1,h=null,p=3,m=!1,g=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(P){for(var V=n(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=P)r(c),V.sortIndex=V.expirationTime,t(l,V);else break;V=n(c)}}function C(P){if(v=!1,w(P),!g)if(n(l)!==null)g=!0,O(S);else{var V=n(c);V!==null&&F(C,V.startTime-P)}}function S(P,V){g=!1,v&&(v=!1,y(k),k=-1),m=!0;var H=p;try{for(w(V),h=n(l);h!==null&&(!(h.expirationTime>V)||P&&!I());){var W=h.callback;if(typeof W=="function"){h.callback=null,p=h.priorityLevel;var G=W(h.expirationTime<=V);V=e.unstable_now(),typeof G=="function"?h.callback=G:h===n(l)&&r(l),w(V)}else r(l);h=n(l)}if(h!==null)var X=!0;else{var z=n(c);z!==null&&F(C,z.startTime-V),X=!1}return X}finally{h=null,p=H,m=!1}}var _=!1,E=null,k=-1,T=5,j=-1;function I(){return!(e.unstable_now()-j<T)}function A(){if(E!==null){var P=e.unstable_now();j=P;var V=!0;try{V=E(!0,P)}finally{V?$():(_=!1,E=null)}}else _=!1}var $;if(typeof x=="function")$=function(){x(A)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,M=D.port2;D.port1.onmessage=A,$=function(){M.postMessage(null)}}else $=function(){b(A,0)};function O(P){E=P,_||(_=!0,$())}function F(P,V){k=b(function(){P(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,O(S))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(P){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var H=p;p=V;try{return P()}finally{p=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,V){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var H=p;p=P;try{return V()}finally{p=H}},e.unstable_scheduleCallback=function(P,V,H){var W=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?W+H:W):H=W,P){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=H+G,P={id:d++,callback:V,priorityLevel:P,startTime:H,expirationTime:G,sortIndex:-1},H>W?(P.sortIndex=H,t(c,P),n(l)===null&&P===n(c)&&(v?(y(k),k=-1):v=!0,F(C,H-W))):(P.sortIndex=G,t(l,P),g||m||(g=!0,O(S))),P},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(P){var V=p;return function(){var H=p;p=V;try{return P.apply(this,arguments)}finally{p=H}}}})(Ive);jve.exports=Ive;var Rze=jve.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pze=f,nl=Rze;function Oe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dve=new Set,LC={};function y0(e,t){ty(e,t),ty(e+"Capture",t)}function ty(e,t){for(LC[e]=t,e=0;e<t.length;e++)Dve.add(t[e])}var vf=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),aN=Object.prototype.hasOwnProperty,Fze=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,DZ={},$Z={};function Nze(e){return aN.call($Z,e)?!0:aN.call(DZ,e)?!1:Fze.test(e)?$Z[e]=!0:(DZ[e]=!0,!1)}function Lze(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Bze(e,t,n,r){if(t===null||typeof t>"u"||Lze(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Zo(e,t,n,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Za={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Za[e]=new Zo(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Za[t]=new Zo(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Za[e]=new Zo(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Za[e]=new Zo(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Za[e]=new Zo(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Za[e]=new Zo(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Za[e]=new Zo(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Za[e]=new Zo(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Za[e]=new Zo(e,5,!1,e.toLowerCase(),null,!1,!1)});var sV=/[\-:]([a-z])/g;function lV(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(sV,lV);Za[t]=new Zo(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(sV,lV);Za[t]=new Zo(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(sV,lV);Za[t]=new Zo(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Za[e]=new Zo(e,1,!1,e.toLowerCase(),null,!1,!1)});Za.xlinkHref=new Zo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Za[e]=new Zo(e,1,!1,e.toLowerCase(),null,!0,!0)});function uV(e,t,n,r){var i=Za.hasOwnProperty(t)?Za[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Bze(t,n,i,r)&&(n=null),r||i===null?Nze(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var zf=Pze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,aE=Symbol.for("react.element"),Uv=Symbol.for("react.portal"),Hv=Symbol.for("react.fragment"),cV=Symbol.for("react.strict_mode"),oN=Symbol.for("react.profiler"),$ve=Symbol.for("react.provider"),Ove=Symbol.for("react.context"),dV=Symbol.for("react.forward_ref"),sN=Symbol.for("react.suspense"),lN=Symbol.for("react.suspense_list"),fV=Symbol.for("react.memo"),_h=Symbol.for("react.lazy"),Mve=Symbol.for("react.offscreen"),OZ=Symbol.iterator;function gx(e){return e===null||typeof e!="object"?null:(e=OZ&&e[OZ]||e["@@iterator"],typeof e=="function"?e:null)}var gi=Object.assign,ER;function yw(e){if(ER===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ER=t&&t[1]||""}return`
`+ER+e}var kR=!1;function TR(e,t){if(!e||kR)return"";kR=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{kR=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?yw(e):""}function Vze(e){switch(e.tag){case 5:return yw(e.type);case 16:return yw("Lazy");case 13:return yw("Suspense");case 19:return yw("SuspenseList");case 0:case 2:case 15:return e=TR(e.type,!1),e;case 11:return e=TR(e.type.render,!1),e;case 1:return e=TR(e.type,!0),e;default:return""}}function uN(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Hv:return"Fragment";case Uv:return"Portal";case oN:return"Profiler";case cV:return"StrictMode";case sN:return"Suspense";case lN:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ove:return(e.displayName||"Context")+".Consumer";case $ve:return(e._context.displayName||"Context")+".Provider";case dV:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fV:return t=e.displayName||null,t!==null?t:uN(e.type)||"Memo";case _h:t=e._payload,e=e._init;try{return uN(e(t))}catch{}}return null}function zze(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uN(t);case 8:return t===cV?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function wp(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Rve(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Uze(e){var t=Rve(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function oE(e){e._valueTracker||(e._valueTracker=Uze(e))}function Pve(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Rve(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function UT(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function cN(e,t){var n=t.checked;return gi({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function MZ(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=wp(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Fve(e,t){t=t.checked,t!=null&&uV(e,"checked",t,!1)}function dN(e,t){Fve(e,t);var n=wp(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?fN(e,t.type,n):t.hasOwnProperty("defaultValue")&&fN(e,t.type,wp(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function RZ(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function fN(e,t,n){(t!=="number"||UT(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var bw=Array.isArray;function y1(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+wp(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function hN(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Oe(91));return gi({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function PZ(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Oe(92));if(bw(n)){if(1<n.length)throw Error(Oe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:wp(n)}}function Nve(e,t){var n=wp(t.value),r=wp(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function FZ(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Lve(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pN(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Lve(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var sE,Bve=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(sE=sE||document.createElement("div"),sE.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=sE.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function BC(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Yw={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hze=["Webkit","ms","Moz","O"];Object.keys(Yw).forEach(function(e){Hze.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Yw[t]=Yw[e]})});function Vve(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Yw.hasOwnProperty(e)&&Yw[e]?(""+t).trim():t+"px"}function zve(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Vve(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Wze=gi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mN(e,t){if(t){if(Wze[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Oe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Oe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Oe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Oe(62))}}function gN(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vN=null;function hV(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yN=null,b1=null,x1=null;function NZ(e){if(e=b2(e)){if(typeof yN!="function")throw Error(Oe(280));var t=e.stateNode;t&&(t=TD(t),yN(e.stateNode,e.type,t))}}function Uve(e){b1?x1?x1.push(e):x1=[e]:b1=e}function Hve(){if(b1){var e=b1,t=x1;if(x1=b1=null,NZ(e),t)for(e=0;e<t.length;e++)NZ(t[e])}}function Wve(e,t){return e(t)}function Gve(){}var AR=!1;function Yve(e,t,n){if(AR)return e(t,n);AR=!0;try{return Wve(e,t,n)}finally{AR=!1,(b1!==null||x1!==null)&&(Gve(),Hve())}}function VC(e,t){var n=e.stateNode;if(n===null)return null;var r=TD(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Oe(231,t,typeof n));return n}var bN=!1;if(vf)try{var vx={};Object.defineProperty(vx,"passive",{get:function(){bN=!0}}),window.addEventListener("test",vx,vx),window.removeEventListener("test",vx,vx)}catch{bN=!1}function Gze(e,t,n,r,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var qw=!1,HT=null,WT=!1,xN=null,Yze={onError:function(e){qw=!0,HT=e}};function qze(e,t,n,r,i,a,o,s,l){qw=!1,HT=null,Gze.apply(Yze,arguments)}function Kze(e,t,n,r,i,a,o,s,l){if(qze.apply(this,arguments),qw){if(qw){var c=HT;qw=!1,HT=null}else throw Error(Oe(198));WT||(WT=!0,xN=c)}}function b0(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function qve(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function LZ(e){if(b0(e)!==e)throw Error(Oe(188))}function Zze(e){var t=e.alternate;if(!t){if(t=b0(e),t===null)throw Error(Oe(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return LZ(i),e;if(a===r)return LZ(i),t;a=a.sibling}throw Error(Oe(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(Oe(189))}}if(n.alternate!==r)throw Error(Oe(190))}if(n.tag!==3)throw Error(Oe(188));return n.stateNode.current===n?e:t}function Kve(e){return e=Zze(e),e!==null?Zve(e):null}function Zve(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Zve(e);if(t!==null)return t;e=e.sibling}return null}var Xve=nl.unstable_scheduleCallback,BZ=nl.unstable_cancelCallback,Xze=nl.unstable_shouldYield,Jze=nl.unstable_requestPaint,Pi=nl.unstable_now,Qze=nl.unstable_getCurrentPriorityLevel,pV=nl.unstable_ImmediatePriority,Jve=nl.unstable_UserBlockingPriority,GT=nl.unstable_NormalPriority,eUe=nl.unstable_LowPriority,Qve=nl.unstable_IdlePriority,SD=null,Nc=null;function tUe(e){if(Nc&&typeof Nc.onCommitFiberRoot=="function")try{Nc.onCommitFiberRoot(SD,e,void 0,(e.current.flags&128)===128)}catch{}}var Nu=Math.clz32?Math.clz32:iUe,nUe=Math.log,rUe=Math.LN2;function iUe(e){return e>>>=0,e===0?32:31-(nUe(e)/rUe|0)|0}var lE=64,uE=4194304;function xw(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function YT(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=xw(s):(a&=o,a!==0&&(r=xw(a)))}else o=n&~i,o!==0?r=xw(o):a!==0&&(r=xw(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Nu(t),i=1<<n,r|=e[n],t&=~i;return r}function aUe(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oUe(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Nu(a),s=1<<o,l=i[o];l===-1?(!(s&n)||s&r)&&(i[o]=aUe(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}function wN(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function e1e(){var e=lE;return lE<<=1,!(lE&4194240)&&(lE=64),e}function jR(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function v2(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Nu(t),e[t]=n}function sUe(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Nu(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function mV(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Nu(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var tr=0;function t1e(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var n1e,gV,r1e,i1e,a1e,CN=!1,cE=[],ap=null,op=null,sp=null,zC=new Map,UC=new Map,Rh=[],lUe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function VZ(e,t){switch(e){case"focusin":case"focusout":ap=null;break;case"dragenter":case"dragleave":op=null;break;case"mouseover":case"mouseout":sp=null;break;case"pointerover":case"pointerout":zC.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":UC.delete(t.pointerId)}}function yx(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=b2(t),t!==null&&gV(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function uUe(e,t,n,r,i){switch(t){case"focusin":return ap=yx(ap,e,t,n,r,i),!0;case"dragenter":return op=yx(op,e,t,n,r,i),!0;case"mouseover":return sp=yx(sp,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return zC.set(a,yx(zC.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,UC.set(a,yx(UC.get(a)||null,e,t,n,r,i)),!0}return!1}function o1e(e){var t=Wm(e.target);if(t!==null){var n=b0(t);if(n!==null){if(t=n.tag,t===13){if(t=qve(n),t!==null){e.blockedOn=t,a1e(e.priority,function(){r1e(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function v5(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=SN(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);vN=r,n.target.dispatchEvent(r),vN=null}else return t=b2(n),t!==null&&gV(t),e.blockedOn=n,!1;t.shift()}return!0}function zZ(e,t,n){v5(e)&&n.delete(t)}function cUe(){CN=!1,ap!==null&&v5(ap)&&(ap=null),op!==null&&v5(op)&&(op=null),sp!==null&&v5(sp)&&(sp=null),zC.forEach(zZ),UC.forEach(zZ)}function bx(e,t){e.blockedOn===t&&(e.blockedOn=null,CN||(CN=!0,nl.unstable_scheduleCallback(nl.unstable_NormalPriority,cUe)))}function HC(e){function t(i){return bx(i,e)}if(0<cE.length){bx(cE[0],e);for(var n=1;n<cE.length;n++){var r=cE[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ap!==null&&bx(ap,e),op!==null&&bx(op,e),sp!==null&&bx(sp,e),zC.forEach(t),UC.forEach(t),n=0;n<Rh.length;n++)r=Rh[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Rh.length&&(n=Rh[0],n.blockedOn===null);)o1e(n),n.blockedOn===null&&Rh.shift()}var w1=zf.ReactCurrentBatchConfig,qT=!0;function dUe(e,t,n,r){var i=tr,a=w1.transition;w1.transition=null;try{tr=1,vV(e,t,n,r)}finally{tr=i,w1.transition=a}}function fUe(e,t,n,r){var i=tr,a=w1.transition;w1.transition=null;try{tr=4,vV(e,t,n,r)}finally{tr=i,w1.transition=a}}function vV(e,t,n,r){if(qT){var i=SN(e,t,n,r);if(i===null)LR(e,t,r,KT,n),VZ(e,r);else if(uUe(i,e,t,n,r))r.stopPropagation();else if(VZ(e,r),t&4&&-1<lUe.indexOf(e)){for(;i!==null;){var a=b2(i);if(a!==null&&n1e(a),a=SN(e,t,n,r),a===null&&LR(e,t,r,KT,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else LR(e,t,r,null,n)}}var KT=null;function SN(e,t,n,r){if(KT=null,e=hV(r),e=Wm(e),e!==null)if(t=b0(e),t===null)e=null;else if(n=t.tag,n===13){if(e=qve(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return KT=e,null}function s1e(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qze()){case pV:return 1;case Jve:return 4;case GT:case eUe:return 16;case Qve:return 536870912;default:return 16}default:return 16}}var Lh=null,yV=null,y5=null;function l1e(){if(y5)return y5;var e,t=yV,n=t.length,r,i="value"in Lh?Lh.value:Lh.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return y5=i.slice(e,1<r?1-r:void 0)}function b5(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function dE(){return!0}function UZ(){return!1}function fl(e){function t(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?dE:UZ,this.isPropagationStopped=UZ,this}return gi(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=dE)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=dE)},persist:function(){},isPersistent:dE}),t}var eb={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bV=fl(eb),y2=gi({},eb,{view:0,detail:0}),hUe=fl(y2),IR,DR,xx,_D=gi({},y2,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xV,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xx&&(xx&&e.type==="mousemove"?(IR=e.screenX-xx.screenX,DR=e.screenY-xx.screenY):DR=IR=0,xx=e),IR)},movementY:function(e){return"movementY"in e?e.movementY:DR}}),HZ=fl(_D),pUe=gi({},_D,{dataTransfer:0}),mUe=fl(pUe),gUe=gi({},y2,{relatedTarget:0}),$R=fl(gUe),vUe=gi({},eb,{animationName:0,elapsedTime:0,pseudoElement:0}),yUe=fl(vUe),bUe=gi({},eb,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xUe=fl(bUe),wUe=gi({},eb,{data:0}),WZ=fl(wUe),CUe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SUe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_Ue={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EUe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_Ue[e])?!!t[e]:!1}function xV(){return EUe}var kUe=gi({},y2,{key:function(e){if(e.key){var t=CUe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=b5(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?SUe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xV,charCode:function(e){return e.type==="keypress"?b5(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?b5(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),TUe=fl(kUe),AUe=gi({},_D,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),GZ=fl(AUe),jUe=gi({},y2,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xV}),IUe=fl(jUe),DUe=gi({},eb,{propertyName:0,elapsedTime:0,pseudoElement:0}),$Ue=fl(DUe),OUe=gi({},_D,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),MUe=fl(OUe),RUe=[9,13,27,32],wV=vf&&"CompositionEvent"in window,Kw=null;vf&&"documentMode"in document&&(Kw=document.documentMode);var PUe=vf&&"TextEvent"in window&&!Kw,u1e=vf&&(!wV||Kw&&8<Kw&&11>=Kw),YZ=String.fromCharCode(32),qZ=!1;function c1e(e,t){switch(e){case"keyup":return RUe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function d1e(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wv=!1;function FUe(e,t){switch(e){case"compositionend":return d1e(t);case"keypress":return t.which!==32?null:(qZ=!0,YZ);case"textInput":return e=t.data,e===YZ&&qZ?null:e;default:return null}}function NUe(e,t){if(Wv)return e==="compositionend"||!wV&&c1e(e,t)?(e=l1e(),y5=yV=Lh=null,Wv=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return u1e&&t.locale!=="ko"?null:t.data;default:return null}}var LUe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function KZ(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!LUe[e.type]:t==="textarea"}function f1e(e,t,n,r){Uve(r),t=ZT(t,"onChange"),0<t.length&&(n=new bV("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Zw=null,WC=null;function BUe(e){S1e(e,0)}function ED(e){var t=qv(e);if(Pve(t))return e}function VUe(e,t){if(e==="change")return t}var h1e=!1;if(vf){var OR;if(vf){var MR="oninput"in document;if(!MR){var ZZ=document.createElement("div");ZZ.setAttribute("oninput","return;"),MR=typeof ZZ.oninput=="function"}OR=MR}else OR=!1;h1e=OR&&(!document.documentMode||9<document.documentMode)}function XZ(){Zw&&(Zw.detachEvent("onpropertychange",p1e),WC=Zw=null)}function p1e(e){if(e.propertyName==="value"&&ED(WC)){var t=[];f1e(t,WC,e,hV(e)),Yve(BUe,t)}}function zUe(e,t,n){e==="focusin"?(XZ(),Zw=t,WC=n,Zw.attachEvent("onpropertychange",p1e)):e==="focusout"&&XZ()}function UUe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ED(WC)}function HUe(e,t){if(e==="click")return ED(t)}function WUe(e,t){if(e==="input"||e==="change")return ED(t)}function GUe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yu=typeof Object.is=="function"?Object.is:GUe;function GC(e,t){if(Yu(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!aN.call(t,i)||!Yu(e[i],t[i]))return!1}return!0}function JZ(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function QZ(e,t){var n=JZ(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=JZ(n)}}function m1e(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?m1e(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function g1e(){for(var e=window,t=UT();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=UT(e.document)}return t}function CV(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function YUe(e){var t=g1e(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&m1e(n.ownerDocument.documentElement,n)){if(r!==null&&CV(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=QZ(n,a);var o=QZ(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qUe=vf&&"documentMode"in document&&11>=document.documentMode,Gv=null,_N=null,Xw=null,EN=!1;function eX(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;EN||Gv==null||Gv!==UT(r)||(r=Gv,"selectionStart"in r&&CV(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xw&&GC(Xw,r)||(Xw=r,r=ZT(_N,"onSelect"),0<r.length&&(t=new bV("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Gv)))}function fE(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Yv={animationend:fE("Animation","AnimationEnd"),animationiteration:fE("Animation","AnimationIteration"),animationstart:fE("Animation","AnimationStart"),transitionend:fE("Transition","TransitionEnd")},RR={},v1e={};vf&&(v1e=document.createElement("div").style,"AnimationEvent"in window||(delete Yv.animationend.animation,delete Yv.animationiteration.animation,delete Yv.animationstart.animation),"TransitionEvent"in window||delete Yv.transitionend.transition);function kD(e){if(RR[e])return RR[e];if(!Yv[e])return e;var t=Yv[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in v1e)return RR[e]=t[n];return e}var y1e=kD("animationend"),b1e=kD("animationiteration"),x1e=kD("animationstart"),w1e=kD("transitionend"),C1e=new Map,tX="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vp(e,t){C1e.set(e,t),y0(t,[e])}for(var PR=0;PR<tX.length;PR++){var FR=tX[PR],KUe=FR.toLowerCase(),ZUe=FR[0].toUpperCase()+FR.slice(1);Vp(KUe,"on"+ZUe)}Vp(y1e,"onAnimationEnd");Vp(b1e,"onAnimationIteration");Vp(x1e,"onAnimationStart");Vp("dblclick","onDoubleClick");Vp("focusin","onFocus");Vp("focusout","onBlur");Vp(w1e,"onTransitionEnd");ty("onMouseEnter",["mouseout","mouseover"]);ty("onMouseLeave",["mouseout","mouseover"]);ty("onPointerEnter",["pointerout","pointerover"]);ty("onPointerLeave",["pointerout","pointerover"]);y0("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));y0("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));y0("onBeforeInput",["compositionend","keypress","textInput","paste"]);y0("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));y0("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));y0("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ww="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XUe=new Set("cancel close invalid load scroll toggle".split(" ").concat(ww));function nX(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Kze(r,t,void 0,e),e.currentTarget=null}function S1e(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;nX(i,s,c),a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;nX(i,s,c),a=l}}}if(WT)throw e=xN,WT=!1,xN=null,e}function Vr(e,t){var n=t[IN];n===void 0&&(n=t[IN]=new Set);var r=e+"__bubble";n.has(r)||(_1e(t,e,2,!1),n.add(r))}function NR(e,t,n){var r=0;t&&(r|=4),_1e(n,e,r,t)}var hE="_reactListening"+Math.random().toString(36).slice(2);function YC(e){if(!e[hE]){e[hE]=!0,Dve.forEach(function(n){n!=="selectionchange"&&(XUe.has(n)||NR(n,!1,e),NR(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hE]||(t[hE]=!0,NR("selectionchange",!1,t))}}function _1e(e,t,n,r){switch(s1e(t)){case 1:var i=dUe;break;case 4:i=fUe;break;default:i=vV}n=i.bind(null,t,n,e),i=void 0,!bN||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function LR(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Wm(s),o===null)return;if(l=o.tag,l===5||l===6){r=a=o;continue e}s=s.parentNode}}r=r.return}Yve(function(){var c=a,d=hV(n),h=[];e:{var p=C1e.get(e);if(p!==void 0){var m=bV,g=e;switch(e){case"keypress":if(b5(n)===0)break e;case"keydown":case"keyup":m=TUe;break;case"focusin":g="focus",m=$R;break;case"focusout":g="blur",m=$R;break;case"beforeblur":case"afterblur":m=$R;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=HZ;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=mUe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=IUe;break;case y1e:case b1e:case x1e:m=yUe;break;case w1e:m=$Ue;break;case"scroll":m=hUe;break;case"wheel":m=MUe;break;case"copy":case"cut":case"paste":m=xUe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=GZ}var v=(t&4)!==0,b=!v&&e==="scroll",y=v?p!==null?p+"Capture":null:p;v=[];for(var x=c,w;x!==null;){w=x;var C=w.stateNode;if(w.tag===5&&C!==null&&(w=C,y!==null&&(C=VC(x,y),C!=null&&v.push(qC(x,C,w)))),b)break;x=x.return}0<v.length&&(p=new m(p,g,null,n,d),h.push({event:p,listeners:v}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==vN&&(g=n.relatedTarget||n.fromElement)&&(Wm(g)||g[yf]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=c,g=g?Wm(g):null,g!==null&&(b=b0(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=c),m!==g)){if(v=HZ,C="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=GZ,C="onPointerLeave",y="onPointerEnter",x="pointer"),b=m==null?p:qv(m),w=g==null?p:qv(g),p=new v(C,x+"leave",m,n,d),p.target=b,p.relatedTarget=w,C=null,Wm(d)===c&&(v=new v(y,x+"enter",g,n,d),v.target=w,v.relatedTarget=b,C=v),b=C,m&&g)t:{for(v=m,y=g,x=0,w=v;w;w=sv(w))x++;for(w=0,C=y;C;C=sv(C))w++;for(;0<x-w;)v=sv(v),x--;for(;0<w-x;)y=sv(y),w--;for(;x--;){if(v===y||y!==null&&v===y.alternate)break t;v=sv(v),y=sv(y)}v=null}else v=null;m!==null&&rX(h,p,m,v,!1),g!==null&&b!==null&&rX(h,b,g,v,!0)}}e:{if(p=c?qv(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var S=VUe;else if(KZ(p))if(h1e)S=WUe;else{S=UUe;var _=zUe}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=HUe);if(S&&(S=S(e,c))){f1e(h,S,n,d);break e}_&&_(e,p,c),e==="focusout"&&(_=p._wrapperState)&&_.controlled&&p.type==="number"&&fN(p,"number",p.value)}switch(_=c?qv(c):window,e){case"focusin":(KZ(_)||_.contentEditable==="true")&&(Gv=_,_N=c,Xw=null);break;case"focusout":Xw=_N=Gv=null;break;case"mousedown":EN=!0;break;case"contextmenu":case"mouseup":case"dragend":EN=!1,eX(h,n,d);break;case"selectionchange":if(qUe)break;case"keydown":case"keyup":eX(h,n,d)}var E;if(wV)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Wv?c1e(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(u1e&&n.locale!=="ko"&&(Wv||k!=="onCompositionStart"?k==="onCompositionEnd"&&Wv&&(E=l1e()):(Lh=d,yV="value"in Lh?Lh.value:Lh.textContent,Wv=!0)),_=ZT(c,k),0<_.length&&(k=new WZ(k,e,null,n,d),h.push({event:k,listeners:_}),E?k.data=E:(E=d1e(n),E!==null&&(k.data=E)))),(E=PUe?FUe(e,n):NUe(e,n))&&(c=ZT(c,"onBeforeInput"),0<c.length&&(d=new WZ("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=E))}S1e(h,t)})}function qC(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ZT(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=VC(e,n),a!=null&&r.unshift(qC(e,a,i)),a=VC(e,t),a!=null&&r.push(qC(e,a,i))),e=e.return}return r}function sv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function rX(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,i?(l=VC(n,a),l!=null&&o.unshift(qC(n,l,s))):i||(l=VC(n,a),l!=null&&o.push(qC(n,l,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var JUe=/\r\n?/g,QUe=/\u0000|\uFFFD/g;function iX(e){return(typeof e=="string"?e:""+e).replace(JUe,`
`).replace(QUe,"")}function pE(e,t,n){if(t=iX(t),iX(e)!==t&&n)throw Error(Oe(425))}function XT(){}var kN=null,TN=null;function AN(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var jN=typeof setTimeout=="function"?setTimeout:void 0,eHe=typeof clearTimeout=="function"?clearTimeout:void 0,aX=typeof Promise=="function"?Promise:void 0,tHe=typeof queueMicrotask=="function"?queueMicrotask:typeof aX<"u"?function(e){return aX.resolve(null).then(e).catch(nHe)}:jN;function nHe(e){setTimeout(function(){throw e})}function BR(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),HC(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);HC(t)}function lp(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function oX(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var tb=Math.random().toString(36).slice(2),Ec="__reactFiber$"+tb,KC="__reactProps$"+tb,yf="__reactContainer$"+tb,IN="__reactEvents$"+tb,rHe="__reactListeners$"+tb,iHe="__reactHandles$"+tb;function Wm(e){var t=e[Ec];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yf]||n[Ec]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=oX(e);e!==null;){if(n=e[Ec])return n;e=oX(e)}return t}e=n,n=e.parentNode}return null}function b2(e){return e=e[Ec]||e[yf],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qv(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Oe(33))}function TD(e){return e[KC]||null}var DN=[],Kv=-1;function zp(e){return{current:e}}function Gr(e){0>Kv||(e.current=DN[Kv],DN[Kv]=null,Kv--)}function Or(e,t){Kv++,DN[Kv]=e.current,e.current=t}var Cp={},jo=zp(Cp),Ss=zp(!1),$g=Cp;function ny(e,t){var n=e.type.contextTypes;if(!n)return Cp;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function _s(e){return e=e.childContextTypes,e!=null}function JT(){Gr(Ss),Gr(jo)}function sX(e,t,n){if(jo.current!==Cp)throw Error(Oe(168));Or(jo,t),Or(Ss,n)}function E1e(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Oe(108,zze(e)||"Unknown",i));return gi({},n,r)}function QT(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cp,$g=jo.current,Or(jo,e),Or(Ss,Ss.current),!0}function lX(e,t,n){var r=e.stateNode;if(!r)throw Error(Oe(169));n?(e=E1e(e,t,$g),r.__reactInternalMemoizedMergedChildContext=e,Gr(Ss),Gr(jo),Or(jo,e)):Gr(Ss),Or(Ss,n)}var zd=null,AD=!1,VR=!1;function k1e(e){zd===null?zd=[e]:zd.push(e)}function aHe(e){AD=!0,k1e(e)}function Up(){if(!VR&&zd!==null){VR=!0;var e=0,t=tr;try{var n=zd;for(tr=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}zd=null,AD=!1}catch(i){throw zd!==null&&(zd=zd.slice(e+1)),Xve(pV,Up),i}finally{tr=t,VR=!1}}return null}var Zv=[],Xv=0,eA=null,tA=0,Il=[],Dl=0,Og=null,Zd=1,Xd="";function wm(e,t){Zv[Xv++]=tA,Zv[Xv++]=eA,eA=e,tA=t}function T1e(e,t,n){Il[Dl++]=Zd,Il[Dl++]=Xd,Il[Dl++]=Og,Og=e;var r=Zd;e=Xd;var i=32-Nu(r)-1;r&=~(1<<i),n+=1;var a=32-Nu(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Zd=1<<32-Nu(t)+i|n<<i|r,Xd=a+e}else Zd=1<<a|n<<i|r,Xd=e}function SV(e){e.return!==null&&(wm(e,1),T1e(e,1,0))}function _V(e){for(;e===eA;)eA=Zv[--Xv],Zv[Xv]=null,tA=Zv[--Xv],Zv[Xv]=null;for(;e===Og;)Og=Il[--Dl],Il[Dl]=null,Xd=Il[--Dl],Il[Dl]=null,Zd=Il[--Dl],Il[Dl]=null}var Js=null,Ks=null,ai=!1,Au=null;function A1e(e,t){var n=Ll(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function uX(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Js=e,Ks=lp(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Js=e,Ks=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Og!==null?{id:Zd,overflow:Xd}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ll(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Js=e,Ks=null,!0):!1;default:return!1}}function $N(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ON(e){if(ai){var t=Ks;if(t){var n=t;if(!uX(e,t)){if($N(e))throw Error(Oe(418));t=lp(n.nextSibling);var r=Js;t&&uX(e,t)?A1e(r,n):(e.flags=e.flags&-4097|2,ai=!1,Js=e)}}else{if($N(e))throw Error(Oe(418));e.flags=e.flags&-4097|2,ai=!1,Js=e}}}function cX(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Js=e}function mE(e){if(e!==Js)return!1;if(!ai)return cX(e),ai=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!AN(e.type,e.memoizedProps)),t&&(t=Ks)){if($N(e))throw j1e(),Error(Oe(418));for(;t;)A1e(e,t),t=lp(t.nextSibling)}if(cX(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Oe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ks=lp(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ks=null}}else Ks=Js?lp(e.stateNode.nextSibling):null;return!0}function j1e(){for(var e=Ks;e;)e=lp(e.nextSibling)}function ry(){Ks=Js=null,ai=!1}function EV(e){Au===null?Au=[e]:Au.push(e)}var oHe=zf.ReactCurrentBatchConfig;function wx(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Oe(309));var r=n.stateNode}if(!r)throw Error(Oe(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(Oe(284));if(!n._owner)throw Error(Oe(290,e))}return e}function gE(e,t){throw e=Object.prototype.toString.call(t),Error(Oe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function dX(e){var t=e._init;return t(e._payload)}function I1e(e){function t(y,x){if(e){var w=y.deletions;w===null?(y.deletions=[x],y.flags|=16):w.push(x)}}function n(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function r(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function i(y,x){return y=fp(y,x),y.index=0,y.sibling=null,y}function a(y,x,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<x?(y.flags|=2,x):w):(y.flags|=2,x)):(y.flags|=1048576,x)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function s(y,x,w,C){return x===null||x.tag!==6?(x=qR(w,y.mode,C),x.return=y,x):(x=i(x,w),x.return=y,x)}function l(y,x,w,C){var S=w.type;return S===Hv?d(y,x,w.props.children,C,w.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===_h&&dX(S)===x.type)?(C=i(x,w.props),C.ref=wx(y,x,w),C.return=y,C):(C=k5(w.type,w.key,w.props,null,y.mode,C),C.ref=wx(y,x,w),C.return=y,C)}function c(y,x,w,C){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=KR(w,y.mode,C),x.return=y,x):(x=i(x,w.children||[]),x.return=y,x)}function d(y,x,w,C,S){return x===null||x.tag!==7?(x=lg(w,y.mode,C,S),x.return=y,x):(x=i(x,w),x.return=y,x)}function h(y,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=qR(""+x,y.mode,w),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case aE:return w=k5(x.type,x.key,x.props,null,y.mode,w),w.ref=wx(y,null,x),w.return=y,w;case Uv:return x=KR(x,y.mode,w),x.return=y,x;case _h:var C=x._init;return h(y,C(x._payload),w)}if(bw(x)||gx(x))return x=lg(x,y.mode,w,null),x.return=y,x;gE(y,x)}return null}function p(y,x,w,C){var S=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:s(y,x,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case aE:return w.key===S?l(y,x,w,C):null;case Uv:return w.key===S?c(y,x,w,C):null;case _h:return S=w._init,p(y,x,S(w._payload),C)}if(bw(w)||gx(w))return S!==null?null:d(y,x,w,C,null);gE(y,w)}return null}function m(y,x,w,C,S){if(typeof C=="string"&&C!==""||typeof C=="number")return y=y.get(w)||null,s(x,y,""+C,S);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case aE:return y=y.get(C.key===null?w:C.key)||null,l(x,y,C,S);case Uv:return y=y.get(C.key===null?w:C.key)||null,c(x,y,C,S);case _h:var _=C._init;return m(y,x,w,_(C._payload),S)}if(bw(C)||gx(C))return y=y.get(w)||null,d(x,y,C,S,null);gE(x,C)}return null}function g(y,x,w,C){for(var S=null,_=null,E=x,k=x=0,T=null;E!==null&&k<w.length;k++){E.index>k?(T=E,E=null):T=E.sibling;var j=p(y,E,w[k],C);if(j===null){E===null&&(E=T);break}e&&E&&j.alternate===null&&t(y,E),x=a(j,x,k),_===null?S=j:_.sibling=j,_=j,E=T}if(k===w.length)return n(y,E),ai&&wm(y,k),S;if(E===null){for(;k<w.length;k++)E=h(y,w[k],C),E!==null&&(x=a(E,x,k),_===null?S=E:_.sibling=E,_=E);return ai&&wm(y,k),S}for(E=r(y,E);k<w.length;k++)T=m(E,y,k,w[k],C),T!==null&&(e&&T.alternate!==null&&E.delete(T.key===null?k:T.key),x=a(T,x,k),_===null?S=T:_.sibling=T,_=T);return e&&E.forEach(function(I){return t(y,I)}),ai&&wm(y,k),S}function v(y,x,w,C){var S=gx(w);if(typeof S!="function")throw Error(Oe(150));if(w=S.call(w),w==null)throw Error(Oe(151));for(var _=S=null,E=x,k=x=0,T=null,j=w.next();E!==null&&!j.done;k++,j=w.next()){E.index>k?(T=E,E=null):T=E.sibling;var I=p(y,E,j.value,C);if(I===null){E===null&&(E=T);break}e&&E&&I.alternate===null&&t(y,E),x=a(I,x,k),_===null?S=I:_.sibling=I,_=I,E=T}if(j.done)return n(y,E),ai&&wm(y,k),S;if(E===null){for(;!j.done;k++,j=w.next())j=h(y,j.value,C),j!==null&&(x=a(j,x,k),_===null?S=j:_.sibling=j,_=j);return ai&&wm(y,k),S}for(E=r(y,E);!j.done;k++,j=w.next())j=m(E,y,k,j.value,C),j!==null&&(e&&j.alternate!==null&&E.delete(j.key===null?k:j.key),x=a(j,x,k),_===null?S=j:_.sibling=j,_=j);return e&&E.forEach(function(A){return t(y,A)}),ai&&wm(y,k),S}function b(y,x,w,C){if(typeof w=="object"&&w!==null&&w.type===Hv&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case aE:e:{for(var S=w.key,_=x;_!==null;){if(_.key===S){if(S=w.type,S===Hv){if(_.tag===7){n(y,_.sibling),x=i(_,w.props.children),x.return=y,y=x;break e}}else if(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===_h&&dX(S)===_.type){n(y,_.sibling),x=i(_,w.props),x.ref=wx(y,_,w),x.return=y,y=x;break e}n(y,_);break}else t(y,_);_=_.sibling}w.type===Hv?(x=lg(w.props.children,y.mode,C,w.key),x.return=y,y=x):(C=k5(w.type,w.key,w.props,null,y.mode,C),C.ref=wx(y,x,w),C.return=y,y=C)}return o(y);case Uv:e:{for(_=w.key;x!==null;){if(x.key===_)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){n(y,x.sibling),x=i(x,w.children||[]),x.return=y,y=x;break e}else{n(y,x);break}else t(y,x);x=x.sibling}x=KR(w,y.mode,C),x.return=y,y=x}return o(y);case _h:return _=w._init,b(y,x,_(w._payload),C)}if(bw(w))return g(y,x,w,C);if(gx(w))return v(y,x,w,C);gE(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(n(y,x.sibling),x=i(x,w),x.return=y,y=x):(n(y,x),x=qR(w,y.mode,C),x.return=y,y=x),o(y)):n(y,x)}return b}var iy=I1e(!0),D1e=I1e(!1),nA=zp(null),rA=null,Jv=null,kV=null;function TV(){kV=Jv=rA=null}function AV(e){var t=nA.current;Gr(nA),e._currentValue=t}function MN(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function C1(e,t){rA=e,kV=Jv=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ws=!0),e.firstContext=null)}function tu(e){var t=e._currentValue;if(kV!==e)if(e={context:e,memoizedValue:t,next:null},Jv===null){if(rA===null)throw Error(Oe(308));Jv=e,rA.dependencies={lanes:0,firstContext:e}}else Jv=Jv.next=e;return t}var Gm=null;function jV(e){Gm===null?Gm=[e]:Gm.push(e)}function $1e(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,jV(t)):(n.next=i.next,i.next=n),t.interleaved=n,bf(e,r)}function bf(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Eh=!1;function IV(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function O1e(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function af(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function up(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,On&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,bf(e,n)}return i=r.interleaved,i===null?(t.next=t,jV(r)):(t.next=i.next,i.next=t),r.interleaved=t,bf(e,n)}function x5(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,mV(e,n)}}function fX(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function iA(e,t,n,r){var i=e.updateQueue;Eh=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?a=c:o.next=c,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=l))}if(a!==null){var h=i.baseState;o=0,d=c=l=null,s=a;do{var p=s.lane,m=s.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=e,v=s;switch(p=t,m=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){h=g.call(m,h,p);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,p=typeof g=="function"?g.call(m,h,p):g,p==null)break e;h=gi({},h,p);break e;case 2:Eh=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[s]:p.push(s))}else m={eventTime:m,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,o|=p;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Rg|=o,e.lanes=o,e.memoizedState=h}}function hX(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Oe(191,i));i.call(r)}}}var x2={},Lc=zp(x2),ZC=zp(x2),XC=zp(x2);function Ym(e){if(e===x2)throw Error(Oe(174));return e}function DV(e,t){switch(Or(XC,t),Or(ZC,e),Or(Lc,x2),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pN(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=pN(t,e)}Gr(Lc),Or(Lc,t)}function ay(){Gr(Lc),Gr(ZC),Gr(XC)}function M1e(e){Ym(XC.current);var t=Ym(Lc.current),n=pN(t,e.type);t!==n&&(Or(ZC,e),Or(Lc,n))}function $V(e){ZC.current===e&&(Gr(Lc),Gr(ZC))}var ui=zp(0);function aA(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zR=[];function OV(){for(var e=0;e<zR.length;e++)zR[e]._workInProgressVersionPrimary=null;zR.length=0}var w5=zf.ReactCurrentDispatcher,UR=zf.ReactCurrentBatchConfig,Mg=0,mi=null,ha=null,ja=null,oA=!1,Jw=!1,JC=0,sHe=0;function so(){throw Error(Oe(321))}function MV(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yu(e[n],t[n]))return!1;return!0}function RV(e,t,n,r,i,a){if(Mg=a,mi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,w5.current=e===null||e.memoizedState===null?dHe:fHe,e=n(r,i),Jw){a=0;do{if(Jw=!1,JC=0,25<=a)throw Error(Oe(301));a+=1,ja=ha=null,t.updateQueue=null,w5.current=hHe,e=n(r,i)}while(Jw)}if(w5.current=sA,t=ha!==null&&ha.next!==null,Mg=0,ja=ha=mi=null,oA=!1,t)throw Error(Oe(300));return e}function PV(){var e=JC!==0;return JC=0,e}function gc(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ja===null?mi.memoizedState=ja=e:ja=ja.next=e,ja}function nu(){if(ha===null){var e=mi.alternate;e=e!==null?e.memoizedState:null}else e=ha.next;var t=ja===null?mi.memoizedState:ja.next;if(t!==null)ja=t,ha=e;else{if(e===null)throw Error(Oe(310));ha=e,e={memoizedState:ha.memoizedState,baseState:ha.baseState,baseQueue:ha.baseQueue,queue:ha.queue,next:null},ja===null?mi.memoizedState=ja=e:ja=ja.next=e}return ja}function QC(e,t){return typeof t=="function"?t(e):t}function HR(e){var t=nu(),n=t.queue;if(n===null)throw Error(Oe(311));n.lastRenderedReducer=e;var r=ha,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var s=o=null,l=null,c=a;do{var d=c.lane;if((Mg&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=h,o=r):l=l.next=h,mi.lanes|=d,Rg|=d}c=c.next}while(c!==null&&c!==a);l===null?o=r:l.next=s,Yu(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,mi.lanes|=a,Rg|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function WR(e){var t=nu(),n=t.queue;if(n===null)throw Error(Oe(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Yu(a,t.memoizedState)||(ws=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function R1e(){}function P1e(e,t){var n=mi,r=nu(),i=t(),a=!Yu(r.memoizedState,i);if(a&&(r.memoizedState=i,ws=!0),r=r.queue,FV(L1e.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||ja!==null&&ja.memoizedState.tag&1){if(n.flags|=2048,eS(9,N1e.bind(null,n,r,i,t),void 0,null),Ra===null)throw Error(Oe(349));Mg&30||F1e(n,t,i)}return i}function F1e(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=mi.updateQueue,t===null?(t={lastEffect:null,stores:null},mi.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function N1e(e,t,n,r){t.value=n,t.getSnapshot=r,B1e(t)&&V1e(e)}function L1e(e,t,n){return n(function(){B1e(t)&&V1e(e)})}function B1e(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yu(e,n)}catch{return!0}}function V1e(e){var t=bf(e,1);t!==null&&Lu(t,e,1,-1)}function pX(e){var t=gc();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:QC,lastRenderedState:e},t.queue=e,e=e.dispatch=cHe.bind(null,mi,e),[t.memoizedState,e]}function eS(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=mi.updateQueue,t===null?(t={lastEffect:null,stores:null},mi.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function z1e(){return nu().memoizedState}function C5(e,t,n,r){var i=gc();mi.flags|=e,i.memoizedState=eS(1|t,n,void 0,r===void 0?null:r)}function jD(e,t,n,r){var i=nu();r=r===void 0?null:r;var a=void 0;if(ha!==null){var o=ha.memoizedState;if(a=o.destroy,r!==null&&MV(r,o.deps)){i.memoizedState=eS(t,n,a,r);return}}mi.flags|=e,i.memoizedState=eS(1|t,n,a,r)}function mX(e,t){return C5(8390656,8,e,t)}function FV(e,t){return jD(2048,8,e,t)}function U1e(e,t){return jD(4,2,e,t)}function H1e(e,t){return jD(4,4,e,t)}function W1e(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function G1e(e,t,n){return n=n!=null?n.concat([e]):null,jD(4,4,W1e.bind(null,t,e),n)}function NV(){}function Y1e(e,t){var n=nu();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&MV(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function q1e(e,t){var n=nu();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&MV(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function K1e(e,t,n){return Mg&21?(Yu(n,t)||(n=e1e(),mi.lanes|=n,Rg|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n)}function lHe(e,t){var n=tr;tr=n!==0&&4>n?n:4,e(!0);var r=UR.transition;UR.transition={};try{e(!1),t()}finally{tr=n,UR.transition=r}}function Z1e(){return nu().memoizedState}function uHe(e,t,n){var r=dp(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},X1e(e))J1e(t,n);else if(n=$1e(e,t,n,r),n!==null){var i=Ho();Lu(n,e,r,i),Q1e(n,t,r)}}function cHe(e,t,n){var r=dp(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(X1e(e))J1e(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Yu(s,o)){var l=t.interleaved;l===null?(i.next=i,jV(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=$1e(e,t,i,r),n!==null&&(i=Ho(),Lu(n,e,r,i),Q1e(n,t,r))}}function X1e(e){var t=e.alternate;return e===mi||t!==null&&t===mi}function J1e(e,t){Jw=oA=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Q1e(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,mV(e,n)}}var sA={readContext:tu,useCallback:so,useContext:so,useEffect:so,useImperativeHandle:so,useInsertionEffect:so,useLayoutEffect:so,useMemo:so,useReducer:so,useRef:so,useState:so,useDebugValue:so,useDeferredValue:so,useTransition:so,useMutableSource:so,useSyncExternalStore:so,useId:so,unstable_isNewReconciler:!1},dHe={readContext:tu,useCallback:function(e,t){return gc().memoizedState=[e,t===void 0?null:t],e},useContext:tu,useEffect:mX,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,C5(4194308,4,W1e.bind(null,t,e),n)},useLayoutEffect:function(e,t){return C5(4194308,4,e,t)},useInsertionEffect:function(e,t){return C5(4,2,e,t)},useMemo:function(e,t){var n=gc();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=gc();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=uHe.bind(null,mi,e),[r.memoizedState,e]},useRef:function(e){var t=gc();return e={current:e},t.memoizedState=e},useState:pX,useDebugValue:NV,useDeferredValue:function(e){return gc().memoizedState=e},useTransition:function(){var e=pX(!1),t=e[0];return e=lHe.bind(null,e[1]),gc().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mi,i=gc();if(ai){if(n===void 0)throw Error(Oe(407));n=n()}else{if(n=t(),Ra===null)throw Error(Oe(349));Mg&30||F1e(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,mX(L1e.bind(null,r,a,e),[e]),r.flags|=2048,eS(9,N1e.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=gc(),t=Ra.identifierPrefix;if(ai){var n=Xd,r=Zd;n=(r&~(1<<32-Nu(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=JC++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=sHe++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},fHe={readContext:tu,useCallback:Y1e,useContext:tu,useEffect:FV,useImperativeHandle:G1e,useInsertionEffect:U1e,useLayoutEffect:H1e,useMemo:q1e,useReducer:HR,useRef:z1e,useState:function(){return HR(QC)},useDebugValue:NV,useDeferredValue:function(e){var t=nu();return K1e(t,ha.memoizedState,e)},useTransition:function(){var e=HR(QC)[0],t=nu().memoizedState;return[e,t]},useMutableSource:R1e,useSyncExternalStore:P1e,useId:Z1e,unstable_isNewReconciler:!1},hHe={readContext:tu,useCallback:Y1e,useContext:tu,useEffect:FV,useImperativeHandle:G1e,useInsertionEffect:U1e,useLayoutEffect:H1e,useMemo:q1e,useReducer:WR,useRef:z1e,useState:function(){return WR(QC)},useDebugValue:NV,useDeferredValue:function(e){var t=nu();return ha===null?t.memoizedState=e:K1e(t,ha.memoizedState,e)},useTransition:function(){var e=WR(QC)[0],t=nu().memoizedState;return[e,t]},useMutableSource:R1e,useSyncExternalStore:P1e,useId:Z1e,unstable_isNewReconciler:!1};function ku(e,t){if(e&&e.defaultProps){t=gi({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function RN(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:gi({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ID={isMounted:function(e){return(e=e._reactInternals)?b0(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ho(),i=dp(e),a=af(r,i);a.payload=t,n!=null&&(a.callback=n),t=up(e,a,i),t!==null&&(Lu(t,e,i,r),x5(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ho(),i=dp(e),a=af(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=up(e,a,i),t!==null&&(Lu(t,e,i,r),x5(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ho(),r=dp(e),i=af(n,r);i.tag=2,t!=null&&(i.callback=t),t=up(e,i,r),t!==null&&(Lu(t,e,r,n),x5(t,e,r))}};function gX(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!GC(n,r)||!GC(i,a):!0}function eye(e,t,n){var r=!1,i=Cp,a=t.contextType;return typeof a=="object"&&a!==null?a=tu(a):(i=_s(t)?$g:jo.current,r=t.contextTypes,a=(r=r!=null)?ny(e,i):Cp),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ID,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function vX(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ID.enqueueReplaceState(t,t.state,null)}function PN(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},IV(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=tu(a):(a=_s(t)?$g:jo.current,i.context=ny(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(RN(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ID.enqueueReplaceState(i,i.state,null),iA(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function oy(e,t){try{var n="",r=t;do n+=Vze(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function GR(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function FN(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var pHe=typeof WeakMap=="function"?WeakMap:Map;function tye(e,t,n){n=af(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){uA||(uA=!0,YN=r),FN(e,t)},n}function nye(e,t,n){n=af(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){FN(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){FN(e,t),typeof r!="function"&&(cp===null?cp=new Set([this]):cp.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function yX(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new pHe;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=AHe.bind(null,e,t,n),t.then(e,e))}function bX(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function xX(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=af(-1,1),t.tag=2,up(n,t,1))),n.lanes|=1),e)}var mHe=zf.ReactCurrentOwner,ws=!1;function Bo(e,t,n,r){t.child=e===null?D1e(t,null,n,r):iy(t,e.child,n,r)}function wX(e,t,n,r,i){n=n.render;var a=t.ref;return C1(t,i),r=RV(e,t,n,r,a,i),n=PV(),e!==null&&!ws?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,xf(e,t,i)):(ai&&n&&SV(t),t.flags|=1,Bo(e,t,r,i),t.child)}function CX(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!GV(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,rye(e,t,a,r,i)):(e=k5(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:GC,n(o,r)&&e.ref===t.ref)return xf(e,t,i)}return t.flags|=1,e=fp(a,r),e.ref=t.ref,e.return=t,t.child=e}function rye(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(GC(a,r)&&e.ref===t.ref)if(ws=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(ws=!0);else return t.lanes=e.lanes,xf(e,t,i)}return NN(e,t,n,r,i)}function iye(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Or(e1,Vs),Vs|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Or(e1,Vs),Vs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Or(e1,Vs),Vs|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Or(e1,Vs),Vs|=r;return Bo(e,t,i,n),t.child}function aye(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function NN(e,t,n,r,i){var a=_s(n)?$g:jo.current;return a=ny(t,a),C1(t,i),n=RV(e,t,n,r,a,i),r=PV(),e!==null&&!ws?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,xf(e,t,i)):(ai&&r&&SV(t),t.flags|=1,Bo(e,t,n,i),t.child)}function SX(e,t,n,r,i){if(_s(n)){var a=!0;QT(t)}else a=!1;if(C1(t,i),t.stateNode===null)S5(e,t),eye(t,n,r),PN(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=tu(c):(c=_s(n)?$g:jo.current,c=ny(t,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==c)&&vX(t,o,r,c),Eh=!1;var p=t.memoizedState;o.state=p,iA(t,r,o,i),l=t.memoizedState,s!==r||p!==l||Ss.current||Eh?(typeof d=="function"&&(RN(t,n,d,r),l=t.memoizedState),(s=Eh||gX(t,n,s,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,O1e(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ku(t.type,s),o.props=c,h=t.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=tu(l):(l=_s(n)?$g:jo.current,l=ny(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==h||p!==l)&&vX(t,o,r,l),Eh=!1,p=t.memoizedState,o.state=p,iA(t,r,o,i);var g=t.memoizedState;s!==h||p!==g||Ss.current||Eh?(typeof m=="function"&&(RN(t,n,m,r),g=t.memoizedState),(c=Eh||gX(t,n,c,r,p,g,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return LN(e,t,n,r,a,i)}function LN(e,t,n,r,i,a){aye(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&lX(t,n,!1),xf(e,t,a);r=t.stateNode,mHe.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=iy(t,e.child,null,a),t.child=iy(t,null,s,a)):Bo(e,t,s,a),t.memoizedState=r.state,i&&lX(t,n,!0),t.child}function oye(e){var t=e.stateNode;t.pendingContext?sX(e,t.pendingContext,t.pendingContext!==t.context):t.context&&sX(e,t.context,!1),DV(e,t.containerInfo)}function _X(e,t,n,r,i){return ry(),EV(i),t.flags|=256,Bo(e,t,n,r),t.child}var BN={dehydrated:null,treeContext:null,retryLane:0};function VN(e){return{baseLanes:e,cachePool:null,transitions:null}}function sye(e,t,n){var r=t.pendingProps,i=ui.current,a=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Or(ui,i&1),e===null)return ON(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=OD(o,r,0,null),e=lg(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=VN(n),t.memoizedState=BN,e):LV(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return gHe(e,t,o,r,s,i,n);if(a){a=r.fallback,o=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=fp(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=fp(s,a):(a=lg(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?VN(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=BN,r}return a=e.child,e=a.sibling,r=fp(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function LV(e,t){return t=OD({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function vE(e,t,n,r){return r!==null&&EV(r),iy(t,e.child,null,n),e=LV(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function gHe(e,t,n,r,i,a,o){if(n)return t.flags&256?(t.flags&=-257,r=GR(Error(Oe(422))),vE(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=OD({mode:"visible",children:r.children},i,0,null),a=lg(a,i,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&iy(t,e.child,null,o),t.child.memoizedState=VN(o),t.memoizedState=BN,a);if(!(t.mode&1))return vE(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,a=Error(Oe(419)),r=GR(a,r,void 0),vE(e,t,o,r)}if(s=(o&e.childLanes)!==0,ws||s){if(r=Ra,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,bf(e,i),Lu(r,e,i,-1))}return WV(),r=GR(Error(Oe(421))),vE(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=jHe.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Ks=lp(i.nextSibling),Js=t,ai=!0,Au=null,e!==null&&(Il[Dl++]=Zd,Il[Dl++]=Xd,Il[Dl++]=Og,Zd=e.id,Xd=e.overflow,Og=t),t=LV(t,r.children),t.flags|=4096,t)}function EX(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),MN(e.return,t,n)}function YR(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function lye(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Bo(e,t,r.children,n),r=ui.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&EX(e,n,t);else if(e.tag===19)EX(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Or(ui,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&aA(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),YR(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&aA(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}YR(t,!0,n,null,a);break;case"together":YR(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function S5(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xf(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Rg|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Oe(153));if(t.child!==null){for(e=t.child,n=fp(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=fp(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function vHe(e,t,n){switch(t.tag){case 3:oye(t),ry();break;case 5:M1e(t);break;case 1:_s(t.type)&&QT(t);break;case 4:DV(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Or(nA,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Or(ui,ui.current&1),t.flags|=128,null):n&t.child.childLanes?sye(e,t,n):(Or(ui,ui.current&1),e=xf(e,t,n),e!==null?e.sibling:null);Or(ui,ui.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return lye(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Or(ui,ui.current),r)break;return null;case 22:case 23:return t.lanes=0,iye(e,t,n)}return xf(e,t,n)}var uye,zN,cye,dye;uye=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};zN=function(){};cye=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ym(Lc.current);var a=null;switch(n){case"input":i=cN(e,i),r=cN(e,r),a=[];break;case"select":i=gi({},i,{value:void 0}),r=gi({},r,{value:void 0}),a=[];break;case"textarea":i=hN(e,i),r=hN(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=XT)}mN(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(LC.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(s=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(LC.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Vr("scroll",e),a||s===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};dye=function(e,t,n,r){n!==r&&(t.flags|=4)};function Cx(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function lo(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function yHe(e,t,n){var r=t.pendingProps;switch(_V(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lo(t),null;case 1:return _s(t.type)&&JT(),lo(t),null;case 3:return r=t.stateNode,ay(),Gr(Ss),Gr(jo),OV(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(mE(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Au!==null&&(ZN(Au),Au=null))),zN(e,t),lo(t),null;case 5:$V(t);var i=Ym(XC.current);if(n=t.type,e!==null&&t.stateNode!=null)cye(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Oe(166));return lo(t),null}if(e=Ym(Lc.current),mE(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Ec]=t,r[KC]=a,e=(t.mode&1)!==0,n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<ww.length;i++)Vr(ww[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":MZ(r,a),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Vr("invalid",r);break;case"textarea":PZ(r,a),Vr("invalid",r)}mN(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?r.textContent!==s&&(a.suppressHydrationWarning!==!0&&pE(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&pE(r.textContent,s,e),i=["children",""+s]):LC.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Vr("scroll",r)}switch(n){case"input":oE(r),RZ(r,a,!0);break;case"textarea":oE(r),FZ(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=XT)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Lve(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Ec]=t,e[KC]=r,uye(e,t,!1,!1),t.stateNode=e;e:{switch(o=gN(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<ww.length;i++)Vr(ww[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":MZ(e,r),i=cN(e,r),Vr("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=gi({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":PZ(e,r),i=hN(e,r),Vr("invalid",e);break;default:i=r}mN(n,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?zve(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Bve(e,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&BC(e,l):typeof l=="number"&&BC(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(LC.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Vr("scroll",e):l!=null&&uV(e,a,l,o))}switch(n){case"input":oE(e),RZ(e,r,!1);break;case"textarea":oE(e),FZ(e);break;case"option":r.value!=null&&e.setAttribute("value",""+wp(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?y1(e,!!r.multiple,a,!1):r.defaultValue!=null&&y1(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=XT)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return lo(t),null;case 6:if(e&&t.stateNode!=null)dye(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Oe(166));if(n=Ym(XC.current),Ym(Lc.current),mE(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ec]=t,(a=r.nodeValue!==n)&&(e=Js,e!==null))switch(e.tag){case 3:pE(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&pE(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ec]=t,t.stateNode=r}return lo(t),null;case 13:if(Gr(ui),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ai&&Ks!==null&&t.mode&1&&!(t.flags&128))j1e(),ry(),t.flags|=98560,a=!1;else if(a=mE(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(Oe(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Oe(317));a[Ec]=t}else ry(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;lo(t),a=!1}else Au!==null&&(ZN(Au),Au=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ui.current&1?ba===0&&(ba=3):WV())),t.updateQueue!==null&&(t.flags|=4),lo(t),null);case 4:return ay(),zN(e,t),e===null&&YC(t.stateNode.containerInfo),lo(t),null;case 10:return AV(t.type._context),lo(t),null;case 17:return _s(t.type)&&JT(),lo(t),null;case 19:if(Gr(ui),a=t.memoizedState,a===null)return lo(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)Cx(a,!1);else{if(ba!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=aA(e),o!==null){for(t.flags|=128,Cx(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Or(ui,ui.current&1|2),t.child}e=e.sibling}a.tail!==null&&Pi()>sy&&(t.flags|=128,r=!0,Cx(a,!1),t.lanes=4194304)}else{if(!r)if(e=aA(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Cx(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ai)return lo(t),null}else 2*Pi()-a.renderingStartTime>sy&&n!==1073741824&&(t.flags|=128,r=!0,Cx(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Pi(),t.sibling=null,n=ui.current,Or(ui,r?n&1|2:n&1),t):(lo(t),null);case 22:case 23:return HV(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Vs&1073741824&&(lo(t),t.subtreeFlags&6&&(t.flags|=8192)):lo(t),null;case 24:return null;case 25:return null}throw Error(Oe(156,t.tag))}function bHe(e,t){switch(_V(t),t.tag){case 1:return _s(t.type)&&JT(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ay(),Gr(Ss),Gr(jo),OV(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $V(t),null;case 13:if(Gr(ui),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Oe(340));ry()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Gr(ui),null;case 4:return ay(),null;case 10:return AV(t.type._context),null;case 22:case 23:return HV(),null;case 24:return null;default:return null}}var yE=!1,So=!1,xHe=typeof WeakSet=="function"?WeakSet:Set,it=null;function Qv(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Si(e,t,r)}else n.current=null}function UN(e,t,n){try{n()}catch(r){Si(e,t,r)}}var kX=!1;function wHe(e,t){if(kN=qT,e=g1e(),CV(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,c=0,d=0,h=e,p=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(s=o+i),h!==a||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===e)break t;if(p===n&&++c===i&&(s=o),p===a&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(TN={focusedElem:e,selectionRange:n},qT=!1,it=t;it!==null;)if(t=it,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,it=e;else for(;it!==null;){t=it;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,b=g.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:ku(t.type,v),b);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Oe(163))}}catch(C){Si(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,it=e;break}it=t.return}return g=kX,kX=!1,g}function Qw(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&UN(t,n,a)}i=i.next}while(i!==r)}}function DD(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function HN(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function fye(e){var t=e.alternate;t!==null&&(e.alternate=null,fye(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ec],delete t[KC],delete t[IN],delete t[rHe],delete t[iHe])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hye(e){return e.tag===5||e.tag===3||e.tag===4}function TX(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hye(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function WN(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=XT));else if(r!==4&&(e=e.child,e!==null))for(WN(e,t,n),e=e.sibling;e!==null;)WN(e,t,n),e=e.sibling}function GN(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(GN(e,t,n),e=e.sibling;e!==null;)GN(e,t,n),e=e.sibling}var La=null,Tu=!1;function ah(e,t,n){for(n=n.child;n!==null;)pye(e,t,n),n=n.sibling}function pye(e,t,n){if(Nc&&typeof Nc.onCommitFiberUnmount=="function")try{Nc.onCommitFiberUnmount(SD,n)}catch{}switch(n.tag){case 5:So||Qv(n,t);case 6:var r=La,i=Tu;La=null,ah(e,t,n),La=r,Tu=i,La!==null&&(Tu?(e=La,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):La.removeChild(n.stateNode));break;case 18:La!==null&&(Tu?(e=La,n=n.stateNode,e.nodeType===8?BR(e.parentNode,n):e.nodeType===1&&BR(e,n),HC(e)):BR(La,n.stateNode));break;case 4:r=La,i=Tu,La=n.stateNode.containerInfo,Tu=!0,ah(e,t,n),La=r,Tu=i;break;case 0:case 11:case 14:case 15:if(!So&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&UN(n,t,o),i=i.next}while(i!==r)}ah(e,t,n);break;case 1:if(!So&&(Qv(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Si(n,t,s)}ah(e,t,n);break;case 21:ah(e,t,n);break;case 22:n.mode&1?(So=(r=So)||n.memoizedState!==null,ah(e,t,n),So=r):ah(e,t,n);break;default:ah(e,t,n)}}function AX(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new xHe),t.forEach(function(r){var i=IHe.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function xu(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:La=s.stateNode,Tu=!1;break e;case 3:La=s.stateNode.containerInfo,Tu=!0;break e;case 4:La=s.stateNode.containerInfo,Tu=!0;break e}s=s.return}if(La===null)throw Error(Oe(160));pye(a,o,i),La=null,Tu=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Si(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)mye(t,e),t=t.sibling}function mye(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xu(t,e),oc(e),r&4){try{Qw(3,e,e.return),DD(3,e)}catch(v){Si(e,e.return,v)}try{Qw(5,e,e.return)}catch(v){Si(e,e.return,v)}}break;case 1:xu(t,e),oc(e),r&512&&n!==null&&Qv(n,n.return);break;case 5:if(xu(t,e),oc(e),r&512&&n!==null&&Qv(n,n.return),e.flags&32){var i=e.stateNode;try{BC(i,"")}catch(v){Si(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&Fve(i,a),gN(s,o);var c=gN(s,a);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?zve(i,h):d==="dangerouslySetInnerHTML"?Bve(i,h):d==="children"?BC(i,h):uV(i,d,h,c)}switch(s){case"input":dN(i,a);break;case"textarea":Nve(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?y1(i,!!a.multiple,m,!1):p!==!!a.multiple&&(a.defaultValue!=null?y1(i,!!a.multiple,a.defaultValue,!0):y1(i,!!a.multiple,a.multiple?[]:"",!1))}i[KC]=a}catch(v){Si(e,e.return,v)}}break;case 6:if(xu(t,e),oc(e),r&4){if(e.stateNode===null)throw Error(Oe(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(v){Si(e,e.return,v)}}break;case 3:if(xu(t,e),oc(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{HC(t.containerInfo)}catch(v){Si(e,e.return,v)}break;case 4:xu(t,e),oc(e);break;case 13:xu(t,e),oc(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(zV=Pi())),r&4&&AX(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(So=(c=So)||d,xu(t,e),So=c):xu(t,e),oc(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(it=e,d=e.child;d!==null;){for(h=it=d;it!==null;){switch(p=it,m=p.child,p.tag){case 0:case 11:case 14:case 15:Qw(4,p,p.return);break;case 1:Qv(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){Si(r,n,v)}}break;case 5:Qv(p,p.return);break;case 22:if(p.memoizedState!==null){IX(h);continue}}m!==null?(m.return=p,it=m):IX(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=Vve("display",o))}catch(v){Si(e,e.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(v){Si(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:xu(t,e),oc(e),r&4&&AX(e);break;case 21:break;default:xu(t,e),oc(e)}}function oc(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(hye(n)){var r=n;break e}n=n.return}throw Error(Oe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(BC(i,""),r.flags&=-33);var a=TX(e);GN(e,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=TX(e);WN(e,s,o);break;default:throw Error(Oe(161))}}catch(l){Si(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function CHe(e,t,n){it=e,gye(e)}function gye(e,t,n){for(var r=(e.mode&1)!==0;it!==null;){var i=it,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||yE;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||So;s=yE;var c=So;if(yE=o,(So=l)&&!c)for(it=i;it!==null;)o=it,l=o.child,o.tag===22&&o.memoizedState!==null?DX(i):l!==null?(l.return=o,it=l):DX(i);for(;a!==null;)it=a,gye(a),a=a.sibling;it=i,yE=s,So=c}jX(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,it=a):jX(e)}}function jX(e){for(;it!==null;){var t=it;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:So||DD(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!So)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ku(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&hX(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}hX(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&HC(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Oe(163))}So||t.flags&512&&HN(t)}catch(p){Si(t,t.return,p)}}if(t===e){it=null;break}if(n=t.sibling,n!==null){n.return=t.return,it=n;break}it=t.return}}function IX(e){for(;it!==null;){var t=it;if(t===e){it=null;break}var n=t.sibling;if(n!==null){n.return=t.return,it=n;break}it=t.return}}function DX(e){for(;it!==null;){var t=it;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{DD(4,t)}catch(l){Si(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Si(t,i,l)}}var a=t.return;try{HN(t)}catch(l){Si(t,a,l)}break;case 5:var o=t.return;try{HN(t)}catch(l){Si(t,o,l)}}}catch(l){Si(t,t.return,l)}if(t===e){it=null;break}var s=t.sibling;if(s!==null){s.return=t.return,it=s;break}it=t.return}}var SHe=Math.ceil,lA=zf.ReactCurrentDispatcher,BV=zf.ReactCurrentOwner,Wl=zf.ReactCurrentBatchConfig,On=0,Ra=null,Qi=null,Ya=0,Vs=0,e1=zp(0),ba=0,tS=null,Rg=0,$D=0,VV=0,eC=null,gs=null,zV=0,sy=1/0,Fd=null,uA=!1,YN=null,cp=null,bE=!1,Bh=null,cA=0,tC=0,qN=null,_5=-1,E5=0;function Ho(){return On&6?Pi():_5!==-1?_5:_5=Pi()}function dp(e){return e.mode&1?On&2&&Ya!==0?Ya&-Ya:oHe.transition!==null?(E5===0&&(E5=e1e()),E5):(e=tr,e!==0||(e=window.event,e=e===void 0?16:s1e(e.type)),e):1}function Lu(e,t,n,r){if(50<tC)throw tC=0,qN=null,Error(Oe(185));v2(e,n,r),(!(On&2)||e!==Ra)&&(e===Ra&&(!(On&2)&&($D|=n),ba===4&&Ph(e,Ya)),Es(e,r),n===1&&On===0&&!(t.mode&1)&&(sy=Pi()+500,AD&&Up()))}function Es(e,t){var n=e.callbackNode;oUe(e,t);var r=YT(e,e===Ra?Ya:0);if(r===0)n!==null&&BZ(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&BZ(n),t===1)e.tag===0?aHe($X.bind(null,e)):k1e($X.bind(null,e)),tHe(function(){!(On&6)&&Up()}),n=null;else{switch(t1e(r)){case 1:n=pV;break;case 4:n=Jve;break;case 16:n=GT;break;case 536870912:n=Qve;break;default:n=GT}n=_ye(n,vye.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function vye(e,t){if(_5=-1,E5=0,On&6)throw Error(Oe(327));var n=e.callbackNode;if(S1()&&e.callbackNode!==n)return null;var r=YT(e,e===Ra?Ya:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=dA(e,r);else{t=r;var i=On;On|=2;var a=bye();(Ra!==e||Ya!==t)&&(Fd=null,sy=Pi()+500,sg(e,t));do try{kHe();break}catch(s){yye(e,s)}while(1);TV(),lA.current=a,On=i,Qi!==null?t=0:(Ra=null,Ya=0,t=ba)}if(t!==0){if(t===2&&(i=wN(e),i!==0&&(r=i,t=KN(e,i))),t===1)throw n=tS,sg(e,0),Ph(e,r),Es(e,Pi()),n;if(t===6)Ph(e,r);else{if(i=e.current.alternate,!(r&30)&&!_He(i)&&(t=dA(e,r),t===2&&(a=wN(e),a!==0&&(r=a,t=KN(e,a))),t===1))throw n=tS,sg(e,0),Ph(e,r),Es(e,Pi()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Oe(345));case 2:Cm(e,gs,Fd);break;case 3:if(Ph(e,r),(r&130023424)===r&&(t=zV+500-Pi(),10<t)){if(YT(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ho(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=jN(Cm.bind(null,e,gs,Fd),t);break}Cm(e,gs,Fd);break;case 4:if(Ph(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Nu(r);a=1<<o,o=t[o],o>i&&(i=o),r&=~a}if(r=i,r=Pi()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*SHe(r/1960))-r,10<r){e.timeoutHandle=jN(Cm.bind(null,e,gs,Fd),r);break}Cm(e,gs,Fd);break;case 5:Cm(e,gs,Fd);break;default:throw Error(Oe(329))}}}return Es(e,Pi()),e.callbackNode===n?vye.bind(null,e):null}function KN(e,t){var n=eC;return e.current.memoizedState.isDehydrated&&(sg(e,t).flags|=256),e=dA(e,t),e!==2&&(t=gs,gs=n,t!==null&&ZN(t)),e}function ZN(e){gs===null?gs=e:gs.push.apply(gs,e)}function _He(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Yu(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ph(e,t){for(t&=~VV,t&=~$D,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Nu(t),r=1<<n;e[n]=-1,t&=~r}}function $X(e){if(On&6)throw Error(Oe(327));S1();var t=YT(e,0);if(!(t&1))return Es(e,Pi()),null;var n=dA(e,t);if(e.tag!==0&&n===2){var r=wN(e);r!==0&&(t=r,n=KN(e,r))}if(n===1)throw n=tS,sg(e,0),Ph(e,t),Es(e,Pi()),n;if(n===6)throw Error(Oe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cm(e,gs,Fd),Es(e,Pi()),null}function UV(e,t){var n=On;On|=1;try{return e(t)}finally{On=n,On===0&&(sy=Pi()+500,AD&&Up())}}function Pg(e){Bh!==null&&Bh.tag===0&&!(On&6)&&S1();var t=On;On|=1;var n=Wl.transition,r=tr;try{if(Wl.transition=null,tr=1,e)return e()}finally{tr=r,Wl.transition=n,On=t,!(On&6)&&Up()}}function HV(){Vs=e1.current,Gr(e1)}function sg(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,eHe(n)),Qi!==null)for(n=Qi.return;n!==null;){var r=n;switch(_V(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&JT();break;case 3:ay(),Gr(Ss),Gr(jo),OV();break;case 5:$V(r);break;case 4:ay();break;case 13:Gr(ui);break;case 19:Gr(ui);break;case 10:AV(r.type._context);break;case 22:case 23:HV()}n=n.return}if(Ra=e,Qi=e=fp(e.current,null),Ya=Vs=t,ba=0,tS=null,VV=$D=Rg=0,gs=eC=null,Gm!==null){for(t=0;t<Gm.length;t++)if(n=Gm[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}Gm=null}return e}function yye(e,t){do{var n=Qi;try{if(TV(),w5.current=sA,oA){for(var r=mi.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}oA=!1}if(Mg=0,ja=ha=mi=null,Jw=!1,JC=0,BV.current=null,n===null||n.return===null){ba=1,tS=t,Qi=null;break}e:{var a=e,o=n.return,s=n,l=t;if(t=Ya,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=s,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=bX(o);if(m!==null){m.flags&=-257,xX(m,o,s,a,t),m.mode&1&&yX(a,c,t),t=m,l=c;var g=t.updateQueue;if(g===null){var v=new Set;v.add(l),t.updateQueue=v}else g.add(l);break e}else{if(!(t&1)){yX(a,c,t),WV();break e}l=Error(Oe(426))}}else if(ai&&s.mode&1){var b=bX(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),xX(b,o,s,a,t),EV(oy(l,s));break e}}a=l=oy(l,s),ba!==4&&(ba=2),eC===null?eC=[a]:eC.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=tye(a,l,t);fX(a,y);break e;case 1:s=l;var x=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(cp===null||!cp.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var C=nye(a,s,t);fX(a,C);break e}}a=a.return}while(a!==null)}wye(n)}catch(S){t=S,Qi===n&&n!==null&&(Qi=n=n.return);continue}break}while(1)}function bye(){var e=lA.current;return lA.current=sA,e===null?sA:e}function WV(){(ba===0||ba===3||ba===2)&&(ba=4),Ra===null||!(Rg&268435455)&&!($D&268435455)||Ph(Ra,Ya)}function dA(e,t){var n=On;On|=2;var r=bye();(Ra!==e||Ya!==t)&&(Fd=null,sg(e,t));do try{EHe();break}catch(i){yye(e,i)}while(1);if(TV(),On=n,lA.current=r,Qi!==null)throw Error(Oe(261));return Ra=null,Ya=0,ba}function EHe(){for(;Qi!==null;)xye(Qi)}function kHe(){for(;Qi!==null&&!Xze();)xye(Qi)}function xye(e){var t=Sye(e.alternate,e,Vs);e.memoizedProps=e.pendingProps,t===null?wye(e):Qi=t,BV.current=null}function wye(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=bHe(n,t),n!==null){n.flags&=32767,Qi=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ba=6,Qi=null;return}}else if(n=yHe(n,t,Vs),n!==null){Qi=n;return}if(t=t.sibling,t!==null){Qi=t;return}Qi=t=e}while(t!==null);ba===0&&(ba=5)}function Cm(e,t,n){var r=tr,i=Wl.transition;try{Wl.transition=null,tr=1,THe(e,t,n,r)}finally{Wl.transition=i,tr=r}return null}function THe(e,t,n,r){do S1();while(Bh!==null);if(On&6)throw Error(Oe(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Oe(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(sUe(e,a),e===Ra&&(Qi=Ra=null,Ya=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bE||(bE=!0,_ye(GT,function(){return S1(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Wl.transition,Wl.transition=null;var o=tr;tr=1;var s=On;On|=4,BV.current=null,wHe(e,n),mye(n,e),YUe(TN),qT=!!kN,TN=kN=null,e.current=n,CHe(n),Jze(),On=s,tr=o,Wl.transition=a}else e.current=n;if(bE&&(bE=!1,Bh=e,cA=i),a=e.pendingLanes,a===0&&(cp=null),tUe(n.stateNode),Es(e,Pi()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(uA)throw uA=!1,e=YN,YN=null,e;return cA&1&&e.tag!==0&&S1(),a=e.pendingLanes,a&1?e===qN?tC++:(tC=0,qN=e):tC=0,Up(),null}function S1(){if(Bh!==null){var e=t1e(cA),t=Wl.transition,n=tr;try{if(Wl.transition=null,tr=16>e?16:e,Bh===null)var r=!1;else{if(e=Bh,Bh=null,cA=0,On&6)throw Error(Oe(331));var i=On;for(On|=4,it=e.current;it!==null;){var a=it,o=a.child;if(it.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(it=c;it!==null;){var d=it;switch(d.tag){case 0:case 11:case 15:Qw(8,d,a)}var h=d.child;if(h!==null)h.return=d,it=h;else for(;it!==null;){d=it;var p=d.sibling,m=d.return;if(fye(d),d===c){it=null;break}if(p!==null){p.return=m,it=p;break}it=m}}}var g=a.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}it=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,it=o;else e:for(;it!==null;){if(a=it,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Qw(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,it=y;break e}it=a.return}}var x=e.current;for(it=x;it!==null;){o=it;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,it=w;else e:for(o=x;it!==null;){if(s=it,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:DD(9,s)}}catch(S){Si(s,s.return,S)}if(s===o){it=null;break e}var C=s.sibling;if(C!==null){C.return=s.return,it=C;break e}it=s.return}}if(On=i,Up(),Nc&&typeof Nc.onPostCommitFiberRoot=="function")try{Nc.onPostCommitFiberRoot(SD,e)}catch{}r=!0}return r}finally{tr=n,Wl.transition=t}}return!1}function OX(e,t,n){t=oy(n,t),t=tye(e,t,1),e=up(e,t,1),t=Ho(),e!==null&&(v2(e,1,t),Es(e,t))}function Si(e,t,n){if(e.tag===3)OX(e,e,n);else for(;t!==null;){if(t.tag===3){OX(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(cp===null||!cp.has(r))){e=oy(n,e),e=nye(t,e,1),t=up(t,e,1),e=Ho(),t!==null&&(v2(t,1,e),Es(t,e));break}}t=t.return}}function AHe(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ho(),e.pingedLanes|=e.suspendedLanes&n,Ra===e&&(Ya&n)===n&&(ba===4||ba===3&&(Ya&130023424)===Ya&&500>Pi()-zV?sg(e,0):VV|=n),Es(e,t)}function Cye(e,t){t===0&&(e.mode&1?(t=uE,uE<<=1,!(uE&130023424)&&(uE=4194304)):t=1);var n=Ho();e=bf(e,t),e!==null&&(v2(e,t,n),Es(e,n))}function jHe(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Cye(e,n)}function IHe(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Oe(314))}r!==null&&r.delete(t),Cye(e,n)}var Sye;Sye=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ss.current)ws=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ws=!1,vHe(e,t,n);ws=!!(e.flags&131072)}else ws=!1,ai&&t.flags&1048576&&T1e(t,tA,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;S5(e,t),e=t.pendingProps;var i=ny(t,jo.current);C1(t,n),i=RV(null,t,r,e,i,n);var a=PV();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_s(r)?(a=!0,QT(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,IV(t),i.updater=ID,t.stateNode=i,i._reactInternals=t,PN(t,r,e,n),t=LN(null,t,r,!0,a,n)):(t.tag=0,ai&&a&&SV(t),Bo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(S5(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=$He(r),e=ku(r,e),i){case 0:t=NN(null,t,r,e,n);break e;case 1:t=SX(null,t,r,e,n);break e;case 11:t=wX(null,t,r,e,n);break e;case 14:t=CX(null,t,r,ku(r.type,e),n);break e}throw Error(Oe(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ku(r,i),NN(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ku(r,i),SX(e,t,r,i,n);case 3:e:{if(oye(t),e===null)throw Error(Oe(387));r=t.pendingProps,a=t.memoizedState,i=a.element,O1e(e,t),iA(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=oy(Error(Oe(423)),t),t=_X(e,t,r,n,i);break e}else if(r!==i){i=oy(Error(Oe(424)),t),t=_X(e,t,r,n,i);break e}else for(Ks=lp(t.stateNode.containerInfo.firstChild),Js=t,ai=!0,Au=null,n=D1e(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ry(),r===i){t=xf(e,t,n);break e}Bo(e,t,r,n)}t=t.child}return t;case 5:return M1e(t),e===null&&ON(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,AN(r,i)?o=null:a!==null&&AN(r,a)&&(t.flags|=32),aye(e,t),Bo(e,t,o,n),t.child;case 6:return e===null&&ON(t),null;case 13:return sye(e,t,n);case 4:return DV(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=iy(t,null,r,n):Bo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ku(r,i),wX(e,t,r,i,n);case 7:return Bo(e,t,t.pendingProps,n),t.child;case 8:return Bo(e,t,t.pendingProps.children,n),t.child;case 12:return Bo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Or(nA,r._currentValue),r._currentValue=o,a!==null)if(Yu(a.value,o)){if(a.children===i.children&&!Ss.current){t=xf(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=af(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),MN(a.return,n,t),s.lanes|=n;break}l=l.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Oe(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),MN(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Bo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,C1(t,n),i=tu(i),r=r(i),t.flags|=1,Bo(e,t,r,n),t.child;case 14:return r=t.type,i=ku(r,t.pendingProps),i=ku(r.type,i),CX(e,t,r,i,n);case 15:return rye(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ku(r,i),S5(e,t),t.tag=1,_s(r)?(e=!0,QT(t)):e=!1,C1(t,n),eye(t,r,i),PN(t,r,i,n),LN(null,t,r,!0,e,n);case 19:return lye(e,t,n);case 22:return iye(e,t,n)}throw Error(Oe(156,t.tag))};function _ye(e,t){return Xve(e,t)}function DHe(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ll(e,t,n,r){return new DHe(e,t,n,r)}function GV(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $He(e){if(typeof e=="function")return GV(e)?1:0;if(e!=null){if(e=e.$$typeof,e===dV)return 11;if(e===fV)return 14}return 2}function fp(e,t){var n=e.alternate;return n===null?(n=Ll(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function k5(e,t,n,r,i,a){var o=2;if(r=e,typeof e=="function")GV(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Hv:return lg(n.children,i,a,t);case cV:o=8,i|=8;break;case oN:return e=Ll(12,n,t,i|2),e.elementType=oN,e.lanes=a,e;case sN:return e=Ll(13,n,t,i),e.elementType=sN,e.lanes=a,e;case lN:return e=Ll(19,n,t,i),e.elementType=lN,e.lanes=a,e;case Mve:return OD(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $ve:o=10;break e;case Ove:o=9;break e;case dV:o=11;break e;case fV:o=14;break e;case _h:o=16,r=null;break e}throw Error(Oe(130,e==null?e:typeof e,""))}return t=Ll(o,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function lg(e,t,n,r){return e=Ll(7,e,r,t),e.lanes=n,e}function OD(e,t,n,r){return e=Ll(22,e,r,t),e.elementType=Mve,e.lanes=n,e.stateNode={isHidden:!1},e}function qR(e,t,n){return e=Ll(6,e,null,t),e.lanes=n,e}function KR(e,t,n){return t=Ll(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function OHe(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jR(0),this.expirationTimes=jR(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jR(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function YV(e,t,n,r,i,a,o,s,l){return e=new OHe(e,t,n,s,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ll(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},IV(a),e}function MHe(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Uv,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Eye(e){if(!e)return Cp;e=e._reactInternals;e:{if(b0(e)!==e||e.tag!==1)throw Error(Oe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_s(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Oe(171))}if(e.tag===1){var n=e.type;if(_s(n))return E1e(e,n,t)}return t}function kye(e,t,n,r,i,a,o,s,l){return e=YV(n,r,!0,e,i,a,o,s,l),e.context=Eye(null),n=e.current,r=Ho(),i=dp(n),a=af(r,i),a.callback=t??null,up(n,a,i),e.current.lanes=i,v2(e,i,r),Es(e,r),e}function MD(e,t,n,r){var i=t.current,a=Ho(),o=dp(i);return n=Eye(n),t.context===null?t.context=n:t.pendingContext=n,t=af(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=up(i,t,o),e!==null&&(Lu(e,i,o,a),x5(e,i,o)),o}function fA(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function MX(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function qV(e,t){MX(e,t),(e=e.alternate)&&MX(e,t)}function RHe(){return null}var Tye=typeof reportError=="function"?reportError:function(e){console.error(e)};function KV(e){this._internalRoot=e}RD.prototype.render=KV.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Oe(409));MD(e,t,null,null)};RD.prototype.unmount=KV.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Pg(function(){MD(null,e,null,null)}),t[yf]=null}};function RD(e){this._internalRoot=e}RD.prototype.unstable_scheduleHydration=function(e){if(e){var t=i1e();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rh.length&&t!==0&&t<Rh[n].priority;n++);Rh.splice(n,0,e),n===0&&o1e(e)}};function ZV(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function PD(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function RX(){}function PHe(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=fA(o);a.call(c)}}var o=kye(t,r,e,0,null,!1,!1,"",RX);return e._reactRootContainer=o,e[yf]=o.current,YC(e.nodeType===8?e.parentNode:e),Pg(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var c=fA(l);s.call(c)}}var l=YV(e,0,!1,null,null,!1,!1,"",RX);return e._reactRootContainer=l,e[yf]=l.current,YC(e.nodeType===8?e.parentNode:e),Pg(function(){MD(t,l,n,r)}),l}function FD(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=fA(o);s.call(l)}}MD(t,o,e,i)}else o=PHe(n,t,e,i,r);return fA(o)}n1e=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=xw(t.pendingLanes);n!==0&&(mV(t,n|1),Es(t,Pi()),!(On&6)&&(sy=Pi()+500,Up()))}break;case 13:Pg(function(){var r=bf(e,1);if(r!==null){var i=Ho();Lu(r,e,1,i)}}),qV(e,1)}};gV=function(e){if(e.tag===13){var t=bf(e,134217728);if(t!==null){var n=Ho();Lu(t,e,134217728,n)}qV(e,134217728)}};r1e=function(e){if(e.tag===13){var t=dp(e),n=bf(e,t);if(n!==null){var r=Ho();Lu(n,e,t,r)}qV(e,t)}};i1e=function(){return tr};a1e=function(e,t){var n=tr;try{return tr=e,t()}finally{tr=n}};yN=function(e,t,n){switch(t){case"input":if(dN(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=TD(r);if(!i)throw Error(Oe(90));Pve(r),dN(r,i)}}}break;case"textarea":Nve(e,n);break;case"select":t=n.value,t!=null&&y1(e,!!n.multiple,t,!1)}};Wve=UV;Gve=Pg;var FHe={usingClientEntryPoint:!1,Events:[b2,qv,TD,Uve,Hve,UV]},Sx={findFiberByHostInstance:Wm,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NHe={bundleType:Sx.bundleType,version:Sx.version,rendererPackageName:Sx.rendererPackageName,rendererConfig:Sx.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zf.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Kve(e),e===null?null:e.stateNode},findFiberByHostInstance:Sx.findFiberByHostInstance||RHe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xE=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xE.isDisabled&&xE.supportsFiber)try{SD=xE.inject(NHe),Nc=xE}catch{}}dl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FHe;dl.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ZV(t))throw Error(Oe(200));return MHe(e,t,null,n)};dl.createRoot=function(e,t){if(!ZV(e))throw Error(Oe(299));var n=!1,r="",i=Tye;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=YV(e,1,!1,null,null,n,!1,r,i),e[yf]=t.current,YC(e.nodeType===8?e.parentNode:e),new KV(t)};dl.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Oe(188)):(e=Object.keys(e).join(","),Error(Oe(268,e)));return e=Kve(t),e=e===null?null:e.stateNode,e};dl.flushSync=function(e){return Pg(e)};dl.hydrate=function(e,t,n){if(!PD(t))throw Error(Oe(200));return FD(null,e,t,!0,n)};dl.hydrateRoot=function(e,t,n){if(!ZV(e))throw Error(Oe(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=Tye;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=kye(t,null,e,1,n??null,i,!1,a,o),e[yf]=t.current,YC(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new RD(t)};dl.render=function(e,t,n){if(!PD(t))throw Error(Oe(200));return FD(null,e,t,!1,n)};dl.unmountComponentAtNode=function(e){if(!PD(e))throw Error(Oe(40));return e._reactRootContainer?(Pg(function(){FD(null,null,e,!1,function(){e._reactRootContainer=null,e[yf]=null})}),!0):!1};dl.unstable_batchedUpdates=UV;dl.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!PD(n))throw Error(Oe(200));if(e==null||e._reactInternals===void 0)throw Error(Oe(38));return FD(e,t,n,!1,r)};dl.version="18.3.1-next-f1338f8080-20240426";function Aye(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Aye)}catch(e){console.error(e)}}Aye(),Ave.exports=dl;var kc=Ave.exports;const LHe=Pe(kc);var T5=typeof document<"u"?f.useLayoutEffect:f.useEffect;function hA(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!hA(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!hA(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function jye(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function PX(e,t){const n=jye(e);return Math.round(t*n)/n}function FX(e){const t=f.useRef(e);return T5(()=>{t.current=e}),t}function Iye(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:l,open:c}=e,[d,h]=f.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=f.useState(r);hA(p,r)||m(r);const[g,v]=f.useState(null),[b,y]=f.useState(null),x=f.useCallback(F=>{F!==_.current&&(_.current=F,v(F))},[]),w=f.useCallback(F=>{F!==E.current&&(E.current=F,y(F))},[]),C=a||g,S=o||b,_=f.useRef(null),E=f.useRef(null),k=f.useRef(d),T=l!=null,j=FX(l),I=FX(i),A=f.useCallback(()=>{if(!_.current||!E.current)return;const F={placement:t,strategy:n,middleware:p};I.current&&(F.platform=I.current),Mze(_.current,E.current,F).then(P=>{const V={...P,isPositioned:!0};$.current&&!hA(k.current,V)&&(k.current=V,kc.flushSync(()=>{h(V)}))})},[p,t,n,I]);T5(()=>{c===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,h(F=>({...F,isPositioned:!1})))},[c]);const $=f.useRef(!1);T5(()=>($.current=!0,()=>{$.current=!1}),[]),T5(()=>{if(C&&(_.current=C),S&&(E.current=S),C&&S){if(j.current)return j.current(C,S,A);A()}},[C,S,A,j,T]);const D=f.useMemo(()=>({reference:_,floating:E,setReference:x,setFloating:w}),[x,w]),M=f.useMemo(()=>({reference:C,floating:S}),[C,S]),O=f.useMemo(()=>{const F={position:n,left:0,top:0};if(!M.floating)return F;const P=PX(M.floating,d.x),V=PX(M.floating,d.y);return s?{...F,transform:"translate("+P+"px, "+V+"px)",...jye(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:P,top:V}},[n,s,M.floating,d.x,d.y]);return f.useMemo(()=>({...d,update:A,refs:D,elements:M,floatingStyles:O}),[d,A,D,M,O])}const BHe=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?IZ({element:r.current,padding:i}).fn(n):{}:r?IZ({element:r,padding:i}).fn(n):{}}}},Dye=(e,t)=>({...Ize(e),options:[e,t]}),$ye=(e,t)=>({...Dze(e),options:[e,t]}),Oye=(e,t)=>({...$ze(e),options:[e,t]}),VHe=(e,t)=>({...Oze(e),options:[e,t]}),Mye=(e,t)=>({...BHe(e),options:[e,t]}),Rye=f.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),ND=f.createContext({}),LD=f.createContext(null),BD=typeof document<"u",XV=BD?f.useLayoutEffect:f.useEffect,Pye=f.createContext({strict:!1}),JV=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),zHe="framerAppearId",Fye="data-"+JV(zHe),Nye={skipAnimations:!1,useManualTiming:!1};class NX{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function UHe(e){let t=new NX,n=new NX,r=0,i=!1,a=!1;const o=new WeakSet,s={schedule:(l,c=!1,d=!1)=>{const h=d&&i,p=h?t:n;return c&&o.add(l),p.add(l)&&h&&i&&(r=t.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){a=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let c=0;c<r;c++){const d=t.order[c];o.has(d)&&(s.schedule(d),e()),d(l)}i=!1,a&&(a=!1,s.process(l))}};return s}const wE=["prepare","read","update","preRender","render","postRender"],HHe=40;function Lye(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=wE.reduce((h,p)=>(h[p]=UHe(()=>n=!0),h),{}),o=h=>{a[h].process(i)},s=()=>{const h=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(h-i.timestamp,HHe),1),i.timestamp=h,i.isProcessing=!0,wE.forEach(o),i.isProcessing=!1,n&&t&&(r=!1,e(s))},l=()=>{n=!0,r=!0,i.isProcessing||e(s)};return{schedule:wE.reduce((h,p)=>{const m=a[p];return h[p]=(g,v=!1,b=!1)=>(n||l(),m.schedule(g,v,b)),h},{}),cancel:h=>wE.forEach(p=>a[p].cancel(h)),state:i,steps:a}}const{schedule:QV,cancel:NWn}=Lye(queueMicrotask,!1);function WHe(e,t,n,r){const{visualElement:i}=f.useContext(ND),a=f.useContext(Pye),o=f.useContext(LD),s=f.useContext(Rye).reducedMotion,l=f.useRef();r=r||a.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:s}));const c=l.current;f.useInsertionEffect(()=>{c&&c.update(n,o)});const d=f.useRef(!!(n[Fye]&&!window.HandoffComplete));return XV(()=>{c&&(QV.postRender(c.render),d.current&&c.animationState&&c.animationState.animateChanges())}),f.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function t1(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function GHe(e,t,n){return f.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):t1(n)&&(n.current=r))},[t])}function nS(e){return typeof e=="string"||Array.isArray(e)}function VD(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const ez=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],tz=["initial",...ez];function zD(e){return VD(e.animate)||tz.some(t=>nS(e[t]))}function Bye(e){return!!(zD(e)||e.variants)}function YHe(e,t){if(zD(e)){const{initial:n,animate:r}=e;return{initial:n===!1||nS(n)?n:void 0,animate:nS(r)?r:void 0}}return e.inherit!==!1?t:{}}function qHe(e){const{initial:t,animate:n}=YHe(e,f.useContext(ND));return f.useMemo(()=>({initial:t,animate:n}),[LX(t),LX(n)])}function LX(e){return Array.isArray(e)?e.join(" "):e}const BX={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},rS={};for(const e in BX)rS[e]={isEnabled:t=>BX[e].some(n=>!!t[n])};function KHe(e){for(const t in e)rS[t]={...rS[t],...e[t]}}const nz=f.createContext({}),Vye=f.createContext({}),ZHe=Symbol.for("motionComponentSymbol");function XHe({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&KHe(e);function a(s,l){let c;const d={...f.useContext(Rye),...s,layoutId:JHe(s)},{isStatic:h}=d,p=qHe(s),m=r(s,h);if(!h&&BD){p.visualElement=WHe(i,m,d,t);const g=f.useContext(Vye),v=f.useContext(Pye).strict;p.visualElement&&(c=p.visualElement.loadFeatures(d,v,e,g))}return f.createElement(ND.Provider,{value:p},c&&p.visualElement?f.createElement(c,{visualElement:p.visualElement,...d}):null,n(i,s,GHe(m,p.visualElement,l),m,h,p.visualElement))}const o=f.forwardRef(a);return o[ZHe]=i,o}function JHe({layoutId:e}){const t=f.useContext(nz).id;return t&&e!==void 0?t+"-"+e:e}function QHe(e){function t(r,i={}){return XHe(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const eWe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rz(e){return typeof e!="string"||e.includes("-")?!1:!!(eWe.indexOf(e)>-1||/[A-Z]/.test(e))}const pA={};function tWe(e){Object.assign(pA,e)}const w2=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],x0=new Set(w2);function zye(e,{layout:t,layoutId:n}){return x0.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!pA[e]||e==="opacity")}const As=e=>!!(e&&e.getVelocity),nWe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},rWe=w2.length;function iWe(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let a="";for(let o=0;o<rWe;o++){const s=w2[o];if(e[s]!==void 0){const l=nWe[s]||s;a+=`${l}(${e[s]}) `}}return t&&!e.z&&(a+="translateZ(0)"),a=a.trim(),i?a=i(e,r?"":a):n&&r&&(a="none"),a}const Uye=e=>t=>typeof t=="string"&&t.startsWith(e),Hye=Uye("--"),aWe=Uye("var(--"),mA=e=>aWe(e)?oWe.test(e.split("/*")[0].trim()):!1,oWe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)$/i,sWe=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Sp=(e,t,n)=>n>t?t:n<e?e:n,nb={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},nC={...nb,transform:e=>Sp(0,1,e)},CE={...nb,default:1},rC=e=>Math.round(e*1e5)/1e5,iz=/(-)?([\d]*\.?[\d])+/g,lWe=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,uWe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function C2(e){return typeof e=="string"}const S2=e=>({test:t=>C2(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),gh=S2("deg"),Bc=S2("%"),Et=S2("px"),cWe=S2("vh"),dWe=S2("vw"),VX={...Bc,parse:e=>Bc.parse(e)/100,transform:e=>Bc.transform(e*100)},zX={...nb,transform:Math.round},Wye={borderWidth:Et,borderTopWidth:Et,borderRightWidth:Et,borderBottomWidth:Et,borderLeftWidth:Et,borderRadius:Et,radius:Et,borderTopLeftRadius:Et,borderTopRightRadius:Et,borderBottomRightRadius:Et,borderBottomLeftRadius:Et,width:Et,maxWidth:Et,height:Et,maxHeight:Et,size:Et,top:Et,right:Et,bottom:Et,left:Et,padding:Et,paddingTop:Et,paddingRight:Et,paddingBottom:Et,paddingLeft:Et,margin:Et,marginTop:Et,marginRight:Et,marginBottom:Et,marginLeft:Et,rotate:gh,rotateX:gh,rotateY:gh,rotateZ:gh,scale:CE,scaleX:CE,scaleY:CE,scaleZ:CE,skew:gh,skewX:gh,skewY:gh,distance:Et,translateX:Et,translateY:Et,translateZ:Et,x:Et,y:Et,z:Et,perspective:Et,transformPerspective:Et,opacity:nC,originX:VX,originY:VX,originZ:Et,zIndex:zX,fillOpacity:nC,strokeOpacity:nC,numOctaves:zX};function az(e,t,n,r){const{style:i,vars:a,transform:o,transformOrigin:s}=e;let l=!1,c=!1,d=!0;for(const h in t){const p=t[h];if(Hye(h)){a[h]=p;continue}const m=Wye[h],g=sWe(p,m);if(x0.has(h)){if(l=!0,o[h]=g,!d)continue;p!==(m.default||0)&&(d=!1)}else h.startsWith("origin")?(c=!0,s[h]=g):i[h]=g}if(t.transform||(l||r?i.transform=iWe(e.transform,n,d,r):i.transform&&(i.transform="none")),c){const{originX:h="50%",originY:p="50%",originZ:m=0}=s;i.transformOrigin=`${h} ${p} ${m}`}}const oz=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Gye(e,t,n){for(const r in t)!As(t[r])&&!zye(r,n)&&(e[r]=t[r])}function fWe({transformTemplate:e},t,n){return f.useMemo(()=>{const r=oz();return az(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function hWe(e,t,n){const r=e.style||{},i={};return Gye(i,r,e),Object.assign(i,fWe(e,t,n)),i}function pWe(e,t,n){const r={},i=hWe(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const mWe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function gA(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||mWe.has(e)}let Yye=e=>!gA(e);function gWe(e){e&&(Yye=t=>t.startsWith("on")?!gA(t):e(t))}try{gWe(require("@emotion/is-prop-valid").default)}catch{}function vWe(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(Yye(i)||n===!0&&gA(i)||!t&&!gA(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function UX(e,t,n){return typeof e=="string"?e:Et.transform(t+n*e)}function yWe(e,t,n){const r=UX(t,e.x,e.width),i=UX(n,e.y,e.height);return`${r} ${i}`}const bWe={offset:"stroke-dashoffset",array:"stroke-dasharray"},xWe={offset:"strokeDashoffset",array:"strokeDasharray"};function wWe(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?bWe:xWe;e[a.offset]=Et.transform(-r);const o=Et.transform(t),s=Et.transform(n);e[a.array]=`${o} ${s}`}function sz(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:a,pathLength:o,pathSpacing:s=1,pathOffset:l=0,...c},d,h,p){if(az(e,c,d,p),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:g,dimensions:v}=e;m.transform&&(v&&(g.transform=m.transform),delete m.transform),v&&(i!==void 0||a!==void 0||g.transform)&&(g.transformOrigin=yWe(v,i!==void 0?i:.5,a!==void 0?a:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&wWe(m,o,s,l,!1)}const qye=()=>({...oz(),attrs:{}}),lz=e=>typeof e=="string"&&e.toLowerCase()==="svg";function CWe(e,t,n,r){const i=f.useMemo(()=>{const a=qye();return sz(a,t,{enableHardwareAcceleration:!1},lz(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};Gye(a,e.style,e),i.style={...a,...i.style}}return i}function SWe(e=!1){return(n,r,i,{latestValues:a},o)=>{const l=(rz(n)?CWe:pWe)(r,a,o,n),c=vWe(r,typeof n=="string",e),d=n!==f.Fragment?{...c,...l,ref:i}:{},{children:h}=r,p=f.useMemo(()=>As(h)?h.get():h,[h]);return f.createElement(n,{...d,children:p})}}function Kye(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const a in n)e.style.setProperty(a,n[a])}const Zye=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Xye(e,t,n,r){Kye(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Zye.has(i)?i:JV(i),t.attrs[i])}function uz(e,t){const{style:n}=e,r={};for(const i in n)(As(n[i])||t.style&&As(t.style[i])||zye(i,e))&&(r[i]=n[i]);return r}function Jye(e,t){const n=uz(e,t);for(const r in e)if(As(e[r])||As(t[r])){const i=w2.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function cz(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function Qye(e){const t=f.useRef(null);return t.current===null&&(t.current=e()),t.current}const vA=e=>Array.isArray(e),_We=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),EWe=e=>vA(e)?e[e.length-1]||0:e;function A5(e){const t=As(e)?e.get():e;return _We(t)?t.toValue():t}function kWe({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,a){const o={latestValues:TWe(r,i,a,e),renderState:t()};return n&&(o.mount=s=>n(r,s,o)),o}const ebe=e=>(t,n)=>{const r=f.useContext(ND),i=f.useContext(LD),a=()=>kWe(e,t,r,i);return n?a():Qye(a)};function TWe(e,t,n,r){const i={},a=r(e,{});for(const p in a)i[p]=A5(a[p]);let{initial:o,animate:s}=e;const l=zD(e),c=Bye(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),s===void 0&&(s=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?s:o;return h&&typeof h!="boolean"&&!VD(h)&&(Array.isArray(h)?h:[h]).forEach(m=>{const g=cz(e,m);if(!g)return;const{transitionEnd:v,transition:b,...y}=g;for(const x in y){let w=y[x];if(Array.isArray(w)){const C=d?w.length-1:0;w=w[C]}w!==null&&(i[x]=w)}for(const x in v)i[x]=v[x]}),i}const Fi=e=>e,{schedule:oi,cancel:wf,state:Ba,steps:ZR}=Lye(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fi,!0),AWe={useVisualState:ebe({scrapeMotionValuesFromProps:Jye,createRenderState:qye,onMount:(e,t,{renderState:n,latestValues:r})=>{oi.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),oi.render(()=>{sz(n,r,{enableHardwareAcceleration:!1},lz(t.tagName),e.transformTemplate),Xye(t,n)})}})},jWe={useVisualState:ebe({scrapeMotionValuesFromProps:uz,createRenderState:oz})};function IWe(e,{forwardMotionProps:t=!1},n,r){return{...rz(e)?AWe:jWe,preloadedFeatures:n,useRender:SWe(t),createVisualElement:r,Component:e}}function Jd(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const tbe=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function UD(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const DWe=e=>t=>tbe(t)&&e(t,UD(t));function of(e,t,n,r){return Jd(e,t,DWe(n),r)}const $We=(e,t)=>n=>t(e(n)),sf=(...e)=>e.reduce($We);function nbe(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const HX=nbe("dragHorizontal"),WX=nbe("dragVertical");function rbe(e){let t=!1;if(e==="y")t=WX();else if(e==="x")t=HX();else{const n=HX(),r=WX();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function ibe(){const e=rbe(!0);return e?(e(),!1):!0}class Hp{constructor(t){this.isMounted=!1,this.node=t}update(){}}function GX(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(a,o)=>{if(a.pointerType==="touch"||ibe())return;const s=e.getProps();e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",t),s[r]&&oi.update(()=>s[r](a,o))};return of(e.current,n,i,{passive:!e.getProps()[r]})}class OWe extends Hp{mount(){this.unmount=sf(GX(this.node,!0),GX(this.node,!1))}unmount(){}}class MWe extends Hp{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=sf(Jd(this.node.current,"focus",()=>this.onFocus()),Jd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const abe=(e,t)=>t?e===t?!0:abe(e,t.parentElement):!1;function XR(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,UD(n))}class RWe extends Hp{constructor(){super(...arguments),this.removeStartListeners=Fi,this.removeEndListeners=Fi,this.removeAccessibleListeners=Fi,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=of(window,"pointerup",(s,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:h}=this.node.getProps();oi.update(()=>{!h&&!abe(this.node.current,s.target)?d&&d(s,l):c&&c(s,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=of(window,"pointercancel",(s,l)=>this.cancelPress(s,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=sf(a,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const o=s=>{s.key!=="Enter"||!this.checkPressEnd()||XR("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&oi.update(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=Jd(this.node.current,"keyup",o),XR("down",(s,l)=>{this.startPress(s,l)})},n=Jd(this.node.current,"keydown",t),r=()=>{this.isPressing&&XR("cancel",(a,o)=>this.cancelPress(a,o))},i=Jd(this.node.current,"blur",r);this.removeAccessibleListeners=sf(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&oi.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!ibe()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&oi.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=of(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Jd(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=sf(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const XN=new WeakMap,JR=new WeakMap,PWe=e=>{const t=XN.get(e.target);t&&t(e)},FWe=e=>{e.forEach(PWe)};function NWe({root:e,...t}){const n=e||document;JR.has(n)||JR.set(n,{});const r=JR.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(FWe,{root:e,...t})),r[i]}function LWe(e,t,n){const r=NWe(t);return XN.set(e,n),r.observe(e),()=>{XN.delete(e),r.unobserve(e)}}const BWe={some:0,all:1};class VWe extends Hp{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:BWe[i]},s=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,a&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),p=c?d:h;p&&p(l)};return LWe(this.node.current,o,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(zWe(t,n))&&this.startObserver()}unmount(){}}function zWe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const UWe={inView:{Feature:VWe},tap:{Feature:RWe},focus:{Feature:MWe},hover:{Feature:OWe}};function obe(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function HWe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function WWe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function HD(e,t,n){const r=e.getProps();return cz(r,t,n!==void 0?n:r.custom,HWe(e),WWe(e))}let GWe=Fi,dz=Fi;const hp=e=>e*1e3,lf=e=>e/1e3,YWe={current:!1},sbe=e=>Array.isArray(e)&&typeof e[0]=="number";function lbe(e){return!!(!e||typeof e=="string"&&ube[e]||sbe(e)||Array.isArray(e)&&e.every(lbe))}const Cw=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,ube={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Cw([0,.65,.55,1]),circOut:Cw([.55,0,1,.45]),backIn:Cw([.31,.01,.66,-.59]),backOut:Cw([.33,1.53,.69,.99])};function cbe(e){if(e)return sbe(e)?Cw(e):Array.isArray(e)?e.map(cbe):ube[e]}function qWe(e,t,n,{delay:r=0,duration:i,repeat:a=0,repeatType:o="loop",ease:s,times:l}={}){const c={[t]:n};l&&(c.offset=l);const d=cbe(s);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}function KWe(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const dbe=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,ZWe=1e-7,XWe=12;function JWe(e,t,n,r,i){let a,o,s=0;do o=t+(n-t)/2,a=dbe(o,r,i)-e,a>0?n=o:t=o;while(Math.abs(a)>ZWe&&++s<XWe);return o}function _2(e,t,n,r){if(e===t&&n===r)return Fi;const i=a=>JWe(a,0,1,e,n);return a=>a===0||a===1?a:dbe(i(a),t,r)}const QWe=_2(.42,0,1,1),eGe=_2(0,0,.58,1),fbe=_2(.42,0,.58,1),tGe=e=>Array.isArray(e)&&typeof e[0]!="number",hbe=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,pbe=e=>t=>1-e(1-t),fz=e=>1-Math.sin(Math.acos(e)),mbe=pbe(fz),nGe=hbe(fz),gbe=_2(.33,1.53,.69,.99),hz=pbe(gbe),rGe=hbe(hz),iGe=e=>(e*=2)<1?.5*hz(e):.5*(2-Math.pow(2,-10*(e-1))),aGe={linear:Fi,easeIn:QWe,easeInOut:fbe,easeOut:eGe,circIn:fz,circInOut:nGe,circOut:mbe,backIn:hz,backInOut:rGe,backOut:gbe,anticipate:iGe},YX=e=>{if(Array.isArray(e)){dz(e.length===4);const[t,n,r,i]=e;return _2(t,n,r,i)}else if(typeof e=="string")return aGe[e];return e},iS=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},ci=(e,t,n)=>e+(t-e)*n;function QR(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function oGe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,o=0;if(!t)i=a=o=n;else{const s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;i=QR(l,s,e+1/3),a=QR(l,s,e),o=QR(l,s,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}const pz=(e,t)=>n=>!!(C2(n)&&uWe.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),vbe=(e,t,n)=>r=>{if(!C2(r))return r;const[i,a,o,s]=r.match(iz);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},sGe=e=>Sp(0,255,e),eP={...nb,transform:e=>Math.round(sGe(e))},qm={test:pz("rgb","red"),parse:vbe("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+eP.transform(e)+", "+eP.transform(t)+", "+eP.transform(n)+", "+rC(nC.transform(r))+")"};function lGe(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const JN={test:pz("#"),parse:lGe,transform:qm.transform},n1={test:pz("hsl","hue"),parse:vbe("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Bc.transform(rC(t))+", "+Bc.transform(rC(n))+", "+rC(nC.transform(r))+")"},tP=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},uGe=[JN,qm,n1],cGe=e=>uGe.find(t=>t.test(e));function qX(e){const t=cGe(e);let n=t.parse(e);return t===n1&&(n=oGe(n)),n}const KX=(e,t)=>{const n=qX(e),r=qX(t),i={...n};return a=>(i.red=tP(n.red,r.red,a),i.green=tP(n.green,r.green,a),i.blue=tP(n.blue,r.blue,a),i.alpha=ci(n.alpha,r.alpha,a),qm.transform(i))},bo={test:e=>qm.test(e)||JN.test(e)||n1.test(e),parse:e=>qm.test(e)?qm.parse(e):n1.test(e)?n1.parse(e):JN.parse(e),transform:e=>C2(e)?e:e.hasOwnProperty("red")?qm.transform(e):n1.transform(e)};function dGe(e){var t,n;return isNaN(e)&&C2(e)&&(((t=e.match(iz))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(lWe))===null||n===void 0?void 0:n.length)||0)>0}const ybe="number",bbe="color",fGe="var",hGe="var(",ZX="${}",XX=/(var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\))|(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))|((-)?([\d]*\.?[\d])+)/gi;function yA(e){const t=e.toString(),n=t.match(XX)||[],r=[],i={color:[],number:[],var:[]},a=[];for(let l=0;l<n.length;l++){const c=n[l];bo.test(c)?(i.color.push(l),a.push(bbe),r.push(bo.parse(c))):c.startsWith(hGe)?(i.var.push(l),a.push(fGe),r.push(c)):(i.number.push(l),a.push(ybe),r.push(parseFloat(c)))}const s=t.replace(XX,ZX).split(ZX);return{values:r,split:s,indexes:i,types:a}}function xbe(e){return yA(e).values}function wbe(e){const{split:t,types:n}=yA(e),r=t.length;return i=>{let a="";for(let o=0;o<r;o++)if(a+=t[o],i[o]!==void 0){const s=n[o];s===ybe?a+=rC(i[o]):s===bbe?a+=bo.transform(i[o]):a+=i[o]}return a}}const pGe=e=>typeof e=="number"?0:e;function mGe(e){const t=xbe(e);return wbe(e)(t.map(pGe))}const _p={test:dGe,parse:xbe,createTransformer:wbe,getAnimatableNone:mGe};function QN(e,t){return n=>n>0?t:e}function gGe(e,t){return n=>ci(e,t,n)}function mz(e){return typeof e=="number"?gGe:typeof e=="string"?mA(e)?QN:bo.test(e)?KX:bGe:Array.isArray(e)?Cbe:typeof e=="object"?bo.test(e)?KX:vGe:QN}function Cbe(e,t){const n=[...e],r=n.length,i=e.map((a,o)=>mz(a)(a,t[o]));return a=>{for(let o=0;o<r;o++)n[o]=i[o](a);return n}}function vGe(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=mz(e[i])(e[i],t[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function yGe(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const o=t.types[a],s=e.indexes[o][i[o]],l=(n=e.values[s])!==null&&n!==void 0?n:0;r[a]=l,i[o]++}return r}const bGe=(e,t)=>{const n=_p.createTransformer(t),r=yA(e),i=yA(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?sf(Cbe(yGe(r,i),i.values),n):QN(e,t)};function Sbe(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ci(e,t,n):mz(e)(e,t)}function xGe(e,t,n){const r=[],i=n||Sbe,a=e.length-1;for(let o=0;o<a;o++){let s=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Fi:t;s=sf(l,s)}r.push(s)}return r}function wGe(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;if(dz(a===t.length),a===1)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=xGe(t,r,i),s=o.length,l=c=>{let d=0;if(s>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const h=iS(e[d],e[d+1],c);return o[d](h)};return n?c=>l(Sp(e[0],e[a-1],c)):l}function CGe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=iS(0,t,r);e.push(ci(n,1,i))}}function SGe(e){const t=[0];return CGe(t,e.length-1),t}function _Ge(e,t){return e.map(n=>n*t)}function EGe(e,t){return e.map(()=>t||fbe).splice(0,e.length-1)}function bA({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=tGe(r)?r.map(YX):YX(r),a={done:!1,value:t[0]},o=_Ge(n&&n.length===t.length?n:SGe(t),e),s=wGe(o,t,{ease:Array.isArray(i)?i:EGe(t,i)});return{calculatedDuration:e,next:l=>(a.value=s(l),a.done=l>=e,a)}}function _be(e,t){return t?e*(1e3/t):0}const kGe=5;function Ebe(e,t,n){const r=Math.max(t-kGe,0);return _be(n-e(r),t-r)}const nP=.001,TGe=.01,JX=10,AGe=.05,jGe=1;function IGe({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,a;GWe(e<=hp(JX));let o=1-t;o=Sp(AGe,jGe,o),e=Sp(TGe,JX,lf(e)),o<1?(i=c=>{const d=c*o,h=d*e,p=d-n,m=eL(c,o),g=Math.exp(-h);return nP-p/m*g},a=c=>{const h=c*o*e,p=h*n+n,m=Math.pow(o,2)*Math.pow(c,2)*e,g=Math.exp(-h),v=eL(Math.pow(c,2),o);return(-i(c)+nP>0?-1:1)*((p-m)*g)/v}):(i=c=>{const d=Math.exp(-c*e),h=(c-n)*e+1;return-nP+d*h},a=c=>{const d=Math.exp(-c*e),h=(n-c)*(e*e);return d*h});const s=5/e,l=$Ge(i,a,s);if(e=hp(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:e}}}const DGe=12;function $Ge(e,t,n){let r=n;for(let i=1;i<DGe;i++)r=r-e(r)/t(r);return r}function eL(e,t){return e*Math.sqrt(1-t*t)}const OGe=["duration","bounce"],MGe=["stiffness","damping","mass"];function QX(e,t){return t.some(n=>e[n]!==void 0)}function RGe(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!QX(e,MGe)&&QX(e,OGe)){const n=IGe(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function kbe({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],a=e[e.length-1],o={done:!1,value:i},{stiffness:s,damping:l,mass:c,duration:d,velocity:h,isResolvedFromDuration:p}=RGe({...r,velocity:-lf(r.velocity||0)}),m=h||0,g=l/(2*Math.sqrt(s*c)),v=a-i,b=lf(Math.sqrt(s/c)),y=Math.abs(v)<5;n||(n=y?.01:2),t||(t=y?.005:.5);let x;if(g<1){const w=eL(b,g);x=C=>{const S=Math.exp(-g*b*C);return a-S*((m+g*b*v)/w*Math.sin(w*C)+v*Math.cos(w*C))}}else if(g===1)x=w=>a-Math.exp(-b*w)*(v+(m+b*v)*w);else{const w=b*Math.sqrt(g*g-1);x=C=>{const S=Math.exp(-g*b*C),_=Math.min(w*C,300);return a-S*((m+g*b*v)*Math.sinh(_)+w*v*Math.cosh(_))/w}}return{calculatedDuration:p&&d||null,next:w=>{const C=x(w);if(p)o.done=w>=d;else{let S=m;w!==0&&(g<1?S=Ebe(x,w,C):S=0);const _=Math.abs(S)<=n,E=Math.abs(a-C)<=t;o.done=_&&E}return o.value=o.done?a:C,o}}}function eJ({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:s,max:l,restDelta:c=.5,restSpeed:d}){const h=e[0],p={done:!1,value:h},m=k=>s!==void 0&&k<s||l!==void 0&&k>l,g=k=>s===void 0?l:l===void 0||Math.abs(s-k)<Math.abs(l-k)?s:l;let v=n*t;const b=h+v,y=o===void 0?b:o(b);y!==b&&(v=y-h);const x=k=>-v*Math.exp(-k/r),w=k=>y+x(k),C=k=>{const T=x(k),j=w(k);p.done=Math.abs(T)<=c,p.value=p.done?y:j};let S,_;const E=k=>{m(p.value)&&(S=k,_=kbe({keyframes:[p.value,g(p.value)],velocity:Ebe(w,k,p.value),damping:i,stiffness:a,restDelta:c,restSpeed:d}))};return E(0),{calculatedDuration:null,next:k=>{let T=!1;return!_&&S===void 0&&(T=!0,C(k),E(k)),S!==void 0&&k>S?_.next(k-S):(!T&&C(k),p)}}}let j5;function PGe(){j5=void 0}const ug={now:()=>(j5===void 0&&ug.set(Ba.isProcessing||Nye.useManualTiming?Ba.timestamp:performance.now()),j5),set:e=>{j5=e,queueMicrotask(PGe)}},FGe=e=>{const t=({timestamp:n})=>e(n);return{start:()=>oi.update(t,!0),stop:()=>wf(t),now:()=>Ba.isProcessing?Ba.timestamp:ug.now()}},tJ=2e4;function nJ(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<tJ;)t+=n,r=e.next(t);return t>=tJ?1/0:t}const NGe={decay:eJ,inertia:eJ,tween:bA,keyframes:bA,spring:kbe},LGe=e=>e/100;function xA({autoplay:e=!0,delay:t=0,driver:n=FGe,keyframes:r,type:i="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:s="loop",onPlay:l,onStop:c,onComplete:d,onUpdate:h,...p}){let m=1,g=!1,v,b;const y=()=>{b=new Promise(W=>{v=W})};y();let x;const w=NGe[i]||bA;let C;w!==bA&&typeof r[0]!="number"&&(C=sf(LGe,Sbe(r[0],r[1])),r=[0,100]);const S=w({...p,keyframes:r});let _;s==="mirror"&&(_=w({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let E="idle",k=null,T=null,j=null;S.calculatedDuration===null&&a&&(S.calculatedDuration=nJ(S));const{calculatedDuration:I}=S;let A=1/0,$=1/0;I!==null&&(A=I+o,$=A*(a+1)-o);let D=0;const M=W=>{if(T===null)return;m>0&&(T=Math.min(T,W)),m<0&&(T=Math.min(W-$/m,T)),k!==null?D=k:D=Math.round(W-T)*m;const G=D-t*(m>=0?1:-1),X=m>=0?G<0:G>$;D=Math.max(G,0),E==="finished"&&k===null&&(D=$);let z=D,q=S;if(a){const Q=Math.min(D,$)/A;let re=Math.floor(Q),ae=Q%1;!ae&&Q>=1&&(ae=1),ae===1&&re--,re=Math.min(re,a+1),!!(re%2)&&(s==="reverse"?(ae=1-ae,o&&(ae-=o/A)):s==="mirror"&&(q=_)),z=Sp(0,1,ae)*A}const Z=X?{done:!1,value:r[0]}:q.next(z);C&&(Z.value=C(Z.value));let{done:K}=Z;!X&&I!==null&&(K=m>=0?D>=$:D<=0);const J=k===null&&(E==="finished"||E==="running"&&K);return h&&h(Z.value),J&&P(),Z},O=()=>{x&&x.stop(),x=void 0},F=()=>{E="idle",O(),v(),y(),T=j=null},P=()=>{E="finished",d&&d(),O(),v()},V=()=>{if(g)return;x||(x=n(M));const W=x.now();l&&l(),k!==null?T=W-k:(!T||E==="finished")&&(T=W),E==="finished"&&y(),j=T,k=null,E="running",x.start()};e&&V();const H={then(W,G){return b.then(W,G)},get time(){return lf(D)},set time(W){W=hp(W),D=W,k!==null||!x||m===0?k=W:T=x.now()-W/m},get duration(){const W=S.calculatedDuration===null?nJ(S):S.calculatedDuration;return lf(W)},get speed(){return m},set speed(W){W===m||!x||(m=W,H.time=lf(D))},get state(){return E},play:V,pause:()=>{E="paused",k=D},stop:()=>{g=!0,E!=="idle"&&(E="idle",c&&c(),F())},cancel:()=>{j!==null&&M(j),F()},complete:()=>{E="finished"},sample:W=>(T=0,M(W))};return H}function BGe(e){let t;return()=>(t===void 0&&(t=e()),t)}const VGe=BGe(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),zGe=new Set(["opacity","clipPath","filter","transform"]),SE=10,UGe=2e4,HGe=(e,t)=>t.type==="spring"||e==="backgroundColor"||!lbe(t.ease);function WGe(e,t,{onUpdate:n,onComplete:r,...i}){if(!(VGe()&&zGe.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,s,l,c=!1;const d=()=>{l=new Promise(w=>{s=w})};d();let{keyframes:h,duration:p=300,ease:m,times:g}=i;if(HGe(t,i)){const w=xA({...i,repeat:0,delay:0});let C={done:!1,value:h[0]};const S=[];let _=0;for(;!C.done&&_<UGe;)C=w.sample(_),S.push(C.value),_+=SE;g=void 0,h=S,p=_-SE,m="linear"}const v=qWe(e.owner.current,t,h,{...i,duration:p,ease:m,times:g}),b=()=>{c=!1,v.cancel()},y=()=>{c=!0,oi.update(b),s(),d()};return v.onfinish=()=>{c||(e.set(KWe(h,i)),r&&r(),y())},{then(w,C){return l.then(w,C)},attachTimeline(w){return v.timeline=w,v.onfinish=null,Fi},get time(){return lf(v.currentTime||0)},set time(w){v.currentTime=hp(w)},get speed(){return v.playbackRate},set speed(w){v.playbackRate=w},get duration(){return lf(p)},play:()=>{o||(v.play(),wf(b))},pause:()=>v.pause(),stop:()=>{if(o=!0,v.playState==="idle")return;const{currentTime:w}=v;if(w){const C=xA({...i,autoplay:!1});e.setWithVelocity(C.sample(w-SE).value,C.sample(w).value,SE)}y()},complete:()=>{c||v.finish()},cancel:y}}function GGe({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Fi,pause:Fi,stop:Fi,then:a=>(a(),Promise.resolve()),cancel:Fi,complete:Fi});return t?xA({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const YGe={type:"spring",stiffness:500,damping:25,restSpeed:10},qGe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),KGe={type:"keyframes",duration:.8},ZGe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},XGe=(e,{keyframes:t})=>t.length>2?KGe:x0.has(e)?e.startsWith("scale")?qGe(t[1]):YGe:ZGe,tL=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(_p.test(t)||t==="0")&&!t.startsWith("url(")),JGe=new Set(["brightness","contrast","saturate","opacity"]);function QGe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(iz)||[];if(!r)return e;const i=n.replace(r,"");let a=JGe.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const eYe=/([a-z-]*)\(.*?\)/g,nL={..._p,getAnimatableNone:e=>{const t=e.match(eYe);return t?t.map(QGe).join(" "):e}},tYe={...Wye,color:bo,backgroundColor:bo,outlineColor:bo,fill:bo,stroke:bo,borderColor:bo,borderTopColor:bo,borderRightColor:bo,borderBottomColor:bo,borderLeftColor:bo,filter:nL,WebkitFilter:nL},gz=e=>tYe[e];function Tbe(e,t){let n=gz(e);return n!==nL&&(n=_p),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Abe=e=>/^0[^.\s]+$/.test(e);function nYe(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||Abe(e)}function rYe(e,t,n,r){const i=tL(t,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const o=r.from!==void 0?r.from:e.get();let s;const l=[];for(let c=0;c<a.length;c++)a[c]===null&&(a[c]=c===0?o:a[c-1]),nYe(a[c])&&l.push(c),typeof a[c]=="string"&&a[c]!=="none"&&a[c]!=="0"&&(s=a[c]);if(i&&l.length&&s)for(let c=0;c<l.length;c++){const d=l[c];a[d]=Tbe(t,s)}return a}function iYe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:s,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function vz(e,t){return e[t]||e.default||e}const yz=(e,t,n,r={})=>i=>{const a=vz(r,e)||{},o=a.delay||r.delay||0;let{elapsed:s=0}=r;s=s-hp(o);const l=rYe(t,e,n,a),c=l[0],d=l[l.length-1],h=tL(e,c),p=tL(e,d);let m={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...a,delay:-s,onUpdate:g=>{t.set(g),a.onUpdate&&a.onUpdate(g)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(iYe(a)||(m={...m,...XGe(e,m)}),m.duration&&(m.duration=hp(m.duration)),m.repeatDelay&&(m.repeatDelay=hp(m.repeatDelay)),!h||!p||YWe.current||a.type===!1||Nye.skipAnimations)return GGe(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const g=WGe(t,e,m);if(g)return g}return xA(m)};function wA(e){return!!(As(e)&&e.add)}const jbe=e=>/^\-?\d*\.?\d+$/.test(e);function bz(e,t){e.indexOf(t)===-1&&e.push(t)}function xz(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class wz{constructor(){this.subscriptions=[]}add(t){return bz(this.subscriptions,t),()=>xz(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const rJ=30,aYe=e=>!isNaN(parseFloat(e));class oYe{constructor(t,n={}){this.version="11.0.8",this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=ug.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.canTrackVelocity=aYe(this.current),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=ug.now()}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new wz);const r=this.events[t].add(n);return t==="change"?()=>{r(),oi.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=ug.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>rJ)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,rJ);return _be(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ly(e,t){return new oYe(e,t)}const Ibe=e=>t=>t.test(e),sYe={test:e=>e==="auto",parse:e=>e},Dbe=[nb,Et,Bc,gh,dWe,cWe,sYe],_x=e=>Dbe.find(Ibe(e)),lYe=[...Dbe,bo,_p],uYe=e=>lYe.find(Ibe(e));function cYe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ly(n))}function dYe(e,t){const n=HD(e,t);let{transitionEnd:r={},transition:i={},...a}=n?e.makeTargetAnimatable(n,!1):{};a={...a,...r};for(const o in a){const s=EWe(a[o]);cYe(e,o,s)}}function fYe(e,t,n){var r,i;const a=Object.keys(t).filter(s=>!e.hasValue(s)),o=a.length;if(o)for(let s=0;s<o;s++){const l=a[s],c=t[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(i=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&i!==void 0?i:t[l]),d!=null&&(typeof d=="string"&&(jbe(d)||Abe(d))?d=parseFloat(d):!uYe(d)&&_p.test(c)&&(d=Tbe(l,c)),e.addValue(l,ly(d,{owner:e})),n[l]===void 0&&(n[l]=d),d!==null&&e.setBaseTarget(l,d))}}function hYe(e,t){return t?(t[e]||t.default||t).from:void 0}function pYe(e,t,n){const r={};for(const i in e){const a=hYe(i,t);if(a!==void 0)r[i]=a;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function mYe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function gYe(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function $be(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...s}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(a=r);const c=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const h in s){const p=e.getValue(h),m=s[h];if(!p||m===void 0||d&&mYe(d,h))continue;const g={delay:n,elapsed:0,...vz(a||{},h)};if(window.HandoffAppearAnimations){const y=e.getProps()[Fye];if(y){const x=window.HandoffAppearAnimations(y,h,p,oi);x!==null&&(g.elapsed=x,g.isHandoff=!0)}}let v=!g.isHandoff&&!gYe(p,m);if(g.type==="spring"&&(p.getVelocity()||g.velocity)&&(v=!1),p.animation&&(v=!1),v)continue;p.start(yz(h,p,m,e.shouldReduceMotion&&x0.has(h)?{type:!1}:g));const b=p.animation;wA(l)&&(l.add(h),b.then(()=>l.remove(h))),c.push(b)}return o&&Promise.all(c).then(()=>{o&&dYe(e,o)}),c}function rL(e,t,n={}){const r=HD(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all($be(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:h}=i;return vYe(e,t,c+l,d,h,n)}:()=>Promise.resolve(),{when:s}=i;if(s){const[l,c]=s==="beforeChildren"?[a,o]:[o,a];return l().then(()=>c())}else return Promise.all([a(),o(n.delay)])}function vYe(e,t,n=0,r=0,i=1,a){const o=[],s=(e.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>s-c*r;return Array.from(e.variantChildren).sort(yYe).forEach((c,d)=>{c.notify("AnimationStart",t),o.push(rL(c,t,{...a,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(o)}function yYe(e,t){return e.sortNodePosition(t)}function bYe(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>rL(e,a,n));r=Promise.all(i)}else if(typeof t=="string")r=rL(e,t,n);else{const i=typeof t=="function"?HD(e,t,n.custom):t;r=Promise.all($be(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const xYe=[...ez].reverse(),wYe=ez.length;function CYe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>bYe(e,n,r)))}function SYe(e){let t=CYe(e);const n=EYe();let r=!0;const i=(l,c)=>{const d=HD(e,c);if(d){const{transition:h,transitionEnd:p,...m}=d;l={...l,...m,...p}}return l};function a(l){t=l(e)}function o(l,c){const d=e.getProps(),h=e.getVariantContext(!0)||{},p=[],m=new Set;let g={},v=1/0;for(let y=0;y<wYe;y++){const x=xYe[y],w=n[x],C=d[x]!==void 0?d[x]:h[x],S=nS(C),_=x===c?w.isActive:null;_===!1&&(v=y);let E=C===h[x]&&C!==d[x]&&S;if(E&&r&&e.manuallyAnimateOnMount&&(E=!1),w.protectedKeys={...g},!w.isActive&&_===null||!C&&!w.prevProp||VD(C)||typeof C=="boolean")continue;let T=_Ye(w.prevProp,C)||x===c&&w.isActive&&!E&&S||y>v&&S,j=!1;const I=Array.isArray(C)?C:[C];let A=I.reduce(i,{});_===!1&&(A={});const{prevResolvedValues:$={}}=w,D={...$,...A},M=O=>{T=!0,m.has(O)&&(j=!0,m.delete(O)),w.needsAnimating[O]=!0};for(const O in D){const F=A[O],P=$[O];if(g.hasOwnProperty(O))continue;let V=!1;vA(F)&&vA(P)?V=!obe(F,P):V=F!==P,V?F!==void 0?M(O):m.add(O):F!==void 0&&m.has(O)?M(O):w.protectedKeys[O]=!0}w.prevProp=C,w.prevResolvedValues=A,w.isActive&&(g={...g,...A}),r&&e.blockInitialAnimation&&(T=!1),T&&(!E||j)&&p.push(...I.map(O=>({animation:O,options:{type:x,...l}})))}if(m.size){const y={};m.forEach(x=>{const w=e.getBaseTarget(x);w!==void 0&&(y[x]=w)}),p.push({animation:y})}let b=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(b=!1),r=!1,b?t(p):Promise.resolve()}function s(l,c,d){var h;if(n[l].isActive===c)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(m=>{var g;return(g=m.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),n[l].isActive=c;const p=o(d,l);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:o,setActive:s,setAnimateFunction:a,getState:()=>n}}function _Ye(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!obe(t,e):!1}function cm(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function EYe(){return{animate:cm(!0),whileInView:cm(),whileHover:cm(),whileTap:cm(),whileDrag:cm(),whileFocus:cm(),exit:cm()}}class kYe extends Hp{constructor(t){super(t),t.animationState||(t.animationState=SYe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),VD(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let TYe=0;class AYe extends Hp{constructor(){super(...arguments),this.id=TYe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&a.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const jYe={animation:{Feature:kYe},exit:{Feature:AYe}},iJ=(e,t)=>Math.abs(e-t);function IYe(e,t){const n=iJ(e.x,t.x),r=iJ(e.y,t.y);return Math.sqrt(n**2+r**2)}class Obe{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=iP(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=IYe(h.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:g}=h,{timestamp:v}=Ba;this.history.push({...g,timestamp:v});const{onStart:b,onMove:y}=this.handlers;p||(b&&b(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=rP(p,this.transformPagePoint),oi.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:m,onSessionEnd:g,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=iP(h.type==="pointercancel"?this.lastMoveEventInfo:rP(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,b),g&&g(h,b)},!tbe(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=UD(t),s=rP(o,this.transformPagePoint),{point:l}=s,{timestamp:c}=Ba;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(t,iP(s,this.history)),this.removeListeners=sf(of(this.contextWindow,"pointermove",this.handlePointerMove),of(this.contextWindow,"pointerup",this.handlePointerUp),of(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),wf(this.updatePoint)}}function rP(e,t){return t?{point:t(e.point)}:e}function aJ(e,t){return{x:e.x-t.x,y:e.y-t.y}}function iP({point:e},t){return{point:e,delta:aJ(e,Mbe(t)),offset:aJ(e,DYe(t)),velocity:$Ye(t,.1)}}function DYe(e){return e[0]}function Mbe(e){return e[e.length-1]}function $Ye(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=Mbe(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>hp(t)));)n--;if(!r)return{x:0,y:0};const a=lf(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function rl(e){return e.max-e.min}function iL(e,t=0,n=.01){return Math.abs(e-t)<=n}function oJ(e,t,n,r=.5){e.origin=r,e.originPoint=ci(t.min,t.max,e.origin),e.scale=rl(n)/rl(t),(iL(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=ci(n.min,n.max,e.origin)-e.originPoint,(iL(e.translate)||isNaN(e.translate))&&(e.translate=0)}function iC(e,t,n,r){oJ(e.x,t.x,n.x,r?r.originX:void 0),oJ(e.y,t.y,n.y,r?r.originY:void 0)}function sJ(e,t,n){e.min=n.min+t.min,e.max=e.min+rl(t)}function OYe(e,t,n){sJ(e.x,t.x,n.x),sJ(e.y,t.y,n.y)}function lJ(e,t,n){e.min=t.min-n.min,e.max=e.min+rl(t)}function aC(e,t,n){lJ(e.x,t.x,n.x),lJ(e.y,t.y,n.y)}function MYe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ci(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ci(n,e,r.max):Math.min(e,n)),e}function uJ(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function RYe(e,{top:t,left:n,bottom:r,right:i}){return{x:uJ(e.x,n,i),y:uJ(e.y,t,r)}}function cJ(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function PYe(e,t){return{x:cJ(e.x,t.x),y:cJ(e.y,t.y)}}function FYe(e,t){let n=.5;const r=rl(e),i=rl(t);return i>r?n=iS(t.min,t.max-r,e.min):r>i&&(n=iS(e.min,e.max-i,t.min)),Sp(0,1,n)}function NYe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const aL=.35;function LYe(e=aL){return e===!1?e=0:e===!0&&(e=aL),{x:dJ(e,"left","right"),y:dJ(e,"top","bottom")}}function dJ(e,t,n){return{min:fJ(e,t),max:fJ(e,n)}}function fJ(e,t){return typeof e=="number"?e:e[t]||0}const hJ=()=>({translate:0,scale:1,origin:0,originPoint:0}),r1=()=>({x:hJ(),y:hJ()}),pJ=()=>({min:0,max:0}),Oi=()=>({x:pJ(),y:pJ()});function Al(e){return[e("x"),e("y")]}function Rbe({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function BYe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function VYe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function aP(e){return e===void 0||e===1}function oL({scale:e,scaleX:t,scaleY:n}){return!aP(e)||!aP(t)||!aP(n)}function Sm(e){return oL(e)||Pbe(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Pbe(e){return mJ(e.x)||mJ(e.y)}function mJ(e){return e&&e!=="0%"}function CA(e,t,n){const r=e-n,i=t*r;return n+i}function gJ(e,t,n,r,i){return i!==void 0&&(e=CA(e,i,r)),CA(e,n,r)+t}function sL(e,t=0,n=1,r,i){e.min=gJ(e.min,t,n,r,i),e.max=gJ(e.max,t,n,r,i)}function Fbe(e,{x:t,y:n}){sL(e.x,t.translate,t.scale,t.originPoint),sL(e.y,n.translate,n.scale,n.originPoint)}function zYe(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,o;for(let s=0;s<i;s++){a=n[s],o=a.projectionDelta;const l=a.instance;l&&l.style&&l.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&i1(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Fbe(e,o)),r&&Sm(a.latestValues)&&i1(e,a.latestValues))}t.x=vJ(t.x),t.y=vJ(t.y)}function vJ(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function kh(e,t){e.min=e.min+t,e.max=e.max+t}function yJ(e,t,[n,r,i]){const a=t[i]!==void 0?t[i]:.5,o=ci(e.min,e.max,a);sL(e,t[n],t[r],o,t.scale)}const UYe=["x","scaleX","originX"],HYe=["y","scaleY","originY"];function i1(e,t){yJ(e.x,t,UYe),yJ(e.y,t,HYe)}function Nbe(e,t){return Rbe(VYe(e.getBoundingClientRect(),t))}function WYe(e,t,n){const r=Nbe(e,n),{scroll:i}=t;return i&&(kh(r.x,i.offset.x),kh(r.y,i.offset.y)),r}const Lbe=({current:e})=>e?e.ownerDocument.defaultView:null,GYe=new WeakMap;class YYe{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Oi(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(UD(d,"page").point)},a=(d,h)=>{const{drag:p,dragPropagation:m,onDragStart:g}=this.getProps();if(p&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=rbe(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Al(b=>{let y=this.getAxisMotionValue(b).get()||0;if(Bc.test(y)){const{projection:x}=this.visualElement;if(x&&x.layout){const w=x.layout.layoutBox[b];w&&(y=rl(w)*(parseFloat(y)/100))}}this.originPoint[b]=y}),g&&oi.update(()=>g(d,h),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:g,onDrag:v}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:b}=h;if(m&&this.currentDirection===null){this.currentDirection=qYe(b),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),v&&v(d,h)},s=(d,h)=>this.stop(d,h),l=()=>Al(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new Obe(t,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:s,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:Lbe(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&oi.update(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!_E(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=MYe(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;n&&t1(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=RYe(i.layoutBox,n):this.constraints=!1,this.elastic=LYe(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Al(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=NYe(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!t1(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=WYe(r,i.root,this.visualElement.getTransformPagePoint());let o=PYe(i.layout.layoutBox,a);if(n){const s=n(BYe(o));this.hasMutatedConstraints=!!s,s&&(o=Rbe(s))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},c=Al(d=>{if(!_E(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const p=i?200:1e6,m=i?40:1e7,g={type:"inertia",velocity:r?t[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(d,g)});return Promise.all(c).then(s)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(yz(t,r,0,n))}stopAnimation(){Al(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Al(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Al(n=>{const{drag:r}=this.getProps();if(!_E(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:s}=i.layout.layoutBox[n];a.set(t[n]-ci(o,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!t1(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Al(o=>{const s=this.getAxisMotionValue(o);if(s){const l=s.get();i[o]=FYe({min:l,max:l},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Al(o=>{if(!_E(o,t,null))return;const s=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];s.set(ci(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;GYe.set(this.visualElement,this);const t=this.visualElement.current,n=of(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();t1(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=Jd(window,"resize",()=>this.scalePositionWithinConstraints()),s=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Al(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=aL,dragMomentum:s=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:s}}}function _E(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function qYe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class KYe extends Hp{constructor(t){super(t),this.removeGroupControls=Fi,this.removeListeners=Fi,this.controls=new YYe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fi}unmount(){this.removeGroupControls(),this.removeListeners()}}const bJ=e=>(t,n)=>{e&&oi.update(()=>e(t,n))};class ZYe extends Hp{constructor(){super(...arguments),this.removePointerDownListener=Fi}onPointerDown(t){this.session=new Obe(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Lbe(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:bJ(t),onStart:bJ(n),onMove:r,onEnd:(a,o)=>{delete this.session,i&&oi.update(()=>i(a,o))}}}mount(){this.removePointerDownListener=of(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function XYe(){const e=f.useContext(LD);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=f.useId();return f.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const I5={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function xJ(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ex={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Et.test(e))e=parseFloat(e);else return e;const n=xJ(e,t.target.x),r=xJ(e,t.target.y);return`${n}% ${r}%`}},JYe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=_p.parse(e);if(i.length>5)return r;const a=_p.createTransformer(e),o=typeof i[0]!="number"?1:0,s=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=s,i[1+o]/=l;const c=ci(s,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),a(i)}};class QYe extends Ye.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;tWe(eqe),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),I5.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,o=r.projection;return o&&(o.isPresent=a,i||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||oi.postRender(()=>{const s=o.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),QV.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Bbe(e){const[t,n]=XYe(),r=f.useContext(nz);return Ye.createElement(QYe,{...e,layoutGroup:r,switchLayoutGroup:f.useContext(Vye),isPresent:t,safeToRemove:n})}const eqe={borderRadius:{...Ex,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ex,borderTopRightRadius:Ex,borderBottomLeftRadius:Ex,borderBottomRightRadius:Ex,boxShadow:JYe},Vbe=["TopLeft","TopRight","BottomLeft","BottomRight"],tqe=Vbe.length,wJ=e=>typeof e=="string"?parseFloat(e):e,CJ=e=>typeof e=="number"||Et.test(e);function nqe(e,t,n,r,i,a){i?(e.opacity=ci(0,n.opacity!==void 0?n.opacity:1,rqe(r)),e.opacityExit=ci(t.opacity!==void 0?t.opacity:1,0,iqe(r))):a&&(e.opacity=ci(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<tqe;o++){const s=`border${Vbe[o]}Radius`;let l=SJ(t,s),c=SJ(n,s);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||CJ(l)===CJ(c)?(e[s]=Math.max(ci(wJ(l),wJ(c),r),0),(Bc.test(c)||Bc.test(l))&&(e[s]+="%")):e[s]=c}(t.rotate||n.rotate)&&(e.rotate=ci(t.rotate||0,n.rotate||0,r))}function SJ(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const rqe=zbe(0,.5,mbe),iqe=zbe(.5,.95,Fi);function zbe(e,t,n){return r=>r<e?0:r>t?1:n(iS(e,t,r))}function _J(e,t){e.min=t.min,e.max=t.max}function Cl(e,t){_J(e.x,t.x),_J(e.y,t.y)}function EJ(e,t,n,r,i){return e-=t,e=CA(e,1/n,r),i!==void 0&&(e=CA(e,1/i,r)),e}function aqe(e,t=0,n=1,r=.5,i,a=e,o=e){if(Bc.test(t)&&(t=parseFloat(t),t=ci(o.min,o.max,t/100)-o.min),typeof t!="number")return;let s=ci(a.min,a.max,r);e===a&&(s-=t),e.min=EJ(e.min,t,n,s,i),e.max=EJ(e.max,t,n,s,i)}function kJ(e,t,[n,r,i],a,o){aqe(e,t[n],t[r],t[i],t.scale,a,o)}const oqe=["x","scaleX","originX"],sqe=["y","scaleY","originY"];function TJ(e,t,n,r){kJ(e.x,t,oqe,n?n.x:void 0,r?r.x:void 0),kJ(e.y,t,sqe,n?n.y:void 0,r?r.y:void 0)}function AJ(e){return e.translate===0&&e.scale===1}function Ube(e){return AJ(e.x)&&AJ(e.y)}function lqe(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Hbe(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function jJ(e){return rl(e.x)/rl(e.y)}class uqe{constructor(){this.members=[]}add(t){bz(this.members,t),t.scheduleRender()}remove(t){if(xz(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function IJ(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y;if((i||a)&&(r=`translate3d(${i}px, ${a}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:c,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,s=e.y.scale*t.y;return(o!==1||s!==1)&&(r+=`scale(${o}, ${s})`),r||"none"}const cqe=(e,t)=>e.depth-t.depth;class dqe{constructor(){this.children=[],this.isDirty=!1}add(t){bz(this.children,t),this.isDirty=!0}remove(t){xz(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(cqe),this.isDirty=!1,this.children.forEach(t)}}function fqe(e,t){const n=ug.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&(wf(r),e(a-t))};return oi.read(r,!0),()=>wf(r)}function hqe(e){window.MotionDebug&&window.MotionDebug.record(e)}function pqe(e){return e instanceof SVGElement&&e.tagName!=="svg"}function mqe(e,t,n){const r=As(e)?e:ly(e);return r.start(yz("",r,t,n)),r.animation}const DJ=["","X","Y","Z"],gqe={visibility:"hidden"},$J=1e3;let vqe=0;const _m={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Wbe({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},s=t==null?void 0:t()){this.id=vqe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,_m.totalNodes=_m.resolvedTargetDeltas=_m.recalculatedProjection=0,this.nodes.forEach(xqe),this.nodes.forEach(Eqe),this.nodes.forEach(kqe),this.nodes.forEach(wqe),hqe(_m)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new dqe)}addEventListener(o,s){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new wz),this.eventHandlers.get(o).add(s)}notifyListeners(o,...s){const l=this.eventHandlers.get(o);l&&l.notify(...s)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,s=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=pqe(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),s&&(c||l)&&(this.isLayoutDirty=!0),e){let h;const p=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=fqe(p,250),I5.hasAnimatedSinceResize&&(I5.hasAnimatedSinceResize=!1,this.nodes.forEach(MJ))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||Dqe,{onLayoutAnimationStart:b,onLayoutAnimationComplete:y}=d.getProps(),x=!this.targetLayout||!Hbe(this.targetLayout,g)||m,w=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||p&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,w);const C={...vz(v,"layout"),onPlay:b,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else p||MJ(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,wf(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Tqe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:s,layout:l}=this.options;if(s===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(OJ);return}this.isUpdating||this.nodes.forEach(Sqe),this.isUpdating=!1,window.HandoffCancelAllAnimations&&window.HandoffCancelAllAnimations(),this.nodes.forEach(_qe),this.nodes.forEach(yqe),this.nodes.forEach(bqe),this.clearAllSnapshots();const s=ug.now();Ba.delta=Sp(0,1e3/60,s-Ba.timestamp),Ba.timestamp=s,Ba.isProcessing=!0,ZR.update.process(Ba),ZR.preRender.process(Ba),ZR.render.process(Ba),Ba.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,QV.read(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Cqe),this.sharedNodes.forEach(Aqe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,oi.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){oi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Oi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let s=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(s=!1),s&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,s=this.projectionDelta&&!Ube(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(s||Sm(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const s=this.measurePageBox();let l=this.removeElementScroll(s);return o&&(l=this.removeTransform(l)),$qe(l),{animationId:this.root.animationId,measuredBox:s,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Oi();const s=o.measureViewportBox(),{scroll:l}=this.root;return l&&(kh(s.x,l.offset.x),kh(s.y,l.offset.y)),s}removeElementScroll(o){const s=Oi();Cl(s,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:h}=c;if(c!==this.root&&d&&h.layoutScroll){if(d.isRoot){Cl(s,o);const{scroll:p}=this.root;p&&(kh(s.x,-p.offset.x),kh(s.y,-p.offset.y))}kh(s.x,d.offset.x),kh(s.y,d.offset.y)}}return s}applyTransform(o,s=!1){const l=Oi();Cl(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!s&&d.options.layoutScroll&&d.scroll&&d!==d.root&&i1(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Sm(d.latestValues)&&i1(l,d.latestValues)}return Sm(this.latestValues)&&i1(l,this.latestValues),l}removeTransform(o){const s=Oi();Cl(s,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Sm(c.latestValues))continue;oL(c.latestValues)&&c.updateSnapshot();const d=Oi(),h=c.measurePageBox();Cl(d,h),TJ(s,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Sm(this.latestValues)&&TJ(s,this.latestValues),s}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ba.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var s;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=Ba.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Oi(),this.relativeTargetOrigin=Oi(),aC(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Cl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Oi(),this.targetWithTransforms=Oi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),OYe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Cl(this.target,this.layout.layoutBox),Fbe(this.target,this.targetDelta)):Cl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Oi(),this.relativeTargetOrigin=Oi(),aC(this.relativeTargetOrigin,this.target,m.target),Cl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}_m.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||oL(this.parent.latestValues)||Pbe(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const s=this.getLead(),l=!!this.resumingFrom||this!==s;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ba.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Cl(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;zYe(this.layoutCorrected,this.treeScale,this.path,l),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=Oi());const{target:g}=s;if(!g){this.projectionTransform&&(this.projectionDelta=r1(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=r1(),this.projectionDeltaWithTransform=r1());const v=this.projectionTransform;iC(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=IJ(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),_m.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const s=this.getStack();s&&s.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,s=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=r1();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const p=Oi(),m=l?l.source:void 0,g=this.layout?this.layout.source:void 0,v=m!==g,b=this.getStack(),y=!b||b.members.length<=1,x=!!(v&&!y&&this.options.crossfade===!0&&!this.path.some(Iqe));this.animationProgress=0;let w;this.mixTargetDelta=C=>{const S=C/1e3;RJ(h.x,o.x,S),RJ(h.y,o.y,S),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(aC(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),jqe(this.relativeTarget,this.relativeTargetOrigin,p,S),w&&lqe(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Oi()),Cl(w,this.relativeTarget)),v&&(this.animationValues=d,nqe(d,c,this.latestValues,S,x,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(wf(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=oi.update(()=>{I5.hasAnimatedSinceResize=!0,this.currentAnimation=mqe(0,$J,{...o,onUpdate:s=>{this.mixTargetDelta(s),o.onUpdate&&o.onUpdate(s)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($J),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:s,target:l,layout:c,latestValues:d}=o;if(!(!s||!l||!c)){if(this!==o&&this.layout&&c&&Gbe(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Oi();const h=rl(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=rl(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Cl(s,l),i1(s,d),iC(this.projectionDeltaWithTransform,this.layoutCorrected,s,d)}}registerSharedNode(o,s){this.sharedNodes.has(o)||this.sharedNodes.set(o,new uqe),this.sharedNodes.get(o).add(s);const c=s.options.initialPromotionConfig;s.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(s):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:s,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let s=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(s=!0),!s)return;const c={};for(let d=0;d<DJ.length;d++){const h="rotate"+DJ[d];l[h]&&(c[h]=l[h],o.setStaticValue(h,0))}o.render();for(const d in c)o.setStaticValue(d,c[d]);o.scheduleRender()}getProjectionStyles(o){var s,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return gqe;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=A5(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=A5(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Sm(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=IJ(this.projectionDeltaWithTransform,this.treeScale,p),d&&(c.transform=d(p,c.transform));const{x:m,y:g}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(s=p.opacity)!==null&&s!==void 0?s:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in pA){if(p[v]===void 0)continue;const{correct:b,applyTo:y}=pA[v],x=c.transform==="none"?p[v]:b(p[v],h);if(y){const w=y.length;for(let C=0;C<w;C++)c[y[C]]=x}else c[v]=x}return this.options.layoutId&&(c.pointerEvents=h===this?A5(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var s;return(s=o.currentAnimation)===null||s===void 0?void 0:s.stop()}),this.root.nodes.forEach(OJ),this.root.sharedNodes.clear()}}}function yqe(e){e.updateLayout()}function bqe(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:a}=e.options,o=n.source!==e.layout.source;a==="size"?Al(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],m=rl(p);p.min=r[h].min,p.max=p.min+m}):Gbe(a,n.layoutBox,r)&&Al(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],m=rl(r[h]);p.max=p.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const s=r1();iC(s,r,n.layoutBox);const l=r1();o?iC(l,e.applyTransform(i,!0),n.measuredBox):iC(l,r,n.layoutBox);const c=!Ube(s);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:m}=h;if(p&&m){const g=Oi();aC(g,n.layoutBox,p.layoutBox);const v=Oi();aC(v,r,m.layoutBox),Hbe(g,v)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=g,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:s,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function xqe(e){_m.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function wqe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Cqe(e){e.clearSnapshot()}function OJ(e){e.clearMeasurements()}function Sqe(e){e.isLayoutDirty=!1}function _qe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function MJ(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Eqe(e){e.resolveTargetDelta()}function kqe(e){e.calcProjection()}function Tqe(e){e.resetRotation()}function Aqe(e){e.removeLeadSnapshot()}function RJ(e,t,n){e.translate=ci(t.translate,0,n),e.scale=ci(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function PJ(e,t,n,r){e.min=ci(t.min,n.min,r),e.max=ci(t.max,n.max,r)}function jqe(e,t,n,r){PJ(e.x,t.x,n.x,r),PJ(e.y,t.y,n.y,r)}function Iqe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Dqe={duration:.45,ease:[.4,0,.1,1]},FJ=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),NJ=FJ("applewebkit/")&&!FJ("chrome/")?Math.round:Fi;function LJ(e){e.min=NJ(e.min),e.max=NJ(e.max)}function $qe(e){LJ(e.x),LJ(e.y)}function Gbe(e,t,n){return e==="position"||e==="preserve-aspect"&&!iL(jJ(t),jJ(n),.2)}const Oqe=Wbe({attachResizeListener:(e,t)=>Jd(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),oP={current:void 0},Ybe=Wbe({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!oP.current){const e=new Oqe({});e.mount(window),e.setOptions({layoutScroll:!0}),oP.current=e}return oP.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Mqe={pan:{Feature:ZYe},drag:{Feature:KYe,ProjectionNode:Ybe,MeasureLayout:Bbe}},Rqe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Pqe(e){const t=Rqe.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function lL(e,t,n=1){const[r,i]=Pqe(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const o=a.trim();return jbe(o)?parseFloat(o):o}else return mA(i)?lL(i,t,n+1):i}function Fqe(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const a=i.get();if(!mA(a))return;const o=lL(a,r);o&&i.set(o)});for(const i in t){const a=t[i];if(!mA(a))continue;const o=lL(a,r);o&&(t[i]=o,n||(n={}),n[i]===void 0&&(n[i]=a))}return{target:t,transitionEnd:n}}const Nqe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),qbe=e=>Nqe.has(e),Lqe=e=>Object.keys(e).some(qbe),BJ=e=>e===nb||e===Et,VJ=(e,t)=>parseFloat(e.split(", ")[t]),zJ=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return VJ(i[1],t);{const a=r.match(/^matrix\((.+)\)$/);return a?VJ(a[1],e):0}},Bqe=new Set(["x","y","z"]),Vqe=w2.filter(e=>!Bqe.has(e));function zqe(e){const t=[];return Vqe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const uy={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:zJ(4,13),y:zJ(5,14)};uy.translateX=uy.x;uy.translateY=uy.y;const Uqe=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,a=getComputedStyle(i),{display:o}=a,s={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(c=>{s[c]=uy[c](r,a)}),t.render();const l=t.measureViewportBox();return n.forEach(c=>{const d=t.getValue(c);d&&d.jump(s[c]),e[c]=uy[c](l,a)}),e},Hqe=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(qbe);let a=[],o=!1;const s=[];if(i.forEach(l=>{const c=e.getValue(l);if(!e.hasValue(l))return;let d=n[l],h=_x(d);const p=t[l];let m;if(vA(p)){const g=p.length,v=p[0]===null?1:0;d=p[v],h=_x(d);for(let b=v;b<g&&p[b]!==null;b++)m?dz(_x(p[b])===m):m=_x(p[b])}else m=_x(p);if(h!==m)if(BJ(h)&&BJ(m)){const g=c.get();typeof g=="string"&&c.set(parseFloat(g)),typeof p=="string"?t[l]=parseFloat(p):Array.isArray(p)&&m===Et&&(t[l]=p.map(parseFloat))}else h!=null&&h.transform&&(m!=null&&m.transform)&&(d===0||p===0)?d===0?c.set(m.transform(d)):t[l]=h.transform(p):(o||(a=zqe(e),o=!0),s.push(l),r[l]=r[l]!==void 0?r[l]:t[l],c.jump(p))}),s.length){const l=s.indexOf("height")>=0?window.pageYOffset:null,c=Uqe(t,e,s);return a.length&&a.forEach(([d,h])=>{e.getValue(d).set(h)}),e.render(),BD&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:t,transitionEnd:r}};function Wqe(e,t,n,r){return Lqe(t)?Hqe(e,t,n,r):{target:t,transitionEnd:r}}const Gqe=(e,t,n,r)=>{const i=Fqe(e,t,r);return t=i.target,r=i.transitionEnd,Wqe(e,t,n,r)},uL={current:null},Kbe={current:!1};function Yqe(){if(Kbe.current=!0,!!BD)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>uL.current=e.matches;e.addListener(t),t()}else uL.current=!1}function qqe(e,t,n){const{willChange:r}=t;for(const i in t){const a=t[i],o=n[i];if(As(a))e.addValue(i,a),wA(r)&&r.add(i);else if(As(o))e.addValue(i,ly(a,{owner:e})),wA(r)&&r.remove(i);else if(o!==a)if(e.hasValue(i)){const s=e.getValue(i);!s.hasAnimated&&s.set(a)}else{const s=e.getStaticValue(i);e.addValue(i,ly(s!==void 0?s:a,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const UJ=new WeakMap,Zbe=Object.keys(rS),Kqe=Zbe.length,HJ=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Zqe=tz.length;class Xqe{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>oi.render(this.render,!1,!0);const{latestValues:s,renderState:l}=a;this.latestValues=s,this.baseTarget={...s},this.initialValues=n.initial?{...s}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=zD(n),this.isVariantNode=Bye(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{});for(const h in d){const p=d[h];s[h]!==void 0&&As(p)&&(p.set(s[h],!1),wA(c)&&c.add(h))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,UJ.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Kbe.current||Yqe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:uL.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){UJ.delete(this.current),this.projection&&this.projection.unmount(),wf(this.notifyUpdate),wf(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=x0.has(t),i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&oi.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),a()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,a){let o,s;for(let l=0;l<Kqe;l++){const c=Zbe[l],{isEnabled:d,Feature:h,ProjectionNode:p,MeasureLayout:m}=rS[c];p&&(o=p),d(n)&&(!this.features[c]&&h&&(this.features[c]=new h(this)),m&&(s=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:d,dragConstraints:h,layoutScroll:p,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||h&&t1(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:a,layoutScroll:p,layoutRoot:m})}return s}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Oi()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<HJ.length;r++){const i=HJ[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=t["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=qqe(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Zqe;r++){const i=tz[r],a=this.props[i];(nS(a)||a===!1)&&(n[i]=a)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=ly(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=cz(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!As(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new wz),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Xbe extends Xqe{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},i){const a=pYe(r,t||{},this);if(i){fYe(this,r,a);const o=Gqe(this,r,a,n);n=o.transitionEnd,r=o.target}return{transition:t,transitionEnd:n,...r}}}function Jqe(e){return window.getComputedStyle(e)}class Qqe extends Xbe{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(x0.has(n)){const r=gz(n);return r&&r.default||0}else{const r=Jqe(t),i=(Hye(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Nbe(t,n)}build(t,n,r,i){az(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return uz(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;As(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){Kye(t,n,r,i)}}class eKe extends Xbe{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(x0.has(n)){const r=gz(n);return r&&r.default||0}return n=Zye.has(n)?n:JV(n),t.getAttribute(n)}measureInstanceViewportBox(){return Oi()}scrapeMotionValuesFromProps(t,n){return Jye(t,n)}build(t,n,r,i){sz(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){Xye(t,n,r,i)}mount(t){this.isSVGTag=lz(t.tagName),super.mount(t)}}const tKe=(e,t)=>rz(e)?new eKe(t,{enableHardwareAcceleration:!1}):new Qqe(t,{enableHardwareAcceleration:!0}),nKe={layout:{ProjectionNode:Ybe,MeasureLayout:Bbe}},rKe={...jYe,...UWe,...Mqe,...nKe},Di=QHe((e,t)=>IWe(e,t,rKe,tKe));function Jbe(){const e=f.useRef(!1);return XV(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function iKe(){const e=Jbe(),[t,n]=f.useState(0),r=f.useCallback(()=>{e.current&&n(t+1)},[t]);return[f.useCallback(()=>oi.postRender(r),[r]),t]}class aKe extends f.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function oKe({children:e,isPresent:t}){const n=f.useId(),r=f.useRef(null),i=f.useRef({width:0,height:0,top:0,left:0});return f.useInsertionEffect(()=>{const{width:a,height:o,top:s,left:l}=i.current;if(t||!r.current||!a||!o)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${s}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[t]),f.createElement(aKe,{isPresent:t,childRef:r,sizeRef:i},f.cloneElement(e,{ref:r}))}const sP=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:o})=>{const s=Qye(sKe),l=f.useId(),c=f.useMemo(()=>({id:l,initial:t,isPresent:n,custom:i,onExitComplete:d=>{s.set(d,!0);for(const h of s.values())if(!h)return;r&&r()},register:d=>(s.set(d,!1),()=>s.delete(d))}),a?void 0:[n]);return f.useMemo(()=>{s.forEach((d,h)=>s.set(h,!1))},[n]),f.useEffect(()=>{!n&&!s.size&&r&&r()},[n]),o==="popLayout"&&(e=f.createElement(oKe,{isPresent:n},e)),f.createElement(LD.Provider,{value:c},e)};function sKe(){return new Map}function lKe(e){return f.useEffect(()=>()=>e(),[])}const Em=e=>e.key||"";function uKe(e,t){e.forEach(n=>{const r=Em(n);t.set(r,n)})}function cKe(e){const t=[];return f.Children.forEach(e,n=>{f.isValidElement(n)&&t.push(n)}),t}const hl=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:a=!0,mode:o="sync"})=>{const s=f.useContext(nz).forceRender||iKe()[0],l=Jbe(),c=cKe(e);let d=c;const h=f.useRef(new Map).current,p=f.useRef(d),m=f.useRef(new Map).current,g=f.useRef(!0);if(XV(()=>{g.current=!1,uKe(c,m),p.current=d}),lKe(()=>{g.current=!0,m.clear(),h.clear()}),g.current)return f.createElement(f.Fragment,null,d.map(x=>f.createElement(sP,{key:Em(x),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:a,mode:o},x)));d=[...d];const v=p.current.map(Em),b=c.map(Em),y=v.length;for(let x=0;x<y;x++){const w=v[x];b.indexOf(w)===-1&&!h.has(w)&&h.set(w,void 0)}return o==="wait"&&h.size&&(d=[]),h.forEach((x,w)=>{if(b.indexOf(w)!==-1)return;const C=m.get(w);if(!C)return;const S=v.indexOf(w);let _=x;if(!_){const E=()=>{h.delete(w);const k=Array.from(m.keys()).filter(T=>!b.includes(T));if(k.forEach(T=>m.delete(T)),p.current=c.filter(T=>{const j=Em(T);return j===w||k.includes(j)}),!h.size){if(l.current===!1)return;s(),r&&r()}};_=f.createElement(sP,{key:Em(C),isPresent:!1,onExitComplete:E,custom:t,presenceAffectsLayout:a,mode:o},C),h.set(w,_)}d.splice(S,0,_)}),d=d.map(x=>{const w=x.key;return h.has(w)?x:f.createElement(sP,{key:Em(x),isPresent:!0,presenceAffectsLayout:a,mode:o},x)}),f.createElement(f.Fragment,null,h.size?d:d.map(x=>f.cloneElement(x)))};function Cz(e){const t=f.useRef(null);return f.useInsertionEffect(()=>{t.current=e},[e]),f.useCallback((...n)=>{const r=t.current;return r(...n)},[])}const Sz=VI,Fg=ome(),E2=[],pp={},Vc="--motion-content-opacity",Qbe={initial:{opacity:.5,[Vc]:0,scale:.97,willChange:"transform"},animate:{opacity:[null,1,1],[Vc]:[null,null,1],scale:1},exit:{opacity:[null,null,0],[Vc]:[null,0,0],scale:.97},transition:{duration:.4,type:"spring"}};function dKe(e,t){return e.reduce((n,r)=>(n[r]=t,n),{})}function Se(e){return e===0?0:`${e/16}rem`}function Rt(e,t,n){return((t==null?void 0:t.map(n))||[]).map((r,i)=>i===0?r:{[`@media screen and (min-width: ${e[i-1]}px)`]:r})}function fKe(e,t){return e===void 0?t||E2:Array.isArray(e)?e:[e]}function ms(e,t,n=E2){if(!Array.isArray(n))throw new Error("the property must be array of numbers");if(n.length===0)return null;const{media:r,space:i}=Ee(e);return Rt(r,n,a=>dKe(t,Se(i[a])))}function cy(e,t){const{$size:n,$weight:r}=t,{font:i,media:a}=Ee(t.theme),{family:o,sizes:s,weights:l}=i[e],c=r&&l[r]||l.regular,d=s[2],h={position:"relative",fontFamily:o,fontWeight:c,padding:"1px 0",margin:0,"&:before":{content:'""',display:"block",height:0},"&:after":{content:'""',display:"block",height:0},"& > code, & > span":{display:"block"},"&:not([hidden])":{display:"block"}};if(!n)return cy.warned||(console.warn("No size specified for responsive font",{fontKey:e,$size:n,props:t,base:h}),cy.warned=!0),[h];const p=Rt(a,n,m=>hKe(s[m]||d));return[h,...p]}function hKe(e){const{ascenderHeight:t,descenderHeight:n,fontSize:r,iconSize:i,letterSpacing:a,lineHeight:o}=e,s=t+n,l=o-s,c=(l-i)/2,d=Math.floor(r*1.125/2)*2+1,h=(l-d)/2;return{fontSize:Se(r),lineHeight:`calc(${o} / ${r})`,letterSpacing:Se(a),transform:`translateY(${Se(n)})`,"&:before":{marginTop:`calc(${Se(0-s)} - 1px)`},"&:after":{marginBottom:"-1px"},"& svg:not([data-sanity-icon])":{fontSize:`calc(${d} / 16 * 1rem)`,margin:Se(h)},"& [data-sanity-icon]":{fontSize:`calc(${i} / 16 * 1rem)`,margin:Se(c)}}}function pKe(e){return cy("code",e)}function mKe(e){return cy("heading",e)}function gKe(e){return cy("label",e)}function _z(e){const{media:t}=Ee(e.theme);return Rt(t,e.$align,n=>({textAlign:n}))}function vKe(e){return cy("text",e)}function ke(e,t){const n=f.useMemo(()=>JSON.stringify(e??t),[t,e]);return f.useMemo(()=>fKe(e,t),[n])}function yn(e,t=()=>E2,n){const r=Cz(a=>{if(!e)return;const o=a.target;if(!(o instanceof Node))return;const s=n==null?void 0:n();if(s&&!s.contains(o))return;const l=t().flat();for(const c of l)if(c&&(o===c||c.contains(o)))return;e(a)}),i=!!e;f.useEffect(()=>{if(!i)return;const a=o=>r(o);return document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[i,r]),f.useDebugValue(e?"MouseDown On":"MouseDown Off")}function k2(e,t){f.useEffect(()=>{var n;(n=e.current)==null||n.setCustomValidity(t||"")},[t,e])}var cg=[],yKe=function(){return cg.some(function(e){return e.activeTargets.length>0})},bKe=function(){return cg.some(function(e){return e.skippedTargets.length>0})},WJ="ResizeObserver loop completed with undelivered notifications.",xKe=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:WJ}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=WJ),window.dispatchEvent(e)},aS;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(aS||(aS={}));var dg=function(e){return Object.freeze(e)},wKe=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,dg(this)}return e}(),exe=function(){function e(t,n,r,i){return this.x=t,this.y=n,this.width=r,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,dg(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,i=t.top,a=t.right,o=t.bottom,s=t.left,l=t.width,c=t.height;return{x:n,y:r,top:i,right:a,bottom:o,left:s,width:l,height:c}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),Ez=function(e){return e instanceof SVGElement&&"getBBox"in e},txe=function(e){if(Ez(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var i=e,a=i.offsetWidth,o=i.offsetHeight;return!(a||o||e.getClientRects().length)},GJ=function(e){var t;if(e instanceof Element)return!0;var n=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},CKe=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},oC=typeof window<"u"?window:{},EE=new WeakMap,YJ=/auto|scroll/,SKe=/^tb|vertical/,_Ke=/msie|trident/i.test(oC.navigator&&oC.navigator.userAgent),sc=function(e){return parseFloat(e||"0")},_1=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new wKe((n?t:e)||0,(n?e:t)||0)},qJ=dg({devicePixelContentBoxSize:_1(),borderBoxSize:_1(),contentBoxSize:_1(),contentRect:new exe(0,0,0,0)}),nxe=function(e,t){if(t===void 0&&(t=!1),EE.has(e)&&!t)return EE.get(e);if(txe(e))return EE.set(e,qJ),qJ;var n=getComputedStyle(e),r=Ez(e)&&e.ownerSVGElement&&e.getBBox(),i=!_Ke&&n.boxSizing==="border-box",a=SKe.test(n.writingMode||""),o=!r&&YJ.test(n.overflowY||""),s=!r&&YJ.test(n.overflowX||""),l=r?0:sc(n.paddingTop),c=r?0:sc(n.paddingRight),d=r?0:sc(n.paddingBottom),h=r?0:sc(n.paddingLeft),p=r?0:sc(n.borderTopWidth),m=r?0:sc(n.borderRightWidth),g=r?0:sc(n.borderBottomWidth),v=r?0:sc(n.borderLeftWidth),b=h+c,y=l+d,x=v+m,w=p+g,C=s?e.offsetHeight-w-e.clientHeight:0,S=o?e.offsetWidth-x-e.clientWidth:0,_=i?b+x:0,E=i?y+w:0,k=r?r.width:sc(n.width)-_-S,T=r?r.height:sc(n.height)-E-C,j=k+b+S+x,I=T+y+C+w,A=dg({devicePixelContentBoxSize:_1(Math.round(k*devicePixelRatio),Math.round(T*devicePixelRatio),a),borderBoxSize:_1(j,I,a),contentBoxSize:_1(k,T,a),contentRect:new exe(h,l,k,T)});return EE.set(e,A),A},rxe=function(e,t,n){var r=nxe(e,n),i=r.borderBoxSize,a=r.contentBoxSize,o=r.devicePixelContentBoxSize;switch(t){case aS.DEVICE_PIXEL_CONTENT_BOX:return o;case aS.BORDER_BOX:return i;default:return a}},EKe=function(){function e(t){var n=nxe(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=dg([n.borderBoxSize]),this.contentBoxSize=dg([n.contentBoxSize]),this.devicePixelContentBoxSize=dg([n.devicePixelContentBoxSize])}return e}(),ixe=function(e){if(txe(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},kKe=function(){var e=1/0,t=[];cg.forEach(function(a){if(a.activeTargets.length!==0){var o=[];a.activeTargets.forEach(function(s){var l=new EKe(s.target),c=ixe(s.target);o.push(l),s.lastReportedSize=rxe(s.target,s.observedBox),c<e&&(e=c)}),t.push(function(){a.callback.call(a.observer,o,a.observer)}),a.activeTargets.splice(0,a.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var i=r[n];i()}return e},KJ=function(e){cg.forEach(function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach(function(n){n.isActive()&&(ixe(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))})})},TKe=function(){var e=0;for(KJ(e);yKe();)e=kKe(),KJ(e);return bKe()&&xKe(),e>0},lP,axe=[],AKe=function(){return axe.splice(0).forEach(function(e){return e()})},jKe=function(e){if(!lP){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return AKe()}).observe(n,r),lP=function(){n.textContent="".concat(t?t--:t++)}}axe.push(e),lP()},IKe=function(e){jKe(function(){requestAnimationFrame(e)})},D5=0,DKe=function(){return!!D5},$Ke=250,OKe={attributes:!0,characterData:!0,childList:!0,subtree:!0},ZJ=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],XJ=function(e){return e===void 0&&(e=0),Date.now()+e},uP=!1,MKe=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=$Ke),!uP){uP=!0;var r=XJ(t);IKe(function(){var i=!1;try{i=TKe()}finally{if(uP=!1,t=r-XJ(),!DKe())return;i?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,OKe)};document.body?n():oC.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),ZJ.forEach(function(n){return oC.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),ZJ.forEach(function(n){return oC.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),cL=new MKe,JJ=function(e){!D5&&e>0&&cL.start(),D5+=e,!D5&&cL.stop()},RKe=function(e){return!Ez(e)&&!CKe(e)&&getComputedStyle(e).display==="inline"},PKe=function(){function e(t,n){this.target=t,this.observedBox=n||aS.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=rxe(this.target,this.observedBox,!0);return RKe(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),FKe=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),kE=new WeakMap,QJ=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},TE=function(){function e(){}return e.connect=function(t,n){var r=new FKe(t,n);kE.set(t,r)},e.observe=function(t,n,r){var i=kE.get(t),a=i.observationTargets.length===0;QJ(i.observationTargets,n)<0&&(a&&cg.push(i),i.observationTargets.push(new PKe(n,r&&r.box)),JJ(1),cL.schedule())},e.unobserve=function(t,n){var r=kE.get(t),i=QJ(r.observationTargets,n),a=r.observationTargets.length===1;i>=0&&(a&&cg.splice(cg.indexOf(r),1),r.observationTargets.splice(i,1),JJ(-1))},e.disconnect=function(t){var n=this,r=kE.get(t);r.observationTargets.slice().forEach(function(i){return n.unobserve(t,i.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),NKe=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");TE.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!GJ(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");TE.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!GJ(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");TE.unobserve(this,t)},e.prototype.disconnect=function(){TE.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();const oxe=typeof document<"u"&&typeof window<"u"&&window.ResizeObserver?window.ResizeObserver:NKe,LKe=VKe();function BKe(){return{subscribe(e,t){const n=new oxe(([r])=>{t({_contentRect:r.contentRect,border:{width:r.borderBoxSize[0].inlineSize,height:r.borderBoxSize[0].blockSize},content:{width:r.contentRect.width,height:r.contentRect.height}})});return n.observe(e),()=>{n.unobserve(e),n.disconnect()}}}}function VKe(){const e=new WeakMap,t=new WeakMap;return{subscribe(n,r){const i=t.get(n)||[];let a=e.get(n);return t.has(n)||(t.set(n,i),a=BKe().subscribe(n,o=>{for(const s of i)s(o)})),i.push(r),()=>{const o=i.indexOf(r);o>-1&&i.splice(o,1),i.length===0&&a&&a()}}}}function T2(e){const[t,n]=f.useState(null);return f.useEffect(()=>{if(e)return LKe.subscribe(e,n)},[e]),t}function Ng(e){const t=T2(e);return(t==null?void 0:t._contentRect)||null}function Xo(e){return f.useEffect(()=>(addEventListener("keydown",e),()=>removeEventListener("keydown",e)),[e])}function sxe(e,t){const{subscribe:n,getSnapshot:r}=f.useMemo(()=>{let i;const a=()=>(i||(i=window.matchMedia(e)),i);return{subscribe:o=>{const s=a();return s.addEventListener("change",o),()=>s.removeEventListener("change",o)},getSnapshot:()=>a().matches}},[e]);return f.useDebugValue(e),f.useSyncExternalStore(n,r,t)}function zKe(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global;throw new Error("@sanity/ui: could not locate global scope")}const Wd=zKe();function Uf(e,t){const n=Symbol.for(e);return typeof document>"u"?f.createContext(t):(Wd[n]=Wd[n]||f.createContext(t),Wd[n])}const dL=Uf("@sanity/ui/context/theme",null);function oS(e){const t=f.useContext(dL),{children:n,scheme:r=(t==null?void 0:t.scheme)||"light",theme:i=(t==null?void 0:t.theme)||null,tone:a=(t==null?void 0:t.tone)||"default"}=e,o=f.useMemo(()=>i?{version:0,theme:i,scheme:r,tone:a}:null,[i,r,a]),s=f.useMemo(()=>i?KLe(i,r,a):null,[r,i,a]);return s?u.jsx(dL.Provider,{value:o,children:u.jsx(t6e,{theme:s,children:n})}):u.jsx("pre",{children:'ThemeProvider: no "theme" property provided'})}oS.displayName="ThemeProvider";function rb(){const e=f.useContext(dL);if(!e)throw new Error("useRootTheme(): missing context value");return e}function kz(e){const{children:t,scheme:n,tone:r}=e,i=rb();return u.jsx(oS,{scheme:n||i.scheme,theme:i.theme,tone:r,children:t})}kz.displayName="ThemeColorProvider";function ib(){return Ome()}function Hf(){return Ee(Ome())}function UKe(e,t){return t===0?`screen and (max-width: ${e[t]-1}px)`:t===e.length?`screen and (min-width: ${e[t-1]}px)`:`screen and (min-width: ${e[t-1]}px) and (max-width: ${e[t]-1}px)`}function HKe(e){const t=e.length;let n;const r=()=>{if(!n){n=[];for(let i=t;i>-1;i-=1){const a=UKe(e,i);n.push({index:i,mq:window.matchMedia(a)})}}return n};return{getSnapshot:()=>{for(const{index:i,mq:a}of r())if(a.matches)return i;return 0},subscribe:i=>{const a=[];for(const{mq:o}of r()){const s=()=>{o.matches&&i()};o.addEventListener("change",s),a.push(()=>o.removeEventListener("change",s))}return()=>{for(const o of a)o()}}}}function WKe(){return 0}function w0(){const{media:e}=Hf(),t=f.useMemo(()=>HKe(e),[e]);return f.useSyncExternalStore(t.subscribe,t.getSnapshot,WKe)}function GKe(e=()=>!1){return sxe("(prefers-color-scheme: dark)",e)}function WD(e=()=>!1){return sxe("(prefers-reduced-motion: reduce)",e)}function YKe(){return[qKe,KKe,ZKe,XKe,JKe]}function qKe(e){var t,n;const{card:r,media:i}=Ee(e.theme),a=`${(n=(t=r.border)==null?void 0:t.width)!=null?n:1}px solid var(--card-border-color)`;return Rt(i,e.$border,o=>o?{"&&":{border:a}}:{"&&":{border:0}})}function KKe(e){var t,n;const{card:r,media:i}=Ee(e.theme),a=`${(n=(t=r.border)==null?void 0:t.width)!=null?n:1}px solid var(--card-border-color)`;return Rt(i,e.$borderTop,o=>o?{"&&":{borderTop:a}}:{"&&":{borderTop:0}})}function ZKe(e){var t,n;const{card:r,media:i}=Ee(e.theme),a=`${(n=(t=r.border)==null?void 0:t.width)!=null?n:1}px solid var(--card-border-color)`;return Rt(i,e.$borderRight,o=>o?{"&&":{borderRight:a}}:{"&&":{borderRight:0}})}function XKe(e){var t,n;const{card:r,media:i}=Ee(e.theme),a=`${(n=(t=r.border)==null?void 0:t.width)!=null?n:1}px solid var(--card-border-color)`;return Rt(i,e.$borderBottom,o=>o?{"&&":{borderBottom:a}}:{"&&":{borderBottom:0}})}function JKe(e){var t,n;const{card:r,media:i}=Ee(e.theme),a=`${(n=(t=r.border)==null?void 0:t.width)!=null?n:1}px solid var(--card-border-color)`;return Rt(i,e.$borderLeft,o=>o?{"&&":{borderLeft:a}}:{"&&":{borderLeft:0}})}const QKe={'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"}},eZe={content:"content-box",border:"border-box"},tZe={stretch:"stretch",fill:"100%"};function nZe(){return QKe}function rZe(){return[aZe,oZe,sZe,iZe]}function iZe(e){const{media:t}=Ee(e.theme);return Rt(t,e.$display,n=>({"&:not([hidden])":{display:n}}))}function aZe(e){const{media:t}=Ee(e.theme);return Rt(t,e.$sizing,n=>({boxSizing:eZe[n]}))}function oZe(e){const{media:t}=Ee(e.theme);return Rt(t,e.$height,n=>({height:tZe[n]}))}function sZe(e){const{media:t}=Ee(e.theme);return Rt(t,e.$overflow,n=>({overflow:n}))}const lZe={"&&:not([hidden])":{display:"flex"}};function uZe(){return[lZe,cZe,dZe,fZe,hZe,pZe]}function cZe(e){const{media:t}=Ee(e.theme);return Rt(t,e.$align,n=>({alignItems:n}))}function dZe(e){const{media:t,space:n}=Ee(e.theme);return Rt(t,e.$gap,r=>({gap:r?Se(n[r]):void 0}))}function fZe(e){const{media:t}=Ee(e.theme);return Rt(t,e.$wrap,n=>({flexWrap:n}))}function hZe(e){const{media:t}=Ee(e.theme);return Rt(t,e.$justify,n=>({justifyContent:n}))}function pZe(e){const{media:t}=Ee(e.theme);return Rt(t,e.$direction,n=>({flexDirection:n}))}const mZe={minWidth:0,minHeight:0};function lxe(){return[mZe,gZe]}function gZe(e){const{media:t}=Ee(e.theme);return e.$flex?Rt(t,e.$flex,n=>({flex:n})):E2}function _i(e){return`inset 0 0 0 ${e.width}px ${e.color}`}function Gl(e){const{base:t,border:n,focusRing:r}=e,i=r.offset+r.width,a=0-r.offset,o=t?t.bg:"var(--card-bg-color)";return[a>0&&`inset 0 0 0 ${a}px var(--card-focus-ring-color)`,n&&_i(n),a<0&&`0 0 0 ${0-a}px ${o}`,i>0&&`0 0 0 ${i}px var(--card-focus-ring-color)`].filter(Boolean).join(",")}const vZe={"&&:not([hidden])":{display:"grid"},'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"}},yZe={auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"},bZe={auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"};function xZe(){return[vZe,wZe,CZe,SZe,_Ze,EZe,kZe,TZe,AZe]}function wZe(e){const{media:t}=Ee(e.theme);return Rt(t,e.$autoFlow,n=>({gridAutoFlow:n}))}function CZe(e){const{media:t}=Ee(e.theme);return Rt(t,e.$autoRows,n=>({gridAutoRows:n&&bZe[n]}))}function SZe(e){const{media:t}=Ee(e.theme);return Rt(t,e.$autoCols,n=>({gridAutoColumns:n&&yZe[n]}))}function _Ze(e){const{media:t}=Ee(e.theme);return Rt(t,e.$columns,n=>({gridTemplateColumns:n&&`repeat(${n},minmax(0,1fr));`}))}function EZe(e){const{media:t}=Ee(e.theme);return Rt(t,e.$rows,n=>({gridTemplateRows:n&&`repeat(${n},minmax(0,1fr));`}))}function kZe(e){const{media:t,space:n}=Ee(e.theme);return Rt(t,e.$gap,r=>({gridGap:r?Se(n[r]):void 0}))}function TZe(e){const{media:t,space:n}=Ee(e.theme);return Rt(t,e.$gapX,r=>({columnGap:r?Se(n[r]):void 0}))}function AZe(e){const{media:t,space:n}=Ee(e.theme);return Rt(t,e.$gapY,r=>({rowGap:r?Se(n[r]):void 0}))}function jZe(){return[$Ze,OZe,MZe,RZe,PZe,FZe]}const IZe={auto:"auto",full:"1 / -1"},DZe={auto:"auto",full:"1 / -1"};function $Ze(e){const{media:t}=Ee(e.theme);return Rt(t,e.$row,n=>typeof n=="number"?{gridRow:`span ${n} / span ${n}`}:{gridRow:IZe[n]})}function OZe(e){const{media:t}=Ee(e.theme);return Rt(t,e.$rowStart,n=>({gridRowStart:n}))}function MZe(e){const{media:t}=Ee(e.theme);return Rt(t,e.$rowEnd,n=>({gridRowEnd:n}))}function RZe(e){const{media:t}=Ee(e.theme);return Rt(t,e.$column,n=>typeof n=="number"?{gridColumn:`span ${n} / span ${n}`}:{gridColumn:DZe[n]})}function PZe(e){const{media:t}=Ee(e.theme);return Rt(t,e.$columnStart,n=>({gridColumnStart:n}))}function FZe(e){const{media:t}=Ee(e.theme);return Rt(t,e.$columnEnd,n=>({gridColumnEnd:n}))}function Tz(e){const{$fontSize:t,$iconLeft:n,$iconRight:r,$padding:i,$space:a}=e,{font:o,media:s,space:l}=Ee(e.theme),c=Math.max(i.length,a.length,t.length),d=[],h=[],p=[];for(let m=0;m<c;m+=1)p[m]=t[m]===void 0?p[m-1]:t[m],d[m]=i[m]===void 0?d[m-1]:i[m],h[m]=a[m]===void 0?h[m-1]:a[m];return Rt(s,d,(m,g)=>{const v=o.text.sizes[p[g]]||o.text.sizes[2],b=v.lineHeight-v.ascenderHeight-v.descenderHeight,y=l[d[g]],x=l[h[g]],w={paddingTop:Se(y-v.ascenderHeight),paddingRight:Se(y),paddingBottom:Se(y-v.descenderHeight),paddingLeft:Se(y)};return r&&(w.paddingRight=Se(y+b+x)),n&&(w.paddingLeft=Se(y+b+x)),w})}function NZe(e){return Tz({...e,$iconRight:!0})}const LZe=ce`
  &:not([hidden]) {
    display: flex;
  }

  align-items: center;
`;function uxe(){return LZe}function cxe(e){const{$scheme:t,$tone:n,$weight:r}=e,{color:i,font:a}=Ee(e.theme);return ce`
    appearance: none;
    background: none;
    border: 0;
    border-radius: 0;
    outline: none;
    width: 100%;
    box-sizing: border-box;
    font-family: ${a.text.family};
    font-weight: ${r&&a.text.weights[r]||a.text.weights.regular};
    margin: 0;
    position: relative;
    z-index: 1;
    display: block;

    /* NOTE: This is a hack to disable Chrome’s autofill styles */
    &:-webkit-autofill,
    &:-webkit-autofill:hover,
    &:-webkit-autofill:focus,
    &:-webkit-autofill:active {
      -webkit-text-fill-color: var(--input-fg-color) !important;
      transition: background-color 5000s;
      transition-delay: 86400s /* 24h */;
    }

    /* &:is(textarea) */
    &[data-as='textarea'] {
      resize: none;
    }

    color: var(--input-fg-color);

    &::placeholder {
      color: var(--input-placeholder-color);
    }

    &[data-scheme='${t}'][data-tone='${n}'] {
      --input-fg-color: ${i.input.default.enabled.fg};
      --input-placeholder-color: ${i.input.default.enabled.placeholder};

      /* enabled */
      &:not(:invalid):not(:disabled):not(:read-only) {
        --input-fg-color: ${i.input.default.enabled.fg};
        --input-placeholder-color: ${i.input.default.enabled.placeholder};
      }

      /* disabled */
      &:not(:invalid):disabled {
        --input-fg-color: ${i.input.default.disabled.fg};
        --input-placeholder-color: ${i.input.default.disabled.placeholder};
      }

      /* invalid */
      &:invalid {
        --input-fg-color: ${i.input.invalid.enabled.fg};
        --input-placeholder-color: ${i.input.invalid.enabled.placeholder};
      }

      /* readOnly */
      &:read-only {
        --input-fg-color: ${i.input.default.readOnly.fg};
        --input-placeholder-color: ${i.input.default.readOnly.placeholder};
      }
    }
  `}function dxe(e){const{font:t,media:n}=Ee(e.theme);return Rt(n,e.$fontSize,r=>{const i=t.text.sizes[r]||t.text.sizes[2];return{fontSize:Se(i.fontSize),lineHeight:i.lineHeight/i.fontSize}})}function fxe(e){const{$hasPrefix:t,$hasSuffix:n,$scheme:r,$tone:i,$unstableDisableFocusRing:a}=e,{color:o,input:s}=Ee(e.theme);return ce`
    --input-box-shadow: none;

    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: block;
    pointer-events: none;
    z-index: 0;

    background-color: var(--card-bg-color);
    box-shadow: var(--input-box-shadow);

    border-top-left-radius: ${t?0:void 0};
    border-bottom-left-radius: ${t?0:void 0};
    border-top-right-radius: ${n?0:void 0};
    border-bottom-right-radius: ${n?0:void 0};

    &[data-scheme='${r}'][data-tone='${i}'] {
      --card-bg-color: ${o.input.default.enabled.bg};
      --card-fg-color: ${o.input.default.enabled.fg};

      /* enabled */
      *:not(:disabled) + &[data-border] {
        --input-box-shadow: ${_i({color:o.input.default.enabled.border,width:s.border.width})};
      }

      /* invalid */
      *:not(:disabled):invalid + & {
        --card-bg-color: ${o.input.invalid.enabled.bg};
        --card-fg-color: ${o.input.invalid.enabled.fg};

        &[data-border] {
          --input-box-shadow: ${_i({color:o.input.invalid.enabled.border,width:s.border.width})};
        }
      }

      /* focused */
      *:not(:disabled):focus + & {
        &[data-border] {
          --input-box-shadow: ${a?void 0:Gl({border:{color:o.input.default.enabled.border,width:s.border.width},focusRing:s.text.focusRing})};
        }

        &:not([data-border]) {
          --input-box-shadow: ${a?void 0:Gl({focusRing:s.text.focusRing})};
        }
      }

      /* disabled */
      *:not(:invalid):disabled + & {
        --card-bg-color: ${o.input.default.disabled.bg} !important;
        --card-fg-color: ${o.input.default.disabled.fg} !important;
        --card-icon-color: ${o.input.default.disabled.fg} !important;

        &[data-border] {
          --input-box-shadow: ${_i({color:o.input.default.disabled.border,width:s.border.width})};
        }
      }

      *:invalid:disabled + & {
        --card-bg-color: ${o.input.invalid.disabled.bg} !important;
        --card-fg-color: ${o.input.invalid.disabled.fg} !important;
        --card-icon-color: ${o.input.invalid.disabled.fg} !important;

        &[data-border] {
          --input-box-shadow: ${_i({color:o.input.invalid.disabled.border,width:s.border.width})};
        }
      }

      /* readOnly */
      *:not(:invalid):read-only + & {
        --card-bg-color: ${o.input.default.readOnly.bg} !important;
        --card-fg-color: ${o.input.default.readOnly.fg} !important;
      }

      *:invalid:read-only + & {
        --card-bg-color: ${o.input.invalid.readOnly.bg} !important;
        --card-fg-color: ${o.input.invalid.readOnly.fg} !important;
      }

      /* hovered */
      @media (hover: hover) {
        *:not(:disabled):not(:read-only):not(:invalid):hover + & {
          --card-bg-color: ${o.input.default.hovered.bg};
          --card-fg-color: ${o.input.default.hovered.fg};
        }

        *:invalid:not(:disabled):not(:read-only):hover + & {
          --card-bg-color: ${o.input.invalid.hovered.bg};
          --card-fg-color: ${o.input.invalid.hovered.fg};
        }

        *:not(:disabled):not(:read-only):not(:invalid):not(:focus):hover + &[data-border] {
          --input-box-shadow: ${_i({color:o.input.default.hovered.border,width:s.border.width})};
        }

        *:invalid:not(:disabled):not(:read-only):not(:focus):hover + &[data-border] {
          --input-box-shadow: ${_i({color:o.input.invalid.hovered.border,width:s.border.width})};
        }
      }
    }
  `}function BZe(e){const{theme:t}=e;return[ms(t,["margin"],e.$margin),ms(t,["marginLeft","marginRight"],e.$marginX),ms(t,["marginTop","marginBottom"],e.$marginY),ms(t,["marginTop"],e.$marginTop),ms(t,["marginRight"],e.$marginRight),ms(t,["marginBottom"],e.$marginBottom),ms(t,["marginLeft"],e.$marginLeft)].filter(Boolean)}function hxe(e){const{theme:t}=e;return[ms(t,["padding"],e.$padding),ms(t,["paddingLeft","paddingRight"],e.$paddingX),ms(t,["paddingTop","paddingBottom"],e.$paddingY),ms(t,["paddingTop"],e.$paddingTop),ms(t,["paddingRight"],e.$paddingRight),ms(t,["paddingBottom"],e.$paddingBottom),ms(t,["paddingLeft"],e.$paddingLeft)].filter(Boolean)}function Wf(e){const{media:t,radius:n}=Ee(e.theme);return Rt(t,e.$radius,r=>{let i=0;return typeof r=="number"&&(i=Se(n[r])),r==="full"&&(i="9999px"),{borderRadius:i}})}function cP(e,t){return`${e.map(Se).join(" ")} ${t}`}function VZe(e,t=1){if(!e)return pp;const n=`0 0 0 ${Se(t)} var(--card-shadow-outline-color)`,r=cP(e.umbra,"var(--card-shadow-umbra-color)"),i=cP(e.penumbra,"var(--card-shadow-penumbra-color)"),a=cP(e.ambient,"var(--card-shadow-ambient-color)");return{boxShadow:`${n}, ${r}, ${i}, ${a}`}}function zZe(e){const{card:t,media:n,shadow:r}=Ee(e.theme);return Rt(n,e.$shadow,i=>VZe(r[i],t.shadow.outline))}function UZe(e){const{$accent:t,$muted:n}=e,{font:r}=Ee(e.theme);return ce`
    text-transform: uppercase;

    ${t&&ce`
      color: var(--card-accent-fg-color);
    `}

    ${n&&ce`
      color: var(--card-muted-fg-color);
    `}

    & code {
      font-family: ${r.code.family};
      border-radius: 1px;
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `}const HZe=R.div(gKe,_z,UZe),WZe=R.span`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`,ab=f.forwardRef(function(e,t){const{accent:n,align:r,children:i,muted:a=!1,size:o=2,textOverflow:s,weight:l,...c}=e;let d=i;return s==="ellipsis"?d=u.jsx(WZe,{children:d}):d=u.jsx("span",{children:d}),u.jsx(HZe,{"data-ui":"Label",...c,$accent:n,$align:ke(r),$muted:a,$size:ke(o),$weight:l,ref:t,children:d})});ab.displayName="ForwardRef(Label)";const ob={root:YZe,arrow:GZe,bgStroke:XZe,stroke:JZe,initials:ZZe,image:KZe};function GZe(){return{position:"absolute",boxSizing:"border-box",zIndex:0,opacity:0,transition:"all 0.2s linear",transform:"rotate(-90deg) translate3d(0, 6px, 0)",left:0,right:0,top:0,bottom:0,"& > svg":{width:"11px",height:"7px",position:"absolute",top:"-5px",left:"50%",transform:"translateX(-6px)","&:not([hidden])":{display:"block"}},"[data-arrow-position='inside'] > &":{transform:"rotate(-90deg) translate3d(0, 6px, 0)",opacity:0},"[data-arrow-position='top'] > &":{opacity:1,transform:"rotate(0deg)"},"[data-arrow-position='bottom'] > &":{opacity:1,transform:"rotate(-180deg)"}}}function YZe(e){const{$color:t}=e,{avatar:n}=Ee(e.theme);return{"--avatar-bg-color":`var(--card-avatar-${t}-bg-color)`,"--avatar-fg-color":`var(--card-avatar-${t}-fg-color)`,backgroundColor:"var(--avatar-bg-color)",position:"relative",boxSizing:"border-box",userSelect:"none",boxShadow:"0 0 0 1px var(--card-bg-color)",'&[data-status="inactive"]':{opacity:.5},"&>svg":{"&:not([hidden])":{display:"block"}},'&[data-as="button"]':{WebkitFontSmoothing:"inherit",appearance:"none",margin:0,padding:0,border:0,font:"inherit",color:"inherit",outline:"none","&:focus":{boxShadow:Gl({focusRing:n.focusRing})},"&:focus:not(:focus-visible)":{boxShadow:"none"}}}}function qZe(e){const{avatar:t,media:n}=Ee(e.theme);return Rt(n,e.$size,r=>{const i=t.sizes[r]||t.sizes[0];return{width:Se(i.size),height:Se(i.size),borderRadius:Se(i.size/2),"&>svg":{width:Se(i.size),height:Se(i.size),borderRadius:Se(i.size/2)}}})}function KZe(){return{position:"relative"}}function ZZe(){return{width:"100%",height:"100%",color:"var(--avatar-fg-color)",alignItems:"center",justifyContent:"center",textTransform:"uppercase",textAlign:"center",borderRadius:"50%","&:not([hidden])":{display:"flex"}}}function XZe(){return{strokeWidth:"4px",stroke:"var(--card-bg-color)"}}function JZe(){return{strokeWidth:"2px",stroke:"var(--avatar-bg-color)",'[data-status="editing"] &':{strokeDasharray:"2 4",strokeLinecap:"round"}}}const QZe=R.div(qZe,ob.root),eXe=R.div(ob.arrow),tXe=R.ellipse(ob.bgStroke),nXe=R.ellipse(ob.stroke),rXe=R.div(ob.initials),iXe=R(ab)({color:"inherit"}),aXe=R.svg(ob.image),Az=f.forwardRef(function(e,t){const{__unstable_hideInnerStroke:n,as:r,color:i="gray",src:a,title:o,initials:s,onImageLoadError:l,arrowPosition:c,animateArrowFrom:d,status:h="online",size:p=1,...m}=e,{avatar:g}=Hf(),v=r8e.isValidElementType(r)?r:"div",b=ke(p),y=(g.sizes[b[0]]||g.sizes[0]).size,x=y/2,w=f.useId(),[C,S]=f.useState(d||c||"inside"),[_,E]=f.useState(!1),k=`avatar-image-${w}`;f.useEffect(()=>{if(C===c)return;const I=requestAnimationFrame(()=>S(c));return()=>cancelAnimationFrame(I)},[C,c]),f.useEffect(()=>{a&&E(!1)},[a]);const T=f.useCallback(()=>{E(!0),l&&l(new Error("Avatar: the image failed to load"))},[l]),j=f.useMemo(()=>b.map(I=>I===1?1:I===2?3:I===3?5:0),[b]);return u.jsxs(QZe,{as:v,"data-as":typeof v=="string"?v:void 0,"data-ui":"Avatar",...m,$color:i,$size:b,"aria-label":o,"data-arrow-position":C,"data-status":h,ref:t,title:o,children:[u.jsx(eXe,{children:u.jsx("svg",{width:"11",height:"7",viewBox:"0 0 11 7",fill:"none",children:u.jsx("path",{d:"M6.67948 1.50115L11 7L0 7L4.32052 1.50115C4.92109 0.736796 6.07891 0.736795 6.67948 1.50115Z",fill:i})})}),!_&&a&&u.jsxs(aXe,{viewBox:`0 0 ${y} ${y}`,fill:"none",children:[u.jsx("defs",{children:u.jsx("pattern",{id:k,patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:u.jsx("image",{href:a,width:"1",height:"1",onError:T})})}),u.jsx("circle",{cx:x,cy:x,r:x,fill:`url(#${k})`}),!n&&u.jsx(tXe,{cx:x,cy:x,rx:x,ry:x,vectorEffect:"non-scaling-stroke"}),u.jsx(nXe,{cx:x,cy:x,rx:x,ry:x,vectorEffect:"non-scaling-stroke"})]}),(_||!a)&&s&&u.jsx(u.Fragment,{children:u.jsx(rXe,{children:u.jsx(iXe,{forwardedAs:"span",size:j,weight:"medium",children:s})})})]})});Az.displayName="ForwardRef(Avatar)";function oXe(e){const{avatar:t,media:n}=Ee(e.theme);return Rt(n,e.$size,r=>{const i=t.sizes[r];return i?{borderRadius:Se(i.size/2),minWidth:Se(i.size),height:Se(i.size)}:pp})}function sXe(e){const{space:t}=Ee(e.theme);return ce`
    align-items: center;
    justify-content: center;
    box-sizing: border-box;
    user-select: none;
    color: inherit;
    color: var(--card-fg-color);
    background: var(--card-bg-color);
    box-shadow:
      0 0 0 1px var(--card-bg-color),
      inset 0 0 0 1px var(--card-hairline-hard-color);
    padding: 0 ${Se(t[2])};

    &:not([hidden]) {
      display: flex;
    }
  `}const lXe=R.div(oXe,sXe),SA=f.forwardRef(function(e,t){const{count:n,size:r=1}=e,i=ke(r),a=f.useMemo(()=>i.map(o=>o===1?1:o===2?3:o===3?5:0),[i]);return u.jsx(lXe,{$size:i,"data-ui":"AvatarCounter",ref:t,children:u.jsx(ab,{as:"span",size:a,weight:"medium",children:n})})});SA.displayName="ForwardRef(AvatarCounter)";const uXe=ce`
  white-space: nowrap;

  & > div {
    vertical-align: top;

    &:not([hidden]) {
      display: inline-block;
    }
  }
`;function cXe(){return uXe}function dXe(e){const{avatar:t,media:n}=Ee(e.theme);return Rt(n,e.$size,r=>{const i=t.sizes[r];return i?{"& > div + div":{marginLeft:Se(i.distance)}}:pp})}const fXe=R.div(dXe,cXe),A2=f.forwardRef(function(e,t){const{children:n,maxLength:r=4,size:i=1,...a}=e,o=f.useMemo(()=>f.Children.toArray(n).filter(f.isValidElement),[n]),s=Math.max(r,0),l=ke(i),c=o.length,d=s-1,h=c-d,p=h>1?o.slice(h,c):o;return u.jsxs(fXe,{"data-ui":"AvatarStack",...a,ref:t,$size:l,children:[c===0&&u.jsx("div",{children:u.jsx(SA,{count:c,size:l})}),c!==0&&h>1&&u.jsx("div",{children:u.jsx(SA,{count:h,size:l})}),p.map((m,g)=>u.jsx("div",{children:f.cloneElement(m,{size:l})},String(g)))]})});A2.displayName="ForwardRef(AvatarStack)";const hXe=R.div(nZe,lxe,rZe,jZe,BZe,hxe),L=f.forwardRef(function(e,t){const{as:n="div",column:r,columnStart:i,columnEnd:a,display:o="block",flex:s,height:l,margin:c=0,marginX:d,marginY:h,marginTop:p,marginRight:m,marginBottom:g,marginLeft:v,overflow:b,padding:y=0,paddingX:x,paddingY:w,paddingTop:C,paddingRight:S,paddingBottom:_,paddingLeft:E,row:k,rowStart:T,rowEnd:j,sizing:I,...A}=e;return u.jsx(hXe,{"data-as":typeof n=="string"?n:void 0,"data-ui":"Box",...A,$column:ke(r),$columnStart:ke(i),$columnEnd:ke(a),$display:ke(o),$flex:ke(s),$height:ke(l),$margin:ke(c),$marginX:ke(d),$marginY:ke(h),$marginTop:ke(p),$marginRight:ke(m),$marginBottom:ke(g),$marginLeft:ke(v),$overflow:ke(b),$padding:ke(y),$paddingX:ke(x),$paddingY:ke(w),$paddingTop:ke(C),$paddingRight:ke(S),$paddingBottom:ke(_),$paddingLeft:ke(E),$row:ke(k),$rowStart:ke(T),$rowEnd:ke(j),$sizing:ke(I),as:n,ref:t,children:e.children})});L.displayName="ForwardRef(Box)";function pXe(e){const{$accent:t,$muted:n}=e,{font:r}=Ee(e.theme);return ce`
    color: var(--card-fg-color);

    ${t&&ce`
      color: var(--card-accent-fg-color);
    `}

    ${n&&ce`
      color: var(--card-muted-fg-color);
    `}

    & code {
      font-family: ${r.code.family};
      border-radius: 1px;
      background-color: var(--card-code-bg-color);
      color: var(--card-code-fg-color);
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
      color: var(--card-link-color);
      outline: none;

      @media (hover: hover) {
        &:hover {
          text-decoration: underline;
        }
      }

      &:focus {
        box-shadow:
          0 0 0 1px var(--card-bg-color),
          0 0 0 3px var(--card-focus-ring-color);
      }

      &:focus:not(:focus-visible) {
        box-shadow: none;
      }
    }

    & strong {
      font-weight: ${r.text.weights.bold};
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
      color: var(--card-icon-color);

      & path {
        vector-effect: non-scaling-stroke !important;
      }
    }
  `}const mXe=R.div(vKe,_z,pXe),gXe=R.span`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`,N=f.forwardRef(function(e,t){const{accent:n=!1,align:r,children:i,muted:a=!1,size:o=2,textOverflow:s,weight:l,...c}=e;let d=i;return s==="ellipsis"&&(d=u.jsx(gXe,{children:d})),u.jsx(mXe,{"data-ui":"Text",...c,$accent:n,$align:ke(r),$muted:a,ref:t,$size:ke(o),$weight:l,children:u.jsx("span",{children:d})})});N.displayName="ForwardRef(Text)";function vXe(e){const{$tone:t}=e;return{"--card-bg-color":`var(--card-badge-${t}-bg-color)`,"--card-fg-color":`var(--card-badge-${t}-fg-color)`,backgroundColor:"var(--card-bg-color)",cursor:"default","&:not([hidden])":{display:"inline-block",verticalAlign:"top"}}}const yXe=R(L)(Wf,vXe),ro=f.forwardRef(function(e,t){const{children:n,fontSize:r=1,mode:i,padding:a=1,radius:o="full",tone:s="default",...l}=e;return u.jsx(yXe,{"data-ui":"Badge",...l,$tone:s,$radius:ke(o),padding:ke(a),ref:t,children:u.jsx(N,{size:r,children:n})})});ro.displayName="ForwardRef(Badge)";const bXe=R(L)(lxe,uZe),U=f.forwardRef(function(e,t){const{align:n,as:r,direction:i="row",gap:a,justify:o,wrap:s,...l}=e;return u.jsx(bXe,{"data-ui":"Flex",...l,$align:ke(n),$direction:ke(i),$gap:ke(a),$justify:ke(o),$wrap:ke(s),forwardedAs:r,ref:t})});U.displayName="ForwardRef(Flex)";const xXe=Np`
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
`,wXe=R(N)`
  & > span > svg {
    animation: ${xXe} 500ms linear infinite;
  }
`,Wp=f.forwardRef(function(e,t){return u.jsx(wXe,{"data-ui":"Spinner",...e,ref:t,children:u.jsx(Zy,{})})});Wp.displayName="ForwardRef(Spinner)";function gn(e,t,n=!1){return{"--card-backdrop-color":e.backdrop,"--card-focus-ring-color":e.focusRing,"--card-shadow-outline-color":e.shadow.outline,"--card-shadow-umbra-color":e.shadow.umbra,"--card-shadow-penumbra-color":e.shadow.penumbra,"--card-shadow-ambient-color":e.shadow.ambient,"--card-accent-fg-color":t.accent.fg,"--card-avatar-gray-bg-color":t.avatar.gray.bg,"--card-avatar-gray-fg-color":t.avatar.gray.fg,"--card-avatar-blue-bg-color":t.avatar.blue.bg,"--card-avatar-blue-fg-color":t.avatar.blue.fg,"--card-avatar-purple-bg-color":t.avatar.purple.bg,"--card-avatar-purple-fg-color":t.avatar.purple.fg,"--card-avatar-magenta-bg-color":t.avatar.magenta.bg,"--card-avatar-magenta-fg-color":t.avatar.magenta.fg,"--card-avatar-red-bg-color":t.avatar.red.bg,"--card-avatar-red-fg-color":t.avatar.red.fg,"--card-avatar-orange-bg-color":t.avatar.orange.bg,"--card-avatar-orange-fg-color":t.avatar.orange.fg,"--card-avatar-yellow-bg-color":t.avatar.yellow.bg,"--card-avatar-yellow-fg-color":t.avatar.yellow.fg,"--card-avatar-green-bg-color":t.avatar.green.bg,"--card-avatar-green-fg-color":t.avatar.green.fg,"--card-avatar-cyan-bg-color":t.avatar.cyan.bg,"--card-avatar-cyan-fg-color":t.avatar.cyan.fg,"--card-bg-color":t.bg,"--card-bg-image":n?`repeating-conic-gradient(${t.bg} 0% 25%, ${t.muted.bg} 0% 50%)`:void 0,"--card-border-color":t.border,"--card-badge-default-bg-color":t.badge.default.bg,"--card-badge-default-dot-color":t.badge.default.dot,"--card-badge-default-fg-color":t.badge.default.fg,"--card-badge-default-icon-color":t.badge.default.icon,"--card-badge-primary-bg-color":t.badge.primary.bg,"--card-badge-primary-dot-color":t.badge.primary.dot,"--card-badge-primary-fg-color":t.badge.primary.fg,"--card-badge-primary-icon-color":t.badge.primary.icon,"--card-badge-positive-bg-color":t.badge.positive.bg,"--card-badge-positive-dot-color":t.badge.positive.dot,"--card-badge-positive-fg-color":t.badge.positive.fg,"--card-badge-positive-icon-color":t.badge.positive.icon,"--card-badge-caution-bg-color":t.badge.caution.bg,"--card-badge-caution-dot-color":t.badge.caution.dot,"--card-badge-caution-fg-color":t.badge.caution.fg,"--card-badge-caution-icon-color":t.badge.caution.icon,"--card-badge-critical-bg-color":t.badge.critical.bg,"--card-badge-critical-dot-color":t.badge.critical.dot,"--card-badge-critical-fg-color":t.badge.critical.fg,"--card-badge-critical-icon-color":t.badge.critical.icon,"--card-code-bg-color":t.code.bg,"--card-code-fg-color":t.code.fg,"--card-fg-color":t.fg,"--card-icon-color":t.icon,"--card-kbd-bg-color":t.kbd.bg,"--card-kbd-border-color":t.kbd.border,"--card-kbd-fg-color":t.kbd.fg,"--card-link-fg-color":t.link.fg,"--card-muted-bg-color":t.muted.bg,"--card-muted-fg-color":t.muted.fg,"--card-skeleton-color-from":t.skeleton.from,"--card-skeleton-color-to":t.skeleton.to,"--card-bg2-color":t.muted.bg,"--card-link-color":t.link.fg,"--card-hairline-soft-color":t.border,"--card-hairline-hard-color":t.border}}function CXe(e){const{$width:t}=e,{style:n}=Ee(e.theme);return ce`
    ${n==null?void 0:n.button};

    -webkit-font-smoothing: inherit;
    appearance: none;
    display: inline-flex;
    align-items: center;
    font: inherit;
    border: 0;
    outline: none;
    user-select: none;
    text-decoration: none;
    border: 0;
    box-sizing: border-box;
    padding: 0;
    margin: 0;
    white-space: nowrap;
    text-align: left;
    position: relative;
    vertical-align: top;

    ${t==="fill"&&ce`
      width: -moz-available;
      width: -webkit-fill-available;
      width: stretch;
    `}

    & > span {
      display: block;
      flex: 1;
      min-width: 0;
      border-radius: inherit;
    }

    &::-moz-focus-inner {
      border: 0;
      padding: 0;
    }
  `}function eQ(...e){return e.filter(Boolean).join(",")}function SXe(e){var t;const{$mode:n}=e,{button:r,color:i,style:a}=Ee(e.theme),o=e.$mode==="ghost",s=i.button[n]||i.button.default,l=s[e.$tone]||s.default,c={width:r.border.width,color:"var(--card-border-color)"},d=void 0;return[gn(i,l.enabled),{backgroundColor:"var(--card-bg-color)",color:"var(--card-fg-color)",boxShadow:_i(c),'&:disabled, &[data-disabled="true"]':gn(i,l.disabled),"&:not([data-disabled='true'])":{boxShadow:eQ(_i(c),o?d:void 0),"&:focus":{boxShadow:Gl({base:i,border:{width:2,color:i.bg},focusRing:r.focusRing})},"&:focus:not(:focus-visible)":{boxShadow:eQ(_i(c),o?d:void 0)},"@media (hover: hover)":{"&:hover":gn(i,l.hovered),"&:active":gn(i,l.pressed),"&[data-hovered]":gn(i,l.hovered)},"&[data-selected]":gn(i,l.pressed)}},(t=a==null?void 0:a.button)==null?void 0:t.root].filter(Boolean)}const _Xe=R.button(Wf,CXe,SXe),EXe=R.div`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--card-bg-color);
  border-radius: inherit;
  z-index: 1;
  box-shadow: inherit;
`,St=f.forwardRef(function(e,t){const{children:n,disabled:r,fontSize:i=1,icon:a,iconRight:o,justify:s="center",loading:l,mode:c="default",padding:d=3,paddingX:h,paddingY:p,paddingTop:m,paddingBottom:g,paddingLeft:v,paddingRight:b,radius:y=2,selected:x,space:w=3,text:C,textAlign:S,tone:_="default",type:E="button",muted:k=!1,width:T,...j}=e,{button:I}=Hf(),A=ke(s),$=ke(d),D=ke(h),M=ke(p),O=ke(m),F=ke(g),P=ke(v),V=ke(b),H=ke(y),W=ke(w),G=f.useMemo(()=>({padding:$,paddingX:D,paddingY:M,paddingTop:O,paddingBottom:F,paddingLeft:P,paddingRight:V}),[$,D,M,O,F,P,V]);return u.jsxs(_Xe,{"data-ui":"Button",...j,$mode:c,$radius:H,$tone:_,"data-disabled":!!(l||r),"data-selected":x?"":void 0,disabled:!!(l||r),ref:t,type:E,$width:T,children:[!!l&&u.jsx(EXe,{children:u.jsx(Wp,{})}),(a||C||o)&&u.jsx(L,{as:"span",...G,children:u.jsxs(U,{as:"span",justify:A,gap:W,children:[a&&u.jsxs(N,{size:i,children:[f.isValidElement(a)&&a,Gc.isValidElementType(a)&&u.jsx(a,{})]}),C&&u.jsx(N,{muted:k,align:S,size:i,textOverflow:"ellipsis",weight:I.textWeight,children:C}),o&&u.jsxs(N,{size:i,children:[f.isValidElement(o)&&o,Gc.isValidElementType(o)&&u.jsx(o,{})]})]})}),n&&u.jsx(L,{as:"span",...G,children:n})]})});St.displayName="ForwardRef(Button)";function kXe(e){return[TXe(e),AXe(e)]}function TXe(e){const{$checkered:t}=e,{space:n}=Ee(e.theme);return ce`
    ${t&&ce`
      background-size: ${n[3]}px ${n[3]}px;
      background-position: 50% 50%;
      background-image: var(--card-bg-image);
    `}

    &[data-as='button'] {
      -webkit-font-smoothing: inherit;
      appearance: none;
      outline: none;
      font: inherit;
      text-align: inherit;
      border: 0;
      width: -moz-available;
      width: -webkit-fill-available;
      width: stretch;
    }

    /* &:is(a) */
    &[data-as='a'] {
      outline: none;
      text-decoration: none;
    }

    /* &:is(pre) */
    &[data-as='pre'] {
      font: inherit;
    }
  `}function AXe(e){var t;const{$checkered:n,$focusRing:r,$muted:i}=e,{card:a,color:o,style:s}=Ee(e.theme),l={width:a.border.width,color:"var(--card-border-color)"};return ce`
    color-scheme: ${o._dark?"dark":"light"};

    ${gn(o,o,n)}

    background-color: ${i?"var(--card-muted-bg-color)":"var(--card-bg-color)"};
    color: var(--card-fg-color);

    /* &:is(button) */
    &[data-as='button'] {
      --card-focus-ring-box-shadow: none;

      cursor: default;
      box-shadow: var(--card-focus-ring-box-shadow);

      &:disabled {
        ${gn(o,o.selectable.default.disabled,n)}
      }

      &:not(:disabled) {
        &[data-pressed] {
          ${gn(o,o.selectable.default.pressed,n)}
        }

        &[data-selected] {
          ${gn(o,o.selectable.default.selected,n)}
        }

        @media (hover: hover) {
          &:not([data-pressed]):not([data-selected]) {
            &[data-hovered],
            &:hover {
              ${gn(o,o.selectable.default.hovered,n)}
            }

            &:active {
              ${gn(o,o.selectable.default.pressed,n)}
            }
          }
        }

        &:focus-visible {
          --card-focus-ring-box-shadow: ${r?Gl({base:o,border:l,focusRing:a.focusRing}):void 0};
        }
      }
    }

    /* &:is(a) */
    &[data-as='a'] {
      cursor: pointer;
      box-shadow: var(--card-focus-ring-box-shadow);

      &[data-disabled] {
        ${gn(o,o.selectable.default.disabled,n)}
      }

      &:not([data-disabled]) {
        &[data-pressed] {
          ${gn(o,o.selectable.default.pressed,n)}
        }

        &[data-selected] {
          ${gn(o,o.selectable.default.selected,n)}
        }

        @media (hover: hover) {
          &:not([data-pressed]):not([data-selected]) {
            &[data-hovered],
            &:hover {
              ${gn(o,o.selectable.default.hovered,n)}
            }

            &:active {
              ${gn(o,o.selectable.default.pressed,n)}
            }
          }
        }

        &:focus-visible {
          --card-focus-ring-box-shadow: ${r?Gl({base:o,border:l,focusRing:a.focusRing}):void 0};
        }
      }
    }

    ${(t=s==null?void 0:s.card)==null?void 0:t.root}
  `}const jXe=R(L)(YKe,Wf,zZe,kXe),te=f.forwardRef(function(e,t){const{__unstable_checkered:n=!1,__unstable_focusRing:r=!1,as:i,border:a,borderTop:o,borderRight:s,borderBottom:l,borderLeft:c,muted:d,pressed:h,radius:p=0,scheme:m,selected:g,shadow:v,tone:b="default",...y}=e,x=Gc.isValidElementType(i)?i:"div",w=rb(),C=b==="inherit"?w.tone:b;return u.jsx(kz,{scheme:m,tone:C,children:u.jsx(jXe,{"data-as":typeof x=="string"?x:void 0,"data-scheme":w.scheme,"data-ui":"Card","data-tone":C,...y,$border:ke(a),$borderTop:ke(o),$borderRight:ke(s),$borderBottom:ke(l),$borderLeft:ke(c),$checkered:n,$focusRing:r,$muted:d,$radius:ke(p),$shadow:ke(v),$tone:C,"data-checkered":n?"":void 0,"data-pressed":h?"":void 0,"data-selected":g?"":void 0,forwardedAs:x,ref:t,selected:g})})});te.displayName="ForwardRef(Card)";function IXe(){return ce`
    position: relative;
    display: inline-block;
  `}function DXe(e){const{color:t,input:n,radius:r}=Ee(e.theme),{focusRing:i}=n.checkbox;return ce`
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    outline: none;
    opacity: 0;
    z-index: 1;
    padding: 0;
    margin: 0;

    & + span {
      position: relative;
      display: block;
      height: ${Se(n.checkbox.size)};
      width: ${Se(n.checkbox.size)};
      box-sizing: border-box;
      box-shadow: ${_i({color:t.input.default.enabled.border,width:n.border.width})};
      border-radius: ${Se(r[2])};
      line-height: 1;
      background-color: ${t.input.default.enabled.bg};

      & > svg {
        display: block;
        position: absolute;
        opacity: 0;
        height: 100%;
        width: 100%;

        & > path {
          vector-effect: non-scaling-stroke;
          stroke-width: 1.5px !important;
        }
      }
    }

    &:checked + span {
      background: ${t.input.default.enabled.fg};
      box-shadow: ${_i({color:t.input.default.enabled.fg,width:n.border.width})};
      color: ${t.input.default.enabled.bg};
    }

    /* focus */
    &:not(:disabled):focus:focus-visible + span {
      box-shadow: ${Gl({focusRing:i})};
    }

    /* focus when checked - uses a different offset */
    &:not(:disabled):focus:focus-visible&:checked + span {
      box-shadow: ${Gl({focusRing:{width:1,offset:1}})};
    }

    &[data-error] + span {
      background-color: ${t.input.invalid.enabled.border};
      box-shadow: ${_i({width:n.border.width,color:t.input.invalid.enabled.muted.bg})};
      color: ${t.input.default.disabled.fg};
    }
    &[data-error]&:checked + span {
      background-color: ${t.input.invalid.enabled.muted.bg};
      color: ${t.input.default.enabled.bg};
    }
    &[data-error]&:checked&:not(:disabled):focus:focus-visible + span {
      box-shadow: ${Gl({border:{width:n.border.width,color:t.input.invalid.readOnly.muted.bg},focusRing:{width:1,offset:1}})};
    }

    &:disabled + span {
      background-color: ${t.input.default.disabled.bg};
      box-shadow: ${_i({width:n.border.width,color:t.input.default.disabled.border})};
      color: ${t.input.default.disabled.fg};
    }
    &:disabled&:checked + span {
      background-color: ${t.input.default.disabled.muted.bg};
    }

    &[data-read-only] + span {
      background-color: ${t.input.default.readOnly.bg};
      box-shadow: ${_i({width:n.border.width,color:t.input.default.readOnly.border})};
      color: ${t.input.default.readOnly.fg};
    }

    &[data-read-only]&:checked + span {
      background-color: ${t.input.default.readOnly.muted.bg};
    }

    &:checked + span > svg:first-child {
      opacity: 1;
    }
    &:indeterminate + span > svg:last-child {
      opacity: 1;
    }
  `}const $Xe=R.div(IXe),OXe=R.input(DXe),Gp=f.forwardRef(function(e,t){const{checked:n,className:r,disabled:i,indeterminate:a,customValidity:o,readOnly:s,style:l,...c}=e,d=f.useRef(null);return f.useImperativeHandle(t,()=>d.current),f.useEffect(()=>{d.current&&(d.current.indeterminate=a||!1)},[a]),k2(d,o),u.jsxs($Xe,{className:r,"data-ui":"Checkbox",style:l,children:[u.jsx(OXe,{"data-read-only":!i&&s?"":void 0,"data-error":o?"":void 0,...c,checked:n,disabled:i||s,type:"checkbox",readOnly:s,ref:d}),u.jsxs("span",{children:[u.jsx(_a,{}),u.jsx(IB,{})]})]})});Gp.displayName="ForwardRef(Checkbox)";function MXe({theme:e}){const{color:{syntax:t}}=Ee(e);return{"&.atrule":{color:t.atrule},"&.attr-name":{color:t.attrName},"&.attr-value":{color:t.attrValue},"&.attribute":{color:t.attribute},"&.boolean":{color:t.boolean},"&.builtin":{color:t.builtin},"&.cdata":{color:t.cdata},"&.char":{color:t.char},"&.class":{color:t.class},"&.class-name":{color:t.className},"&.comment":{color:t.comment},"&.constant":{color:t.constant},"&.deleted":{color:t.deleted},"&.doctype":{color:t.doctype},"&.entity":{color:t.entity},"&.function":{color:t.function},"&.hexcode":{color:t.hexcode},"&.id":{color:t.id},"&.important":{color:t.important},"&.inserted":{color:t.inserted},"&.keyword":{color:t.keyword},"&.number":{color:t.number},"&.operator":{color:t.operator},"&.prolog":{color:t.prolog},"&.property":{color:t.property},"&.pseudo-class":{color:t.pseudoClass},"&.pseudo-element":{color:t.pseudoElement},"&.punctuation":{color:t.punctuation},"&.regex":{color:t.regex},"&.selector":{color:t.selector},"&.string":{color:t.string},"&.symbol":{color:t.symbol},"&.tag":{color:t.tag},"&.unit":{color:t.unit},"&.url":{color:t.url},"&.variable":{color:t.variable}}}function RXe(){return ce`
    color: var(--card-code-fg-color);

    & code {
      font-family: inherit;

      &.refractor .token {
        ${MXe}
      }
    }

    & a {
      color: inherit;
      text-decoration: underline;
      border-radius: 1px;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `}const PXe=R.pre(RXe,pKe),fi=f.forwardRef(function(e,t){const{children:n,language:r,size:i=2,weight:a,...o}=e,s=typeof r=="string"?r:void 0,l=s?jg.hasLanguage(s):!1;return u.jsxs(PXe,{"data-ui":"Code",...o,$size:ke(i),$weight:a,ref:t,children:[!(s&&l)&&u.jsx("code",{children:n}),s&&l&&u.jsx(jg,{inline:!0,language:s,value:String(n)})]})});fi.displayName="ForwardRef(Code)";const FXe={width:"100%",margin:"0 auto"};function NXe(){return FXe}function LXe(e){const{container:t,media:n}=Ee(e.theme);return Rt(n,e.$width,r=>({maxWidth:r==="auto"?"none":Se(t[r])}))}const BXe=R(L)(NXe,LXe),si=f.forwardRef(function(e,t){const{as:n,width:r=2,...i}=e;return u.jsx(BXe,{"data-ui":"Container",...i,$width:ke(r),forwardedAs:n,ref:t})});si.displayName="ForwardRef(Container)";const VXe=R(L)(xZe),Vn=f.forwardRef(function(e,t){const{as:n,autoRows:r,autoCols:i,autoFlow:a,columns:o,gap:s,gapX:l,gapY:c,rows:d,children:h,...p}=e;return u.jsx(VXe,{"data-as":typeof n=="string"?n:void 0,"data-ui":"Grid",...p,$autoRows:ke(r),$autoCols:ke(i),$autoFlow:ke(a),$columns:ke(o),$gap:ke(s),$gapX:ke(l),$gapY:ke(c),$rows:ke(d),forwardedAs:n,ref:t,children:h})});Vn.displayName="ForwardRef(Grid)";function zXe(e){const{$accent:t,$muted:n}=e,{font:r}=Ee(e.theme);return ce`
    ${t&&ce`
      color: var(--card-accent-fg-color);
    `}

    ${n&&ce`
      color: var(--card-muted-fg-color);
    `}

    & code {
      font-family: ${r.code.family};
      border-radius: 1px;
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
      color: var(--card-link-color);
      outline: none;

      @media (hover: hover) {
        &:hover {
          text-decoration: underline;
        }
      }

      &:focus {
        box-shadow:
          0 0 0 1px var(--card-bg-color),
          0 0 0 3px var(--card-focus-ring-color);
      }

      &:focus:not(:focus-visible) {
        box-shadow: none;
      }
    }

    & strong {
      font-weight: ${r.heading.weights.bold};
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `}const UXe=R.div(zXe,_z,mKe),HXe=R.span`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`,zi=f.forwardRef(function(e,t){const{accent:n=!1,align:r,children:i,muted:a=!1,size:o=2,textOverflow:s,weight:l,...c}=e;let d=i;return s==="ellipsis"&&(d=u.jsx(HXe,{children:d})),u.jsx(UXe,{"data-ui":"Heading",...c,$accent:n,$align:ke(r),$muted:a,$size:ke(o),$weight:l,ref:t,children:u.jsx("span",{children:d})})});zi.displayName="ForwardRef(Heading)";function WXe(){return{lineHeight:0,"&&:not([hidden])":{display:"block"},"& > div":{display:"inline-block",verticalAlign:"middle"}}}function GXe(e){const{media:t,space:n}=Ee(e.theme);return Rt(t,e.$space,r=>{const i=Se(r===.5?n[1]/2:n[r]);return{margin:`-${i} 0 0 -${i}`,"& > div":{padding:`${i} 0 0 ${i}`}}})}const YXe=R(L)(WXe,GXe),An=f.forwardRef(function(e,t){const{as:n,children:r,space:i,...a}=e,o=f.useMemo(()=>f.Children.map(r,s=>s&&u.jsx("div",{children:s})),[r]);return u.jsx(YXe,{"data-ui":"Inline",...a,$space:ke(i),forwardedAs:n,ref:t,children:o})});An.displayName="ForwardRef(Inline)";function qXe(){return ce`
    --card-bg-color: var(--card-kbd-bg-color);
    --card-border-color: var(--card-kbd-border-color);
    --card-fg-color: var(--card-kbd-fg-color);

    box-shadow: inset 0 0 0 1px var(--card-border-color);
    background: var(--card-bg-color);
    font: inherit;

    vertical-align: top;

    &:not([hidden]) {
      display: inline-block;
    }
  `}const KXe=R.kbd(Wf,qXe),pxe=f.forwardRef(function(e,t){const{children:n,fontSize:r=0,padding:i=1,radius:a=2,...o}=e;return u.jsx(KXe,{"data-ui":"KBD",...o,$radius:ke(a),ref:t,children:u.jsx(L,{as:"span",padding:i,children:u.jsx(N,{as:"span",size:r,weight:"semibold",children:n})})})});pxe.displayName="ForwardRef(KBD)";const mxe={name:"@sanity/ui/origin",fn({middlewareData:e,placement:t,rects:n}){var r,i;const[a]=t.split("-"),o=n.floating.width,s=n.floating.height,l=((r=e.shift)==null?void 0:r.x)||0,c=((i=e.shift)==null?void 0:i.y)||0;if(o<=0||s<=0)return{};const d=["bottom","top"].includes(a),{originX:h,originY:p}=d?{originX:tQ(.5-l/o,0,1),originY:a==="bottom"?0:1}:{originX:a==="left"?1:0,originY:tQ(.5-c/s,0,1)};return{data:{originX:h,originY:p}}}};function tQ(e,t,n){return Math.min(Math.max(e,t),n)}function nQ(e,t,n){const r=t.x-e.x,i=t.y-e.y,a=Math.sqrt(r*r+i*i);return fL(e,t,Math.min(1,n/a))}function fL(e,t,n){return{x:e.x+(t.x-e.x)*n,y:e.y+(t.y-e.y)*n}}function ZXe(e){const t=e.length,n=[];for(let r=0;r<t;r+=1){const i=e[r],a=e[r-1],o=e[r+1];if(a&&i.radius){const s=nQ(i,a,i.radius),l=nQ(i,o,i.radius),c=fL(s,i,.5),d=fL(i,l,.5);n.push({type:"point",...s}),n.push({type:"curve",curveEnd:l,startControl:c,endControl:d})}else n.push({type:"point",...i})}return n}function XXe(e){return e.map((t,n)=>t.type==="point"?`${n===0?"M":"L"} ${t.x} ${t.y}`:t.type==="curve"?`C ${t.startControl.x} ${t.startControl.y} ${t.endControl.x} ${t.endControl.y} ${t.curveEnd.x} ${t.curveEnd.y}`:"").join(" ")}const JXe=R.div(({$w:e})=>ce`
    position: absolute;
    width: ${e}px;
    height: ${e}px;

    :empty + & {
      display: none;
    }

    & > svg {
      display: block;
      line-height: 0;
      transform-origin: ${e/2}px ${e/2}px;
    }

    [data-placement^='top'] > & {
      bottom: -${e}px;

      & > svg {
        transform: rotate(0);
      }
    }

    [data-placement^='right'] > & {
      left: -${e}px;

      & > svg {
        transform: rotate(90deg);
      }
    }

    [data-placement^='left'] > & {
      right: -${e}px;

      & > svg {
        transform: rotate(-90deg);
      }
    }

    [data-placement^='bottom'] > & {
      top: -${e}px;

      & > svg {
        transform: rotate(180deg);
      }
    }
  `),QXe=R.path`
  stroke: var(--card-shadow-outline-color);
`,eJe=R.path`
  fill: var(--card-bg-color);
`,jz=f.forwardRef(function(e,t){const{width:n,height:r,radius:i=0,...a}=e,{card:o}=Hf(),s=o.shadow.outline,l=n/2,c=[{x:0,y:0},{x:i,y:0,radius:i},{x:l,y:r-1,radius:i},{x:n-i,y:0,radius:i},{x:n,y:0}],d=ZXe(c),h=XXe(d),p=`${h}`,m=`${h} M ${n} -1 M 0 -1 Z`;return u.jsx(JXe,{...a,$w:n,ref:t,children:u.jsxs("svg",{width:n,height:n,viewBox:`0 0 ${n} ${n}`,children:[u.jsx("mask",{id:"stroke-mask",children:u.jsx("rect",{x:0,y:s,width:n,height:n,fill:"white"})}),u.jsx(QXe,{d:p,mask:"url(#stroke-mask)",strokeWidth:s*2}),u.jsx(eJe,{d:m})]})})});jz.displayName="ForwardRef(Arrow)";const gxe=Uf("@sanity/ui/context/boundaryElement",null);function Cf(e){const{children:t,element:n}=e,r=f.useMemo(()=>({version:0,element:n}),[n]);return u.jsx(gxe.Provider,{value:r,children:t})}Cf.displayName="BoundaryElementProvider";function j2(e){return!!(e&&typeof e=="object"&&!Array.isArray(e))}const tJe={version:0,element:null};function C0(){const e=f.useContext(gxe);if(e&&(!j2(e)||e.version!==0))throw new Error("useBoundaryElement(): the context value is not compatible");return e||tJe}function sS({children:e,condition:t,wrapper:n}){return t?n(e):e}sS.displayName="ConditionalWrapper";function nJe(e,t){const n=[];for(let r=0;r<e.length;r+=1)e[r]>t&&n.push(r);return n}function rJe(e,t){const n=[];for(let r=0;r<e.length;r+=1)e[r]<=t&&n.push(r);return n}const GD=f.forwardRef(function(e,t){const n=Hf(),{children:r,media:i=n.media,...a}=e,o=f.useRef(null),[s,l]=f.useState(null),c=T2(s),d=f.useMemo(()=>{var g;return(g=c==null?void 0:c.border.width)!=null?g:window.innerWidth},[c]),h=f.useMemo(()=>nJe(i,d),[i,d]),p=f.useMemo(()=>rJe(i,d),[i,d]);f.useImperativeHandle(t,()=>o.current);const m=f.useCallback(g=>{o.current=g,l(g)},[]);return u.jsx("div",{"data-ui":"ElementQuery",...a,"data-eq-max":h.length?h.join(" "):void 0,"data-eq-min":p.length?p.join(" "):void 0,ref:m,children:r})});GD.displayName="ForwardRef(ElementQuery)";var iJe=Object.defineProperty,aJe=(e,t,n)=>t in e?iJe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oJe=(e,t,n)=>aJe(e,t+"",n);class sb extends f.Component{constructor(){super(...arguments),oJe(this,"state",{error:null})}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t,n){this.props.onCatch({error:t,info:n})}render(){const{error:t}=this.state;if(t){const n=typeof(t==null?void 0:t.message)=="string"?t.message:"Error";return u.jsx(fi,{children:n})}return this.props.children}}function vxe(e){if(!j2(e)||e.version!==0)throw new Error("the context value is not compatible");if(!e)throw new Error("components using `useLayer()` should be wrapped in a <LayerProvider>.");if(e.version===0)return e;throw new Error("could not get layer context")}const hL=Uf("@sanity/ui/context/layer",null);function Ds(){const e=f.useContext(hL);if(!e)throw new Error("useLayer(): missing context value");try{return vxe(e)}catch(t){throw t instanceof Error?new Error(`useLayer(): ${t.message}`):new Error(`useLayer(): ${t}`)}}function pL(e){const t=requestAnimationFrame(e);return()=>{cancelAnimationFrame(t)}}function sJe(e){let t=null;const n=pL(()=>{t=pL(e)});return()=>{t&&t(),n()}}function lJe(e){return Iz(e)||Dz(e)}function td(e){return e instanceof Node&&e.nodeType===Node.ELEMENT_NODE}function Iz(e){return td(e)&&e.nodeName==="A"}function uJe(e){return td(e)&&e.nodeName==="INPUT"}function Dz(e){return td(e)&&e.nodeName==="BUTTON"}function cJe(e){return td(e)&&e.nodeName==="SELECT"}function dJe(e){return td(e)&&e.nodeName==="TEXTAREA"}function mL(e,t){return e.contains(t)||e===t}function fJe(e){return!!document.activeElement&&e.contains(document.activeElement)}function hJe(e){return e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null?!0:Iz(e)?!!e.href&&e.rel!=="ignore":uJe(e)?e.type!=="hidden"&&e.type!=="file"&&!e.disabled:Dz(e)||cJe(e)||dJe(e)?!e.disabled:!1}function yxe(e){if(!hJe(e))return!1;try{e.focus()}catch{}return document.activeElement===e}function Lg(e){for(let t=0;t<e.childNodes.length;t++){const n=e.childNodes[t];if(td(n)&&(yxe(n)||Lg(n)))return!0}return!1}function $z(e){for(let t=e.childNodes.length-1;t>=0;t--){const n=e.childNodes[t];if(td(n)&&(yxe(n)||$z(n)))return!0}return!1}function pJe(e){if(!(e instanceof Element))return!1;const t=window.getComputedStyle(e);return t.overflowX.includes("auto")||t.overflowX.includes("scroll")||t.overflowY.includes("auto")||t.overflowY.includes("scroll")}function ru(e){var t;const{children:n,zOffset:r=0}=e,i=f.useContext(hL),a=i&&vxe(i),o=a==null?void 0:a.registerChild,s=((t=a==null?void 0:a.level)!=null?t:0)+1,l=ke(r),c=l.length-1,d=Math.min(w0(),c),h=a?a.zIndex+l[d]:l[d],[,p]=f.useState({}),[m,g]=f.useState(0),v=m===0,b=f.useCallback(x=>{const w=o==null?void 0:o(x);return x!==void 0?p(C=>{var S;const _=(S=C[x])!=null?S:0,E={...C,[x]:_+1};return g(Object.keys(E).length),E}):g(C=>C+1),()=>{x!==void 0?p(C=>{const S={...C};return S[x]===1?(delete S[x],g(Object.keys(S).length)):S[x]-=1,S}):g(C=>C-1),w==null||w()}},[o]);f.useEffect(()=>o==null?void 0:o(s),[s,o]);const y=f.useMemo(()=>({version:0,isTopLayer:v,level:s,registerChild:b,size:m,zIndex:h}),[v,s,b,m,h]);return u.jsx(hL.Provider,{value:y,children:n})}ru.displayName="LayerProvider";const mJe=R.div({position:"relative"}),gJe=f.forwardRef(function(e,t){const{children:n,onActivate:r,onFocus:i,style:a=pp,...o}=e,{zIndex:s,isTopLayer:l}=Ds(),c=f.useRef(null),d=f.useRef(null),h=f.useRef(l);f.useImperativeHandle(t,()=>d.current),f.useEffect(()=>{h.current!==l&&l&&(r==null||r({activeElement:c.current})),h.current=l},[l,r]);const p=f.useCallback(m=>{i==null||i(m);const g=d.current,v=document.activeElement;!l||!g||!v||td(v)&&mL(g,v)&&(c.current=v)},[l,i]);return u.jsx(mJe,{...o,"data-ui":"Layer",onFocus:p,ref:d,style:{...a,zIndex:s},children:n})}),Jo=f.forwardRef(function(e,t){const{children:n,zOffset:r=1,...i}=e;return u.jsx(ru,{zOffset:r,children:u.jsx(gJe,{...i,ref:t,children:n})})});Jo.displayName="ForwardRef(Layer)";const bxe="@sanity/ui/context/portal",Cv=Symbol.for(`${bxe}/element`);Wd[Cv]=null;const vJe={version:0,boundaryElement:null,get element(){return typeof document>"u"?null:(Wd[Cv]||(Wd[Cv]=document.createElement("div"),Wd[Cv].setAttribute("data-portal",""),document.body.appendChild(Wd[Cv])),Wd[Cv])}},xxe=Uf(bxe,vJe);function Gf(){const e=f.useContext(xxe);if(!e)throw new Error("usePortal(): missing context value");if(!j2(e)||e.version!==0)throw new Error("usePortal(): the context value is not compatible");return e}function Yp(e){var t;const{children:n,__unstable_name:r}=e,i=Gf(),a=(r?i.elements&&i.elements[r]:i.element)||((t=i.elements)==null?void 0:t.default);return a?kc.createPortal(n,a):null}Yp.displayName="Portal";function lb(e){const{boundaryElement:t,children:n,element:r,__unstable_elements:i}=e,a=bJe(i),o=f.useSyncExternalStore(yJe,()=>document.body,()=>null),s=f.useMemo(()=>({version:0,boundaryElement:t||null,element:r||o,elements:a}),[t,r,a,o]);return u.jsx(xxe.Provider,{value:s,children:n})}lb.displayName="PortalProvider";const yJe=()=>()=>{};function bJe(e){const t=f.useRef(e);return xJe(t.current,e)||(t.current=e),t.current}function xJe(e,t){if(!e||!t)return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length!==r.length?!1:n.every(i=>e[i]===t[i])}const wJe=R.div`
  display: block;
  width: 0;
  height: 0;
  position: absolute;
  overflow: hidden;
  overflow: clip;
`,CJe=f.forwardRef(function(e,t){const{as:n,children:r}=e;return u.jsx(wJe,{"aria-hidden":!0,as:n,"data-ui":"SrOnly",ref:t,children:r})});CJe.displayName="ForwardRef(SrOnly)";const SJe=R.div`
  position: relative;
`,rQ=R.div`
  position: absolute;
  left: 0;
  right: 0;
`,_Je=f.forwardRef(function(e,t){const{as:n="div",gap:r=0,getItemKey:i,items:a=[],onChange:o,renderItem:s,...l}=e,{space:c}=Hf(),d=f.useRef(null),h=f.useRef(null),[p,m]=f.useState(0),[g,v]=f.useState(0),[b,y]=f.useState(-1);f.useImperativeHandle(t,()=>d.current),f.useEffect(()=>{if(!h.current)return;const k=h.current.firstChild;k instanceof HTMLElement&&y(k.offsetHeight)},[s]),f.useEffect(()=>{if(!d.current)return;let k=d.current.parentNode;for(;k&&!pJe(k);)k=k.parentNode;if(k){const I=k;if(!(I instanceof HTMLElement))return;const A=()=>{m(I.scrollTop)};I.addEventListener("scroll",A,{passive:!0});const $=new oxe(D=>{v(D[0].contentRect.height)});return $.observe(I),A(),()=>{I.removeEventListener("scroll",A),$.unobserve(I),$.disconnect()}}const T=()=>{m(window.scrollY)},j=()=>{v(window.innerHeight)};return window.addEventListener("scroll",T,{passive:!0}),window.addEventListener("resize",j),v(window.innerHeight),T(),()=>{window.removeEventListener("scroll",T),window.removeEventListener("resize",j)}},[]);const x=a.length,w=b?x*(b+c[r])-c[r]:0,C=w?Math.max(Math.floor(p/w*x)-2,0):0,S=w?Math.ceil((p+g)/w*x)+1:0;f.useEffect(()=>{o&&o({fromIndex:C,gap:c[r],itemHeight:b,scrollHeight:g,scrollTop:p,toIndex:S})},[C,r,b,o,g,p,c,S]);const _=f.useMemo(()=>!s||a.length===0?null:b===-1?[u.jsx(rQ,{children:s(a[0])},0)]:a.slice(C,S).map((k,T)=>{const j=C+T,I=s(k),A=i?i(k,j):j;return u.jsx(rQ,{style:{top:j*(b+c[r])},children:I},A)}),[C,r,i,b,a,s,c,S]),E=f.useMemo(()=>({height:w}),[w]);return u.jsx(SJe,{as:n,"data-ui":"VirtualList",...l,ref:d,children:u.jsx("div",{ref:h,style:E,children:_})})});_Je.displayName="ForwardRef(VirtualList)";const EJe=4,Sv=4,kJe=19,TJe=8,AJe=2,wxe=[0,0,0,0],jJe={top:["bottom","left","right"],"top-start":["bottom-start","left-start","right-start"],"top-end":["bottom-end","left-end","right-end"],bottom:["top","left","right"],"bottom-start":["top-start","left-start","right-start"],"bottom-end":["top-end","left-end","right-end"],left:["right","top","bottom"],"left-start":["right-start","top-start","bottom-start"],"left-end":["right-end","top-end","bottom-end"],right:["left","top","bottom"],"right-start":["left-start","top-start","bottom-start"],"right-end":["left-end","top-end","bottom-end"]};function IJe(e){const{apply:t,margins:n,padding:r=0}=e;return{name:"@sanity/ui/size",async fn(i){const{elements:a,placement:o,platform:s,rects:l}=i,{floating:c,reference:d}=l,h=await jze(i,{altBoundary:!0,boundary:e.boundaryElement||void 0,elementContext:"floating",padding:r,rootBoundary:"viewport"});let p=1/0,m=1/0;const g=c.width,v=c.height;o.includes("top")&&(p=g-(h.left+h.right),m=v-h.top),o.includes("right")&&(p=g-h.right,m=v-(h.top+h.bottom)),o.includes("bottom")&&(p=g-(h.left+h.right),m=v-h.bottom),o.includes("left")&&(p=g-h.left,m=v-(h.top+h.bottom)),t({availableWidth:p-n[1]-n[3],availableHeight:m-n[0]-n[2],elements:a,referenceWidth:d.width-n[1]-n[3]});const b=await s.getDimensions(a.floating),y=b.height,x=b.width;return g!==x||v!==y?{reset:{rects:!0}}:{}}}}function DJe(e){const{container:t,mediaIndex:n,width:r}=e,i=r[n],a=i===void 0?r[r.length-1]:i;return typeof a=="number"?t[a]:void 0}function $Je(e){const{boundaryWidth:t,currentWidth:n}=e;if(!(n===void 0&&t===void 0))return Math.min(n??1/0,(t||1/0)-Sv*2)}const OJe=R(Di(te))`
  &:not([hidden]) {
    display: flex;
  }
  flex-direction: column;
  width: max-content;
  min-width: min-content;
  & > * {
    opacity: var(${Vc}, 1);
    will-change: opacity;
  }
`,Cxe=f.memo(f.forwardRef(function(e,t){const{__unstable_margins:n,animate:r,arrow:i,arrowRef:a,arrowX:o,arrowY:s,children:l,padding:c,placement:d,originX:h,originY:p,overflow:m,radius:g,scheme:v,shadow:b,strategy:y,style:x,tone:w,width:C,x:S,y:_,...E}=e,{zIndex:k}=Ds(),T=f.useMemo(()=>n||wxe,[n]),j=(S??0)+T[3],I=(_??0)+T[0],A=f.useMemo(()=>({left:j,originX:h,originY:p,position:y,top:I,width:C,zIndex:k,willChange:r?"transform":void 0,...x}),[r,h,p,y,x,C,j,I,k]),$=f.useMemo(()=>({left:o!==null?o:void 0,top:s!==null?s:void 0,right:void 0,bottom:void 0}),[o,s]);return u.jsxs(OJe,{"data-ui":"Popover",...E,"data-placement":d,radius:g,ref:t,scheme:v,shadow:b,sizing:"border",style:A,tone:w,...r?Qbe:{},children:[u.jsx(U,{"data-ui":"Popover__wrapper",direction:"column",flex:1,overflow:m,children:u.jsx(U,{direction:"column",flex:1,padding:c,children:l})}),i&&u.jsx(jz,{ref:a,style:$,width:kJe,height:TJe,radius:AJe})]})}));Cxe.displayName="Memo(ForwardRef(PopoverCard))";const nd=f.memo(f.forwardRef(function(e,t){var n,r,i,a,o,s,l,c,d,h;const{container:p,layer:m}=Hf(),g=C0(),{__unstable_margins:v=wxe,animate:b=!1,arrow:y=!1,boundaryElement:x=g.element,children:w,constrainSize:C=!1,content:S,disabled:_,fallbackPlacements:E=(r=e.fallbackPlacements)!=null?r:jJe[(n=e.placement)!=null?n:"bottom"],matchReferenceWidth:k,floatingBoundary:T=(i=e.boundaryElement)!=null?i:g.element,onActivate:j,open:I,overflow:A="hidden",padding:$,placement:D="bottom",portal:M,preventOverflow:O=!0,radius:F=3,referenceBoundary:P=(a=e.boundaryElement)!=null?a:g.element,referenceElement:V,scheme:H,shadow:W=3,tone:G="inherit",width:X="auto",zOffset:z=m.popover.zOffset,updateRef:q,...Z}=e,K=WD()?!1:b,J=(o=T2(x))==null?void 0:o.border,Q=ke($),re=ke(F),ae=ke(W),ne=ke(X),se=ke(z),le=f.useRef(null),oe=f.useRef(null),ge="viewport";f.useImperativeHandle(t,()=>le.current);const _e=w0(),Me=C||O?J==null?void 0:J.width:void 0,me=DJe({container:p,mediaIndex:_e,width:ne}),ye=f.useRef(me);f.useEffect(()=>{ye.current=me},[me]);const De=$Je({boundaryWidth:Me,currentWidth:me}),be=f.useRef(De);f.useEffect(()=>{be.current=De},[De]);const he=f.useRef();f.useEffect(()=>{const _t=le.current;if(!I||!_t)return;const ze=he.current;k?ze!==void 0&&(_t.style.width=`${ze}px`):me!==void 0&&(_t.style.width=`${me}px`),typeof De=="number"&&(_t.style.maxWidth=`${De}px`)},[me,k,De,I]);const ve=f.useMemo(()=>{const _t=[];return(C||O)&&_t.push(Oye({boundary:T||void 0,fallbackPlacements:E,padding:Sv,rootBoundary:ge})),_t.push(Dye({mainAxis:EJe})),(C||k)&&_t.push(IJe({apply({availableWidth:ze,availableHeight:Lt,elements:hn,referenceWidth:an}){he.current=an;const ti=ye.current,Ci=be.current;k?hn.floating.style.width=`${an}px`:ti!==void 0&&(hn.floating.style.width=`${ti}px`),C&&(hn.floating.style.maxWidth=`${Math.min(ze,Ci??1/0)}px`,hn.floating.style.maxHeight=`${Lt}px`)},boundaryElement:T||void 0,constrainSize:C,margins:v,matchReferenceWidth:k,padding:Sv})),O&&_t.push($ye({boundary:T||void 0,rootBoundary:ge,padding:Sv})),y&&_t.push(Mye({element:oe,padding:Sv})),K&&_t.push(mxe),_t.push(VHe({boundary:P||void 0,padding:Sv,strategy:"referenceHidden"})),_t},[K,y,C,E,T,v,k,O,P]),{x:Ce,y:Te,middlewareData:Ge,placement:Je,refs:tt,strategy:Ne,update:Fe}=Iye({middleware:ve,placement:D,whileElementsMounted:Tve}),lt=(s=Ge.hide)==null?void 0:s.referenceHidden,Dt=(l=Ge.arrow)==null?void 0:l.x,Be=(c=Ge.arrow)==null?void 0:c.y,ct=(d=Ge["@sanity/ui/origin"])==null?void 0:d.originX,Ct=(h=Ge["@sanity/ui/origin"])==null?void 0:h.originY,Ke=f.useCallback(_t=>{oe.current=_t},[]),rn=f.useCallback(_t=>{le.current=_t,tt.setFloating(_t)},[tt]),Nr=f.useCallback(_t=>{tt.setReference(_t);const ze=w==null?void 0:w.ref;typeof ze=="function"?ze(_t):ze&&(ze.current=_t)},[w,tt]),Sr=f.useMemo(()=>!w||V?null:f.cloneElement(w,{ref:Nr}),[w,V,Nr]);if(f.useEffect(()=>{q&&(typeof q=="function"?q(Fe):q&&(q.current=Fe))},[Fe,q]),f.useEffect(()=>{Sr||tt.setReference(V||null)},[V,tt,Sr]),_)return w||u.jsx(u.Fragment,{});const bn=u.jsx(ru,{zOffset:se,children:u.jsx(Cxe,{...Z,__unstable_margins:v,animate:K,arrow:y,arrowRef:Ke,arrowX:Dt,arrowY:Be,hidden:lt,overflow:A,padding:Q,placement:Je,radius:re,ref:rn,scheme:H,shadow:ae,originX:ct,originY:Ct,strategy:Ne,tone:G,width:k?he.current:me,x:Ce,y:Te,children:S})});return u.jsxs(u.Fragment,{children:[u.jsx(sS,{condition:K,wrapper:_t=>u.jsx(hl,{children:_t}),children:I&&u.jsx(sS,{condition:!!M,wrapper:_t=>u.jsx(Yp,{__unstable_name:typeof M=="string"?M:void 0,children:_t}),children:bn})}),Sr]})}));nd.displayName="Memo(ForwardRef(Popover))";function MJe(){return ce`
    position: relative;

    &:not([hidden]) {
      display: inline-block;
    }

    &[data-read-only] {
      outline: 1px solid red;
    }
  `}function RJe(e){const{color:t,input:n}=Ee(e.theme),r=(n.radio.size-n.radio.markSize)/2;return ce`
    appearance: none;
    position: absolute;
    top: 0;
    left: 0;
    opacity: 0;
    height: 100%;
    width: 100%;
    outline: none;
    z-index: 1;
    padding: 0;
    margin: 0;
    border-radius: ${Se(n.radio.size/2)};
    border: none;

    /* enabled */
    & + span {
      display: block;
      position: relative;
      height: ${Se(n.radio.size)};
      width: ${Se(n.radio.size)};
      border-radius: ${Se(n.radio.size/2)};
      background: ${t.input.default.enabled.bg};
      box-shadow: ${_i({color:t.input.default.enabled.border,width:n.border.width})};

      &::after {
        content: '';
        position: absolute;
        top: ${Se(r)};
        left: ${Se(r)};
        height: ${Se(n.radio.markSize)};
        width: ${Se(n.radio.markSize)};
        border-radius: ${Se(n.radio.markSize/2)};
        background: ${t.input.default.enabled.fg};
        opacity: 0;
      }
    }

    /* focused */
    &:not(:disabled):focus + span {
      box-shadow: ${Gl({border:{width:n.border.width,color:t.input.default.enabled.border},focusRing:n.radio.focusRing})};
    }

    &:not(:disabled):focus:not(:focus-visible) + span {
      box-shadow: ${_i({color:t.input.default.enabled.border,width:n.border.width})};
    }

    &:checked + span::after {
      opacity: 1;
    }

    /* customValidity */
    &[data-error] + span {
      background-color: ${t.input.invalid.enabled.border};
      box-shadow: ${_i({width:n.border.width,color:t.input.invalid.enabled.muted.bg})};
      &::after {
        background: ${t.input.invalid.enabled.muted.bg};
      }
    }

    /* read only */
    &[data-read-only] + span {
      box-shadow: 0 0 0 1px ${t.input.default.readOnly.border};
      background: ${t.input.default.readOnly.bg};

      &::after {
        background: ${t.input.default.readOnly.border};
      }
    }

    /* disabled */
    &:not([data-read-only]):disabled + span {
      box-shadow: 0 0 0 1px ${t.input.default.disabled.border};
      background: ${t.input.default.disabled.bg};

      &::after {
        background: ${t.input.default.disabled.border};
      }
    }
  `}const PJe=R.div(MJe),FJe=R.input(RJe),Sxe=f.forwardRef(function(e,t){const{className:n,disabled:r,style:i,customValidity:a,readOnly:o,...s}=e,l=f.useRef(null);return f.useImperativeHandle(t,()=>l.current),k2(l,a),u.jsxs(PJe,{className:n,"data-ui":"Radio",style:i,children:[u.jsx(FJe,{"data-read-only":!r&&o?"":void 0,"data-error":a?"":void 0,...s,disabled:r||o,readOnly:o,ref:l,type:"radio"}),u.jsx("span",{})]})});Sxe.displayName="ForwardRef(Radio)";function NJe(){return ce`
    position: relative;
    width: -moz-available;
    width: -webkit-fill-available;
    width: stretch;

    &:not([hidden]) {
      display: inline-block;
    }
  `}function LJe(e){const{font:t}=Ee(e.theme);return ce`
    -webkit-font-smoothing: antialiased;
    appearance: none;
    border: 0;
    font-family: ${t.text.family};
    color: inherit;
    width: 100%;
    outline: none;
    margin: 0;

    &:disabled {
      opacity: 1;
    }
  `}function BJe(e){const{color:t,input:n}=Ee(e.theme);return ce`
    /* enabled */
    background-color: ${t.input.default.enabled.bg};
    color: ${t.input.default.enabled.fg};
    box-shadow: ${_i({color:t.input.default.enabled.border,width:n.border.width})};

    /* hovered */
    @media (hover: hover) {
      &:not(:disabled):hover {
        background-color: ${t.input.default.hovered.bg};
        color: ${t.input.default.hovered.fg};
        box-shadow: ${_i({color:t.input.default.hovered.border,width:n.border.width})};
      }
    }

    /* focused */
    &:not(:disabled):focus {
      box-shadow: ${Gl({border:{width:n.border.width,color:t.input.default.enabled.border},focusRing:n.select.focusRing})};
    }

    /* read-only */
    &[data-read-only] {
      background-color: ${t.input.default.readOnly.bg};
      color: ${t.input.default.readOnly.fg};
      box-shadow: ${_i({color:t.input.default.readOnly.border,width:n.border.width})};
    }

    /* disabled */
    &:not([data-read-only]):disabled {
      background-color: ${t.input.default.disabled.bg};
      color: ${t.input.default.disabled.fg};
      box-shadow: ${_i({color:t.input.default.disabled.border,width:n.border.width})};
    }
  `}function VJe(e){return{fontSize:Se(e.fontSize),lineHeight:Se(e.lineHeight)}}function zJe(e){const{$fontSize:t}=e,{font:n,media:r}=Ee(e.theme);return Rt(r,t,i=>VJe(n.text.sizes[i]||n.text.sizes[2]))}function UJe(){return[Wf,LJe,BJe,zJe,NZe]}function HJe(e){const{color:t}=Ee(e.theme);return ce`
    pointer-events: none;
    position: absolute;
    top: 0;
    right: 0;

    /* enabled */
    --card-fg-color: ${t.input.default.enabled.fg};

    /* hover */
    @media (hover: hover) {
      select:not(disabled):not(:read-only):hover + && {
        --card-fg-color: ${t.input.default.hovered.fg};
      }
    }

    /* disabled */
    select:disabled + && {
      --card-fg-color: ${t.input.default.disabled.fg};
    }

    /* read-only */
    select[data-read-only] + && {
      --card-fg-color: ${t.input.default.readOnly.fg};
    }
  `}const Oz={root:NJe,input:UJe,iconBox:HJe},WJe=R.div(Oz.root),GJe=R.select(Oz.input),YJe=R(L)(Oz.iconBox),iu=f.forwardRef(function(e,t){const{children:n,customValidity:r,disabled:i,fontSize:a=2,padding:o=3,radius:s=2,readOnly:l,space:c=3,...d}=e,h=f.useRef(null);return f.useImperativeHandle(t,()=>h.current),k2(h,r),u.jsxs(WJe,{"data-ui":"Select",children:[u.jsx(GJe,{"data-read-only":!i&&l?"":void 0,"data-ui":"Select",...d,$fontSize:ke(a),$padding:ke(o),$radius:ke(s),$space:ke(c),disabled:i||l,ref:h,children:n}),u.jsx(YJe,{padding:o,children:u.jsx(N,{size:a,children:u.jsx(Ii,{})})})]})});iu.displayName="ForwardRef(Select)";const qJe={"&&:not([hidden])":{display:"grid"},'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"},gridTemplateColumns:"minmax(0, 1fr)",gridAutoRows:"min-content"};function KJe(){return qJe}function ZJe(e){const{media:t,space:n}=Ee(e.theme);return Rt(t,e.$space,r=>({gridGap:Se(n[r])}))}const XJe=R(L)(KJe,ZJe),ee=f.forwardRef(function(e,t){const{as:n,space:r,...i}=e;return u.jsx(XJe,{"data-as":typeof n=="string"?n:void 0,"data-ui":"Stack",...i,$space:ke(r),forwardedAs:n,ref:t})});ee.displayName="ForwardRef(Stack)";function JJe(){return ce`
    position: relative;
    &:not([hidden]) {
      display: inline-block;
    }
  `}function QJe(){return ce`
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    opacity: 0;
    height: 100%;
    width: 100%;
    outline: none;
    padding: 0;
    margin: 0;

    /* Place the input element above the representation element */
    z-index: 1;
  `}function eQe(e){const{color:t,input:n}=Ee(e.theme);return ce`
    --switch-bg-color: ${t.input.default.enabled.border};
    --switch-fg-color: ${t.input.default.enabled.bg};
    --switch-box-shadow: none;

    &:not([hidden]) {
      display: block;
    }
    position: relative;
    width: ${Se(n.switch.width)};
    height: ${Se(n.switch.height)};
    border-radius: ${Se(n.switch.height/2)};

    /* Make sure it’s not possible to interact with the wrapper element */
    pointer-events: none;

    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: 1;
      box-shadow: var(--switch-box-shadow);
      border-radius: inherit;
    }

    /* Focus styles */
    input:focus + && {
      --switch-box-shadow: ${Gl({focusRing:n.switch.focusRing})};
    }

    input:focus:not(:focus-visible) + && {
      --switch-box-shadow: none;
    }

    input:checked + && {
      --switch-bg-color: ${t.input.default.enabled.fg};
      --switch-fg-color: ${t.input.default.enabled.bg};
    }

    @media (hover: hover) {
      input:not(:disabled):hover + && {
        --switch-bg-color: ${t.input.default.hovered.border};
        --switch-fg-color: ${t.input.default.hovered.bg};
      }

      input:not(:disabled):checked:hover + && {
        --switch-bg-color: ${t.input.default.enabled.fg};
        --switch-fg-color: ${t.input.default.enabled.bg};
      }
    }

    input:not([data-read-only]):disabled + && {
      --switch-bg-color: ${t.input.default.disabled.border};
      --switch-fg-color: ${t.input.default.disabled.bg};
    }

    input[data-read-only]:disabled + && {
      --switch-bg-color: ${t.input.default.readOnly.border};
      --switch-fg-color: ${t.input.default.readOnly.bg};
    }

    input:checked[data-read-only]:disabled + && {
      --switch-bg-color: ${t.input.default.readOnly.fg};
      --switch-fg-color: ${t.input.default.readOnly.bg};
    }
  `}function tQe(e){const{input:t}=Ee(e.theme);return ce`
    &:not([hidden]) {
      display: block;
    }
    background-color: var(--switch-bg-color);
    position: absolute;
    left: 0;
    top: 0;
    width: ${Se(t.switch.width)};
    height: ${Se(t.switch.height)};
    border-radius: ${Se(t.switch.height/2)};
  `}function nQe(e){const{$indeterminate:t}=e,{input:n}=Ee(e.theme),r=n.switch.width,i=n.switch.height,a=n.switch.padding,o=i-n.switch.padding*2,s=r-a*2-o,l=r/2-o/2-a,c=t!==!0&&e.$checked===!0;return ce`
    &:not([hidden]) {
      display: block;
    }
    position: absolute;
    left: ${Se(a)};
    top: ${Se(a)};
    height: ${Se(o)};
    width: ${Se(o)};
    border-radius: ${Se(o/2)};
    transition-property: transform;
    transition-duration: ${n.switch.transitionDurationMs}ms;
    transition-timing-function: ${n.switch.transitionTimingFunction};
    background: var(--switch-fg-color);
    transform: translate3d(0, 0, 0);
    box-shadow: 0px 1px 0px 0px rgba(0, 0, 0, 0.05);

    ${c&&ce`
      transform: translate3d(${s}px, 0, 0);
    `}

    ${t&&ce`
      transform: translate3d(${l}px, 0, 0);
    `}
  `}const rQe=R.span(JJe),iQe=R.input(QJe),aQe=R.span(eQe),oQe=R.span(tQe),sQe=R.span(nQe),YD=f.forwardRef(function(e,t){const{checked:n,className:r,disabled:i,indeterminate:a,readOnly:o,style:s,...l}=e,c=f.useRef(null);return f.useImperativeHandle(t,()=>c.current),f.useEffect(()=>{c.current&&(c.current.indeterminate=a||!1)},[a]),u.jsxs(rQe,{className:r,"data-ui":"Switch",style:s,children:[u.jsx(iQe,{"data-read-only":!i&&o?"":void 0,...l,checked:a!==!0&&n,disabled:i||o,type:"checkbox",ref:c}),u.jsxs(aQe,{"aria-hidden":!0,"data-name":"representation",children:[u.jsx(oQe,{}),u.jsx(sQe,{$checked:n,$indeterminate:a})]})]})});YD.displayName="ForwardRef(Switch)";const lQe=R.span(uxe),uQe=R.span`
  flex: 1;
  min-width: 0;
  display: block;
  position: relative;
`,cQe=R.textarea(Tz,cxe,dxe),dQe=R.div(Wf,fxe),_xe=f.forwardRef(function(e,t){const{border:n=!0,customValidity:r,disabled:i=!1,fontSize:a=2,padding:o=3,radius:s=2,weight:l,__unstable_disableFocusRing:c,...d}=e,h=f.useRef(null),p=rb();return f.useImperativeHandle(t,()=>h.current),k2(h,r),u.jsx(lQe,{"data-ui":"TextArea",children:u.jsxs(uQe,{children:[u.jsx(cQe,{"data-as":"textarea","data-scheme":p.scheme,"data-tone":p.tone,...d,$fontSize:ke(a),$padding:ke(o),$scheme:p.scheme,$space:ke(0),$tone:p.tone,$weight:l,disabled:i,ref:h}),u.jsx(dQe,{$radius:ke(s),$unstableDisableFocusRing:c,$scheme:p.scheme,$tone:p.tone,"data-border":n?"":void 0,"data-scheme":p.scheme,"data-tone":p.tone})]})})});_xe.displayName="ForwardRef(TextArea)";const fQe={zIndex:2},hQe=R(te).attrs({forwardedAs:"span"})(uxe),pQe=R.span`
  flex: 1;
  min-width: 0;
  display: block;
  position: relative;
`,mQe=R(te).attrs({forwardedAs:"span"})`
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;

  & > span {
    display: block;
    margin: -1px;
  }
`,gQe=R(te).attrs({forwardedAs:"span"})`
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;

  & > span {
    display: block;
    margin: -1px;
  }
`,vQe=R.input(Tz,cxe,dxe),yQe=R.span(Wf,fxe),bQe=R(L)`
  position: absolute;
  top: 0;
  left: 0;
`,xQe=R(L)`
  position: absolute;
  top: 0;
  right: 0;
`,wQe=R(te)`
  background-color: transparent;
  position: absolute;
  top: 0;
  right: 0;
`,CQe=R(St)({"&:not([hidden])":{display:"block"}}),Zr=f.forwardRef(function(e,t){const{__unstable_disableFocusRing:n,border:r=!0,clearButton:i,disabled:a=!1,fontSize:o=2,icon:s,iconRight:l,onClear:c,padding:d=3,prefix:h,radius:p=2,readOnly:m,space:g=3,suffix:v,customValidity:b,type:y="text",weight:x,...w}=e,C=f.useRef(null),S=rb(),_=ke(o),E=ke(d),k=ke(p),T=ke(g),j=!!i,I=!!s,A=!!l,$=!!v,D=!!h;f.useImperativeHandle(t,()=>C.current),k2(C,b);const M=f.useCallback(z=>{z.preventDefault(),z.stopPropagation()},[]),O=f.useCallback(z=>{var q;z.preventDefault(),z.stopPropagation(),c&&c(),(q=C.current)==null||q.focus()},[c,C]),F=f.useMemo(()=>h&&u.jsx(mQe,{borderTop:!0,borderLeft:!0,borderBottom:!0,radius:k,sizing:"border",tone:"inherit",children:u.jsx("span",{children:h})}),[h,k]),P=f.useMemo(()=>u.jsxs(yQe,{$hasPrefix:D,$unstableDisableFocusRing:n,$hasSuffix:$,$radius:k,$scheme:S.scheme,$tone:S.tone,"data-border":r?"":void 0,"data-scheme":S.scheme,"data-tone":S.tone,children:[s&&u.jsx(bQe,{padding:E,children:u.jsxs(N,{size:_,children:[f.isValidElement(s)&&s,Gc.isValidElementType(s)&&u.jsx(s,{})]})}),!j&&l&&u.jsx(xQe,{padding:E,children:u.jsxs(N,{size:_,children:[f.isValidElement(l)&&l,Gc.isValidElementType(l)&&u.jsx(l,{})]})})]}),[n,r,_,s,l,E,k,S,j,D,$]),V=f.useMemo(()=>E.map(z=>z===0?0:z===1||z===2?1:z-2),[E]),H=f.useMemo(()=>E.map(z=>z===0||z===1?0:z===2?1:z-1),[E]),W=f.useMemo(()=>typeof i=="object"?i:pp,[i]),G=f.useMemo(()=>!a&&!m&&i&&u.jsx(wQe,{forwardedAs:"span",padding:V,style:fQe,tone:b?"critical":"inherit",children:u.jsx(CQe,{"aria-label":"Clear","data-qa":"clear-button",fontSize:_,icon:Rr,mode:"bleed",padding:H,radius:k,...W,onClick:O,onMouseDown:M})}),[i,V,H,W,b,a,_,O,M,k,m]),X=f.useMemo(()=>v&&u.jsx(gQe,{borderTop:!0,borderRight:!0,borderBottom:!0,radius:k,sizing:"border",tone:"inherit",children:u.jsx("span",{children:v})}),[k,v]);return u.jsxs(hQe,{"data-ui":"TextInput",tone:S.tone,children:[F,u.jsxs(pQe,{children:[u.jsx(vQe,{"data-as":"input","data-scheme":S.scheme,"data-tone":S.tone,...w,$fontSize:_,$iconLeft:I,$iconRight:A||j,$padding:E,$scheme:S.scheme,$space:T,$tone:S.tone,$weight:x,disabled:a,readOnly:m,ref:C,type:y}),P,G]}),X]})});Zr.displayName="ForwardRef(TextInput)";function gL(e){const[t,n]=f.useState(e),r=f.useRef(),i=f.useCallback((a,o)=>{const s=()=>{n(a)};if(r.current&&(clearTimeout(r.current),r.current=void 0),!o)return s();r.current=setTimeout(s,o)},[]);return[t,i]}const SQe=15,_Qe=6,EQe=2,kQe=4,AE=4,TQe={top:["top-end","top-start","bottom","left","right"],"top-start":["top","top-end","bottom-start","left-start","right-start"],"top-end":["top","top-start","bottom-end","left-end","right-end"],bottom:["bottom-end","bottom-start","top","left","right"],"bottom-start":["bottom","bottom-end","top-start","left-start","right-start"],"bottom-end":["bottom","bottom-start","top-end","left-end","right-end"],left:["left-end","left-start","right","top","bottom"],"left-start":["left","left-end","right-start","top-start","bottom-start"],"left-end":["left","left-start","right-end","top-end","bottom-end"],right:["right-end","right-start","left","top","bottom"],"right-start":["right","right-end","left-start","top-start","bottom-start"],"right-end":["right","right-start","left-end","top-end","bottom-end"]},AQe=R(Di(te))`
  & > * {
    opacity: var(${Vc}, 1);
    will-change: opacity;
  }
`,Exe=f.memo(f.forwardRef(function(e,t){const{animate:n,arrow:r,arrowRef:i,arrowX:a,arrowY:o,children:s,originX:l,originY:c,padding:d,placement:h,radius:p,scheme:m,shadow:g,style:v,...b}=e,y=f.useMemo(()=>({originX:l,originY:c,willChange:n?"transform":void 0,...v}),[n,l,c,v]),x=f.useMemo(()=>({left:a!==null?a:void 0,top:o!==null?o:void 0,right:void 0,bottom:void 0}),[a,o]);return u.jsxs(AQe,{"data-ui":"Tooltip__card",...b,"data-placement":h,padding:d,radius:p,ref:t,scheme:m,shadow:g,style:y,...n?Qbe:{},children:[s,r&&u.jsx(jz,{ref:i,style:x,width:SQe,height:_Qe,radius:EQe})]})}));Exe.displayName="Memo(ForwardRef(TooltipCard))";const kxe=Uf("@sanity/ui/context/tooltipDelayGroup",null);function jQe(){return f.useContext(kxe)}function Txe(e){const{children:t,delay:n}=e,[r,i]=gL(!1),[a,o]=gL(null),s=typeof n=="number"?n:(n==null?void 0:n.open)||0,l=typeof n=="number"?n:(n==null?void 0:n.close)||0,c=f.useMemo(()=>({isGroupActive:r,setIsGroupActive:i,openTooltipId:a,setOpenTooltipId:o,openDelay:r?1:s,closeDelay:l}),[l,r,s,a,i,o]);return u.jsx(kxe.Provider,{value:c,children:t})}Txe.displayName="TooltipDelayGroupProvider";const IQe=R(Jo)`
  pointer-events: none;
`,_A=f.forwardRef(function(e,t){var n,r,i,a,o,s,l;const c=C0(),{layer:d}=Hf(),{animate:h=!1,arrow:p=!1,boundaryElement:m=c==null?void 0:c.element,children:g,content:v,disabled:b,fallbackPlacements:y=(r=e.fallbackPlacements)!=null?r:TQe[(n=e.placement)!=null?n:"bottom"],padding:x=2,placement:w="bottom",portal:C,radius:S=2,scheme:_,shadow:E=2,zOffset:k=d.tooltip.zOffset,delay:T,...j}=e,I=WD()?!1:h,A=ke(y),$=f.useRef(null),[D,M]=f.useState(null),O=f.useRef(null),F="viewport",[P,V]=f.useState(0);f.useImperativeHandle(t,()=>$.current);const H=Gf(),W=typeof C=="string"?((i=H.elements)==null?void 0:i[C])||null:H.element,G=f.useMemo(()=>{const Be=[];return Be.push(Oye({boundary:m||void 0,fallbackPlacements:A,padding:AE,rootBoundary:F})),Be.push(Dye({mainAxis:kQe})),Be.push($ye({boundary:m||void 0,rootBoundary:F,padding:AE})),p&&Be.push(Mye({element:O,padding:AE})),I&&Be.push(mxe),Be},[I,p,m,A]),{floatingStyles:X,placement:z,middlewareData:q,refs:Z,update:K}=Iye({middleware:G,placement:w,whileElementsMounted:Tve}),J=(a=q.arrow)==null?void 0:a.x,Q=(o=q.arrow)==null?void 0:o.y,re=(s=q["@sanity/ui/origin"])==null?void 0:s.originX,ae=(l=q["@sanity/ui/origin"])==null?void 0:l.originY,ne=f.useId(),[se,le]=gL(!1),oe=jQe(),ge=se||(oe==null?void 0:oe.openTooltipId)===ne,_e=oe!==null,Me=typeof T=="number"?T:(T==null?void 0:T.open)||0,me=typeof T=="number"?T:(T==null?void 0:T.close)||0,ye=_e?oe.openDelay:Me,De=_e?oe.closeDelay:me,be=f.useCallback((Be,ct)=>{if(_e)if(Be){const Ct=ct?0:ye;oe.setIsGroupActive(Be,Ct),oe.setOpenTooltipId(ne,Ct)}else{const Ct=De>200?De:200;oe.setIsGroupActive(Be,Ct),oe.setOpenTooltipId(null,ct?0:De)}else le(Be,ct?0:Be?ye:De)},[_e,oe,ye,ne,De,le]),he=f.useCallback(Be=>{var ct,Ct;be(!1),(Ct=(ct=g==null?void 0:g.props)==null?void 0:ct.onBlur)==null||Ct.call(ct,Be)},[g==null?void 0:g.props,be]),ve=f.useCallback(Be=>{var ct,Ct;be(!1,!0),(Ct=g==null?void 0:(ct=g.props).onClick)==null||Ct.call(ct,Be)},[g==null?void 0:g.props,be]),Ce=f.useCallback(Be=>{var ct,Ct;be(!1,!0),(Ct=g==null?void 0:(ct=g.props).onContextMenu)==null||Ct.call(ct,Be)},[g==null?void 0:g.props,be]),Te=f.useCallback(Be=>{var ct,Ct;be(!0),(Ct=(ct=g==null?void 0:g.props)==null?void 0:ct.onFocus)==null||Ct.call(ct,Be)},[g==null?void 0:g.props,be]),Ge=f.useCallback(Be=>{var ct,Ct;be(!0),(Ct=(ct=g==null?void 0:g.props)==null?void 0:ct.onMouseEnter)==null||Ct.call(ct,Be)},[g==null?void 0:g.props,be]),Je=f.useCallback(Be=>{var ct,Ct;be(!1),(Ct=(ct=g==null?void 0:g.props)==null?void 0:ct.onMouseLeave)==null||Ct.call(ct,Be)},[g==null?void 0:g.props,be]);DQe({handleIsOpenChange:be,referenceElement:D,showTooltip:ge}),f.useEffect(()=>{b&&ge&&be(!1)},[b,be,ge]),f.useEffect(()=>{!v&&ge&&be(!1)},[v,be,ge]),f.useEffect(()=>Z.setReference(D),[D,Z]),f.useEffect(()=>{if(!ge)return;function Be(ct){ct.key==="Escape"&&be(!1,!0)}return window.addEventListener("keydown",Be),()=>{window.removeEventListener("keydown",Be)}},[be,ge]),f.useLayoutEffect(()=>{const Be=[...m?[m.offsetWidth]:[],(W==null?void 0:W.offsetWidth)||document.body.offsetWidth];V(Math.min(...Be)-AE*2)},[m,W]);const tt=f.useCallback(Be=>{O.current=Be,K()},[K]),Ne=f.useCallback(Be=>{$.current=Be,Z.setFloating(Be)},[Z]),Fe=f.useRef(null);f.useImperativeHandle(g==null?void 0:g.ref,()=>Fe.current);const lt=f.useMemo(()=>g?f.cloneElement(g,{onBlur:he,onFocus:Te,onMouseEnter:Ge,onMouseLeave:Je,onClick:ve,onContextMenu:Ce,ref:Fe}):null,[g,he,ve,Ce,Te,Ge,Je]);if(f.useEffect(()=>{if(lt)return M(Fe.current),()=>M(null)},[lt]),!lt)return u.jsx(u.Fragment,{});if(b)return lt;const Dt=u.jsx(IQe,{"data-ui":"Tooltip",...j,ref:Ne,style:{...X,maxWidth:P>0?`${P}px`:void 0},zOffset:k,children:u.jsx(Exe,{...j,animate:I,arrow:p,arrowRef:tt,arrowX:J,arrowY:Q,originX:re,originY:ae,padding:x,placement:z,radius:S,ref:Ne,scheme:_,shadow:E,children:v})});return u.jsxs(u.Fragment,{children:[u.jsx(sS,{condition:I,wrapper:Be=>u.jsx(hl,{children:Be}),children:ge&&u.jsx(sS,{condition:!!C,wrapper:Be=>u.jsx(Yp,{__unstable_name:typeof C=="string"?C:void 0,children:Be}),children:Dt})}),lt]})});_A.displayName="ForwardRef(Tooltip)";function DQe({handleIsOpenChange:e,referenceElement:t,showTooltip:n}){const r=Cz((i,a)=>{t&&(t===i||i instanceof Node&&t.contains(i)||(e(!1),a()))});f.useEffect(()=>{if(!n)return;const i=a=>{r(a.target,()=>window.removeEventListener("mousemove",i))};return window.addEventListener("mousemove",i),()=>window.removeEventListener("mousemove",i)},[r,n])}const $Qe=R.div`
  line-height: 0;
`,OQe=R(L)`
  & > ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }
`,MQe=Np`
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
`,RQe=R(Zy)`
  animation: ${MQe} 500ms linear infinite;
`;function PQe(e){const{children:t,id:n,onSelect:r,selected:i,value:a}=e,o=f.useCallback(()=>{setTimeout(()=>{r(a)},0)},[r,a]),s=f.useCallback(l=>{l.key==="Enter"&&!lJe(l.currentTarget)&&o()},[o]);return u.jsx("li",{"aria-selected":i,"data-ui":"AutocompleteOption",id:n,role:"option",onClick:o,onKeyDown:s,children:t})}function FQe(e,t){return t.type==="input/change"?{...e,activeValue:null,focused:!0,query:t.query}:t.type==="input/focus"?{...e,focused:!0}:t.type==="root/blur"?{...e,focused:!1,query:null}:t.type==="root/clear"?{...e,activeValue:null,query:null,value:null}:t.type==="root/escape"?{...e,focused:!1,query:null}:t.type==="root/open"?{...e,query:e.query||t.query}:t.type==="root/setActiveValue"?{...e,activeValue:t.value,listFocused:t.listFocused||e.listFocused}:t.type==="root/setListFocused"?{...e,listFocused:t.listFocused}:t.type==="value/change"?{...e,activeValue:t.value,query:null,value:t.value}:e}const NQe=["Control","Shift","Alt","Enter","Home","End","PageUp","PageDown","Meta","Tab","CapsLock"],LQe="bottom-start",BQe=["bottom-start","top-start"],VQe=(e,t)=>t?t.value:e,zQe=(e,t)=>t.value.toLowerCase().indexOf(e.toLowerCase())>-1,Axe=f.forwardRef(function(e,t){const{border:n=!0,customValidity:r,disabled:i,filterOption:a,fontSize:o=2,icon:s,id:l,listBox:c=pp,loading:d,onBlur:h,onChange:p,onFocus:m,onQueryChange:g,onSelect:v,openButton:b,openOnFocus:y,options:x,padding:w=3,popover:C=pp,prefix:S,radius:_=2,readOnly:E,relatedElements:k,renderOption:T,renderPopover:j,renderValue:I=VQe,suffix:A,value:$,...D}=e,[M,O]=f.useReducer(FQe,{activeValue:$||null,focused:!1,listFocused:!1,query:null,value:$||null}),{activeValue:F,focused:P,listFocused:V,query:H,value:W}=M,G=f.useCallback(({value:ze})=>u.jsx(te,{"data-as":"button",padding:w,radius:2,tone:"inherit",children:u.jsx(N,{size:o,textOverflow:"ellipsis",children:ze})}),[o,w]),X=typeof T=="function"?T:G,z=typeof a=="function"?a:zQe,q=f.useRef(null),Z=f.useRef(null),K=f.useRef(null),J=f.useRef(null),Q=f.useRef(!1),re=f.useRef(W),ae=f.useRef($),ne=f.useRef(!1);f.useImperativeHandle(t,()=>K.current);const se=`${l}-listbox`,le=Array.isArray(x)?x:E2,oe=ke(w),ge=f.useMemo(()=>W!==null?le.find(ze=>ze.value===W):void 0,[le,W]),_e=f.useMemo(()=>le.filter(ze=>H?z(H,ze):!0),[z,le,H]),Me=_e.length,me=F?`${l}-option-${F}`:void 0,ye=H!==null&&d||P&&H!==null,De=f.useCallback(ze=>{setTimeout(()=>{if(ne.current)return;const Lt=(k||[]).concat(q.current?[q.current]:[],Z.current?[Z.current]:[]);let hn=!1;if(document.activeElement){for(const an of Lt)if(an===document.activeElement||an.contains(document.activeElement)){hn=!0;break}}hn===!1&&(O({type:"root/blur"}),ne.current=!1,g&&g(null),h&&h(ze))},0)},[h,g,k]),be=f.useCallback(ze=>{const Lt=J.current,hn=ze.target instanceof HTMLElement?ze.target:null,an=(Lt==null?void 0:Lt.contains(hn))||!1;an!==Q.current&&(Q.current=an,O({type:"root/setListFocused",listFocused:an}))},[]),he=f.useCallback(ze=>{var Lt;O({type:"value/change",value:ze}),ne.current=!1,v&&v(ze),re.current=ze,p&&p(ze),g&&g(null),(Lt=K.current)==null||Lt.focus()},[p,v,g]),ve=f.useCallback(ze=>{var Lt,hn;if(ze.key==="ArrowDown"){if(ze.preventDefault(),!Me)return;const Ci=_e.find(bl=>bl.value===F),ca=Ci?_e.indexOf(Ci):-1,ao=_e[(ca+1)%Me];ao&&O({type:"root/setActiveValue",value:ao.value,listFocused:!0});return}if(ze.key==="ArrowUp"){if(ze.preventDefault(),!Me)return;const Ci=_e.find(bl=>bl.value===F),ca=Ci?_e.indexOf(Ci):-1,ao=_e[ca===-1?Me-1:(Me+ca-1)%Me];ao&&O({type:"root/setActiveValue",value:ao.value,listFocused:!0});return}if(ze.key==="Escape"){O({type:"root/escape"}),ne.current=!1,g&&g(null),(Lt=K.current)==null||Lt.focus();return}const an=ze.target,ti=J.current;if((ti===an||ti!=null&&ti.contains(an))&&!NQe.includes(ze.key)){(hn=K.current)==null||hn.focus();return}},[F,_e,Me,g]),Ce=f.useCallback(ze=>{const Lt=ze.currentTarget.value;O({type:"input/change",query:Lt}),g&&g(Lt)},[g]),Te=f.useCallback(()=>{O({type:"root/open",query:W?I(W,ge):""})},[ge,I,W]),Ge=f.useCallback(ze=>{P||(O({type:"input/focus"}),m&&m(ze),y&&Te())},[P,m,y,Te]),Je=f.useCallback(()=>{ne.current=!0},[]),tt=f.useCallback(()=>{ne.current=!1},[]),Ne=f.useCallback(()=>{var ze;O({type:"root/clear"}),re.current="",p&&p(""),g&&g(null),(ze=K.current)==null||ze.focus()},[p,g]),Fe=f.useCallback(()=>{O({type:"input/focus"})},[]);f.useEffect(()=>{if($!==ae.current){ae.current=$,$!==void 0&&(O({type:"value/change",value:$}),re.current=$);return}$!==re.current&&(re.current=$||null,O({type:"value/change",value:$||null}))},[$]),f.useEffect(()=>{!P&&re.current&&O({type:"root/setActiveValue",value:re.current})},[P]),f.useEffect(()=>{const ze=J.current;if(!ze)return;const Lt=_e.find(hn=>hn.value===F);if(Lt){const hn=_e.indexOf(Lt),an=ze.childNodes[hn];if(an){if(fJe(an))return;Lg(an)}}},[F,_e]);const lt=f.useMemo(()=>{if(!d&&!i&&W)return{"aria-label":"Clear",onFocus:Fe}},[i,Fe,d,W]),Dt=f.useMemo(()=>oe.map(ze=>ze===0?0:ze===1||ze===2?1:ze-2),[oe]),Be=f.useMemo(()=>oe.map(ze=>Math.max(ze-1,0)),[oe]),ct=f.useMemo(()=>typeof b=="object"?b:pp,[b]),Ct=f.useCallback(ze=>{Te(),ct.onClick&&ct.onClick(ze),pL(()=>{var Lt;return(Lt=K.current)==null?void 0:Lt.focus()})},[ct,Te]),Ke=f.useMemo(()=>!i&&!E&&b?u.jsx(L,{"aria-hidden":ye,padding:Dt,children:u.jsx(St,{"aria-label":"Open",disabled:ye,fontSize:o,icon:Ii,mode:"bleed",padding:Be,...ct,onClick:Ct})}):void 0,[i,ye,o,Ct,b,Dt,Be,ct,E]),rn=f.useMemo(()=>H===null?W!==null?I(W,ge):"":H,[ge,H,I,W]),Nr=u.jsx(Zr,{...D,"aria-activedescendant":me,"aria-autocomplete":"list","aria-expanded":ye,"aria-owns":se,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",border:n,clearButton:lt,customValidity:r,disabled:i,fontSize:o,icon:s,iconRight:d&&RQe,id:l,inputMode:"search",onChange:Ce,onClear:Ne,onFocus:Ge,padding:oe,prefix:S,radius:_,readOnly:E,ref:K,role:"combobox",spellCheck:!1,suffix:A||Ke,value:rn}),Sr=f.useCallback(ze=>{var Lt;ze.key==="Tab"&&V&&((Lt=K.current)==null||Lt.focus())},[V]),bn=f.useMemo(()=>_e.length===0?null:u.jsx(OQe,{"data-ui":"AutoComplete__results",onKeyDown:Sr,padding:1,...c,tabIndex:-1,children:u.jsx(ee,{as:"ul","aria-multiselectable":!1,"data-ui":"AutoComplete__resultsList",id:se,ref:J,role:"listbox",space:1,children:_e.map(ze=>{const Lt=F!==null?ze.value===F:ge===ze;return u.jsx(PQe,{id:`${l}-option-${ze.value}`,onSelect:he,selected:Lt,value:ze.value,children:f.cloneElement(X(ze),{disabled:d,selected:Lt,tabIndex:V&&Lt?0:-1})},ze.value)})})}),[F,ge,_e,he,Sr,l,c,se,V,d,X]),_t=f.useMemo(()=>j?j({content:bn,hidden:!ye,inputElement:K.current,onMouseEnter:Je,onMouseLeave:tt},Z):Me===0?null:u.jsx(nd,{arrow:!1,constrainSize:!0,content:bn,fallbackPlacements:BQe,matchReferenceWidth:!0,onMouseEnter:Je,onMouseLeave:tt,open:ye,overflow:"auto",placement:LQe,portal:!0,radius:_,ref:Z,referenceElement:K.current,...C}),[bn,ye,Me,Je,tt,C,_,j]);return u.jsxs($Qe,{"data-ui":"Autocomplete",onBlur:De,onFocus:be,onKeyDown:ve,ref:q,children:[Nr,_t]})});Axe.displayName="ForwardRef(Autocomplete)";const qD=Axe,UQe=R.ol`
  margin: 0;
  padding: 0;
  display: flex;
  list-style: none;
  align-items: center;
  white-space: nowrap;
  line-height: 0;
`,HQe=R(St)`
  appearance: none;
  margin: -4px;
`,Mz=f.forwardRef(function(e,t){const{children:n,maxLength:r,separator:i,space:a=2,...o}=e,s=ke(a),[l,c]=f.useState(!1),d=f.useRef(null),h=f.useRef(null),p=f.useCallback(()=>c(!1),[]),m=f.useCallback(()=>c(!0),[]);yn(p,()=>[d.current,h.current]);const g=f.useMemo(()=>f.Children.toArray(n).filter(f.isValidElement),[n]),v=f.useMemo(()=>{const b=g.length;if(r&&b>r){const y=Math.ceil(r/2),x=Math.floor(r/2);return[...g.slice(0,y-1),u.jsx(nd,{constrainSize:!0,content:u.jsx(ee,{as:"ol",overflow:"auto",padding:s,space:s,children:g.slice(y-1,b-x)}),open:l,placement:"top",portal:!0,ref:h,children:u.jsx(HQe,{fontSize:1,mode:"bleed",onClick:l?p:m,padding:1,ref:d,selected:l,text:"…"})},"button"),...g.slice(b-x)]}return g},[p,m,r,l,g,s]);return u.jsx(UQe,{"data-ui":"Breadcrumbs",...o,ref:t,children:v.map((b,y)=>u.jsxs(f.Fragment,{children:[y>0&&u.jsx(L,{"aria-hidden":!0,as:"li",paddingX:s,children:i||u.jsx(N,{muted:!0,children:"/"})}),u.jsx(L,{as:"li",children:b})]},y))})});Mz.displayName="ForwardRef(Breadcrumbs)";function WQe({theme:e}){const{color:t}=Ee(e);return{"&:not([hidden])":{display:"flex"},top:0,left:0,right:0,bottom:0,alignItems:"center",justifyContent:"center",outline:"none",background:t.backdrop}}function GQe(e){const{media:t}=Ee(e.theme);return Rt(t,e.$position,n=>({"&&":{position:n}}))}function YQe(e){return e.$animate?ce`
    @keyframes zoomIn {
      from {
        opacity: 0;
        transform: scale(0.95);
      }
      to {
        opacity: 1;
        transform: scale(1);
      }
    }
    @keyframes fadeIn {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }

    animation: fadeIn 200ms ease-out;
    // Animates the dialog card.
    & > [data-ui='DialogCard'] {
      animation: zoomIn 200ms ease-out;
    }
  `:ce``}const jxe=Uf("@sanity/ui/context/dialog",{version:0});function qQe(){return f.useContext(jxe)}function vL(e,t,n){return!e||!t?!0:mL(e,n)||mL(t,n)}const KQe=R(Jo)(hxe,WQe,GQe,YQe),ZQe=R(si)`
  &:not([hidden]) {
    display: flex;
  }
  width: 100%;
  height: 100%;
  flex-direction: column;
  align-items: center;
  justify-content: center;
`,XQe=R(te)`
  &:not([hidden]) {
    display: flex;
  }
  width: 100%;
  min-height: 0;
  max-height: 100%;
  overflow: hidden;
  overflow: clip;
`,JQe=R(U)`
  flex: 1;
  min-height: 0;
  width: 100%;
`,QQe=R(L)`
  position: relative;
  z-index: 2;
`,eet=R(L)`
  position: relative;
  z-index: 1;
  overflow: auto;
  outline: none;
`,tet=R(L)`
  position: relative;
  z-index: 3;
`,Ixe=f.forwardRef(function(e,t){var n;const{__unstable_autoFocus:r,__unstable_hideCloseButton:i,children:a,contentRef:o,footer:s,header:l,id:c,onClickOutside:d,onClose:h,portal:p,radius:m,scheme:g,shadow:v,width:b}=e,y=Gf(),x=p?((n=y.elements)==null?void 0:n[p])||null:y.element,w=C0().element,C=ke(m),S=ke(v),_=ke(b),E=f.useRef(null),k=f.useRef(null),T=Ds(),{isTopLayer:j}=T,I=`${c}_label`,A=!!h&&i===!1,$=!!l||A;return f.useImperativeHandle(t,()=>E.current),f.useImperativeHandle(o,()=>k.current),f.useEffect(()=>{r&&E.current&&Lg(E.current)},[r,E]),Xo(f.useCallback(D=>{if(!j||!h)return;const M=document.activeElement;M&&!vL(w,x,M)||D.key==="Escape"&&(D.preventDefault(),D.stopPropagation(),h())},[w,j,h,x])),yn(j&&d&&(D=>{const M=D.target;M&&!vL(w,x,M)||d()}),()=>[E.current]),u.jsx(ZQe,{"data-ui":"DialogCard",width:_,children:u.jsx(XQe,{radius:C,ref:E,scheme:g,shadow:S,children:u.jsxs(JQe,{direction:"column",children:[$&&u.jsx(QQe,{children:u.jsxs(U,{align:"center",padding:3,children:[u.jsx(L,{flex:1,padding:2,children:l&&u.jsx(N,{id:I,size:1,weight:"semibold",children:l})}),A&&u.jsx(L,{flex:"none",children:u.jsx(St,{"aria-label":"Close dialog",disabled:!h,icon:Rr,mode:"bleed",onClick:h,padding:2})})]})}),u.jsx(eet,{flex:1,ref:k,tabIndex:-1,children:a}),s&&u.jsx(tet,{children:s})]})})})});Ixe.displayName="ForwardRef(DialogCard)";const KD=f.forwardRef(function(e,t){var n;const r=qQe(),{layer:i}=Hf(),{__unstable_autoFocus:a=!0,__unstable_hideCloseButton:o=!1,cardRadius:s=4,cardShadow:l=3,children:c,contentRef:d,footer:h,header:p,id:m,onActivate:g,onClickOutside:v,onClose:b,onFocus:y,padding:x=3,portal:w,position:C=r.position||"fixed",scheme:S,width:_=0,zOffset:E=r.zOffset||i.dialog.zOffset,animate:k=!1,...T}=e,j=WD()?!1:k,I=Gf(),A=w?((n=I.elements)==null?void 0:n[w])||null:I.element,$=C0().element,D=ke(s),M=ke(x),O=ke(C),F=ke(_),P=ke(E),V=f.useRef(null),H=f.useRef(null),W=f.useRef(null),G=f.useRef(null),X=f.useCallback(K=>{y==null||y(K);const J=K.target,Q=W.current;if(Q&&J===V.current){$z(Q);return}if(Q&&J===H.current){Lg(Q);return}td(K.target)&&(G.current=K.target)},[y]),z=`${m}_label`,q=f.useRef(),Z=f.useCallback(()=>{q.current&&clearTimeout(q.current),q.current=setTimeout(()=>{const K=document.activeElement;if(K&&!vL($,A,K)){const J=G.current;if(!J||!document.body.contains(J)){const Q=W.current;Q&&Lg(Q);return}J.focus()}},0)},[$,A]);return u.jsx(Yp,{__unstable_name:w,children:u.jsxs(KQe,{...T,$animate:j,$padding:M,$position:O,"aria-labelledby":z,"aria-modal":!0,"data-ui":"Dialog",id:m,onActivate:g,onClick:Z,onFocus:X,ref:t,role:"dialog",zOffset:P,children:[u.jsx("div",{ref:V,tabIndex:0}),u.jsx(Ixe,{__unstable_autoFocus:a,__unstable_hideCloseButton:o,contentRef:d,footer:h,header:p,id:m,onClickOutside:v,onClose:b,portal:w,radius:D,ref:W,scheme:S,shadow:l,width:F,children:c}),u.jsx("div",{ref:H,tabIndex:0})]})})});KD.displayName="ForwardRef(Dialog)";function EA(e){const{children:t,position:n,zOffset:r}=e,i=f.useMemo(()=>({version:0,position:n,zOffset:r}),[n,r]);return u.jsx(jxe.Provider,{value:i,children:t})}EA.displayName="DialogProvider";const net=R.kbd`
  font: inherit;
  padding: 1px;

  &:not([hidden]) {
    display: block;
  }
`,ret=R(pxe)`
  &:not([hidden]) {
    display: block;
  }
`,Rz=f.forwardRef(function(e,t){const{fontSize:n,keys:r,padding:i,radius:a,space:o=.5,...s}=e,l=ke(o);return!r||r.length===0?u.jsx(u.Fragment,{}):u.jsx(net,{"data-ui":"Hotkeys",...s,ref:t,children:u.jsx(An,{as:"span",space:l,children:r.map((c,d)=>u.jsx(ret,{fontSize:n,padding:i,radius:a,children:c},d))})})});Rz.displayName="ForwardRef(Hotkeys)";const Dxe=Uf("@sanity/ui/context/menu",null);function iet(e){return Iz(e)&&e.getAttribute("data-disabled")!=="true"||Dz(e)&&!e.disabled}function lv(e){return e.filter(iet)}function aet(e,t){const n=[];let r=t;for(;r!==e;){const i=r.parentElement;if(!i)return n;const a=Array.from(i.childNodes).indexOf(r);if(n.unshift(a),i===e)return n;r=i}return n}const iQ=[];function oet(e,t){if(!e)return;const n=new WeakMap;for(const i of t)n.set(i,aet(e,i));const r=(i,a)=>{const o=n.get(i)||iQ,s=n.get(a)||iQ,l=Math.max(o.length,s.length);for(let c=0;c<l;c+=1){const d=o[c]||-1,h=s[c]||-1;if(d!==h)return d-h}return 0};t.sort(r)}function set(e){const{onKeyDown:t,originElement:n,shouldFocus:r,rootElementRef:i}=e,a=f.useRef([]),[o,s]=f.useState(-1),l=f.useRef(o),c=f.useMemo(()=>a.current[o]||null,[o]),d=!!i.current,h=f.useCallback(b=>{s(b),l.current=b},[]),p=f.useCallback((b,y)=>{if(!b)return()=>{};if(a.current.indexOf(b)===-1&&(a.current.push(b),oet(i.current,a.current)),y){const x=a.current.indexOf(b);h(x)}return()=>{const x=a.current.indexOf(b);x>-1&&a.current.splice(x,1)}},[i,h]),m=f.useCallback(b=>{if(b.key==="Tab"){n&&n.focus();return}if(b.key==="Home"){b.preventDefault(),b.stopPropagation();const y=lv(a.current)[0];if(!y)return;const x=a.current.indexOf(y);h(x);return}if(b.key==="End"){b.preventDefault(),b.stopPropagation();const y=lv(a.current),x=y[y.length-1];if(!x)return;const w=a.current.indexOf(x);h(w);return}if(b.key==="ArrowUp"){b.preventDefault(),b.stopPropagation();const y=lv(a.current),x=y.length;if(x===0)return;const w=a.current[l.current];let C=y.indexOf(w);C=(C-1+x)%x;const S=y[C],_=a.current.indexOf(S);h(_);return}if(b.key==="ArrowDown"){b.preventDefault(),b.stopPropagation();const y=lv(a.current),x=y.length;if(x===0)return;const w=a.current[l.current];let C=y.indexOf(w);C=(C+1)%x;const S=y[C],_=a.current.indexOf(S);h(_);return}t&&t(b)},[t,n,h]),g=f.useCallback(b=>{const y=b.currentTarget,x=a.current.indexOf(y);h(x)},[h]),v=f.useCallback(()=>{var b;h(-2),(b=i.current)==null||b.focus()},[i,h]);return f.useEffect(()=>{if(!d)return;const b=requestAnimationFrame(()=>{if(o===-1){if(r==="first"){const x=lv(a.current)[0];if(x){const w=a.current.indexOf(x);h(w)}}if(r==="last"){const x=lv(a.current),w=x[x.length-1];if(w){const C=a.current.indexOf(w);h(C)}}return}const y=a.current[o]||null;y==null||y.focus()});return()=>cancelAnimationFrame(b)},[o,d,h,r]),{activeElement:c,activeIndex:o,handleItemMouseEnter:g,handleItemMouseLeave:v,handleKeyDown:m,mount:p}}const uet=R(L)`
  outline: none;
  overflow: auto;
`,Ot=f.forwardRef(function(e,t){const{children:n,focusFirst:r,focusLast:i,onClickOutside:a,onEscape:o,onItemClick:s,onItemSelect:l,onKeyDown:c,originElement:d,padding:h=1,registerElement:p,shouldFocus:m=e.focusFirst&&"first"||e.focusLast&&"last"||null,space:g=1,...v}=e,b=f.useRef(null);f.useImperativeHandle(t,()=>b.current);const{isTopLayer:y}=Ds(),{activeElement:x,activeIndex:w,handleItemMouseEnter:C,handleItemMouseLeave:S,handleKeyDown:_,mount:E}=set({onKeyDown:c,originElement:d,shouldFocus:m,rootElementRef:b}),k=f.useRef(null),T=f.useCallback(I=>{k.current&&(k.current(),k.current=null),b.current=I,b.current&&p&&(k.current=p(b.current))},[p]);f.useEffect(()=>{l&&l(w)},[w,l]),yn(y&&a,()=>[b.current]),Xo(f.useCallback(I=>{y&&I.key==="Escape"&&(I.stopPropagation(),o&&o())},[y,o]));const j=f.useMemo(()=>({version:0,activeElement:x,activeIndex:w,mount:E,onClickOutside:a,onEscape:o,onItemClick:s,onItemMouseEnter:C,onItemMouseLeave:S,registerElement:p,onMouseEnter:C,onMouseLeave:S}),[x,w,E,C,S,a,o,s,p]);return u.jsx(Dxe.Provider,{value:j,children:u.jsx(uet,{"data-ui":"Menu",...v,onKeyDown:_,padding:h,ref:T,role:"menu",tabIndex:-1,children:u.jsx(ee,{space:g,children:n})})})});Ot.displayName="ForwardRef(Menu)";const ZD=f.forwardRef(function(e,t){const{__unstable_disableRestoreFocusOnClose:n=!1,boundaryElement:r,button:i,id:a,menu:o,onClose:s,onOpen:l,placement:c,popoverScheme:d,portal:h=!0,popover:p,popoverRadius:m,preventOverflow:g}=e,[v,b]=f.useState(!1),[y,x]=f.useState(null),[w,C]=f.useState(null),[S,_]=f.useState([]),E=f.useRef(v);f.useEffect(()=>{l&&v&&!E.current&&l()},[l,v]),f.useEffect(()=>{s&&!v&&E.current&&s()},[s,v]),f.useEffect(()=>{E.current=v},[v]);const k=f.useCallback(()=>{b(W=>!W),x(null)},[]),T=f.useCallback(W=>{v&&W.preventDefault()},[v]),j=f.useCallback(W=>{if(W.key==="ArrowDown"||W.key==="Enter"||W.key===" "){W.preventDefault(),b(!0),x("first");return}if(W.key==="ArrowUp"){W.preventDefault(),b(!0),x("last");return}},[]),I=f.useCallback(W=>{const G=W.target;if(G instanceof Node&&!(w&&(G===w||w.contains(G)))){for(const X of S)if(G===X||X.contains(G))return;b(!1)}},[w,S]),A=f.useCallback(()=>{b(!1),!n&&w&&w.focus()},[w,n]),$=f.useCallback(W=>{const G=W.relatedTarget;if(G instanceof Node){for(const X of S)if(X===G||X.contains(G))return;b(!1)}},[S]),D=f.useCallback(()=>{b(!1),!n&&w&&w.focus()},[w,n]),M=f.useCallback(W=>(_(G=>G.concat([W])),()=>_(G=>G.filter(X=>X!==W))),[]),O=f.useMemo(()=>({"aria-labelledby":a,onBlurCapture:$,onClickOutside:I,onEscape:A,onItemClick:D,originElement:w,registerElement:M,shouldFocus:y}),[w,I,A,D,a,$,M,y]),F=o&&f.cloneElement(o,O),P=f.useRef(null),V=f.useMemo(()=>{var W;return i&&f.cloneElement(i,{"data-ui":"MenuButton",id:a,onClick:k,onKeyDown:j,onMouseDown:T,"aria-haspopup":!0,"aria-expanded":v,ref:P,selected:(W=i.props.selected)!=null?W:v})},[i,k,j,T,a,v]);f.useImperativeHandle(t,()=>P.current),f.useEffect(()=>{if(V)return C(P.current),()=>C(null)},[V]);const H=f.useMemo(()=>({boundaryElement:r,overflow:"auto",placement:c,portal:h,preventOverflow:g,radius:m,scheme:d,...p||{}}),[r,c,m,d,h,g,p]);return u.jsx(nd,{"data-ui":"MenuButton__popover",...H,content:F,open:v,children:V||u.jsx(u.Fragment,{})})});ZD.displayName="ForwardRef(MenuButton)";const ur=R.hr`
  height: 1px;
  border: 0;
  background: var(--card-hairline-soft-color);
  margin: 0;
`;ur.displayName="MenuDivider";function cet(){return ce`
    background-color: inherit;
    color: inherit;

    &[data-as='button'] {
      -webkit-font-smoothing: inherit;
      appearance: none;
      outline: none;
      font: inherit;
      text-align: inherit;
      border: 0;
      width: -moz-available;
      width: -webkit-fill-available;
      width: stretch;
    }

    /* &:is(a) */
    &[data-as='a'] {
      text-decoration: none;
    }
  `}function det(e){var t;const{$tone:n}=e,{color:r,style:i}=Ee(e.theme),a=r.selectable[n];return ce`
    ${gn(r,a.enabled)}

    background-color: var(--card-bg-color);
    color: var(--card-fg-color);
    outline: none;

    /* &:is(button) */
    &[data-as='button'] {
      &:disabled {
        ${gn(r,a.disabled)}
      }

      &:not(:disabled) {
        &[aria-pressed='true'] {
          ${gn(r,a.pressed)}
        }

        &[data-selected],
        &[aria-selected='true'] > & {
          ${gn(r,a.selected)}
        }

        @media (hover: hover) {
          &:not([data-selected]) {
            &[data-hovered],
            &:hover {
              ${gn(r,a.hovered)}
            }

            &:active {
              ${gn(r,a.pressed)}
            }
          }
        }
      }
    }

    /* &:is(a) */
    &[data-as='a'] {
      &[data-disabled] {
        ${gn(r,a.disabled)}
      }

      &:not([data-disabled]) {
        &[data-pressed] {
          ${gn(r,a.pressed)}
        }

        &[data-selected] {
          ${gn(r,a.selected)}
        }

        @media (hover: hover) {
          &:not([data-selected]) {
            &[data-hovered],
            &:hover {
              ${gn(r,a.hovered)}
            }
            &:active {
              ${gn(r,a.pressed)}
            }
          }
        }
      }
    }

    ${(t=i==null?void 0:i.card)==null?void 0:t.root}
  `}const Pz=R(L)(Wf,cet,det);Pz.displayName="Selectable";function $xe(){const e=f.useContext(Dxe);if(!e)throw new Error("useMenu(): missing context value");if(!j2(e)||e.version!==0)throw new Error("useMenu(): the context value is not compatible");return e}function Oxe(e){const{as:t="button",children:n,fontSize:r=1,icon:i,onClick:a,padding:o=3,popover:s,radius:l=2,space:c=3,text:d,tone:h="default",...p}=e,m=$xe(),{scheme:g}=rb(),{activeElement:v,mount:b,onClickOutside:y,onEscape:x,onItemClick:w,onItemMouseEnter:C=m.onMouseEnter,registerElement:S}=m,[_,E]=f.useState(null),[k,T]=f.useState(!1),[j,I]=f.useState(null),A=!!v&&v===_,[$,D]=f.useState(!1),M=f.useCallback(G=>{D(!1),C(G),T(!0)},[C]),O=f.useCallback(G=>{G.key==="ArrowLeft"&&(G.stopPropagation(),T(!1),requestAnimationFrame(()=>{_==null||_.focus()}))},[_]),F=f.useCallback(G=>{a==null||a(G),I("first"),T(!0)},[a]),P=f.useCallback(()=>{T(!1),w==null||w()},[w]),V=f.useCallback(()=>D(!0),[]);f.useEffect(()=>b(_),[b,_]),f.useEffect(()=>{A||T(!1)},[A]),f.useEffect(()=>{k||D(!1)},[k]),f.useEffect(()=>{if(!j)return;const G=requestAnimationFrame(()=>I(null));return()=>cancelAnimationFrame(G)},[j]);const H=u.jsx(Ot,{onClickOutside:y,onEscape:x,onItemClick:P,onKeyDown:O,onMouseEnter:V,registerElement:S,shouldFocus:j,children:n}),W=f.useCallback(G=>{const X=G.currentTarget;if(document.activeElement===X&&G.key==="ArrowRight"){I("first"),T(!0),D(!0);return}},[]);return u.jsx(nd,{...s,content:H,"data-ui":"MenuGroup__popover",open:k,children:u.jsx(Pz,{"data-as":t,"data-ui":"MenuGroup",forwardedAs:t,...p,"aria-pressed":t==="button"?$:void 0,"data-pressed":t!=="button"?$:void 0,"data-selected":!$&&A?"":void 0,$radius:ke(l),$tone:h,$scheme:g,onClick:F,onKeyDown:W,onMouseEnter:M,ref:E,tabIndex:-1,type:t==="button"?"button":void 0,children:u.jsxs(U,{gap:c,padding:o,children:[i&&u.jsxs(N,{size:r,children:[f.isValidElement(i)&&i,Gc.isValidElementType(i)&&u.jsx(i,{})]}),u.jsx(L,{flex:1,children:u.jsx(N,{size:r,textOverflow:"ellipsis",weight:"medium",children:d})}),u.jsx(N,{size:r,children:u.jsx(no,{})})]})})})}Oxe.displayName="MenuGroup";const S0=f.forwardRef(function(e,t){const{as:n="button",children:r,disabled:i,fontSize:a=1,hotkeys:o,icon:s,iconRight:l,onClick:c,padding:d=3,paddingX:h,paddingY:p,paddingTop:m,paddingRight:g,paddingBottom:v,paddingLeft:b,pressed:y,radius:x=2,selected:w,space:C=3,text:S,tone:_="default",...E}=e,{scheme:k}=rb(),T=$xe(),{activeElement:j,mount:I,onItemClick:A,onItemMouseEnter:$=T.onMouseEnter,onItemMouseLeave:D=T.onMouseLeave}=T,[M,O]=f.useState(null),F=!!j&&j===M,P=f.useRef(null);f.useImperativeHandle(t,()=>P.current),f.useEffect(()=>I(M,w),[I,M,w]);const V=f.useCallback(X=>{i||(c&&c(X),A&&A())},[i,c,A]),H=f.useMemo(()=>({padding:d,paddingX:h,paddingY:p,paddingTop:m,paddingRight:g,paddingBottom:v,paddingLeft:b}),[d,h,p,m,g,v,b]),W=ke(a).map(X=>X-1),G=f.useCallback(X=>{P.current=X,O(X)},[]);return u.jsxs(Pz,{"data-ui":"MenuItem",...E,"aria-pressed":n==="button"&&y,"data-pressed":n!=="button"&&y?"":void 0,"data-selected":F?"":void 0,"data-disabled":i?"":void 0,forwardedAs:n,$radius:ke(x),$padding:ke(0),$tone:i?"default":_,$scheme:k,disabled:i,onClick:V,onMouseEnter:$,onMouseLeave:D,ref:G,role:"menuitem",tabIndex:-1,type:n==="button"?"button":void 0,children:[(s||S||l)&&u.jsxs(U,{as:"span",gap:C,align:"center",...H,children:[s&&u.jsxs(N,{size:a,children:[f.isValidElement(s)&&s,Gc.isValidElementType(s)&&u.jsx(s,{})]}),S&&u.jsx(L,{flex:1,children:u.jsx(N,{size:a,textOverflow:"ellipsis",weight:"medium",children:S})}),o&&u.jsx(Rz,{fontSize:W,keys:o,style:{marginTop:-4,marginBottom:-4}}),l&&u.jsxs(N,{size:a,children:[f.isValidElement(l)&&l,Gc.isValidElementType(l)&&u.jsx(l,{})]})]}),r&&u.jsx(L,{as:"span",...H,children:r})]})});S0.displayName="ForwardRef(MenuItem)";const fet=Np`
  0% {
    background-position: 100%;
  }
  100% {
    background-position: -100%;
  }
`,het=ce`
  background-image: linear-gradient(
    to right,
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-to),
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-from)
  );
  background-position: 100%;
  background-size: 200% 100%;
  background-attachment: fixed;
  animation-name: ${fet};
  animation-timing-function: ease-in-out;
  animation-iteration-count: infinite;
  animation-duration: 2000ms;
`,pet=ce`
  opacity: ${({$visible:e})=>e?1:0};
  transition: opacity 200ms ease-in;

  @media screen and (prefers-reduced-motion: no-preference) {
    ${({$animated:e})=>e?het:ce`
            background-color: var(--card-skeleton-color-from);
          `}
  }

  @media screen and (prefers-reduced-motion: reduce) {
    background-color: var(--card-skeleton-color-from);
  }
`,met=R(L)(Wf,pet),rd=f.forwardRef(function(e,t){const{animated:n=!1,delay:r,radius:i,...a}=e,[o,s]=f.useState(!r);return f.useEffect(()=>{if(!r)return s(!0);const l=setTimeout(()=>{s(!0)},r);return()=>{clearTimeout(l)}},[r]),u.jsx(met,{...a,$animated:n,$radius:ke(i),$visible:o,ref:t})});rd.displayName="ForwardRef(Skeleton)";const XD=R(rd)(e=>{const{$size:t,$style:n}=e,{font:r,media:i}=Ee(e.theme),a=r[n];return Rt(i,t,o=>{const s=a.sizes[o];return{height:s.lineHeight-s.ascenderHeight-s.descenderHeight}})}),ir=f.forwardRef(function(e,t){const{size:n=2,...r}=e,i=ke(n);return u.jsx(XD,{...r,$size:i,ref:t,$style:"text"})});ir.displayName="ForwardRef(TextSkeleton)";const get=f.forwardRef(function(e,t){const{size:n=2,...r}=e,i=ke(n);return u.jsx(XD,{...r,$size:i,ref:t,$style:"label"})});get.displayName="ForwardRef(LabelSkeleton)";const vet=f.forwardRef(function(e,t){const{size:n=2,...r}=e,i=ke(n);return u.jsx(XD,{...r,$size:i,ref:t,$style:"heading"})});vet.displayName="ForwardRef(HeadingSkeleton)";const yet=f.forwardRef(function(e,t){const{size:n=2,...r}=e,i=ke(n);return u.jsx(XD,{...r,$size:i,ref:t,$style:"code"})});yet.displayName="ForwardRef(CodeSkeleton)";const bet=R(St)`
  max-width: 100%;
`,Fz=f.forwardRef(function(e,t){const{icon:n,id:r,focused:i,fontSize:a=1,label:o,onClick:s,onFocus:l,padding:c=2,selected:d,...h}=e,p=f.useRef(null),m=f.useRef(!1);f.useImperativeHandle(t,()=>p.current);const g=f.useCallback(()=>{m.current=!1},[]),v=f.useCallback(b=>{m.current=!0,l&&l(b)},[l]);return f.useEffect(()=>{i&&!m.current&&(p.current&&p.current.focus(),m.current=!0)},[i]),u.jsx(bet,{"data-ui":"Tab",...h,"aria-selected":d?"true":"false",fontSize:a,icon:n,id:r,mode:"bleed",onClick:s,onBlur:g,onFocus:v,padding:c,ref:p,role:"tab",selected:d,tabIndex:d?0:-1,text:o,type:"button"})});Fz.displayName="ForwardRef(Tab)";function xet(e){return!!e}const wet=R(An)`
  & > div {
    display: inline-block;
    vertical-align: middle;
    max-width: 100%;
    box-sizing: border-box;
  }
`,ub=f.forwardRef(function(e,t){const{children:n,...r}=e,[i,a]=f.useState(-1),o=f.useMemo(()=>n.filter(xet),[n]).map((d,h)=>f.cloneElement(d,{focused:i===h,key:h,onFocus:()=>l(h)})),s=o.length,l=f.useCallback(d=>{a(d)},[]),c=f.useCallback(d=>{d.key==="ArrowLeft"&&a(h=>(h+s-1)%s),d.key==="ArrowRight"&&a(h=>(h+1)%s)},[s]);return u.jsx(wet,{"data-ui":"TabList",...r,onKeyDown:c,ref:t,role:"tablist",children:o})});ub.displayName="ForwardRef(TabList)";const Mxe=f.forwardRef(function(e,t){const{flex:n,...r}=e;return u.jsx(L,{"data-ui":"TabPanel",...r,flex:n,ref:t,role:"tabpanel",tabIndex:e.tabIndex===void 0?0:e.tabIndex,children:e.children})});Mxe.displayName="ForwardRef(TabPanel)";const Cet=R(U)`
  overflow-x: auto;
`,_et=Np`
  0% {
    width: 0;
  }
  100% {
    width: 100%;
  }
`,aQ=2;function Eet(e){const{color:t}=Ee(e.theme),n=t.button.default[e.tone].enabled.bg;return e.$duration?ce`
    pointer-events: all;
    width: 100%;
    position: relative;
    overflow: hidden;
    overflow: clip;
    padding-bottom: ${aQ}px;
    &::before {
      content: '';
      position: absolute;
      bottom: 0px;
      height: ${aQ}px;
      background: ${n};
      animation-name: ${_et};
      animation-duration: ${e.$duration}ms;
      animation-fill-mode: both;
    }

    & > * {
      opacity: var(${Vc}, 1);
      will-change: opacity;
    }
  `:ce`
      pointer-events: all;
      & > * {
        opacity: var(${Vc}, 1);
        will-change: opacity;
      }
    `}const ket={error:"critical",warning:"caution",success:"positive",info:"primary"},Tet={error:"critical",warning:"caution",success:"positive",info:"primary"},Aet={error:"alert",warning:"alert",success:"alert",info:"alert"},jet=R(te)(Eet);function Rxe(e){const{closable:t,description:n,duration:r,onClose:i,radius:a=3,title:o,status:s,...l}=e,c=s?ket[s]:"default",d=s?Tet[s]:"default",h=s?Aet[s]:"status";return u.jsx(jet,{"data-ui":"Toast",role:h,...l,marginTop:3,radius:a,shadow:2,tone:c,$duration:r,children:u.jsxs(U,{align:"flex-start",children:[u.jsx(Cet,{flex:1,padding:3,children:u.jsxs(ee,{space:3,children:[o&&u.jsx(N,{size:1,weight:"medium",children:o}),n&&u.jsx(N,{muted:!0,size:1,children:n})]})}),t&&u.jsx(L,{padding:1,children:u.jsx(St,{as:"button",icon:Rr,mode:"bleed",padding:2,tone:d,onClick:i,style:{verticalAlign:"top"}})})]})})}Rxe.displayName="Toast";function Iet(){return f.useSyncExternalStore(Det,()=>!0,()=>!1)}const Det=()=>()=>{},Pxe=Uf("@sanity/ui/context/toast",null),$et=R(Jo)`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
`,Oet=R.div`
  box-sizing: border-box;
  position: absolute;
  right: 0;
  bottom: 0;
  max-width: 420px;
  width: 100%;
`;let Met=0;function Fxe(e){const{children:t,padding:n=4,paddingX:r,paddingY:i,zOffset:a}=e,[o,s]=f.useState([]),l=f.useRef({}),c=Iet(),d=WD(),h=f.useMemo(()=>({initial:{opacity:0,[Vc]:0,y:32,scale:.25,willChange:"transform"},animate:{opacity:[0,1,1],[Vc]:[0,0,1],y:0,scale:1},exit:{opacity:[1,1,0],[Vc]:[1,0,0],scale:.5,transition:d?{duration:0}:{duration:.2}}}),[d]),p=f.useMemo(()=>({version:0,push:m=>{const g=x=>f.startTransition(()=>s(x)),v=m.id||String(Met++),b=m.duration||5e3,y=()=>{var x;const w=(x=l.current[v])==null?void 0:x.timeoutId;g(C=>{const S=C.findIndex(_=>_.id===v);if(S>-1){const _=C.slice(0);return _.splice(S,1),_}return C}),w!==void 0&&(clearTimeout(w),delete l.current[v])};return g(x=>x.filter(w=>w.id!==v).concat([{dismiss:y,id:v,params:{...m,duration:b}}])),l.current[v]&&(clearTimeout(l.current[v].timeoutId),delete l.current[v]),l.current[v]={timeoutId:setTimeout(y,b)},v}}),[]);return f.useEffect(()=>()=>{for(const{timeoutId:m}of Object.values(l.current))clearTimeout(m);l.current={}},[]),u.jsxs(Pxe.Provider,{value:p,children:[t,c&&u.jsx($et,{"data-ui":"ToastProvider",zOffset:a,children:u.jsx(Oet,{children:u.jsx(L,{padding:n,paddingX:r,paddingY:i,children:u.jsx(hl,{initial:!1,children:o.map(({dismiss:m,id:g,params:v})=>u.jsx(Di.div,{layout:"position",initial:"initial",animate:"animate",exit:"exit",variants:h,transition:d?{duration:0}:{type:"spring",damping:30,stiffness:400},children:u.jsx(Rxe,{closable:v.closable,description:v.description,onClose:m,status:v.status,title:v.title,duration:v.duration})},g))})})})})]})}Fxe.displayName="ToastProvider";function Pr(){const e=f.useContext(Pxe);if(!e)throw new Error("useToast(): missing context value");if(!j2(e)||e.version!==0)throw new Error("useToast(): the context value is not compatible");return e}function Ret(e,t,n){var r;const i=t.indexOf(n),a=t.slice(0,i),o=a.length;for(let s=o-1;s>=0;s-=1){const l=a[s].getAttribute("data-tree-key");if(!l)continue;const c=l.split("/");c.pop();const d=[];let h=!0;for(let p=0;p<c.length;p+=1){d.push(c[p]);const m=d.join("/");if(!((r=e[m])!=null&&r.expanded)){h=!1;break}}if(h)return a[s]}return null}function Pet(e,t,n){var r;const i=t.indexOf(n),a=t.slice(i),o=t.length;for(let s=1;s<o;s+=1){if(!a[s])continue;const l=a[s].getAttribute("data-tree-key");if(!l)continue;const c=l.split("/");c.pop();const d=[];let h=!0;for(let p=0;p<c.length;p+=1){d.push(c[p]);const m=d.join("/");if(!((r=e[m])!=null&&r.expanded)){h=!1;break}}if(h)return a[s]}return null}function oQ(e){if(e.getAttribute("role")==="treeitem"&&e.focus(),e.getAttribute("role")==="none"){const t=e.firstChild;t&&t instanceof HTMLElement&&t.focus()}}const kA=Uf("@sanity/ui/context/tree",null),Fet=f.memo(f.forwardRef(function(e,t){const{children:n,space:r=1,onFocus:i,...a}=e,o=f.useRef(null),[s,l]=f.useState(null),c=f.useRef(s),d=f.useMemo(()=>[],[]),[h,p]=f.useState([]),[m,g]=f.useState({}),v=f.useRef(m);f.useImperativeHandle(t,()=>o.current),f.useEffect(()=>{c.current=s},[s]),f.useEffect(()=>{v.current=m},[m]);const b=f.useCallback((S,_,E,k)=>(g(T=>({...T,[_]:{element:S,expanded:E}})),k&&l(S),()=>{g(T=>{const j={...T};return delete j[_],j})}),[]),y=f.useCallback((S,_)=>{g(E=>{const k=E[S];return k?{...E,[S]:{...k,expanded:_}}:E})},[]),x=f.useMemo(()=>({version:0,focusedElement:s||h[0]||null,level:0,path:d,registerItem:b,setExpanded:y,setFocusedElement:l,space:r,state:m}),[s,h,d,b,y,r,m]),w=f.useCallback(S=>{var _;if(c.current){if(S.key==="ArrowDown"){S.preventDefault();const E=Pet(v.current,h,c.current);E&&(oQ(E),l(E));return}if(S.key==="ArrowUp"){S.preventDefault();const E=Ret(v.current,h,c.current);E&&(oQ(E),l(E));return}if(S.key==="ArrowLeft"){S.preventDefault();const E=c.current.getAttribute("data-tree-key");if(!E)return;const k=v.current[E];if(!k)return;if(k.expanded)g(T=>{const j=T[E];return j?{...T,[E]:{...j,expanded:!1}}:T});else{const T=E.split("/");T.pop();const j=T.join("/"),I=j&&v.current[j];I&&(I.element.focus(),l(I.element))}return}if(S.key==="ArrowRight"){S.preventDefault();const E=c.current.getAttribute("data-tree-key");if(!E)return;(_=v.current[E])!=null&&_.expanded||g(k=>{const T=k[E];return T?{...k,[E]:{...T,expanded:!0}}:k});return}}},[h]),C=f.useCallback(S=>{l(S.target),i==null||i(S)},[i]);return f.useEffect(()=>{if(!o.current)return;const S=Array.from(o.current.querySelectorAll('[data-ui="TreeItem"]'));p(S)},[n]),u.jsx(kA.Provider,{value:x,children:u.jsx(ee,{as:"ul","data-ui":"Tree",...a,onFocus:C,onKeyDown:w,ref:o,role:"tree",space:r,children:n})})}));Fet.displayName="Memo(ForwardRef(Tree))";function Net(){return ce`
    &[role='none'] > [role='treeitem'] {
      outline: none;
      cursor: default;
      border-radius: 3px;

      background-color: var(--card-bg-color);
      color: var(--treeitem-fg-color);

      &:focus {
        position: relative;
      }
    }

    &[role='treeitem'] {
      outline: none;

      & > div {
        cursor: default;
        border-radius: 3px;

        background-color: var(--card-bg-color);
        color: var(--treeitem-fg-color);
      }

      &:focus > div {
        position: relative;
      }
    }
  `}function Let(e){const t="default",{color:n}=Ee(e.theme),r=n.selectable[t];return ce`
    &[role='none'] {
      & > [role='treeitem'] {
        ${gn(n,r.enabled)}
      }

      &[data-selected] > [role='treeitem'] {
        ${gn(n,r.pressed)}
      }

      @media (hover: hover) {
        &:not([data-selected]) > [role='treeitem']:not(:focus):hover {
          ${gn(n,r.hovered)}
        }

        & > [role='treeitem']:focus {
          ${gn(n,r.selected)}
        }
      }
    }

    &[role='treeitem'] {
      & > [data-ui='TreeItem__box'] {
        ${gn(n,r.enabled)}
      }

      &[data-selected] > [data-ui='TreeItem__box'] {
        ${gn(n,r.pressed)}
      }

      @media (hover: hover) {
        &:not([data-selected]):not(:focus) > [data-ui='TreeItem__box']:hover {
          ${gn(n,r.hovered)}
        }

        &:focus > [data-ui='TreeItem__box'] {
          ${gn(n,r.selected)}
        }
      }
    }
  `}function Bet(e){const{$level:t}=e,{space:n}=Ee(e.theme);return ce`
    padding-left: ${Se(n[2]*t)};

    &[data-as='a'] {
      text-decoration: none;
    }
  `}function Nxe(){const e=f.useContext(kA);if(!e)throw new Error("Tree: missing context value");return e}const sQ=f.memo(function(e){const{children:t,expanded:n=!1,...r}=e,i=Nxe();return u.jsx(ee,{as:"ul","data-ui":"TreeGroup",...r,hidden:!n,marginTop:i.space,role:"group",space:i.space,children:t})}),lQ=f.memo(R.li(Net,Let)),uQ=R(L).attrs({forwardedAs:"a"})(Bet),Vet=R(N)`
  & > svg {
    transition: transform 100ms;
  }
`,zet=f.memo(function(e){const{children:t,expanded:n=!1,fontSize:r=1,href:i,icon:a,id:o,linkAs:s,muted:l,onClick:c,padding:d=2,selected:h=!1,space:p=2,text:m,weight:g,...v}=e,b=f.useRef(null),y=f.useRef(null),x=Nxe(),{path:w,registerItem:C,setExpanded:S,setFocusedElement:_}=x,E=f.useId(),k=o||E,T=f.useMemo(()=>w.concat([k||""]),[k,w]),j=T.join("/"),I=x.state[j],A=x.focusedElement===b.current,$=(I==null?void 0:I.expanded)===void 0?n:(I==null?void 0:I.expanded)||!1,D=x.focusedElement&&x.focusedElement===b.current?0:-1,M=f.useMemo(()=>({...x,level:x.level+1,path:T}),[T,x]),O=f.useCallback(V=>{c&&c(V);const H=V.target;H instanceof HTMLElement&&(H.getAttribute("data-ui")==="TreeItem"||H.closest('[data-ui="TreeItem__box"]'))&&(V.stopPropagation(),S(j,!$),_(b.current))},[$,j,c,S,_]),F=f.useCallback(V=>{if(A&&V.key==="Enter"){const H=y.current||b.current;H==null||H.click()}},[A]);f.useEffect(()=>{if(b.current)return C(b.current,T.join("/"),$,h)},[$,T,C,h]);const P=u.jsxs(U,{padding:d,children:[u.jsxs(L,{marginRight:p,style:{visibility:a||t?"visible":"hidden",pointerEvents:"none"},children:[a&&u.jsx(N,{muted:l,size:r,weight:g,children:u.jsx(a,{})}),!a&&u.jsx(Vet,{muted:l,size:r,weight:g,children:u.jsx(l2,{style:{transform:$?"rotate(90deg)":void 0}})})]}),u.jsx(L,{flex:1,children:u.jsx(N,{muted:l,size:r,textOverflow:"ellipsis",weight:g,children:m})})]});return i?u.jsxs(lQ,{"data-selected":h?"":void 0,"data-tree-id":k,"data-tree-key":j,"data-ui":"TreeItem",...v,onClick:O,ref:b,role:"none",children:[u.jsx(uQ,{$level:x.level,"aria-expanded":$,as:s,"data-ui":"TreeItem__box",href:i,ref:y,role:"treeitem",tabIndex:D,children:P}),u.jsx(kA.Provider,{value:M,children:t&&u.jsx(sQ,{hidden:!$,children:t})})]}):u.jsxs(lQ,{"data-selected":h?"":void 0,"data-ui":"TreeItem","data-tree-id":k,"data-tree-key":j,...v,"aria-expanded":$,onClick:O,onKeyDown:F,ref:b,role:"treeitem",tabIndex:D,children:[u.jsx(uQ,{$level:x.level,as:"div","data-ui":"TreeItem__box",children:P}),u.jsx(kA.Provider,{value:M,children:t&&u.jsx(sQ,{expanded:$,children:t})})]})});zet.displayName="Memo(TreeItem)";var fg=[],Uet=function(){return fg.some(function(e){return e.activeTargets.length>0})},Het=function(){return fg.some(function(e){return e.skippedTargets.length>0})},cQ="ResizeObserver loop completed with undelivered notifications.",Wet=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:cQ}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=cQ),window.dispatchEvent(e)},lS;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(lS||(lS={}));var hg=function(e){return Object.freeze(e)},Get=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,hg(this)}return e}(),Lxe=function(){function e(t,n,r,i){return this.x=t,this.y=n,this.width=r,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,hg(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,i=t.top,a=t.right,o=t.bottom,s=t.left,l=t.width,c=t.height;return{x:n,y:r,top:i,right:a,bottom:o,left:s,width:l,height:c}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),Nz=function(e){return e instanceof SVGElement&&"getBBox"in e},Bxe=function(e){if(Nz(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var i=e,a=i.offsetWidth,o=i.offsetHeight;return!(a||o||e.getClientRects().length)},dQ=function(e){var t;if(e instanceof Element)return!0;var n=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},Yet=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},sC=typeof window<"u"?window:{},jE=new WeakMap,fQ=/auto|scroll/,qet=/^tb|vertical/,Ket=/msie|trident/i.test(sC.navigator&&sC.navigator.userAgent),lc=function(e){return parseFloat(e||"0")},E1=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new Get((n?t:e)||0,(n?e:t)||0)},hQ=hg({devicePixelContentBoxSize:E1(),borderBoxSize:E1(),contentBoxSize:E1(),contentRect:new Lxe(0,0,0,0)}),Vxe=function(e,t){if(t===void 0&&(t=!1),jE.has(e)&&!t)return jE.get(e);if(Bxe(e))return jE.set(e,hQ),hQ;var n=getComputedStyle(e),r=Nz(e)&&e.ownerSVGElement&&e.getBBox(),i=!Ket&&n.boxSizing==="border-box",a=qet.test(n.writingMode||""),o=!r&&fQ.test(n.overflowY||""),s=!r&&fQ.test(n.overflowX||""),l=r?0:lc(n.paddingTop),c=r?0:lc(n.paddingRight),d=r?0:lc(n.paddingBottom),h=r?0:lc(n.paddingLeft),p=r?0:lc(n.borderTopWidth),m=r?0:lc(n.borderRightWidth),g=r?0:lc(n.borderBottomWidth),v=r?0:lc(n.borderLeftWidth),b=h+c,y=l+d,x=v+m,w=p+g,C=s?e.offsetHeight-w-e.clientHeight:0,S=o?e.offsetWidth-x-e.clientWidth:0,_=i?b+x:0,E=i?y+w:0,k=r?r.width:lc(n.width)-_-S,T=r?r.height:lc(n.height)-E-C,j=k+b+S+x,I=T+y+C+w,A=hg({devicePixelContentBoxSize:E1(Math.round(k*devicePixelRatio),Math.round(T*devicePixelRatio),a),borderBoxSize:E1(j,I,a),contentBoxSize:E1(k,T,a),contentRect:new Lxe(h,l,k,T)});return jE.set(e,A),A},zxe=function(e,t,n){var r=Vxe(e,n),i=r.borderBoxSize,a=r.contentBoxSize,o=r.devicePixelContentBoxSize;switch(t){case lS.DEVICE_PIXEL_CONTENT_BOX:return o;case lS.BORDER_BOX:return i;default:return a}},Zet=function(){function e(t){var n=Vxe(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=hg([n.borderBoxSize]),this.contentBoxSize=hg([n.contentBoxSize]),this.devicePixelContentBoxSize=hg([n.devicePixelContentBoxSize])}return e}(),Uxe=function(e){if(Bxe(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},Xet=function(){var e=1/0,t=[];fg.forEach(function(o){if(o.activeTargets.length!==0){var s=[];o.activeTargets.forEach(function(c){var d=new Zet(c.target),h=Uxe(c.target);s.push(d),c.lastReportedSize=zxe(c.target,c.observedBox),h<e&&(e=h)}),t.push(function(){o.callback.call(o.observer,s,o.observer)}),o.activeTargets.splice(0,o.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var i=r[n];i()}return e},pQ=function(e){fg.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(i){i.isActive()&&(Uxe(i.target)>e?n.activeTargets.push(i):n.skippedTargets.push(i))})})},Jet=function(){var e=0;for(pQ(e);Uet();)e=Xet(),pQ(e);return Het()&&Wet(),e>0},dP,Hxe=[],Qet=function(){return Hxe.splice(0).forEach(function(e){return e()})},ett=function(e){if(!dP){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return Qet()}).observe(n,r),dP=function(){n.textContent="".concat(t?t--:t++)}}Hxe.push(e),dP()},ttt=function(e){ett(function(){requestAnimationFrame(e)})},$5=0,ntt=function(){return!!$5},rtt=250,itt={attributes:!0,characterData:!0,childList:!0,subtree:!0},mQ=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],gQ=function(e){return e===void 0&&(e=0),Date.now()+e},fP=!1,att=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=rtt),!fP){fP=!0;var r=gQ(t);ttt(function(){var i=!1;try{i=Jet()}finally{if(fP=!1,t=r-gQ(),!ntt())return;i?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,itt)};document.body?n():sC.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),mQ.forEach(function(n){return sC.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),mQ.forEach(function(n){return sC.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),yL=new att,vQ=function(e){!$5&&e>0&&yL.start(),$5+=e,!$5&&yL.stop()},ott=function(e){return!Nz(e)&&!Yet(e)&&getComputedStyle(e).display==="inline"},stt=function(){function e(t,n){this.target=t,this.observedBox=n||lS.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=zxe(this.target,this.observedBox,!0);return ott(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),ltt=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),IE=new WeakMap,yQ=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},DE=function(){function e(){}return e.connect=function(t,n){var r=new ltt(t,n);IE.set(t,r)},e.observe=function(t,n,r){var i=IE.get(t),a=i.observationTargets.length===0;yQ(i.observationTargets,n)<0&&(a&&fg.push(i),i.observationTargets.push(new stt(n,r&&r.box)),vQ(1),yL.schedule())},e.unobserve=function(t,n){var r=IE.get(t),i=yQ(r.observationTargets,n),a=r.observationTargets.length===1;i>=0&&(a&&fg.splice(fg.indexOf(r),1),r.observationTargets.splice(i,1),vQ(-1))},e.disconnect=function(t){var n=this,r=IE.get(t);r.observationTargets.slice().forEach(function(i){return n.unobserve(t,i.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),Wxe=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");DE.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!dQ(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");DE.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!dQ(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");DE.unobserve(this,t)},e.prototype.disconnect=function(){DE.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();function Gxe(){const e=Object.create(null);let t=0;function n(i){const a=t++;return e[a]=i,function(){delete e[a]}}function r(i){for(const a in e)e[a](i)}return{publish:r,subscribe:n}}var Yxe={exports:{}},sr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lz=Symbol.for("react.element"),Bz=Symbol.for("react.portal"),JD=Symbol.for("react.fragment"),QD=Symbol.for("react.strict_mode"),e$=Symbol.for("react.profiler"),t$=Symbol.for("react.provider"),n$=Symbol.for("react.context"),utt=Symbol.for("react.server_context"),r$=Symbol.for("react.forward_ref"),i$=Symbol.for("react.suspense"),a$=Symbol.for("react.suspense_list"),o$=Symbol.for("react.memo"),s$=Symbol.for("react.lazy"),ctt=Symbol.for("react.offscreen"),qxe;qxe=Symbol.for("react.module.reference");function cu(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Lz:switch(e=e.type,e){case JD:case e$:case QD:case i$:case a$:return e;default:switch(e=e&&e.$$typeof,e){case utt:case n$:case r$:case s$:case o$:case t$:return e;default:return t}}case Bz:return t}}}sr.ContextConsumer=n$;sr.ContextProvider=t$;sr.Element=Lz;sr.ForwardRef=r$;sr.Fragment=JD;sr.Lazy=s$;sr.Memo=o$;sr.Portal=Bz;sr.Profiler=e$;sr.StrictMode=QD;sr.Suspense=i$;sr.SuspenseList=a$;sr.isAsyncMode=function(){return!1};sr.isConcurrentMode=function(){return!1};sr.isContextConsumer=function(e){return cu(e)===n$};sr.isContextProvider=function(e){return cu(e)===t$};sr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Lz};sr.isForwardRef=function(e){return cu(e)===r$};sr.isFragment=function(e){return cu(e)===JD};sr.isLazy=function(e){return cu(e)===s$};sr.isMemo=function(e){return cu(e)===o$};sr.isPortal=function(e){return cu(e)===Bz};sr.isProfiler=function(e){return cu(e)===e$};sr.isStrictMode=function(e){return cu(e)===QD};sr.isSuspense=function(e){return cu(e)===i$};sr.isSuspenseList=function(e){return cu(e)===a$};sr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===JD||e===e$||e===QD||e===i$||e===a$||e===ctt||typeof e=="object"&&e!==null&&(e.$$typeof===s$||e.$$typeof===o$||e.$$typeof===t$||e.$$typeof===n$||e.$$typeof===r$||e.$$typeof===qxe||e.getModuleId!==void 0)};sr.typeOf=cu;Yxe.exports=sr;var Sf=Yxe.exports;function _f(){return _f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_f.apply(null,arguments)}function dtt(){if(console&&console.warn){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];typeof t[0]=="string"&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t)}}const bQ={};function bL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];typeof t[0]=="string"&&bQ[t[0]]||(typeof t[0]=="string"&&(bQ[t[0]]=new Date),dtt(...t))}const Kxe=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}};function xQ(e,t,n){e.loadNamespaces(t,Kxe(e,n))}function wQ(e,t,n,r){typeof n=="string"&&(n=[n]),n.forEach(i=>{e.options.ns.indexOf(i)<0&&e.options.ns.push(i)}),e.loadLanguages(t,Kxe(e,r))}function ftt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=t.languages[0],i=t.options?t.options.fallbackLng:!1,a=t.languages[t.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(s,l)=>{const c=t.services.backendConnector.state[`${s}|${l}`];return c===-1||c===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!o(t.isLanguageChangingTo,e)?!1:!!(t.hasResourceBundle(r,e)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||o(r,e)&&(!i||o(a,e)))}function htt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!t.languages||!t.languages.length?(bL("i18n.languages were undefined or empty",t.languages),!0):t.options.ignoreJSONStructure!==void 0?t.hasLoadedNamespace(e,{lng:n.lng,precheck:(i,a)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!a(i.isLanguageChangingTo,e))return!1}}):ftt(e,t,n)}const ptt=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,mtt={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},gtt=e=>mtt[e],vtt=e=>e.replace(ptt,gtt);let xL={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:vtt};function ytt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};xL={...xL,...e}}function btt(){return xL}let Zxe;function xtt(e){Zxe=e}function wtt(){return Zxe}const Ctt={type:"3rdParty",init(e){ytt(e.options.react),xtt(e)}},Xxe=f.createContext();class Stt{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const _tt=(e,t)=>{const n=f.useRef();return f.useEffect(()=>{n.current=t?n.current:e},[e,t]),n.current};function cb(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=t,{i18n:r,defaultNS:i}=f.useContext(Xxe)||{},a=n||r||wtt();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new Stt),!a){bL("You will need to pass in an i18next instance by using initReactI18next");const w=(S,_)=>typeof _=="string"?_:_&&typeof _=="object"&&typeof _.defaultValue=="string"?_.defaultValue:Array.isArray(S)?S[S.length-1]:S,C=[w,{},!1];return C.t=w,C.i18n={},C.ready=!1,C}a.options.react&&a.options.react.wait!==void 0&&bL("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...btt(),...a.options.react,...t},{useSuspense:s,keyPrefix:l}=o;let c=e||i||a.options&&a.options.defaultNS;c=typeof c=="string"?[c]:c||["translation"],a.reportNamespaces.addUsedNamespaces&&a.reportNamespaces.addUsedNamespaces(c);const d=(a.isInitialized||a.initializedStoreOnce)&&c.every(w=>htt(w,a,o));function h(){return a.getFixedT(t.lng||null,o.nsMode==="fallback"?c:c[0],l)}const[p,m]=f.useState(h);let g=c.join();t.lng&&(g=`${t.lng}${g}`);const v=_tt(g),b=f.useRef(!0);f.useEffect(()=>{const{bindI18n:w,bindI18nStore:C}=o;b.current=!0,!d&&!s&&(t.lng?wQ(a,t.lng,c,()=>{b.current&&m(h)}):xQ(a,c,()=>{b.current&&m(h)})),d&&v&&v!==g&&b.current&&m(h);function S(){b.current&&m(h)}return w&&a&&a.on(w,S),C&&a&&a.store.on(C,S),()=>{b.current=!1,w&&a&&w.split(" ").forEach(_=>a.off(_,S)),C&&a&&C.split(" ").forEach(_=>a.store.off(_,S))}},[a,g]);const y=f.useRef(!0);f.useEffect(()=>{b.current&&!y.current&&m(h),y.current=!1},[a,l]);const x=[p,a,d];if(x.t=p,x.i18n=a,x.ready=d,d||!d&&!s)return x;throw new Promise(w=>{t.lng?wQ(a,t.lng,c,()=>w()):xQ(a,c,()=>w())})}function Ett(e){let{i18n:t,defaultNS:n,children:r}=e;const i=f.useMemo(()=>({i18n:t,defaultNS:n}),[t,n]);return f.createElement(Xxe.Provider,{value:i},r)}function db({children:e,condition:t,wrapper:n}){return t?n(e):e}const ktt={space:3,padding:3},Ttt={space:2,padding:2},Att=R.span`
  display: inline-flex;
`,fe=f.forwardRef(function({size:e="default",mode:t="default",paddingY:n,tone:r="default",tooltipProps:i,...a},o){const s=f.useCallback(l=>u.jsx(gt,{content:i==null?void 0:i.content,portal:!0,...i,children:u.jsx(Att,{children:l})}),[i]);return u.jsx(db,{condition:!!i,wrapper:s,children:u.jsx(St,{...a,...e==="default"?Ttt:ktt,paddingY:n,ref:o,mode:t,tone:r})})}),Ui=f.forwardRef(function({bodyHeight:e,children:t,footer:n,padding:r=!0,...i},a){const{t:o}=cb();return u.jsx(KD,{...i,animate:!0,ref:a,footer:((n==null?void 0:n.confirmButton)||(n==null?void 0:n.cancelButton))&&u.jsxs(U,{width:"full",gap:3,justify:"flex-end",padding:3,children:[i.onClose&&u.jsx(St,{mode:"bleed",padding:2,text:o("common.dialog.cancel-button.text"),tone:"default",onClick:i.onClose,...n.cancelButton}),n.confirmButton&&u.jsx(St,{mode:"default",padding:2,text:o("common.dialog.confirm-button.text"),tone:"critical",...n.confirmButton})]}),children:u.jsx(L,{height:e,padding:r?4:0,children:t})})}),Kt=f.forwardRef(function(e,t){return u.jsx(ZD,{...e,ref:t,popover:{...e.popover,animate:!0}})}),Vz=e=>u.jsx(Oxe,{...e,fontSize:1,padding:3});function zz({makePlatformAware:e=!0,keys:t=[],...n}){const r=e?t.map(jtt):t;return u.jsx(Rz,{...n,keys:r})}const CQ=typeof navigator>"u"||typeof navigator.platform!="string"?!1:/Mac|iPod|iPhone|iPad/.test(navigator.platform||"");function jtt(e){const t=e.toLowerCase();return t==="alt"&&CQ?SQ(e,"option"):t==="option"&&!CQ?SQ(e,"alt"):e}function SQ(e,t){const n=e.length;return t.replace(/./g,(r,i)=>i<n&&e[i]===e[i].toUpperCase()?r.toUpperCase():r)}const hP=1,Itt=0,Dtt=R(N)`
  margin-top: 2px;
`,$tt=R(L)`
  height: 25px;
  width: 25px;
  overflow: hidden;
`,We=f.forwardRef(function({badgeText:e,children:t,disabled:n,hotkeys:r,icon:i,iconRight:a,preview:o=null,renderMenuItem:s,text:l,tooltipProps:c,__unstable_subtitle:d,__unstable_space:h,...p},m){const g=f.useMemo(()=>u.jsxs(U,{align:"center",gap:2,children:[o&&u.jsx($tt,{style:{opacity:n?.25:void 0},paddingRight:h?1:0,children:u.jsx(U,{align:"center",height:"fill",justify:"center",children:o})}),i&&u.jsx(L,{paddingRight:1,children:u.jsxs(N,{size:hP,children:[f.isValidElement(i)&&i,Sf.isValidElementType(i)&&f.createElement(i)]})}),l&&u.jsxs(ee,{flex:1,space:d?1:2,paddingLeft:d?1:0,children:[u.jsx(N,{size:hP,textOverflow:"ellipsis",weight:"medium",children:l}),d&&u.jsx(Dtt,{size:Itt,textOverflow:"ellipsis",weight:"medium",muted:!0,children:d})]}),(e||r||a)&&u.jsxs(U,{align:"center",gap:3,marginLeft:3,children:[r&&u.jsx(zz,{keys:r,style:{marginTop:-4,marginBottom:-4}}),e&&u.jsx(ro,{fontSize:0,style:{marginTop:-4,marginBottom:-4},children:e}),a&&u.jsxs(N,{size:hP,children:[f.isValidElement(a)&&a,Sf.isValidElementType(a)&&f.createElement(a)]})]})]}),[o,n,h,i,l,d,e,r,a]),v=f.useCallback(b=>u.jsx(gt,{content:c==null?void 0:c.content,portal:!0,...c,children:u.jsx("div",{children:b})}),[c]);return u.jsx(db,{condition:!!c,wrapper:v,children:u.jsx(S0,{disabled:n,paddingLeft:o?1:3,paddingRight:3,paddingY:o?1:3,ref:m,...p,children:typeof t>"u"&&typeof s=="function"?s(g):g})})}),Fn=f.forwardRef(function(e,t){return u.jsx(nd,{...e,animate:!0,ref:t})}),uS=f.forwardRef(function({tone:e="default",...t},n){return u.jsx(Fz,{...t,muted:!0,padding:2,ref:n,tone:e})}),Jxe={open:400},_Q={animate:!0,arrow:!1,boundaryElement:null,delay:Jxe,fallbackPlacements:["bottom-start","bottom-end","top-start","top-end"],placement:"bottom",portal:!0},gt=f.forwardRef(function(e,t){const{content:n,hotkeys:r,...i}=e;return typeof n=="string"?u.jsx(_A,{..._Q,content:u.jsxs(U,{align:"center",children:[n&&u.jsx(L,{flex:1,padding:1,children:u.jsx(N,{size:1,children:n})}),r&&u.jsx(L,{flex:"none",children:u.jsx(zz,{keys:r})})]}),padding:1,ref:t,...i}):u.jsx(_A,{..._Q,content:n,ref:t,...i})}),Xa=e=>u.jsx(Txe,{delay:Jxe,children:e.children}),Ott="https://docs.sanity.io/help/";function Qxe(e){return Ott+e}function Mtt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var Uz=Mtt,Rtt=Nf,Ptt=ul,Ftt="[object Arguments]";function Ntt(e){return Ptt(e)&&Rtt(e)==Ftt}var Ltt=Ntt,EQ=Ltt,Btt=ul,ewe=Object.prototype,Vtt=ewe.hasOwnProperty,ztt=ewe.propertyIsEnumerable,Utt=EQ(function(){return arguments}())?EQ:function(e){return Btt(e)&&Vtt.call(e,"callee")&&!ztt.call(e,"callee")},l$=Utt,Htt=Array.isArray,Hi=Htt,kQ=Hy,Wtt=l$,Gtt=Hi,TQ=kQ?kQ.isConcatSpreadable:void 0;function Ytt(e){return Gtt(e)||Wtt(e)||!!(TQ&&e&&e[TQ])}var qtt=Ytt,Ktt=Uz,Ztt=qtt;function twe(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=Ztt),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?twe(s,t-1,n,r,i):Ktt(i,s):r||(i[i.length]=s)}return i}var fb=twe;function Xtt(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var id=Xtt,Jtt=Hi,Qtt=p0,ent=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tnt=/^\w*$/;function nnt(e,t){if(Jtt(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Qtt(e)?!0:tnt.test(e)||!ent.test(e)||t!=null&&e in Object(t)}var Hz=nnt,rnt=Nf,int=su,ant="[object AsyncFunction]",ont="[object Function]",snt="[object GeneratorFunction]",lnt="[object Proxy]";function unt(e){if(!int(e))return!1;var t=rnt(e);return t==ont||t==snt||t==ant||t==lnt}var nwe=unt,cnt=lu,dnt=cnt["__core-js_shared__"],fnt=dnt,pP=fnt,AQ=function(){var e=/[^.]+$/.exec(pP&&pP.keys&&pP.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function hnt(e){return!!AQ&&AQ in e}var pnt=hnt,mnt=Function.prototype,gnt=mnt.toString;function vnt(e){if(e!=null){try{return gnt.call(e)}catch{}try{return e+""}catch{}}return""}var rwe=vnt,ynt=nwe,bnt=pnt,xnt=su,wnt=rwe,Cnt=/[\\^$.*+?()[\]{}|]/g,Snt=/^\[object .+?Constructor\]$/,_nt=Function.prototype,Ent=Object.prototype,knt=_nt.toString,Tnt=Ent.hasOwnProperty,Ant=RegExp("^"+knt.call(Tnt).replace(Cnt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function jnt(e){if(!xnt(e)||bnt(e))return!1;var t=ynt(e)?Ant:Snt;return t.test(wnt(e))}var Int=jnt;function Dnt(e,t){return e==null?void 0:e[t]}var $nt=Dnt,Ont=Int,Mnt=$nt;function Rnt(e,t){var n=Mnt(e,t);return Ont(n)?n:void 0}var _0=Rnt,Pnt=_0,Fnt=Pnt(Object,"create"),u$=Fnt,jQ=u$;function Nnt(){this.__data__=jQ?jQ(null):{},this.size=0}var Lnt=Nnt;function Bnt(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Vnt=Bnt,znt=u$,Unt="__lodash_hash_undefined__",Hnt=Object.prototype,Wnt=Hnt.hasOwnProperty;function Gnt(e){var t=this.__data__;if(znt){var n=t[e];return n===Unt?void 0:n}return Wnt.call(t,e)?t[e]:void 0}var Ynt=Gnt,qnt=u$,Knt=Object.prototype,Znt=Knt.hasOwnProperty;function Xnt(e){var t=this.__data__;return qnt?t[e]!==void 0:Znt.call(t,e)}var Jnt=Xnt,Qnt=u$,ert="__lodash_hash_undefined__";function trt(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Qnt&&t===void 0?ert:t,this}var nrt=trt,rrt=Lnt,irt=Vnt,art=Ynt,ort=Jnt,srt=nrt;function hb(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}hb.prototype.clear=rrt;hb.prototype.delete=irt;hb.prototype.get=art;hb.prototype.has=ort;hb.prototype.set=srt;var lrt=hb;function urt(){this.__data__=[],this.size=0}var crt=urt;function drt(e,t){return e===t||e!==e&&t!==t}var I2=drt,frt=I2;function hrt(e,t){for(var n=e.length;n--;)if(frt(e[n][0],t))return n;return-1}var c$=hrt,prt=c$,mrt=Array.prototype,grt=mrt.splice;function vrt(e){var t=this.__data__,n=prt(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():grt.call(t,n,1),--this.size,!0}var yrt=vrt,brt=c$;function xrt(e){var t=this.__data__,n=brt(t,e);return n<0?void 0:t[n][1]}var wrt=xrt,Crt=c$;function Srt(e){return Crt(this.__data__,e)>-1}var _rt=Srt,Ert=c$;function krt(e,t){var n=this.__data__,r=Ert(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var Trt=krt,Art=crt,jrt=yrt,Irt=wrt,Drt=_rt,$rt=Trt;function pb(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}pb.prototype.clear=Art;pb.prototype.delete=jrt;pb.prototype.get=Irt;pb.prototype.has=Drt;pb.prototype.set=$rt;var d$=pb,Ort=_0,Mrt=lu,Rrt=Ort(Mrt,"Map"),Wz=Rrt,IQ=lrt,Prt=d$,Frt=Wz;function Nrt(){this.size=0,this.__data__={hash:new IQ,map:new(Frt||Prt),string:new IQ}}var Lrt=Nrt;function Brt(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Vrt=Brt,zrt=Vrt;function Urt(e,t){var n=e.__data__;return zrt(t)?n[typeof t=="string"?"string":"hash"]:n.map}var f$=Urt,Hrt=f$;function Wrt(e){var t=Hrt(this,e).delete(e);return this.size-=t?1:0,t}var Grt=Wrt,Yrt=f$;function qrt(e){return Yrt(this,e).get(e)}var Krt=qrt,Zrt=f$;function Xrt(e){return Zrt(this,e).has(e)}var Jrt=Xrt,Qrt=f$;function eit(e,t){var n=Qrt(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var tit=eit,nit=Lrt,rit=Grt,iit=Krt,ait=Jrt,oit=tit;function mb(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}mb.prototype.clear=nit;mb.prototype.delete=rit;mb.prototype.get=iit;mb.prototype.has=ait;mb.prototype.set=oit;var Gz=mb,iwe=Gz,sit="Expected a function";function Yz(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(sit);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Yz.Cache||iwe),n}Yz.Cache=iwe;var awe=Yz;const h$=Pe(awe);var lit=awe,uit=500;function cit(e){var t=lit(e,function(r){return n.size===uit&&n.clear(),r}),n=t.cache;return t}var dit=cit,fit=dit,hit=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pit=/\\(\\)?/g,mit=fit(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(hit,function(n,r,i,a){t.push(i?a.replace(pit,"$1"):r||n)}),t}),owe=mit,DQ=Hy,git=id,vit=Hi,yit=p0,bit=1/0,$Q=DQ?DQ.prototype:void 0,OQ=$Q?$Q.toString:void 0;function swe(e){if(typeof e=="string")return e;if(vit(e))return git(e,swe)+"";if(yit(e))return OQ?OQ.call(e):"";var t=e+"";return t=="0"&&1/e==-bit?"-0":t}var lwe=swe,xit=lwe;function wit(e){return e==null?"":xit(e)}var du=wit,Cit=Hi,Sit=Hz,_it=owe,Eit=du;function kit(e,t){return Cit(e)?e:Sit(e,t)?[e]:_it(Eit(e))}var gb=kit,Tit=p0,Ait=1/0;function jit(e){if(typeof e=="string"||Tit(e))return e;var t=e+"";return t=="0"&&1/e==-Ait?"-0":t}var E0=jit,Iit=gb,Dit=E0;function $it(e,t){t=Iit(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Dit(t[n++])];return n&&n==r?e:void 0}var D2=$it,Oit=d$;function Mit(){this.__data__=new Oit,this.size=0}var Rit=Mit;function Pit(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var Fit=Pit;function Nit(e){return this.__data__.get(e)}var Lit=Nit;function Bit(e){return this.__data__.has(e)}var Vit=Bit,zit=d$,Uit=Wz,Hit=Gz,Wit=200;function Git(e,t){var n=this.__data__;if(n instanceof zit){var r=n.__data__;if(!Uit||r.length<Wit-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Hit(r)}return n.set(e,t),this.size=n.size,this}var Yit=Git,qit=d$,Kit=Rit,Zit=Fit,Xit=Lit,Jit=Vit,Qit=Yit;function vb(e){var t=this.__data__=new qit(e);this.size=t.size}vb.prototype.clear=Kit;vb.prototype.delete=Zit;vb.prototype.get=Xit;vb.prototype.has=Jit;vb.prototype.set=Qit;var qz=vb,eat="__lodash_hash_undefined__";function tat(e){return this.__data__.set(e,eat),this}var nat=tat;function rat(e){return this.__data__.has(e)}var iat=rat,aat=Gz,oat=nat,sat=iat;function TA(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new aat;++t<n;)this.add(e[t])}TA.prototype.add=TA.prototype.push=oat;TA.prototype.has=sat;var p$=TA;function lat(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var uat=lat;function cat(e,t){return e.has(t)}var m$=cat,dat=p$,fat=uat,hat=m$,pat=1,mat=2;function gat(e,t,n,r,i,a){var o=n&pat,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var c=a.get(e),d=a.get(t);if(c&&d)return c==t&&d==e;var h=-1,p=!0,m=n&mat?new dat:void 0;for(a.set(e,t),a.set(t,e);++h<s;){var g=e[h],v=t[h];if(r)var b=o?r(v,g,h,t,e,a):r(g,v,h,e,t,a);if(b!==void 0){if(b)continue;p=!1;break}if(m){if(!fat(t,function(y,x){if(!hat(m,x)&&(g===y||i(g,y,n,r,a)))return m.push(x)})){p=!1;break}}else if(!(g===v||i(g,v,n,r,a))){p=!1;break}}return a.delete(e),a.delete(t),p}var uwe=gat,vat=lu,yat=vat.Uint8Array,cwe=yat;function bat(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var xat=bat;function wat(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var Kz=wat,MQ=Hy,RQ=cwe,Cat=I2,Sat=uwe,_at=xat,Eat=Kz,kat=1,Tat=2,Aat="[object Boolean]",jat="[object Date]",Iat="[object Error]",Dat="[object Map]",$at="[object Number]",Oat="[object RegExp]",Mat="[object Set]",Rat="[object String]",Pat="[object Symbol]",Fat="[object ArrayBuffer]",Nat="[object DataView]",PQ=MQ?MQ.prototype:void 0,mP=PQ?PQ.valueOf:void 0;function Lat(e,t,n,r,i,a,o){switch(n){case Nat:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Fat:return!(e.byteLength!=t.byteLength||!a(new RQ(e),new RQ(t)));case Aat:case jat:case $at:return Cat(+e,+t);case Iat:return e.name==t.name&&e.message==t.message;case Oat:case Rat:return e==t+"";case Dat:var s=_at;case Mat:var l=r&kat;if(s||(s=Eat),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;r|=Tat,o.set(e,t);var d=Sat(s(e),s(t),r,i,a,o);return o.delete(e),d;case Pat:if(mP)return mP.call(e)==mP.call(t)}return!1}var Bat=Lat,Vat=Uz,zat=Hi;function Uat(e,t,n){var r=t(e);return zat(e)?r:Vat(r,n(e))}var dwe=Uat;function Hat(e,t){for(var n=-1,r=e==null?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}var fwe=Hat;function Wat(){return[]}var hwe=Wat,Gat=fwe,Yat=hwe,qat=Object.prototype,Kat=qat.propertyIsEnumerable,FQ=Object.getOwnPropertySymbols,Zat=FQ?function(e){return e==null?[]:(e=Object(e),Gat(FQ(e),function(t){return Kat.call(e,t)}))}:Yat,Zz=Zat;function Xat(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Jat=Xat,AA={exports:{}};function Qat(){return!1}var eot=Qat;AA.exports;(function(e,t){var n=lu,r=eot,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||r;e.exports=c})(AA,AA.exports);var g$=AA.exports,tot=9007199254740991,not=/^(?:0|[1-9]\d*)$/;function rot(e,t){var n=typeof e;return t=t??tot,!!t&&(n=="number"||n!="symbol"&&not.test(e))&&e>-1&&e%1==0&&e<t}var v$=rot,iot=9007199254740991;function aot(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=iot}var Xz=aot,oot=Nf,sot=Xz,lot=ul,uot="[object Arguments]",cot="[object Array]",dot="[object Boolean]",fot="[object Date]",hot="[object Error]",pot="[object Function]",mot="[object Map]",got="[object Number]",vot="[object Object]",yot="[object RegExp]",bot="[object Set]",xot="[object String]",wot="[object WeakMap]",Cot="[object ArrayBuffer]",Sot="[object DataView]",_ot="[object Float32Array]",Eot="[object Float64Array]",kot="[object Int8Array]",Tot="[object Int16Array]",Aot="[object Int32Array]",jot="[object Uint8Array]",Iot="[object Uint8ClampedArray]",Dot="[object Uint16Array]",$ot="[object Uint32Array]",zr={};zr[_ot]=zr[Eot]=zr[kot]=zr[Tot]=zr[Aot]=zr[jot]=zr[Iot]=zr[Dot]=zr[$ot]=!0;zr[uot]=zr[cot]=zr[Cot]=zr[dot]=zr[Sot]=zr[fot]=zr[hot]=zr[pot]=zr[mot]=zr[got]=zr[vot]=zr[yot]=zr[bot]=zr[xot]=zr[wot]=!1;function Oot(e){return lot(e)&&sot(e.length)&&!!zr[oot(e)]}var Mot=Oot;function Rot(e){return function(t){return e(t)}}var yb=Rot,jA={exports:{}};jA.exports;(function(e,t){var n=Wpe,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s})(jA,jA.exports);var Jz=jA.exports,Pot=Mot,Fot=yb,NQ=Jz,LQ=NQ&&NQ.isTypedArray,Not=LQ?Fot(LQ):Pot,Qz=Not,Lot=Jat,Bot=l$,Vot=Hi,zot=g$,Uot=v$,Hot=Qz,Wot=Object.prototype,Got=Wot.hasOwnProperty;function Yot(e,t){var n=Vot(e),r=!n&&Bot(e),i=!n&&!r&&zot(e),a=!n&&!r&&!i&&Hot(e),o=n||r||i||a,s=o?Lot(e.length,String):[],l=s.length;for(var c in e)(t||Got.call(e,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Uot(c,l)))&&s.push(c);return s}var pwe=Yot,qot=Object.prototype;function Kot(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||qot;return e===n}var y$=Kot;function Zot(e,t){return function(n){return e(t(n))}}var mwe=Zot,Xot=mwe,Jot=Xot(Object.keys,Object),Qot=Jot,est=y$,tst=Qot,nst=Object.prototype,rst=nst.hasOwnProperty;function ist(e){if(!est(e))return tst(e);var t=[];for(var n in Object(e))rst.call(e,n)&&n!="constructor"&&t.push(n);return t}var gwe=ist,ast=nwe,ost=Xz;function sst(e){return e!=null&&ost(e.length)&&!ast(e)}var qp=sst,lst=pwe,ust=gwe,cst=qp;function dst(e){return cst(e)?lst(e):ust(e)}var Yf=dst,fst=dwe,hst=Zz,pst=Yf;function mst(e){return fst(e,pst,hst)}var vwe=mst,BQ=vwe,gst=1,vst=Object.prototype,yst=vst.hasOwnProperty;function bst(e,t,n,r,i,a){var o=n&gst,s=BQ(e),l=s.length,c=BQ(t),d=c.length;if(l!=d&&!o)return!1;for(var h=l;h--;){var p=s[h];if(!(o?p in t:yst.call(t,p)))return!1}var m=a.get(e),g=a.get(t);if(m&&g)return m==t&&g==e;var v=!0;a.set(e,t),a.set(t,e);for(var b=o;++h<l;){p=s[h];var y=e[p],x=t[p];if(r)var w=o?r(x,y,p,t,e,a):r(y,x,p,e,t,a);if(!(w===void 0?y===x||i(y,x,n,r,a):w)){v=!1;break}b||(b=p=="constructor")}if(v&&!b){var C=e.constructor,S=t.constructor;C!=S&&"constructor"in e&&"constructor"in t&&!(typeof C=="function"&&C instanceof C&&typeof S=="function"&&S instanceof S)&&(v=!1)}return a.delete(e),a.delete(t),v}var xst=bst,wst=_0,Cst=lu,Sst=wst(Cst,"DataView"),_st=Sst,Est=_0,kst=lu,Tst=Est(kst,"Promise"),Ast=Tst,jst=_0,Ist=lu,Dst=jst(Ist,"Set"),ywe=Dst,$st=_0,Ost=lu,Mst=$st(Ost,"WeakMap"),bwe=Mst,wL=_st,CL=Wz,SL=Ast,_L=ywe,EL=bwe,xwe=Nf,bb=rwe,VQ="[object Map]",Rst="[object Object]",zQ="[object Promise]",UQ="[object Set]",HQ="[object WeakMap]",WQ="[object DataView]",Pst=bb(wL),Fst=bb(CL),Nst=bb(SL),Lst=bb(_L),Bst=bb(EL),km=xwe;(wL&&km(new wL(new ArrayBuffer(1)))!=WQ||CL&&km(new CL)!=VQ||SL&&km(SL.resolve())!=zQ||_L&&km(new _L)!=UQ||EL&&km(new EL)!=HQ)&&(km=function(e){var t=xwe(e),n=t==Rst?e.constructor:void 0,r=n?bb(n):"";if(r)switch(r){case Pst:return WQ;case Fst:return VQ;case Nst:return zQ;case Lst:return UQ;case Bst:return HQ}return t});var $2=km,gP=qz,Vst=uwe,zst=Bat,Ust=xst,GQ=$2,YQ=Hi,qQ=g$,Hst=Qz,Wst=1,KQ="[object Arguments]",ZQ="[object Array]",$E="[object Object]",Gst=Object.prototype,XQ=Gst.hasOwnProperty;function Yst(e,t,n,r,i,a){var o=YQ(e),s=YQ(t),l=o?ZQ:GQ(e),c=s?ZQ:GQ(t);l=l==KQ?$E:l,c=c==KQ?$E:c;var d=l==$E,h=c==$E,p=l==c;if(p&&qQ(e)){if(!qQ(t))return!1;o=!0,d=!1}if(p&&!d)return a||(a=new gP),o||Hst(e)?Vst(e,t,n,r,i,a):zst(e,t,l,n,r,i,a);if(!(n&Wst)){var m=d&&XQ.call(e,"__wrapped__"),g=h&&XQ.call(t,"__wrapped__");if(m||g){var v=m?e.value():e,b=g?t.value():t;return a||(a=new gP),i(v,b,n,r,a)}}return p?(a||(a=new gP),Ust(e,t,n,r,i,a)):!1}var qst=Yst,Kst=qst,JQ=ul;function wwe(e,t,n,r,i){return e===t?!0:e==null||t==null||!JQ(e)&&!JQ(t)?e!==e&&t!==t:Kst(e,t,n,r,wwe,i)}var eU=wwe,Zst=qz,Xst=eU,Jst=1,Qst=2;function elt(e,t,n,r){var i=n.length,a=i,o=!r;if(e==null)return!a;for(e=Object(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){s=n[i];var l=s[0],c=e[l],d=s[1];if(o&&s[2]){if(c===void 0&&!(l in e))return!1}else{var h=new Zst;if(r)var p=r(c,d,l,e,t,h);if(!(p===void 0?Xst(d,c,Jst|Qst,r,h):p))return!1}}return!0}var tlt=elt,nlt=su;function rlt(e){return e===e&&!nlt(e)}var Cwe=rlt,ilt=Cwe,alt=Yf;function olt(e){for(var t=alt(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,ilt(i)]}return t}var slt=olt;function llt(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var Swe=llt,ult=tlt,clt=slt,dlt=Swe;function flt(e){var t=clt(e);return t.length==1&&t[0][2]?dlt(t[0][0],t[0][1]):function(n){return n===e||ult(n,e,t)}}var hlt=flt,plt=D2;function mlt(e,t,n){var r=e==null?void 0:plt(e,t);return r===void 0?n:r}var _we=mlt;const Jn=Pe(_we);function glt(e,t){return e!=null&&t in Object(e)}var vlt=glt,ylt=gb,blt=l$,xlt=Hi,wlt=v$,Clt=Xz,Slt=E0;function _lt(e,t,n){t=ylt(t,e);for(var r=-1,i=t.length,a=!1;++r<i;){var o=Slt(t[r]);if(!(a=e!=null&&n(e,o)))break;e=e[o]}return a||++r!=i?a:(i=e==null?0:e.length,!!i&&Clt(i)&&wlt(o,i)&&(xlt(e)||blt(e)))}var Elt=_lt,klt=vlt,Tlt=Elt;function Alt(e,t){return e!=null&&Tlt(e,t,klt)}var Ewe=Alt,jlt=eU,Ilt=_we,Dlt=Ewe,$lt=Hz,Olt=Cwe,Mlt=Swe,Rlt=E0,Plt=1,Flt=2;function Nlt(e,t){return $lt(e)&&Olt(t)?Mlt(Rlt(e),t):function(n){var r=Ilt(n,e);return r===void 0&&r===t?Dlt(n,e):jlt(t,r,Plt|Flt)}}var Llt=Nlt;function Blt(e){return e}var k0=Blt;const kwe=Pe(k0);function Vlt(e){return function(t){return t==null?void 0:t[e]}}var zlt=Vlt,Ult=D2;function Hlt(e){return function(t){return Ult(t,e)}}var Wlt=Hlt,Glt=zlt,Ylt=Wlt,qlt=Hz,Klt=E0;function Zlt(e){return qlt(e)?Glt(Klt(e)):Ylt(e)}var Xlt=Zlt,Jlt=hlt,Qlt=Llt,eut=k0,tut=Hi,nut=Xlt;function rut(e){return typeof e=="function"?e:e==null?eut:typeof e=="object"?tut(e)?Qlt(e[0],e[1]):Jlt(e):nut(e)}var Kp=rut;function iut(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var l=o[e?s:++i];if(n(a[l],l,a)===!1)break}return t}}var aut=iut,out=aut,sut=out(),lut=sut,uut=lut,cut=Yf;function dut(e,t){return e&&uut(e,t,cut)}var fut=dut,hut=qp;function put(e,t){return function(n,r){if(n==null)return n;if(!hut(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var mut=put,gut=fut,vut=mut,yut=vut(gut),Twe=yut,but=Twe,xut=qp;function wut(e,t){var n=-1,r=xut(e)?Array(e.length):[];return but(e,function(i,a,o){r[++n]=t(i,a,o)}),r}var Awe=wut;function Cut(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var Sut=Cut,QQ=p0;function _ut(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,a=QQ(e),o=t!==void 0,s=t===null,l=t===t,c=QQ(t);if(!s&&!c&&!a&&e>t||a&&o&&l&&!s&&!c||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!c&&e<t||c&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0}var Eut=_ut,kut=Eut;function Tut(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;++r<o;){var l=kut(i[r],a[r]);if(l){if(r>=s)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return e.index-t.index}var Aut=Tut,vP=id,jut=D2,Iut=Kp,Dut=Awe,$ut=Sut,Out=yb,Mut=Aut,Rut=k0,Put=Hi;function Fut(e,t,n){t.length?t=vP(t,function(a){return Put(a)?function(o){return jut(o,a.length===1?a[0]:a)}:a}):t=[Rut];var r=-1;t=vP(t,Out(Iut));var i=Dut(e,function(a,o,s){var l=vP(t,function(c){return c(a)});return{criteria:l,index:++r,value:a}});return $ut(i,function(a,o){return Mut(a,o,n)})}var jwe=Fut;function Nut(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Iwe=Nut,Lut=Iwe,eee=Math.max;function But(e,t,n){return t=eee(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=eee(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),Lut(e,this,s)}}var Dwe=But;function Vut(e){return function(){return e}}var zut=Vut,Uut=_0,Hut=function(){try{var e=Uut(Object,"defineProperty");return e({},"",{}),e}catch{}}(),$we=Hut,Wut=zut,tee=$we,Gut=k0,Yut=tee?function(e,t){return tee(e,"toString",{configurable:!0,enumerable:!1,value:Wut(t),writable:!0})}:Gut,qut=Yut,Kut=800,Zut=16,Xut=Date.now;function Jut(e){var t=0,n=0;return function(){var r=Xut(),i=Zut-(r-n);if(n=r,i>0){if(++t>=Kut)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Qut=Jut,ect=qut,tct=Qut,nct=tct(ect),Owe=nct,rct=k0,ict=Dwe,act=Owe;function oct(e,t){return act(ict(e,t,rct),e+"")}var T0=oct,sct=I2,lct=qp,uct=v$,cct=su;function dct(e,t,n){if(!cct(n))return!1;var r=typeof t;return(r=="number"?lct(n)&&uct(t,n.length):r=="string"&&t in n)?sct(n[t],e):!1}var b$=dct,fct=fb,hct=jwe,pct=T0,nee=b$,mct=pct(function(e,t){if(e==null)return[];var n=t.length;return n>1&&nee(e,t[0],t[1])?t=[]:n>2&&nee(t[0],t[1],t[2])&&(t=[t[0]]),hct(e,fct(t,1),[])}),gct=mct;const Zp=Pe(gct);/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function IA(){return IA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IA.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function DA(){return DA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DA.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uv(e,t,n){var r,i=(r=n.initialDeps)!=null?r:[],a;return function(){var o;n.key&&n.debug!=null&&n.debug()&&(o=Date.now());var s=e(),l=s.length!==i.length||s.some(function(g,v){return i[v]!==g});if(!l)return a;i=s;var c;if(n.key&&n.debug!=null&&n.debug()&&(c=Date.now()),a=t.apply(void 0,s),n.key&&n.debug!=null&&n.debug()){var d=Math.round((Date.now()-o)*100)/100,h=Math.round((Date.now()-c)*100)/100,p=h/16,m=function(v,b){for(v=String(v);v.length<b;)v=" "+v;return v};console.info("%c⏱ "+m(h,5)+" /"+m(d,5)+" ms",`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(`+Math.max(0,Math.min(120-120*p,120))+"deg 100% 31%);",n==null?void 0:n.key)}return n==null||n.onChange==null||n.onChange(a),a}}function yP(e,t){if(e===void 0)throw new Error("Unexpected undefined"+(t?": "+t:""));return e}var vct=function(t,n){return Math.abs(t-n)<1};/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var yct=function(t){return t},Mwe=function(t){for(var n=Math.max(t.startIndex-t.overscan,0),r=Math.min(t.endIndex+t.overscan,t.count-1),i=[],a=n;a<=r;a++)i.push(a);return i},bct=function(t,n){var r=t.scrollElement;if(r){var i=function(s){var l=s.width,c=s.height;n({width:Math.round(l),height:Math.round(c)})};i(r.getBoundingClientRect());var a=new ResizeObserver(function(o){var s=o[0];if(s!=null&&s.borderBoxSize){var l=s.borderBoxSize[0];if(l){i({width:l.inlineSize,height:l.blockSize});return}}i(r.getBoundingClientRect())});return a.observe(r,{box:"border-box"}),function(){a.unobserve(r)}}},xct=function(t,n){var r=t.scrollElement;if(r){var i=function(){n(r[t.options.horizontal?"scrollLeft":"scrollTop"])};return i(),r.addEventListener("scroll",i,{passive:!0}),function(){r.removeEventListener("scroll",i)}}},wct=function(t,n,r){if(n!=null&&n.borderBoxSize){var i=n.borderBoxSize[0];if(i){var a=Math.round(i[r.options.horizontal?"inlineSize":"blockSize"]);return a}}return Math.round(t.getBoundingClientRect()[r.options.horizontal?"width":"height"])},Rwe=function(t,n,r){var i,a,o=n.adjustments,s=o===void 0?0:o,l=n.behavior,c=t+s;(i=r.scrollElement)==null||i.scrollTo==null||i.scrollTo((a={},a[r.options.horizontal?"left":"top"]=c,a.behavior=l,a))},Cct=function(t){var n=this;this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.isScrollingTimeoutId=null,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=function(){var r=null,i=function(){return r||(typeof ResizeObserver<"u"?r=new ResizeObserver(function(o){o.forEach(function(s){n._measureElement(s.target,s)})}):null)};return{disconnect:function(){var o;return(o=i())==null?void 0:o.disconnect()},observe:function(o){var s;return(s=i())==null?void 0:s.observe(o,{box:"border-box"})},unobserve:function(o){var s;return(s=i())==null?void 0:s.unobserve(o)}}}(),this.range={startIndex:0,endIndex:0},this.setOptions=function(r){Object.entries(r).forEach(function(i){var a=i[0],o=i[1];typeof o>"u"&&delete r[a]}),n.options=DA({debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:yct,rangeExtractor:Mwe,onChange:function(){},measureElement:wct,initialRect:{width:0,height:0},scrollMargin:0,scrollingDelay:150,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1},r)},this.notify=function(){n.options.onChange==null||n.options.onChange(n)},this.cleanup=function(){n.unsubs.filter(Boolean).forEach(function(r){return r()}),n.unsubs=[],n.scrollElement=null},this._didMount=function(){return n.measureElementCache.forEach(n.observer.observe),function(){n.observer.disconnect(),n.cleanup()}},this._willUpdate=function(){var r=n.options.getScrollElement();n.scrollElement!==r&&(n.cleanup(),n.scrollElement=r,n._scrollToOffset(n.scrollOffset,{adjustments:void 0,behavior:void 0}),n.unsubs.push(n.options.observeElementRect(n,function(i){var a=n.scrollRect;n.scrollRect=i,(n.options.horizontal?i.width!==a.width:i.height!==a.height)&&n.maybeNotify()})),n.unsubs.push(n.options.observeElementOffset(n,function(i){n.scrollAdjustments=0,n.scrollOffset!==i&&(n.isScrollingTimeoutId!==null&&(clearTimeout(n.isScrollingTimeoutId),n.isScrollingTimeoutId=null),n.isScrolling=!0,n.scrollDirection=n.scrollOffset<i?"forward":"backward",n.scrollOffset=i,n.maybeNotify(),n.isScrollingTimeoutId=setTimeout(function(){n.isScrollingTimeoutId=null,n.isScrolling=!1,n.scrollDirection=null,n.maybeNotify()},n.options.scrollingDelay))})))},this.getSize=function(){return n.scrollRect[n.options.horizontal?"width":"height"]},this.memoOptions=uv(function(){return[n.options.count,n.options.paddingStart,n.options.scrollMargin,n.options.getItemKey]},function(r,i,a,o){return n.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:i,scrollMargin:a,getItemKey:o}},{key:!1}),this.getFurthestMeasurement=function(r,i){for(var a=new Map,o=new Map,s=i-1;s>=0;s--){var l=r[s];if(!a.has(l.lane)){var c=o.get(l.lane);if(c==null||l.end>c.end?o.set(l.lane,l):l.end<c.end&&a.set(l.lane,!0),a.size===n.options.lanes)break}}return o.size===n.options.lanes?Array.from(o.values()).sort(function(d,h){return d.end-h.end})[0]:void 0},this.getMeasurements=uv(function(){return[n.memoOptions(),n.itemSizeCache]},function(r,i){var a=r.count,o=r.paddingStart,s=r.scrollMargin,l=r.getItemKey,c=n.pendingMeasuredCacheIndexes.length>0?Math.min.apply(Math,n.pendingMeasuredCacheIndexes):0;n.pendingMeasuredCacheIndexes=[];for(var d=n.measurementsCache.slice(0,c),h=c;h<a;h++){var p=l(h),m=n.options.lanes===1?d[h-1]:n.getFurthestMeasurement(d,h),g=m?m.end:o+s,v=i.get(p),b=typeof v=="number"?v:n.options.estimateSize(h),y=g+b,x=m?m.lane:h%n.options.lanes;d[h]={index:h,start:g,size:b,end:y,key:p,lane:x}}return n.measurementsCache=d,d},{key:!1,debug:function(){return n.options.debug}}),this.calculateRange=uv(function(){return[n.getMeasurements(),n.getSize(),n.scrollOffset]},function(r,i,a){return n.range=Sct({measurements:r,outerSize:i,scrollOffset:a})},{key:!1,debug:function(){return n.options.debug}}),this.maybeNotify=uv(function(){var r=n.calculateRange();return[r.startIndex,r.endIndex,n.isScrolling]},function(){n.notify()},{key:!1,debug:function(){return n.options.debug},initialDeps:[this.range.startIndex,this.range.endIndex,this.isScrolling]}),this.getIndexes=uv(function(){return[n.options.rangeExtractor,n.calculateRange(),n.options.overscan,n.options.count]},function(r,i,a,o){return r(DA({},i,{overscan:a,count:o}))},{key:!1,debug:function(){return n.options.debug}}),this.indexFromElement=function(r){var i=n.options.indexAttribute,a=r.getAttribute(i);return a?parseInt(a,10):(console.warn("Missing attribute name '"+i+"={index}' on measured element."),-1)},this._measureElement=function(r,i){var a,o=n.indexFromElement(r),s=n.measurementsCache[o];if(s){var l=n.measureElementCache.get(s.key);if(!r.isConnected){n.observer.unobserve(r),r===l&&n.measureElementCache.delete(s.key);return}l!==r&&(l&&n.observer.unobserve(l),n.observer.observe(r),n.measureElementCache.set(s.key,r));var c=n.options.measureElement(r,i,n),d=(a=n.itemSizeCache.get(s.key))!=null?a:s.size,h=c-d;h!==0&&(s.start<n.scrollOffset&&n._scrollToOffset(n.scrollOffset,{adjustments:n.scrollAdjustments+=h,behavior:void 0}),n.pendingMeasuredCacheIndexes.push(o),n.itemSizeCache=new Map(n.itemSizeCache.set(s.key,c)),n.notify())}},this.measureElement=function(r){r&&n._measureElement(r,void 0)},this.getVirtualItems=uv(function(){return[n.getIndexes(),n.getMeasurements()]},function(r,i){for(var a=[],o=0,s=r.length;o<s;o++){var l=r[o],c=i[l];a.push(c)}return a},{key:!1,debug:function(){return n.options.debug}}),this.getVirtualItemForOffset=function(r){var i=n.getMeasurements();return yP(i[Pwe(0,i.length-1,function(a){return yP(i[a]).start},r)])},this.getOffsetForAlignment=function(r,i){var a=n.getSize();i==="auto"&&(r<=n.scrollOffset?i="start":r>=n.scrollOffset+a?i="end":i="start"),i==="start"?r=r:i==="end"?r=r-a:i==="center"&&(r=r-a/2);var o=n.options.horizontal?"scrollWidth":"scrollHeight",s=n.scrollElement?"document"in n.scrollElement?n.scrollElement.document.documentElement[o]:n.scrollElement[o]:0,l=s-n.getSize();return Math.max(Math.min(l,r),0)},this.getOffsetForIndex=function(r,i){i===void 0&&(i="auto"),r=Math.max(0,Math.min(r,n.options.count-1));var a=yP(n.getMeasurements()[r]);if(i==="auto")if(a.end>=n.scrollOffset+n.getSize()-n.options.scrollPaddingEnd)i="end";else if(a.start<=n.scrollOffset+n.options.scrollPaddingStart)i="start";else return[n.scrollOffset,i];var o=i==="end"?a.end+n.options.scrollPaddingEnd:a.start-n.options.scrollPaddingStart;return[n.getOffsetForAlignment(o,i),i]},this.isDynamicMode=function(){return n.measureElementCache.size>0},this.cancelScrollToIndex=function(){n.scrollToIndexTimeoutId!==null&&(clearTimeout(n.scrollToIndexTimeoutId),n.scrollToIndexTimeoutId=null)},this.scrollToOffset=function(r,i){var a=i===void 0?{}:i,o=a.align,s=o===void 0?"start":o,l=a.behavior;n.cancelScrollToIndex(),l==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n._scrollToOffset(n.getOffsetForAlignment(r,s),{adjustments:void 0,behavior:l})},this.scrollToIndex=function(r,i){var a=i===void 0?{}:i,o=a.align,s=o===void 0?"auto":o,l=a.behavior;r=Math.max(0,Math.min(r,n.options.count-1)),n.cancelScrollToIndex(),l==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");var c=n.getOffsetForIndex(r,s),d=c[0],h=c[1];n._scrollToOffset(d,{adjustments:void 0,behavior:l}),l!=="smooth"&&n.isDynamicMode()&&(n.scrollToIndexTimeoutId=setTimeout(function(){n.scrollToIndexTimeoutId=null;var p=n.measureElementCache.has(n.options.getItemKey(r));if(p){var m=n.getOffsetForIndex(r,h),g=m[0];vct(g,n.scrollOffset)||n.scrollToIndex(r,{align:h,behavior:l})}else n.scrollToIndex(r,{align:h,behavior:l})}))},this.scrollBy=function(r,i){var a=i===void 0?{}:i,o=a.behavior;n.cancelScrollToIndex(),o==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n._scrollToOffset(n.scrollOffset+r,{adjustments:void 0,behavior:o})},this.getTotalSize=function(){var r;return(((r=n.getMeasurements()[n.options.count-1])==null?void 0:r.end)||n.options.paddingStart)-n.options.scrollMargin+n.options.paddingEnd},this._scrollToOffset=function(r,i){var a=i.adjustments,o=i.behavior;n.options.scrollToFn(r,{behavior:o,adjustments:a},n)},this.measure=function(){n.itemSizeCache=new Map,n.notify()},this.setOptions(t),this.scrollRect=this.options.initialRect,this.scrollOffset=this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(function(r){n.itemSizeCache.set(r.key,r.size)}),this.maybeNotify()},Pwe=function(t,n,r,i){for(;t<=n;){var a=(t+n)/2|0,o=r(a);if(o<i)t=a+1;else if(o>i)n=a-1;else return a}return t>0?t-1:0};function Sct(e){for(var t=e.measurements,n=e.outerSize,r=e.scrollOffset,i=t.length-1,a=function(c){return t[c].start},o=Pwe(0,i,a,r),s=o;s<i&&t[s].end<r+n;)s++;return{startIndex:o,endIndex:s}}/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _ct=typeof document<"u"?f.useLayoutEffect:f.useEffect;function Ect(e){var t=f.useReducer(function(){return{}},{})[1],n=IA({},e,{onChange:function(o){t(),e.onChange==null||e.onChange(o)}}),r=f.useState(function(){return new Cct(n)}),i=r[0];return i.setOptions(n),f.useEffect(function(){return i._didMount()},[]),_ct(function(){return i._willUpdate()}),i}function tU(e){return Ect(IA({observeElementRect:bct,observeElementOffset:xct,scrollToFn:Rwe},e))}var kct=Kpe,Tct=su,Act="Expected a function";function jct(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(Act);return Tct(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),kct(e,t,{leading:r,maxWait:t,trailing:i})}var Ict=jct;const xb=Pe(Ict);function Dct(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var kL="data-focus-lock",Fwe="data-focus-lock-disabled",$ct="data-no-focus-lock",Oct="data-autofocus-inside",Mct="data-no-autofocus";function bP(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Rct(e,t){var n=f.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var Pct=typeof window<"u"?f.useLayoutEffect:f.useEffect,ree=new WeakMap;function Fct(e,t){var n=Rct(t||null,function(r){return e.forEach(function(i){return bP(i,r)})});return Pct(function(){var r=ree.get(n);if(r){var i=new Set(r),a=new Set(e),o=n.current;i.forEach(function(s){a.has(s)||bP(s,null)}),a.forEach(function(s){i.has(s)||bP(s,o)})}ree.set(n,e)},[e]),n}var xP={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},TL=function(e,t){return TL=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},TL(e,t)};function pl(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");TL(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var AL=function(){return AL=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},AL.apply(this,arguments)};function Nct(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?a(d.value):i(d.value).then(s,l)}c((r=r.apply(e,t||[])).next())})}function Nwe(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(d){return l([c,d])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){n.label=c[1];break}if(c[0]===6&&n.label<a[1]){n.label=a[1],a=c;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(c);break}a[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(d){c=[6,d],i=0}finally{r=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Bg(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Go(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function js(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function k1(e){return this instanceof k1?(this.v=e,this):new k1(e)}function Lct(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i={},s("next"),s("throw"),s("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(m){return function(g){return Promise.resolve(g).then(m,h)}}function s(m,g){r[m]&&(i[m]=function(v){return new Promise(function(b,y){a.push([m,v,b,y])>1||l(m,v)})},g&&(i[m]=g(i[m])))}function l(m,g){try{c(r[m](g))}catch(v){p(a[0][3],v)}}function c(m){m.value instanceof k1?Promise.resolve(m.value.v).then(d,h):p(a[0][2],m)}function d(m){l("next",m)}function h(m){l("throw",m)}function p(m,g){m(g),a.shift(),a.length&&l(a[0][0],a[0][1])}}function Bct(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Bg=="function"?Bg(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(o){return new Promise(function(s,l){o=e[a](o),i(s,l,o.done,o.value)})}}function i(a,o,s,l){Promise.resolve(l).then(function(c){a({value:c,done:s})},o)}}function Lwe(e){return e}function Bwe(e,t){t===void 0&&(t=Lwe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,r);return n.push(o),function(){n=n.filter(function(s){return s!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(s){return a(s)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var s=n;n=[],s.forEach(a),o=n}var l=function(){var d=o;o=[],d.forEach(a)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return i}function nU(e,t){return t===void 0&&(t=Lwe),Bwe(e,t)}function Vct(e){e===void 0&&(e={});var t=Bwe(null);return t.options=AL({async:!0,ssr:!1},e),t}var Vwe=nU({},function(e){var t=e.target,n=e.currentTarget;return{target:t,currentTarget:n}}),zwe=nU(),zct=nU(),Uct=Vct({async:!0,ssr:typeof document<"u"}),Hct=f.createContext(void 0),Wct=[],Uwe=f.forwardRef(function(t,n){var r,i=f.useState(),a=i[0],o=i[1],s=f.useRef(),l=f.useRef(!1),c=f.useRef(null),d=f.useState({}),h=d[1],p=t.children,m=t.disabled,g=m===void 0?!1:m,v=t.noFocusGuards,b=v===void 0?!1:v,y=t.persistentFocus,x=y===void 0?!1:y,w=t.crossFrame,C=w===void 0?!0:w,S=t.autoFocus,_=S===void 0?!0:S;t.allowTextSelection;var E=t.group,k=t.className,T=t.whiteList,j=t.hasPositiveIndices,I=t.shards,A=I===void 0?Wct:I,$=t.as,D=$===void 0?"div":$,M=t.lockProps,O=M===void 0?{}:M,F=t.sideCar,P=t.returnFocus,V=P===void 0?!1:P,H=t.focusOptions,W=t.onActivation,G=t.onDeactivation,X=f.useState({}),z=X[0],q=f.useCallback(function(ge){var _e=ge.captureFocusRestore;if(!c.current){var Me,me=(Me=document)==null?void 0:Me.activeElement;c.current=me,me!==document.body&&(c.current=_e(me))}s.current&&W&&W(s.current),l.current=!0,h()},[W]),Z=f.useCallback(function(){l.current=!1,G&&G(s.current),h()},[G]),K=f.useCallback(function(ge){var _e=c.current;if(_e){var Me=(typeof _e=="function"?_e():_e)||document.body,me=typeof V=="function"?V(Me):V;if(me){var ye=typeof me=="object"?me:void 0;c.current=null,ge?Promise.resolve().then(function(){return Me.focus(ye)}):Me.focus(ye)}}},[V]),J=f.useCallback(function(ge){l.current&&Vwe.useMedium(ge)},[]),Q=zwe.useMedium,re=f.useCallback(function(ge){s.current!==ge&&(s.current=ge,o(ge))},[]),ae=_f((r={},r[Fwe]=g&&"disabled",r[kL]=E,r),O),ne=b!==!0,se=ne&&b!=="tail",le=Fct([n,re]),oe=f.useMemo(function(){return{observed:s,shards:A,enabled:!g,active:l.current}},[g,l.current,A,a]);return f.createElement(f.Fragment,null,ne&&[f.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:g?-1:0,style:xP}),j?f.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:g?-1:1,style:xP}):null],!g&&f.createElement(F,{id:z,sideCar:Uct,observed:a,disabled:g,persistentFocus:x,crossFrame:C,autoFocus:_,whiteList:T,shards:A,onActivation:q,onDeactivation:Z,returnFocus:K,focusOptions:H}),f.createElement(D,_f({ref:le},ae,{className:k,onBlur:Q,onFocus:J}),f.createElement(Hct.Provider,{value:oe},p)),se&&f.createElement("div",{"data-focus-guard":!0,tabIndex:g?-1:0,style:xP}))});Uwe.propTypes={};const Hwe=Uwe;function $A(e,t){return $A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},$A(e,t)}function Gct(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,$A(e,t)}function qu(e){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qu(e)}function Yct(e,t){if(qu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wwe(e){var t=Yct(e,"string");return qu(t)=="symbol"?t:t+""}function Xe(e,t,n){return(t=Wwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qct(e,t){function n(r){return r.displayName||r.name||"Component"}return function(i){var a=[],o;function s(){o=e(a.map(function(c){return c.props})),t(o)}var l=function(c){Gct(d,c);function d(){return c.apply(this,arguments)||this}d.peek=function(){return o};var h=d.prototype;return h.componentDidMount=function(){a.push(this),s()},h.componentDidUpdate=function(){s()},h.componentWillUnmount=function(){var m=a.indexOf(this);a.splice(m,1),s()},h.render=function(){return Ye.createElement(i,this.props)},d}(f.PureComponent);return Xe(l,"displayName","SideEffect("+n(i)+")"),l}}var ad=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t},Vg=function(e){return Array.isArray(e)?e:[e]},Gwe=function(e){return Array.isArray(e)?e[0]:e},Kct=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!t||!t.getPropertyValue?!1:t.getPropertyValue("display")==="none"||t.getPropertyValue("visibility")==="hidden"},Ywe=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},qwe=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},Zct=function(e){return e.hasAttribute("inert")},Xct=function(e,t){return!e||qwe(e)||!Kct(e)&&!Zct(e)&&t(Ywe(e))},Kwe=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=Xct(t,Kwe.bind(void 0,e));return e.set(t,r),r},Jct=function(e,t){return e&&!qwe(e)?tdt(e)?t(Ywe(e)):!1:!0},Zwe=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=Jct(t,Zwe.bind(void 0,e));return e.set(t,r),r},Xwe=function(e){return e.dataset},Qct=function(e){return e.tagName==="BUTTON"},Jwe=function(e){return e.tagName==="INPUT"},Qwe=function(e){return Jwe(e)&&e.type==="radio"},edt=function(e){return!((Jwe(e)||Qct(e))&&(e.type==="hidden"||e.disabled))},tdt=function(e){var t=e.getAttribute(Mct);return![!0,"true",""].includes(t)},rU=function(e){var t;return!!(e&&(!((t=Xwe(e))===null||t===void 0)&&t.focusGuard))},jL=function(e){return!rU(e)},ndt=function(e){return!!e},rdt=function(e,t){var n=Math.max(0,e.tabIndex),r=Math.max(0,t.tabIndex),i=n-r,a=e.index-t.index;if(i){if(!n)return 1;if(!r)return-1}return i||a},idt=function(e){return e.tabIndex<0&&!e.hasAttribute("tabindex")?0:e.tabIndex},iU=function(e,t,n){return ad(e).map(function(r,i){var a=idt(r);return{node:r,index:i,tabIndex:n&&a===-1?(r.dataset||{}).focusGuard?0:-1:a}}).filter(function(r){return!t||r.tabIndex>=0}).sort(rdt)},adt=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],aU=adt.join(","),odt="".concat(aU,", [data-focus-guard]"),eCe=function(e,t){return ad((e.shadowRoot||e).children).reduce(function(n,r){return n.concat(r.matches(t?odt:aU)?[r]:[],eCe(r))},[])},sdt=function(e,t){var n;return e instanceof HTMLIFrameElement&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?dy([e.contentDocument.body],t):[e]},dy=function(e,t){return e.reduce(function(n,r){var i,a=eCe(r,t),o=(i=[]).concat.apply(i,a.map(function(s){return sdt(s,t)}));return n.concat(o,r.parentNode?ad(r.parentNode.querySelectorAll(aU)).filter(function(s){return s===r}):[])},[])},ldt=function(e){var t=e.querySelectorAll("[".concat(Oct,"]"));return ad(t).map(function(n){return dy([n])}).reduce(function(n,r){return n.concat(r)},[])},oU=function(e,t){return ad(e).filter(function(n){return Kwe(t,n)}).filter(function(n){return edt(n)})},iee=function(e,t){return t===void 0&&(t=new Map),ad(e).filter(function(n){return Zwe(t,n)})},sU=function(e,t,n){return iU(oU(dy(e,n),t),!0,n)},OA=function(e,t){return iU(oU(dy(e),t),!1)},udt=function(e,t){return oU(ldt(e),t)},pg=function(e,t){return e.shadowRoot?pg(e.shadowRoot,t):Object.getPrototypeOf(e).contains!==void 0&&Object.getPrototypeOf(e).contains.call(e,t)?!0:ad(e.children).some(function(n){var r;if(n instanceof HTMLIFrameElement){var i=(r=n.contentDocument)===null||r===void 0?void 0:r.body;return i?pg(i,t):!1}return pg(n,t)})},cdt=function(e){for(var t=new Set,n=e.length,r=0;r<n;r+=1)for(var i=r+1;i<n;i+=1){var a=e[r].compareDocumentPosition(e[i]);(a&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(i),(a&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(r)}return e.filter(function(o,s){return!t.has(s)})},tCe=function(e){return e.parentNode?tCe(e.parentNode):e},lU=function(e){var t=Vg(e);return t.filter(Boolean).reduce(function(n,r){var i=r.getAttribute(kL);return n.push.apply(n,i?cdt(ad(tCe(r).querySelectorAll("[".concat(kL,'="').concat(i,'"]:not([').concat(Fwe,'="disabled"])')))):[r]),n},[])},ddt=function(e){try{return e()}catch{return}},cS=function(e){if(e===void 0&&(e=document),!(!e||!e.activeElement)){var t=e.activeElement;return t.shadowRoot?cS(t.shadowRoot):t instanceof HTMLIFrameElement&&ddt(function(){return t.contentWindow.document})?cS(t.contentWindow.document):t}},fdt=function(e,t){return e===t},hdt=function(e,t){return!!ad(e.querySelectorAll("iframe")).some(function(n){return fdt(n,t)})},nCe=function(e,t){return t===void 0&&(t=cS(Gwe(e).ownerDocument)),!t||t.dataset&&t.dataset.focusGuard?!1:lU(e).some(function(n){return pg(n,t)||hdt(n,t)})},pdt=function(e){e===void 0&&(e=document);var t=cS(e);return t?ad(e.querySelectorAll("[".concat($ct,"]"))).some(function(n){return pg(n,t)}):!1},mdt=function(e,t){return t.filter(Qwe).filter(function(n){return n.name===e.name}).filter(function(n){return n.checked})[0]||e},uU=function(e,t){return Qwe(e)&&e.name?mdt(e,t):e},gdt=function(e){var t=new Set;return e.forEach(function(n){return t.add(uU(n,e))}),e.filter(function(n){return t.has(n)})},aee=function(e){return e[0]&&e.length>1?uU(e[0],e):e[0]},oee=function(e,t){return e.indexOf(uU(t,e))},IL="NEW_FOCUS",vdt=function(e,t,n,r,i){var a=e.length,o=e[0],s=e[a-1],l=rU(r);if(!(r&&e.indexOf(r)>=0)){var c=r!==void 0?n.indexOf(r):-1,d=i?n.indexOf(i):c,h=i?e.indexOf(i):-1;if(c===-1)return h!==-1?h:IL;if(h===-1)return IL;var p=c-d,m=n.indexOf(o),g=n.indexOf(s),v=gdt(n),b=r!==void 0?v.indexOf(r):-1,y=b-(i?v.indexOf(i):c);if(!p&&h>=0||t.length===0)return h;var x=oee(e,t[0]),w=oee(e,t[t.length-1]);if(c<=m&&l&&Math.abs(p)>1)return w;if(c>=g&&l&&Math.abs(p)>1)return x;if(p&&Math.abs(y)>1)return h;if(c<=m)return w;if(c>g)return x;if(p)return Math.abs(p)>1?h:(a+h+p)%a}},ydt=function(e){return function(t){var n,r=(n=Xwe(t))===null||n===void 0?void 0:n.autofocus;return t.autofocus||r!==void 0&&r!=="false"||e.indexOf(t)>=0}},see=function(e,t,n){var r=e.map(function(a){var o=a.node;return o}),i=iee(r.filter(ydt(n)));return i&&i.length?aee(i):aee(iee(t))},DL=function(e,t){return t===void 0&&(t=[]),t.push(e),e.parentNode&&DL(e.parentNode.host||e.parentNode,t),t},wP=function(e,t){for(var n=DL(e),r=DL(t),i=0;i<n.length;i+=1){var a=n[i];if(r.indexOf(a)>=0)return a}return!1},rCe=function(e,t,n){var r=Vg(e),i=Vg(t),a=r[0],o=!1;return i.filter(Boolean).forEach(function(s){o=wP(o||s,s)||o,n.filter(Boolean).forEach(function(l){var c=wP(a,l);c&&(!o||pg(c,o)?o=c:o=wP(c,o))})}),o},lee=function(e,t){return e.reduce(function(n,r){return n.concat(udt(r,t))},[])},bdt=function(e,t){var n=new Map;return t.forEach(function(r){return n.set(r.node,r)}),e.map(function(r){return n.get(r)}).filter(ndt)},xdt=function(e,t){var n=cS(Vg(e).length>0?document:Gwe(e).ownerDocument),r=lU(e).filter(jL),i=rCe(n||e,e,r),a=new Map,o=OA(r,a),s=o.filter(function(g){var v=g.node;return jL(v)});if(s[0]){var l=OA([i],a).map(function(g){var v=g.node;return v}),c=bdt(l,s),d=c.map(function(g){var v=g.node;return v}),h=c.filter(function(g){var v=g.tabIndex;return v>=0}).map(function(g){var v=g.node;return v}),p=vdt(d,h,l,n,t);if(p===IL){var m=see(o,h,lee(r,a))||see(o,d,lee(r,a));if(m)return{node:m};console.warn("focus-lock: cannot find any node to move focus into");return}return p===void 0?p:c[p]}},wdt=function(e){var t=lU(e).filter(jL),n=rCe(e,e,t),r=iU(dy([n],!0),!0,!0),i=dy(t,!1);return r.map(function(a){var o=a.node,s=a.index;return{node:o,index:s,lockItem:i.indexOf(o)>=0,guard:rU(o)}})},cU=function(e,t){e&&("focus"in e&&e.focus(t),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus())},CP=0,SP=!1,iCe=function(e,t,n){n===void 0&&(n={});var r=xdt(e,t);if(!SP&&r){if(CP>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),SP=!0,setTimeout(function(){SP=!1},1);return}CP++,cU(r.node,n.focusOptions),CP--}};function kx(e){if(!e)return null;if(typeof WeakRef>"u")return function(){return e||null};var t=e?new WeakRef(e):null;return function(){return(t==null?void 0:t.deref())||null}}var Cdt=function(e){if(!e)return null;for(var t=[],n=e;n&&n!==document.body;)t.push({current:kx(n),parent:kx(n.parentElement),left:kx(n.previousElementSibling),right:kx(n.nextElementSibling)}),n=n.parentElement;return{element:kx(e),stack:t,ownerDocument:e.ownerDocument}},Sdt=function(e){var t,n,r,i,a;if(e)for(var o=e.stack,s=e.ownerDocument,l=new Map,c=0,d=o;c<d.length;c++){var h=d[c],p=(t=h.parent)===null||t===void 0?void 0:t.call(h);if(p&&s.contains(p)){for(var m=(n=h.left)===null||n===void 0?void 0:n.call(h),g=h.current(),v=p.contains(g)?g:void 0,b=(r=h.right)===null||r===void 0?void 0:r.call(h),y=sU([p],l),x=(a=(i=v??(m==null?void 0:m.nextElementSibling))!==null&&i!==void 0?i:b)!==null&&a!==void 0?a:m;x;){for(var w=0,C=y;w<C.length;w++){var S=C[w];if(x!=null&&x.contains(S.node))return S.node}x=x.nextElementSibling}if(y.length)return y[0].node}}},_dt=function(e){var t=Cdt(e);return function(){return Sdt(t)}},Edt=function(e,t,n){if(!e||!t)return console.error("no element or scope given"),{};var r=Vg(t);if(r.every(function(o){return!pg(o,e)}))return console.error("Active element is not contained in the scope"),{};var i=n?sU(r,new Map):OA(r,new Map),a=i.findIndex(function(o){var s=o.node;return s===e});if(a!==-1)return{prev:i[a-1],next:i[a+1],first:i[0],last:i[i.length-1]}},kdt=function(e,t){var n=t?sU(Vg(e),new Map):OA(Vg(e),new Map);return{first:n[0],last:n[n.length-1]}},Tdt=function(e){return Object.assign({scope:document.body,cycle:!0,onlyTabbable:!0},e)},aCe=function(e,t,n){t===void 0&&(t={});var r=Tdt(t),i=Edt(e,r.scope,r.onlyTabbable);if(i){var a=n(i,r.cycle);a&&cU(a.node,r.focusOptions)}},Adt=function(e,t){t===void 0&&(t={}),aCe(e,t,function(n,r){var i=n.next,a=n.first;return i||r&&a})},jdt=function(e,t){t===void 0&&(t={}),aCe(e,t,function(n,r){var i=n.prev,a=n.last;return i||r&&a})},oCe=function(e,t,n){var r,i=kdt(e,(r=t.onlyTabbable)!==null&&r!==void 0?r:!0),a=i[n];a&&cU(a.node,t.focusOptions)},Idt=function(e,t){t===void 0&&(t={}),oCe(e,t,"first")},Ddt=function(e,t){t===void 0&&(t={}),oCe(e,t,"last")};function dU(e){setTimeout(e,1)}var $dt=function(t){return t&&"current"in t?t.current:t},Odt=function(){return document&&document.activeElement===document.body},Mdt=function(){return Odt()||pdt()},T1=null,a1=null,A1=null,dS=!1,Rdt=function(){return!0},Pdt=function(t){return(T1.whiteList||Rdt)(t)},Fdt=function(t,n){A1={observerNode:t,portaledElement:n}},Ndt=function(t){return A1&&A1.portaledElement===t};function uee(e,t,n,r){var i=null,a=e;do{var o=r[a];if(o.guard)o.node.dataset.focusAutoGuard&&(i=o);else if(o.lockItem){if(a!==e)return;i=null}else break}while((a+=n)!==t);i&&(i.node.tabIndex=0)}var Ldt=function(t){return t?!!dS:dS==="meanwhile"},Bdt=function e(t,n,r){return n&&(n.host===t&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&e(t,n.parentNode,r))},Vdt=function(t,n){return n.some(function(r){return Bdt(t,r,r)})},MA=function(){var t=!1;if(T1){var n=T1,r=n.observed,i=n.persistentFocus,a=n.autoFocus,o=n.shards,s=n.crossFrame,l=n.focusOptions,c=r||A1&&A1.portaledElement,d=document&&document.activeElement;if(c){var h=[c].concat(o.map($dt).filter(Boolean));if((!d||Pdt(d))&&(i||Ldt(s)||!Mdt()||!a1&&a)&&(c&&!(nCe(h)||d&&Vdt(d,h)||Ndt(d))&&(document&&!a1&&d&&!a?(d.blur&&d.blur(),document.body.focus()):(t=iCe(h,a1,{focusOptions:l}),A1={})),dS=!1,a1=document&&document.activeElement),document&&d!==document.activeElement&&document.querySelector("[data-focus-auto-guard]")){var p=document&&document.activeElement,m=wdt(h),g=m.map(function(v){var b=v.node;return b}).indexOf(p);g>-1&&(m.filter(function(v){var b=v.guard,y=v.node;return b&&y.dataset.focusAutoGuard}).forEach(function(v){var b=v.node;return b.removeAttribute("tabIndex")}),uee(g,m.length,1,m),uee(g,-1,-1,m))}}}return t},sCe=function(t){MA()&&t&&(t.stopPropagation(),t.preventDefault())},fU=function(){return dU(MA)},zdt=function(t){var n=t.target,r=t.currentTarget;r.contains(n)||Fdt(r,n)},Udt=function(){return null},lCe=function(){dS="just",dU(function(){dS="meanwhile"})},Hdt=function(){document.addEventListener("focusin",sCe),document.addEventListener("focusout",fU),window.addEventListener("blur",lCe)},Wdt=function(){document.removeEventListener("focusin",sCe),document.removeEventListener("focusout",fU),window.removeEventListener("blur",lCe)};function Gdt(e){return e.filter(function(t){var n=t.disabled;return!n})}var uCe={moveFocusInside:iCe,focusInside:nCe,focusNextElement:Adt,focusPrevElement:jdt,focusFirstElement:Idt,focusLastElement:Ddt,captureFocusRestore:_dt};function Ydt(e){var t=e.slice(-1)[0];t&&!T1&&Hdt();var n=T1,r=n&&t&&t.id===n.id;T1=t,n&&!r&&(n.onDeactivation(),e.filter(function(i){var a=i.id;return a===n.id}).length||n.returnFocus(!t)),t?(a1=null,(!r||n.observed!==t.observed)&&t.onActivation(uCe),MA(),dU(MA)):(Wdt(),a1=null)}Vwe.assignSyncMedium(zdt);zwe.assignMedium(fU);zct.assignMedium(function(e){return e(uCe)});const qdt=qct(Gdt,Ydt)(Udt);var cCe=f.forwardRef(function(t,n){return f.createElement(Hwe,_f({sideCar:qdt,ref:n},t))}),dCe=Hwe.propTypes||{};dCe.sideCar;Dct(dCe,["sideCar"]);cCe.propTypes={};const ec=cCe;function fCe(e){const t=Zc(e),[n,r]=f.useState(t),{defaultDpr:i,maxDpr:a,round:o}=e||{};return f.useEffect(()=>{if(!(typeof window<"u"&&"matchMedia"in window))return;const l=()=>r(Zc({defaultDpr:i,maxDpr:a,round:o})),c=window.matchMedia(`screen and (resolution: ${n}dppx)`);return c.addEventListener?c.addEventListener("change",l):c.addListener(l),()=>{c.removeEventListener?c.removeEventListener("change",l):c.removeListener(l)}},[n,i,a,o]),n}function Zc(e){const{defaultDpr:t=1,maxDpr:n=3,round:r=!0}=e||{},a=typeof window<"u"&&typeof window.devicePixelRatio=="number"?window.devicePixelRatio:t;return Math.min(Math.max(1,r?Math.floor(a):a),n)}function dn(e){return typeof e=="function"}function x$(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var _P=x$(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function RA(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var zg=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,i,a;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var s=Bg(o),l=s.next();!l.done;l=s.next()){var c=l.value;c.remove(this)}}catch(v){t={error:v}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}else o.remove(this);var d=this.initialTeardown;if(dn(d))try{d()}catch(v){a=v instanceof _P?v.errors:[v]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var p=Bg(h),m=p.next();!m.done;m=p.next()){var g=m.value;try{cee(g)}catch(v){a=a??[],v instanceof _P?a=js(js([],Go(a)),Go(v.errors)):a.push(v)}}}catch(v){r={error:v}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}}if(a)throw new _P(a)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)cee(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&RA(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&RA(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),hCe=zg.EMPTY;function pCe(e){return e instanceof zg||e&&"closed"in e&&dn(e.remove)&&dn(e.add)&&dn(e.unsubscribe)}function cee(e){dn(e)?e():e.unsubscribe()}var mCe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},$L={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=$L.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,js([e,t],Go(n))):setTimeout.apply(void 0,js([e,t],Go(n)))},clearTimeout:function(e){var t=$L.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function gCe(e){$L.setTimeout(function(){throw e})}function Ep(){}function O5(e){e()}var hU=function(e){pl(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,pCe(n)&&n.add(r)):r.destination=Jdt,r}return t.create=function(n,r,i){return new fy(n,r,i)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(zg),Kdt=Function.prototype.bind;function EP(e,t){return Kdt.call(e,t)}var Zdt=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){OE(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){OE(r)}else OE(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){OE(n)}},e}(),fy=function(e){pl(t,e);function t(n,r,i){var a=e.call(this)||this,o;if(dn(n)||!n)o={next:n??void 0,error:r??void 0,complete:i??void 0};else{var s;a&&mCe.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=function(){return a.unsubscribe()},o={next:n.next&&EP(n.next,s),error:n.error&&EP(n.error,s),complete:n.complete&&EP(n.complete,s)}):o=n}return a.destination=new Zdt(o),a}return t}(hU);function OE(e){gCe(e)}function Xdt(e){throw e}var Jdt={closed:!0,next:Ep,error:Xdt,complete:Ep},pU=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function od(e){return e}function Qdt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return vCe(e)}function vCe(e){return e.length===0?od:e.length===1?e[0]:function(n){return e.reduce(function(r,i){return i(r)},n)}}var Mt=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var i=this,a=tft(t)?t:new fy(t,n,r);return O5(function(){var o=i,s=o.operator,l=o.source;a.add(s?s.call(a,l):l?i._subscribe(a):i._trySubscribe(a))}),a},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=dee(n),new n(function(i,a){var o=new fy({next:function(s){try{t(s)}catch(l){a(l),o.unsubscribe()}},error:a,complete:i});r.subscribe(o)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[pU]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return vCe(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=dee(t),new t(function(r,i){var a;n.subscribe(function(o){return a=o},function(o){return i(o)},function(){return r(a)})})},e.create=function(t){return new e(t)},e}();function dee(e){var t;return(t=e??mCe.Promise)!==null&&t!==void 0?t:Promise}function eft(e){return e&&dn(e.next)&&dn(e.error)&&dn(e.complete)}function tft(e){return e&&e instanceof hU||eft(e)&&pCe(e)}function yCe(e){return dn(e==null?void 0:e.lift)}function jn(e){return function(t){if(yCe(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function nn(e,t,n,r,i){return new bCe(e,t,n,r,i)}var bCe=function(e){pl(t,e);function t(n,r,i,a,o,s){var l=e.call(this,n)||this;return l.onFinalize=o,l.shouldUnsubscribe=s,l._next=r?function(c){try{r(c)}catch(d){n.error(d)}}:e.prototype._next,l._error=a?function(c){try{a(c)}catch(d){n.error(d)}finally{this.unsubscribe()}}:e.prototype._error,l._complete=i?function(){try{i()}catch(c){n.error(c)}finally{this.unsubscribe()}}:e.prototype._complete,l}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(hU);function $u(){return jn(function(e,t){var n=null;e._refCount++;var r=nn(t,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount){n=null;return}var i=e._connection,a=n;n=null,i&&(!a||i===a)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var nft=function(e){pl(t,e);function t(n,r){var i=e.call(this)||this;return i.source=n,i.subjectFactory=r,i._subject=null,i._refCount=0,i._connection=null,yCe(n)&&(i.lift=n.lift),i}return t.prototype._subscribe=function(n){return this.getSubject().subscribe(n)},t.prototype.getSubject=function(){var n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var n=this._connection;this._subject=this._connection=null,n==null||n.unsubscribe()},t.prototype.connect=function(){var n=this,r=this._connection;if(!r){r=this._connection=new zg;var i=this.getSubject();r.add(this.source.subscribe(nn(i,void 0,function(){n._teardown(),i.complete()},function(a){n._teardown(),i.error(a)},function(){return n._teardown()}))),r.closed&&(this._connection=null,r=zg.EMPTY)}return r},t.prototype.refCount=function(){return $u()(this)},t}(Mt),rft=x$(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Mr=function(e){pl(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new fee(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new rft},t.prototype.next=function(n){var r=this;O5(function(){var i,a;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var o=Bg(r.currentObservers),s=o.next();!s.done;s=o.next()){var l=s.value;l.next(n)}}catch(c){i={error:c}}finally{try{s&&!s.done&&(a=o.return)&&a.call(o)}finally{if(i)throw i.error}}}})},t.prototype.error=function(n){var r=this;O5(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},t.prototype.complete=function(){var n=this;O5(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,i=this,a=i.hasError,o=i.isStopped,s=i.observers;return a||o?hCe:(this.currentObservers=null,s.push(n),new zg(function(){r.currentObservers=null,RA(s,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,a=r.thrownError,o=r.isStopped;i?n.error(a):o&&n.complete()},t.prototype.asObservable=function(){var n=new Mt;return n.source=this,n},t.create=function(n,r){return new fee(n,r)},t}(Mt),fee=function(e){pl(t,e);function t(n,r){var i=e.call(this)||this;return i.destination=n,i.source=r,i}return t.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},t.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:hCe},t}(Mr),w$=function(e){pl(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,i=n.thrownError,a=n._value;if(r)throw i;return this._throwIfClosed(),a},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(Mr),mU={now:function(){return(mU.delegate||Date).now()},delegate:void 0},gU=function(e){pl(t,e);function t(n,r,i){n===void 0&&(n=1/0),r===void 0&&(r=1/0),i===void 0&&(i=mU);var a=e.call(this)||this;return a._bufferSize=n,a._windowTime=r,a._timestampProvider=i,a._buffer=[],a._infiniteTimeWindow=!0,a._infiniteTimeWindow=r===1/0,a._bufferSize=Math.max(1,n),a._windowTime=Math.max(1,r),a}return t.prototype.next=function(n){var r=this,i=r.isStopped,a=r._buffer,o=r._infiniteTimeWindow,s=r._timestampProvider,l=r._windowTime;i||(a.push(n),!o&&a.push(s.now()+l)),this._trimBuffer(),e.prototype.next.call(this,n)},t.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),i=this,a=i._infiniteTimeWindow,o=i._buffer,s=o.slice(),l=0;l<s.length&&!n.closed;l+=a?1:2)n.next(s[l]);return this._checkFinalizedStatuses(n),r},t.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,i=n._timestampProvider,a=n._buffer,o=n._infiniteTimeWindow,s=(o?1:2)*r;if(r<1/0&&s<a.length&&a.splice(0,a.length-s),!o){for(var l=i.now(),c=0,d=1;d<a.length&&a[d]<=l;d+=2)c=d;c&&a.splice(0,c+1)}},t}(Mr),ift=function(e){pl(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(zg),PA={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=PA.delegate;return i!=null&&i.setInterval?i.setInterval.apply(i,js([e,t],Go(n))):setInterval.apply(void 0,js([e,t],Go(n)))},clearInterval:function(e){var t=PA.delegate;return((t==null?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},xCe=function(e){pl(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return t.prototype.schedule=function(n,r){var i;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var a=this.id,o=this.scheduler;return a!=null&&(this.id=this.recycleAsyncId(o,a,r)),this.pending=!0,this.delay=r,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,r),this},t.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),PA.setInterval(n.flush.bind(n,this),i)},t.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;r!=null&&PA.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var i=!1,a;try{this.work(n)}catch(o){i=!0,a=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),a},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,i=n.scheduler,a=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,RA(a,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(ift),aft=1,kP,OL={};function hee(e){return e in OL?(delete OL[e],!0):!1}var wCe={setImmediate:function(e){var t=aft++;return OL[t]=!0,kP||(kP=Promise.resolve()),kP.then(function(){return hee(t)&&e()}),t},clearImmediate:function(e){hee(e)}},oft=wCe.setImmediate,sft=wCe.clearImmediate,FA={setImmediate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=FA.delegate;return((n==null?void 0:n.setImmediate)||oft).apply(void 0,js([],Go(e)))},clearImmediate:function(e){var t=FA.delegate;return((t==null?void 0:t.clearImmediate)||sft)(e)},delegate:void 0},lft=function(e){pl(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.scheduler=n,i.work=r,i}return t.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),i!==null&&i>0?e.prototype.requestAsyncId.call(this,n,r,i):(n.actions.push(this),n._scheduled||(n._scheduled=FA.setImmediate(n.flush.bind(n,void 0))))},t.prototype.recycleAsyncId=function(n,r,i){var a;if(i===void 0&&(i=0),i!=null?i>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,n,r,i);var o=n.actions;r!=null&&((a=o[o.length-1])===null||a===void 0?void 0:a.id)!==r&&(FA.clearImmediate(r),n._scheduled===r&&(n._scheduled=void 0))},t}(xCe),pee=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=mU.now,e}(),CCe=function(e){pl(t,e);function t(n,r){r===void 0&&(r=pee.now);var i=e.call(this,n,r)||this;return i.actions=[],i._active=!1,i}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},t}(pee),uft=function(e){pl(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(n){this._active=!0;var r=this._scheduled;this._scheduled=void 0;var i=this.actions,a;n=n||i.shift();do if(a=n.execute(n.state,n.delay))break;while((n=i[0])&&n.id===r&&i.shift());if(this._active=!1,a){for(;(n=i[0])&&n.id===r&&i.shift();)n.unsubscribe();throw a}},t}(CCe),cft=new uft(lft),au=new CCe(xCe),dft=au,nr=new Mt(function(e){return e.complete()});function SCe(e){return e&&dn(e.schedule)}function vU(e){return e[e.length-1]}function C$(e){return dn(vU(e))?e.pop():void 0}function O2(e){return SCe(vU(e))?e.pop():void 0}function fft(e,t){return typeof vU(e)=="number"?e.pop():t}var yU=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function _Ce(e){return dn(e==null?void 0:e.then)}function ECe(e){return dn(e[pU])}function kCe(e){return Symbol.asyncIterator&&dn(e==null?void 0:e[Symbol.asyncIterator])}function TCe(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function hft(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ACe=hft();function jCe(e){return dn(e==null?void 0:e[ACe])}function ICe(e){return Lct(this,arguments,function(){var n,r,i,a;return Nwe(this,function(o){switch(o.label){case 0:n=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,k1(n.read())];case 3:return r=o.sent(),i=r.value,a=r.done,a?[4,k1(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,k1(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function DCe(e){return dn(e==null?void 0:e.getReader)}function Wn(e){if(e instanceof Mt)return e;if(e!=null){if(ECe(e))return pft(e);if(yU(e))return mft(e);if(_Ce(e))return gft(e);if(kCe(e))return $Ce(e);if(jCe(e))return vft(e);if(DCe(e))return yft(e)}throw TCe(e)}function pft(e){return new Mt(function(t){var n=e[pU]();if(dn(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function mft(e){return new Mt(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function gft(e){return new Mt(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,gCe)})}function vft(e){return new Mt(function(t){var n,r;try{for(var i=Bg(e),a=i.next();!a.done;a=i.next()){var o=a.value;if(t.next(o),t.closed)return}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.complete()})}function $Ce(e){return new Mt(function(t){bft(e,t).catch(function(n){return t.error(n)})})}function yft(e){return $Ce(ICe(e))}function bft(e,t){var n,r,i,a;return Nct(this,void 0,void 0,function(){var o,s;return Nwe(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=Bct(e),l.label=1;case 1:return[4,n.next()];case 2:if(r=l.sent(),!!r.done)return[3,4];if(o=r.value,t.next(o),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=l.sent(),i={error:s},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(a=n.return)?[4,a.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function zc(e,t,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var a=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(a),!i)return a}function OCe(e,t){return t===void 0&&(t=0),jn(function(n,r){n.subscribe(nn(r,function(i){return zc(r,e,function(){return r.next(i)},t)},function(){return zc(r,e,function(){return r.complete()},t)},function(i){return zc(r,e,function(){return r.error(i)},t)}))})}function MCe(e,t){return t===void 0&&(t=0),jn(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function xft(e,t){return Wn(e).pipe(MCe(t),OCe(t))}function wft(e,t){return Wn(e).pipe(MCe(t),OCe(t))}function Cft(e,t){return new Mt(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function Sft(e,t){return new Mt(function(n){var r;return zc(n,t,function(){r=e[ACe](),zc(n,t,function(){var i,a,o;try{i=r.next(),a=i.value,o=i.done}catch(s){n.error(s);return}o?n.complete():n.next(a)},0,!0)}),function(){return dn(r==null?void 0:r.return)&&r.return()}})}function RCe(e,t){if(!e)throw new Error("Iterable cannot be null");return new Mt(function(n){zc(n,t,function(){var r=e[Symbol.asyncIterator]();zc(n,t,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function _ft(e,t){return RCe(ICe(e),t)}function PCe(e,t){if(e!=null){if(ECe(e))return xft(e,t);if(yU(e))return Cft(e,t);if(_Ce(e))return wft(e,t);if(kCe(e))return RCe(e,t);if(jCe(e))return Sft(e,t);if(DCe(e))return _ft(e,t)}throw TCe(e)}function ar(e,t){return t?PCe(e,t):Wn(e)}function xe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=O2(e);return ar(e,n)}function kp(e,t){var n=dn(e)?e:function(){return e},r=function(i){return i.error(n())};return new Mt(t?function(i){return t.schedule(r,0,i)}:r)}function Eft(e){return!!e&&(e instanceof Mt||dn(e.lift)&&dn(e.subscribe))}var M2=x$(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function Ri(e,t){var n=typeof t=="object";return new Promise(function(r,i){var a=!1,o;e.subscribe({next:function(s){o=s,a=!0},error:i,complete:function(){a?r(o):n?r(t.defaultValue):i(new M2)}})})}function kft(e,t){var n=typeof t=="object";return new Promise(function(r,i){var a=new fy({next:function(o){r(o),a.unsubscribe()},error:i,complete:function(){n?r(t.defaultValue):i(new M2)}});e.subscribe(a)})}function FCe(e){return e instanceof Date&&!isNaN(e)}var Tft=x$(function(e){return function(n){n===void 0&&(n=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=n}});function Aft(e,t){var n=FCe(e)?{first:e}:typeof e=="number"?{each:e}:e,r=n.first,i=n.each,a=n.with,o=a===void 0?jft:a,s=n.scheduler,l=s===void 0?t??au:s,c=n.meta,d=c===void 0?null:c;if(r==null&&i==null)throw new TypeError("No timeout provided.");return jn(function(h,p){var m,g,v=null,b=0,y=function(x){g=zc(p,l,function(){try{m.unsubscribe(),Wn(o({meta:d,lastValue:v,seen:b})).subscribe(p)}catch(w){p.error(w)}},x)};m=h.subscribe(nn(p,function(x){g==null||g.unsubscribe(),b++,p.next(v=x),i>0&&y(i)},void 0,void 0,function(){g!=null&&g.closed||g==null||g.unsubscribe(),v=null})),!b&&y(r!=null?typeof r=="number"?r:+r-l.now():i)})}function jft(e){throw new Tft(e)}function de(e,t){return jn(function(n,r){var i=0;n.subscribe(nn(r,function(a){r.next(e.call(t,a,i++))}))})}var Ift=Array.isArray;function Dft(e,t){return Ift(t)?e.apply(void 0,js([],Go(t))):e(t)}function S$(e){return de(function(t){return Dft(e,t)})}var $ft=Array.isArray,Oft=Object.getPrototypeOf,Mft=Object.prototype,Rft=Object.keys;function NCe(e){if(e.length===1){var t=e[0];if($ft(t))return{args:t,keys:null};if(Pft(t)){var n=Rft(t);return{args:n.map(function(r){return t[r]}),keys:n}}}return{args:e,keys:null}}function Pft(e){return e&&typeof e=="object"&&Oft(e)===Mft}function LCe(e,t){return e.reduce(function(n,r,i){return n[r]=t[i],n},{})}function aa(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=O2(e),r=C$(e),i=NCe(e),a=i.args,o=i.keys;if(a.length===0)return ar([],n);var s=new Mt(BCe(a,n,o?function(l){return LCe(o,l)}:od));return r?s.pipe(S$(r)):s}function BCe(e,t,n){return n===void 0&&(n=od),function(r){mee(t,function(){for(var i=e.length,a=new Array(i),o=i,s=i,l=function(d){mee(t,function(){var h=ar(e[d],t),p=!1;h.subscribe(nn(r,function(m){a[d]=m,p||(p=!0,s--),s||r.next(n(a.slice()))},function(){--o||r.complete()}))},r)},c=0;c<i;c++)l(c)},r)}}function mee(e,t,n){e?zc(n,e,t):t()}function Fft(e,t,n,r,i,a,o,s){var l=[],c=0,d=0,h=!1,p=function(){h&&!l.length&&!c&&t.complete()},m=function(v){return c<r?g(v):l.push(v)},g=function(v){a&&t.next(v),c++;var b=!1;Wn(n(v,d++)).subscribe(nn(t,function(y){i==null||i(y),a?m(y):t.next(y)},function(){b=!0},void 0,function(){if(b)try{c--;for(var y=function(){var x=l.shift();o?zc(t,o,function(){return g(x)}):g(x)};l.length&&c<r;)y();p()}catch(x){t.error(x)}}))};return e.subscribe(nn(t,m,function(){h=!0,p()})),function(){s==null||s()}}function It(e,t,n){return n===void 0&&(n=1/0),dn(t)?It(function(r,i){return de(function(a,o){return t(r,a,i,o)})(Wn(e(r,i)))},n):(typeof t=="number"&&(n=t),jn(function(r,i){return Fft(r,i,e,n)}))}function _$(e){return e===void 0&&(e=1/0),It(od,e)}function Nft(){return _$(1)}function Ai(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Nft()(ar(e,O2(e)))}function na(e){return new Mt(function(t){Wn(e()).subscribe(t)})}function Lft(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=C$(e),r=NCe(e),i=r.args,a=r.keys,o=new Mt(function(s){var l=i.length;if(!l){s.complete();return}for(var c=new Array(l),d=l,h=l,p=function(g){var v=!1;Wn(i[g]).subscribe(nn(s,function(b){v||(v=!0,h--),c[g]=b},function(){return d--},void 0,function(){(!d||!v)&&(h||s.next(a?LCe(a,c):c),s.complete())}))},m=0;m<l;m++)p(m)});return n?o.pipe(S$(n)):o}var Bft=["addListener","removeListener"],Vft=["addEventListener","removeEventListener"],zft=["on","off"];function Io(e,t,n,r){if(dn(n)&&(r=n,n=void 0),r)return Io(e,t,n).pipe(S$(r));var i=Go(Wft(e)?Vft.map(function(s){return function(l){return e[s](t,l,n)}}):Uft(e)?Bft.map(gee(e,t)):Hft(e)?zft.map(gee(e,t)):[],2),a=i[0],o=i[1];if(!a&&yU(e))return It(function(s){return Io(s,t,n)})(Wn(e));if(!a)throw new TypeError("Invalid event target");return new Mt(function(s){var l=function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];return s.next(1<c.length?c:c[0])};return a(l),function(){return o(l)}})}function gee(e,t){return function(n){return function(r){return e[n](t,r)}}}function Uft(e){return dn(e.addListener)&&dn(e.removeListener)}function Hft(e){return dn(e.on)&&dn(e.off)}function Wft(e){return dn(e.addEventListener)&&dn(e.removeEventListener)}function Gft(e,t,n){return na(function(){return e()?t:n})}function vi(e,t,n){e===void 0&&(e=0),n===void 0&&(n=dft);var r=-1;return t!=null&&(SCe(t)?n=t:r=t),new Mt(function(i){var a=FCe(e)?+e-n.now():e;a<0&&(a=0);var o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},a)})}function Mn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=O2(e),r=fft(e,1/0),i=e;return i.length?i.length===1?Wn(i[0]):_$(r)(ar(i,n)):nr}var bU=new Mt(Ep),Yft=Array.isArray;function VCe(e){return e.length===1&&Yft(e[0])?e[0]:e}function qft(e,t){return function(n,r){return!e.call(t,n,r)}}function $t(e,t){return jn(function(n,r){var i=0;n.subscribe(nn(r,function(a){return e.call(t,a,i++)&&r.next(a)}))})}function xU(e,t,n){return[$t(t,n)(Wn(e)),$t(qft(t,n))(Wn(e))]}function Kft(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e=VCe(e),e.length===1?Wn(e[0]):new Mt(Zft(e))}function Zft(e){return function(t){for(var n=[],r=function(a){n.push(Wn(e[a]).subscribe(nn(t,function(o){if(n){for(var s=0;s<n.length;s++)s!==a&&n[s].unsubscribe();n=null}t.next(o)})))},i=0;n&&!t.closed&&i<e.length;i++)r(i)}}function Xft(e,t){return new Mt(function(n){var r=e(),i=t(r),a=i?Wn(i):nr;return a.subscribe(n),function(){r&&r.unsubscribe()}})}function Jft(e){return jn(function(t,n){var r=!1,i=null,a=null,o=!1,s=function(){if(a==null||a.unsubscribe(),a=null,r){r=!1;var c=i;i=null,n.next(c)}o&&n.complete()},l=function(){a=null,o&&n.complete()};t.subscribe(nn(n,function(c){r=!0,i=c,a||Wn(e(c)).subscribe(a=nn(n,s,l))},function(){o=!0,(!r||!a||a.closed)&&n.complete()}))})}function Qft(e,t){return t===void 0&&(t=au),Jft(function(){return vi(e,t)})}function Cn(e){return jn(function(t,n){var r=null,i=!1,a;r=t.subscribe(nn(n,void 0,void 0,function(o){a=Wn(e(o,Cn(e)(t))),r?(r.unsubscribe(),r=null,a.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(n))})}function zCe(e,t,n,r,i){return function(a,o){var s=n,l=t,c=0;a.subscribe(nn(o,function(d){var h=c++;l=s?e(l,d,h):(s=!0,d),r&&o.next(l)},i&&function(){s&&o.next(l),o.complete()}))}}function UCe(e,t){return jn(zCe(e,t,arguments.length>=2,!1,!0))}var eht=function(e,t){return e.push(t),e};function HCe(){return jn(function(e,t){UCe(eht,[])(e).subscribe(t)})}function WCe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=C$(e);return n?Qdt(WCe.apply(void 0,js([],Go(e))),S$(n)):jn(function(r,i){BCe(js([r],Go(VCe(e))))(i)})}function tht(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return WCe.apply(void 0,js([],Go(e)))}function mg(e,t){return dn(t)?It(e,t,1):It(e,1)}function nht(e){return new Mt(function(t){return e.subscribe(t)})}var rht={connector:function(){return new Mr}};function iht(e,t){t===void 0&&(t=rht);var n=t.connector;return jn(function(r,i){var a=n();Wn(e(nht(a))).subscribe(i),i.add(r.subscribe(a))})}function wU(e){return jn(function(t,n){var r=!1,i=null,a=null,o=function(){if(a==null||a.unsubscribe(),a=null,r){r=!1;var s=i;i=null,n.next(s)}};t.subscribe(nn(n,function(s){a==null||a.unsubscribe(),r=!0,i=s,a=nn(n,o,Ep),Wn(e(s)).subscribe(a)},function(){o(),n.complete()},void 0,function(){i=a=null}))})}function CU(e,t){return t===void 0&&(t=au),jn(function(n,r){var i=null,a=null,o=null,s=function(){if(i){i.unsubscribe(),i=null;var c=a;a=null,r.next(c)}};function l(){var c=o+e,d=t.now();if(d<c){i=this.schedule(void 0,c-d),r.add(i);return}s()}n.subscribe(nn(r,function(c){a=c,o=t.now(),i||(i=t.schedule(l,e),r.add(i))},function(){s(),r.complete()},void 0,function(){a=i=null}))})}function GCe(e){return jn(function(t,n){var r=!1;t.subscribe(nn(n,function(i){r=!0,n.next(i)},function(){r||n.next(e),n.complete()}))})}function $a(e){return e<=0?function(){return nr}:jn(function(t,n){var r=0;t.subscribe(nn(n,function(i){++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function aht(){return jn(function(e,t){e.subscribe(nn(t,Ep))})}function E$(e){return de(function(){return e})}function YCe(e,t){return t?function(n){return Ai(t.pipe($a(1),aht()),n.pipe(YCe(e)))}:It(function(n,r){return Wn(e(n,r)).pipe($a(1),E$(n))})}function qCe(e,t){t===void 0&&(t=au);var n=vi(e,t);return YCe(function(){return n})}function oht(e,t){return jn(function(n,r){var i=new Set;n.subscribe(nn(r,function(a){var o=e?e(a):a;i.has(o)||(i.add(o),r.next(a))})),t&&Wn(t).subscribe(nn(r,function(){return i.clear()},Ep))})}function xr(e,t){return t===void 0&&(t=od),e=e??sht,jn(function(n,r){var i,a=!0;n.subscribe(nn(r,function(o){var s=t(o);(a||!e(i,s))&&(a=!1,i=s,r.next(o))}))})}function sht(e,t){return e===t}function KCe(e){return e===void 0&&(e=lht),jn(function(t,n){var r=!1;t.subscribe(nn(n,function(i){r=!0,n.next(i)},function(){return r?n.complete():n.error(e())}))})}function lht(){return new M2}function ZCe(e,t){return t?function(n){return n.pipe(ZCe(function(r,i){return Wn(e(r,i)).pipe(de(function(a,o){return t(r,a,i,o)}))}))}:jn(function(n,r){var i=0,a=null,o=!1;n.subscribe(nn(r,function(s){a||(a=nn(r,void 0,function(){a=null,o&&r.complete()}),Wn(e(s,i++)).subscribe(a))},function(){o=!0,!a&&r.complete()}))})}function k$(e){return jn(function(t,n){try{t.subscribe(n)}finally{n.add(e)}})}function XCe(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?$t(function(i,a){return e(i,a,r)}):od,$a(1),n?GCe(t):KCe(function(){return new M2}))}}function JCe(e,t,n,r){return jn(function(i,a){var o;!t||typeof t=="function"?o=t:(n=t.duration,o=t.element,r=t.connector);var s=new Map,l=function(g){s.forEach(g),g(a)},c=function(g){return l(function(v){return v.error(g)})},d=0,h=!1,p=new bCe(a,function(g){try{var v=e(g),b=s.get(v);if(!b){s.set(v,b=r?r():new Mr);var y=m(v,b);if(a.next(y),n){var x=nn(b,function(){b.complete(),x==null||x.unsubscribe()},void 0,void 0,function(){return s.delete(v)});p.add(Wn(n(y)).subscribe(x))}}b.next(o?o(g):g)}catch(w){c(w)}},function(){return l(function(g){return g.complete()})},c,function(){return s.clear()},function(){return h=!0,d===0});i.subscribe(p);function m(g,v){var b=new Mt(function(y){d++;var x=v.subscribe(y);return function(){x.unsubscribe(),--d===0&&h&&p.unsubscribe()}});return b.key=g,b}})}function uht(e){return e<=0?function(){return nr}:jn(function(t,n){var r=[];t.subscribe(nn(n,function(i){r.push(i),e<r.length&&r.shift()},function(){var i,a;try{for(var o=Bg(r),s=o.next();!s.done;s=o.next()){var l=s.value;n.next(l)}}catch(c){i={error:c}}finally{try{s&&!s.done&&(a=o.return)&&a.call(o)}finally{if(i)throw i.error}}n.complete()},void 0,function(){r=null}))})}function cht(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?$t(function(i,a){return e(i,a,r)}):od,uht(1),n?GCe(t):KCe(function(){return new M2}))}}var dht=It;function hy(e,t,n){return n===void 0&&(n=1/0),dn(t)?It(function(){return e},t,n):(typeof t=="number"&&(n=t),It(function(){return e},n))}function fht(e,t){var n=dn(e)?e:function(){return e};return dn(t)?iht(t,{connector:n}):function(r){return new nft(r,n)}}function Ou(e,t,n,r){n&&!dn(n)&&(r=n);var i=dn(n)?n:void 0;return function(a){return fht(new gU(e,t,r),i)(a)}}function hht(e){e===void 0&&(e=1/0);var t;e&&typeof e=="object"?t=e:t={count:e};var n=t.count,r=n===void 0?1/0:n,i=t.delay,a=t.resetOnSuccess,o=a===void 0?!1:a;return r<=0?od:jn(function(s,l){var c=0,d,h=function(){var p=!1;d=s.subscribe(nn(l,function(m){o&&(c=0),l.next(m)},void 0,function(m){if(c++<r){var g=function(){d?(d.unsubscribe(),d=null,h()):p=!0};if(i!=null){var v=typeof i=="number"?vi(i):Wn(i(m,c)),b=nn(l,function(){b.unsubscribe(),g()},function(){l.complete()});v.subscribe(b)}else g()}else l.error(m)})),p&&(d.unsubscribe(),d=null,h())};h()})}function il(e,t){return jn(zCe(e,t,arguments.length>=2,!0))}function Yo(e){e===void 0&&(e={});var t=e.connector,n=t===void 0?function(){return new Mr}:t,r=e.resetOnError,i=r===void 0?!0:r,a=e.resetOnComplete,o=a===void 0?!0:a,s=e.resetOnRefCountZero,l=s===void 0?!0:s;return function(c){var d,h,p,m=0,g=!1,v=!1,b=function(){h==null||h.unsubscribe(),h=void 0},y=function(){b(),d=p=void 0,g=v=!1},x=function(){var w=d;y(),w==null||w.unsubscribe()};return jn(function(w,C){m++,!v&&!g&&b();var S=p=p??n();C.add(function(){m--,m===0&&!v&&!g&&(h=TP(x,l))}),S.subscribe(C),!d&&m>0&&(d=new fy({next:function(_){return S.next(_)},error:function(_){v=!0,b(),h=TP(y,i,_),S.error(_)},complete:function(){g=!0,b(),h=TP(y,o),S.complete()}}),Wn(w).subscribe(d))})(c)}}function TP(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t===!0){e();return}if(t!==!1){var i=new fy({next:function(){i.unsubscribe(),e()}});return Wn(t.apply(void 0,js([],Go(n)))).subscribe(i)}}function oa(e,t,n){var r,i,a,o,s=!1;return e&&typeof e=="object"?(r=e.bufferSize,o=r===void 0?1/0:r,i=e.windowTime,t=i===void 0?1/0:i,a=e.refCount,s=a===void 0?!1:a,n=e.scheduler):o=e??1/0,Yo({connector:function(){return new gU(o,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function QCe(e){return $t(function(t,n){return e<=n})}function Vi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=O2(e);return jn(function(r,i){(n?Ai(e,r,n):Ai(e,r)).subscribe(i)})}function mt(e,t){return jn(function(n,r){var i=null,a=0,o=!1,s=function(){return o&&!i&&r.complete()};n.subscribe(nn(r,function(l){i==null||i.unsubscribe();var c=0,d=a++;Wn(e(l,d)).subscribe(i=nn(r,function(h){return r.next(t?t(l,h,d,c++):h)},function(){i=null,s()}))},function(){o=!0,s()}))})}function pht(e,t){return dn(t)?mt(function(){return e},t):mt(function(){return e})}function SU(e){return jn(function(t,n){Wn(e).subscribe(nn(n,function(){return n.complete()},Ep)),!n.closed&&t.subscribe(n)})}function Qn(e,t,n){var r=dn(e)||t||n?{next:e,error:t,complete:n}:e;return r?jn(function(i,a){var o;(o=r.subscribe)===null||o===void 0||o.call(r);var s=!0;i.subscribe(nn(a,function(l){var c;(c=r.next)===null||c===void 0||c.call(r,l),a.next(l)},function(){var l;s=!1,(l=r.complete)===null||l===void 0||l.call(r),a.complete()},function(l){var c;s=!1,(c=r.error)===null||c===void 0||c.call(r,l),a.error(l)},function(){var l,c;s&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):od}function _U(e,t){return jn(function(n,r){var i=t??{},a=i.leading,o=a===void 0?!0:a,s=i.trailing,l=s===void 0?!1:s,c=!1,d=null,h=null,p=!1,m=function(){h==null||h.unsubscribe(),h=null,l&&(b(),p&&r.complete())},g=function(){h=null,p&&r.complete()},v=function(y){return h=Wn(e(y)).subscribe(nn(r,m,g))},b=function(){if(c){c=!1;var y=d;d=null,r.next(y),!p&&v(y)}};n.subscribe(nn(r,function(y){c=!0,d=y,!(h&&!h.closed)&&(o?b():v(y))},function(){p=!0,!(l&&c&&h&&!h.closed)&&r.complete()}))})}function fS(e,t,n){t===void 0&&(t=au);var r=vi(e,t);return _U(function(){return r},n)}function lC(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=C$(e);return jn(function(r,i){for(var a=e.length,o=new Array(a),s=e.map(function(){return!1}),l=!1,c=function(h){Wn(e[h]).subscribe(nn(i,function(p){o[h]=p,!l&&!s[h]&&(s[h]=!0,(l=s.every(od))&&(s=null))},Ep))},d=0;d<a;d++)c(d);r.subscribe(nn(i,function(h){if(l){var p=js([h],Go(o));i.next(n?n.apply(void 0,js([],Go(p))):p)}}))})}const eSe=typeof navigator>"u"?!1:navigator.product==="ReactNative",tSe={timeout:eSe?6e4:12e4},mht=function(e){const t={...tSe,...typeof e=="string"?{url:e}:e};if(t.timeout=nSe(t.timeout),t.query){const{url:n,searchParams:r}=ght(t.url);for(const[i,a]of Object.entries(t.query)){if(a!==void 0)if(Array.isArray(a))for(const s of a)r.append(i,s);else r.append(i,a);const o=r.toString();o&&(t.url=`${n}?${o}`)}}return t.method=t.body&&!t.method?"POST":(t.method||"GET").toUpperCase(),t};function ght(e){const t=e.indexOf("?");if(t===-1)return{url:e,searchParams:new URLSearchParams};const n=e.slice(0,t),r=e.slice(t+1);if(!eSe)return{url:n,searchParams:new URLSearchParams(r)};if(typeof decodeURIComponent!="function")throw new Error("Broken `URLSearchParams` implementation, and `decodeURIComponent` is not defined");const i=new URLSearchParams;for(const a of r.split("&")){const[o,s]=a.split("=");o&&i.append(vee(o),vee(s||""))}return{url:n,searchParams:i}}function vee(e){return decodeURIComponent(e.replace(/\+/g," "))}function nSe(e){if(e===!1||e===0)return!1;if(e.connect||e.socket)return e;const t=Number(e);return isNaN(t)?nSe(tSe.timeout):{connect:t,socket:t}}const vht=/^https?:\/\//i,yht=function(e){if(!vht.test(e.url))throw new Error(`"${e.url}" is not a valid URL`)};function bht(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const xht=e=>function(t,n,...r){const i=t==="onError";let a=n;for(let o=0;o<e[t].length;o++){const s=e[t][o];if(a=s(a,...r),i&&!a)break}return a};function wht(){const e=Object.create(null);let t=0;function n(i){const a=t++;return e[a]=i,function(){delete e[a]}}function r(i){for(const a in e)e[a](i)}return{publish:r,subscribe:n}}const Cht=["request","response","progress","error","abort"],yee=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function rSe(e,t){const n=[],r=yee.reduce((a,o)=>(a[o]=a[o]||[],a),{processOptions:[mht],validateOptions:[yht]});function i(a){const o=(g,v,b)=>{let y=g,x=v;if(!y)try{x=l("onResponse",v,b)}catch(w){x=null,y=w}y=y&&l("onError",y,b),y?s.error.publish(y):x&&s.response.publish(x)},s=Cht.reduce((g,v)=>(g[v]=wht(),g),{}),l=xht(r),c=l("processOptions",a);l("validateOptions",c);const d={options:c,channels:s,applyMiddleware:l};let h;const p=s.request.subscribe(g=>{h=t(g,(v,b)=>o(v,b,g))});s.abort.subscribe(()=>{p(),h&&h.abort()});const m=l("onReturn",s,d);return m===s&&s.request.publish(d),m}return i.use=function(a){if(!a)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof a=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(a.onReturn&&r.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return yee.forEach(o=>{a[o]&&r[o].push(a[o])}),n.push(a),i},i.clone=()=>rSe(n,t),e.forEach(i.use),i}var AP=function(e){return e.replace(/^\s+|\s+$/g,"")},Sht=function(e){return Object.prototype.toString.call(e)==="[object Array]"},_ht=function(e){if(!e)return{};for(var t={},n=AP(e).split(`
`),r=0;r<n.length;r++){var i=n[r],a=i.indexOf(":"),o=AP(i.slice(0,a)).toLowerCase(),s=AP(i.slice(a+1));typeof t[o]>"u"?t[o]=s:Sht(t[o])?t[o].push(s):t[o]=[t[o],s]}return t},Eht=bht(_ht),kht=Object.defineProperty,iSe=e=>{throw TypeError(e)},Tht=(e,t,n)=>t in e?kht(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wu=(e,t,n)=>Tht(e,typeof t!="symbol"?t+"":t,n),aSe=(e,t,n)=>t.has(e)||iSe("Cannot "+n),Sl=(e,t,n)=>(aSe(e,t,"read from private field"),n?n.call(e):t.get(e)),dm=(e,t,n)=>t.has(e)?iSe("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),oh=(e,t,n,r)=>(aSe(e,t,"write to private field"),t.set(e,n),n),M5,R5,_v,P5,vh,F5,N5;class ML{constructor(){wu(this,"onabort"),wu(this,"onerror"),wu(this,"onreadystatechange"),wu(this,"ontimeout"),wu(this,"readyState",0),wu(this,"response"),wu(this,"responseText",""),wu(this,"responseType",""),wu(this,"status"),wu(this,"statusText"),wu(this,"withCredentials"),dm(this,M5),dm(this,R5),dm(this,_v),dm(this,P5,{}),dm(this,vh),dm(this,F5,{}),dm(this,N5)}open(t,n,r){var i;oh(this,M5,t),oh(this,R5,n),oh(this,_v,""),this.readyState=1,(i=this.onreadystatechange)==null||i.call(this),oh(this,vh,void 0)}abort(){Sl(this,vh)&&Sl(this,vh).abort()}getAllResponseHeaders(){return Sl(this,_v)}setRequestHeader(t,n){Sl(this,P5)[t]=n}setInit(t,n=!0){oh(this,F5,t),oh(this,N5,n)}send(t){const n=this.responseType!=="arraybuffer",r={...Sl(this,F5),method:Sl(this,M5),headers:Sl(this,P5),body:t};typeof AbortController=="function"&&Sl(this,N5)&&(oh(this,vh,new AbortController),typeof EventTarget<"u"&&Sl(this,vh).signal instanceof EventTarget&&(r.signal=Sl(this,vh).signal)),typeof document<"u"&&(r.credentials=this.withCredentials?"include":"omit"),fetch(Sl(this,R5),r).then(i=>{var a;return i.headers.forEach((o,s)=>{oh(this,_v,Sl(this,_v)+`${s}: ${o}\r
`)}),this.status=i.status,this.statusText=i.statusText,this.readyState=3,(a=this.onreadystatechange)==null||a.call(this),n?i.text():i.arrayBuffer()}).then(i=>{var a;typeof i=="string"?this.responseText=i:this.response=i,this.readyState=4,(a=this.onreadystatechange)==null||a.call(this)}).catch(i=>{var a,o;if(i.name==="AbortError"){(a=this.onabort)==null||a.call(this);return}(o=this.onerror)==null||o.call(this,i)})}}M5=new WeakMap,R5=new WeakMap,_v=new WeakMap,P5=new WeakMap,vh=new WeakMap,F5=new WeakMap,N5=new WeakMap;const RL=typeof XMLHttpRequest=="function"?"xhr":"fetch",Aht=RL==="xhr"?XMLHttpRequest:ML,jht=(e,t)=>{var n;const r=e.options,i=e.applyMiddleware("finalizeOptions",r),a={},o=e.applyMiddleware("interceptRequest",void 0,{adapter:RL,context:e});if(o){const C=setTimeout(t,0,null,o);return{abort:()=>clearTimeout(C)}}let s=new Aht;s instanceof ML&&typeof i.fetch=="object"&&s.setInit(i.fetch,(n=i.useAbortSignal)!=null?n:!0);const l=i.headers,c=i.timeout;let d=!1,h=!1,p=!1;if(s.onerror=C=>{s instanceof ML?y(C instanceof Error?C:new Error(`Request error while attempting to reach is ${i.url}`,{cause:C})):y(new Error(`Request error while attempting to reach is ${i.url}${C.lengthComputable?`(${C.loaded} of ${C.total} bytes transferred)`:""}`))},s.ontimeout=C=>{y(new Error(`Request timeout while attempting to reach ${i.url}${C.lengthComputable?`(${C.loaded} of ${C.total} bytes transferred)`:""}`))},s.onabort=()=>{b(!0),d=!0},s.onreadystatechange=()=>{v(),!(d||s.readyState!==4)&&s.status!==0&&w()},s.open(i.method,i.url,!0),s.withCredentials=!!i.withCredentials,l&&s.setRequestHeader)for(const C in l)l.hasOwnProperty(C)&&s.setRequestHeader(C,l[C]);return i.rawBody&&(s.responseType="arraybuffer"),e.applyMiddleware("onRequest",{options:i,adapter:RL,request:s,context:e}),s.send(i.body||null),c&&(a.connect=setTimeout(()=>g("ETIMEDOUT"),c.connect)),{abort:m};function m(){d=!0,s&&s.abort()}function g(C){p=!0,s.abort();const S=new Error(C==="ESOCKETTIMEDOUT"?`Socket timed out on request to ${i.url}`:`Connection timed out on request to ${i.url}`);S.code=C,e.channels.error.publish(S)}function v(){c&&(b(),a.socket=setTimeout(()=>g("ESOCKETTIMEDOUT"),c.socket))}function b(C){(C||d||s.readyState>=2&&a.connect)&&clearTimeout(a.connect),a.socket&&clearTimeout(a.socket)}function y(C){if(h)return;b(!0),h=!0,s=null;const S=C||new Error(`Network error while attempting to reach ${i.url}`);S.isNetworkError=!0,S.request=i,t(S)}function x(){return{body:s.response||(s.responseType===""||s.responseType==="text"?s.responseText:""),url:i.url,method:i.method,headers:Eht(s.getAllResponseHeaders()),statusCode:s.status,statusMessage:s.statusText}}function w(){if(!(d||h||p)){if(s.status===0){y(new Error("Unknown XHR error"));return}b(),h=!0,t(null,x())}}},Iht=(e=[],t=jht)=>rSe(e,t);var bee={exports:{}},jP,xee;function Dht(){if(xee)return jP;xee=1;var e=1e3,t=e*60,n=t*60,r=n*24,i=r*7,a=r*365.25;jP=function(d,h){h=h||{};var p=typeof d;if(p==="string"&&d.length>0)return o(d);if(p==="number"&&isFinite(d))return h.long?l(d):s(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function o(d){if(d=String(d),!(d.length>100)){var h=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(h){var p=parseFloat(h[1]),m=(h[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return p*a;case"weeks":case"week":case"w":return p*i;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function s(d){var h=Math.abs(d);return h>=r?Math.round(d/r)+"d":h>=n?Math.round(d/n)+"h":h>=t?Math.round(d/t)+"m":h>=e?Math.round(d/e)+"s":d+"ms"}function l(d){var h=Math.abs(d);return h>=r?c(d,h,r,"day"):h>=n?c(d,h,n,"hour"):h>=t?c(d,h,t,"minute"):h>=e?c(d,h,e,"second"):d+" ms"}function c(d,h,p,m){var g=h>=p*1.5;return Math.round(d/p)+" "+m+(g?"s":"")}return jP}function $ht(e){n.debug=n,n.default=n,n.coerce=l,n.disable=a,n.enable=i,n.enabled=o,n.humanize=Dht(),n.destroy=c,Object.keys(e).forEach(d=>{n[d]=e[d]}),n.names=[],n.skips=[],n.formatters={};function t(d){let h=0;for(let p=0;p<d.length;p++)h=(h<<5)-h+d.charCodeAt(p),h|=0;return n.colors[Math.abs(h)%n.colors.length]}n.selectColor=t;function n(d){let h,p=null,m,g;function v(...b){if(!v.enabled)return;const y=v,x=Number(new Date),w=x-(h||x);y.diff=w,y.prev=h,y.curr=x,h=x,b[0]=n.coerce(b[0]),typeof b[0]!="string"&&b.unshift("%O");let C=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,(S,_)=>{if(S==="%%")return"%";C++;const E=n.formatters[_];if(typeof E=="function"){const k=b[C];S=E.call(y,k),b.splice(C,1),C--}return S}),n.formatArgs.call(y,b),(y.log||n.log).apply(y,b)}return v.namespace=d,v.useColors=n.useColors(),v.color=n.selectColor(d),v.extend=r,v.destroy=n.destroy,Object.defineProperty(v,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(m!==n.namespaces&&(m=n.namespaces,g=n.enabled(d)),g),set:b=>{p=b}}),typeof n.init=="function"&&n.init(v),v}function r(d,h){const p=n(this.namespace+(typeof h>"u"?":":h)+d);return p.log=this.log,p}function i(d){n.save(d),n.namespaces=d,n.names=[],n.skips=[];let h;const p=(typeof d=="string"?d:"").split(/[\s,]+/),m=p.length;for(h=0;h<m;h++)p[h]&&(d=p[h].replace(/\*/g,".*?"),d[0]==="-"?n.skips.push(new RegExp("^"+d.slice(1)+"$")):n.names.push(new RegExp("^"+d+"$")))}function a(){const d=[...n.names.map(s),...n.skips.map(s).map(h=>"-"+h)].join(",");return n.enable(""),d}function o(d){if(d[d.length-1]==="*")return!0;let h,p;for(h=0,p=n.skips.length;h<p;h++)if(n.skips[h].test(d))return!1;for(h=0,p=n.names.length;h<p;h++)if(n.names[h].test(d))return!0;return!1}function s(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function l(d){return d instanceof Error?d.stack||d.message:d}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var Oht=$ht;(function(e,t){t.formatArgs=r,t.save=i,t.load=a,t.useColors=n,t.storage=o(),t.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const c="color: "+this.color;l.splice(1,0,c,"color: inherit");let d=0,h=0;l[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(d++,p==="%c"&&(h=d))}),l.splice(h,0,c)}t.log=console.debug||console.log||(()=>{});function i(l){try{l?t.storage.setItem("debug",l):t.storage.removeItem("debug")}catch{}}function a(){let l;try{l=t.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l={}.DEBUG),l}function o(){try{return localStorage}catch{}}e.exports=Oht(t);const{formatters:s}=e.exports;s.j=function(l){try{return JSON.stringify(l)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}})(bee,bee.exports);const Mht=typeof Buffer>"u"?()=>!1:e=>Buffer.isBuffer(e);/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function wee(e){return Object.prototype.toString.call(e)==="[object Object]"}function Rht(e){if(wee(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(wee(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)}const Pht=["boolean","string","number"];function Fht(){return{processOptions:e=>{const t=e.body;return!t||!(typeof t.pipe!="function"&&!Mht(t)&&(Pht.indexOf(typeof t)!==-1||Array.isArray(t)||Rht(t)))?e:Object.assign({},e,{body:JSON.stringify(e.body),headers:Object.assign({},e.headers,{"Content-Type":"application/json"})})}}}function Nht(e){return{onResponse:n=>{const r=n.headers["content-type"]||"",i=e&&e.force||r.indexOf("application/json")!==-1;return!n.body||!r||!i?n:Object.assign({},n,{body:t(n.body)})},processOptions:n=>Object.assign({},n,{headers:Object.assign({Accept:"application/json"},n.headers)})};function t(n){try{return JSON.parse(n)}catch(r){throw r.message=`Failed to parsed response body as JSON: ${r.message}`,r}}}let Sw={};typeof globalThis<"u"?Sw=globalThis:typeof window<"u"?Sw=window:typeof global<"u"?Sw=global:typeof self<"u"&&(Sw=self);var Lht=Sw;function Bht(e={}){const t=e.implementation||Lht.Observable;if(!t)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(n,r)=>new t(i=>(n.error.subscribe(a=>i.error(a)),n.progress.subscribe(a=>i.next(Object.assign({type:"progress"},a))),n.response.subscribe(a=>{i.next(Object.assign({type:"response"},a)),i.complete()}),n.request.publish(r),()=>n.abort.publish()))}}function Vht(){return{onRequest:e=>{if(e.adapter!=="xhr")return;const t=e.request,n=e.context;"upload"in t&&"onprogress"in t.upload&&(t.upload.onprogress=r("upload")),"onprogress"in t&&(t.onprogress=r("download"));function r(i){return a=>{const o=a.lengthComputable?a.loaded/a.total*100:-1;n.channels.progress.publish({stage:i,percent:o,total:a.total,loaded:a.loaded,lengthComputable:a.lengthComputable})}}}}}var zht=Object.defineProperty,Uht=(e,t,n)=>t in e?zht(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hS=(e,t,n)=>Uht(e,typeof t!="symbol"?t+"":t,n);class Hht{constructor(t){hS(this,"__CANCEL__",!0),hS(this,"message"),this.message=t}toString(){return`Cancel${this.message?`: ${this.message}`:""}`}}const Cee=class{constructor(e){if(hS(this,"promise"),hS(this,"reason"),typeof e!="function")throw new TypeError("executor must be a function.");let t=null;this.promise=new Promise(n=>{t=n}),e(n=>{this.reason||(this.reason=new Hht(n),t(this.reason))})}};hS(Cee,"source",()=>{let e;return{token:new Cee(t=>{e=t}),cancel:e}});var oSe=(e,t,n)=>n.method!=="GET"&&n.method!=="HEAD"?!1:e.isNetworkError||!1;const Wht=e=>e!==null&&typeof e=="object"&&typeof e.pipe=="function";var Ght=e=>{const t=e.maxRetries||5,n=e.retryDelay||Yht,r=e.shouldRetry;return{onError:(i,a)=>{const o=a.options,s=o.maxRetries||t,l=o.retryDelay||n,c=o.shouldRetry||r,d=o.attemptNumber||0;if(Wht(o.body)||!c(i,d,o)||d>=s)return i;const h=Object.assign({},a,{options:Object.assign({},o,{attemptNumber:d+1})});return setTimeout(()=>a.channels.request.publish(h),l(d)),null}}};function Yht(e){return 100*Math.pow(2,e)+Math.random()*100}const EU=(e={})=>Ght({shouldRetry:oSe,...e});EU.shouldRetry=oSe;var sSe={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},kU={0:8203,1:8204,2:8205,3:65279},qht=new Array(4).fill(String.fromCodePoint(kU[0])).join("");function Kht(e){let t=JSON.stringify(e);return`${qht}${Array.from(t).map(n=>{let r=n.charCodeAt(0);if(r>255)throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${t} on character ${n} (${r})`);return Array.from(r.toString(4).padStart(4,"0")).map(i=>String.fromCodePoint(kU[i])).join("")}).join("")}`}function Zht(e){return!Number.isNaN(Number(e))||/[a-z]/i.test(e)&&!/\d+(?:[-:\/]\d+){2}(?:T\d+(?:[-:\/]\d+){1,2}(\.\d+)?Z?)?/.test(e)?!1:!!Date.parse(e)}function Xht(e){try{new URL(e,e.startsWith("/")?"https://acme.com":void 0)}catch{return!1}return!0}function BWn(e,t,n="auto"){return n===!0||n==="auto"&&(Zht(e)||Xht(e))?e:`${e}${Kht(t)}`}Object.fromEntries(Object.entries(kU).map(e=>e.reverse()));Object.fromEntries(Object.entries(sSe).map(e=>e.reverse()));var Jht=`${Object.values(sSe).map(e=>`\\u{${e.toString(16)}}`).join("")}`,See=new RegExp(`[${Jht}]{4,}`,"gu");function Qht(e){var t;return{cleaned:e.replace(See,""),encoded:((t=e.match(See))==null?void 0:t[0])||""}}function ept(e){return e&&JSON.parse(Qht(JSON.stringify(e)).cleaned)}function tpt(e){return ept(e)}var npt=Object.defineProperty,rpt=(e,t,n)=>t in e?npt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vh=(e,t,n)=>(rpt(e,typeof t!="symbol"?t+"":t,n),n);class ipt extends Error{constructor(t){const n=lSe(t);super(n.message),Vh(this,"response"),Vh(this,"statusCode",400),Vh(this,"responseBody"),Vh(this,"details"),Object.assign(this,n)}}class apt extends Error{constructor(t){const n=lSe(t);super(n.message),Vh(this,"response"),Vh(this,"statusCode",500),Vh(this,"responseBody"),Vh(this,"details"),Object.assign(this,n)}}function lSe(e){const t=e.body,n={response:e,statusCode:e.statusCode,responseBody:upt(t,e),message:"",details:void 0};if(t.error&&t.message)return n.message=`${t.error} - ${t.message}`,n;if(opt(t)||spt(t)){const r=t.error.items||[],i=r.slice(0,5).map(o=>{var s;return(s=o.error)==null?void 0:s.description}).filter(Boolean);let a=i.length?`:
- ${i.join(`
- `)}`:"";return r.length>5&&(a+=`
...and ${r.length-5} more`),n.message=`${t.error.description}${a}`,n.details=t.error,n}return t.error&&t.error.description?(n.message=t.error.description,n.details=t.error,n):(n.message=t.error||t.message||lpt(e),n)}function opt(e){return NA(e)&&NA(e.error)&&e.error.type==="mutationError"&&typeof e.error.description=="string"}function spt(e){return NA(e)&&NA(e.error)&&e.error.type==="actionError"&&typeof e.error.description=="string"}function NA(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function lpt(e){const t=e.statusMessage?` ${e.statusMessage}`:"";return`${e.method}-request to ${e.url} resulted in HTTP ${e.statusCode}${t}`}function upt(e,t){return(t.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(e,null,2):e}const cpt={onResponse:e=>{if(e.statusCode>=500)throw new apt(e);if(e.statusCode>=400)throw new ipt(e);return e}},dpt={onResponse:e=>{const t=e.headers["x-sanity-warning"];return(Array.isArray(t)?t:[t]).filter(Boolean).forEach(n=>console.warn(n)),e}};function fpt(e){return Iht([EU({shouldRetry:hpt}),...e,dpt,Fht(),Nht(),Vht(),cpt,Bht({implementation:Mt})])}function hpt(e,t,n){if(n.maxRetries===0)return!1;const r=n.method==="GET"||n.method==="HEAD",i=(n.uri||n.url).startsWith("/data/query"),a=e.response&&(e.response.statusCode===429||e.response.statusCode===502||e.response.statusCode===503);return(r||i)&&a?!0:EU.shouldRetry(e,t,n)}function uSe(e){if(typeof e=="string")return{id:e};if(Array.isArray(e))return{query:"*[_id in $ids]",params:{ids:e}};if(typeof e=="object"&&e!==null&&"query"in e&&typeof e.query=="string")return"params"in e&&typeof e.params=="object"&&e.params!==null?{query:e.query,params:e.params}:{query:e.query};const t=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

${t}`)}const _ee=["image","file"],Eee=["before","after","replace"],cSe=e=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(e))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},ppt=e=>{if(!/^[-a-z0-9]+$/i.test(e))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},mpt=e=>{if(_ee.indexOf(e)===-1)throw new Error(`Invalid asset type: ${e}. Must be one of ${_ee.join(", ")}`)},uC=(e,t)=>{if(t===null||typeof t!="object"||Array.isArray(t))throw new Error(`${e}() takes an object of properties`)},dSe=(e,t)=>{if(typeof t!="string"||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(t)||t.includes(".."))throw new Error(`${e}(): "${t}" is not a valid document ID`)},LA=(e,t)=>{if(!t._id)throw new Error(`${e}() requires that the document contains an ID ("_id" property)`);dSe(e,t._id)},gpt=(e,t,n)=>{const r="insert(at, selector, items)";if(Eee.indexOf(e)===-1){const i=Eee.map(a=>`"${a}"`).join(", ");throw new Error(`${r} takes an "at"-argument which is one of: ${i}`)}if(typeof t!="string")throw new Error(`${r} takes a "selector"-argument which must be a string`);if(!Array.isArray(n))throw new Error(`${r} takes an "items"-argument which must be an array`)},fSe=e=>{if(!e.dataset)throw new Error("`dataset` must be provided to perform queries");return e.dataset||""},hSe=e=>{if(typeof e!="string"||!/^[a-z0-9._-]{1,75}$/i.test(e))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return e};var vpt=Object.defineProperty,ypt=(e,t,n)=>t in e?vpt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kee=(e,t,n)=>(ypt(e,typeof t!="symbol"?t+"":t,n),n),pSe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},j1=(e,t,n)=>(pSe(e,t,"read from private field"),n?n.call(e):t.get(e)),mSe=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},gSe=(e,t,n,r)=>(pSe(e,t,"write to private field"),t.set(e,n),n);class vSe{constructor(t,n={}){kee(this,"selection"),kee(this,"operations"),this.selection=t,this.operations=n}set(t){return this._assign("set",t)}setIfMissing(t){return this._assign("setIfMissing",t)}diffMatchPatch(t){return uC("diffMatchPatch",t),this._assign("diffMatchPatch",t)}unset(t){if(!Array.isArray(t))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:t}),this}inc(t){return this._assign("inc",t)}dec(t){return this._assign("dec",t)}insert(t,n,r){return gpt(t,n,r),this._assign("insert",{[t]:n,items:r})}append(t,n){return this.insert("after",`${t}[-1]`,n)}prepend(t,n){return this.insert("before",`${t}[0]`,n)}splice(t,n,r,i){const a=typeof r>"u"||r===-1,o=n<0?n-1:n,s=a?-1:Math.max(0,n+r),l=o<0&&s>=0?"":s,c=`${t}[${o}:${l}]`;return this.insert("replace",c,i||[])}ifRevisionId(t){return this.operations.ifRevisionID=t,this}serialize(){return{...uSe(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(t,n,r=!0){return uC(t,n),this.operations=Object.assign({},this.operations,{[t]:Object.assign({},r&&this.operations[t]||{},n)}),this}_set(t,n){return this._assign(t,n,!1)}}var Ev;const bpt=class ySe extends vSe{constructor(t,n,r){super(t,n),mSe(this,Ev,void 0),gSe(this,Ev,r)}clone(){return new ySe(this.selection,{...this.operations},j1(this,Ev))}commit(t){if(!j1(this,Ev))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const n=typeof this.selection=="string",r=Object.assign({returnFirst:n,returnDocuments:!0},t);return j1(this,Ev).mutate({patch:this.serialize()},r)}};Ev=new WeakMap;let cC=bpt;var kv;const xpt=class bSe extends vSe{constructor(t,n,r){super(t,n),mSe(this,kv,void 0),gSe(this,kv,r)}clone(){return new bSe(this.selection,{...this.operations},j1(this,kv))}commit(t){if(!j1(this,kv))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const n=typeof this.selection=="string",r=Object.assign({returnFirst:n,returnDocuments:!0},t);return j1(this,kv).mutate({patch:this.serialize()},r)}};kv=new WeakMap;let dC=xpt;var wpt=Object.defineProperty,Cpt=(e,t,n)=>t in e?wpt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Tee=(e,t,n)=>(Cpt(e,typeof t!="symbol"?t+"":t,n),n),xSe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},zh=(e,t,n)=>(xSe(e,t,"read from private field"),n?n.call(e):t.get(e)),wSe=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},CSe=(e,t,n,r)=>(xSe(e,t,"write to private field"),t.set(e,n),n);const SSe={returnDocuments:!1};class _Se{constructor(t=[],n){Tee(this,"operations"),Tee(this,"trxId"),this.operations=t,this.trxId=n}create(t){return uC("create",t),this._add({create:t})}createIfNotExists(t){const n="createIfNotExists";return uC(n,t),LA(n,t),this._add({[n]:t})}createOrReplace(t){const n="createOrReplace";return uC(n,t),LA(n,t),this._add({[n]:t})}delete(t){return dSe("delete",t),this._add({delete:{id:t}})}transactionId(t){return t?(this.trxId=t,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(t){return this.operations.push(t),this}}var Tm;const Spt=class ESe extends _Se{constructor(t,n,r){super(t,r),wSe(this,Tm,void 0),CSe(this,Tm,n)}clone(){return new ESe([...this.operations],zh(this,Tm),this.trxId)}commit(t){if(!zh(this,Tm))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return zh(this,Tm).mutate(this.serialize(),Object.assign({transactionId:this.trxId},SSe,t||{}))}patch(t,n){const r=typeof n=="function";if(typeof t!="string"&&t instanceof dC)return this._add({patch:t.serialize()});if(r){const i=n(new dC(t,{},zh(this,Tm)));if(!(i instanceof dC))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:i.serialize()})}return this._add({patch:{id:t,...n}})}};Tm=new WeakMap;let kSe=Spt;var Am;const _pt=class TSe extends _Se{constructor(t,n,r){super(t,r),wSe(this,Am,void 0),CSe(this,Am,n)}clone(){return new TSe([...this.operations],zh(this,Am),this.trxId)}commit(t){if(!zh(this,Am))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return zh(this,Am).mutate(this.serialize(),Object.assign({transactionId:this.trxId},SSe,t||{}))}patch(t,n){const r=typeof n=="function";if(typeof t!="string"&&t instanceof cC)return this._add({patch:t.serialize()});if(r){const i=n(new cC(t,{},zh(this,Am)));if(!(i instanceof cC))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:i.serialize()})}return this._add({patch:{id:t,...n}})}};Am=new WeakMap;let ASe=_pt;const Ept="https://www.sanity.io/help/";function TU(e){return Ept+e}function kpt(e){let t=!1,n;return(...r)=>(t||(n=e(...r),t=!0),n)}const R2=e=>kpt((...t)=>console.warn(e.join(" "),...t)),Tpt=R2(["Because you set `withCredentials` to true, we will override your `useCdn`","setting to be false since (cookie-based) credentials are never set on the CDN"]),Apt=R2(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),jpt=R2(["The Sanity client is configured with the `perspective` set to `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),Ipt=R2(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.",`See ${TU("js-client-browser-token")} for more information and how to hide this warning.`]),Dpt=R2(["Using the Sanity client without specifying an API version is deprecated.",`See ${TU("js-client-api-version")}`]),$pt="apicdn.sanity.io",fC={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0,stega:{enabled:!1}},Opt=["localhost","127.0.0.1","0.0.0.0"],Mpt=e=>Opt.indexOf(e)!==-1;function Rpt(e){if(e==="1"||e==="X")return;const t=new Date(e);if(!(/^\d{4}-\d{2}-\d{2}$/.test(e)&&t instanceof Date&&t.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")}const jSe=function(e){switch(e){case"previewDrafts":case"published":case"raw":return;default:throw new TypeError("Invalid API perspective string, expected `published`, `previewDrafts` or `raw`")}},ISe=(e,t)=>{const n={...t,...e,stega:{...typeof t.stega=="boolean"?{enabled:t.stega}:t.stega||fC.stega,...typeof e.stega=="boolean"?{enabled:e.stega}:e.stega||{}}};n.apiVersion||Dpt();const r={...fC,...n},i=r.useProjectHostname;if(typeof Promise>"u"){const h=TU("js-client-promise-polyfill");throw new Error(`No native Promise-implementation found, polyfill needed - see ${h}`)}if(i&&!r.projectId)throw new Error("Configuration must contain `projectId`");if(typeof r.perspective=="string"&&jSe(r.perspective),"encodeSourceMap"in r)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMap' is not supported in '@sanity/client'. Did you mean 'stega.enabled'?");if("encodeSourceMapAtPath"in r)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMapAtPath' is not supported in '@sanity/client'. Did you mean 'stega.filter'?");if(typeof r.stega.enabled!="boolean")throw new Error(`stega.enabled must be a boolean, received ${r.stega.enabled}`);if(r.stega.enabled&&r.stega.studioUrl===void 0)throw new Error("stega.studioUrl must be defined when stega.enabled is true");if(r.stega.enabled&&typeof r.stega.studioUrl!="string"&&typeof r.stega.studioUrl!="function")throw new Error(`stega.studioUrl must be a string or a function, received ${r.stega.studioUrl}`);const a=typeof window<"u"&&window.location&&window.location.hostname,o=a&&Mpt(window.location.hostname);a&&o&&r.token&&r.ignoreBrowserTokenWarning!==!0?Ipt():typeof r.useCdn>"u"&&Apt(),i&&ppt(r.projectId),r.dataset&&cSe(r.dataset),"requestTagPrefix"in r&&(r.requestTagPrefix=r.requestTagPrefix?hSe(r.requestTagPrefix).replace(/\.+$/,""):void 0),r.apiVersion=`${r.apiVersion}`.replace(/^v/,""),r.isDefaultApi=r.apiHost===fC.apiHost,r.useCdn===!0&&r.withCredentials&&Tpt(),r.useCdn=r.useCdn!==!1&&!r.withCredentials,Rpt(r.apiVersion);const s=r.apiHost.split("://",2),l=s[0],c=s[1],d=r.isDefaultApi?$pt:c;return r.useProjectHostname?(r.url=`${l}://${r.projectId}.${c}/v${r.apiVersion}`,r.cdnUrl=`${l}://${r.projectId}.${d}/v${r.apiVersion}`):(r.url=`${r.apiHost}/v${r.apiVersion}`,r.cdnUrl=r.url),r},Ppt="X-Sanity-Project-ID";function Fpt(e,t={}){const n={},r=t.token||e.token;r&&(n.Authorization=`Bearer ${r}`),!t.useGlobalApi&&!e.useProjectHostname&&e.projectId&&(n[Ppt]=e.projectId);const i=!!(typeof t.withCredentials>"u"?e.token||e.withCredentials:t.withCredentials),a=typeof t.timeout>"u"?e.timeout:t.timeout;return Object.assign({},t,{headers:Object.assign({},n,t.headers||{}),timeout:typeof a>"u"?5*60*1e3:a,proxy:t.proxy||e.proxy,json:!0,withCredentials:i,fetch:typeof t.fetch=="object"&&typeof e.fetch=="object"?{...e.fetch,...t.fetch}:t.fetch||e.fetch})}const DSe=({query:e,params:t={},options:n={}})=>{const r=new URLSearchParams,{tag:i,includeMutations:a,returnQuery:o,...s}=n;i&&r.append("tag",i),r.append("query",e);for(const[l,c]of Object.entries(t))r.append(`$${l}`,JSON.stringify(c));for(const[l,c]of Object.entries(s))c&&r.append(l,`${c}`);return o===!1&&r.append("returnQuery","false"),a===!1&&r.append("includeMutations","false"),`?${r}`},Npt=(e,t)=>e===!1?void 0:typeof e>"u"?t:e,Lpt=(e={})=>({dryRun:e.dryRun,returnIds:!0,returnDocuments:Npt(e.returnDocuments,!0),visibility:e.visibility||"sync",autoGenerateArrayKeys:e.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:e.skipCrossDatasetReferenceValidation}),AU=e=>e.type==="response",Bpt=e=>e.body,Vpt=(e,t)=>e.reduce((n,r)=>(n[t(r)]=r,n),Object.create(null)),zpt=11264;function $Se(e,t,n,r,i={},a={}){const o="stega"in a?{...n||{},...typeof a.stega=="boolean"?{enabled:a.stega}:a.stega||{}}:n,s=o.enabled?tpt(i):i,l=a.filterResponse===!1?g=>g:g=>g.result,{cache:c,next:d,...h}={useAbortSignal:typeof a.signal<"u",resultSourceMap:o.enabled?"withKeyArraySelector":a.resultSourceMap,...a,returnQuery:a.filterResponse===!1&&a.returnQuery!==!1},p=typeof c<"u"||typeof d<"u"?{...h,fetch:{cache:c,next:d}}:h,m=wb(e,t,"query",{query:r,params:s},p);return o.enabled?m.pipe(tht(ar(Ff(()=>import("./stegaEncodeSourceMap-264082e5.js"),[]).then(function(g){return g.stegaEncodeSourceMap$1}).then(({stegaEncodeSourceMap:g})=>g))),de(([g,v])=>{const b=v(g.result,g.resultSourceMap,o);return l({...g,result:b})})):m.pipe(de(l))}function OSe(e,t,n,r={}){const i={uri:A0(e,"doc",n),json:!0,tag:r.tag};return P2(e,t,i).pipe($t(AU),de(a=>a.body.documents&&a.body.documents[0]))}function MSe(e,t,n,r={}){const i={uri:A0(e,"doc",n.join(",")),json:!0,tag:r.tag};return P2(e,t,i).pipe($t(AU),de(a=>{const o=Vpt(a.body.documents||[],s=>s._id);return n.map(s=>o[s]||null)}))}function RSe(e,t,n,r){return LA("createIfNotExists",n),T$(e,t,n,"createIfNotExists",r)}function PSe(e,t,n,r){return LA("createOrReplace",n),T$(e,t,n,"createOrReplace",r)}function FSe(e,t,n,r){return wb(e,t,"mutate",{mutations:[{delete:uSe(n)}]},r)}function NSe(e,t,n,r){let i;n instanceof dC||n instanceof cC?i={patch:n.serialize()}:n instanceof kSe||n instanceof ASe?i=n.serialize():i=n;const a=Array.isArray(i)?i:[i],o=r&&r.transactionId||void 0;return wb(e,t,"mutate",{mutations:a,transactionId:o},r)}function LSe(e,t,n,r){const i=Array.isArray(n)?n:[n],a=r&&r.transactionId||void 0,o=r&&r.skipCrossDatasetReferenceValidation||void 0,s=r&&r.dryRun||void 0;return wb(e,t,"actions",{actions:i,transactionId:a,skipCrossDatasetReferenceValidation:o,dryRun:s},r)}function wb(e,t,n,r,i={}){const a=n==="mutate",o=n==="actions",s=n==="query",l=a||o?"":DSe(r),c=!a&&!o&&l.length<zpt,d=c?l:"",h=i.returnFirst,{timeout:p,token:m,tag:g,headers:v,returnQuery:b,lastLiveEventId:y}=i,x=A0(e,n,d),w={method:c?"GET":"POST",uri:x,json:!0,body:c?void 0:r,query:a&&Lpt(i),timeout:p,headers:v,token:m,tag:g,returnQuery:b,perspective:i.perspective,resultSourceMap:i.resultSourceMap,lastLiveEventId:Array.isArray(y)?y[0]:y,canUseCdn:s,signal:i.signal,fetch:i.fetch,useAbortSignal:i.useAbortSignal,useCdn:i.useCdn};return P2(e,t,w).pipe($t(AU),de(Bpt),de(C=>{if(!a)return C;const S=C.results||[];if(i.returnDocuments)return h?S[0]&&S[0].document:S.map(k=>k.document);const _=h?"documentId":"documentIds",E=h?S[0]&&S[0].id:S.map(k=>k.id);return{transactionId:C.transactionId,results:S,[_]:E}}))}function T$(e,t,n,r,i={}){const a={[r]:n},o=Object.assign({returnFirst:!0,returnDocuments:!0},i);return wb(e,t,"mutate",{mutations:[a]},o)}function P2(e,t,n){var r,i;const a=n.url||n.uri,o=e.config(),s=typeof n.canUseCdn>"u"?["GET","HEAD"].indexOf(n.method||"GET")>=0&&a.indexOf("/data/")===0:n.canUseCdn;let l=((r=n.useCdn)!=null?r:o.useCdn)&&s;const c=n.tag&&o.requestTagPrefix?[o.requestTagPrefix,n.tag].join("."):n.tag||o.requestTagPrefix;if(c&&n.tag!==null&&(n.query={tag:hSe(c),...n.query}),["GET","HEAD","POST"].indexOf(n.method||"GET")>=0&&a.indexOf("/data/query/")===0){const p=(i=n.resultSourceMap)!=null?i:o.resultSourceMap;p!==void 0&&p!==!1&&(n.query={resultSourceMap:p,...n.query});const m=n.perspective||o.perspective;typeof m=="string"&&m!=="raw"&&(jSe(m),n.query={perspective:m,...n.query},m==="previewDrafts"&&l&&(l=!1,jpt())),n.lastLiveEventId&&(n.query={...n.query,lastLiveEventId:n.lastLiveEventId}),n.returnQuery===!1&&(n.query={returnQuery:"false",...n.query})}const d=Fpt(o,Object.assign({},n,{url:jU(e,a,l)})),h=new Mt(p=>t(d,o.requester).subscribe(p));return n.signal?h.pipe(Upt(n.signal)):h}function Ku(e,t,n){return P2(e,t,n).pipe($t(r=>r.type==="response"),de(r=>r.body))}function A0(e,t,n){const r=e.config(),i=fSe(r),a=`/${t}/${i}`;return`/data${n?`${a}/${n}`:a}`.replace(/\/($|\?)/,"$1")}function jU(e,t,n=!1){const{url:r,cdnUrl:i}=e.config();return`${n?i:r}/${t.replace(/^\//,"")}`}function Upt(e){return t=>new Mt(n=>{const r=()=>n.error(Wpt(e));if(e&&e.aborted){r();return}const i=t.subscribe(n);return e.addEventListener("abort",r),()=>{e.removeEventListener("abort",r),i.unsubscribe()}})}const Hpt=!!globalThis.DOMException;function Wpt(e){var t,n;if(Hpt)return new DOMException((t=e==null?void 0:e.reason)!=null?t:"The operation was aborted.","AbortError");const r=new Error((n=e==null?void 0:e.reason)!=null?n:"The operation was aborted.");return r.name="AbortError",r}var BSe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},BA=(e,t,n)=>(BSe(e,t,"read from private field"),n?n.call(e):t.get(e)),VA=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},zA=(e,t,n,r)=>(BSe(e,t,"write to private field"),t.set(e,n),n),L5,B5;class Gpt{constructor(t,n){VA(this,L5,void 0),VA(this,B5,void 0),zA(this,L5,t),zA(this,B5,n)}upload(t,n,r){return VSe(BA(this,L5),BA(this,B5),t,n,r)}}L5=new WeakMap,B5=new WeakMap;var V5,z5;class Ypt{constructor(t,n){VA(this,V5,void 0),VA(this,z5,void 0),zA(this,V5,t),zA(this,z5,n)}upload(t,n,r){const i=VSe(BA(this,V5),BA(this,z5),t,n,r);return Ri(i.pipe($t(a=>a.type==="response"),de(a=>a.body.document)))}}V5=new WeakMap,z5=new WeakMap;function VSe(e,t,n,r,i={}){mpt(n);let a=i.extract||void 0;a&&!a.length&&(a=["none"]);const o=fSe(e.config()),s=n==="image"?"images":"files",l=qpt(i,r),{tag:c,label:d,title:h,description:p,creditLine:m,filename:g,source:v}=l,b={label:d,title:h,description:p,filename:g,meta:a,creditLine:m};return v&&(b.sourceId=v.id,b.sourceName=v.name,b.sourceUrl=v.url),P2(e,t,{tag:c,method:"POST",timeout:l.timeout||0,uri:`/assets/${s}/${o}`,headers:l.contentType?{"Content-Type":l.contentType}:{},query:b,body:r})}function qpt(e,t){return typeof File>"u"||!(t instanceof File)?e:Object.assign({filename:e.preserveFilename===!1?void 0:t.name,contentType:t.type},e)}var Kpt=(e,t)=>Object.keys(t).concat(Object.keys(e)).reduce((n,r)=>(n[r]=typeof e[r]>"u"?t[r]:e[r],n),{});const Zpt=(e,t)=>t.reduce((n,r)=>(typeof e[r]>"u"||(n[r]=e[r]),n),{}),Xpt=14800,Jpt=["includePreviousRevision","includeResult","includeMutations","visibility","effectFormat","tag"],Qpt={includeResult:!0};function zSe(e,t,n={}){const{url:r,token:i,withCredentials:a,requestTagPrefix:o}=this.config(),s=n.tag&&o?[o,n.tag].join("."):n.tag,l={...Kpt(n,Qpt),tag:s},c=Zpt(l,Jpt),d=DSe({query:e,params:t,options:{tag:s,...c}}),h=`${r}${A0(this,"listen",d)}`;if(h.length>Xpt)return new Mt(v=>v.error(new Error("Query too large for listener")));const p=l.events?l.events:["mutation"],m=p.indexOf("reconnect")!==-1,g={};return(i||a)&&(g.withCredentials=!0),i&&(g.headers={Authorization:`Bearer ${i}`}),new Mt(v=>{let b,y,x=!1,w=!1;I();function C(){x||(T(),!x&&b.readyState===b.CLOSED&&(k(),clearTimeout(y),y=setTimeout(I,100)))}function S($){v.error(emt($))}function _($){const D=USe($);return D instanceof Error?v.error(D):v.next(D)}function E(){x=!0,k(),v.complete()}function k(){b&&(b.removeEventListener("error",C),b.removeEventListener("channelError",S),b.removeEventListener("disconnect",E),p.forEach($=>b.removeEventListener($,_)),b.close())}function T(){m&&v.next({type:"reconnect"})}async function j(){const{default:$}=await Ff(()=>import("./browser-90af00fd.js").then(M=>M.b),[]);if(w)return;const D=new $(h,g);return D.addEventListener("error",C),D.addEventListener("channelError",S),D.addEventListener("disconnect",E),p.forEach(M=>D.addEventListener(M,_)),D}function I(){j().then($=>{$&&(b=$,w&&k())}).catch($=>{v.error($),A()})}function A(){x=!0,k(),w=!0}return A})}function USe(e){try{const t=e.data&&JSON.parse(e.data)||{};return Object.assign({type:e.type},t)}catch(t){return t}}function emt(e){if(e instanceof Error)return e;const t=USe(e);return t instanceof Error?t:new Error(tmt(t))}function tmt(e){return e.error?e.error.description?e.error.description:typeof e.error=="string"?e.error:JSON.stringify(e.error,null,2):e.message||"Unknown listener error"}var HSe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},IP=(e,t,n)=>(HSe(e,t,"read from private field"),n?n.call(e):t.get(e)),nmt=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},rmt=(e,t,n,r)=>(HSe(e,t,"write to private field"),t.set(e,n),n);const Aee="2021-03-26";var Tv;class WSe{constructor(t){nmt(this,Tv,void 0),rmt(this,Tv,t)}events(){const t=IP(this,Tv).config().apiVersion.replace(/^v/,"");if(t!=="X"&&t<Aee)throw new Error(`The live events API requires API version ${Aee} or later. The current API version is ${t}. Please update your API version to use this feature.`);const n=A0(IP(this,Tv),"live/events"),r=new URL(IP(this,Tv).getUrl(n,!1)),i=["restart","message"];return new Mt(a=>{let o,s,l=!1,c=!1;g();function d(b){if(!l){if("data"in b){const y=jee(b);a.error(new Error(y.message,{cause:y}))}o.readyState===o.CLOSED&&(p(),clearTimeout(s),s=setTimeout(g,100))}}function h(b){const y=jee(b);return y instanceof Error?a.error(y):a.next(y)}function p(){if(o){o.removeEventListener("error",d);for(const b of i)o.removeEventListener(b,h);o.close()}}async function m(){const b=typeof EventSource>"u"?(await Ff(()=>import("./browser-90af00fd.js").then(x=>x.b),[])).default:EventSource;if(c)return;const y=new b(r.toString());y.addEventListener("error",d);for(const x of i)y.addEventListener(x,h);return y}function g(){m().then(b=>{b&&(o=b,c&&p())}).catch(b=>{a.error(b),v()})}function v(){l=!0,p(),c=!0}return v})}}Tv=new WeakMap;function jee(e){try{const t=e.data&&JSON.parse(e.data)||{};return{type:e.type,id:e.lastEventId,...t}}catch(t){return t}}var GSe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},xo=(e,t,n)=>(GSe(e,t,"read from private field"),n?n.call(e):t.get(e)),UA=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},HA=(e,t,n,r)=>(GSe(e,t,"write to private field"),t.set(e,n),n),jm,Im;class imt{constructor(t,n){UA(this,jm,void 0),UA(this,Im,void 0),HA(this,jm,t),HA(this,Im,n)}create(t,n){return I1(xo(this,jm),xo(this,Im),"PUT",t,n)}edit(t,n){return I1(xo(this,jm),xo(this,Im),"PATCH",t,n)}delete(t){return I1(xo(this,jm),xo(this,Im),"DELETE",t)}list(){return Ku(xo(this,jm),xo(this,Im),{uri:"/datasets",tag:null})}}jm=new WeakMap,Im=new WeakMap;var Dm,$m;class amt{constructor(t,n){UA(this,Dm,void 0),UA(this,$m,void 0),HA(this,Dm,t),HA(this,$m,n)}create(t,n){return Ri(I1(xo(this,Dm),xo(this,$m),"PUT",t,n))}edit(t,n){return Ri(I1(xo(this,Dm),xo(this,$m),"PATCH",t,n))}delete(t){return Ri(I1(xo(this,Dm),xo(this,$m),"DELETE",t))}list(){return Ri(Ku(xo(this,Dm),xo(this,$m),{uri:"/datasets",tag:null}))}}Dm=new WeakMap,$m=new WeakMap;function I1(e,t,n,r,i){return cSe(r),Ku(e,t,{method:n,uri:`/datasets/${r}`,body:i,tag:null})}var YSe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Uh=(e,t,n)=>(YSe(e,t,"read from private field"),n?n.call(e):t.get(e)),WA=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},GA=(e,t,n,r)=>(YSe(e,t,"write to private field"),t.set(e,n),n),_w,Ew;class omt{constructor(t,n){WA(this,_w,void 0),WA(this,Ew,void 0),GA(this,_w,t),GA(this,Ew,n)}list(t){const n=(t==null?void 0:t.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return Ku(Uh(this,_w),Uh(this,Ew),{uri:n})}getById(t){return Ku(Uh(this,_w),Uh(this,Ew),{uri:`/projects/${t}`})}}_w=new WeakMap,Ew=new WeakMap;var kw,Tw;class smt{constructor(t,n){WA(this,kw,void 0),WA(this,Tw,void 0),GA(this,kw,t),GA(this,Tw,n)}list(t){const n=(t==null?void 0:t.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return Ri(Ku(Uh(this,kw),Uh(this,Tw),{uri:n}))}getById(t){return Ri(Ku(Uh(this,kw),Uh(this,Tw),{uri:`/projects/${t}`}))}}kw=new WeakMap,Tw=new WeakMap;var qSe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},YA=(e,t,n)=>(qSe(e,t,"read from private field"),n?n.call(e):t.get(e)),qA=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},KA=(e,t,n,r)=>(qSe(e,t,"write to private field"),t.set(e,n),n),U5,H5;class lmt{constructor(t,n){qA(this,U5,void 0),qA(this,H5,void 0),KA(this,U5,t),KA(this,H5,n)}getById(t){return Ku(YA(this,U5),YA(this,H5),{uri:`/users/${t}`})}}U5=new WeakMap,H5=new WeakMap;var W5,G5;class umt{constructor(t,n){qA(this,W5,void 0),qA(this,G5,void 0),KA(this,W5,t),KA(this,G5,n)}getById(t){return Ri(Ku(YA(this,W5),YA(this,G5),{uri:`/users/${t}`}))}}W5=new WeakMap,G5=new WeakMap;var cmt=Object.defineProperty,dmt=(e,t,n)=>t in e?cmt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Gs=(e,t,n)=>(dmt(e,typeof t!="symbol"?t+"":t,n),n),KSe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Vt=(e,t,n)=>(KSe(e,t,"read from private field"),n?n.call(e):t.get(e)),ZA=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},XA=(e,t,n,r)=>(KSe(e,t,"write to private field"),t.set(e,n),n),yh,fa;const fmt=class PL{constructor(t,n=fC){Gs(this,"assets"),Gs(this,"datasets"),Gs(this,"live"),Gs(this,"projects"),Gs(this,"users"),ZA(this,yh,void 0),ZA(this,fa,void 0),Gs(this,"listen",zSe),this.config(n),XA(this,fa,t),this.assets=new Gpt(this,Vt(this,fa)),this.datasets=new imt(this,Vt(this,fa)),this.live=new WSe(this),this.projects=new omt(this,Vt(this,fa)),this.users=new lmt(this,Vt(this,fa))}clone(){return new PL(Vt(this,fa),this.config())}config(t){if(t===void 0)return{...Vt(this,yh)};if(Vt(this,yh)&&Vt(this,yh).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return XA(this,yh,ISe(t,Vt(this,yh)||{})),this}withConfig(t){const n=this.config();return new PL(Vt(this,fa),{...n,...t,stega:{...n.stega||{},...typeof(t==null?void 0:t.stega)=="boolean"?{enabled:t.stega}:(t==null?void 0:t.stega)||{}}})}fetch(t,n,r){return $Se(this,Vt(this,fa),Vt(this,yh).stega,t,n,r)}getDocument(t,n){return OSe(this,Vt(this,fa),t,n)}getDocuments(t,n){return MSe(this,Vt(this,fa),t,n)}create(t,n){return T$(this,Vt(this,fa),t,"create",n)}createIfNotExists(t,n){return RSe(this,Vt(this,fa),t,n)}createOrReplace(t,n){return PSe(this,Vt(this,fa),t,n)}delete(t,n){return FSe(this,Vt(this,fa),t,n)}mutate(t,n){return NSe(this,Vt(this,fa),t,n)}patch(t,n){return new cC(t,n,this)}transaction(t){return new ASe(t,this)}action(t,n){return LSe(this,Vt(this,fa),t,n)}request(t){return Ku(this,Vt(this,fa),t)}getUrl(t,n){return jU(this,t,n)}getDataUrl(t,n){return A0(this,t,n)}};yh=new WeakMap,fa=new WeakMap;let hmt=fmt;var bh,Yi;const pmt=class FL{constructor(t,n=fC){Gs(this,"assets"),Gs(this,"datasets"),Gs(this,"live"),Gs(this,"projects"),Gs(this,"users"),Gs(this,"observable"),ZA(this,bh,void 0),ZA(this,Yi,void 0),Gs(this,"listen",zSe),this.config(n),XA(this,Yi,t),this.assets=new Ypt(this,Vt(this,Yi)),this.datasets=new amt(this,Vt(this,Yi)),this.live=new WSe(this),this.projects=new smt(this,Vt(this,Yi)),this.users=new umt(this,Vt(this,Yi)),this.observable=new hmt(t,n)}clone(){return new FL(Vt(this,Yi),this.config())}config(t){if(t===void 0)return{...Vt(this,bh)};if(Vt(this,bh)&&Vt(this,bh).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(t),XA(this,bh,ISe(t,Vt(this,bh)||{})),this}withConfig(t){const n=this.config();return new FL(Vt(this,Yi),{...n,...t,stega:{...n.stega||{},...typeof(t==null?void 0:t.stega)=="boolean"?{enabled:t.stega}:(t==null?void 0:t.stega)||{}}})}fetch(t,n,r){return Ri($Se(this,Vt(this,Yi),Vt(this,bh).stega,t,n,r))}getDocument(t,n){return Ri(OSe(this,Vt(this,Yi),t,n))}getDocuments(t,n){return Ri(MSe(this,Vt(this,Yi),t,n))}create(t,n){return Ri(T$(this,Vt(this,Yi),t,"create",n))}createIfNotExists(t,n){return Ri(RSe(this,Vt(this,Yi),t,n))}createOrReplace(t,n){return Ri(PSe(this,Vt(this,Yi),t,n))}delete(t,n){return Ri(FSe(this,Vt(this,Yi),t,n))}mutate(t,n){return Ri(NSe(this,Vt(this,Yi),t,n))}patch(t,n){return new dC(t,n,this)}transaction(t){return new kSe(t,this)}action(t,n){return Ri(LSe(this,Vt(this,Yi),t,n))}request(t){return Ri(Ku(this,Vt(this,Yi),t))}dataRequest(t,n,r){return Ri(wb(this,Vt(this,Yi),t,n,r))}getUrl(t,n){return jU(this,t,n)}getDataUrl(t,n){return A0(this,t,n)}};bh=new WeakMap,Yi=new WeakMap;let mmt=pmt;function gmt(e,t){const n=fpt(e);return{requester:n,createClient:r=>new t((i,a)=>(a||n)({maxRedirects:0,maxRetries:r.maxRetries,retryDelay:r.retryDelay,...i}),r)}}var vmt=[];const ymt=gmt(vmt,mmt),ZSe=ymt.createClient;var bmt=eU;function xmt(e,t){return bmt(e,t)}var wmt=xmt;const wt=Pe(wmt);var Cmt=function(e){return e};function XSe(e){e===void 0&&(e=Cmt);var t=new Mr;return[t.pipe(e),function(n){return t.next(n)}]}function Iee(e){return typeof e=="function"?e():e}const ME=new WeakMap;function Jr(e,t){const n=f.useRef(Iee(t));f.useEffect(()=>{n.current=Iee(t)},[t]);const r=f.useMemo(()=>{if(!ME.has(e)){const a={snapshot:n.current};a.observable=e.pipe(de(o=>({snapshot:o,error:void 0})),Cn(o=>xe({snapshot:void 0,error:o})),Qn(({snapshot:o,error:s})=>{a.snapshot=o,a.error=s}),de(o=>{}),k$(()=>ME.delete(e)),Yo()),a.subscription=a.observable.subscribe(),ME.set(e,a)}const i=ME.get(e);return i.subscription.closed&&(i.subscription=i.observable.subscribe()),{subscribe:a=>{const o=i.observable.subscribe(a);return i.subscription.unsubscribe(),()=>{o.unsubscribe()}},getSnapshot:()=>{if(i.error)throw i.error;return i.snapshot}}},[e]);return f.useSyncExternalStore(r.subscribe,r.getSnapshot,typeof n.current>"u"?void 0:()=>n.current)}function A$(e){const[[t,n]]=f.useState(()=>XSe()),r=Cz(i=>e(i));return f.useEffect(()=>{const i=t.pipe(a=>r(a)).subscribe();return()=>i.unsubscribe()},[t,r]),n}var JSe={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var a="",o=0;o<arguments.length;o++){var s=arguments[o];s&&(a=i(a,r(s)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var o="";for(var s in a)t.call(a,s)&&a[s]&&(o=i(o,s));return o}function i(a,o){return o?a?a+" "+o:a+o:a}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(JSe);var Smt=JSe.exports;const _mt=Pe(Smt);//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var QSe;function qe(){return QSe.apply(null,arguments)}function Emt(e){QSe=e}function Zu(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function gg(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function zn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function IU(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(zn(e,t))return!1;return!0}function cs(e){return e===void 0}function Ef(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function F2(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function e2e(e,t){var n=[],r,i=e.length;for(r=0;r<i;++r)n.push(t(e[r],r));return n}function Hh(e,t){for(var n in t)zn(t,n)&&(e[n]=t[n]);return zn(t,"toString")&&(e.toString=t.toString),zn(t,"valueOf")&&(e.valueOf=t.valueOf),e}function sd(e,t,n,r){return S2e(e,t,n,r,!0).utc()}function kmt(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Yt(e){return e._pf==null&&(e._pf=kmt()),e._pf}var NL;Array.prototype.some?NL=Array.prototype.some:NL=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function DU(e){var t=null,n=!1,r=e._d&&!isNaN(e._d.getTime());if(r&&(t=Yt(e),n=NL.call(t.parsedDateParts,function(i){return i!=null}),r=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r;return e._isValid}function j$(e){var t=sd(NaN);return e!=null?Hh(Yt(t),e):Yt(t).userInvalidated=!0,t}var Dee=qe.momentProperties=[],DP=!1;function $U(e,t){var n,r,i,a=Dee.length;if(cs(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),cs(t._i)||(e._i=t._i),cs(t._f)||(e._f=t._f),cs(t._l)||(e._l=t._l),cs(t._strict)||(e._strict=t._strict),cs(t._tzm)||(e._tzm=t._tzm),cs(t._isUTC)||(e._isUTC=t._isUTC),cs(t._offset)||(e._offset=t._offset),cs(t._pf)||(e._pf=Yt(t)),cs(t._locale)||(e._locale=t._locale),a>0)for(n=0;n<a;n++)r=Dee[n],i=t[r],cs(i)||(e[r]=i);return e}function N2(e){$U(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),DP===!1&&(DP=!0,qe.updateOffset(this),DP=!1)}function Xu(e){return e instanceof N2||e!=null&&e._isAMomentObject!=null}function t2e(e){qe.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function fu(e,t){var n=!0;return Hh(function(){if(qe.deprecationHandler!=null&&qe.deprecationHandler(null,e),n){var r=[],i,a,o,s=arguments.length;for(a=0;a<s;a++){if(i="",typeof arguments[a]=="object"){i+=`
[`+a+"] ";for(o in arguments[0])zn(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[a];r.push(i)}t2e(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var $ee={};function n2e(e,t){qe.deprecationHandler!=null&&qe.deprecationHandler(e,t),$ee[e]||(t2e(t),$ee[e]=!0)}qe.suppressDeprecationWarnings=!1;qe.deprecationHandler=null;function ld(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function Tmt(e){var t,n;for(n in e)zn(e,n)&&(t=e[n],ld(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function LL(e,t){var n=Hh({},e),r;for(r in t)zn(t,r)&&(gg(e[r])&&gg(t[r])?(n[r]={},Hh(n[r],e[r]),Hh(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)zn(e,r)&&!zn(t,r)&&gg(e[r])&&(n[r]=Hh({},n[r]));return n}function OU(e){e!=null&&this.set(e)}var BL;Object.keys?BL=Object.keys:BL=function(e){var t,n=[];for(t in e)zn(e,t)&&n.push(t);return n};var Amt={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function jmt(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return ld(r)?r.call(t,n):r}function Xc(e,t,n){var r=""+Math.abs(e),i=t-r.length,a=e>=0;return(a?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var MU=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,RE=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,$P={},D1={};function bt(e,t,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),e&&(D1[e]=i),t&&(D1[t[0]]=function(){return Xc(i.apply(this,arguments),t[1],t[2])}),n&&(D1[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function Imt(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function Dmt(e){var t=e.match(MU),n,r;for(n=0,r=t.length;n<r;n++)D1[t[n]]?t[n]=D1[t[n]]:t[n]=Imt(t[n]);return function(i){var a="",o;for(o=0;o<r;o++)a+=ld(t[o])?t[o].call(i,e):t[o];return a}}function Y5(e,t){return e.isValid()?(t=r2e(t,e.localeData()),$P[t]=$P[t]||Dmt(t),$P[t](e)):e.localeData().invalidDate()}function r2e(e,t){var n=5;function r(i){return t.longDateFormat(i)||i}for(RE.lastIndex=0;n>=0&&RE.test(e);)e=e.replace(RE,r),RE.lastIndex=0,n-=1;return e}var $mt={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Omt(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(MU).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var Mmt="Invalid date";function Rmt(){return this._invalidDate}var Pmt="%d",Fmt=/\d{1,2}/;function Nmt(e){return this._ordinal.replace("%d",e)}var Lmt={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Bmt(e,t,n,r){var i=this._relativeTime[n];return ld(i)?i(e,t,n,r):i.replace(/%d/i,e)}function Vmt(e,t){var n=this._relativeTime[e>0?"future":"past"];return ld(n)?n(t):n.replace(/%s/i,t)}var Oee={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function hu(e){return typeof e=="string"?Oee[e]||Oee[e.toLowerCase()]:void 0}function RU(e){var t={},n,r;for(r in e)zn(e,r)&&(n=hu(r),n&&(t[n]=e[r]));return t}var zmt={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Umt(e){var t=[],n;for(n in e)zn(e,n)&&t.push({unit:n,priority:zmt[n]});return t.sort(function(r,i){return r.priority-i.priority}),t}var i2e=/\d/,ml=/\d\d/,a2e=/\d{3}/,PU=/\d{4}/,I$=/[+-]?\d{6}/,Qr=/\d\d?/,o2e=/\d\d\d\d?/,s2e=/\d\d\d\d\d\d?/,D$=/\d{1,3}/,FU=/\d{1,4}/,$$=/[+-]?\d{1,6}/,Cb=/\d+/,O$=/[+-]?\d+/,Hmt=/Z|[+-]\d\d:?\d\d/gi,M$=/Z|[+-]\d\d(?::?\d\d)?/gi,Wmt=/[+-]?\d+(\.\d{1,3})?/,L2=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Sb=/^[1-9]\d?/,NU=/^([1-9]\d|\d)/,JA;JA={};function rt(e,t,n){JA[e]=ld(t)?t:function(r,i){return r&&n?n:t}}function Gmt(e,t){return zn(JA,e)?JA[e](t._strict,t._locale):new RegExp(Ymt(e))}function Ymt(e){return uf(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,i,a){return n||r||i||a}))}function uf(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function $l(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function vn(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=$l(t)),n}var VL={};function hr(e,t){var n,r=t,i;for(typeof e=="string"&&(e=[e]),Ef(t)&&(r=function(a,o){o[t]=vn(a)}),i=e.length,n=0;n<i;n++)VL[e[n]]=r}function B2(e,t){hr(e,function(n,r,i,a){i._w=i._w||{},t(n,i._w,i,a)})}function qmt(e,t,n){t!=null&&zn(VL,e)&&VL[e](t,n._a,n,e)}function R$(e){return e%4===0&&e%100!==0||e%400===0}var To=0,Qd=1,Tc=2,xa=3,Mu=4,ef=5,Km=6,Kmt=7,Zmt=8;bt("Y",0,0,function(){var e=this.year();return e<=9999?Xc(e,4):"+"+e});bt(0,["YY",2],0,function(){return this.year()%100});bt(0,["YYYY",4],0,"year");bt(0,["YYYYY",5],0,"year");bt(0,["YYYYYY",6,!0],0,"year");rt("Y",O$);rt("YY",Qr,ml);rt("YYYY",FU,PU);rt("YYYYY",$$,I$);rt("YYYYYY",$$,I$);hr(["YYYYY","YYYYYY"],To);hr("YYYY",function(e,t){t[To]=e.length===2?qe.parseTwoDigitYear(e):vn(e)});hr("YY",function(e,t){t[To]=qe.parseTwoDigitYear(e)});hr("Y",function(e,t){t[To]=parseInt(e,10)});function hC(e){return R$(e)?366:365}qe.parseTwoDigitYear=function(e){return vn(e)+(vn(e)>68?1900:2e3)};var l2e=_b("FullYear",!0);function Xmt(){return R$(this.year())}function _b(e,t){return function(n){return n!=null?(u2e(this,e,n),qe.updateOffset(this,t),this):pS(this,e)}}function pS(e,t){if(!e.isValid())return NaN;var n=e._d,r=e._isUTC;switch(t){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function u2e(e,t,n){var r,i,a,o,s;if(!(!e.isValid()||isNaN(n))){switch(r=e._d,i=e._isUTC,t){case"Milliseconds":return void(i?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(i?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(i?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(i?r.setUTCHours(n):r.setHours(n));case"Date":return void(i?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}a=n,o=e.month(),s=e.date(),s=s===29&&o===1&&!R$(a)?28:s,i?r.setUTCFullYear(a,o,s):r.setFullYear(a,o,s)}}function Jmt(e){return e=hu(e),ld(this[e])?this[e]():this}function Qmt(e,t){if(typeof e=="object"){e=RU(e);var n=Umt(e),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](e[n[r].unit])}else if(e=hu(e),ld(this[e]))return this[e](t);return this}function egt(e,t){return(e%t+t)%t}var Mi;Array.prototype.indexOf?Mi=Array.prototype.indexOf:Mi=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function LU(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=egt(t,12);return e+=(t-n)/12,n===1?R$(e)?29:28:31-n%7%2}bt("M",["MM",2],"Mo",function(){return this.month()+1});bt("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});bt("MMMM",0,0,function(e){return this.localeData().months(this,e)});rt("M",Qr,Sb);rt("MM",Qr,ml);rt("MMM",function(e,t){return t.monthsShortRegex(e)});rt("MMMM",function(e,t){return t.monthsRegex(e)});hr(["M","MM"],function(e,t){t[Qd]=vn(e)-1});hr(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);i!=null?t[Qd]=i:Yt(n).invalidMonth=e});var tgt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),c2e="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),d2e=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ngt=L2,rgt=L2;function igt(e,t){return e?Zu(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||d2e).test(t)?"format":"standalone"][e.month()]:Zu(this._months)?this._months:this._months.standalone}function agt(e,t){return e?Zu(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[d2e.test(t)?"format":"standalone"][e.month()]:Zu(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ogt(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)a=sd([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return n?t==="MMM"?(i=Mi.call(this._shortMonthsParse,o),i!==-1?i:null):(i=Mi.call(this._longMonthsParse,o),i!==-1?i:null):t==="MMM"?(i=Mi.call(this._shortMonthsParse,o),i!==-1?i:(i=Mi.call(this._longMonthsParse,o),i!==-1?i:null)):(i=Mi.call(this._longMonthsParse,o),i!==-1?i:(i=Mi.call(this._shortMonthsParse,o),i!==-1?i:null))}function sgt(e,t,n){var r,i,a;if(this._monthsParseExact)return ogt.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=sd([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function f2e(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=vn(t);else if(t=e.localeData().monthsParse(t),!Ef(t))return e}var n=t,r=e.date();return r=r<29?r:Math.min(r,LU(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,r):e._d.setMonth(n,r),e}function h2e(e){return e!=null?(f2e(this,e),qe.updateOffset(this,!0),this):pS(this,"Month")}function lgt(){return LU(this.year(),this.month())}function ugt(e){return this._monthsParseExact?(zn(this,"_monthsRegex")||p2e.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(zn(this,"_monthsShortRegex")||(this._monthsShortRegex=ngt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function cgt(e){return this._monthsParseExact?(zn(this,"_monthsRegex")||p2e.call(this),e?this._monthsStrictRegex:this._monthsRegex):(zn(this,"_monthsRegex")||(this._monthsRegex=rgt),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function p2e(){function e(l,c){return c.length-l.length}var t=[],n=[],r=[],i,a,o,s;for(i=0;i<12;i++)a=sd([2e3,i]),o=uf(this.monthsShort(a,"")),s=uf(this.months(a,"")),t.push(o),n.push(s),r.push(s),r.push(o);t.sort(e),n.sort(e),r.sort(e),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function dgt(e,t,n,r,i,a,o){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,i,a,o),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,i,a,o),s}function mS(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function QA(e,t,n){var r=7+t-n,i=(7+mS(e,0,r).getUTCDay()-t)%7;return-i+r-1}function m2e(e,t,n,r,i){var a=(7+n-r)%7,o=QA(e,r,i),s=1+7*(t-1)+a+o,l,c;return s<=0?(l=e-1,c=hC(l)+s):s>hC(e)?(l=e+1,c=s-hC(e)):(l=e,c=s),{year:l,dayOfYear:c}}function gS(e,t,n){var r=QA(e.year(),t,n),i=Math.floor((e.dayOfYear()-r-1)/7)+1,a,o;return i<1?(o=e.year()-1,a=i+cf(o,t,n)):i>cf(e.year(),t,n)?(a=i-cf(e.year(),t,n),o=e.year()+1):(o=e.year(),a=i),{week:a,year:o}}function cf(e,t,n){var r=QA(e,t,n),i=QA(e+1,t,n);return(hC(e)-r+i)/7}bt("w",["ww",2],"wo","week");bt("W",["WW",2],"Wo","isoWeek");rt("w",Qr,Sb);rt("ww",Qr,ml);rt("W",Qr,Sb);rt("WW",Qr,ml);B2(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=vn(e)});function fgt(e){return gS(e,this._week.dow,this._week.doy).week}var hgt={dow:0,doy:6};function pgt(){return this._week.dow}function mgt(){return this._week.doy}function ggt(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function vgt(e){var t=gS(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}bt("d",0,"do","day");bt("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});bt("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});bt("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});bt("e",0,0,"weekday");bt("E",0,0,"isoWeekday");rt("d",Qr);rt("e",Qr);rt("E",Qr);rt("dd",function(e,t){return t.weekdaysMinRegex(e)});rt("ddd",function(e,t){return t.weekdaysShortRegex(e)});rt("dddd",function(e,t){return t.weekdaysRegex(e)});B2(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);i!=null?t.d=i:Yt(n).invalidWeekday=e});B2(["d","e","E"],function(e,t,n,r){t[r]=vn(e)});function ygt(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function bgt(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function BU(e,t){return e.slice(t,7).concat(e.slice(0,t))}var xgt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),g2e="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),wgt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Cgt=L2,Sgt=L2,_gt=L2;function Egt(e,t){var n=Zu(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?BU(n,this._week.dow):e?n[e.day()]:n}function kgt(e){return e===!0?BU(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Tgt(e){return e===!0?BU(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Agt(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)a=sd([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase();return n?t==="dddd"?(i=Mi.call(this._weekdaysParse,o),i!==-1?i:null):t==="ddd"?(i=Mi.call(this._shortWeekdaysParse,o),i!==-1?i:null):(i=Mi.call(this._minWeekdaysParse,o),i!==-1?i:null):t==="dddd"?(i=Mi.call(this._weekdaysParse,o),i!==-1||(i=Mi.call(this._shortWeekdaysParse,o),i!==-1)?i:(i=Mi.call(this._minWeekdaysParse,o),i!==-1?i:null)):t==="ddd"?(i=Mi.call(this._shortWeekdaysParse,o),i!==-1||(i=Mi.call(this._weekdaysParse,o),i!==-1)?i:(i=Mi.call(this._minWeekdaysParse,o),i!==-1?i:null)):(i=Mi.call(this._minWeekdaysParse,o),i!==-1||(i=Mi.call(this._weekdaysParse,o),i!==-1)?i:(i=Mi.call(this._shortWeekdaysParse,o),i!==-1?i:null))}function jgt(e,t,n){var r,i,a;if(this._weekdaysParseExact)return Agt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=sd([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Igt(e){if(!this.isValid())return e!=null?this:NaN;var t=pS(this,"Day");return e!=null?(e=ygt(e,this.localeData()),this.add(e-t,"d")):t}function Dgt(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function $gt(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=bgt(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function Ogt(e){return this._weekdaysParseExact?(zn(this,"_weekdaysRegex")||VU.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(zn(this,"_weekdaysRegex")||(this._weekdaysRegex=Cgt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Mgt(e){return this._weekdaysParseExact?(zn(this,"_weekdaysRegex")||VU.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(zn(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Sgt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Rgt(e){return this._weekdaysParseExact?(zn(this,"_weekdaysRegex")||VU.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(zn(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=_gt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function VU(){function e(d,h){return h.length-d.length}var t=[],n=[],r=[],i=[],a,o,s,l,c;for(a=0;a<7;a++)o=sd([2e3,1]).day(a),s=uf(this.weekdaysMin(o,"")),l=uf(this.weekdaysShort(o,"")),c=uf(this.weekdays(o,"")),t.push(s),n.push(l),r.push(c),i.push(s),i.push(l),i.push(c);t.sort(e),n.sort(e),r.sort(e),i.sort(e),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function zU(){return this.hours()%12||12}function Pgt(){return this.hours()||24}bt("H",["HH",2],0,"hour");bt("h",["hh",2],0,zU);bt("k",["kk",2],0,Pgt);bt("hmm",0,0,function(){return""+zU.apply(this)+Xc(this.minutes(),2)});bt("hmmss",0,0,function(){return""+zU.apply(this)+Xc(this.minutes(),2)+Xc(this.seconds(),2)});bt("Hmm",0,0,function(){return""+this.hours()+Xc(this.minutes(),2)});bt("Hmmss",0,0,function(){return""+this.hours()+Xc(this.minutes(),2)+Xc(this.seconds(),2)});function v2e(e,t){bt(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}v2e("a",!0);v2e("A",!1);function y2e(e,t){return t._meridiemParse}rt("a",y2e);rt("A",y2e);rt("H",Qr,NU);rt("h",Qr,Sb);rt("k",Qr,Sb);rt("HH",Qr,ml);rt("hh",Qr,ml);rt("kk",Qr,ml);rt("hmm",o2e);rt("hmmss",s2e);rt("Hmm",o2e);rt("Hmmss",s2e);hr(["H","HH"],xa);hr(["k","kk"],function(e,t,n){var r=vn(e);t[xa]=r===24?0:r});hr(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});hr(["h","hh"],function(e,t,n){t[xa]=vn(e),Yt(n).bigHour=!0});hr("hmm",function(e,t,n){var r=e.length-2;t[xa]=vn(e.substr(0,r)),t[Mu]=vn(e.substr(r)),Yt(n).bigHour=!0});hr("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[xa]=vn(e.substr(0,r)),t[Mu]=vn(e.substr(r,2)),t[ef]=vn(e.substr(i)),Yt(n).bigHour=!0});hr("Hmm",function(e,t,n){var r=e.length-2;t[xa]=vn(e.substr(0,r)),t[Mu]=vn(e.substr(r))});hr("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[xa]=vn(e.substr(0,r)),t[Mu]=vn(e.substr(r,2)),t[ef]=vn(e.substr(i))});function Fgt(e){return(e+"").toLowerCase().charAt(0)==="p"}var Ngt=/[ap]\.?m?\.?/i,Lgt=_b("Hours",!0);function Bgt(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var b2e={calendar:Amt,longDateFormat:$mt,invalidDate:Mmt,ordinal:Pmt,dayOfMonthOrdinalParse:Fmt,relativeTime:Lmt,months:tgt,monthsShort:c2e,week:hgt,weekdays:xgt,weekdaysMin:wgt,weekdaysShort:g2e,meridiemParse:Ngt},ii={},Tx={},vS;function Vgt(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function Mee(e){return e&&e.toLowerCase().replace("_","-")}function zgt(e){for(var t=0,n,r,i,a;t<e.length;){for(a=Mee(e[t]).split("-"),n=a.length,r=Mee(e[t+1]),r=r?r.split("-"):null;n>0;){if(i=P$(a.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&Vgt(a,r)>=n-1)break;n--}t++}return vS}function Ugt(e){return!!(e&&e.match("^[^/\\\\]*$"))}function P$(e){var t=null,n;if(ii[e]===void 0&&typeof module<"u"&&module&&module.exports&&Ugt(e))try{t=vS._abbr,n=require,n("./locale/"+e),mp(t)}catch{ii[e]=null}return ii[e]}function mp(e,t){var n;return e&&(cs(t)?n=qf(e):n=UU(e,t),n?vS=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),vS._abbr}function UU(e,t){if(t!==null){var n,r=b2e;if(t.abbr=e,ii[e]!=null)n2e("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=ii[e]._config;else if(t.parentLocale!=null)if(ii[t.parentLocale]!=null)r=ii[t.parentLocale]._config;else if(n=P$(t.parentLocale),n!=null)r=n._config;else return Tx[t.parentLocale]||(Tx[t.parentLocale]=[]),Tx[t.parentLocale].push({name:e,config:t}),null;return ii[e]=new OU(LL(r,t)),Tx[e]&&Tx[e].forEach(function(i){UU(i.name,i.config)}),mp(e),ii[e]}else return delete ii[e],null}function Hgt(e,t){if(t!=null){var n,r,i=b2e;ii[e]!=null&&ii[e].parentLocale!=null?ii[e].set(LL(ii[e]._config,t)):(r=P$(e),r!=null&&(i=r._config),t=LL(i,t),r==null&&(t.abbr=e),n=new OU(t),n.parentLocale=ii[e],ii[e]=n),mp(e)}else ii[e]!=null&&(ii[e].parentLocale!=null?(ii[e]=ii[e].parentLocale,e===mp()&&mp(e)):ii[e]!=null&&delete ii[e]);return ii[e]}function qf(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return vS;if(!Zu(e)){if(t=P$(e),t)return t;e=[e]}return zgt(e)}function Wgt(){return BL(ii)}function HU(e){var t,n=e._a;return n&&Yt(e).overflow===-2&&(t=n[Qd]<0||n[Qd]>11?Qd:n[Tc]<1||n[Tc]>LU(n[To],n[Qd])?Tc:n[xa]<0||n[xa]>24||n[xa]===24&&(n[Mu]!==0||n[ef]!==0||n[Km]!==0)?xa:n[Mu]<0||n[Mu]>59?Mu:n[ef]<0||n[ef]>59?ef:n[Km]<0||n[Km]>999?Km:-1,Yt(e)._overflowDayOfYear&&(t<To||t>Tc)&&(t=Tc),Yt(e)._overflowWeeks&&t===-1&&(t=Kmt),Yt(e)._overflowWeekday&&t===-1&&(t=Zmt),Yt(e).overflow=t),e}var Ggt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ygt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,qgt=/Z|[+-]\d\d(?::?\d\d)?/,PE=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],OP=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Kgt=/^\/?Date\((-?\d+)/i,Zgt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Xgt={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function x2e(e){var t,n,r=e._i,i=Ggt.exec(r)||Ygt.exec(r),a,o,s,l,c=PE.length,d=OP.length;if(i){for(Yt(e).iso=!0,t=0,n=c;t<n;t++)if(PE[t][1].exec(i[1])){o=PE[t][0],a=PE[t][2]!==!1;break}if(o==null){e._isValid=!1;return}if(i[3]){for(t=0,n=d;t<n;t++)if(OP[t][1].exec(i[3])){s=(i[2]||" ")+OP[t][0];break}if(s==null){e._isValid=!1;return}}if(!a&&s!=null){e._isValid=!1;return}if(i[4])if(qgt.exec(i[4]))l="Z";else{e._isValid=!1;return}e._f=o+(s||"")+(l||""),GU(e)}else e._isValid=!1}function Jgt(e,t,n,r,i,a){var o=[Qgt(e),c2e.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return a&&o.push(parseInt(a,10)),o}function Qgt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function e0t(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function t0t(e,t,n){if(e){var r=g2e.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(r!==i)return Yt(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function n0t(e,t,n){if(e)return Xgt[e];if(t)return 0;var r=parseInt(n,10),i=r%100,a=(r-i)/100;return a*60+i}function w2e(e){var t=Zgt.exec(e0t(e._i)),n;if(t){if(n=Jgt(t[4],t[3],t[2],t[5],t[6],t[7]),!t0t(t[1],n,e))return;e._a=n,e._tzm=n0t(t[8],t[9],t[10]),e._d=mS.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Yt(e).rfc2822=!0}else e._isValid=!1}function r0t(e){var t=Kgt.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(x2e(e),e._isValid===!1)delete e._isValid;else return;if(w2e(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:qe.createFromInputFallback(e)}qe.createFromInputFallback=fu("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Av(e,t,n){return e??t??n}function i0t(e){var t=new Date(qe.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function WU(e){var t,n,r=[],i,a,o;if(!e._d){for(i=i0t(e),e._w&&e._a[Tc]==null&&e._a[Qd]==null&&a0t(e),e._dayOfYear!=null&&(o=Av(e._a[To],i[To]),(e._dayOfYear>hC(o)||e._dayOfYear===0)&&(Yt(e)._overflowDayOfYear=!0),n=mS(o,0,e._dayOfYear),e._a[Qd]=n.getUTCMonth(),e._a[Tc]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=i[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[xa]===24&&e._a[Mu]===0&&e._a[ef]===0&&e._a[Km]===0&&(e._nextDay=!0,e._a[xa]=0),e._d=(e._useUTC?mS:dgt).apply(null,r),a=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[xa]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==a&&(Yt(e).weekdayMismatch=!0)}}function a0t(e){var t,n,r,i,a,o,s,l,c;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(a=1,o=4,n=Av(t.GG,e._a[To],gS(Xr(),1,4).year),r=Av(t.W,1),i=Av(t.E,1),(i<1||i>7)&&(l=!0)):(a=e._locale._week.dow,o=e._locale._week.doy,c=gS(Xr(),a,o),n=Av(t.gg,e._a[To],c.year),r=Av(t.w,c.week),t.d!=null?(i=t.d,(i<0||i>6)&&(l=!0)):t.e!=null?(i=t.e+a,(t.e<0||t.e>6)&&(l=!0)):i=a),r<1||r>cf(n,a,o)?Yt(e)._overflowWeeks=!0:l!=null?Yt(e)._overflowWeekday=!0:(s=m2e(n,r,i,a,o),e._a[To]=s.year,e._dayOfYear=s.dayOfYear)}qe.ISO_8601=function(){};qe.RFC_2822=function(){};function GU(e){if(e._f===qe.ISO_8601){x2e(e);return}if(e._f===qe.RFC_2822){w2e(e);return}e._a=[],Yt(e).empty=!0;var t=""+e._i,n,r,i,a,o,s=t.length,l=0,c,d;for(i=r2e(e._f,e._locale).match(MU)||[],d=i.length,n=0;n<d;n++)a=i[n],r=(t.match(Gmt(a,e))||[])[0],r&&(o=t.substr(0,t.indexOf(r)),o.length>0&&Yt(e).unusedInput.push(o),t=t.slice(t.indexOf(r)+r.length),l+=r.length),D1[a]?(r?Yt(e).empty=!1:Yt(e).unusedTokens.push(a),qmt(a,r,e)):e._strict&&!r&&Yt(e).unusedTokens.push(a);Yt(e).charsLeftOver=s-l,t.length>0&&Yt(e).unusedInput.push(t),e._a[xa]<=12&&Yt(e).bigHour===!0&&e._a[xa]>0&&(Yt(e).bigHour=void 0),Yt(e).parsedDateParts=e._a.slice(0),Yt(e).meridiem=e._meridiem,e._a[xa]=o0t(e._locale,e._a[xa],e._meridiem),c=Yt(e).era,c!==null&&(e._a[To]=e._locale.erasConvertYear(c,e._a[To])),WU(e),HU(e)}function o0t(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function s0t(e){var t,n,r,i,a,o,s=!1,l=e._f.length;if(l===0){Yt(e).invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<l;i++)a=0,o=!1,t=$U({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[i],GU(t),DU(t)&&(o=!0),a+=Yt(t).charsLeftOver,a+=Yt(t).unusedTokens.length*10,Yt(t).score=a,s?a<r&&(r=a,n=t):(r==null||a<r||o)&&(r=a,n=t,o&&(s=!0));Hh(e,n||t)}function l0t(e){if(!e._d){var t=RU(e._i),n=t.day===void 0?t.date:t.day;e._a=e2e([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),WU(e)}}function u0t(e){var t=new N2(HU(C2e(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function C2e(e){var t=e._i,n=e._f;return e._locale=e._locale||qf(e._l),t===null||n===void 0&&t===""?j$({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Xu(t)?new N2(HU(t)):(F2(t)?e._d=t:Zu(n)?s0t(e):n?GU(e):c0t(e),DU(e)||(e._d=null),e))}function c0t(e){var t=e._i;cs(t)?e._d=new Date(qe.now()):F2(t)?e._d=new Date(t.valueOf()):typeof t=="string"?r0t(e):Zu(t)?(e._a=e2e(t.slice(0),function(n){return parseInt(n,10)}),WU(e)):gg(t)?l0t(e):Ef(t)?e._d=new Date(t):qe.createFromInputFallback(e)}function S2e(e,t,n,r,i){var a={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(gg(e)&&IU(e)||Zu(e)&&e.length===0)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=i,a._l=n,a._i=e,a._f=t,a._strict=r,u0t(a)}function Xr(e,t,n,r){return S2e(e,t,n,r,!1)}var d0t=fu("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Xr.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:j$()}),f0t=fu("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Xr.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:j$()});function _2e(e,t){var n,r;if(t.length===1&&Zu(t[0])&&(t=t[0]),!t.length)return Xr();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function h0t(){var e=[].slice.call(arguments,0);return _2e("isBefore",e)}function p0t(){var e=[].slice.call(arguments,0);return _2e("isAfter",e)}var m0t=function(){return Date.now?Date.now():+new Date},Ax=["year","quarter","month","week","day","hour","minute","second","millisecond"];function g0t(e){var t,n=!1,r,i=Ax.length;for(t in e)if(zn(e,t)&&!(Mi.call(Ax,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<i;++r)if(e[Ax[r]]){if(n)return!1;parseFloat(e[Ax[r]])!==vn(e[Ax[r]])&&(n=!0)}return!0}function v0t(){return this._isValid}function y0t(){return tc(NaN)}function F$(e){var t=RU(e),n=t.year||0,r=t.quarter||0,i=t.month||0,a=t.week||t.isoWeek||0,o=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,d=t.millisecond||0;this._isValid=g0t(t),this._milliseconds=+d+c*1e3+l*6e4+s*1e3*60*60,this._days=+o+a*7,this._months=+i+r*3+n*12,this._data={},this._locale=qf(),this._bubble()}function q5(e){return e instanceof F$}function zL(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function b0t(e,t,n){var r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),a=0,o;for(o=0;o<r;o++)(n&&e[o]!==t[o]||!n&&vn(e[o])!==vn(t[o]))&&a++;return a+i}function E2e(e,t){bt(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+Xc(~~(n/60),2)+t+Xc(~~n%60,2)})}E2e("Z",":");E2e("ZZ","");rt("Z",M$);rt("ZZ",M$);hr(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=YU(M$,e)});var x0t=/([\+\-]|\d\d)/gi;function YU(e,t){var n=(t||"").match(e),r,i,a;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(x0t)||["-",0,0],a=+(i[1]*60)+vn(i[2]),a===0?0:i[0]==="+"?a:-a)}function qU(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(Xu(e)||F2(e)?e.valueOf():Xr(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),qe.updateOffset(n,!1),n):Xr(e).local()}function UL(e){return-Math.round(e._d.getTimezoneOffset())}qe.updateOffset=function(){};function w0t(e,t,n){var r=this._offset||0,i;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=YU(M$,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(i=UL(this)),this._offset=e,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==e&&(!t||this._changeInProgress?A2e(this,tc(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,qe.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:UL(this)}function C0t(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function S0t(e){return this.utcOffset(0,e)}function _0t(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(UL(this),"m")),this}function E0t(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=YU(Hmt,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function k0t(e){return this.isValid()?(e=e?Xr(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function T0t(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function A0t(){if(!cs(this._isDSTShifted))return this._isDSTShifted;var e={},t;return $U(e,this),e=C2e(e),e._a?(t=e._isUTC?sd(e._a):Xr(e._a),this._isDSTShifted=this.isValid()&&b0t(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function j0t(){return this.isValid()?!this._isUTC:!1}function I0t(){return this.isValid()?this._isUTC:!1}function k2e(){return this.isValid()?this._isUTC&&this._offset===0:!1}var D0t=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,$0t=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function tc(e,t){var n=e,r=null,i,a,o;return q5(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:Ef(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=D0t.exec(e))?(i=r[1]==="-"?-1:1,n={y:0,d:vn(r[Tc])*i,h:vn(r[xa])*i,m:vn(r[Mu])*i,s:vn(r[ef])*i,ms:vn(zL(r[Km]*1e3))*i}):(r=$0t.exec(e))?(i=r[1]==="-"?-1:1,n={y:fm(r[2],i),M:fm(r[3],i),w:fm(r[4],i),d:fm(r[5],i),h:fm(r[6],i),m:fm(r[7],i),s:fm(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=O0t(Xr(n.from),Xr(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),a=new F$(n),q5(e)&&zn(e,"_locale")&&(a._locale=e._locale),q5(e)&&zn(e,"_isValid")&&(a._isValid=e._isValid),a}tc.fn=F$.prototype;tc.invalid=y0t;function fm(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ree(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function O0t(e,t){var n;return e.isValid()&&t.isValid()?(t=qU(t,e),e.isBefore(t)?n=Ree(e,t):(n=Ree(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function T2e(e,t){return function(n,r){var i,a;return r!==null&&!isNaN(+r)&&(n2e(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=n,n=r,r=a),i=tc(n,r),A2e(this,i,e),this}}function A2e(e,t,n,r){var i=t._milliseconds,a=zL(t._days),o=zL(t._months);e.isValid()&&(r=r??!0,o&&f2e(e,pS(e,"Month")+o*n),a&&u2e(e,"Date",pS(e,"Date")+a*n),i&&e._d.setTime(e._d.valueOf()+i*n),r&&qe.updateOffset(e,a||o))}var M0t=T2e(1,"add"),R0t=T2e(-1,"subtract");function j2e(e){return typeof e=="string"||e instanceof String}function P0t(e){return Xu(e)||F2(e)||j2e(e)||Ef(e)||N0t(e)||F0t(e)||e===null||e===void 0}function F0t(e){var t=gg(e)&&!IU(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,a,o=r.length;for(i=0;i<o;i+=1)a=r[i],n=n||zn(e,a);return t&&n}function N0t(e){var t=Zu(e),n=!1;return t&&(n=e.filter(function(r){return!Ef(r)&&j2e(e)}).length===0),t&&n}function L0t(e){var t=gg(e)&&!IU(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,a;for(i=0;i<r.length;i+=1)a=r[i],n=n||zn(e,a);return t&&n}function B0t(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function V0t(e,t){arguments.length===1&&(arguments[0]?P0t(arguments[0])?(e=arguments[0],t=void 0):L0t(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Xr(),r=qU(n,this).startOf("day"),i=qe.calendarFormat(this,r)||"sameElse",a=t&&(ld(t[i])?t[i].call(this,n):t[i]);return this.format(a||this.localeData().calendar(i,this,Xr(n)))}function z0t(){return new N2(this)}function U0t(e,t){var n=Xu(e)?e:Xr(e);return this.isValid()&&n.isValid()?(t=hu(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function H0t(e,t){var n=Xu(e)?e:Xr(e);return this.isValid()&&n.isValid()?(t=hu(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function W0t(e,t,n,r){var i=Xu(e)?e:Xr(e),a=Xu(t)?t:Xr(t);return this.isValid()&&i.isValid()&&a.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(a,n):!this.isAfter(a,n))):!1}function G0t(e,t){var n=Xu(e)?e:Xr(e),r;return this.isValid()&&n.isValid()?(t=hu(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function Y0t(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function q0t(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function K0t(e,t,n){var r,i,a;if(!this.isValid())return NaN;if(r=qU(e,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,t=hu(t),t){case"year":a=K5(this,r)/12;break;case"month":a=K5(this,r);break;case"quarter":a=K5(this,r)/3;break;case"second":a=(this-r)/1e3;break;case"minute":a=(this-r)/6e4;break;case"hour":a=(this-r)/36e5;break;case"day":a=(this-r-i)/864e5;break;case"week":a=(this-r-i)/6048e5;break;default:a=this-r}return n?a:$l(a)}function K5(e,t){if(e.date()<t.date())return-K5(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),i,a;return t-r<0?(i=e.clone().add(n-1,"months"),a=(t-r)/(r-i)):(i=e.clone().add(n+1,"months"),a=(t-r)/(i-r)),-(n+a)||0}qe.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";qe.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Z0t(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function X0t(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?Y5(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ld(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Y5(n,"Z")):Y5(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function J0t(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,i,a;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",a=t+'[")]',this.format(n+r+i+a)}function Q0t(e){e||(e=this.isUtc()?qe.defaultFormatUtc:qe.defaultFormat);var t=Y5(this,e);return this.localeData().postformat(t)}function evt(e,t){return this.isValid()&&(Xu(e)&&e.isValid()||Xr(e).isValid())?tc({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function tvt(e){return this.from(Xr(),e)}function nvt(e,t){return this.isValid()&&(Xu(e)&&e.isValid()||Xr(e).isValid())?tc({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function rvt(e){return this.to(Xr(),e)}function I2e(e){var t;return e===void 0?this._locale._abbr:(t=qf(e),t!=null&&(this._locale=t),this)}var D2e=fu("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function $2e(){return this._locale}var ej=1e3,$1=60*ej,tj=60*$1,O2e=(365*400+97)*24*tj;function O1(e,t){return(e%t+t)%t}function M2e(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-O2e:new Date(e,t,n).valueOf()}function R2e(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-O2e:Date.UTC(e,t,n)}function ivt(e){var t,n;if(e=hu(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?R2e:M2e,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=O1(t+(this._isUTC?0:this.utcOffset()*$1),tj);break;case"minute":t=this._d.valueOf(),t-=O1(t,$1);break;case"second":t=this._d.valueOf(),t-=O1(t,ej);break}return this._d.setTime(t),qe.updateOffset(this,!0),this}function avt(e){var t,n;if(e=hu(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?R2e:M2e,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=tj-O1(t+(this._isUTC?0:this.utcOffset()*$1),tj)-1;break;case"minute":t=this._d.valueOf(),t+=$1-O1(t,$1)-1;break;case"second":t=this._d.valueOf(),t+=ej-O1(t,ej)-1;break}return this._d.setTime(t),qe.updateOffset(this,!0),this}function ovt(){return this._d.valueOf()-(this._offset||0)*6e4}function svt(){return Math.floor(this.valueOf()/1e3)}function lvt(){return new Date(this.valueOf())}function uvt(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function cvt(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function dvt(){return this.isValid()?this.toISOString():null}function fvt(){return DU(this)}function hvt(){return Hh({},Yt(this))}function pvt(){return Yt(this).overflow}function mvt(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}bt("N",0,0,"eraAbbr");bt("NN",0,0,"eraAbbr");bt("NNN",0,0,"eraAbbr");bt("NNNN",0,0,"eraName");bt("NNNNN",0,0,"eraNarrow");bt("y",["y",1],"yo","eraYear");bt("y",["yy",2],0,"eraYear");bt("y",["yyy",3],0,"eraYear");bt("y",["yyyy",4],0,"eraYear");rt("N",KU);rt("NN",KU);rt("NNN",KU);rt("NNNN",kvt);rt("NNNNN",Tvt);hr(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?Yt(n).era=i:Yt(n).invalidEra=e});rt("y",Cb);rt("yy",Cb);rt("yyy",Cb);rt("yyyy",Cb);rt("yo",Avt);hr(["y","yy","yyy","yyyy"],To);hr(["yo"],function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[To]=n._locale.eraYearOrdinalParse(e,i):t[To]=parseInt(e,10)});function gvt(e,t){var n,r,i,a=this._eras||qf("en")._eras;for(n=0,r=a.length;n<r;++n){switch(typeof a[n].since){case"string":i=qe(a[n].since).startOf("day"),a[n].since=i.valueOf();break}switch(typeof a[n].until){case"undefined":a[n].until=1/0;break;case"string":i=qe(a[n].until).startOf("day").valueOf(),a[n].until=i.valueOf();break}}return a}function vvt(e,t,n){var r,i,a=this.eras(),o,s,l;for(e=e.toUpperCase(),r=0,i=a.length;r<i;++r)if(o=a[r].name.toUpperCase(),s=a[r].abbr.toUpperCase(),l=a[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(s===e)return a[r];break;case"NNNN":if(o===e)return a[r];break;case"NNNNN":if(l===e)return a[r];break}else if([o,s,l].indexOf(e)>=0)return a[r]}function yvt(e,t){var n=e.since<=e.until?1:-1;return t===void 0?qe(e.since).year():qe(e.since).year()+(t-e.offset)*n}function bvt(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function xvt(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function wvt(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function Cvt(){var e,t,n,r,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=i[e].since<=i[e].until?1:-1,r=this.clone().startOf("day").valueOf(),i[e].since<=r&&r<=i[e].until||i[e].until<=r&&r<=i[e].since)return(this.year()-qe(i[e].since).year())*n+i[e].offset;return this.year()}function Svt(e){return zn(this,"_erasNameRegex")||ZU.call(this),e?this._erasNameRegex:this._erasRegex}function _vt(e){return zn(this,"_erasAbbrRegex")||ZU.call(this),e?this._erasAbbrRegex:this._erasRegex}function Evt(e){return zn(this,"_erasNarrowRegex")||ZU.call(this),e?this._erasNarrowRegex:this._erasRegex}function KU(e,t){return t.erasAbbrRegex(e)}function kvt(e,t){return t.erasNameRegex(e)}function Tvt(e,t){return t.erasNarrowRegex(e)}function Avt(e,t){return t._eraYearOrdinalRegex||Cb}function ZU(){var e=[],t=[],n=[],r=[],i,a,o,s,l,c=this.eras();for(i=0,a=c.length;i<a;++i)o=uf(c[i].name),s=uf(c[i].abbr),l=uf(c[i].narrow),t.push(o),e.push(s),n.push(l),r.push(o),r.push(s),r.push(l);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}bt(0,["gg",2],0,function(){return this.weekYear()%100});bt(0,["GG",2],0,function(){return this.isoWeekYear()%100});function N$(e,t){bt(0,[e,e.length],0,t)}N$("gggg","weekYear");N$("ggggg","weekYear");N$("GGGG","isoWeekYear");N$("GGGGG","isoWeekYear");rt("G",O$);rt("g",O$);rt("GG",Qr,ml);rt("gg",Qr,ml);rt("GGGG",FU,PU);rt("gggg",FU,PU);rt("GGGGG",$$,I$);rt("ggggg",$$,I$);B2(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=vn(e)});B2(["gg","GG"],function(e,t,n,r){t[r]=qe.parseTwoDigitYear(e)});function jvt(e){return P2e.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Ivt(e){return P2e.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Dvt(){return cf(this.year(),1,4)}function $vt(){return cf(this.isoWeekYear(),1,4)}function Ovt(){var e=this.localeData()._week;return cf(this.year(),e.dow,e.doy)}function Mvt(){var e=this.localeData()._week;return cf(this.weekYear(),e.dow,e.doy)}function P2e(e,t,n,r,i){var a;return e==null?gS(this,r,i).year:(a=cf(e,r,i),t>a&&(t=a),Rvt.call(this,e,t,n,r,i))}function Rvt(e,t,n,r,i){var a=m2e(e,t,n,r,i),o=mS(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}bt("Q",0,"Qo","quarter");rt("Q",i2e);hr("Q",function(e,t){t[Qd]=(vn(e)-1)*3});function Pvt(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}bt("D",["DD",2],"Do","date");rt("D",Qr,Sb);rt("DD",Qr,ml);rt("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});hr(["D","DD"],Tc);hr("Do",function(e,t){t[Tc]=vn(e.match(Qr)[0])});var F2e=_b("Date",!0);bt("DDD",["DDDD",3],"DDDo","dayOfYear");rt("DDD",D$);rt("DDDD",a2e);hr(["DDD","DDDD"],function(e,t,n){n._dayOfYear=vn(e)});function Fvt(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}bt("m",["mm",2],0,"minute");rt("m",Qr,NU);rt("mm",Qr,ml);hr(["m","mm"],Mu);var Nvt=_b("Minutes",!1);bt("s",["ss",2],0,"second");rt("s",Qr,NU);rt("ss",Qr,ml);hr(["s","ss"],ef);var Lvt=_b("Seconds",!1);bt("S",0,0,function(){return~~(this.millisecond()/100)});bt(0,["SS",2],0,function(){return~~(this.millisecond()/10)});bt(0,["SSS",3],0,"millisecond");bt(0,["SSSS",4],0,function(){return this.millisecond()*10});bt(0,["SSSSS",5],0,function(){return this.millisecond()*100});bt(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});bt(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});bt(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});bt(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});rt("S",D$,i2e);rt("SS",D$,ml);rt("SSS",D$,a2e);var Wh,N2e;for(Wh="SSSS";Wh.length<=9;Wh+="S")rt(Wh,Cb);function Bvt(e,t){t[Km]=vn(("0."+e)*1e3)}for(Wh="S";Wh.length<=9;Wh+="S")hr(Wh,Bvt);N2e=_b("Milliseconds",!1);bt("z",0,0,"zoneAbbr");bt("zz",0,0,"zoneName");function Vvt(){return this._isUTC?"UTC":""}function zvt(){return this._isUTC?"Coordinated Universal Time":""}var Re=N2.prototype;Re.add=M0t;Re.calendar=V0t;Re.clone=z0t;Re.diff=K0t;Re.endOf=avt;Re.format=Q0t;Re.from=evt;Re.fromNow=tvt;Re.to=nvt;Re.toNow=rvt;Re.get=Jmt;Re.invalidAt=pvt;Re.isAfter=U0t;Re.isBefore=H0t;Re.isBetween=W0t;Re.isSame=G0t;Re.isSameOrAfter=Y0t;Re.isSameOrBefore=q0t;Re.isValid=fvt;Re.lang=D2e;Re.locale=I2e;Re.localeData=$2e;Re.max=f0t;Re.min=d0t;Re.parsingFlags=hvt;Re.set=Qmt;Re.startOf=ivt;Re.subtract=R0t;Re.toArray=uvt;Re.toObject=cvt;Re.toDate=lvt;Re.toISOString=X0t;Re.inspect=J0t;typeof Symbol<"u"&&Symbol.for!=null&&(Re[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Re.toJSON=dvt;Re.toString=Z0t;Re.unix=svt;Re.valueOf=ovt;Re.creationData=mvt;Re.eraName=bvt;Re.eraNarrow=xvt;Re.eraAbbr=wvt;Re.eraYear=Cvt;Re.year=l2e;Re.isLeapYear=Xmt;Re.weekYear=jvt;Re.isoWeekYear=Ivt;Re.quarter=Re.quarters=Pvt;Re.month=h2e;Re.daysInMonth=lgt;Re.week=Re.weeks=ggt;Re.isoWeek=Re.isoWeeks=vgt;Re.weeksInYear=Ovt;Re.weeksInWeekYear=Mvt;Re.isoWeeksInYear=Dvt;Re.isoWeeksInISOWeekYear=$vt;Re.date=F2e;Re.day=Re.days=Igt;Re.weekday=Dgt;Re.isoWeekday=$gt;Re.dayOfYear=Fvt;Re.hour=Re.hours=Lgt;Re.minute=Re.minutes=Nvt;Re.second=Re.seconds=Lvt;Re.millisecond=Re.milliseconds=N2e;Re.utcOffset=w0t;Re.utc=S0t;Re.local=_0t;Re.parseZone=E0t;Re.hasAlignedHourOffset=k0t;Re.isDST=T0t;Re.isLocal=j0t;Re.isUtcOffset=I0t;Re.isUtc=k2e;Re.isUTC=k2e;Re.zoneAbbr=Vvt;Re.zoneName=zvt;Re.dates=fu("dates accessor is deprecated. Use date instead.",F2e);Re.months=fu("months accessor is deprecated. Use month instead",h2e);Re.years=fu("years accessor is deprecated. Use year instead",l2e);Re.zone=fu("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",C0t);Re.isDSTShifted=fu("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",A0t);function Uvt(e){return Xr(e*1e3)}function Hvt(){return Xr.apply(null,arguments).parseZone()}function L2e(e){return e}var Un=OU.prototype;Un.calendar=jmt;Un.longDateFormat=Omt;Un.invalidDate=Rmt;Un.ordinal=Nmt;Un.preparse=L2e;Un.postformat=L2e;Un.relativeTime=Bmt;Un.pastFuture=Vmt;Un.set=Tmt;Un.eras=gvt;Un.erasParse=vvt;Un.erasConvertYear=yvt;Un.erasAbbrRegex=_vt;Un.erasNameRegex=Svt;Un.erasNarrowRegex=Evt;Un.months=igt;Un.monthsShort=agt;Un.monthsParse=sgt;Un.monthsRegex=cgt;Un.monthsShortRegex=ugt;Un.week=fgt;Un.firstDayOfYear=mgt;Un.firstDayOfWeek=pgt;Un.weekdays=Egt;Un.weekdaysMin=Tgt;Un.weekdaysShort=kgt;Un.weekdaysParse=jgt;Un.weekdaysRegex=Ogt;Un.weekdaysShortRegex=Mgt;Un.weekdaysMinRegex=Rgt;Un.isPM=Fgt;Un.meridiem=Bgt;function nj(e,t,n,r){var i=qf(),a=sd().set(r,t);return i[n](a,e)}function B2e(e,t,n){if(Ef(e)&&(t=e,e=void 0),e=e||"",t!=null)return nj(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=nj(e,r,n,"month");return i}function XU(e,t,n,r){typeof e=="boolean"?(Ef(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,Ef(t)&&(n=t,t=void 0),t=t||"");var i=qf(),a=e?i._week.dow:0,o,s=[];if(n!=null)return nj(t,(n+a)%7,r,"day");for(o=0;o<7;o++)s[o]=nj(t,(o+a)%7,r,"day");return s}function Wvt(e,t){return B2e(e,t,"months")}function Gvt(e,t){return B2e(e,t,"monthsShort")}function Yvt(e,t,n){return XU(e,t,n,"weekdays")}function qvt(e,t,n){return XU(e,t,n,"weekdaysShort")}function Kvt(e,t,n){return XU(e,t,n,"weekdaysMin")}mp("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=vn(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});qe.lang=fu("moment.lang is deprecated. Use moment.locale instead.",mp);qe.langData=fu("moment.langData is deprecated. Use moment.localeData instead.",qf);var kd=Math.abs;function Zvt(){var e=this._data;return this._milliseconds=kd(this._milliseconds),this._days=kd(this._days),this._months=kd(this._months),e.milliseconds=kd(e.milliseconds),e.seconds=kd(e.seconds),e.minutes=kd(e.minutes),e.hours=kd(e.hours),e.months=kd(e.months),e.years=kd(e.years),this}function V2e(e,t,n,r){var i=tc(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Xvt(e,t){return V2e(this,e,t,1)}function Jvt(e,t){return V2e(this,e,t,-1)}function Pee(e){return e<0?Math.floor(e):Math.ceil(e)}function Qvt(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,i,a,o,s,l;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=Pee(HL(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,i=$l(e/1e3),r.seconds=i%60,a=$l(i/60),r.minutes=a%60,o=$l(a/60),r.hours=o%24,t+=$l(o/24),l=$l(z2e(t)),n+=l,t-=Pee(HL(l)),s=$l(n/12),n%=12,r.days=t,r.months=n,r.years=s,this}function z2e(e){return e*4800/146097}function HL(e){return e*146097/4800}function e1t(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=hu(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+z2e(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(HL(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function Kf(e){return function(){return this.as(e)}}var U2e=Kf("ms"),t1t=Kf("s"),n1t=Kf("m"),r1t=Kf("h"),i1t=Kf("d"),a1t=Kf("w"),o1t=Kf("M"),s1t=Kf("Q"),l1t=Kf("y"),u1t=U2e;function c1t(){return tc(this)}function d1t(e){return e=hu(e),this.isValid()?this[e+"s"]():NaN}function j0(e){return function(){return this.isValid()?this._data[e]:NaN}}var f1t=j0("milliseconds"),h1t=j0("seconds"),p1t=j0("minutes"),m1t=j0("hours"),g1t=j0("days"),v1t=j0("months"),y1t=j0("years");function b1t(){return $l(this.days()/7)}var Nd=Math.round,o1={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function x1t(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function w1t(e,t,n,r){var i=tc(e).abs(),a=Nd(i.as("s")),o=Nd(i.as("m")),s=Nd(i.as("h")),l=Nd(i.as("d")),c=Nd(i.as("M")),d=Nd(i.as("w")),h=Nd(i.as("y")),p=a<=n.ss&&["s",a]||a<n.s&&["ss",a]||o<=1&&["m"]||o<n.m&&["mm",o]||s<=1&&["h"]||s<n.h&&["hh",s]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(p=p||d<=1&&["w"]||d<n.w&&["ww",d]),p=p||c<=1&&["M"]||c<n.M&&["MM",c]||h<=1&&["y"]||["yy",h],p[2]=t,p[3]=+e>0,p[4]=r,x1t.apply(null,p)}function C1t(e){return e===void 0?Nd:typeof e=="function"?(Nd=e,!0):!1}function S1t(e,t){return o1[e]===void 0?!1:t===void 0?o1[e]:(o1[e]=t,e==="s"&&(o1.ss=t-1),!0)}function _1t(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=o1,i,a;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},o1,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),i=this.localeData(),a=w1t(this,!n,r,i),n&&(a=i.pastFuture(+this,a)),i.postformat(a)}var MP=Math.abs;function cv(e){return(e>0)-(e<0)||+e}function L$(){if(!this.isValid())return this.localeData().invalidDate();var e=MP(this._milliseconds)/1e3,t=MP(this._days),n=MP(this._months),r,i,a,o,s=this.asSeconds(),l,c,d,h;return s?(r=$l(e/60),i=$l(r/60),e%=60,r%=60,a=$l(n/12),n%=12,o=e?e.toFixed(3).replace(/\.?0+$/,""):"",l=s<0?"-":"",c=cv(this._months)!==cv(s)?"-":"",d=cv(this._days)!==cv(s)?"-":"",h=cv(this._milliseconds)!==cv(s)?"-":"",l+"P"+(a?c+a+"Y":"")+(n?c+n+"M":"")+(t?d+t+"D":"")+(i||r||e?"T":"")+(i?h+i+"H":"")+(r?h+r+"M":"")+(e?h+o+"S":"")):"P0D"}var In=F$.prototype;In.isValid=v0t;In.abs=Zvt;In.add=Xvt;In.subtract=Jvt;In.as=e1t;In.asMilliseconds=U2e;In.asSeconds=t1t;In.asMinutes=n1t;In.asHours=r1t;In.asDays=i1t;In.asWeeks=a1t;In.asMonths=o1t;In.asQuarters=s1t;In.asYears=l1t;In.valueOf=u1t;In._bubble=Qvt;In.clone=c1t;In.get=d1t;In.milliseconds=f1t;In.seconds=h1t;In.minutes=p1t;In.hours=m1t;In.days=g1t;In.weeks=b1t;In.months=v1t;In.years=y1t;In.humanize=_1t;In.toISOString=L$;In.toString=L$;In.toJSON=L$;In.locale=I2e;In.localeData=$2e;In.toIsoString=fu("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",L$);In.lang=D2e;bt("X",0,0,"unix");bt("x",0,0,"valueOf");rt("x",O$);rt("X",Wmt);hr("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});hr("x",function(e,t,n){n._d=new Date(vn(e))});//! moment.js
qe.version="2.30.1";Emt(Xr);qe.fn=Re;qe.min=h0t;qe.max=p0t;qe.now=m0t;qe.utc=sd;qe.unix=Uvt;qe.months=Wvt;qe.isDate=F2;qe.locale=mp;qe.invalid=j$;qe.duration=tc;qe.isMoment=Xu;qe.weekdays=Yvt;qe.parseZone=Hvt;qe.localeData=qf;qe.isDuration=q5;qe.monthsShort=Gvt;qe.weekdaysMin=Kvt;qe.defineLocale=UU;qe.updateLocale=Hgt;qe.locales=Wgt;qe.weekdaysShort=qvt;qe.normalizeUnits=hu;qe.relativeTimeRounding=C1t;qe.relativeTimeThreshold=S1t;qe.calendarFormat=B0t;qe.prototype=Re;qe.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const Xp="YYYY-MM-DD",JU="HH:mm";function Eb(e,t,n=!1){return n?qe.utc(e).format(t):qe(e).format(t)}function B$(e,t){const n=qe(e,t,!0);return n.isValid()?{isValid:!0,date:n.toDate()}:{isValid:!1,error:`Invalid date. Must be on the format "${t}"`}}function E1t(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var H2e=E1t;function k1t(e){return e!==e}var T1t=k1t;function A1t(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var j1t=A1t,I1t=H2e,D1t=T1t,$1t=j1t;function O1t(e,t,n){return t===t?$1t(e,t,n):I1t(e,D1t,n)}var QU=O1t,M1t=QU;function R1t(e,t){var n=e==null?0:e.length;return!!n&&M1t(e,t,0)>-1}var eH=R1t;function P1t(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var tH=P1t;function F1t(){}var nH=F1t;const W2e=Pe(nH);var RP=ywe,N1t=nH,L1t=Kz,B1t=1/0,V1t=RP&&1/L1t(new RP([,-0]))[1]==B1t?function(e){return new RP(e)}:N1t,z1t=V1t,U1t=p$,H1t=eH,W1t=tH,G1t=m$,Y1t=z1t,q1t=Kz,K1t=200;function Z1t(e,t,n){var r=-1,i=H1t,a=e.length,o=!0,s=[],l=s;if(n)o=!1,i=W1t;else if(a>=K1t){var c=t?null:Y1t(e);if(c)return q1t(c);o=!1,i=G1t,l=new U1t}else l=t?[]:s;e:for(;++r<a;){var d=e[r],h=t?t(d):d;if(d=n||d!==0?d:0,o&&h===h){for(var p=l.length;p--;)if(l[p]===h)continue e;t&&l.push(h),s.push(d)}else i(l,h,n)||(l!==s&&l.push(h),s.push(d))}return s}var V$=Z1t,X1t=Kp,J1t=V$;function Q1t(e,t){return e&&e.length?J1t(e,X1t(t)):[]}var eyt=Q1t;const Tp=Pe(eyt);function tyt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,yS(e,t)}function WL(e){return WL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},WL(e)}function yS(e,t){return yS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yS(e,t)}function nyt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Z5(e,t,n){return nyt()?Z5=Reflect.construct.bind():Z5=function(i,a,o){var s=[null];s.push.apply(s,a);var l=Function.bind.apply(i,s),c=new l;return o&&yS(c,o.prototype),c},Z5.apply(null,arguments)}function ryt(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function GL(e){var t=typeof Map=="function"?new Map:void 0;return GL=function(r){if(r===null||!ryt(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,i)}function i(){return Z5(r,arguments,WL(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),yS(i,r)},GL(e)}var FE=Object.freeze({left:0,top:0,bottom:0,right:0}),NE=Object.freeze({x:.5,y:.5,height:1,width:1}),iyt=function(t){var n=t.top,r=t.bottom,i=t.left,a=t.right,o=FE.top,s=FE.bottom,l=FE.left,c=FE.right;return n===o&&r===s&&i===l&&a===c},ayt=function(t){var n=t.x,r=t.y,i=t.width,a=t.height,o=NE.x,s=NE.y,l=NE.width,c=NE.height;return n===o&&r===s&&i===l&&a===c},rH=function(e){tyt(t,e);function t(n,r){var i;return r===void 0&&(r="Failed to resolve asset ID from source"),i=e.call(this,r)||this,i.unresolvable=!0,i.input=n,i}return t}(GL(Error));function oyt(e){var t=e;return!!(t.unresolvable&&"input"in t)}function syt(e){return function(){try{return e.apply(void 0,arguments)}catch(t){if(oyt(t))return;throw t}}}var Fh="https://cdn.sanity.io",lyt=/^([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+\.[a-z0-9]+$/,uyt=/^file-([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-[a-z0-9]+$/,cyt=/^([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})-\d+x\d+\.[a-z0-9]+$/,dyt=/^image-([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-\d+x\d+-[a-z0-9]+$/,G2e=/^(images|files)\/([a-z0-9]+)\/([a-z0-9][-\w]*)\//,Y2e=/^(?:image-(?:[a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-\d+x\d+-[a-z0-9]+|file-(?:[a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-[a-z0-9]+)$/;function fyt(e){return V2(e)&&typeof e._ref=="string"}function hyt(e){return V2(e)&&typeof e._id=="string"}function pyt(e){return V2(e)&&typeof e.path=="string"}function myt(e){return V2(e)&&typeof e.url=="string"}function gyt(e){return dyt.test(e)}function vyt(e){return uyt.test(e)}function YL(e){var t=e;return V2(t)&&t.asset&&typeof t.asset=="object"}function V2(e){return e!==null&&!Array.isArray(e)&&typeof e=="object"}function yyt(e){if(G2e.test(e))return e;if(!e.startsWith(Fh+"/"))throw new rH('Failed to resolve path from URL "'+e+'"');var t=e.indexOf("?"),n=t===-1?void 0:t;return e.slice(Fh.length+1,n)}var byt="image-027401f31c3ac1e6d78c5d539ccd1beff72b9b11-2000x3000-jpg";function xyt(e){var t=e.split("-"),n=t[1],r=t[2],i=t[3],a=(r||"").split("x").map(Number),o=a[0],s=a[1];if(!n||!r||!i||!(o>0)||!(s>0))throw new Error("Malformed asset ID '"+e+`'. Expected an id like "`+byt+'".');return{type:"image",assetId:n,width:o,height:s,extension:i}}function wyt(e){var t=q2e(e),n=xyt(t),r=n.width,i=n.height,a=r/i;return{width:r,height:i,aspectRatio:a}}function q2e(e){var t=YL(e)?e.asset:e,n="";typeof t=="string"?n=Cyt(t):fyt(t)?n=t._ref:hyt(t)?n=t._id:pyt(t)?n=s1(Fh+"/"+t.path):myt(t)&&(n=s1(t.url));var r=n&&Y2e.test(n);if(!r)throw new rH(e);return n}var K2e=syt(q2e);function Cyt(e){if(Y2e.test(e))return e;if(e.indexOf(Fh+"/images")===0||e.indexOf(Fh+"/files")===0)return s1(e);if(G2e.test(e))return s1(Fh+"/"+e);if(_yt(e))return s1(Fh+"/files/a/b/"+e);if(Syt(e))return s1(Fh+"/images/a/b/"+e);throw new rH(e)}function s1(e){var t=yyt(e),n=t.split("/"),r=n[0],i=n[3],a=r.replace(/s$/,"");return a+"-"+i.replace(/\./g,"-")}function Syt(e){return cyt.test(e)}function _yt(e){return lyt.test(e)}function Fee(e){var t=K2e(e);return t?t.startsWith("file-"):!1}function kb(e){var t=K2e(e);return t?t.startsWith("image-"):!1}var Z2e={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ya,function(){function n(){return n=Object.assign||function(I){for(var A=1;A<arguments.length;A++){var $=arguments[A];for(var D in $)Object.prototype.hasOwnProperty.call($,D)&&(I[D]=$[D])}return I},n.apply(this,arguments)}function r(I,A){if(I){if(typeof I=="string")return i(I,A);var $=Object.prototype.toString.call(I).slice(8,-1);if($==="Object"&&I.constructor&&($=I.constructor.name),$==="Map"||$==="Set")return Array.from(I);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return i(I,A)}}function i(I,A){(A==null||A>I.length)&&(A=I.length);for(var $=0,D=new Array(A);$<A;$++)D[$]=I[$];return D}function a(I,A){var $=typeof Symbol<"u"&&I[Symbol.iterator]||I["@@iterator"];if($)return($=$.call(I)).next.bind($);if(Array.isArray(I)||($=r(I))||A&&I&&typeof I.length=="number"){$&&(I=$);var D=0;return function(){return D>=I.length?{done:!0}:{done:!1,value:I[D++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function s(I){var A=I.split("-"),$=A[1],D=A[2],M=A[3];if(!$||!D||!M)throw new Error("Malformed asset _ref '"+I+`'. Expected an id like "`+o+'".');var O=D.split("x"),F=O[0],P=O[1],V=+F,H=+P,W=isFinite(V)&&isFinite(H);if(!W)throw new Error("Malformed asset _ref '"+I+`'. Expected an id like "`+o+'".');return{id:$,width:V,height:H,format:M}}var l=function(A){var $=A;return $?typeof $._ref=="string":!1},c=function(A){var $=A;return $?typeof $._id=="string":!1},d=function(A){var $=A;return $&&$.asset?typeof $.asset.url=="string":!1};function h(I){if(!I)return null;var A;if(typeof I=="string"&&p(I))A={asset:{_ref:m(I)}};else if(typeof I=="string")A={asset:{_ref:I}};else if(l(I))A={asset:I};else if(c(I))A={asset:{_ref:I._id||""}};else if(d(I))A={asset:{_ref:m(I.asset.url)}};else if(typeof I.asset=="object")A=n({},I);else return null;var $=I;return $.crop&&(A.crop=$.crop),$.hotspot&&(A.hotspot=$.hotspot),g(A)}function p(I){return/^https?:\/\//.test(""+I)}function m(I){var A=I.split("/").slice(-1);return("image-"+A[0]).replace(/\.([a-z]+)$/,"-$1")}function g(I){if(I.crop&&I.hotspot)return I;var A=n({},I);return A.crop||(A.crop={left:0,top:0,bottom:0,right:0}),A.hotspot||(A.hotspot={x:.5,y:.5,height:1,width:1}),A}var v=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"]];function b(I){var A=n({},I||{}),$=A.source;delete A.source;var D=h($);if(!D)throw new Error("Unable to resolve image URL from source ("+JSON.stringify($)+")");var M=D.asset._ref||D.asset._id||"",O=s(M),F=Math.round(D.crop.left*O.width),P=Math.round(D.crop.top*O.height),V={left:F,top:P,width:Math.round(O.width-D.crop.right*O.width-F),height:Math.round(O.height-D.crop.bottom*O.height-P)},H=D.hotspot.height*O.height/2,W=D.hotspot.width*O.width/2,G=D.hotspot.x*O.width,X=D.hotspot.y*O.height,z={left:G-W,top:X-H,right:G+W,bottom:X+H};return A.rect||A.focalPoint||A.ignoreImageParams||A.crop||(A=n({},A,x({crop:V,hotspot:z},A))),y(n({},A,{asset:O}))}function y(I){var A=(I.baseUrl||"https://cdn.sanity.io").replace(/\/+$/,""),$=I.asset.id+"-"+I.asset.width+"x"+I.asset.height+"."+I.asset.format,D=A+"/images/"+I.projectId+"/"+I.dataset+"/"+$,M=[];if(I.rect){var O=I.rect,F=O.left,P=O.top,V=O.width,H=O.height,W=F!==0||P!==0||H!==I.asset.height||V!==I.asset.width;W&&M.push("rect="+F+","+P+","+V+","+H)}I.bg&&M.push("bg="+I.bg),I.focalPoint&&(M.push("fp-x="+I.focalPoint.x),M.push("fp-y="+I.focalPoint.y));var G=[I.flipHorizontal&&"h",I.flipVertical&&"v"].filter(Boolean).join("");return G&&M.push("flip="+G),v.forEach(function(X){var z=X[0],q=X[1];typeof I[z]<"u"?M.push(q+"="+encodeURIComponent(I[z])):typeof I[q]<"u"&&M.push(q+"="+encodeURIComponent(I[q]))}),M.length===0?D:D+"?"+M.join("&")}function x(I,A){var $,D=A.width,M=A.height;if(!(D&&M))return{width:D,height:M,rect:I.crop};var O=I.crop,F=I.hotspot,P=D/M,V=O.width/O.height;if(V>P){var H=Math.round(O.height),W=Math.round(H*P),G=Math.max(0,Math.round(O.top)),X=Math.round((F.right-F.left)/2+F.left),z=Math.max(0,Math.round(X-W/2));z<O.left?z=O.left:z+W>O.left+O.width&&(z=O.left+O.width-W),$={left:z,top:G,width:W,height:H}}else{var q=O.width,Z=Math.round(q/P),K=Math.max(0,Math.round(O.left)),J=Math.round((F.bottom-F.top)/2+F.top),Q=Math.max(0,Math.round(J-Z/2));Q<O.top?Q=O.top:Q+Z>O.top+O.height&&(Q=O.top+O.height-Z),$={left:K,top:Q,width:q,height:Z}}return{width:D,height:M,rect:$}}var w=["clip","crop","fill","fillmax","max","scale","min"],C=["top","bottom","left","right","center","focalpoint","entropy"],S=["format"];function _(I){return I&&"config"in I?typeof I.config=="function":!1}function E(I){return I&&"clientConfig"in I?typeof I.clientConfig=="object":!1}function k(I){for(var A=v,$=a(A),D;!(D=$()).done;){var M=D.value,O=M[0],F=M[1];if(I===O||I===F)return O}return I}function T(I){if(_(I)){var A=I.config(),$=A.apiHost,D=A.projectId,M=A.dataset,O=$||"https://api.sanity.io";return new j(null,{baseUrl:O.replace(/^https:\/\/api\./,"https://cdn."),projectId:D,dataset:M})}var F=I;if(E(F)){var P=F.clientConfig,V=P.apiHost,H=P.projectId,W=P.dataset,G=V||"https://api.sanity.io";return new j(null,{baseUrl:G.replace(/^https:\/\/api\./,"https://cdn."),projectId:H,dataset:W})}return new j(null,I)}var j=function(){function I($,D){this.options=void 0,this.options=$?n({},$.options||{},D||{}):n({},D||{})}var A=I.prototype;return A.withOptions=function(D){var M=D.baseUrl||this.options.baseUrl,O={baseUrl:M};for(var F in D)if(D.hasOwnProperty(F)){var P=k(F);O[P]=D[F]}return new I(this,n({baseUrl:M},O))},A.image=function(D){return this.withOptions({source:D})},A.dataset=function(D){return this.withOptions({dataset:D})},A.projectId=function(D){return this.withOptions({projectId:D})},A.bg=function(D){return this.withOptions({bg:D})},A.dpr=function(D){return this.withOptions(D&&D!==1?{dpr:D}:{})},A.width=function(D){return this.withOptions({width:D})},A.height=function(D){return this.withOptions({height:D})},A.focalPoint=function(D,M){return this.withOptions({focalPoint:{x:D,y:M}})},A.maxWidth=function(D){return this.withOptions({maxWidth:D})},A.minWidth=function(D){return this.withOptions({minWidth:D})},A.maxHeight=function(D){return this.withOptions({maxHeight:D})},A.minHeight=function(D){return this.withOptions({minHeight:D})},A.size=function(D,M){return this.withOptions({width:D,height:M})},A.blur=function(D){return this.withOptions({blur:D})},A.sharpen=function(D){return this.withOptions({sharpen:D})},A.rect=function(D,M,O,F){return this.withOptions({rect:{left:D,top:M,width:O,height:F}})},A.format=function(D){return this.withOptions({format:D})},A.invert=function(D){return this.withOptions({invert:D})},A.orientation=function(D){return this.withOptions({orientation:D})},A.quality=function(D){return this.withOptions({quality:D})},A.forceDownload=function(D){return this.withOptions({download:D})},A.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},A.flipVertical=function(){return this.withOptions({flipVertical:!0})},A.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},A.fit=function(D){if(w.indexOf(D)===-1)throw new Error('Invalid fit mode "'+D+'"');return this.withOptions({fit:D})},A.crop=function(D){if(C.indexOf(D)===-1)throw new Error('Invalid crop mode "'+D+'"');return this.withOptions({crop:D})},A.saturation=function(D){return this.withOptions({saturation:D})},A.auto=function(D){if(S.indexOf(D)===-1)throw new Error('Invalid auto mode "'+D+'"');return this.withOptions({auto:D})},A.pad=function(D){return this.withOptions({pad:D})},A.url=function(){return b(this.options)},A.toString=function(){return this.url()},I}();return T})})(Z2e);var Eyt=Z2e.exports;const z2=Pe(Eyt);var kyt=fb;function Tyt(e){var t=e==null?0:e.length;return t?kyt(e,1):[]}var X2e=Tyt;const cr=Pe(X2e);var Nee=$we;function Ayt(e,t,n){t=="__proto__"&&Nee?Nee(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var z$=Ayt;function jyt(e,t,n,r){for(var i=-1,a=e==null?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}var Iyt=jyt,Dyt=Twe;function $yt(e,t,n,r){return Dyt(e,function(i,a,o){t(r,i,n(i),o)}),r}var Oyt=$yt,Myt=Iyt,Ryt=Oyt,Pyt=Kp,Fyt=Hi;function Nyt(e,t){return function(n,r){var i=Fyt(n)?Myt:Ryt,a=t?t():{};return i(n,e,Pyt(r),a)}}var iH=Nyt,Lyt=z$,Byt=iH,Vyt=Object.prototype,zyt=Vyt.hasOwnProperty,Uyt=Byt(function(e,t,n){zyt.call(e,n)?e[n].push(t):Lyt(e,n,[t])}),Hyt=Uyt;const aH=Pe(Hyt);var Wyt=jwe,Lee=Hi;function Gyt(e,t,n,r){return e==null?[]:(Lee(t)||(t=t==null?[]:[t]),n=r?void 0:n,Lee(n)||(n=n==null?[]:[n]),Wyt(e,t,n))}var Yyt=Gyt;const Tb=Pe(Yyt);var qyt=du,Kyt=0;function Zyt(e){var t=++Kyt;return qyt(e)+t}var Xyt=Zyt;const J2e=Pe(Xyt),Jyt=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),PP={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},Q2e={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:Jyt?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},oH={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var LE=1;LE<20;LE++)oH["f"+LE]=111+LE;function Ki(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);const r=e.map(a=>Qyt(a,t)),i=a=>r.some(o=>ebt(o,a));return n==null?i:i(n)}function Qyt(e,t){const n=t&&t.byKey,r={};e=e.replace("++","+add");const i=e.split("+"),{length:a}=i;for(const o in PP)r[PP[o]]=!1;for(let o of i){const s=o.endsWith("?")&&o.length>1;s&&(o=o.slice(0,-1));const l=e_e(o),c=PP[l];if(o.length>1&&!c&&!Q2e[o]&&!oH[l])throw new TypeError(`Unknown modifier: "${o}"`);(a===1||!c)&&(n?r.key=l:r.which=tbt(o)),c&&(r[c]=s?null:!0)}return r}function ebt(e,t){for(const n in e){const r=e[n];let i;if(r!=null&&(n==="key"&&t.key!=null?i=t.key.toLowerCase():n==="which"?i=r===91&&t.which===93?91:t.which:i=t[n],!(i==null&&r===!1)&&i!==r))return!1}return!0}function tbt(e){return e=e_e(e),oH[e]||e.toUpperCase().charCodeAt(0)}function e_e(e){return e=e.toLowerCase(),e=Q2e[e]||e,e}var nbt=p$,rbt=eH,ibt=tH,abt=id,obt=yb,sbt=m$,lbt=200;function ubt(e,t,n,r){var i=-1,a=rbt,o=!0,s=e.length,l=[],c=t.length;if(!s)return l;n&&(t=abt(t,obt(n))),r?(a=ibt,o=!1):t.length>=lbt&&(a=sbt,o=!1,t=new nbt(t));e:for(;++i<s;){var d=e[i],h=n==null?d:n(d);if(d=r||d!==0?d:0,o&&h===h){for(var p=c;p--;)if(t[p]===h)continue e;l.push(d)}else a(t,h,r)||l.push(d)}return l}var t_e=ubt,cbt=qp,dbt=ul;function fbt(e){return dbt(e)&&cbt(e)}var U$=fbt,hbt=t_e,pbt=fb,mbt=T0,Bee=U$,gbt=mbt(function(e,t){return Bee(e)?hbt(e,pbt(t,1,Bee,!0)):[]}),vbt=gbt;const Ug=Pe(vbt);var ybt=lu,bbt=ybt.isFinite;function xbt(e){return typeof e=="number"&&bbt(e)}var wbt=xbt;const n_e=Pe(wbt),Hg=5,FP={},r_e=e=>(FP[e]||(FP[e]=Symbol(`__cachedStringFields_${e}`)),FP[e]),Cbt=e=>e.type&&e.type.name==="reference",Sbt=["style","list"],sH=e=>e.name==="block"||e.type&&sH(e.type),_bt=e=>e.jsonType==="array"&&Array.isArray(e.of)&&e.of.some(sH);function H$(e,t,n,r=[],i){if(i<0)return n;const a=t(n,e,r);return e.jsonType==="array"&&Array.isArray(e.of)?Ebt(e,t,a,r,i):e.jsonType==="object"&&Array.isArray(e.fields)&&!Cbt(e)?kbt(e,t,a,r,i):a}function Ebt(e,t,n,r,i){return e.of.reduce((a,o)=>H$(o,t,a,r,i-1),n)}function kbt(e,t,n,r,i){const a=sH(e);return e.fields.reduce((o,s)=>{if(a&&Sbt.includes(s.name))return o;const l=[s.name].concat(s.type.jsonType==="array"?[[]]:[]);return H$(s.type,t,o,r.concat(l),i-1)},n)}const i_e=[{weight:1,path:["_id"]},{weight:1,path:["_type"]}],Vee={title:10,subtitle:5,description:1.5};function a_e(e,t){var n;const r=(n=e==null?void 0:e.preview)==null?void 0:n.select;if(!r)return[];const i=[];for(const a of Object.keys(r)){if(!(a in Vee))continue;const o=r[a].split(".");t>-1&&o.length-1>t||i.push({weight:Vee[a],path:o})}return i}function Tbt(e,t){const n=r_e(t);return e[n]||(e[n]=Tp([...i_e,...a_e(e,t),...jbt(e,t).map(r=>({weight:1,path:r})),...Ibt(e,t).map(r=>({weight:1,path:r,mapWith:"pt::text"}))],r=>r.path.join("."))),e[n]}function Abt(e,t){const n=r_e(t);return e[n]||(e[n]=Tp([...i_e,...a_e(e,t)],r=>r.path.join("."))),e[n]}function jbt(e,t){return H$(e,(n,r,i)=>r.jsonType==="string"?[...n,i]:n,[],[],t)}function Ibt(e,t){return H$(e,(n,r,i)=>_bt(r)?[...n,i]:n,[],[],t)}function Dbt(e,t){return Abt(e,o_e(t))}function $bt(e,t){return Tbt(e,o_e(t))}function o_e(e){return!n_e(e)||e<1||e>Hg?Hg-1:e-1}var qL={exports:{}},NP,zee;function Obt(){if(zee)return NP;zee=1;var e=1e3,t=e*60,n=t*60,r=n*24,i=r*7,a=r*365.25;NP=function(d,h){h=h||{};var p=typeof d;if(p==="string"&&d.length>0)return o(d);if(p==="number"&&isFinite(d))return h.long?l(d):s(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function o(d){if(d=String(d),!(d.length>100)){var h=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(h){var p=parseFloat(h[1]),m=(h[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return p*a;case"weeks":case"week":case"w":return p*i;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function s(d){var h=Math.abs(d);return h>=r?Math.round(d/r)+"d":h>=n?Math.round(d/n)+"h":h>=t?Math.round(d/t)+"m":h>=e?Math.round(d/e)+"s":d+"ms"}function l(d){var h=Math.abs(d);return h>=r?c(d,h,r,"day"):h>=n?c(d,h,n,"hour"):h>=t?c(d,h,t,"minute"):h>=e?c(d,h,e,"second"):d+" ms"}function c(d,h,p,m){var g=h>=p*1.5;return Math.round(d/p)+" "+m+(g?"s":"")}return NP}function Mbt(e){n.debug=n,n.default=n,n.coerce=l,n.disable=a,n.enable=i,n.enabled=o,n.humanize=Obt(),n.destroy=c,Object.keys(e).forEach(d=>{n[d]=e[d]}),n.names=[],n.skips=[],n.formatters={};function t(d){let h=0;for(let p=0;p<d.length;p++)h=(h<<5)-h+d.charCodeAt(p),h|=0;return n.colors[Math.abs(h)%n.colors.length]}n.selectColor=t;function n(d){let h,p=null,m,g;function v(...b){if(!v.enabled)return;const y=v,x=Number(new Date),w=x-(h||x);y.diff=w,y.prev=h,y.curr=x,h=x,b[0]=n.coerce(b[0]),typeof b[0]!="string"&&b.unshift("%O");let C=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,(_,E)=>{if(_==="%%")return"%";C++;const k=n.formatters[E];if(typeof k=="function"){const T=b[C];_=k.call(y,T),b.splice(C,1),C--}return _}),n.formatArgs.call(y,b),(y.log||n.log).apply(y,b)}return v.namespace=d,v.useColors=n.useColors(),v.color=n.selectColor(d),v.extend=r,v.destroy=n.destroy,Object.defineProperty(v,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(m!==n.namespaces&&(m=n.namespaces,g=n.enabled(d)),g),set:b=>{p=b}}),typeof n.init=="function"&&n.init(v),v}function r(d,h){const p=n(this.namespace+(typeof h>"u"?":":h)+d);return p.log=this.log,p}function i(d){n.save(d),n.namespaces=d,n.names=[],n.skips=[];let h;const p=(typeof d=="string"?d:"").split(/[\s,]+/),m=p.length;for(h=0;h<m;h++)p[h]&&(d=p[h].replace(/\*/g,".*?"),d[0]==="-"?n.skips.push(new RegExp("^"+d.slice(1)+"$")):n.names.push(new RegExp("^"+d+"$")))}function a(){const d=[...n.names.map(s),...n.skips.map(s).map(h=>"-"+h)].join(",");return n.enable(""),d}function o(d){if(d[d.length-1]==="*")return!0;let h,p;for(h=0,p=n.skips.length;h<p;h++)if(n.skips[h].test(d))return!1;for(h=0,p=n.names.length;h<p;h++)if(n.names[h].test(d))return!0;return!1}function s(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function l(d){return d instanceof Error?d.stack||d.message:d}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var Rbt=Mbt;(function(e,t){t.formatArgs=r,t.save=i,t.load=a,t.useColors=n,t.storage=o(),t.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let l;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(l=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(l[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const c="color: "+this.color;l.splice(1,0,c,"color: inherit");let d=0,h=0;l[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(d++,p==="%c"&&(h=d))}),l.splice(h,0,c)}t.log=console.debug||console.log||(()=>{});function i(l){try{l?t.storage.setItem("debug",l):t.storage.removeItem("debug")}catch{}}function a(){let l;try{l=t.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l={}.DEBUG),l}function o(){try{return localStorage}catch{}}e.exports=Rbt(t);const{formatters:s}=e.exports;s.j=function(l){try{return JSON.stringify(l)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}})(qL,qL.exports);var Pbt=qL.exports;const hi=Pe(Pbt);var Fbt=Object.defineProperty,Nbt=(e,t,n)=>t in e?Fbt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Uee=(e,t,n)=>Nbt(e,typeof t!="symbol"?t+"":t,n);function Lbt(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Bbt(e){const t=[];for(const n of e.split("."))n==="*"?t.push("[^.]+"):n==="**"?t.push(".*"):t.push(Lbt(n));return new RegExp(`^${t.join(".")}$`)}let s_e=class{constructor(t){Uee(this,"pattern"),Uee(this,"patternRe"),this.pattern=t,this.patternRe=Bbt(t)}matches(t){return this.patternRe.test(t)}toJSON(){return this.pattern}};var Vbt=Object.defineProperty,zbt=(e,t,n)=>t in e?Vbt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jx=(e,t,n)=>zbt(e,typeof t!="symbol"?t+"":t,n);class Gh{constructor(t){jx(this,"type","stream"),jx(this,"generator"),jx(this,"ticker"),jx(this,"isDone"),jx(this,"data"),this.generator=t,this.ticker=null,this.isDone=!1,this.data=[]}isArray(){return!0}async get(){const t=[];for await(const n of this)t.push(await n.get());return t}async*[Symbol.asyncIterator](){let t=0;for(;;){for(;t<this.data.length;t++)yield this.data[t];if(this.isDone)return;await this._nextTick()}}_nextTick(){if(this.ticker)return this.ticker;let t;const n=()=>{this.ticker=new Promise(a=>{t=a})},r=()=>{t(),n()},i=async()=>{for await(const a of this.generator())this.data.push(a),r();this.isDone=!0,r()};return n(),i(),this.ticker}}const Ubt=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|([-+]\d{2}:\d{2}))$/;function Hbt(e){return Ubt.test(e)?new Date(e):null}function Wbt(e){const t=hm(e.getUTCFullYear(),4),n=hm(e.getUTCMonth()+1,2),r=hm(e.getUTCDate(),2),i=hm(e.getUTCHours(),2),a=hm(e.getUTCMinutes(),2),o=hm(e.getUTCSeconds(),2);let s="";const l=e.getMilliseconds();return l!=0&&(s=`.${hm(l,3)}`),`${t}-${n}-${r}T${i}:${a}:${o}${s}Z`}function hm(e,t){let n=e.toString();for(;n.length<t;)n=`0${n}`;return n}var Gbt=Object.defineProperty,Ybt=(e,t,n)=>t in e?Gbt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,KL=(e,t,n)=>Ybt(e,typeof t!="symbol"?t+"":t,n);class Zf{constructor(t,n){KL(this,"data"),KL(this,"type"),this.data=t,this.type=n}isArray(){return this.type==="array"}async get(){return this.data}[Symbol.asyncIterator](){if(Array.isArray(this.data))return function*(t){for(const n of t)yield Dr(n)}(this.data);throw new Error(`Cannot iterate over: ${this.type}`)}}const He=new Zf(null,"null"),Va=new Zf(!0,"boolean"),Ta=new Zf(!1,"boolean");class py{constructor(t){KL(this,"date"),this.date=t}static parseToValue(t){const n=Hbt(t);return n?new Zf(new py(n),"datetime"):He}equals(t){return this.date.getTime()==t.date.getTime()}add(t){const n=new Date(this.date.getTime());return n.setTime(n.getTime()+t*1e3),new py(n)}difference(t){return(this.date.getTime()-t.date.getTime())/1e3}compareTo(t){return this.date.getTime()-t.date.getTime()}toString(){return Wbt(this.date)}toJSON(){return this.toString()}}function Yl(e){return Number.isFinite(e)?new Zf(e,"number"):He}function ql(e){return new Zf(e,"string")}function ZL(e){return new Zf(e,"datetime")}function qbt(e){return new Zf(e,"path")}function Kbt(e){return e&&typeof e.next=="function"}function Dr(e){return Kbt(e)?new Gh(async function*(){for await(const t of e)yield Dr(t)}):e==null?He:new Zf(e,Wg(e))}function Wg(e){return e===null||typeof e>"u"?"null":Array.isArray(e)?"array":e instanceof s_e?"path":e instanceof py?"datetime":typeof e}function LP(e,t){return e.type==="string"&&t.type==="string"||e.type==="boolean"&&t.type==="boolean"||e.type==="null"&&t.type==="null"||e.type==="number"&&t.type==="number"?e.data===t.data:e.type==="datetime"&&t.type==="datetime"?e.data.equals(t.data):!1}const Zbt=/([^!@#$%^&*(),\\/?";:{}|[\]+<>\s-])+/g,Xbt=/([^!@#$%^&(),\\/?";:{}|[\]+<>\s-])+/g,l_e=/(\b\.+|\.+\b)/g;function Jbt(e,t){return e.length===0||t.length===0?!1:t.every(n=>n(e))}function u_e(e){return e.replace(l_e,"").match(Zbt)||[]}function Qbt(e){return c_e(e).map(t=>n=>n.some(r=>t.test(r)))}function c_e(e){return(e.replace(l_e,"").match(Xbt)||[]).map(t=>new RegExp(`^${t.slice(0,1024).replace(/\*/g,".*")}$`,"i"))}async function rj(e,t){if(e.type==="string")return t(e.data),!0;if(e.isArray()){let n=!0;for await(const r of e)r.type==="string"?t(r.data):n=!1;return n}return!1}const Hee={datetime:1,number:2,string:3,boolean:4};function Zm(e,t){const n=Wg(e),r=Wg(t);if(n!==r)return null;switch(n){case"number":case"boolean":return e-t;case"string":return e<t?-1:e>t?1:0;case"datetime":return e.compareTo(t);default:return null}}function ext(e,t){const n=Wg(e),r=Wg(t),i=Hee[n]||100,a=Hee[r]||100;if(i!==a)return i-a;let o=Zm(e,t);return o===null&&(o=0),o}const txt={"==":function(e,t){return LP(e,t)?Va:Ta},"!=":function(e,t){return LP(e,t)?Ta:Va},">":function(e,t){if(e.type==="stream"||t.type==="stream")return He;const n=Zm(e.data,t.data);return n===null?He:n>0?Va:Ta},">=":function(e,t){if(e.type==="stream"||t.type==="stream")return He;const n=Zm(e.data,t.data);return n===null?He:n>=0?Va:Ta},"<":function(e,t){if(e.type==="stream"||t.type==="stream")return He;const n=Zm(e.data,t.data);return n===null?He:n<0?Va:Ta},"<=":function(e,t){if(e.type==="stream"||t.type==="stream")return He;const n=Zm(e.data,t.data);return n===null?He:n<=0?Va:Ta},in:async function(e,t){if(t.type==="path")return e.type!=="string"?He:t.data.matches(e.data)?Va:Ta;if(t.isArray()){for await(const n of t)if(LP(e,n))return Va;return Ta}return He},match:async function(e,t){let n=[],r=[];return await rj(e,i=>{n=n.concat(u_e(i))}),await rj(t,i=>{r=r.concat(Qbt(i))})&&Jbt(n,r)?Va:Ta},"+":function(e,t){return e.type==="datetime"&&t.type==="number"?ZL(e.data.add(t.data)):e.type==="number"&&t.type==="number"?Yl(e.data+t.data):e.type==="string"&&t.type==="string"?ql(e.data+t.data):e.type==="object"&&t.type==="object"?Dr({...e.data,...t.data}):e.type==="array"&&t.type==="array"?Dr(e.data.concat(t.data)):e.isArray()&&t.isArray()?new Gh(async function*(){for await(const n of e)yield n;for await(const n of t)yield n}):He},"-":function(e,t){return e.type==="datetime"&&t.type==="number"?ZL(e.data.add(-t.data)):e.type==="datetime"&&t.type==="datetime"?Yl(e.data.difference(t.data)):e.type==="number"&&t.type==="number"?Yl(e.data-t.data):He},"*":BE((e,t)=>e*t),"/":BE((e,t)=>e/t),"%":BE((e,t)=>e%t),"**":BE((e,t)=>Math.pow(e,t))};function BE(e){return function(t,n){if(t.type==="number"&&n.type==="number"){const r=e(t.data,n.data);return Yl(r)}return He}}var nxt=Object.defineProperty,rxt=(e,t,n)=>t in e?nxt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dv=(e,t,n)=>rxt(e,typeof t!="symbol"?t+"":t,n);let d_e=class XL{constructor(t,n,r,i,a){dv(this,"params"),dv(this,"source"),dv(this,"value"),dv(this,"parent"),dv(this,"context"),dv(this,"isHidden",!1),this.params=t,this.source=n,this.value=r,this.context=i,this.parent=a}createNested(t){return this.isHidden?new XL(this.params,this.source,t,this.context,this.parent):new XL(this.params,this.source,t,this.context,this)}createHidden(t){const n=this.createNested(t);return n.isHidden=!0,n}};function lH(e,t,n=lH){const r=ixt[e.type];return r(e,t,n)}function Wee(e,t){return"then"in e?e.then(t):t(e)}const ixt={This(e,t){return t.value},Selector(){throw new Error("Selectors can not be evaluated")},Everything(e,t){return t.source},Parameter({name:e},t){return Dr(t.params[e])},Context({key:e},t){if(e==="before"||e==="after")return t.context[e]||He;throw new Error(`unknown context key: ${e}`)},Parent({n:e},t){let n=t;for(let r=0;r<e;r++){if(!n.parent)return He;n=n.parent}return n.value},OpCall({op:e,left:t,right:n},r,i){const a=txt[e];if(!a)throw new Error(`Unknown operator: ${e}`);const o=i(t,r),s=i(n,r);return"then"in o||"then"in s?(async()=>a(await o,await s))():a(o,s)},async Select({alternatives:e,fallback:t},n,r){for(const i of e){const a=await r(i.condition,n);if(a.type==="boolean"&&a.data===!0)return r(i.value,n)}return t?r(t,n):He},async InRange({base:e,left:t,right:n,isInclusive:r},i,a){const o=await a(e,i),s=await a(t,i),l=await a(n,i),c=Zm(await o.get(),await s.get());if(c===null)return He;const d=Zm(await o.get(),await l.get());return d===null?He:r?c>=0&&d<=0?Va:Ta:c>=0&&d<0?Va:Ta},async Filter({base:e,expr:t},n,r){const i=await r(e,n);return i.isArray()?new Gh(async function*(){for await(const a of i){const o=n.createNested(a),s=await r(t,o);s.type==="boolean"&&s.data===!0&&(yield a)}}):He},async Projection({base:e,expr:t},n,r){const i=await r(e,n);if(i.type!=="object")return He;const a=n.createNested(i);return r(t,a)},FuncCall({func:e,args:t},n,r){return e(t,n,r)},async PipeFuncCall({func:e,base:t,args:n},r,i){const a=await i(t,r);return e(a,n,r,i)},async AccessAttribute({base:e,name:t},n,r){let i=n.value;return e&&(i=await r(e,n)),i.type==="object"&&i.data.hasOwnProperty(t)?Dr(i.data[t]):He},async AccessElement({base:e,index:t},n,r){const i=await r(e,n);if(!i.isArray())return He;const a=await i.get(),o=t<0?t+a.length:t;return Dr(a[o])},async Slice({base:e,left:t,right:n,isInclusive:r},i,a){const o=await a(e,i);if(!o.isArray())return He;const s=await o.get();let l=t,c=n;return l<0&&(l=s.length+l),c<0&&(c=s.length+c),r&&c++,l<0&&(l=0),c<0&&(c=0),Dr(s.slice(l,c))},async Deref({base:e},t,n){const r=await n(e,t);if(!t.source.isArray()||r.type!=="object")return He;const i=r.data._ref;if(typeof i!="string")return He;if(t.context.dereference)return Dr(await t.context.dereference({_ref:i}));for await(const a of t.source)if(a.type==="object"&&i===a.data._id)return a;return He},Value({value:e}){return Dr(e)},Group({base:e},t,n){return n(e,t)},async Object({attributes:e},t,n){const r={};for(const i of e){const a=i.type;switch(i.type){case"ObjectAttributeValue":{const o=await n(i.value,t);r[i.name]=await o.get();break}case"ObjectConditionalSplat":{const o=await n(i.condition,t);if(o.type!=="boolean"||o.data===!1)continue;const s=await n(i.value,t);s.type==="object"&&Object.assign(r,s.data);break}case"ObjectSplat":{const o=await n(i.value,t);o.type==="object"&&Object.assign(r,o.data);break}default:throw new Error(`Unknown node type: ${a}`)}}return Dr(r)},Array({elements:e},t,n){return new Gh(async function*(){for(const r of e){const i=await n(r.value,t);if(r.isSplat){if(i.isArray())for await(const a of i)yield a}else yield i}})},Tuple(){throw new Error("tuples can not be evaluated")},async Or({left:e,right:t},n,r){const i=await r(e,n),a=await r(t,n);return i.type==="boolean"&&i.data===!0||a.type==="boolean"&&a.data===!0?Va:i.type!=="boolean"||a.type!=="boolean"?He:Ta},async And({left:e,right:t},n,r){const i=await r(e,n),a=await r(t,n);return i.type==="boolean"&&i.data===!1||a.type==="boolean"&&a.data===!1?Ta:i.type!=="boolean"||a.type!=="boolean"?He:Va},async Not({base:e},t,n){const r=await n(e,t);return r.type!=="boolean"?He:r.data?Ta:Va},Neg({base:e},t,n){return Wee(n(e,t),r=>r.type!=="number"?He:Yl(-r.data))},Pos({base:e},t,n){return Wee(n(e,t),r=>r.type!=="number"?He:Yl(r.data))},Asc(){return He},Desc(){return He},async ArrayCoerce({base:e},t,n){const r=await n(e,t);return r.isArray()?r:He},async Map({base:e,expr:t},n,r){const i=await r(e,n);return i.isArray()?new Gh(async function*(){for await(const a of i){const o=n.createHidden(a);yield await r(t,o)}}):He},async FlatMap({base:e,expr:t},n,r){const i=await r(e,n);return i.isArray()?new Gh(async function*(){for await(const a of i){const o=n.createHidden(a),s=await r(t,o);if(s.isArray())for await(const l of s)yield l;else yield s}}):He}};function f_e(e,t={}){const n=Dr(t.root),r=Dr(t.dataset),i={...t.params},a=new d_e(i,r,n,{timestamp:t.timestamp||new Date,identity:t.identity===void 0?"me":t.identity,sanity:t.sanity,after:t.after?Dr(t.after):null,before:t.before?Dr(t.before):null,dereference:t.dereference},null);return lH(e,a)}function Aw(e){switch(e.type){case"Group":return Aw(e.base);case"Value":case"Parameter":return!0;case"Pos":case"Neg":return Aw(e.base);case"OpCall":switch(e.op){case"+":case"-":case"*":case"/":case"%":case"**":return Aw(e.left)&&Aw(e.right);default:return!1}default:return!1}}const axt=new d_e({},He,He,{timestamp:new Date(0),identity:"me",before:null,after:null},null);function BP(e){return Aw(e)?h_e(e):null}function h_e(e){const t=lH(e,axt,h_e);if("then"in t)throw new Error("BUG: constant evaluate should never return a promise");return t}async function oxt(e){if(e.type==="object")return m_e(e.data);if(e.isArray()){const t=await p_e(e);if(t.length>0)return t.join(`

`)}return null}async function p_e(e,t=[]){for await(const n of e)if(n.type==="object"){const r=m_e(n.data);r!==null&&t.push(r)}else n.isArray()&&await p_e(n,t);return t}function m_e(e){if(typeof e._type!="string")return null;const t=e.children;if(!Array.isArray(t))return null;let n="";for(const r of t)r&&typeof r=="object"&&typeof r._type=="string"&&r._type==="span"&&typeof r.text=="string"&&(n+=r.text);return n}const Gee=1.2;async function jv(e,t,n){if(e.type==="OpCall"&&e.op==="match")return sxt(e.left,e.right,t,n);if(e.type==="FuncCall"&&e.name==="boost"){const r=await jv(e.args[0],t,n),i=await n(e.args[1],t);return i.type==="number"&&r>0?r+i.data:0}switch(e.type){case"Or":{const r=await jv(e.left,t,n),i=await jv(e.right,t,n);return r+i}case"And":{const r=await jv(e.left,t,n),i=await jv(e.right,t,n);return r===0||i===0?0:r+i}default:{const r=await n(e,t);return r.type==="boolean"&&r.data===!0?1:0}}}async function sxt(e,t,n,r){const i=await r(e,n),a=await r(t,n);let o=[],s=[];if(await rj(i,c=>{o=o.concat(u_e(c))}),!await rj(a,c=>{s=s.concat(c_e(c))})||o.length===0||s.length===0)return 0;let l=0;for(const c of s){const d=o.reduce((h,p)=>h+(c.test(p)?1:0),0);l+=d*(Gee+1)/(d+Gee)}return l}function JL(e,t){switch(Wg(e)){case"array":for(const n of e)if(JL(n,t))return!0;break;case"object":if(e._ref)return t.has(e._ref);for(const n of Object.values(e))if(JL(n,t))return!0;break}return!1}function lxt(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r>=55296&&r<=56319||t++}return t}const pr={};pr.anywhere=async function(){throw new Error("not implemented")};pr.anywhere.arity=1;pr.coalesce=async function(e,t,n){for(const r of e){const i=await n(r,t);if(i.type!=="null")return i}return He};pr.count=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return He;let i=0;for await(const a of r)i++;return Yl(i)};pr.count.arity=1;pr.dateTime=async function(e,t,n){const r=await n(e[0],t);return r.type==="datetime"?r:r.type!=="string"?He:py.parseToValue(r.data)};pr.dateTime.arity=1;pr.defined=async function(e,t,n){return(await n(e[0],t)).type==="null"?Ta:Va};pr.defined.arity=1;pr.identity=async function(e,t){return ql(t.context.identity)};pr.identity.arity=0;pr.length=async function(e,t,n){const r=await n(e[0],t);if(r.type==="string")return Yl(lxt(r.data));if(r.isArray()){let i=0;for await(const a of r)i++;return Yl(i)}return He};pr.length.arity=1;pr.path=async function(e,t,n){const r=await n(e[0],t);return r.type!=="string"?He:qbt(new s_e(r.data))};pr.path.arity=1;pr.string=async function(e,t,n){const r=await n(e[0],t);switch(r.type){case"number":case"string":case"boolean":case"datetime":return ql(`${r.data}`);default:return He}};pr.string.arity=1;pr.references=async function(e,t,n){const r=new Set;for(const a of e){const o=await n(a,t);if(o.type==="string")r.add(o.data);else if(o.isArray())for await(const s of o)s.type==="string"&&r.add(s.data)}if(r.size===0)return Ta;const i=await t.value.get();return JL(i,r)?Va:Ta};pr.references.arity=e=>e>=1;pr.round=async function(e,t,n){const r=await n(e[0],t);if(r.type!=="number")return He;const i=r.data;let a=0;if(e.length===2){const o=await n(e[1],t);if(o.type!=="number"||o.data<0||!Number.isInteger(o.data))return He;a=o.data}return a===0?i<0?Yl(-Math.round(-i)):Yl(Math.round(i)):Yl(Number(i.toFixed(a)))};pr.round.arity=e=>e>=1&&e<=2;pr.now=async function(e,t){return ql(t.context.timestamp.toISOString())};pr.now.arity=0;pr.boost=async function(){throw new Error("unexpected boost call")};pr.boost.arity=2;const nc={};nc.lower=async function(e,t,n){const r=await n(e[0],t);return r.type!=="string"?He:ql(r.data.toLowerCase())};nc.lower.arity=1;nc.upper=async function(e,t,n){const r=await n(e[0],t);return r.type!=="string"?He:ql(r.data.toUpperCase())};nc.upper.arity=1;nc.split=async function(e,t,n){const r=await n(e[0],t);if(r.type!=="string")return He;const i=await n(e[1],t);return i.type!=="string"?He:r.data.length===0?Dr([]):i.data.length===0?Dr(Array.from(r.data)):Dr(r.data.split(i.data))};nc.split.arity=2;pr.lower=nc.lower;pr.upper=nc.upper;nc.startsWith=async function(e,t,n){const r=await n(e[0],t);if(r.type!=="string")return He;const i=await n(e[1],t);return i.type!=="string"?He:r.data.startsWith(i.data)?Va:Ta};nc.startsWith.arity=2;const I0={};I0.join=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return He;const i=await n(e[1],t);if(i.type!=="string")return He;let a="",o=!1;for await(const s of r){switch(o&&(a+=i.data),s.type){case"number":case"string":case"boolean":case"datetime":a+=`${s.data}`;break;default:return He}o=!0}return Dr(a)};I0.join.arity=2;I0.compact=async function(e,t,n){const r=await n(e[0],t);return r.isArray()?new Gh(async function*(){for await(const i of r)i.type!=="null"&&(yield i)}):He};I0.compact.arity=1;I0.unique=async function(e,t,n){const r=await n(e[0],t);return r.isArray()?new Gh(async function*(){const i=new Set;for await(const a of r)switch(a.type){case"number":case"string":case"boolean":case"datetime":i.has(a.data)||(i.add(a.data),yield a);break;default:yield a}}):He};I0.unique.arity=1;const uH={};uH.text=async function(e,t,n){const r=await n(e[0],t),i=await oxt(r);return i===null?He:ql(i)};uH.text.arity=1;const U2={};U2.projectId=async function(e,t){return t.context.sanity?ql(t.context.sanity.projectId):He};U2.dataset=async function(e,t){return t.context.sanity?ql(t.context.sanity.dataset):He};U2.versionOf=async function(e,t,n){if(!t.source.isArray())return He;const r=await n(e[0],t);if(r.type!=="string")return He;const i=r.data,a=[];for await(const o of t.source)if(Wg(o)==="object"){const s=await o.get();s&&"_id"in s&&s._id.split(".").length===2&&s._id.endsWith(`.${i}`)&&"_version"in s&&typeof s._version=="object"&&a.push(s._id)}return Dr(a)};U2.versionOf.arity=1;const H2={};H2.order=async function(e,t,n,r){if(await!0,!e.isArray())return He;const i=[],a=[];let o=0;for(let c of t){let d="asc";c.type==="Desc"?(d="desc",c=c.base):c.type==="Asc"&&(c=c.base),i.push(c),a.push(d),o++}const s=[];let l=0;for await(const c of e){const d=n.createNested(c),h=[await c.get(),l];for(let p=0;p<o;p++){const m=await r(i[p],d);h.push(await m.get())}s.push(h),l++}return s.sort((c,d)=>{for(let h=0;h<o;h++){let p=ext(c[h+2],d[h+2]);if(a[h]==="desc"&&(p=-p),p!==0)return p}return c[1]-d[1]}),Dr(s.map(c=>c[0]))};H2.order.arity=e=>e>=1;H2.score=async function(e,t,n,r){if(!e.isArray())return He;const i=[],a=[];for await(const o of e){if(o.type!=="object"){i.push(await o.get());continue}const s=n.createNested(o);let l=typeof o.data._score=="number"?o.data._score:0;for(const d of t)l+=await jv(d,s,r);const c=Object.assign({},o.data,{_score:l});a.push(c)}return a.sort((o,s)=>s._score-o._score),Dr(a)};H2.score.arity=e=>e>=1;const Jp={};Jp.operation=async function(e,t){const n=t.context.before!==null,r=t.context.after!==null;return n&&r?ql("update"):r?ql("create"):n?ql("delete"):He};Jp.changedAny=()=>{throw new Error("not implemented")};Jp.changedAny.arity=1;Jp.changedAny.mode="delta";Jp.changedOnly=()=>{throw new Error("not implemented")};Jp.changedOnly.arity=1;Jp.changedOnly.mode="delta";const W2={};W2.changedAny=()=>{throw new Error("not implemented")};W2.changedAny.arity=3;W2.changedOnly=()=>{throw new Error("not implemented")};W2.changedOnly.arity=3;const Xf={};Xf.min=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return He;let i;for await(const a of r)if(a.type!=="null"){if(a.type!=="number")return He;(i===void 0||a.data<i)&&(i=a.data)}return Dr(i)};Xf.min.arity=1;Xf.max=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return He;let i;for await(const a of r)if(a.type!=="null"){if(a.type!=="number")return He;(i===void 0||a.data>i)&&(i=a.data)}return Dr(i)};Xf.max.arity=1;Xf.sum=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return He;let i=0;for await(const a of r)if(a.type!=="null"){if(a.type!=="number")return He;i+=a.data}return Dr(i)};Xf.sum.arity=1;Xf.avg=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return He;let i=0,a=0;for await(const o of r)if(o.type!=="null"){if(o.type!=="number")return He;i+=o.data,a++}return a===0?He:Dr(i/a)};Xf.avg.arity=1;const cH={};cH.now=async function(e,t){return ZL(new py(t.context.timestamp))};cH.now.arity=0;const uxt={global:pr,string:nc,array:I0,pt:uH,delta:Jp,diff:W2,sanity:U2,math:Xf,dateTime:cH};var cxt=Object.defineProperty,dxt=(e,t,n)=>t in e?cxt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ix=(e,t,n)=>dxt(e,typeof t!="symbol"?t+"":t,n);class fxt{constructor(t,n,r){Ix(this,"string"),Ix(this,"marks"),Ix(this,"index"),Ix(this,"parseOptions"),Ix(this,"allowBoost",!1),this.string=t,this.marks=n,this.index=0,this.parseOptions=r}hasMark(t=0){return this.index+t<this.marks.length}getMark(t=0){return this.marks[this.index+t]}shift(){this.index+=1}process(t){const n=this.marks[this.index];this.shift();const r=t[n.name];if(!r)throw new Error(`Unknown handler: ${n.name}`);return r.call(t,this,n)}processString(){return this.shift(),this.processStringEnd()}processStringEnd(){const t=this.marks[this.index-1],n=this.marks[this.index];return this.shift(),this.string.slice(t.position,n.position)}slice(t){const n=this.marks[this.index].position;return this.string.slice(n,n+t)}}const hxt=/^([\t\n\v\f\r \u0085\u00A0]|(\/\/[^\n]*\n))+/,VP=/^\d+/,Xm=/^[a-zA-Z_][a-zA-Z_0-9]*/;function pxt(e){let t=0;t=vt(e,t);let n=lr(e,t,0);return n.type==="error"?n:(t=vt(e,n.position),t!==e.length?(n.failPosition&&(t=n.failPosition-1),{type:"error",position:t}):(delete n.position,delete n.failPosition,n))}function lr(e,t,n){let r=t,i=e[t],a;switch(i){case"+":{let c=lr(e,vt(e,t+1),10);if(c.type==="error")return c;a=[{name:"pos",position:r}].concat(c.marks),t=c.position;break}case"-":{let c=lr(e,vt(e,t+1),8);if(c.type==="error")return c;a=[{name:"neg",position:r}].concat(c.marks),t=c.position;break}case"(":{let c=lr(e,vt(e,t+1),0);if(c.type==="error")return c;switch(t=vt(e,c.position),e[t]){case",":{for(a=[{name:"tuple",position:r}].concat(c.marks),t=vt(e,t+1);;){if(c=lr(e,t,0),c.type==="error")return c;if(t=vt(e,c.position),e[t]!==",")break;t=vt(e,t+1)}if(e[t]!==")")return{type:"error",position:t};t++,a.push({name:"tuple_end",position:t});break}case")":{t++,a=[{name:"group",position:r}].concat(c.marks);break}default:return{type:"error",position:t}}break}case"!":{let c=lr(e,vt(e,t+1),10);if(c.type==="error")return c;a=[{name:"not",position:r}].concat(c.marks),t=c.position;break}case"{":{let c=QL(e,t);if(c.type==="error")return c;a=c.marks,t=c.position;break}case"[":if(a=[{name:"array",position:t}],t=vt(e,t+1),e[t]!=="]")for(;;){e.slice(t,t+3)==="..."&&(a.push({name:"array_splat",position:t}),t=vt(e,t+3));let c=lr(e,t,0);if(c.type==="error")return c;if(a=a.concat(c.marks),t=c.position,t=vt(e,t),e[t]!==","||(t=vt(e,t+1),e[t]==="]"))break}if(e[t]==="]")t++,a.push({name:"array_end",position:t});else return{type:"error",position:t};break;case"'":case'"':{let c=mxt(e,t);if(c.type==="error")return c;a=c.marks,t=c.position;break}case"^":{for(t++,a=[];e[t]==="."&&e[t+1]==="^";)a.push({name:"dblparent",position:r}),t+=2;a.push({name:"parent",position:r});break}case"@":a=[{name:"this",position:r}],t++;break;case"*":a=[{name:"everything",position:r}],t++;break;case"$":{let c=bc(e,t+1,Xm);c&&(t+=1+c,a=[{name:"param",position:r},{name:"ident",position:r+1},{name:"ident_end",position:t}]);break}default:{let c=bc(e,t,VP);if(c){t+=c;let h="integer";if(e[t]==="."){let p=bc(e,t+1,VP);p&&(h="float",t+=1+p)}if(e[t]==="e"||e[t]==="E"){h="sci",t++,(e[t]==="+"||e[t]==="-")&&t++;let p=bc(e,t,VP);if(!p)return{type:"error",position:t};t+=p}a=[{name:h,position:r},{name:h+"_end",position:t}];break}let d=bc(e,t,Xm);if(d){switch(t+=d,e[t]){case":":case"(":{let h=qee(e,r,t);if(h.type==="error")return h;a=h.marks,t=h.position;break}default:a=[{name:"this_attr",position:r},{name:"ident",position:r},{name:"ident_end",position:t}]}break}}}if(!a)return{type:"error",position:t};let o=12,s;e:for(;;){let c=vt(e,t);if(c===e.length){t=c;break}if(s=Yee(e,c),s.type==="success"){for(a.unshift({name:"traverse",position:r});s.type==="success";)a=a.concat(s.marks),t=s.position,s=Yee(e,vt(e,t));a.push({name:"traversal_end",position:t});continue}switch(e[c]){case"=":{switch(e[c+1]){case">":{if(n>1||o<=1)break e;let d=lr(e,vt(e,c+2),1);if(d.type==="error")return d;a=a.concat(d.marks),a.unshift({name:"pair",position:r}),t=d.position,o=1;break}case"=":{if(n>4||o<=4)break e;let d=lr(e,vt(e,c+2),5);if(d.type==="error")return d;a.unshift({name:"comp",position:r}),a.push({name:"op",position:c},{name:"op_end",position:c+2}),a=a.concat(d.marks),t=d.position,o=4;break}default:break e}break}case"+":{if(n>6||o<6)break e;let d=lr(e,vt(e,c+1),7);if(d.type==="error")return d;a=a.concat(d.marks),a.unshift({name:"add",position:r}),t=d.position,o=6;break}case"-":{if(n>6||o<6)break e;let d=lr(e,vt(e,c+1),7);if(d.type==="error")return d;a=a.concat(d.marks),a.unshift({name:"sub",position:r}),t=d.position,o=6;break}case"*":{if(e[c+1]==="*"){if(n>8||o<=8)break e;let h=lr(e,vt(e,c+2),8);if(h.type==="error")return h;a=a.concat(h.marks),a.unshift({name:"pow",position:r}),t=h.position,o=8;break}if(n>7||o<7)break e;let d=lr(e,vt(e,c+1),8);if(d.type==="error")return d;a=a.concat(d.marks),a.unshift({name:"mul",position:r}),t=d.position,o=7;break}case"/":{if(n>7||o<7)break e;let d=lr(e,vt(e,c+1),8);if(d.type==="error")return d;a=a.concat(d.marks),a.unshift({name:"div",position:r}),t=d.position,o=7;break}case"%":{if(n>7||o<7)break e;let d=lr(e,vt(e,c+1),8);if(d.type==="error")return d;a=a.concat(d.marks),a.unshift({name:"mod",position:r}),t=d.position,o=7;break}case"<":case">":{if(n>4||o<=4)break e;let d=c+1;e[d]==="="&&d++;let h=lr(e,vt(e,d),5);if(h.type==="error")return h;a.unshift({name:"comp",position:r}),a.push({name:"op",position:c},{name:"op_end",position:d}),a=a.concat(h.marks),t=h.position,o=4;break}case"|":{if(e[c+1]==="|"){if(n>2||o<2)break e;let d=lr(e,vt(e,c+2),3);if(d.type==="error")return d;a=a.concat(d.marks),a.unshift({name:"or",position:r}),t=d.position,o=2}else{if(n>11||o<11)break e;let d=vt(e,c+1),h=bc(e,d,Xm);if(!h)return{type:"error",position:d};if(t=d+h,e[t]==="("||e[t]===":"){let p=qee(e,d,t);if(p.type==="error")return p;a=a.concat(p.marks),a.unshift({name:"pipecall",position:r}),t=p.position,o=11}}break}case"&":{if(e[c+1]!="&"||n>3||o<3)break e;let d=lr(e,vt(e,c+2),4);if(d.type==="error")return d;a=a.concat(d.marks),a.unshift({name:"and",position:r}),t=d.position,o=3;break}case"!":{if(e[c+1]!=="="||n>4||o<=4)break e;let d=lr(e,vt(e,c+2),5);if(d.type==="error")return d;a.unshift({name:"comp",position:r}),a.push({name:"op",position:c},{name:"op_end",position:c+2}),a=a.concat(d.marks),t=d.position,o=4;break}case"d":{if(e.slice(c,c+4)!=="desc"||n>4||o<4)break e;a.unshift({name:"desc",position:r}),t=c+4,o=4;break}case"a":{if(e.slice(c,c+3)!=="asc"||n>4||o<4)break e;a.unshift({name:"asc",position:r}),t=c+3,o=4;break}default:switch(gxt(e,c,Xm)){case"in":{if(n>4||o<=4)break e;t=vt(e,c+2);let d=!1;e[t]==="("&&(d=!0,t=vt(e,t+1));let h=t,p=lr(e,t,5);if(p.type==="error")return p;if(t=vt(e,p.position),e[t]==="."&&e[t+1]==="."){let m="inc_range";e[t+2]==="."?(m="exc_range",t=vt(e,t+3)):t=vt(e,t+2);let g=lr(e,t,5);if(g.type==="error")return g;a.unshift({name:"in_range",position:r}),a=a.concat({name:m,position:h},p.marks,g.marks),t=g.position}else a.unshift({name:"comp",position:r}),a.push({name:"op",position:c},{name:"op_end",position:c+2}),a=a.concat(p.marks);if(d){if(t=vt(e,t),e[t]!==")")return{type:"error",position:t};t++}o=4;break}case"match":{if(n>4||o<=4)break e;let d=lr(e,vt(e,c+5),5);if(d.type==="error")return d;a.unshift({name:"comp",position:r}),a.push({name:"op",position:c},{name:"op_end",position:c+5}),a=a.concat(d.marks),t=d.position,o=4;break}default:break e}}}let l=(s==null?void 0:s.type)==="error"&&s.position;return{type:"success",marks:a,position:t,failPosition:l}}function Yee(e,t){let n=t;switch(e[t]){case".":{t=vt(e,t+1);let o=t,s=bc(e,t,Xm);return s?(t+=s,{type:"success",marks:[{name:"attr_access",position:n},{name:"ident",position:o},{name:"ident_end",position:t}],position:t}):{type:"error",position:t}}case"-":if(e[t+1]!==">")return{type:"error",position:t};let r=[{name:"deref",position:n}];t+=2;let i=vt(e,t),a=bc(e,i,Xm);return a&&(t=i+a,r.push({name:"deref_attr",position:i},{name:"ident",position:i},{name:"ident_end",position:t})),{type:"success",marks:r,position:t};case"[":{if(t=vt(e,t+1),e[t]==="]")return{type:"success",marks:[{name:"array_postfix",position:n}],position:t+1};let o=t,s=lr(e,t,0);if(s.type==="error")return s;if(t=vt(e,s.position),e[t]==="."&&e[t+1]==="."){let l="inc_range";e[t+2]==="."?(l="exc_range",t+=3):t+=2,t=vt(e,t);let c=lr(e,t,0);return c.type==="error"?c:(t=vt(e,c.position),e[t]!=="]"?{type:"error",position:t}:{type:"success",marks:[{name:"slice",position:n},{name:l,position:o}].concat(s.marks,c.marks),position:t+1})}return e[t]!=="]"?{type:"error",position:t}:{type:"success",marks:[{name:"square_bracket",position:n}].concat(s.marks),position:t+1}}case"|":{if(t=vt(e,t+1),e[t]==="{"){let o=QL(e,t);return o.type==="error"||o.marks.unshift({name:"projection",position:n}),o}break}case"{":{let o=QL(e,t);return o.type==="error"||o.marks.unshift({name:"projection",position:n}),o}}return{type:"error",position:t}}function qee(e,t,n){let r=[];if(r.push({name:"func_call",position:t}),e[n]===":"&&e[n+1]===":"){r.push({name:"namespace",position:t}),r.push({name:"ident",position:t},{name:"ident_end",position:n}),n=vt(e,n+2);let a=bc(e,n,Xm);if(!a)return{type:"error",position:n};if(r.push({name:"ident",position:n},{name:"ident_end",position:n+a}),n=vt(e,n+a),e[n]!=="(")return{type:"error",position:n};n++,n=vt(e,n)}else r.push({name:"ident",position:t},{name:"ident_end",position:n}),n=vt(e,n+1);let i=n;if(e[n]!==")")for(;;){let a=lr(e,n,0);if(a.type==="error")return a;if(r=r.concat(a.marks),i=a.position,n=vt(e,a.position),e[n]!==","||(n=vt(e,n+1),e[n]===")"))break}return e[n]!==")"?{type:"error",position:n}:(r.push({name:"func_args_end",position:i}),{type:"success",marks:r,position:n+1})}function QL(e,t){let n=[{name:"object",position:t}];for(t=vt(e,t+1);e[t]!=="}";){let r=t;if(e.slice(t,t+3)==="...")if(t=vt(e,t+3),e[t]!=="}"&&e[t]!==","){let i=lr(e,t,0);if(i.type==="error")return i;n.push({name:"object_splat",position:r}),n=n.concat(i.marks),t=i.position}else n.push({name:"object_splat_this",position:r});else{let i=lr(e,t,0);if(i.type==="error")return i;let a=vt(e,i.position);if(i.marks[0].name==="str"&&e[a]===":"){let o=lr(e,vt(e,a+1),0);if(o.type==="error")return o;n.push({name:"object_pair",position:r}),n=n.concat(i.marks,o.marks),t=o.position}else n=n.concat({name:"object_expr",position:t},i.marks),t=i.position}if(t=vt(e,t),e[t]!==",")break;t=vt(e,t+1)}return e[t]!=="}"?{type:"error",position:t}:(t++,n.push({name:"object_end",position:t}),{type:"success",marks:n,position:t})}function mxt(e,t){let n=e[t];t=t+1;const r=[{name:"str",position:t}];e:for(;;t++){if(t>e.length)return{type:"error",position:t};switch(e[t]){case n:{r.push({name:"str_end",position:t}),t++;break e}case"\\":r.push({name:"str_pause",position:t}),e[t+1]==="u"?e[t+2]==="{"?(r.push({name:"unicode_hex",position:t+3}),t=e.indexOf("}",t+3),r.push({name:"unicode_hex_end",position:t})):(r.push({name:"unicode_hex",position:t+2}),r.push({name:"unicode_hex_end",position:t+6}),t+=5):(r.push({name:"single_escape",position:t+1}),t+=1),r.push({name:"str_start",position:t+1})}}return{type:"success",marks:r,position:t}}function vt(e,t){return t+bc(e,t,hxt)}function bc(e,t,n){let r=n.exec(e.slice(t));return r?r[0].length:0}function gxt(e,t,n){let r=n.exec(e.slice(t));return r?r[0]:null}function Bl(e,t){return n=>t(e(n))}function e8(e){return t=>({type:"Map",base:t,expr:e({type:"This"})})}function vxt(e){return t=>({type:"FlatMap",base:t,expr:e({type:"This"})})}function X5(e,t){if(!t)return{type:"a-a",build:e};switch(t.type){case"a-a":return{type:"a-a",build:Bl(e,t.build)};case"a-b":return{type:"a-b",build:Bl(e,t.build)};case"b-b":return{type:"a-a",build:Bl(e,e8(t.build))};case"b-a":return{type:"a-a",build:Bl(e,vxt(t.build))};default:throw new Error(`unknown type: ${t.type}`)}}function zP(e,t){if(!t)return{type:"b-b",build:e};switch(t.type){case"a-a":case"b-a":return{type:"b-a",build:Bl(e,t.build)};case"a-b":case"b-b":return{type:"b-b",build:Bl(e,t.build)};default:throw new Error(`unknown type: ${t.type}`)}}function yxt(e,t){if(!t)return{type:"a-b",build:e};switch(t.type){case"a-a":case"b-a":return{type:"a-a",build:Bl(e,t.build)};case"a-b":case"b-b":return{type:"a-b",build:Bl(e,t.build)};default:throw new Error(`unknown type: ${t.type}`)}}function bxt(e,t){if(!t)return{type:"b-b",build:e};switch(t.type){case"a-a":return{type:"a-a",build:Bl(e8(e),t.build)};case"a-b":return{type:"a-b",build:Bl(e8(e),t.build)};case"b-a":return{type:"b-a",build:Bl(e,t.build)};case"b-b":return{type:"b-b",build:Bl(e,t.build)};default:throw new Error(`unknown type: ${t.type}`)}}var xxt=Object.defineProperty,wxt=(e,t,n)=>t in e?xxt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,t8=(e,t,n)=>wxt(e,typeof t!="symbol"?t+"":t,n);const Cxt={"'":"'",'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function Sxt(e){const t=parseInt(e,16);return String.fromCharCode(t)}class Lo extends Error{constructor(){super(...arguments),t8(this,"name","GroqQueryError")}}const kt={group(e){return{type:"Group",base:e.process(kt)}},everything(){return{type:"Everything"}},this(){return{type:"This"}},parent(){return{type:"Parent",n:1}},dblparent(e){return{type:"Parent",n:e.process(kt).n+1}},traverse(e){const t=e.process(kt),n=[];for(;e.getMark().name!=="traversal_end";)n.push(e.process(g_e));e.shift();let r=null;for(let i=n.length-1;i>=0;i--)r=n[i](r);if((t.type==="Everything"||t.type==="Array"||t.type==="PipeFuncCall")&&(r=X5(i=>i,r)),r===null)throw new Error("BUG: unexpected empty traversal");return r.build(t)},this_attr(e){const t=e.processString();return t==="null"?{type:"Value",value:null}:t==="true"?{type:"Value",value:!0}:t==="false"?{type:"Value",value:!1}:{type:"AccessAttribute",name:t}},neg(e){return{type:"Neg",base:e.process(kt)}},pos(e){return{type:"Pos",base:e.process(kt)}},add(e){const t=e.process(kt),n=e.process(kt);return{type:"OpCall",op:"+",left:t,right:n}},sub(e){const t=e.process(kt),n=e.process(kt);return{type:"OpCall",op:"-",left:t,right:n}},mul(e){const t=e.process(kt),n=e.process(kt);return{type:"OpCall",op:"*",left:t,right:n}},div(e){const t=e.process(kt),n=e.process(kt);return{type:"OpCall",op:"/",left:t,right:n}},mod(e){const t=e.process(kt),n=e.process(kt);return{type:"OpCall",op:"%",left:t,right:n}},pow(e){const t=e.process(kt),n=e.process(kt);return{type:"OpCall",op:"**",left:t,right:n}},comp(e){const t=e.process(kt),n=e.processString(),r=e.process(kt);return{type:"OpCall",op:n,left:t,right:r}},in_range(e){const t=e.process(kt),n=e.getMark().name==="inc_range";e.shift();const r=e.process(kt),i=e.process(kt);return{type:"InRange",base:t,left:r,right:i,isInclusive:n}},str(e){let t="";e:for(;e.hasMark();){const n=e.getMark();switch(n.name){case"str_end":t+=e.processStringEnd();break e;case"str_pause":t+=e.processStringEnd();break;case"str_start":e.shift();break;case"single_escape":{const r=e.slice(1);e.shift(),t+=Cxt[r];break}case"unicode_hex":e.shift(),t+=Sxt(e.processStringEnd());break;default:throw new Error(`unexpected mark: ${n.name}`)}}return{type:"Value",value:t}},integer(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},float(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},sci(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},object(e){const t=[];for(;e.getMark().name!=="object_end";)t.push(e.process(_xt));return e.shift(),{type:"Object",attributes:t}},array(e){const t=[];for(;e.getMark().name!=="array_end";){let n=!1;e.getMark().name==="array_splat"&&(n=!0,e.shift());const r=e.process(kt);t.push({type:"ArrayElement",value:r,isSplat:n})}return e.shift(),{type:"Array",elements:t}},tuple(e){const t=[];for(;e.getMark().name!=="tuple_end";)t.push(e.process(kt));return e.shift(),{type:"Tuple",members:t}},func_call(e){let t="global";e.getMark().name==="namespace"&&(e.shift(),t=e.processString());const n=e.processString();if(t==="global"&&n==="select"){const o={type:"Select",alternatives:[]};for(;e.getMark().name!=="func_args_end";)if(e.getMark().name==="pair"){if(o.fallback)throw new Lo("unexpected argument to select()");e.shift();const s=e.process(kt),l=e.process(kt);o.alternatives.push({type:"SelectAlternative",condition:s,value:l})}else{if(o.fallback)throw new Lo("unexpected argument to select()");const s=e.process(kt);o.fallback=s}return e.shift(),o}const r=[];for(;e.getMark().name!=="func_args_end";)Ext(t,n,r.length)?(e.process(n8),r.push({type:"Selector"})):r.push(e.process(kt));if(e.shift(),t==="global"&&(n==="before"||n==="after")&&e.parseOptions.mode==="delta")return{type:"Context",key:n};if(t==="global"&&n==="boost"&&!e.allowBoost)throw new Lo("unexpected boost");const i=uxt[t];if(!i)throw new Lo(`Undefined namespace: ${t}`);const a=i[n];if(!a)throw new Lo(`Undefined function: ${n}`);if(a.arity!==void 0&&Kee(n,a.arity,r.length),a.mode!==void 0&&a.mode!==e.parseOptions.mode)throw new Lo(`Undefined function: ${n}`);return{type:"FuncCall",func:a,namespace:t,name:n,args:r}},pipecall(e){const t=e.process(kt);e.shift();let n="global";if(e.getMark().name==="namespace"&&(e.shift(),n=e.processString()),n!=="global")throw new Lo(`Undefined namespace: ${n}`);const r=e.processString(),i=[],a=e.allowBoost;for(r==="score"&&(e.allowBoost=!0);;){const s=e.getMark().name;if(s==="func_args_end")break;if(r==="order"){if(s==="asc"){e.shift(),i.push({type:"Asc",base:e.process(kt)});continue}else if(s==="desc"){e.shift(),i.push({type:"Desc",base:e.process(kt)});continue}}i.push(e.process(kt))}e.shift(),e.allowBoost=a;const o=H2[r];if(!o)throw new Lo(`Undefined pipe function: ${r}`);return o.arity&&Kee(r,o.arity,i.length),{type:"PipeFuncCall",func:o,base:t,name:r,args:i}},pair(){throw new Lo("unexpected =>")},and(e){const t=e.process(kt),n=e.process(kt);return{type:"And",left:t,right:n}},or(e){const t=e.process(kt),n=e.process(kt);return{type:"Or",left:t,right:n}},not(e){return{type:"Not",base:e.process(kt)}},asc(){throw new Lo("unexpected asc")},desc(){throw new Lo("unexpected desc")},param(e){const t=e.processString();return e.parseOptions.params&&e.parseOptions.params.hasOwnProperty(t)?{type:"Value",value:e.parseOptions.params[t]}:{type:"Parameter",name:t}}},_xt={object_expr(e){if(e.getMark().name==="pair"){e.shift();const n=e.process(kt),r=e.process(kt);return{type:"ObjectConditionalSplat",condition:n,value:r}}const t=e.process(kt);return{type:"ObjectAttributeValue",name:v_e(t),value:t}},object_pair(e){const t=e.process(kt);if(t.type!=="Value")throw new Error("name must be string");const n=e.process(kt);return{type:"ObjectAttributeValue",name:t.value,value:n}},object_splat(e){return{type:"ObjectSplat",value:e.process(kt)}},object_splat_this(){return{type:"ObjectSplat",value:{type:"This"}}}},g_e={square_bracket(e){const t=e.process(kt),n=BP(t);return n&&n.type==="number"?r=>yxt(i=>({type:"AccessElement",base:i,index:n.data}),r):n&&n.type==="string"?r=>zP(i=>({type:"AccessAttribute",base:i,name:n.data}),r):r=>X5(i=>({type:"Filter",base:i,expr:t}),r)},slice(e){const t=e.getMark().name==="inc_range";e.shift();const n=e.process(kt),r=e.process(kt),i=BP(n),a=BP(r);if(!i||!a||i.type!=="number"||a.type!=="number")throw new Lo("slicing must use constant numbers");return o=>X5(s=>({type:"Slice",base:s,left:i.data,right:a.data,isInclusive:t}),o)},projection(e){const t=e.process(kt);return n=>bxt(r=>({type:"Projection",base:r,expr:t}),n)},attr_access(e){const t=e.processString();return n=>zP(r=>({type:"AccessAttribute",base:r,name:t}),n)},deref(e){let t=null;e.getMark().name==="deref_attr"&&(e.shift(),t=e.processString());const n=r=>t?{type:"AccessAttribute",base:r,name:t}:r;return r=>zP(i=>n({type:"Deref",base:i}),r)},array_postfix(){return e=>X5(t=>({type:"ArrayCoerce",base:t}),e)}},n8={group(e){return e.process(n8),null},everything(){throw new Error("Invalid selector syntax")},this(){throw new Error("Invalid selector syntax")},parent(){throw new Error("Invalid selector syntax")},dblparent(){throw new Error("Invalid selector syntax")},traverse(e){for(e.process(n8);e.getMark().name!=="traversal_end";)e.process(g_e);return e.shift(),null},this_attr(e){return e.processString(),null},neg(){throw new Error("Invalid selector syntax")},pos(){throw new Error("Invalid selector syntax")},add(){throw new Error("Invalid selector syntax")},sub(){throw new Error("Invalid selector syntax")},mul(){throw new Error("Invalid selector syntax")},div(){throw new Error("Invalid selector syntax")},mod(){throw new Error("Invalid selector syntax")},pow(){throw new Error("Invalid selector syntax")},comp(){throw new Error("Invalid selector syntax")},in_range(){throw new Error("Invalid selector syntax")},str(){throw new Error("Invalid selector syntax")},integer(){throw new Error("Invalid selector syntax")},float(){throw new Error("Invalid selector syntax")},sci(){throw new Error("Invalid selector syntax")},object(){throw new Error("Invalid selector syntax")},array(){throw new Error("Invalid selector syntax")},tuple(){throw new Error("Invalid selector syntax")},func_call(e,t){const n=kt.func_call(e,t);if(n.name==="anywhere"&&n.args.length===1)return null;throw new Error("Invalid selector syntax")},pipecall(){throw new Error("Invalid selector syntax")},pair(){throw new Error("Invalid selector syntax")},and(){throw new Error("Invalid selector syntax")},or(){throw new Error("Invalid selector syntax")},not(){throw new Error("Invalid selector syntax")},asc(){throw new Error("Invalid selector syntax")},desc(){throw new Error("Invalid selector syntax")},param(){throw new Error("Invalid selector syntax")}};function v_e(e){if(e.type==="AccessAttribute"&&!e.base)return e.name;if(e.type==="Deref"||e.type==="Map"||e.type==="Projection"||e.type==="Slice"||e.type==="Filter"||e.type==="AccessElement"||e.type==="ArrayCoerce")return v_e(e.base);throw new Lo(`Cannot determine property key for type: ${e.type}`)}function Kee(e,t,n){if(typeof t=="number"){if(n!==t)throw new Lo(`Incorrect number of arguments to function ${e}(). Expected ${t}, got ${n}.`)}else if(t&&!t(n))throw new Lo(`Incorrect number of arguments to function ${e}().`)}function Ext(e,t,n){const r=["changedAny","changedOnly"];return e=="diff"&&n==2&&r.includes(t)}class kxt extends Error{constructor(t){super(`Syntax error in GROQ query at position ${t}`),t8(this,"position"),t8(this,"name","GroqSyntaxError"),this.position=t}}function dH(e,t={}){const n=pxt(e);if(n.type==="error")throw new kxt(n.position);return new fxt(e,n.marks,t).process(kt)}const Txt=hi("typeEvaluator:scope:trace");Txt.log=console.log.bind(console);const Axt=hi("typeEvaluator:evaluate:trace");Axt.log=console.log.bind(console);const jxt=hi("typeEvaluator:evaluate:debug");jxt.log=console.log.bind(console);hi("typeEvaluator:evaluate:warn");var Ixt=V$;function Dxt(e){return e&&e.length?Ixt(e):[]}var $xt=Dxt;const ra=Pe($xt);var Oxt=function(t,n){if(!Array.isArray(t))throw new TypeError("humanize-list expected an array");n=n||{},n.conjunction=n.conjunction||"and";var r=t.length;if(r===1)return t[0];if(n.skipConjunction)return t.join(", ");for(var i="",a=0;a<r;a++)a===r-1?(n.oxfordComma&&(i+=","),i+=" "+n.conjunction+" "):a!==0&&(i+=", "),i+=t[a];return i};const Ru=Pe(Oxt);var Mxt=iH,Rxt=Mxt(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),Pxt=Rxt;const fH=Pe(Pxt);var Fxt=mwe,Nxt=Fxt(Object.getPrototypeOf,Object),hH=Nxt,Lxt=Nf,Bxt=hH,Vxt=ul,zxt="[object Object]",Uxt=Function.prototype,Hxt=Object.prototype,y_e=Uxt.toString,Wxt=Hxt.hasOwnProperty,Gxt=y_e.call(Object);function Yxt(e){if(!Vxt(e)||Lxt(e)!=zxt)return!1;var t=Bxt(e);if(t===null)return!0;var n=Wxt.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&y_e.call(n)==Gxt}var pH=Yxt;const dr=Pe(pH);function qxt(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var Kxt=qxt,Zxt=z$,Xxt=I2,Jxt=Object.prototype,Qxt=Jxt.hasOwnProperty;function ewt(e,t,n){var r=e[t];(!(Qxt.call(e,t)&&Xxt(r,n))||n===void 0&&!(t in e))&&Zxt(e,t,n)}var mH=ewt,twt=mH,nwt=z$;function rwt(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],l=r?r(n[s],e[s],s,n,e):void 0;l===void 0&&(l=e[s]),i?nwt(n,s,l):twt(n,s,l)}return n}var D0=rwt,iwt=D0,awt=Yf;function owt(e,t){return e&&iwt(t,awt(t),e)}var swt=owt;function lwt(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var uwt=lwt,cwt=su,dwt=y$,fwt=uwt,hwt=Object.prototype,pwt=hwt.hasOwnProperty;function mwt(e){if(!cwt(e))return fwt(e);var t=dwt(e),n=[];for(var r in e)r=="constructor"&&(t||!pwt.call(e,r))||n.push(r);return n}var gwt=mwt,vwt=pwe,ywt=gwt,bwt=qp;function xwt(e){return bwt(e)?vwt(e,!0):ywt(e)}var W$=xwt,wwt=D0,Cwt=W$;function Swt(e,t){return e&&wwt(t,Cwt(t),e)}var _wt=Swt,ij={exports:{}};ij.exports;(function(e,t){var n=lu,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,o=a?n.Buffer:void 0,s=o?o.allocUnsafe:void 0;function l(c,d){if(d)return c.slice();var h=c.length,p=s?s(h):new c.constructor(h);return c.copy(p),p}e.exports=l})(ij,ij.exports);var Ewt=ij.exports;function kwt(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var gH=kwt,Twt=D0,Awt=Zz;function jwt(e,t){return Twt(e,Awt(e),t)}var Iwt=jwt,Dwt=Uz,$wt=hH,Owt=Zz,Mwt=hwe,Rwt=Object.getOwnPropertySymbols,Pwt=Rwt?function(e){for(var t=[];e;)Dwt(t,Owt(e)),e=$wt(e);return t}:Mwt,b_e=Pwt,Fwt=D0,Nwt=b_e;function Lwt(e,t){return Fwt(e,Nwt(e),t)}var Bwt=Lwt,Vwt=dwe,zwt=b_e,Uwt=W$;function Hwt(e){return Vwt(e,Uwt,zwt)}var vH=Hwt,Wwt=Object.prototype,Gwt=Wwt.hasOwnProperty;function Ywt(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Gwt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var qwt=Ywt,Zee=cwe;function Kwt(e){var t=new e.constructor(e.byteLength);return new Zee(t).set(new Zee(e)),t}var yH=Kwt,Zwt=yH;function Xwt(e,t){var n=t?Zwt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var Jwt=Xwt,Qwt=/\w*$/;function eCt(e){var t=new e.constructor(e.source,Qwt.exec(e));return t.lastIndex=e.lastIndex,t}var tCt=eCt,Xee=Hy,Jee=Xee?Xee.prototype:void 0,Qee=Jee?Jee.valueOf:void 0;function nCt(e){return Qee?Object(Qee.call(e)):{}}var rCt=nCt,iCt=yH;function aCt(e,t){var n=t?iCt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var oCt=aCt,sCt=yH,lCt=Jwt,uCt=tCt,cCt=rCt,dCt=oCt,fCt="[object Boolean]",hCt="[object Date]",pCt="[object Map]",mCt="[object Number]",gCt="[object RegExp]",vCt="[object Set]",yCt="[object String]",bCt="[object Symbol]",xCt="[object ArrayBuffer]",wCt="[object DataView]",CCt="[object Float32Array]",SCt="[object Float64Array]",_Ct="[object Int8Array]",ECt="[object Int16Array]",kCt="[object Int32Array]",TCt="[object Uint8Array]",ACt="[object Uint8ClampedArray]",jCt="[object Uint16Array]",ICt="[object Uint32Array]";function DCt(e,t,n){var r=e.constructor;switch(t){case xCt:return sCt(e);case fCt:case hCt:return new r(+e);case wCt:return lCt(e,n);case CCt:case SCt:case _Ct:case ECt:case kCt:case TCt:case ACt:case jCt:case ICt:return dCt(e,n);case pCt:return new r;case mCt:case yCt:return new r(e);case gCt:return uCt(e);case vCt:return new r;case bCt:return cCt(e)}}var $Ct=DCt,OCt=su,ete=Object.create,MCt=function(){function e(){}return function(t){if(!OCt(t))return{};if(ete)return ete(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),bH=MCt,RCt=bH,PCt=hH,FCt=y$;function NCt(e){return typeof e.constructor=="function"&&!FCt(e)?RCt(PCt(e)):{}}var LCt=NCt,BCt=$2,VCt=ul,zCt="[object Map]";function UCt(e){return VCt(e)&&BCt(e)==zCt}var HCt=UCt,WCt=HCt,GCt=yb,tte=Jz,nte=tte&&tte.isMap,YCt=nte?GCt(nte):WCt,qCt=YCt,KCt=$2,ZCt=ul,XCt="[object Set]";function JCt(e){return ZCt(e)&&KCt(e)==XCt}var QCt=JCt,eSt=QCt,tSt=yb,rte=Jz,ite=rte&&rte.isSet,nSt=ite?tSt(ite):eSt,rSt=nSt,iSt=qz,aSt=Kxt,oSt=mH,sSt=swt,lSt=_wt,uSt=Ewt,cSt=gH,dSt=Iwt,fSt=Bwt,hSt=vwe,pSt=vH,mSt=$2,gSt=qwt,vSt=$Ct,ySt=LCt,bSt=Hi,xSt=g$,wSt=qCt,CSt=su,SSt=rSt,_St=Yf,ESt=W$,kSt=1,TSt=2,ASt=4,x_e="[object Arguments]",jSt="[object Array]",ISt="[object Boolean]",DSt="[object Date]",$St="[object Error]",w_e="[object Function]",OSt="[object GeneratorFunction]",MSt="[object Map]",RSt="[object Number]",C_e="[object Object]",PSt="[object RegExp]",FSt="[object Set]",NSt="[object String]",LSt="[object Symbol]",BSt="[object WeakMap]",VSt="[object ArrayBuffer]",zSt="[object DataView]",USt="[object Float32Array]",HSt="[object Float64Array]",WSt="[object Int8Array]",GSt="[object Int16Array]",YSt="[object Int32Array]",qSt="[object Uint8Array]",KSt="[object Uint8ClampedArray]",ZSt="[object Uint16Array]",XSt="[object Uint32Array]",Tr={};Tr[x_e]=Tr[jSt]=Tr[VSt]=Tr[zSt]=Tr[ISt]=Tr[DSt]=Tr[USt]=Tr[HSt]=Tr[WSt]=Tr[GSt]=Tr[YSt]=Tr[MSt]=Tr[RSt]=Tr[C_e]=Tr[PSt]=Tr[FSt]=Tr[NSt]=Tr[LSt]=Tr[qSt]=Tr[KSt]=Tr[ZSt]=Tr[XSt]=!0;Tr[$St]=Tr[w_e]=Tr[BSt]=!1;function J5(e,t,n,r,i,a){var o,s=t&kSt,l=t&TSt,c=t&ASt;if(n&&(o=i?n(e,r,i,a):n(e)),o!==void 0)return o;if(!CSt(e))return e;var d=bSt(e);if(d){if(o=gSt(e),!s)return cSt(e,o)}else{var h=mSt(e),p=h==w_e||h==OSt;if(xSt(e))return uSt(e,s);if(h==C_e||h==x_e||p&&!i){if(o=l||p?{}:ySt(e),!s)return l?fSt(e,lSt(o,e)):dSt(e,sSt(o,e))}else{if(!Tr[h])return i?e:{};o=vSt(e,h,s)}}a||(a=new iSt);var m=a.get(e);if(m)return m;a.set(e,o),SSt(e)?e.forEach(function(b){o.add(J5(b,t,n,b,e,a))}):wSt(e)&&e.forEach(function(b,y){o.set(y,J5(b,t,n,y,e,a))});var g=c?l?pSt:hSt:l?ESt:_St,v=d?void 0:g(e);return aSt(v||e,function(b,y){v&&(y=b,b=e[y]),oSt(o,y,J5(b,t,n,y,e,a))}),o}var xH=J5;function JSt(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var S_e=JSt;const QSt=Pe(S_e);function e2t(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}var __e=e2t,t2t=D2,n2t=__e;function r2t(e,t){return t.length<2?e:t2t(e,n2t(t,0,-1))}var i2t=r2t,a2t=gb,o2t=S_e,s2t=i2t,l2t=E0;function u2t(e,t){return t=a2t(t,e),e=s2t(e,t),e==null||delete e[l2t(o2t(t))]}var c2t=u2t,d2t=pH;function f2t(e){return d2t(e)?void 0:e}var h2t=f2t,p2t=X2e,m2t=Dwe,g2t=Owe;function v2t(e){return g2t(m2t(e,void 0,p2t),e+"")}var wH=v2t,y2t=id,b2t=xH,x2t=c2t,w2t=gb,C2t=D0,S2t=h2t,_2t=wH,E2t=vH,k2t=1,T2t=2,A2t=4,j2t=_2t(function(e,t){var n={};if(e==null)return n;var r=!1;t=y2t(t,function(a){return a=w2t(a,e),r||(r=a.length>1),a}),C2t(e,E2t(e),n),r&&(n=b2t(n,k2t|T2t|A2t,S2t));for(var i=t.length;i--;)x2t(n,t[i]);return n}),I2t=j2t;const Pa=Pe(I2t);var CH={exports:{}};const UP=[],ate=[],E_e=(e,t)=>{if(e===t)return 0;const n=e;e.length>t.length&&(e=t,t=n);let r=e.length,i=t.length;for(;r>0&&e.charCodeAt(~-r)===t.charCodeAt(~-i);)r--,i--;let a=0;for(;a<r&&e.charCodeAt(a)===t.charCodeAt(a);)a++;if(r-=a,i-=a,r===0)return i;let o,s,l,c,d=0,h=0;for(;d<r;)ate[d]=e.charCodeAt(a+d),UP[d]=++d;for(;h<i;)for(o=t.charCodeAt(a+h),l=h++,s=h,d=0;d<r;d++)c=o===ate[d]?l:l+1,l=UP[d],s=UP[d]=l>s?c>s?s+1:c:c>l?l+1:c;return s};CH.exports=E_e;CH.exports.default=E_e;var D2t=CH.exports;const $2t=Pe(D2t),O2t={},M2t=Object.freeze(Object.defineProperty({__proto__:null,default:O2t},Symbol.toStringTag,{value:"Module"})),R2t=XFe(M2t);var SH=typeof Map=="function"&&Map.prototype,HP=Object.getOwnPropertyDescriptor&&SH?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,aj=SH&&HP&&typeof HP.get=="function"?HP.get:null,ote=SH&&Map.prototype.forEach,_H=typeof Set=="function"&&Set.prototype,WP=Object.getOwnPropertyDescriptor&&_H?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,oj=_H&&WP&&typeof WP.get=="function"?WP.get:null,ste=_H&&Set.prototype.forEach,P2t=typeof WeakMap=="function"&&WeakMap.prototype,pC=P2t?WeakMap.prototype.has:null,F2t=typeof WeakSet=="function"&&WeakSet.prototype,mC=F2t?WeakSet.prototype.has:null,N2t=typeof WeakRef=="function"&&WeakRef.prototype,lte=N2t?WeakRef.prototype.deref:null,L2t=Boolean.prototype.valueOf,B2t=Object.prototype.toString,V2t=Function.prototype.toString,z2t=String.prototype.match,EH=String.prototype.slice,Yh=String.prototype.replace,U2t=String.prototype.toUpperCase,ute=String.prototype.toLowerCase,k_e=RegExp.prototype.test,cte=Array.prototype.concat,xc=Array.prototype.join,H2t=Array.prototype.slice,dte=Math.floor,r8=typeof BigInt=="function"?BigInt.prototype.valueOf:null,GP=Object.getOwnPropertySymbols,i8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,my=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Do=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===my||"symbol")?Symbol.toStringTag:null,T_e=Object.prototype.propertyIsEnumerable,fte=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function hte(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||k_e.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var r=e<0?-dte(-e):dte(e);if(r!==e){var i=String(r),a=EH.call(t,i.length+1);return Yh.call(i,n,"$&_")+"."+Yh.call(Yh.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Yh.call(t,n,"$&_")}var a8=R2t,pte=a8.custom,mte=j_e(pte)?pte:null,W2t=function e(t,n,r,i){var a=n||{};if(Th(a,"quoteStyle")&&a.quoteStyle!=="single"&&a.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Th(a,"maxStringLength")&&(typeof a.maxStringLength=="number"?a.maxStringLength<0&&a.maxStringLength!==1/0:a.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Th(a,"customInspect")?a.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Th(a,"indent")&&a.indent!==null&&a.indent!=="	"&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Th(a,"numericSeparator")&&typeof a.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=a.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return D_e(t,a);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var l=String(t);return s?hte(t,l):l}if(typeof t=="bigint"){var c=String(t)+"n";return s?hte(t,c):c}var d=typeof a.depth>"u"?5:a.depth;if(typeof r>"u"&&(r=0),r>=d&&d>0&&typeof t=="object")return o8(t)?"[Array]":"[Object]";var h=u_t(a,r);if(typeof i>"u")i=[];else if(I_e(i,t)>=0)return"[Circular]";function p($,D,M){if(D&&(i=H2t.call(i),i.push(D)),M){var O={depth:a.depth};return Th(a,"quoteStyle")&&(O.quoteStyle=a.quoteStyle),e($,O,r+1,i)}return e($,a,r+1,i)}if(typeof t=="function"&&!gte(t)){var m=e_t(t),g=VE(t,p);return"[Function"+(m?": "+m:" (anonymous)")+"]"+(g.length>0?" { "+xc.call(g,", ")+" }":"")}if(j_e(t)){var v=my?Yh.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):i8.call(t);return typeof t=="object"&&!my?Dx(v):v}if(o_t(t)){for(var b="<"+ute.call(String(t.nodeName)),y=t.attributes||[],x=0;x<y.length;x++)b+=" "+y[x].name+"="+A_e(G2t(y[x].value),"double",a);return b+=">",t.childNodes&&t.childNodes.length&&(b+="..."),b+="</"+ute.call(String(t.nodeName))+">",b}if(o8(t)){if(t.length===0)return"[]";var w=VE(t,p);return h&&!l_t(w)?"["+s8(w,h)+"]":"[ "+xc.call(w,", ")+" ]"}if(q2t(t)){var C=VE(t,p);return!("cause"in Error.prototype)&&"cause"in t&&!T_e.call(t,"cause")?"{ ["+String(t)+"] "+xc.call(cte.call("[cause]: "+p(t.cause),C),", ")+" }":C.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+xc.call(C,", ")+" }"}if(typeof t=="object"&&o){if(mte&&typeof t[mte]=="function"&&a8)return a8(t,{depth:d-r});if(o!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(t_t(t)){var S=[];return ote&&ote.call(t,function($,D){S.push(p(D,t,!0)+" => "+p($,t))}),vte("Map",aj.call(t),S,h)}if(i_t(t)){var _=[];return ste&&ste.call(t,function($){_.push(p($,t))}),vte("Set",oj.call(t),_,h)}if(n_t(t))return YP("WeakMap");if(a_t(t))return YP("WeakSet");if(r_t(t))return YP("WeakRef");if(Z2t(t))return Dx(p(Number(t)));if(J2t(t))return Dx(p(r8.call(t)));if(X2t(t))return Dx(L2t.call(t));if(K2t(t))return Dx(p(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(typeof globalThis<"u"&&t===globalThis||typeof ya<"u"&&t===ya)return"{ [object globalThis] }";if(!Y2t(t)&&!gte(t)){var E=VE(t,p),k=fte?fte(t)===Object.prototype:t instanceof Object||t.constructor===Object,T=t instanceof Object?"":"null prototype",j=!k&&Do&&Object(t)===t&&Do in t?EH.call(Qp(t),8,-1):T?"Object":"",I=k||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",A=I+(j||T?"["+xc.call(cte.call([],j||[],T||[]),": ")+"] ":"");return E.length===0?A+"{}":h?A+"{"+s8(E,h)+"}":A+"{ "+xc.call(E,", ")+" }"}return String(t)};function A_e(e,t,n){var r=(n.quoteStyle||t)==="double"?'"':"'";return r+e+r}function G2t(e){return Yh.call(String(e),/"/g,"&quot;")}function o8(e){return Qp(e)==="[object Array]"&&(!Do||!(typeof e=="object"&&Do in e))}function Y2t(e){return Qp(e)==="[object Date]"&&(!Do||!(typeof e=="object"&&Do in e))}function gte(e){return Qp(e)==="[object RegExp]"&&(!Do||!(typeof e=="object"&&Do in e))}function q2t(e){return Qp(e)==="[object Error]"&&(!Do||!(typeof e=="object"&&Do in e))}function K2t(e){return Qp(e)==="[object String]"&&(!Do||!(typeof e=="object"&&Do in e))}function Z2t(e){return Qp(e)==="[object Number]"&&(!Do||!(typeof e=="object"&&Do in e))}function X2t(e){return Qp(e)==="[object Boolean]"&&(!Do||!(typeof e=="object"&&Do in e))}function j_e(e){if(my)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!i8)return!1;try{return i8.call(e),!0}catch{}return!1}function J2t(e){if(!e||typeof e!="object"||!r8)return!1;try{return r8.call(e),!0}catch{}return!1}var Q2t=Object.prototype.hasOwnProperty||function(e){return e in this};function Th(e,t){return Q2t.call(e,t)}function Qp(e){return B2t.call(e)}function e_t(e){if(e.name)return e.name;var t=z2t.call(V2t.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function I_e(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function t_t(e){if(!aj||!e||typeof e!="object")return!1;try{aj.call(e);try{oj.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function n_t(e){if(!pC||!e||typeof e!="object")return!1;try{pC.call(e,pC);try{mC.call(e,mC)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function r_t(e){if(!lte||!e||typeof e!="object")return!1;try{return lte.call(e),!0}catch{}return!1}function i_t(e){if(!oj||!e||typeof e!="object")return!1;try{oj.call(e);try{aj.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function a_t(e){if(!mC||!e||typeof e!="object")return!1;try{mC.call(e,mC);try{pC.call(e,pC)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function o_t(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function D_e(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return D_e(EH.call(e,0,t.maxStringLength),t)+r}var i=Yh.call(Yh.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,s_t);return A_e(i,"single",t)}function s_t(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+U2t.call(t.toString(16))}function Dx(e){return"Object("+e+")"}function YP(e){return e+" { ? }"}function vte(e,t,n,r){var i=r?s8(n,r):xc.call(n,", ");return e+" ("+t+") {"+i+"}"}function l_t(e){for(var t=0;t<e.length;t++)if(I_e(e[t],`
`)>=0)return!1;return!0}function u_t(e,t){var n;if(e.indent==="	")n="	";else if(typeof e.indent=="number"&&e.indent>0)n=xc.call(Array(e.indent+1)," ");else return null;return{base:n,prev:xc.call(Array(t+1),n)}}function s8(e,t){if(e.length===0)return"";var n=`
`+t.prev+t.base;return n+xc.call(e,","+n)+`
`+t.prev}function VE(e,t){var n=o8(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=Th(e,i)?t(e[i],e):""}var a=typeof GP=="function"?GP(e):[],o;if(my){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var l in e)Th(e,l)&&(n&&String(Number(l))===l&&l<e.length||my&&o["$"+l]instanceof Symbol||(k_e.call(/[^\w$]/,l)?r.push(t(l,e)+": "+t(e[l],e)):r.push(l+": "+t(e[l],e))));if(typeof GP=="function")for(var c=0;c<a.length;c++)T_e.call(e,a[c])&&r.push("["+t(a[c])+"]: "+t(e[a[c]],e));return r}const l1=Pe(W2t),l8="__experimental_actions",$_e=["create","update","delete","publish"],qP=$_e,c_t=e=>l8 in e?e[l8]:$_e,d_t=(e,t)=>{if(!Array.isArray(t))throw new Error(`The value of <type>.${l8} should be an array with any of the actions ${qP.join(", ")}`);const n=Ug(t,qP);if(n.length>0)throw new Error(`Invalid action${n.length>1?"s":""} configured for schema type "${e}": ${n.join(", ")}. Valid actions are: ${qP.join(", ")}`);return t},f_t=e=>d_t(e.name,c_t(e)),yte=(e,t)=>f_t(e).includes(t),xt={TYPE_INVALID:"schema-type-invalid",TYPE_IS_ESM_MODULE:"schema-type-is-esm-module",TYPE_NAME_RESERVED:"schema-type-name-reserved",TYPE_MISSING_NAME:"schema-type-missing-name-or-type",TYPE_MISSING_TYPE:"schema-type-missing-name-or-type",TYPE_TITLE_RECOMMENDED:"schema-type-title-is-recommended",TYPE_TITLE_INVALID:"schema-type-title-is-recommended",OBJECT_FIELDS_INVALID:"schema-object-fields-invalid",OBJECT_FIELD_NOT_UNIQUE:"schema-object-fields-invalid",OBJECT_FIELD_NAME_INVALID:"schema-object-fields-invalid",OBJECT_FIELD_DEFINITION_INVALID_TYPE:"schema-object-fields-invalid",ARRAY_PREDEFINED_CHOICES_INVALID:"schema-predefined-choices-invalid",ARRAY_OF_ARRAY:"schema-array-of-array",ARRAY_OF_INVALID:"schema-array-of-invalid",ARRAY_OF_NOT_UNIQUE:"schema-array-of-invalid",ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT:"schema-array-of-type-global-type-conflict",ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT:"schema-array-of-type-builtin-type-conflict",REFERENCE_TO_INVALID:"schema-reference-to-invalid",REFERENCE_TO_NOT_UNIQUE:"schema-reference-to-invalid",REFERENCE_INVALID_OPTIONS:"schema-reference-invalid-options",REFERENCE_INVALID_OPTIONS_LOCATION:"schema-reference-options-nesting",REFERENCE_INVALID_FILTER_PARAMS_COMBINATION:"schema-reference-filter-params-combination",SLUG_SLUGIFY_FN_RENAMED:"slug-slugifyfn-renamed",ASSET_METADATA_FIELD_INVALID:"asset-metadata-field-invalid",CROSS_DATASET_REFERENCE_INVALID:"cross-dataset-reference-invalid",DEPRECATED_BLOCKEDITOR_KEY:"schema-deprecated-blockeditor-key",STANDALONE_BLOCK_TYPE:"schema-standalone-block-type"};function O_e(e,t,n){if(n&&!Object.keys(xt).some(r=>xt[r]===n))throw new Error(`Used the unknown helpId "${n}", please add it to the array in createValidationResult.js`);return{severity:e,message:t,helpId:n}}const Le=(e,t)=>O_e("error",e,t),Ei=(e,t)=>O_e("warning",e,t);function h_t(e){return cr(e.map(t=>M_e(t))).filter(t=>t.problems.length>0)}function $0(e,t=n=>Jn(n,e)){return function(n,r){const i=[...r,{kind:"type",type:n.type,name:n.name}],a=t(n)||[],o=Array.isArray(a)?a.map(s=>{const l={kind:"property",name:e},c=[...i,l];return M_e(s,c)}):[[{path:i,problems:[Le(`Member declaration (${e}) is not an array`)]}]];return[{path:i,problems:n._problems||[]},...cr(o)]}}const p_t=e=>Array.isArray(e)?e:typeof e>"u"&&[]||[e],bte=$0("fields"),m_t=$0("fields"),g_t=$0("fields"),v_t=$0("of"),y_t=$0("to",e=>"to"in e?p_t(e.to):[]),b_t=$0("marks.annotations"),x_t=$0("of"),w_t=(e,t)=>[...b_t(e,t),...x_t(e,t)];function C_t(e,t=[]){return[{path:[...t,{kind:"type",type:e.type,name:e.name}],problems:e._problems||[]}]}function M_e(e,t=[]){switch(e.type){case"object":return bte(e,t);case"document":return bte(e,t);case"array":return v_t(e,t);case"reference":return y_t(e,t);case"block":return w_t(e,t);case"image":return m_t(e,t);case"file":return g_t(e,t);default:return C_t(e,t)}}function G$(e,t=n=>n){const n=e.reduce((r,i)=>{const a=t(i);return r[a]||(r[a]=[]),r[a].push(i),r},{});return Object.keys(n).map(r=>n[r].length>1?n[r]:null).filter(Boolean)}const S_t=e=>e,__t={name:"type",type:null},E_t=["any","time","date"];function k_t(e=[],t=[],n=S_t){const r=Object.create(null),i=Object.create(null),a=t.map(g=>g.name),o=E_t.concat(a),s=e.map(g=>g&&g.name).filter(Boolean);t.forEach(g=>{r[g.name]=g}),e.forEach((g,v)=>{i[g&&g.name||`__unnamed_${v}`]={}});function l(g){return g==="type"?__t:r[g]||i[g]||null}const c=ra(cr(G$(s)));function d(g){return c.includes(g)}function h(){return s.concat(a)}function p(g){return g==="type"||o.includes(g)}const m=g=>(v,b)=>n(v,{visit:m(!1),isRoot:g,getType:l,getTypeNames:h,isReserved:p,isDuplicate:d,index:b});return t.forEach(g=>{Object.assign(r[g.name],m(g))}),e.forEach((g,v)=>{Object.assign(i[g&&g.name||`__unnamed_${v}`],m(!0)(g,v))}),{get(g){const v=i[g]||r[g];if(v)return v;throw new Error(`No such type: ${g}`)},has(g){return g in i||g in r},getTypeNames(){return Object.keys(i)},getTypes(){return this.getTypeNames().map(this.get)},toJSON(){return this.getTypes()}}}const R_e=[{name:"array",jsonType:"array",type:"type"},{name:"block",jsonType:"object",type:"type"},{name:"boolean",jsonType:"boolean",type:"type"},{name:"datetime",jsonType:"string",type:"type"},{name:"date",jsonType:"string",type:"type"},{name:"document",jsonType:"object",type:"type"},{name:"email",jsonType:"string",type:"type"},{name:"file",jsonType:"object",type:"type"},{name:"geopoint",jsonType:"object",type:"type"},{name:"image",jsonType:"object",type:"type"},{name:"number",jsonType:"number",type:"type"},{name:"object",jsonType:"object",type:"type"},{name:"reference",jsonType:"object",type:"type"},{name:"crossDatasetReference",jsonType:"object",type:"type"},{name:"slug",jsonType:"object",type:"type"},{name:"span",jsonType:"object",type:"type"},{name:"string",jsonType:"string",type:"type"},{name:"telephone",jsonType:"string",type:"type"},{name:"text",jsonType:"string",type:"type"},{name:"url",jsonType:"string",type:"type"}],P_e=R_e.map(e=>e.name);function T_t(e,t){return k_t(e,R_e,t)}function xte(e){return e==="string"||e==="number"||e==="boolean"}function A_t(e,t){return(typeof t.name=="string"?t.name:t.type)===e}function gC(e){return`"${e}"`}function wte(e,t="s"){return e.length===1?"":t}function Cte(e){return Array.isArray(e)?`array with ${e.length} entries`:typeof e=="object"&&e!==null?`object with keys ${Ru(Object.keys(e).map(gC))}`:gC(e)}var j_t=(e,t)=>{var n,r,i;const a=Array.isArray(e.of);if(a){const m=e.of.reduce((g,v,b)=>{if(typeof v.name=="string"&&v.name!==v.type&&P_e.includes(v.name))return g.concat(Le(`Found array member declaration with the same type name as a built-in type ("${v.name}"). Array members can not be given the same name as a built-in type.`,xt.ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT));if(v.type==="object"&&v.name&&t.getType(v.name))return g.concat(Ei(`Found array member declaration with the same name as the global schema type "${v.name}". It's recommended to use a unique name to avoid possibly incompatible data types that shares the same name.`,xt.ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT));if(v.type==="array")return g.concat(Le('Found array member declaration of type "array" - multidimensional arrays are not currently supported by Sanity',xt.ARRAY_OF_ARRAY));if(v)return g;const y=`Found ${v===null?"null":typeof v}, expected member declaration`;return g.concat(Le(`Found invalid type member declaration in array at index ${b}: ${y}`,xt.ARRAY_OF_INVALID))},[]);if(m.length>0)return{...e,of:[],_problems:m}}const o=cr([a?G$(e.of,m=>`${m.name};${m.type}`).map(m=>Le(`Found ${m.length} members with same type, but not unique names "${m[0].type}" in array. This makes it impossible to tell their values apart and you should consider naming them`,xt.ARRAY_OF_NOT_UNIQUE)):Le('The array type is missing or having an invalid value for the required "of" property',xt.ARRAY_OF_INVALID)]),s=a?e.of:[],l=s.some(m=>m.type==="object"&&typeof m.name>"u");s.some(m=>m.type==="block")&&l&&o.push(Le("The array type's 'of' property can't have an object type without a 'name' property as member, when the 'block' type is also a member of that array.",xt.ARRAY_OF_INVALID));const[c,d]=fH(s,m=>{var g;return xte(m.type)||xte((g=t.getType(m.type))==null?void 0:g.jsonType)}),h=c.length>0&&d.length>0;if(h){const m=c.map(v=>v.type),g=d.map(v=>v.type);o.push(Le(`The array type's 'of' property can't have both object types and primitive types (found primitive type ${wte(m)} ${Ru(m.map(gC))} and object type${wte(g)} ${Ru(g.map(gC))})`,xt.ARRAY_OF_INVALID))}const p=(n=e==null?void 0:e.options)==null?void 0:n.list;return!h&&Array.isArray(p)&&(c.length>0?p.forEach(m=>{var g;const v=(g=m==null?void 0:m.value)!=null?g:m;if(!c.some(b=>typeof v===t.getType(b.type).jsonType)){const b=Ru(c.map(y=>y.name||y.type),{conjunction:"or"});o.push(Le(`An invalid entry found in options.list: ${Cte(v)}. Must be either a value of type ${b}, or an object with {title: string, value: ${b}}`,xt.ARRAY_PREDEFINED_CHOICES_INVALID))}}):p.forEach(m=>{const g=m._type||"object";d.some(v=>A_t(g,v))||o.push(Le(`An invalid entry found in options.list: ${Cte(m)}. Must be an object with "_type" set to ${Ru(d.map(v=>v.name||v.type).map(v=>v==="object"?"undefined":gC(v)),{conjunction:"or"})}`,xt.ARRAY_PREDEFINED_CHOICES_INVALID))})),(r=e==null?void 0:e.options)!=null&&r.list&&((i=e==null?void 0:e.options)==null?void 0:i.layout)==="tags"&&o.push(Ei("Found array member declaration with both tags layout and a list of predefined values. If you want to display a list of predefined values, remove the tags layout from `options`.")),{...e,of:s.map(t.visit),_problems:o}};function F_e(e,t,n){if("jsonType"in e)return e.jsonType===t;const r=n.getType(e.type);if(!r)throw new Error(`Could not resolve jsonType of ${e.name}. No parent type found`);return F_e(r,t,n)}const Qs=e=>Array.isArray(e)?"array":typeof e,G2=e=>`"${e}"`,I_t=["components","lists","marks","name","of","options","styles","title","type","validation"],D_t=["decorators","annotations"],$_t=["blockEditor","title","value","icon","component"],O_t=["blockEditor","title","value","icon","component"],M_t=["title","value","icon","component"],Ste=["file","image","object","reference"];function R_t(e,t){const n=[];let r=e.styles,i=e.lists,a=e.marks,o=e.of;const s=Object.keys(e).filter(l=>!I_t.includes(l)&&!l.startsWith("_"));return s.length>0&&n.push(Le(`Found unknown properties for block declaration: ${Ru(s.map(G2))}`)),a&&(a=P_t(e.marks,t,n)),r&&(r=N_t(r,t,n)),i&&(i=F_t(i,t,n)),o&&(o=V_t(o,t,n)),{...Pa(e,s),marks:a,styles:r,name:e.name||e.type,of:o,_problems:n}}function P_t(e,t,n){let r=e.decorators,i=e.annotations;if(!dr(e))return n.push(Le(`"marks" declaration should be an object, got ${Qs(e)}`)),n;const a=Object.keys(e).filter(o=>!D_t.includes(o)&&!o.startsWith("_"));return a.length>0&&n.push(Le(`Found unknown properties for block declaration: ${Ru(a.map(G2))}`)),r&&!Array.isArray(r)?n.push(Le(`"marks.decorators" declaration should be an array, got ${Qs(r)}`)):r&&(r.filter(o=>!!o.blockEditor).forEach(o=>{o.icon=o.blockEditor.icon,o.component=o.blockEditor.render}),r=L_t(r,t,n)),i&&!Array.isArray(i)?n.push(Le(`"marks.annotations" declaration should be an array, got ${Qs(i)}`)):i&&(i=B_t(i,t,n)),{...e,decorators:r,annotations:i}}function F_t(e,t,n){return Array.isArray(e)?(e.forEach((r,i)=>{if(!dr(r)){n.push(Le(`List must be an object, got ${Qs(r)}`));return}const a=r.value||`#${i}`,o=Object.keys(r).filter(s=>!M_t.includes(s)&&!s.startsWith("_"));o.length>0&&n.push(Le(`Found unknown properties for list ${a}: ${Ru(o.map(G2))}`)),r.value?typeof r.value!="string"?n.push(Le(`List type #${i} has an invalid "value" property, expected string, got ${Qs(r.value)}`)):r.title||n.push(Ei(`List type ${a} is missing recommended "title" property`)):n.push(Le(`List #${i} is missing required "value" property`))}),e):(n.push(Le(`"lists" declaration should be an array, got ${Qs(e)}`)),n)}function N_t(e,t,n){return Array.isArray(e)?(e.forEach((r,i)=>{if(!dr(r)){n.push(Le(`Style must be an object, got ${Qs(r)}`));return}const a=r.value||`#${i}`,o=Object.keys(r).filter(s=>!$_t.includes(s)&&!s.startsWith("_"));o.length>0&&n.push(Le(`Found unknown properties for style ${a}: ${Ru(o.map(G2))}`)),r.value?typeof r.value!="string"?n.push(Le(`Style #${i} has an invalid "value" property, expected string, got ${Qs(r.value)}`)):r.title||n.push(Ei(`Style ${a} is missing recommended "title" property`)):n.push(Le(`Style #${i} is missing required "value" property`)),typeof r.blockEditor<"u"&&(n.push(Ei('Style has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.',xt.DEPRECATED_BLOCKEDITOR_KEY)),r.component=r.component||r.blockEditor.render)}),e):(n.push(Le(`"styles" declaration should be an array, got ${Qs(e)}`)),n)}function L_t(e,t,n){return e.forEach((r,i)=>{if(!dr(r)){n.push(Le(`Annotation must be an object, got ${Qs(r)}`));return}const a=r.value||`#${i}`,o=Object.keys(r).filter(s=>!O_t.includes(s)&&!s.startsWith("_"));o.length>0&&n.push(Le(`Found unknown properties for decorator ${a}: ${Ru(o.map(G2))}`)),r.value?typeof r.value!="string"?n.push(Le(`Decorator #${i} has an invalid "value" property, expected string, got ${Qs(r.value)}`)):r.title||n.push(Ei(`Decorator ${a} is missing recommended "title" property`)):n.push(Le(`Decorator #${i} is missing required "value" property`)),typeof r.blockEditor<"u"&&(n.push(Ei(`Decorator "${a}" has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.`,xt.DEPRECATED_BLOCKEDITOR_KEY)),r.icon=r.icon||r.blockEditor.icon,r.component=r.component||r.blockEditor.render)}),e}function B_t(e,t,n){return e.map(r=>{var i,a;if(!dr(r))return{...r,_problems:[Le(`Annotation must be an object, got ${Qs(r)}`)]};const{_problems:o}=t.visit(r,t),s=r.type&&t.getType(r.type);return s&&!F_e(s,"object",t)&&o.push(Le(`Annotation cannot have type "${r.type}" - annotation types must inherit from object`)),typeof r.blockEditor<"u"&&(n.push(Ei('Annotation has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.',xt.DEPRECATED_BLOCKEDITOR_KEY)),r.icon=r.icon||r.blockEditor.icon,(i=r.blockEditor)!=null&&i.render&&!((a=r.components)!=null&&a.annotation)&&(r.components=r.components||{},r.components.annotation=r.components.annotation||r.blockEditor.render)),{...r,_problems:o}})}function V_t(e,t,n){if(!Array.isArray(e)){n.push(Le(`"of" declaration should be an array, got ${Qs(e)}`));return}return e.map(r=>{const{_problems:i}=t.visit(r,t);if(r.type==="object"&&r.name&&t.getType(r.name))return{...r,_problems:[Ei(`Found array member declaration with the same name as the global schema type "${r.name}". It's recommended to use a unique name to avoid possibly incompatible data types that shares the same name.`,xt.ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT)]};let a=r;for(;a&&!a.jsonType;)a=t.getType(a.type);const o=P_e.filter(s=>!Ste.includes(s));return a&&a.jsonType!=="object"||o.some(s=>s===r.type)?{...r,_problems:[Le(`Block member types must be a supported object-like type. The following built-in types are supported: '${Ste.join("', '")}'. You can also use shorthands for previously defined object types like {type: 'myObjectType'}`,xt.ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT)]}:{...r,_problems:i}})}function z_t(e,t){if(!("fields"in e))return[];let n=e;for(;n&&!n.jsonType;)n=t.getType(n.type);return n&&n.jsonType!=="object"?[Le('Type has propery "fields", but is not an object/document type.')]:[]}const U_t=e=>`"${e}"`;function H_t(e,t){const n=t.getTypeNames();if(!e)return[Le("Type is missing a type.",xt.TYPE_MISSING_TYPE)];if(typeof e!="string")return[Le('Type has an invalid "type"-property - should be a string.',xt.TYPE_MISSING_TYPE)];if(!n.includes(e)){const r=n.map(a=>[$2t(e,a),a]).filter(([a])=>a<3).map(([a,o])=>o),i=r.length>0?` Did you mean ${Ru(r.map(U_t),{conjunction:"or"})}?`:"";return[Le(`Unknown type: ${e}.${i}`)]}return[]}function W_t(e){var t,n,r;const i=[];return e!=null&&e.inputComponent&&i.push(Ei('The "inputComponent" property is deprecated. Use "components.input" instead.')),(t=e==null?void 0:e.preview)!=null&&t.component&&i.push(Ei('The "preview.component" property is deprecated. Use "components.preview" instead.')),e!=null&&e.diffComponent&&i.push(Ei('The "diffComponent" property is deprecated. Use "components.diff" instead.')),(n=e==null?void 0:e.options)!=null&&n.editModal&&i.push(Ei('The "options.editModal" property is deprecated. Use "options.modal" instead.')),(r=e==null?void 0:e.options)!=null&&r.isHighlighted&&i.push(Ei('The "options.isHighlighted" property is deprecated. You can put fields behind a collapsed fieldset if you want to hide them from plain sight.')),i}var _te=(e,t)=>({...e,_problems:[...H_t(e.type,t),...z_t(e,t),...W_t(e)].filter(Boolean)});function G_t(e){return Array.isArray(e.to)?e.to:e.to?[e.to]:e.to}const Y_t=/^[a-z0-9~][-_a-z0-9]+$/;function q_t(e){return e.length>=2&&e.toLowerCase()===e&&Y_t.test(e)||`The provided dataset "${e}" doesn't look like a valid dataset. Dataset names must be more than 2 characters, can only contain lowercase characters, numbers, underscores and dashes and can not start with a dash or an underscore`}var K_t=(e,t)=>{const n=Array.isArray(e.to)||dr(e.to),r=G_t(e),i=cr([n?G$(r,a=>`${a.name};${a.type}`).map(a=>Le(`Found ${a.length} members with same type, but not unique names "${a[0].type}" in reference. This makes it impossible to tell their values apart and you should consider naming them`,xt.CROSS_DATASET_REFERENCE_INVALID)):Le('The cross dataset reference type is missing or having an invalid value for the required "to" property. It should be an array of accepted types.',xt.CROSS_DATASET_REFERENCE_INVALID)]);if(n&&r.length===0&&i.push(Le('The cross dataset reference type should define at least one referenced type. Please check the "to" property.',xt.CROSS_DATASET_REFERENCE_INVALID)),r.forEach((a,o)=>{a.type||i.push(Le(`The referenced type at index ${o} must be named. Specify the name of the type you want to create references to.`,xt.CROSS_DATASET_REFERENCE_INVALID)),dr(a.preview)||i.push(Le(`Missing required preview config for the referenced type "${a.type||"<unknown type>"}"`,xt.CROSS_DATASET_REFERENCE_INVALID))}),typeof e.dataset=="string"){const a=q_t(e.dataset);a!==!0&&i.push(Le(a,xt.CROSS_DATASET_REFERENCE_INVALID))}else i.push(Le("A cross dataset reference must specify a `dataset`",xt.CROSS_DATASET_REFERENCE_INVALID));return e.studioUrl&&typeof e.studioUrl!="function"&&i.push(Le('The "studioUrl" property on a cross dataset reference must be a function taking "{id, type}" as argument and returning a studio url.',xt.CROSS_DATASET_REFERENCE_INVALID)),i.push(...Z_t(e)),{...e,_problems:i}};function Z_t(e){const{options:t}=e,n=[];return n.push(...["filter","filterParams"].filter(r=>r in e).map(r=>Le(`\`${r}\` is not allowed on a reference type definition - did you mean \`options.${r}\`?`,xt.REFERENCE_INVALID_OPTIONS_LOCATION))),t?dr(t)?typeof t.filter=="function"&&typeof t.filterParams<"u"?n.concat(Le("`filterParams` cannot be used if `filter` is a function. Either statically define `filter` as a string, or return `params` from the `filter`-function.",xt.REFERENCE_INVALID_FILTER_PARAMS_COMBINATION)):typeof t.filter=="function"||!t.filter&&!t.filterParams?n:typeof t.filter!="string"?n.concat(Le(`If set, \`filter\` must be a string. Got ${typeof t.filter}`)):typeof t.filterParams<"u"&&!dr(t.filterParams)?n.concat(Le("If set, `filterParams` must be an object.")):t.filterParams?n.concat(Object.keys(t.filterParams).filter(r=>r.startsWith("__")||r.startsWith("$")).map(r=>Le(`Filter parameter cannot be prefixed with "$" or "__". Got ${r}".`))):n:n.concat(Le("The reference type expects `options` to be an object",xt.REFERENCE_INVALID_OPTIONS)):n}const X_t=/^Symbol\(react\..+\)$/;function zE(e){return typeof e=="function"||typeof(e==null?void 0:e.$$typeof)=="symbol"&&X_t.test(String(e==null?void 0:e.$$typeof))}function N_e(e){const t="components"in e?e.components:!1;if(!t)return[];const n=[];return t.input&&!zE(t.input)&&n.push(Ei(`The \`components.input\` property is set but does not appear to be a valid React component (expected a function, but saw ${l1(t.input)}). If you have imported a custom input component, please verify that you have imported the correct named/default export.`)),t.field&&!zE(t.field)&&n.push(Ei(`The \`components.field\` property is set but does not appear to be a valid React component (expected a function, but saw ${l1(t.field)}). If you have imported a custom field component, please verify that you have imported the correct named/default export.`)),t.item&&!zE(t.item)&&n.push(Ei(`The \`components.item\` property is set but does not appear to be a valid React component (expected a function, but saw ${l1(t.item)}). If you have imported a custom item component, please verify that you have imported the correct named/default export.`)),t.preview&&!zE(t.preview)&&n.push(Ei(`The \`components.preview\` property is set but does not appear to be a valid React component (expected a function, but saw ${l1(t.preview)}). If you have imported a custom preview component, please verify that you have imported the correct named/default export.`)),n}const Ete=/^[A-Za-z]+[0-9A-Za-z_]*$/,J_t=/^[A-Za-z_]+[0-9A-Za-z_]*$/;function Q_t(e){return typeof e!="string"?[Le(`Field names must be strings. Saw "${l1(e)}"`,xt.OBJECT_FIELD_NAME_INVALID)]:e.startsWith("_")?[Le(`Invalid field name "${e}". Field names cannot start with underscores "_" as it's reserved for system fields.`,xt.OBJECT_FIELD_NAME_INVALID)]:Ete.test(e)?J_t.test(e)?[]:[Ei("Thats an interesting field name for sure! But it is... how to put it... a bit... unconventional? It may be wise to keep special characters out of field names for easier access later on."),xt.OBJECT_FIELD_NAME_INVALID]:[Le(`Invalid field name: "${e}". Fields can only contain characters from A-Z, numbers and underscores and should not start with a number (must pass the regular expression ${String(Ete)}).`,xt.OBJECT_FIELD_NAME_INVALID)]}function kH(e,t){if(!dr(e))return[Le(`Incorrect type for field definition - should be an object, saw ${l1(e)}`,xt.OBJECT_FIELD_DEFINITION_INVALID_TYPE)];const n=[];return n.push(..."name"in e?Q_t(e.name):[Le("Missing field name",xt.OBJECT_FIELD_NAME_INVALID)]),n.push(...N_e(e)),n}function eEt(e){const t={};return e.forEach(n=>{t[n.name]||(t[n.name]=[]),t[n.name].push(n)}),Object.keys(t).map(n=>t[n].length>1?t[n]:null).filter(Boolean)}function TH(e,t={allowEmpty:!1}){const n=[];if(!Array.isArray(e))return[Le(`The "fields" property must be an array of fields. Instead saw "${typeof e}"`,xt.OBJECT_FIELDS_INVALID)];const r=e.filter(a=>typeof a.name=="string");eEt(r).forEach(a=>{n.push(Le(`Found ${a.length} fields with name "${a[0].name}" in object`,xt.OBJECT_FIELD_NOT_UNIQUE))}),e.length===0&&!t.allowEmpty&&n.push(Le("Object should have at least one field",xt.OBJECT_FIELDS_INVALID));const i=e.filter(a=>a.type==="block").map(a=>`"${a.name}"`);if(i.length>0){const a=i.join(", ");n.push(Le(`Invalid standalone block field(s) ${a}. Block content must be defined as an array of blocks`,xt.STANDALONE_BLOCK_TYPE))}return n}function tEt(e){return dr(e)?typeof e.prepare<"u"&&typeof e.prepare!="function"?[Le(`The "preview.prepare" property must be a function, instead saw "${typeof e.prepare}"`)]:e.select?dr(e.select)?Object.keys(e.select).reduce((t,n)=>typeof e.select[n]=="string"?t:t.concat(Le(`The key "${n}" of "preview.select" must be a string, instead saw "${typeof e.select[n]}"`)),[]):[Le(`The "preview.select" property must be an object, instead saw "${typeof e.prepare}"`)]:[]:[Le(`The "preview" property must be an object, instead saw "${typeof e}"`)]}var L_e=(e,t)=>{let n=TH(e.fields),r=e.preview;if(r){const i=tEt(e.preview);n=n.concat(i),r=i.some(a=>a.severity==="error")?{}:r}return e.type!=="document"&&e.type!=="object"&&typeof e.initialValue<"u"&&n.push(Le('The "initialValue" property is currently only supported for document & object types.')),{...e,preview:r,fields:(Array.isArray(e.fields)?e.fields:[]).map((i,a)=>{const{name:o,...s}=i,{_problems:l,...c}=t.visit(s,a);return{name:o,...c,_problems:kH(i).concat(l||[])}}),_problems:n}},nEt=(e,t)=>{const n=L_e(e,t),{initialValue:r,initialValues:i}=n;return typeof r<"u"&&!dr(r)&&typeof r!="function"&&n._problems.push(Le('The "initialValue" property must be either a plain object or a function')),typeof i<"u"&&n._problems.push(Le('Found property "initialValues" - did you mean "initialValue"?')),n},rEt=(e,t)=>{const n=[],r=e.fields;r&&n.push(...TH(r,{allowEmpty:!0}));const i=Array.isArray(r)?r==null?void 0:r.filter(a=>a.name==="asset"):[];return e.options&&typeof e.options.metadata<"u"&&!Array.isArray(e.options.metadata)?n.push(Le("Invalid type for file `metadata` field - must be an array of strings",xt.ASSET_METADATA_FIELD_INVALID)):i.length>0&&n.push(Le("The name `asset` is not a valid field name for type `file`.")),{...e,fields:(Array.isArray(r)?r:[]).map((a,o)=>{const{name:s,...l}=a,{_problems:c,...d}=t.visit(l,o);return{name:s,...d,_problems:kH(a).concat(c||[])}}),_problems:n}};const kte=["dimensions","hasAlpha","isOpaque"];var iEt=(e,t)=>{const n=[],r=e.fields;r&&n.push(...TH(r,{allowEmpty:!0}));let i=e.options;const a=i==null?void 0:i.metadata,o=Array.isArray(a)?a.filter(c=>kte.includes(c)):[],s=["asset","hotspot","crop"],l=Array.isArray(r)?r==null?void 0:r.filter(c=>s.includes(c.name)):[];return typeof a<"u"&&!Array.isArray(a)?n.push(Le("Invalid type for image `metadata` field - must be an array of strings",xt.ASSET_METADATA_FIELD_INVALID)):o.length>0?(n.push(Ei(`Image \`metadata\` field contains superfluous properties (they are always included): ${o.join(", ")}`)),i={...i,metadata:a.filter(c=>!kte.includes(c))}):l.length>0&&n.push(Le(`The names \`${s.join("`, `")}\` are invalid field names for type \`image\`.`)),{...e,options:i,fields:(Array.isArray(r)?r:[]).map((c,d)=>{const{name:h,...p}=c,{_problems:m,...g}=t.visit(p,d);return{name:h,...g,_problems:kH(c).concat(m||[])}}),_problems:n}};function aEt(e){return Array.isArray(e.to)?e.to:e.to?[e.to]:e.to}var oEt=(e,t)=>{const n=Array.isArray(e.to)||dr(e.to),r=aEt(e),i=cr([n?G$(r,a=>`${a.name};${a.type}`).map(a=>Le(`Found ${a.length} members with same type, but not unique names "${a[0].type}" in reference. This makes it impossible to tell their values apart and you should consider naming them`,xt.REFERENCE_TO_INVALID)):Le('The reference type is missing or having an invalid value for the required "to" property. It should be an array of accepted types.',xt.REFERENCE_TO_INVALID)]);return n&&r.length===0&&i.push(Le('The reference type should define at least one accepted type. Please check the "to" property.',xt.REFERENCE_TO_INVALID)),i.push(...sEt(e)),{...e,to:(n?r:[]).map(t.visit),_problems:i}};function sEt(e){const{options:t}=e,n=[];return n.push(...["filter","filterParams"].filter(r=>r in e).map(r=>Le(`\`${r}\` is not allowed on a reference type definition - did you mean \`options.${r}\`?`,xt.REFERENCE_INVALID_OPTIONS_LOCATION))),t?dr(t)?typeof t.filter=="function"&&typeof t.filterParams<"u"?n.concat(Le("`filterParams` cannot be used if `filter` is a function. Either statically define `filter` as a string, or return `params` from the `filter`-function.",xt.REFERENCE_INVALID_FILTER_PARAMS_COMBINATION)):typeof t.filter=="function"||!t.filter&&!t.filterParams?n:typeof t.filter!="string"?n.concat(Le(`If set, \`filter\` must be a string. Got ${typeof t.filter}`)):typeof t.filterParams<"u"&&!dr(t.filterParams)?n.concat(Le("If set, `filterParams` must be an object.")):t.filterParams?n.concat(Object.keys(t.filterParams).filter(r=>r.startsWith("__")||r.startsWith("$")).map(r=>Le(`Filter parameter cannot be prefixed with "$" or "__". Got ${r}".`))):n:n.concat(Le("The reference type expects `options` to be an object",xt.REFERENCE_INVALID_OPTIONS)):n}var lEt=(e,t)=>{const n=!!e.name;if(!n&&Object.keys(e).length===1)return{...e,_problems:[Le("Invalid/undefined type declaration, check declaration or the import/export of the schema type.",xt.TYPE_INVALID)]};const r=[];return uEt(e)?r.push(Le("Type appears to be an ES6 module imported through CommonJS require - use an import statement or access the `.default` property",xt.TYPE_IS_ESM_MODULE)):n?t.isReserved(e.name)&&r.push(Le(`Invalid type name: "${e.name}" is a reserved name.`,xt.TYPE_NAME_RESERVED)):r.push(Le("Missing type name",xt.TYPE_MISSING_NAME)),t.isDuplicate(e.name)&&r.push(Le(`Invalid type name: A type with name "${e.name}" is already defined in the schema.`)),r.push(...N_e(e)),"title"in e&&typeof e.title!="string"&&r.push(Ei("Type title is not a string.",xt.TYPE_TITLE_INVALID)),{...e,_problems:r}};function uEt(e){return!e.name&&e.default&&(e.default.name||e.default.title)}var cEt=(e,t)=>{const n=[];return e.options&&e.options.slugifyFn&&(n.push(Ei('Heads up! The "slugifyFn" option has been renamed to "slugify".',xt.SLUG_SLUGIFY_FN_RENAMED)),e.options.slugify=e.options.slugifyFn),{...e,_problems:n}};const dEt={array:j_t,object:L_e,slug:cEt,file:rEt,image:iEt,block:R_t,document:nEt,reference:oEt,crossDatasetReference:K_t},fEt=e=>t=>({name:`<unnamed_type_@_index_${e.index}>`,...t,_problems:[]});function Tte(...e){return(t,n)=>e.reduce((r,i)=>{const a=i(r,n);return{...a,_problems:r._problems.concat(a._problems)}},{_problems:[],...t})}function hEt(e){return T_t(e,(t,n)=>{const r=t&&t.type&&dEt[t.type]||fEt(n);return n.isRoot?Tte(lEt,_te,r)(t,n):Tte(_te,r)(t,n)})}function pEt(e){for(var t=-1,n=e==null?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i}var mEt=pEt;const Y$=Pe(mEt);function gEt(){}var AH=gEt,vEt=bH,yEt=AH;function sj(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}sj.prototype=vEt(yEt.prototype);sj.prototype.constructor=sj;var jH=sj,Ate=bwe,bEt=Ate&&new Ate,xEt=bEt,jte=xEt,wEt=nH,CEt=jte?function(e){return jte.get(e)}:wEt,B_e=CEt,SEt={},_Et=SEt,Ite=_Et,EEt=Object.prototype,kEt=EEt.hasOwnProperty;function TEt(e){for(var t=e.name+"",n=Ite[t],r=kEt.call(Ite,t)?n.length:0;r--;){var i=n[r],a=i.func;if(a==null||a==e)return i.name}return t}var V_e=TEt,AEt=bH,jEt=AH,IEt=4294967295;function lj(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=IEt,this.__views__=[]}lj.prototype=AEt(jEt.prototype);lj.prototype.constructor=lj;var IH=lj,DEt=IH,$Et=jH,OEt=gH;function MEt(e){if(e instanceof DEt)return e.clone();var t=new $Et(e.__wrapped__,e.__chain__);return t.__actions__=OEt(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var REt=MEt,PEt=IH,Dte=jH,FEt=AH,NEt=Hi,LEt=ul,BEt=REt,VEt=Object.prototype,zEt=VEt.hasOwnProperty;function uj(e){if(LEt(e)&&!NEt(e)&&!(e instanceof PEt)){if(e instanceof Dte)return e;if(zEt.call(e,"__wrapped__"))return BEt(e)}return new Dte(e)}uj.prototype=FEt.prototype;uj.prototype.constructor=uj;var UEt=uj,HEt=IH,WEt=B_e,GEt=V_e,YEt=UEt;function qEt(e){var t=GEt(e),n=YEt[t];if(typeof n!="function"||!(t in HEt.prototype))return!1;if(e===n)return!0;var r=WEt(n);return!!r&&e===r[0]}var KEt=qEt,$te=jH,ZEt=wH,XEt=B_e,KP=V_e,JEt=Hi,Ote=KEt,QEt="Expected a function",ekt=8,tkt=32,nkt=128,rkt=256;function ikt(e){return ZEt(function(t){var n=t.length,r=n,i=$te.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if(typeof a!="function")throw new TypeError(QEt);if(i&&!o&&KP(a)=="wrapper")var o=new $te([],!0)}for(r=o?r:n;++r<n;){a=t[r];var s=KP(a),l=s=="wrapper"?XEt(a):void 0;l&&Ote(l[0])&&l[1]==(nkt|ekt|tkt|rkt)&&!l[4].length&&l[9]==1?o=o[KP(l[0])].apply(o,l[3]):o=a.length==1&&Ote(a)?o[s]():o.thru(a)}return function(){var c=arguments,d=c[0];if(o&&c.length==1&&JEt(d))return o.plant(d).value();for(var h=0,p=n?t[h].apply(this,c):d;++h<n;)p=t[h].call(this,p);return p}})}var akt=ikt,okt=akt,skt=okt(),lkt=skt;const ukt=Pe(lkt);var ckt=du;function dkt(e){return ckt(e).toLowerCase()}var fkt=dkt;const M1=Pe(fkt);var hkt=__e;function pkt(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:hkt(e,t,n)}var z_e=pkt,mkt=QU;function gkt(e,t){for(var n=e.length;n--&&mkt(t,e[n],0)>-1;);return n}var vkt=gkt,ykt=QU;function bkt(e,t){for(var n=-1,r=e.length;++n<r&&ykt(t,e[n],0)>-1;);return n}var xkt=bkt;function wkt(e){return e.split("")}var Ckt=wkt,Skt="\\ud800-\\udfff",_kt="\\u0300-\\u036f",Ekt="\\ufe20-\\ufe2f",kkt="\\u20d0-\\u20ff",Tkt=_kt+Ekt+kkt,Akt="\\ufe0e\\ufe0f",jkt="\\u200d",Ikt=RegExp("["+jkt+Skt+Tkt+Akt+"]");function Dkt(e){return Ikt.test(e)}var U_e=Dkt,H_e="\\ud800-\\udfff",$kt="\\u0300-\\u036f",Okt="\\ufe20-\\ufe2f",Mkt="\\u20d0-\\u20ff",Rkt=$kt+Okt+Mkt,Pkt="\\ufe0e\\ufe0f",Fkt="["+H_e+"]",u8="["+Rkt+"]",c8="\\ud83c[\\udffb-\\udfff]",Nkt="(?:"+u8+"|"+c8+")",W_e="[^"+H_e+"]",G_e="(?:\\ud83c[\\udde6-\\uddff]){2}",Y_e="[\\ud800-\\udbff][\\udc00-\\udfff]",Lkt="\\u200d",q_e=Nkt+"?",K_e="["+Pkt+"]?",Bkt="(?:"+Lkt+"(?:"+[W_e,G_e,Y_e].join("|")+")"+K_e+q_e+")*",Vkt=K_e+q_e+Bkt,zkt="(?:"+[W_e+u8+"?",u8,G_e,Y_e,Fkt].join("|")+")",Ukt=RegExp(c8+"(?="+c8+")|"+zkt+Vkt,"g");function Hkt(e){return e.match(Ukt)||[]}var Wkt=Hkt,Gkt=Ckt,Ykt=U_e,qkt=Wkt;function Kkt(e){return Ykt(e)?qkt(e):Gkt(e)}var Z_e=Kkt,Zkt=lwe,Xkt=Gpe,Jkt=z_e,Qkt=vkt,e5t=xkt,Mte=Z_e,t5t=du;function n5t(e,t,n){if(e=t5t(e),e&&(n||t===void 0))return Xkt(e);if(!e||!(t=Zkt(t)))return e;var r=Mte(e),i=Mte(t),a=e5t(r,i),o=Qkt(r,i)+1;return Jkt(r,a,o).join("")}var r5t=n5t;const i5t=Pe(r5t);var a5t=fb,o5t=T0,s5t=V$,l5t=U$,u5t=o5t(function(e){return s5t(a5t(e,1,l5t,!0))}),c5t=u5t;const X_e=Pe(c5t);var d5t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function f5t(e){return e.match(d5t)||[]}var h5t=f5t,p5t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function m5t(e){return p5t.test(e)}var g5t=m5t,J_e="\\ud800-\\udfff",v5t="\\u0300-\\u036f",y5t="\\ufe20-\\ufe2f",b5t="\\u20d0-\\u20ff",x5t=v5t+y5t+b5t,Q_e="\\u2700-\\u27bf",eEe="a-z\\xdf-\\xf6\\xf8-\\xff",w5t="\\xac\\xb1\\xd7\\xf7",C5t="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",S5t="\\u2000-\\u206f",_5t=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",tEe="A-Z\\xc0-\\xd6\\xd8-\\xde",E5t="\\ufe0e\\ufe0f",nEe=w5t+C5t+S5t+_5t,rEe="['’]",Rte="["+nEe+"]",k5t="["+x5t+"]",iEe="\\d+",T5t="["+Q_e+"]",aEe="["+eEe+"]",oEe="[^"+J_e+nEe+iEe+Q_e+eEe+tEe+"]",A5t="\\ud83c[\\udffb-\\udfff]",j5t="(?:"+k5t+"|"+A5t+")",I5t="[^"+J_e+"]",sEe="(?:\\ud83c[\\udde6-\\uddff]){2}",lEe="[\\ud800-\\udbff][\\udc00-\\udfff]",Iv="["+tEe+"]",D5t="\\u200d",Pte="(?:"+aEe+"|"+oEe+")",$5t="(?:"+Iv+"|"+oEe+")",Fte="(?:"+rEe+"(?:d|ll|m|re|s|t|ve))?",Nte="(?:"+rEe+"(?:D|LL|M|RE|S|T|VE))?",uEe=j5t+"?",cEe="["+E5t+"]?",O5t="(?:"+D5t+"(?:"+[I5t,sEe,lEe].join("|")+")"+cEe+uEe+")*",M5t="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",R5t="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",P5t=cEe+uEe+O5t,F5t="(?:"+[T5t,sEe,lEe].join("|")+")"+P5t,N5t=RegExp([Iv+"?"+aEe+"+"+Fte+"(?="+[Rte,Iv,"$"].join("|")+")",$5t+"+"+Nte+"(?="+[Rte,Iv+Pte,"$"].join("|")+")",Iv+"?"+Pte+"+"+Fte,Iv+"+"+Nte,R5t,M5t,iEe,F5t].join("|"),"g");function L5t(e){return e.match(N5t)||[]}var B5t=L5t,V5t=h5t,z5t=g5t,U5t=du,H5t=B5t;function W5t(e,t,n){return e=U5t(e),t=n?void 0:t,t===void 0?z5t(e)?H5t(e):V5t(e):e.match(t)||[]}var dEe=W5t;const fEe=Pe(dEe);function DH(e){const t=typeof window<"u"&&"crypto"in window?window.crypto:globalThis.crypto;if(!t||!t.getRandomValues)throw new Error("WebCrypto not available in this environment");return t.getRandomValues(e)}var hEe=Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty);function G5t(e){for(const t in e)if(!(t==="_type"||t==="_key")&&hEe(e,t)&&!$H(e[t]))return!1;return!0}function Y5t(e){for(let t=0;t<e.length;t++)if(!$H(e[t]))return!1;return!0}function $H(e){if(e==null)return!0;const t=typeof e;return Array.isArray(e)?Y5t(e):t==="object"?G5t(e):!1}function q5t(e){for(const t in e)if(!(t==="_type"||t==="_key")&&hEe(e,t)&&e[t]!==void 0)return!1;return!0}const K5t=(()=>{let e;return()=>{if(e)return e;e=[];for(let t=0;t<256;++t)e[t]=(t+256).toString(16).slice(1);return e}})();function Z5t(e=16){const t=new Uint8Array(e);return DH(t),t}function Y2(e){const t=K5t();return Z5t(e).reduce((n,r)=>n+t[r],"").slice(0,e)}const X5t=Object.prototype.toString;function J5t(e){switch(X5t.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}if(typeof e=="object"&&e&&typeof e.length=="number")try{if(typeof e.callee=="function")return"arguments"}catch(t){if(t instanceof TypeError)return"arguments"}return e===null?"null":e===void 0?"undefined":e&&e.nodeType===1?"element":e===Object(e)?"object":typeof e}function ks(e){const t=J5t(e);if(t!=="object")return t;const n=e;return"_type"in n&&n._type||t}var Q5t=p$,eTt=eH,tTt=tH,nTt=id,rTt=yb,Lte=m$,iTt=Math.min;function aTt(e,t,n){for(var r=n?tTt:eTt,i=e[0].length,a=e.length,o=a,s=Array(a),l=1/0,c=[];o--;){var d=e[o];o&&t&&(d=nTt(d,rTt(t))),l=iTt(d.length,l),s[o]=!n&&(t||i>=120&&d.length>=120)?new Q5t(o&&d):void 0}d=e[0];var h=-1,p=s[0];e:for(;++h<i&&c.length<l;){var m=d[h],g=t?t(m):m;if(m=n||m!==0?m:0,!(p?Lte(p,g):r(c,g,n))){for(o=a;--o;){var v=s[o];if(!(v?Lte(v,g):r(e[o],g,n)))continue e}p&&p.push(g),c.push(m)}}return c}var oTt=aTt,sTt=U$;function lTt(e){return sTt(e)?e:[]}var uTt=lTt,cTt=id,dTt=oTt,fTt=T0,hTt=uTt,pTt=fTt(function(e){var t=cTt(e,hTt);return t.length&&t[0]===e[0]?dTt(t):[]}),mTt=pTt;const cj=Pe(mTt);var gTt=gwe,vTt=$2,yTt=l$,bTt=Hi,xTt=qp,wTt=g$,CTt=y$,STt=Qz,_Tt="[object Map]",ETt="[object Set]",kTt=Object.prototype,TTt=kTt.hasOwnProperty;function ATt(e){if(e==null)return!0;if(xTt(e)&&(bTt(e)||typeof e=="string"||typeof e.splice=="function"||wTt(e)||STt(e)||yTt(e)))return!e.length;var t=vTt(e);if(t==_Tt||t==ETt)return!e.size;if(CTt(e))return!gTt(e).length;for(var n in e)if(TTt.call(e,n))return!1;return!0}var jTt=ATt;const ITt=Pe(jTt);function DTt(e,t,n,r){var i=-1,a=e==null?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}var $Tt=DTt;function OTt(e){return function(t){return e==null?void 0:e[t]}}var pEe=OTt,MTt=pEe,RTt={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},PTt=MTt(RTt),FTt=PTt,NTt=FTt,LTt=du,BTt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,VTt="\\u0300-\\u036f",zTt="\\ufe20-\\ufe2f",UTt="\\u20d0-\\u20ff",HTt=VTt+zTt+UTt,WTt="["+HTt+"]",GTt=RegExp(WTt,"g");function YTt(e){return e=LTt(e),e&&e.replace(BTt,NTt).replace(GTt,"")}var mEe=YTt;const gy=Pe(mEe);var qTt=$Tt,KTt=mEe,ZTt=dEe,XTt="['’]",JTt=RegExp(XTt,"g");function QTt(e){return function(t){return qTt(ZTt(KTt(t).replace(JTt,"")),e,"")}}var OH=QTt,eAt=z_e,tAt=U_e,nAt=Z_e,rAt=du;function iAt(e){return function(t){t=rAt(t);var n=tAt(t)?nAt(t):void 0,r=n?n[0]:t.charAt(0),i=n?eAt(n,1).join(""):t.slice(1);return r[e]()+i}}var aAt=iAt,oAt=aAt,sAt=oAt("toUpperCase"),MH=sAt;const gEe=Pe(MH);var lAt=OH,uAt=MH,cAt=lAt(function(e,t,n){return e+(n?" ":"")+uAt(t)}),dAt=cAt;const Rn=Pe(dAt);var fAt=du,hAt=MH;function pAt(e){return hAt(fAt(e).toLowerCase())}var vEe=pAt;const O0=Pe(vEe);function mAt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return f.useMemo(()=>r=>{t.forEach(i=>i(r))},t)}const q$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ab(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function RH(e){return"nodeType"in e}function $s(e){var t,n;return e?Ab(e)?e:RH(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function PH(e){const{Document:t}=$s(e);return e instanceof t}function q2(e){return Ab(e)?!1:e instanceof $s(e).HTMLElement}function yEe(e){return e instanceof $s(e).SVGElement}function jb(e){return e?Ab(e)?e.document:RH(e)?PH(e)?e:q2(e)||yEe(e)?e.ownerDocument:document:document:document}const Ju=q$?f.useLayoutEffect:f.useEffect;function FH(e){const t=f.useRef(e);return Ju(()=>{t.current=e}),f.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function gAt(){const e=f.useRef(null),t=f.useCallback((r,i)=>{e.current=setInterval(r,i)},[]),n=f.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function bS(e,t){t===void 0&&(t=[e]);const n=f.useRef(e);return Ju(()=>{n.current!==e&&(n.current=e)},t),n}function K2(e,t){const n=f.useRef();return f.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function dj(e){const t=FH(e),n=f.useRef(null),r=f.useCallback(i=>{i!==n.current&&(t==null||t(i,n.current)),n.current=i},[]);return[n,r]}function d8(e){const t=f.useRef();return f.useEffect(()=>{t.current=e},[e]),t.current}let ZP={};function Z2(e,t){return f.useMemo(()=>{if(t)return t;const n=ZP[e]==null?0:ZP[e]+1;return ZP[e]=n,e+"-"+n},[e,t])}function bEe(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((a,o)=>{const s=Object.entries(o);for(const[l,c]of s){const d=a[l];d!=null&&(a[l]=d+e*c)}return a},{...t})}}const R1=bEe(1),xS=bEe(-1);function vAt(e){return"clientX"in e&&"clientY"in e}function NH(e){if(!e)return!1;const{KeyboardEvent:t}=$s(e.target);return t&&e instanceof t}function yAt(e){if(!e)return!1;const{TouchEvent:t}=$s(e.target);return t&&e instanceof t}function f8(e){if(yAt(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return vAt(e)?{x:e.clientX,y:e.clientY}:null}const wS=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[wS.Translate.toString(e),wS.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Bte="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function bAt(e){return e.matches(Bte)?e:e.querySelector(Bte)}const xAt={display:"none"};function wAt(e){let{id:t,value:n}=e;return Ye.createElement("div",{id:t,style:xAt},n)}function CAt(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const i={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ye.createElement("div",{id:t,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function SAt(){const[e,t]=f.useState("");return{announce:f.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const xEe=f.createContext(null);function _At(e){const t=f.useContext(xEe);f.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function EAt(){const[e]=f.useState(()=>new Set),t=f.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[f.useCallback(r=>{let{type:i,event:a}=r;e.forEach(o=>{var s;return(s=o[i])==null?void 0:s.call(o,a)})},[e]),t]}const kAt={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},TAt={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function AAt(e){let{announcements:t=TAt,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=kAt}=e;const{announce:a,announcement:o}=SAt(),s=Z2("DndLiveRegion"),[l,c]=f.useState(!1);if(f.useEffect(()=>{c(!0)},[]),_At(f.useMemo(()=>({onDragStart(h){let{active:p}=h;a(t.onDragStart({active:p}))},onDragMove(h){let{active:p,over:m}=h;t.onDragMove&&a(t.onDragMove({active:p,over:m}))},onDragOver(h){let{active:p,over:m}=h;a(t.onDragOver({active:p,over:m}))},onDragEnd(h){let{active:p,over:m}=h;a(t.onDragEnd({active:p,over:m}))},onDragCancel(h){let{active:p,over:m}=h;a(t.onDragCancel({active:p,over:m}))}}),[a,t])),!l)return null;const d=Ye.createElement(Ye.Fragment,null,Ye.createElement(wAt,{id:r,value:i.draggable}),Ye.createElement(CAt,{id:s,announcement:o}));return n?kc.createPortal(d,n):d}var pa;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(pa||(pa={}));function fj(){}function Vte(e,t){return f.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function jAt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return f.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Qu=Object.freeze({x:0,y:0});function wEe(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function CEe(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function IAt(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function zte(e){let{left:t,top:n,height:r,width:i}=e;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+r},{x:t+i,y:n+r}]}function SEe(e,t){if(!e||e.length===0)return null;const[n]=e;return t?n[t]:n}function Ute(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const DAt=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=Ute(t,t.left,t.top),a=[];for(const o of r){const{id:s}=o,l=n.get(s);if(l){const c=wEe(Ute(l),i);a.push({id:s,data:{droppableContainer:o,value:c}})}}return a.sort(CEe)},$At=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=zte(t),a=[];for(const o of r){const{id:s}=o,l=n.get(s);if(l){const c=zte(l),d=i.reduce((p,m,g)=>p+wEe(c[g],m),0),h=Number((d/4).toFixed(4));a.push({id:s,data:{droppableContainer:o,value:h}})}}return a.sort(CEe)};function OAt(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),o=i-r,s=a-n;if(r<i&&n<a){const l=t.width*t.height,c=e.width*e.height,d=o*s,h=d/(l+c-d);return Number(h.toFixed(4))}return 0}const MAt=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const a of r){const{id:o}=a,s=n.get(o);if(s){const l=OAt(s,t);l>0&&i.push({id:o,data:{droppableContainer:a,value:l}})}}return i.sort(IAt)};function RAt(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function _Ee(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Qu}function PAt(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return i.reduce((o,s)=>({...o,top:o.top+e*s.y,bottom:o.bottom+e*s.y,left:o.left+e*s.x,right:o.right+e*s.x}),{...n})}}const FAt=PAt(1);function NAt(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function LAt(e,t,n){const r=NAt(t);if(!r)return e;const{scaleX:i,scaleY:a,x:o,y:s}=r,l=e.left-o-(1-i)*parseFloat(n),c=e.top-s-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),d=i?e.width/i:e.width,h=a?e.height/a:e.height;return{width:d,height:h,top:c,right:l+d,bottom:c+h,left:l}}const BAt={ignoreTransform:!1};function Ib(e,t){t===void 0&&(t=BAt);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:c,transformOrigin:d}=$s(e).getComputedStyle(e);c&&(n=LAt(n,c,d))}const{top:r,left:i,width:a,height:o,bottom:s,right:l}=n;return{top:r,left:i,width:a,height:o,bottom:s,right:l}}function Hte(e){return Ib(e,{ignoreTransform:!0})}function VAt(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function zAt(e,t){return t===void 0&&(t=$s(e).getComputedStyle(e)),t.position==="fixed"}function UAt(e,t){t===void 0&&(t=$s(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const a=t[i];return typeof a=="string"?n.test(a):!1})}function K$(e,t){const n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(PH(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!q2(i)||yEe(i)||n.includes(i))return n;const a=$s(e).getComputedStyle(i);return i!==e&&UAt(i,a)&&n.push(i),zAt(i,a)?n:r(i.parentNode)}return e?r(e):n}function EEe(e){const[t]=K$(e,1);return t??null}function XP(e){return!q$||!e?null:Ab(e)?e:RH(e)?PH(e)||e===jb(e).scrollingElement?window:q2(e)?e:null:null}function kEe(e){return Ab(e)?e.scrollX:e.scrollLeft}function TEe(e){return Ab(e)?e.scrollY:e.scrollTop}function h8(e){return{x:kEe(e),y:TEe(e)}}var Ia;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Ia||(Ia={}));function AEe(e){return!q$||!e?!1:e===document.scrollingElement}function jEe(e){const t={x:0,y:0},n=AEe(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,o=e.scrollTop>=r.y,s=e.scrollLeft>=r.x;return{isTop:i,isLeft:a,isBottom:o,isRight:s,maxScroll:r,minScroll:t}}const HAt={x:.2,y:.2};function WAt(e,t,n,r,i){let{top:a,left:o,right:s,bottom:l}=n;r===void 0&&(r=10),i===void 0&&(i=HAt);const{isTop:c,isBottom:d,isLeft:h,isRight:p}=jEe(e),m={x:0,y:0},g={x:0,y:0},v={height:t.height*i.y,width:t.width*i.x};return!c&&a<=t.top+v.height?(m.y=Ia.Backward,g.y=r*Math.abs((t.top+v.height-a)/v.height)):!d&&l>=t.bottom-v.height&&(m.y=Ia.Forward,g.y=r*Math.abs((t.bottom-v.height-l)/v.height)),!p&&s>=t.right-v.width?(m.x=Ia.Forward,g.x=r*Math.abs((t.right-v.width-s)/v.width)):!h&&o<=t.left+v.width&&(m.x=Ia.Backward,g.x=r*Math.abs((t.left+v.width-o)/v.width)),{direction:m,speed:g}}function GAt(e){if(e===document.scrollingElement){const{innerWidth:a,innerHeight:o}=window;return{top:0,left:0,right:a,bottom:o,width:a,height:o}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function IEe(e){return e.reduce((t,n)=>R1(t,h8(n)),Qu)}function YAt(e){return e.reduce((t,n)=>t+kEe(n),0)}function qAt(e){return e.reduce((t,n)=>t+TEe(n),0)}function KAt(e,t){if(t===void 0&&(t=Ib),!e)return;const{top:n,left:r,bottom:i,right:a}=t(e);EEe(e)&&(i<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const ZAt=[["x",["left","right"],YAt],["y",["top","bottom"],qAt]];let LH=class{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=K$(n),i=IEe(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[a,o,s]of ZAt)for(const l of o)Object.defineProperty(this,l,{get:()=>{const c=s(r),d=i[a]-c;return this.rect[l]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}};class vC{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var i;(i=this.target)==null||i.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function XAt(e){const{EventTarget:t}=$s(e);return e instanceof t?e:jb(e)}function JP(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var jl;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(jl||(jl={}));function Wte(e){e.preventDefault()}function JAt(e){e.stopPropagation()}var kn;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"})(kn||(kn={}));const DEe={start:[kn.Space,kn.Enter],cancel:[kn.Esc],end:[kn.Space,kn.Enter]},QAt=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case kn.Right:return{...n,x:n.x+25};case kn.Left:return{...n,x:n.x-25};case kn.Down:return{...n,y:n.y+25};case kn.Up:return{...n,y:n.y-25}}};class BH{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new vC(jb(n)),this.windowListeners=new vC($s(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(jl.Resize,this.handleCancel),this.windowListeners.add(jl.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(jl.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&KAt(r),n(Qu)}handleKeyDown(t){if(NH(t)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:a=DEe,coordinateGetter:o=QAt,scrollBehavior:s="smooth"}=i,{code:l}=t;if(a.end.includes(l)){this.handleEnd(t);return}if(a.cancel.includes(l)){this.handleCancel(t);return}const{collisionRect:c}=r.current,d=c?{x:c.left,y:c.top}:Qu;this.referenceCoordinates||(this.referenceCoordinates=d);const h=o(t,{active:n,context:r.current,currentCoordinates:d});if(h){const p=xS(h,d),m={x:0,y:0},{scrollableAncestors:g}=r.current;for(const v of g){const b=t.code,{isTop:y,isRight:x,isLeft:w,isBottom:C,maxScroll:S,minScroll:_}=jEe(v),E=GAt(v),k={x:Math.min(b===kn.Right?E.right-E.width/2:E.right,Math.max(b===kn.Right?E.left:E.left+E.width/2,h.x)),y:Math.min(b===kn.Down?E.bottom-E.height/2:E.bottom,Math.max(b===kn.Down?E.top:E.top+E.height/2,h.y))},T=b===kn.Right&&!x||b===kn.Left&&!w,j=b===kn.Down&&!C||b===kn.Up&&!y;if(T&&k.x!==h.x){const I=v.scrollLeft+p.x,A=b===kn.Right&&I<=S.x||b===kn.Left&&I>=_.x;if(A&&!p.y){v.scrollTo({left:I,behavior:s});return}A?m.x=v.scrollLeft-I:m.x=b===kn.Right?v.scrollLeft-S.x:v.scrollLeft-_.x,m.x&&v.scrollBy({left:-m.x,behavior:s});break}else if(j&&k.y!==h.y){const I=v.scrollTop+p.y,A=b===kn.Down&&I<=S.y||b===kn.Up&&I>=_.y;if(A&&!p.x){v.scrollTo({top:I,behavior:s});return}A?m.y=v.scrollTop-I:m.y=b===kn.Down?v.scrollTop-S.y:v.scrollTop-_.y,m.y&&v.scrollBy({top:-m.y,behavior:s});break}}this.handleMove(t,R1(xS(h,this.referenceCoordinates),m))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}BH.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=DEe,onActivation:i}=t,{active:a}=n;const{code:o}=e.nativeEvent;if(r.start.includes(o)){const s=a.activatorNode.current;return s&&e.target!==s?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function Gte(e){return!!(e&&"distance"in e)}function Yte(e){return!!(e&&"delay"in e)}class VH{constructor(t,n,r){var i;r===void 0&&(r=XAt(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:a}=t,{target:o}=a;this.props=t,this.events=n,this.document=jb(o),this.documentListeners=new vC(this.document),this.listeners=new vC(r),this.windowListeners=new vC($s(o)),this.initialCoordinates=(i=f8(a))!=null?i:Qu,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),this.windowListeners.add(jl.Resize,this.handleCancel),this.windowListeners.add(jl.DragStart,Wte),this.windowListeners.add(jl.VisibilityChange,this.handleCancel),this.windowListeners.add(jl.ContextMenu,Wte),this.documentListeners.add(jl.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Yte(n)){this.timeoutId=setTimeout(this.handleStart,n.delay);return}if(Gte(n))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(jl.Click,JAt,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(jl.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:i,props:a}=this,{onMove:o,options:{activationConstraint:s}}=a;if(!i)return;const l=(n=f8(t))!=null?n:Qu,c=xS(i,l);if(!r&&s){if(Gte(s)){if(s.tolerance!=null&&JP(c,s.tolerance))return this.handleCancel();if(JP(c,s.distance))return this.handleStart()}return Yte(s)&&JP(c,s.tolerance)?this.handleCancel():void 0}t.cancelable&&t.preventDefault(),o(l)}handleEnd(){const{onEnd:t}=this.props;this.detach(),t()}handleCancel(){const{onCancel:t}=this.props;this.detach(),t()}handleKeydown(t){t.code===kn.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const ejt={move:{name:"pointermove"},end:{name:"pointerup"}};class zH extends VH{constructor(t){const{event:n}=t,r=jb(n.target);super(t,ejt,r)}}zH.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const tjt={move:{name:"mousemove"},end:{name:"mouseup"}};var p8;(function(e){e[e.RightClick=2]="RightClick"})(p8||(p8={}));class njt extends VH{constructor(t){super(t,tjt,jb(t.event.target))}}njt.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===p8.RightClick?!1:(r==null||r({event:n}),!0)}}];const QP={move:{name:"touchmove"},end:{name:"touchend"}};class rjt extends VH{constructor(t){super(t,QP)}static setup(){return window.addEventListener(QP.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(QP.move.name,t)};function t(){}}}rjt.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var yC;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(yC||(yC={}));var hj;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(hj||(hj={}));function ijt(e){let{acceleration:t,activator:n=yC.Pointer,canScroll:r,draggingRect:i,enabled:a,interval:o=5,order:s=hj.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:d,delta:h,threshold:p}=e;const m=ojt({delta:h,disabled:!a}),[g,v]=gAt(),b=f.useRef({x:0,y:0}),y=f.useRef({x:0,y:0}),x=f.useMemo(()=>{switch(n){case yC.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case yC.DraggableRect:return i}},[n,i,l]),w=f.useRef(null),C=f.useCallback(()=>{const _=w.current;if(!_)return;const E=b.current.x*y.current.x,k=b.current.y*y.current.y;_.scrollBy(E,k)},[]),S=f.useMemo(()=>s===hj.TreeOrder?[...c].reverse():c,[s,c]);f.useEffect(()=>{if(!a||!c.length||!x){v();return}for(const _ of S){if((r==null?void 0:r(_))===!1)continue;const E=c.indexOf(_),k=d[E];if(!k)continue;const{direction:T,speed:j}=WAt(_,k,x,t,p);for(const I of["x","y"])m[I][T[I]]||(j[I]=0,T[I]=0);if(j.x>0||j.y>0){v(),w.current=_,g(C,o),b.current=j,y.current=T;return}}b.current={x:0,y:0},y.current={x:0,y:0},v()},[t,C,r,v,a,o,JSON.stringify(x),JSON.stringify(m),g,c,S,d,JSON.stringify(p)])}const ajt={x:{[Ia.Backward]:!1,[Ia.Forward]:!1},y:{[Ia.Backward]:!1,[Ia.Forward]:!1}};function ojt(e){let{delta:t,disabled:n}=e;const r=d8(t);return K2(i=>{if(n||!r||!i)return ajt;const a={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Ia.Backward]:i.x[Ia.Backward]||a.x===-1,[Ia.Forward]:i.x[Ia.Forward]||a.x===1},y:{[Ia.Backward]:i.y[Ia.Backward]||a.y===-1,[Ia.Forward]:i.y[Ia.Forward]||a.y===1}}},[n,t,r])}function sjt(e,t){const n=t!==null?e.get(t):void 0,r=n?n.node.current:null;return K2(i=>{var a;return t===null?null:(a=r??i)!=null?a:null},[r,t])}function ljt(e,t){return f.useMemo(()=>e.reduce((n,r)=>{const{sensor:i}=r,a=i.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,r)}));return[...n,...a]},[]),[e,t])}var CS;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(CS||(CS={}));var m8;(function(e){e.Optimized="optimized"})(m8||(m8={}));const qte=new Map;function ujt(e,t){let{dragging:n,dependencies:r,config:i}=t;const[a,o]=f.useState(null),{frequency:s,measure:l,strategy:c}=i,d=f.useRef(e),h=b(),p=bS(h),m=f.useCallback(function(y){y===void 0&&(y=[]),!p.current&&o(x=>x===null?y:x.concat(y.filter(w=>!x.includes(w))))},[p]),g=f.useRef(null),v=K2(y=>{if(h&&!n)return qte;if(!y||y===qte||d.current!==e||a!=null){const x=new Map;for(let w of e){if(!w)continue;if(a&&a.length>0&&!a.includes(w.id)&&w.rect.current){x.set(w.id,w.rect.current);continue}const C=w.node.current,S=C?new LH(l(C),C):null;w.rect.current=S,S&&x.set(w.id,S)}return x}return y},[e,a,n,h,l]);return f.useEffect(()=>{d.current=e},[e]),f.useEffect(()=>{h||m()},[n,h]),f.useEffect(()=>{a&&a.length>0&&o(null)},[JSON.stringify(a)]),f.useEffect(()=>{h||typeof s!="number"||g.current!==null||(g.current=setTimeout(()=>{m(),g.current=null},s))},[s,h,m,...r]),{droppableRects:v,measureDroppableContainers:m,measuringScheduled:a!=null};function b(){switch(c){case CS.Always:return!1;case CS.BeforeDragging:return n;default:return!n}}}function $Ee(e,t){return K2(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function cjt(e,t){return $Ee(e,t)}function djt(e){let{callback:t,disabled:n}=e;const r=FH(t),i=f.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(r)},[r,n]);return f.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Z$(e){let{callback:t,disabled:n}=e;const r=FH(t),i=f.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(r)},[n]);return f.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function fjt(e){return new LH(Ib(e),e)}function Kte(e,t,n){t===void 0&&(t=fjt);const[r,i]=f.useReducer(s,null),a=djt({callback(l){if(e)for(const c of l){const{type:d,target:h}=c;if(d==="childList"&&h instanceof HTMLElement&&h.contains(e)){i();break}}}}),o=Z$({callback:i});return Ju(()=>{i(),e?(o==null||o.observe(e),a==null||a.observe(document.body,{childList:!0,subtree:!0})):(o==null||o.disconnect(),a==null||a.disconnect())},[e]),r;function s(l){if(!e)return null;if(e.isConnected===!1){var c;return(c=l??n)!=null?c:null}const d=t(e);return JSON.stringify(l)===JSON.stringify(d)?l:d}}function hjt(e){const t=$Ee(e);return _Ee(e,t)}const Zte=[];function pjt(e){const t=f.useRef(e),n=K2(r=>e?r&&r!==Zte&&e&&t.current&&e.parentNode===t.current.parentNode?r:K$(e):Zte,[e]);return f.useEffect(()=>{t.current=e},[e]),n}function mjt(e){const[t,n]=f.useState(null),r=f.useRef(e),i=f.useCallback(a=>{const o=XP(a.target);o&&n(s=>s?(s.set(o,h8(o)),new Map(s)):null)},[]);return f.useEffect(()=>{const a=r.current;if(e!==a){o(a);const s=e.map(l=>{const c=XP(l);return c?(c.addEventListener("scroll",i,{passive:!0}),[c,h8(c)]):null}).filter(l=>l!=null);n(s.length?new Map(s):null),r.current=e}return()=>{o(e),o(a)};function o(s){s.forEach(l=>{const c=XP(l);c==null||c.removeEventListener("scroll",i)})}},[i,e]),f.useMemo(()=>e.length?t?Array.from(t.values()).reduce((a,o)=>R1(a,o),Qu):IEe(e):Qu,[e,t])}function Xte(e,t){t===void 0&&(t=[]);const n=f.useRef(null);return f.useEffect(()=>{n.current=null},t),f.useEffect(()=>{const r=e!==Qu;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?xS(e,n.current):Qu}function gjt(e){f.useEffect(()=>{if(!q$)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function vjt(e,t){return f.useMemo(()=>e.reduce((n,r)=>{let{eventName:i,handler:a}=r;return n[i]=o=>{a(o,t)},n},{}),[e,t])}function OEe(e){return f.useMemo(()=>e?VAt(e):null,[e])}const e3=[];function yjt(e,t){t===void 0&&(t=Ib);const[n]=e,r=OEe(n?$s(n):null),[i,a]=f.useReducer(s,e3),o=Z$({callback:a});return e.length>0&&i===e3&&a(),Ju(()=>{e.length?e.forEach(l=>o==null?void 0:o.observe(l)):(o==null||o.disconnect(),a())},[e]),i;function s(){return e.length?e.map(l=>AEe(l)?r:new LH(t(l),l)):e3}}function bjt(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return q2(t)?t:e}function xjt(e){let{measure:t}=e;const[n,r]=f.useState(null),i=f.useCallback(c=>{for(const{target:d}of c)if(q2(d)){r(h=>{const p=t(d);return h?{...h,width:p.width,height:p.height}:p});break}},[t]),a=Z$({callback:i}),o=f.useCallback(c=>{const d=bjt(c);a==null||a.disconnect(),d&&(a==null||a.observe(d)),r(d?t(d):null)},[t,a]),[s,l]=dj(o);return f.useMemo(()=>({nodeRef:s,rect:n,setRef:l}),[n,s,l])}const wjt=[{sensor:zH,options:{}},{sensor:BH,options:{}}],Cjt={current:{}},Q5={draggable:{measure:Hte},droppable:{measure:Hte,strategy:CS.WhileDragging,frequency:m8.Optimized},dragOverlay:{measure:Ib}};class bC extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const Sjt={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new bC,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:fj},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Q5,measureDroppableContainers:fj,windowRect:null,measuringScheduled:!1},_jt={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:fj,draggableNodes:new Map,over:null,measureDroppableContainers:fj},X$=f.createContext(_jt),MEe=f.createContext(Sjt);function Ejt(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new bC}}}function kjt(e,t){switch(t.type){case pa.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case pa.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case pa.DragEnd:case pa.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case pa.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new bC(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case pa.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const o=new bC(e.droppable.containers);return o.set(n,{...a,disabled:i}),{...e,droppable:{...e.droppable,containers:o}}}case pa.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const a=new bC(e.droppable.containers);return a.delete(n),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function Tjt(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=f.useContext(X$),a=d8(r),o=d8(n==null?void 0:n.id);return f.useEffect(()=>{if(!t&&!r&&a&&o!=null){if(!NH(a)||document.activeElement===a.target)return;const s=i.get(o);if(!s)return;const{activatorNode:l,node:c}=s;if(!l.current&&!c.current)return;requestAnimationFrame(()=>{for(const d of[l.current,c.current]){if(!d)continue;const h=bAt(d);if(h){h.focus();break}}})}},[r,t,i,o,a]),null}function Ajt(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((i,a)=>a({transform:i,...r}),n):n}function jjt(e){return f.useMemo(()=>({draggable:{...Q5.draggable,...e==null?void 0:e.draggable},droppable:{...Q5.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Q5.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function Ijt(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const a=f.useRef(!1),{x:o,y:s}=typeof i=="boolean"?{x:i,y:i}:i;Ju(()=>{if(!o&&!s||!t){a.current=!1;return}if(a.current||!r)return;const c=t==null?void 0:t.node.current;if(!c||c.isConnected===!1)return;const d=n(c),h=_Ee(d,r);if(o||(h.x=0),s||(h.y=0),a.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const p=EEe(c);p&&p.scrollBy({top:h.y,left:h.x})}},[t,o,s,r,n])}const REe=f.createContext({...Qu,scaleX:1,scaleY:1});var Ah;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ah||(Ah={}));const Djt=f.memo(function(t){var n,r,i,a;let{id:o,accessibility:s,autoScroll:l=!0,children:c,sensors:d=wjt,collisionDetection:h=MAt,measuring:p,modifiers:m,...g}=t;const v=f.useReducer(kjt,void 0,Ejt),[b,y]=v,[x,w]=EAt(),[C,S]=f.useState(Ah.Uninitialized),_=C===Ah.Initialized,{draggable:{active:E,nodes:k,translate:T},droppable:{containers:j}}=b,I=E?k.get(E):null,A=f.useRef({initial:null,translated:null}),$=f.useMemo(()=>{var bn;return E!=null?{id:E,data:(bn=I==null?void 0:I.data)!=null?bn:Cjt,rect:A}:null},[E,I]),D=f.useRef(null),[M,O]=f.useState(null),[F,P]=f.useState(null),V=bS(g,Object.values(g)),H=Z2("DndDescribedBy",o),W=f.useMemo(()=>j.getEnabled(),[j]),G=jjt(p),{droppableRects:X,measureDroppableContainers:z,measuringScheduled:q}=ujt(W,{dragging:_,dependencies:[T.x,T.y],config:G.droppable}),Z=sjt(k,E),K=f.useMemo(()=>F?f8(F):null,[F]),J=Sr(),Q=cjt(Z,G.draggable.measure);Ijt({activeNode:E?k.get(E):null,config:J.layoutShiftCompensation,initialRect:Q,measure:G.draggable.measure});const re=Kte(Z,G.draggable.measure,Q),ae=Kte(Z?Z.parentElement:null),ne=f.useRef({activatorEvent:null,active:null,activeNode:Z,collisionRect:null,collisions:null,droppableRects:X,draggableNodes:k,draggingNode:null,draggingNodeRect:null,droppableContainers:j,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),se=j.getNodeFor((n=ne.current.over)==null?void 0:n.id),le=xjt({measure:G.dragOverlay.measure}),oe=(r=le.nodeRef.current)!=null?r:Z,ge=_?(i=le.rect)!=null?i:re:null,_e=!!(le.nodeRef.current&&le.rect),Me=hjt(_e?null:re),me=OEe(oe?$s(oe):null),ye=pjt(_?se??Z:null),De=yjt(ye),be=Ajt(m,{transform:{x:T.x-Me.x,y:T.y-Me.y,scaleX:1,scaleY:1},activatorEvent:F,active:$,activeNodeRect:re,containerNodeRect:ae,draggingNodeRect:ge,over:ne.current.over,overlayNodeRect:le.rect,scrollableAncestors:ye,scrollableAncestorRects:De,windowRect:me}),he=K?R1(K,T):null,ve=mjt(ye),Ce=Xte(ve),Te=Xte(ve,[re]),Ge=R1(be,Ce),Je=ge?FAt(ge,be):null,tt=$&&Je?h({active:$,collisionRect:Je,droppableRects:X,droppableContainers:W,pointerCoordinates:he}):null,Ne=SEe(tt,"id"),[Fe,lt]=f.useState(null),Dt=_e?be:R1(be,Te),Be=RAt(Dt,(a=Fe==null?void 0:Fe.rect)!=null?a:null,re),ct=f.useCallback((bn,_t)=>{let{sensor:ze,options:Lt}=_t;if(D.current==null)return;const hn=k.get(D.current);if(!hn)return;const an=bn.nativeEvent,ti=new ze({active:D.current,activeNode:hn,event:an,options:Lt,context:ne,onStart(ca){const ao=D.current;if(ao==null)return;const bl=k.get(ao);if(!bl)return;const{onDragStart:lm}=V.current,bd={active:{id:ao,data:bl.data,rect:A}};kc.unstable_batchedUpdates(()=>{lm==null||lm(bd),S(Ah.Initializing),y({type:pa.DragStart,initialCoordinates:ca,active:ao}),x({type:"onDragStart",event:bd})})},onMove(ca){y({type:pa.DragMove,coordinates:ca})},onEnd:Ci(pa.DragEnd),onCancel:Ci(pa.DragCancel)});kc.unstable_batchedUpdates(()=>{O(ti),P(bn.nativeEvent)});function Ci(ca){return async function(){const{active:bl,collisions:lm,over:bd,scrollAdjustedTranslate:ax}=ne.current;let ih=null;if(bl&&ax){const{cancelDrop:xd}=V.current;ih={activatorEvent:an,active:bl,collisions:lm,delta:ax,over:bd},ca===pa.DragEnd&&typeof xd=="function"&&await Promise.resolve(xd(ih))&&(ca=pa.DragCancel)}D.current=null,kc.unstable_batchedUpdates(()=>{y({type:ca}),S(Ah.Uninitialized),lt(null),O(null),P(null);const xd=ca===pa.DragEnd?"onDragEnd":"onDragCancel";if(ih){const ox=V.current[xd];ox==null||ox(ih),x({type:xd,event:ih})}})}}},[k]),Ct=f.useCallback((bn,_t)=>(ze,Lt)=>{const hn=ze.nativeEvent,an=k.get(Lt);if(D.current!==null||!an||hn.dndKit||hn.defaultPrevented)return;const ti={active:an};bn(ze,_t.options,ti)===!0&&(hn.dndKit={capturedBy:_t.sensor},D.current=Lt,ct(ze,_t))},[k,ct]),Ke=ljt(d,Ct);gjt(d),Ju(()=>{re&&C===Ah.Initializing&&S(Ah.Initialized)},[re,C]),f.useEffect(()=>{const{onDragMove:bn}=V.current,{active:_t,activatorEvent:ze,collisions:Lt,over:hn}=ne.current;if(!_t||!ze)return;const an={active:_t,activatorEvent:ze,collisions:Lt,delta:{x:Ge.x,y:Ge.y},over:hn};kc.unstable_batchedUpdates(()=>{bn==null||bn(an),x({type:"onDragMove",event:an})})},[Ge.x,Ge.y]),f.useEffect(()=>{const{active:bn,activatorEvent:_t,collisions:ze,droppableContainers:Lt,scrollAdjustedTranslate:hn}=ne.current;if(!bn||D.current==null||!_t||!hn)return;const{onDragOver:an}=V.current,ti=Lt.get(Ne),Ci=ti&&ti.rect.current?{id:ti.id,rect:ti.rect.current,data:ti.data,disabled:ti.disabled}:null,ca={active:bn,activatorEvent:_t,collisions:ze,delta:{x:hn.x,y:hn.y},over:Ci};kc.unstable_batchedUpdates(()=>{lt(Ci),an==null||an(ca),x({type:"onDragOver",event:ca})})},[Ne]),Ju(()=>{ne.current={activatorEvent:F,active:$,activeNode:Z,collisionRect:Je,collisions:tt,droppableRects:X,draggableNodes:k,draggingNode:oe,draggingNodeRect:ge,droppableContainers:j,over:Fe,scrollableAncestors:ye,scrollAdjustedTranslate:Ge},A.current={initial:ge,translated:Je}},[$,Z,tt,Je,k,oe,ge,X,j,Fe,ye,Ge]),ijt({...J,delta:T,draggingRect:Je,pointerCoordinates:he,scrollableAncestors:ye,scrollableAncestorRects:De});const rn=f.useMemo(()=>({active:$,activeNode:Z,activeNodeRect:re,activatorEvent:F,collisions:tt,containerNodeRect:ae,dragOverlay:le,draggableNodes:k,droppableContainers:j,droppableRects:X,over:Fe,measureDroppableContainers:z,scrollableAncestors:ye,scrollableAncestorRects:De,measuringConfiguration:G,measuringScheduled:q,windowRect:me}),[$,Z,re,F,tt,ae,le,k,j,X,Fe,z,ye,De,G,q,me]),Nr=f.useMemo(()=>({activatorEvent:F,activators:Ke,active:$,activeNodeRect:re,ariaDescribedById:{draggable:H},dispatch:y,draggableNodes:k,over:Fe,measureDroppableContainers:z}),[F,Ke,$,re,y,H,k,Fe,z]);return Ye.createElement(xEe.Provider,{value:w},Ye.createElement(X$.Provider,{value:Nr},Ye.createElement(MEe.Provider,{value:rn},Ye.createElement(REe.Provider,{value:Be},c)),Ye.createElement(Tjt,{disabled:(s==null?void 0:s.restoreFocus)===!1})),Ye.createElement(AAt,{...s,hiddenTextDescribedById:H}));function Sr(){const bn=(M==null?void 0:M.autoScrollEnabled)===!1,_t=typeof l=="object"?l.enabled===!1:l===!1,ze=_&&!bn&&!_t;return typeof l=="object"?{...l,enabled:ze}:{enabled:ze}}}),$jt=f.createContext(null),Jte="button",Ojt="Droppable";function Mjt(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const a=Z2(Ojt),{activators:o,activatorEvent:s,active:l,activeNodeRect:c,ariaDescribedById:d,draggableNodes:h,over:p}=f.useContext(X$),{role:m=Jte,roleDescription:g="draggable",tabIndex:v=0}=i??{},b=(l==null?void 0:l.id)===t,y=f.useContext(b?REe:$jt),[x,w]=dj(),[C,S]=dj(),_=vjt(o,t),E=bS(n);Ju(()=>(h.set(t,{id:t,key:a,node:x,activatorNode:C,data:E}),()=>{const T=h.get(t);T&&T.key===a&&h.delete(t)}),[h,t]);const k=f.useMemo(()=>({role:m,tabIndex:v,"aria-disabled":r,"aria-pressed":b&&m===Jte?!0:void 0,"aria-roledescription":g,"aria-describedby":d.draggable}),[r,m,v,b,g,d.draggable]);return{active:l,activatorEvent:s,activeNodeRect:c,attributes:k,isDragging:b,listeners:r?void 0:_,node:x,over:p,setNodeRef:w,setActivatorNodeRef:S,transform:y}}function Rjt(){return f.useContext(MEe)}const Pjt="Droppable",Fjt={timeout:25};function Njt(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const a=Z2(Pjt),{active:o,dispatch:s,over:l,measureDroppableContainers:c}=f.useContext(X$),d=f.useRef({disabled:n}),h=f.useRef(!1),p=f.useRef(null),m=f.useRef(null),{disabled:g,updateMeasurementsFor:v,timeout:b}={...Fjt,...i},y=bS(v??r),x=f.useCallback(()=>{if(!h.current){h.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{c(Array.isArray(y.current)?y.current:[y.current]),m.current=null},b)},[b]),w=Z$({callback:x,disabled:g||!o}),C=f.useCallback((k,T)=>{w&&(T&&(w.unobserve(T),h.current=!1),k&&w.observe(k))},[w]),[S,_]=dj(C),E=bS(t);return f.useEffect(()=>{!w||!S.current||(w.disconnect(),h.current=!1,w.observe(S.current))},[S,w]),Ju(()=>(s({type:pa.RegisterDroppable,element:{id:r,key:a,disabled:n,node:S,rect:p,data:E}}),()=>s({type:pa.UnregisterDroppable,key:a,id:r})),[r]),f.useEffect(()=>{n!==d.current.disabled&&(s({type:pa.SetDroppableDisabled,id:r,key:a,disabled:n}),d.current.disabled=n)},[r,a,n,s]),{active:o,rect:p,isOver:(l==null?void 0:l.id)===r,node:S,over:l,setNodeRef:_}}const Ljt=e=>{let{transform:t}=e;return{...t,y:0}},Bjt=e=>{let{transform:t}=e;return{...t,x:0}};function PEe(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function Vjt(e,t){return e.reduce((n,r,i)=>{const a=t.get(r);return a&&(n[i]=a),n},Array(e.length))}function UE(e){return e!==null&&e>=0}function zjt(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Ujt(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const HE={scaleX:1,scaleY:1},Hjt=e=>{var t;let{rects:n,activeNodeRect:r,activeIndex:i,overIndex:a,index:o}=e;const s=(t=n[i])!=null?t:r;if(!s)return null;const l=Wjt(n,o,i);if(o===i){const c=n[a];return c?{x:i<a?c.left+c.width-(s.left+s.width):c.left-s.left,y:0,...HE}:null}return o>i&&o<=a?{x:-s.width-l,y:0,...HE}:o<i&&o>=a?{x:s.width+l,y:0,...HE}:{x:0,y:0,...HE}};function Wjt(e,t,n){const r=e[t],i=e[t-1],a=e[t+1];return!r||!i&&!a?0:n<t?i?r.left-(i.left+i.width):a.left-(r.left+r.width):a?a.left-(r.left+r.width):r.left-(i.left+i.width)}const FEe=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const a=PEe(t,r,n),o=t[i],s=a[i];return!s||!o?null:{x:s.left-o.left,y:s.top-o.top,scaleX:s.width/o.width,scaleY:s.height/o.height}},WE={scaleX:1,scaleY:1},Gjt=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:i,rects:a,overIndex:o}=e;const s=(t=a[n])!=null?t:r;if(!s)return null;if(i===n){const c=a[o];return c?{x:0,y:n<o?c.top+c.height-(s.top+s.height):c.top-s.top,...WE}:null}const l=Yjt(a,i,n);return i>n&&i<=o?{x:0,y:-s.height-l,...WE}:i<n&&i>=o?{x:0,y:s.height+l,...WE}:{x:0,y:0,...WE}};function Yjt(e,t,n){const r=e[t],i=e[t-1],a=e[t+1];return r?n<t?i?r.top-(i.top+i.height):a?a.top-(r.top+r.height):0:a?a.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const NEe="Sortable",LEe=Ye.createContext({activeIndex:-1,containerId:NEe,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:FEe,disabled:{draggable:!1,droppable:!1}});function qjt(e){let{children:t,id:n,items:r,strategy:i=FEe,disabled:a=!1}=e;const{active:o,dragOverlay:s,droppableRects:l,over:c,measureDroppableContainers:d}=Rjt(),h=Z2(NEe,n),p=s.rect!==null,m=f.useMemo(()=>r.map(_=>typeof _=="object"&&"id"in _?_.id:_),[r]),g=o!=null,v=o?m.indexOf(o.id):-1,b=c?m.indexOf(c.id):-1,y=f.useRef(m),x=!zjt(m,y.current),w=b!==-1&&v===-1||x,C=Ujt(a);Ju(()=>{x&&g&&d(m)},[x,m,g,d]),f.useEffect(()=>{y.current=m},[m]);const S=f.useMemo(()=>({activeIndex:v,containerId:h,disabled:C,disableTransforms:w,items:m,overIndex:b,useDragOverlay:p,sortedRects:Vjt(m,l),strategy:i}),[v,h,C.draggable,C.droppable,w,m,b,l,p,i]);return Ye.createElement(LEe.Provider,{value:S},t)}const Kjt=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return PEe(n,r,i).indexOf(t)},Zjt=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:a,newIndex:o,previousItems:s,previousContainerId:l,transition:c}=e;return!c||!r||s!==a&&i===o?!1:n?!0:o!==i&&t===l},Xjt={duration:200,easing:"ease"},BEe="transform",Jjt=wS.Transition.toString({property:BEe,duration:0,easing:"linear"}),Qjt={roleDescription:"sortable"};function eIt(e){let{disabled:t,index:n,node:r,rect:i}=e;const[a,o]=f.useState(null),s=f.useRef(n);return Ju(()=>{if(!t&&n!==s.current&&r.current){const l=i.current;if(l){const c=Ib(r.current,{ignoreTransform:!0}),d={x:l.left-c.left,y:l.top-c.top,scaleX:l.width/c.width,scaleY:l.height/c.height};(d.x||d.y)&&o(d)}}n!==s.current&&(s.current=n)},[t,n,r,i]),f.useEffect(()=>{a&&o(null)},[a]),a}function VEe(e){let{animateLayoutChanges:t=Zjt,attributes:n,disabled:r,data:i,getNewIndex:a=Kjt,id:o,strategy:s,resizeObserverConfig:l,transition:c=Xjt}=e;const{items:d,containerId:h,activeIndex:p,disabled:m,disableTransforms:g,sortedRects:v,overIndex:b,useDragOverlay:y,strategy:x}=f.useContext(LEe),w=tIt(r,m),C=d.indexOf(o),S=f.useMemo(()=>({sortable:{containerId:h,index:C,items:d},...i}),[h,i,C,d]),_=f.useMemo(()=>d.slice(d.indexOf(o)),[d,o]),{rect:E,node:k,isOver:T,setNodeRef:j}=Njt({id:o,data:S,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:_,...l}}),{active:I,activatorEvent:A,activeNodeRect:$,attributes:D,setNodeRef:M,listeners:O,isDragging:F,over:P,setActivatorNodeRef:V,transform:H}=Mjt({id:o,data:S,attributes:{...Qjt,...n},disabled:w.draggable}),W=mAt(j,M),G=!!I,X=G&&!g&&UE(p)&&UE(b),z=!y&&F,q=z&&X?H:null,K=X?q??(s??x)({rects:v,activeNodeRect:$,activeIndex:p,overIndex:b,index:C}):null,J=UE(p)&&UE(b)?a({id:o,items:d,activeIndex:p,overIndex:b}):C,Q=I==null?void 0:I.id,re=f.useRef({activeId:Q,items:d,newIndex:J,containerId:h}),ae=d!==re.current.items,ne=t({active:I,containerId:h,isDragging:F,isSorting:G,id:o,index:C,items:d,newIndex:re.current.newIndex,previousItems:re.current.items,previousContainerId:re.current.containerId,transition:c,wasDragging:re.current.activeId!=null}),se=eIt({disabled:!ne,index:C,node:k,rect:E});return f.useEffect(()=>{G&&re.current.newIndex!==J&&(re.current.newIndex=J),h!==re.current.containerId&&(re.current.containerId=h),d!==re.current.items&&(re.current.items=d)},[G,J,h,d]),f.useEffect(()=>{if(Q===re.current.activeId)return;if(Q&&!re.current.activeId){re.current.activeId=Q;return}const oe=setTimeout(()=>{re.current.activeId=Q},50);return()=>clearTimeout(oe)},[Q]),{active:I,activeIndex:p,attributes:D,data:S,rect:E,index:C,newIndex:J,items:d,isOver:T,isSorting:G,isDragging:F,listeners:O,node:k,overIndex:b,over:P,setNodeRef:W,setActivatorNodeRef:V,setDroppableNodeRef:j,setDraggableNodeRef:M,transform:se??K,transition:le()};function le(){if(se||ae&&re.current.newIndex===C)return Jjt;if(!(z&&!NH(A)||!c)&&(G||ne))return wS.Transition.toString({...c,property:BEe})}}function tIt(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}function pj(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const nIt=[kn.Down,kn.Right,kn.Up,kn.Left],rIt=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:i,droppableContainers:a,over:o,scrollableAncestors:s}}=t;if(nIt.includes(e.code)){if(e.preventDefault(),!n||!r)return;const l=[];a.getEnabled().forEach(h=>{if(!h||h!=null&&h.disabled)return;const p=i.get(h.id);if(p)switch(e.code){case kn.Down:r.top<p.top&&l.push(h);break;case kn.Up:r.top>p.top&&l.push(h);break;case kn.Left:r.left>p.left&&l.push(h);break;case kn.Right:r.left<p.left&&l.push(h);break}});const c=$At({active:n,collisionRect:r,droppableRects:i,droppableContainers:l,pointerCoordinates:null});let d=SEe(c,"id");if(d===(o==null?void 0:o.id)&&c.length>1&&(d=c[1].id),d!=null){const h=a.get(n.id),p=a.get(d),m=p?i.get(p.id):null,g=p==null?void 0:p.node.current;if(g&&m&&h&&p){const b=K$(g).some((_,E)=>s[E]!==_),y=zEe(h,p),x=iIt(h,p),w=b||!y?{x:0,y:0}:{x:x?r.width-m.width:0,y:x?r.height-m.height:0},C={x:m.left,y:m.top};return w.x&&w.y?C:xS(C,w)}}}};function zEe(e,t){return!pj(e)||!pj(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function iIt(e,t){return!pj(e)||!pj(t)||!zEe(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}var aIt=oIt;function oIt(e,t,n){var r=e===null,i=t===null;if(r!==i)return!1;var a=Array.isArray(e),o=Array.isArray(t);if(a!==o)return!1;var s=typeof e,l=typeof t;return s!==l?!1:uIt(s)?n?n(e,t):e===t:a?sIt(e,t,n):lIt(e,t,n)}function sIt(e,t,n){var r=e.length;if(r!==t.length)return!1;if(n){for(var i=0;i<r;i++)if(!n(e[i],t[i]))return!1}else for(var i=0;i<r;i++)if(e[i]!==t[i])return!1;return!0}function lIt(e,t,n){var r=0,i=0;if(n)for(var a in e){if(e.hasOwnProperty(a)&&!n(e[a],t[a]))return!1;r++}else for(var a in e){if(e.hasOwnProperty(a)&&e[a]!==t[a])return!1;r++}for(var a in t)t.hasOwnProperty(a)&&i++;return r===i}function uIt(e){return e!=="function"&&e!=="object"}const Ap=Pe(aIt),Qte=e=>typeof e=="object"&&e!=null&&e.nodeType===1,ene=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",t3=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return ene(n.overflowY,t)||ene(n.overflowX,t)||(r=>{const i=(a=>{if(!a.ownerDocument||!a.ownerDocument.defaultView)return null;try{return a.ownerDocument.defaultView.frameElement}catch{return null}})(r);return!!i&&(i.clientHeight<r.scrollHeight||i.clientWidth<r.scrollWidth)})(e)}return!1},GE=(e,t,n,r,i,a,o,s)=>a<e&&o>t||a>e&&o<t?0:a<=e&&s<=n||o>=t&&s>=n?a-e-r:o>t&&s<n||a<e&&s>n?o-t+i:0,cIt=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},tne=(e,t)=>{var n,r,i,a;if(typeof document>"u")return[];const{scrollMode:o,block:s,inline:l,boundary:c,skipOverflowHiddenElements:d}=t,h=typeof c=="function"?c:O=>O!==c;if(!Qte(e))throw new TypeError("Invalid target");const p=document.scrollingElement||document.documentElement,m=[];let g=e;for(;Qte(g)&&h(g);){if(g=cIt(g),g===p){m.push(g);break}g!=null&&g===document.body&&t3(g)&&!t3(document.documentElement)||g!=null&&t3(g,d)&&m.push(g)}const v=(r=(n=window.visualViewport)==null?void 0:n.width)!=null?r:innerWidth,b=(a=(i=window.visualViewport)==null?void 0:i.height)!=null?a:innerHeight,{scrollX:y,scrollY:x}=window,{height:w,width:C,top:S,right:_,bottom:E,left:k}=e.getBoundingClientRect(),{top:T,right:j,bottom:I,left:A}=(O=>{const F=window.getComputedStyle(O);return{top:parseFloat(F.scrollMarginTop)||0,right:parseFloat(F.scrollMarginRight)||0,bottom:parseFloat(F.scrollMarginBottom)||0,left:parseFloat(F.scrollMarginLeft)||0}})(e);let $=s==="start"||s==="nearest"?S-T:s==="end"?E+I:S+w/2-T+I,D=l==="center"?k+C/2-A+j:l==="end"?_+j:k-A;const M=[];for(let O=0;O<m.length;O++){const F=m[O],{height:P,width:V,top:H,right:W,bottom:G,left:X}=F.getBoundingClientRect();if(o==="if-needed"&&S>=0&&k>=0&&E<=b&&_<=v&&S>=H&&E<=G&&k>=X&&_<=W)return M;const z=getComputedStyle(F),q=parseInt(z.borderLeftWidth,10),Z=parseInt(z.borderTopWidth,10),K=parseInt(z.borderRightWidth,10),J=parseInt(z.borderBottomWidth,10);let Q=0,re=0;const ae="offsetWidth"in F?F.offsetWidth-F.clientWidth-q-K:0,ne="offsetHeight"in F?F.offsetHeight-F.clientHeight-Z-J:0,se="offsetWidth"in F?F.offsetWidth===0?0:V/F.offsetWidth:0,le="offsetHeight"in F?F.offsetHeight===0?0:P/F.offsetHeight:0;if(p===F)Q=s==="start"?$:s==="end"?$-b:s==="nearest"?GE(x,x+b,b,Z,J,x+$,x+$+w,w):$-b/2,re=l==="start"?D:l==="center"?D-v/2:l==="end"?D-v:GE(y,y+v,v,q,K,y+D,y+D+C,C),Q=Math.max(0,Q+x),re=Math.max(0,re+y);else{Q=s==="start"?$-H-Z:s==="end"?$-G+J+ne:s==="nearest"?GE(H,G,P,Z,J+ne,$,$+w,w):$-(H+P/2)+ne/2,re=l==="start"?D-X-q:l==="center"?D-(X+V/2)+ae/2:l==="end"?D-W+K+ae:GE(X,W,V,q,K+ae,D,D+C,C);const{scrollLeft:oe,scrollTop:ge}=F;Q=le===0?0:Math.max(0,Math.min(ge+Q/le,F.scrollHeight-P/le+ne)),re=se===0?0:Math.max(0,Math.min(oe+re/se,F.scrollWidth-V/se+ae)),$+=ge-Q,D+=oe-re}M.push({el:F,top:Q,left:re})}return M},dIt=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function Gg(e,t){if(!e.isConnected||!(i=>{let a=i;for(;a&&a.parentNode;){if(a.parentNode===document)return!0;a=a.parentNode instanceof ShadowRoot?a.parentNode.host:a.parentNode}return!1})(e))return;const n=(i=>{const a=window.getComputedStyle(i);return{top:parseFloat(a.scrollMarginTop)||0,right:parseFloat(a.scrollMarginRight)||0,bottom:parseFloat(a.scrollMarginBottom)||0,left:parseFloat(a.scrollMarginLeft)||0}})(e);if((i=>typeof i=="object"&&typeof i.behavior=="function")(t))return t.behavior(tne(e,t));const r=typeof t=="boolean"||t==null?void 0:t.behavior;for(const{el:i,top:a,left:o}of tne(e,dIt(t))){const s=a-n.top+n.bottom,l=o-n.left+n.right;i.scroll({top:s,left:l,behavior:r})}}function Jt(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function et(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function at(e){et(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||qu(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Hr(e,t){et(2,arguments);var n=at(e),r=Jt(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function X2(e,t){et(2,arguments);var n=at(e),r=Jt(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),a=new Date(n.getTime());a.setMonth(n.getMonth()+r+1,0);var o=a.getDate();return i>=o?a:(n.setFullYear(a.getFullYear(),a.getMonth(),i),n)}function fIt(e){et(1,arguments);var t=at(e),n=t.getDay();return n===0||n===6}function hIt(e,t){et(2,arguments);var n=at(e).getTime(),r=Jt(t);return new Date(n+r)}var pIt={};function ud(){return pIt}function jp(e,t){var n,r,i,a,o,s,l,c;et(1,arguments);var d=ud(),h=Jt((n=(r=(i=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=at(e),m=p.getDay(),g=(m<h?7:0)+m-h;return p.setDate(p.getDate()-g),p.setHours(0,0,0,0),p}function vy(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Ip(e){et(1,arguments);var t=at(e);return t.setHours(0,0,0,0),t}var mIt=864e5;function gIt(e,t){et(2,arguments);var n=Ip(e),r=Ip(t),i=n.getTime()-vy(n),a=r.getTime()-vy(r);return Math.round((i-a)/mIt)}function vIt(e,t){et(2,arguments);var n=Jt(t),r=n*7;return Hr(e,r)}function P1(e,t){et(2,arguments);var n=at(e),r=at(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}var J$=6e4,Q$=36e5,yIt=1e3;function Eo(e,t){et(2,arguments);var n=Ip(e),r=Ip(t);return n.getTime()===r.getTime()}function bIt(e){return et(1,arguments),e instanceof Date||qu(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function kf(e){if(et(1,arguments),!bIt(e)&&typeof e!="number")return!1;var t=at(e);return!isNaN(Number(t))}function xIt(e,t){et(2,arguments);var n=at(e),r=at(t),i=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return i*12+a}function wIt(e,t){et(2,arguments);var n=at(e),r=at(t);return n.getFullYear()-r.getFullYear()}function nne(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function UEe(e,t){et(2,arguments);var n=at(e),r=at(t),i=nne(n,r),a=Math.abs(gIt(n,r));n.setDate(n.getDate()-i*a);var o=+(nne(n,r)===-i),s=i*(a-o);return s===0?0:s}function UH(e,t){return et(2,arguments),at(e).getTime()-at(t).getTime()}var rne={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},CIt="trunc";function eO(e){return e?rne[e]:rne[CIt]}function SIt(e,t,n){et(2,arguments);var r=UH(e,t)/Q$;return eO(n==null?void 0:n.roundingMethod)(r)}function _It(e,t,n){et(2,arguments);var r=UH(e,t)/J$;return eO(n==null?void 0:n.roundingMethod)(r)}function SS(e){et(1,arguments);var t=at(e);return t.setHours(23,59,59,999),t}function EIt(e){et(1,arguments);var t=at(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function kIt(e){et(1,arguments);var t=at(e);return SS(t).getTime()===EIt(t).getTime()}function HEe(e,t){et(2,arguments);var n=at(e),r=at(t),i=P1(n,r),a=Math.abs(xIt(n,r)),o;if(a<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*a);var s=P1(n,r)===-i;kIt(at(e))&&a===1&&P1(e,r)===1&&(s=!1),o=i*(a-Number(s))}return o===0?0:o}function WEe(e,t,n){et(2,arguments);var r=UH(e,t)/1e3;return eO(n==null?void 0:n.roundingMethod)(r)}function TIt(e,t,n){et(2,arguments);var r=UEe(e,t)/7;return eO(n==null?void 0:n.roundingMethod)(r)}function AIt(e,t){et(2,arguments);var n=at(e),r=at(t),i=P1(n,r),a=Math.abs(wIt(n,r));n.setFullYear(1584),r.setFullYear(1584);var o=P1(n,r)===-i,s=i*(a-Number(o));return s===0?0:s}function ine(e){et(1,arguments);var t=at(e);return t.setSeconds(0,0),t}function tO(e,t){et(1,arguments);var n=e||{},r=at(n.start),i=at(n.end),a=i.getTime();if(!(r.getTime()<=a))throw new RangeError("Invalid interval");var o=jp(r,t),s=jp(i,t);o.setHours(15),s.setHours(15),a=s.getTime();for(var l=[],c=o;c.getTime()<=a;)c.setHours(0),l.push(at(c)),c=vIt(c,1),c.setHours(15);return l}function nO(e){et(1,arguments);var t=at(e);return t.setDate(1),t.setHours(0,0,0,0),t}function ane(e){et(1,arguments);var t=at(e);return t.setSeconds(59,999),t}function GEe(e,t){et(2,arguments);var n=Jt(t);return hIt(e,-n)}var jIt=864e5;function IIt(e){et(1,arguments);var t=at(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),i=n-r;return Math.floor(i/jIt)+1}function yy(e){et(1,arguments);var t=1,n=at(e),r=n.getUTCDay(),i=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function YEe(e){et(1,arguments);var t=at(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=yy(r),a=new Date(0);a.setUTCFullYear(n,0,4),a.setUTCHours(0,0,0,0);var o=yy(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function DIt(e){et(1,arguments);var t=YEe(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=yy(n);return r}var $It=6048e5;function qEe(e){et(1,arguments);var t=at(e),n=yy(t).getTime()-DIt(t).getTime();return Math.round(n/$It)+1}function Yg(e,t){var n,r,i,a,o,s,l,c;et(1,arguments);var d=ud(),h=Jt((n=(r=(i=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=at(e),m=p.getUTCDay(),g=(m<h?7:0)+m-h;return p.setUTCDate(p.getUTCDate()-g),p.setUTCHours(0,0,0,0),p}function HH(e,t){var n,r,i,a,o,s,l,c;et(1,arguments);var d=at(e),h=d.getUTCFullYear(),p=ud(),m=Jt((n=(r=(i=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:p.firstWeekContainsDate)!==null&&r!==void 0?r:(l=p.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(h+1,0,m),g.setUTCHours(0,0,0,0);var v=Yg(g,t),b=new Date(0);b.setUTCFullYear(h,0,m),b.setUTCHours(0,0,0,0);var y=Yg(b,t);return d.getTime()>=v.getTime()?h+1:d.getTime()>=y.getTime()?h:h-1}function OIt(e,t){var n,r,i,a,o,s,l,c;et(1,arguments);var d=ud(),h=Jt((n=(r=(i=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:d.firstWeekContainsDate)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=HH(e,t),m=new Date(0);m.setUTCFullYear(p,0,h),m.setUTCHours(0,0,0,0);var g=Yg(m,t);return g}var MIt=6048e5;function KEe(e,t){et(1,arguments);var n=at(e),r=Yg(n,t).getTime()-OIt(n,t).getTime();return Math.round(r/MIt)+1}function Zn(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var RIt={y:function(t,n){var r=t.getUTCFullYear(),i=r>0?r:1-r;return Zn(n==="yy"?i%100:i,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):Zn(r+1,2)},d:function(t,n){return Zn(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return Zn(t.getUTCHours()%12||12,n.length)},H:function(t,n){return Zn(t.getUTCHours(),n.length)},m:function(t,n){return Zn(t.getUTCMinutes(),n.length)},s:function(t,n){return Zn(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,i=t.getUTCMilliseconds(),a=Math.floor(i*Math.pow(10,r-3));return Zn(a,n.length)}};const sh=RIt;var fv={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},PIt={G:function(t,n,r){var i=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var i=t.getUTCFullYear(),a=i>0?i:1-i;return r.ordinalNumber(a,{unit:"year"})}return sh.y(t,n)},Y:function(t,n,r,i){var a=HH(t,i),o=a>0?a:1-a;if(n==="YY"){var s=o%100;return Zn(s,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):Zn(o,n.length)},R:function(t,n){var r=YEe(t);return Zn(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return Zn(r,n.length)},Q:function(t,n,r){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return Zn(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,n,r){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return Zn(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,n,r){var i=t.getUTCMonth();switch(n){case"M":case"MM":return sh.M(t,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(t,n,r){var i=t.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return Zn(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(t,n,r,i){var a=KEe(t,i);return n==="wo"?r.ordinalNumber(a,{unit:"week"}):Zn(a,n.length)},I:function(t,n,r){var i=qEe(t);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):Zn(i,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):sh.d(t,n)},D:function(t,n,r){var i=IIt(t);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):Zn(i,n.length)},E:function(t,n,r){var i=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(t,n,r,i){var a=t.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return Zn(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,n,r,i){var a=t.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return Zn(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,n,r){var i=t.getUTCDay(),a=i===0?7:i;switch(n){case"i":return String(a);case"ii":return Zn(a,n.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(t,n,r){var i=t.getUTCHours(),a=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,n,r){var i=t.getUTCHours(),a;switch(i===12?a=fv.noon:i===0?a=fv.midnight:a=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,n,r){var i=t.getUTCHours(),a;switch(i>=17?a=fv.evening:i>=12?a=fv.afternoon:i>=4?a=fv.morning:a=fv.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var i=t.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return sh.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):sh.H(t,n)},K:function(t,n,r){var i=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):Zn(i,n.length)},k:function(t,n,r){var i=t.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):Zn(i,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):sh.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):sh.s(t,n)},S:function(t,n){return sh.S(t,n)},X:function(t,n,r,i){var a=i._originalDate||t,o=a.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return sne(o);case"XXXX":case"XX":return Om(o);case"XXXXX":case"XXX":default:return Om(o,":")}},x:function(t,n,r,i){var a=i._originalDate||t,o=a.getTimezoneOffset();switch(n){case"x":return sne(o);case"xxxx":case"xx":return Om(o);case"xxxxx":case"xxx":default:return Om(o,":")}},O:function(t,n,r,i){var a=i._originalDate||t,o=a.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+one(o,":");case"OOOO":default:return"GMT"+Om(o,":")}},z:function(t,n,r,i){var a=i._originalDate||t,o=a.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+one(o,":");case"zzzz":default:return"GMT"+Om(o,":")}},t:function(t,n,r,i){var a=i._originalDate||t,o=Math.floor(a.getTime()/1e3);return Zn(o,n.length)},T:function(t,n,r,i){var a=i._originalDate||t,o=a.getTime();return Zn(o,n.length)}};function one(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),a=r%60;if(a===0)return n+String(i);var o=t||"";return n+String(i)+o+Zn(a,2)}function sne(e,t){if(e%60===0){var n=e>0?"-":"+";return n+Zn(Math.abs(e)/60,2)}return Om(e,t)}function Om(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e),a=Zn(Math.floor(i/60),2),o=Zn(i%60,2);return r+a+n+o}const FIt=PIt;var lne=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},ZEe=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},NIt=function(t,n){var r=t.match(/(P+)(p+)?/)||[],i=r[1],a=r[2];if(!a)return lne(t,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",lne(i,n)).replace("{{time}}",ZEe(a,n))},LIt={p:ZEe,P:NIt};const g8=LIt;var BIt=["D","DD"],VIt=["YY","YYYY"];function XEe(e){return BIt.indexOf(e)!==-1}function JEe(e){return VIt.indexOf(e)!==-1}function mj(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var zIt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},UIt=function(t,n,r){var i,a=zIt[t];return typeof a=="string"?i=a:n===1?i=a.one:i=a.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const HIt=UIt;function n3(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var WIt={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},GIt={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},YIt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},qIt={date:n3({formats:WIt,defaultWidth:"full"}),time:n3({formats:GIt,defaultWidth:"full"}),dateTime:n3({formats:YIt,defaultWidth:"full"})};const KIt=qIt;var ZIt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},XIt=function(t,n,r,i){return ZIt[t]};const JIt=XIt;function $x(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):a;i=e.formattingValues[o]||e.formattingValues[a]}else{var s=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[l]||e.values[s]}var c=e.argumentCallback?e.argumentCallback(t):t;return i[c]}}var QIt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},eDt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},tDt={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},nDt={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},rDt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},iDt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},aDt=function(t,n){var r=Number(t),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},oDt={ordinalNumber:aDt,era:$x({values:QIt,defaultWidth:"wide"}),quarter:$x({values:eDt,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:$x({values:tDt,defaultWidth:"wide"}),day:$x({values:nDt,defaultWidth:"wide"}),dayPeriod:$x({values:rDt,defaultWidth:"wide",formattingValues:iDt,defaultFormattingWidth:"wide"})};const sDt=oDt;function Ox(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;var o=a[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?uDt(s,function(h){return h.test(o)}):lDt(s,function(h){return h.test(o)}),c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;var d=t.slice(o.length);return{value:c,rest:d}}}function lDt(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function uDt(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function cDt(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var i=r[0],a=t.match(e.parsePattern);if(!a)return null;var o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;var s=t.slice(i.length);return{value:o,rest:s}}}var dDt=/^(\d+)(th|st|nd|rd)?/i,fDt=/\d+/i,hDt={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},pDt={any:[/^b/i,/^(a|c)/i]},mDt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},gDt={any:[/1/i,/2/i,/3/i,/4/i]},vDt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},yDt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},bDt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},xDt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},wDt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},CDt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},SDt={ordinalNumber:cDt({matchPattern:dDt,parsePattern:fDt,valueCallback:function(t){return parseInt(t,10)}}),era:Ox({matchPatterns:hDt,defaultMatchWidth:"wide",parsePatterns:pDt,defaultParseWidth:"any"}),quarter:Ox({matchPatterns:mDt,defaultMatchWidth:"wide",parsePatterns:gDt,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Ox({matchPatterns:vDt,defaultMatchWidth:"wide",parsePatterns:yDt,defaultParseWidth:"any"}),day:Ox({matchPatterns:bDt,defaultMatchWidth:"wide",parsePatterns:xDt,defaultParseWidth:"any"}),dayPeriod:Ox({matchPatterns:wDt,defaultMatchWidth:"any",parsePatterns:CDt,defaultParseWidth:"any"})};const _Dt=SDt;var EDt={code:"en-US",formatDistance:HIt,formatLong:KIt,formatRelative:JIt,localize:sDt,match:_Dt,options:{weekStartsOn:0,firstWeekContainsDate:1}};const WH=EDt;var kDt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,TDt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ADt=/^'([^]*?)'?$/,jDt=/''/g,IDt=/[a-zA-Z]/;function $c(e,t,n){var r,i,a,o,s,l,c,d,h,p,m,g,v,b,y,x,w,C;et(2,arguments);var S=String(t),_=ud(),E=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:_.locale)!==null&&r!==void 0?r:WH,k=Jt((a=(o=(s=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(c=n.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&s!==void 0?s:_.firstWeekContainsDate)!==null&&o!==void 0?o:(h=_.locale)===null||h===void 0||(p=h.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(k>=1&&k<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var T=Jt((m=(g=(v=(b=n==null?void 0:n.weekStartsOn)!==null&&b!==void 0?b:n==null||(y=n.locale)===null||y===void 0||(x=y.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&v!==void 0?v:_.weekStartsOn)!==null&&g!==void 0?g:(w=_.locale)===null||w===void 0||(C=w.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&m!==void 0?m:0);if(!(T>=0&&T<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var j=at(e);if(!kf(j))throw new RangeError("Invalid time value");var I=vy(j),A=GEe(j,I),$={firstWeekContainsDate:k,weekStartsOn:T,locale:E,_originalDate:j},D=S.match(TDt).map(function(M){var O=M[0];if(O==="p"||O==="P"){var F=g8[O];return F(M,E.formatLong)}return M}).join("").match(kDt).map(function(M){if(M==="''")return"'";var O=M[0];if(O==="'")return DDt(M);var F=FIt[O];if(F)return!(n!=null&&n.useAdditionalWeekYearTokens)&&JEe(M)&&mj(M,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&XEe(M)&&mj(M,t,String(e)),F(A,M,E.localize,$);if(O.match(IDt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+O+"`");return M}).join("");return D}function DDt(e){var t=e.match(ADt);return t?t[1].replace(jDt,"'"):e}function GH(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function $Dt(e){return GH({},e)}var une=1440,ODt=2520,r3=43200,MDt=86400;function RDt(e,t,n){var r,i;et(2,arguments);var a=ud(),o=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:a.locale)!==null&&r!==void 0?r:WH;if(!o.formatDistance)throw new RangeError("locale must contain formatDistance property");var s=P1(e,t);if(isNaN(s))throw new RangeError("Invalid time value");var l=GH($Dt(n),{addSuffix:!!(n!=null&&n.addSuffix),comparison:s}),c,d;s>0?(c=at(t),d=at(e)):(c=at(e),d=at(t));var h=WEe(d,c),p=(vy(d)-vy(c))/1e3,m=Math.round((h-p)/60),g;if(m<2)return n!=null&&n.includeSeconds?h<5?o.formatDistance("lessThanXSeconds",5,l):h<10?o.formatDistance("lessThanXSeconds",10,l):h<20?o.formatDistance("lessThanXSeconds",20,l):h<40?o.formatDistance("halfAMinute",0,l):h<60?o.formatDistance("lessThanXMinutes",1,l):o.formatDistance("xMinutes",1,l):m===0?o.formatDistance("lessThanXMinutes",1,l):o.formatDistance("xMinutes",m,l);if(m<45)return o.formatDistance("xMinutes",m,l);if(m<90)return o.formatDistance("aboutXHours",1,l);if(m<une){var v=Math.round(m/60);return o.formatDistance("aboutXHours",v,l)}else{if(m<ODt)return o.formatDistance("xDays",1,l);if(m<r3){var b=Math.round(m/une);return o.formatDistance("xDays",b,l)}else if(m<MDt)return g=Math.round(m/r3),o.formatDistance("aboutXMonths",g,l)}if(g=HEe(d,c),g<12){var y=Math.round(m/r3);return o.formatDistance("xMonths",y,l)}else{var x=g%12,w=Math.floor(g/12);return x<3?o.formatDistance("aboutXYears",w,l):x<9?o.formatDistance("overXYears",w,l):o.formatDistance("almostXYears",w+1,l)}}function PDt(e){et(1,arguments);var t=at(e),n=t.getFullYear(),r=t.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function QEe(e){et(1,arguments);var t=at(e),n=t.getMinutes();return n}function FDt(e,t){var n,r,i,a,o,s,l,c;et(1,arguments);var d=at(e),h=d.getFullYear(),p=ud(),m=Jt((n=(r=(i=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:p.firstWeekContainsDate)!==null&&r!==void 0?r:(l=p.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setFullYear(h+1,0,m),g.setHours(0,0,0,0);var v=jp(g,t),b=new Date(0);b.setFullYear(h,0,m),b.setHours(0,0,0,0);var y=jp(b,t);return d.getTime()>=v.getTime()?h+1:d.getTime()>=y.getTime()?h:h-1}function NDt(e,t){var n,r,i,a,o,s,l,c;et(1,arguments);var d=ud(),h=Jt((n=(r=(i=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:d.firstWeekContainsDate)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=FDt(e,t),m=new Date(0);m.setFullYear(p,0,h),m.setHours(0,0,0,0);var g=jp(m,t);return g}var LDt=6048e5;function rO(e,t){et(1,arguments);var n=at(e),r=jp(n,t).getTime()-NDt(n,t).getTime();return Math.round(r/LDt)+1}function iO(e){et(1,arguments);var t=at(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function v8(e,t){et(2,arguments);var n=at(e),r=at(t);return n.getTime()>r.getTime()}function eke(e,t){et(2,arguments);var n=at(e),r=at(t);return n.getTime()<r.getTime()}function cne(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function BDt(e,t){if(e){if(typeof e=="string")return cne(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cne(e,t):void 0}}function dne(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=BDt(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var c=n.next();return o=c.done,c},e:function(c){s=!0,a=c},f:function(){try{o||n.return==null||n.return()}finally{if(s)throw a}}}}function nt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$A(e,t)}function gj(e){return gj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gj(e)}function tke(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tke=function(){return!!e})()}function VDt(e,t){if(t&&(qu(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nt(e)}function Ln(e){var t=tke();return function(){var n,r=gj(e);if(t){var i=gj(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return VDt(this,n)}}function Sn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Wwe(r.key),r)}}function _n(e,t,n){return t&&fne(e.prototype,t),n&&fne(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var zDt=10,nke=function(){function e(){Sn(this,e),Xe(this,"priority",void 0),Xe(this,"subPriority",0)}return _n(e,[{key:"validate",value:function(n,r){return!0}}]),e}(),UDt=function(e){Nn(n,e);var t=Ln(n);function n(r,i,a,o,s){var l;return Sn(this,n),l=t.call(this),l.value=r,l.validateValue=i,l.setValue=a,l.priority=o,s&&(l.subPriority=s),l}return _n(n,[{key:"validate",value:function(i,a){return this.validateValue(i,this.value,a)}},{key:"set",value:function(i,a,o){return this.setValue(i,a,this.value,o)}}]),n}(nke),HDt=function(e){Nn(n,e);var t=Ln(n);function n(){var r;Sn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Xe(nt(r),"priority",zDt),Xe(nt(r),"subPriority",-1),r}return _n(n,[{key:"set",value:function(i,a){if(a.timestampIsSet)return i;var o=new Date(0);return o.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),o.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),o}}]),n}(nke),Gn=function(){function e(){Sn(this,e),Xe(this,"incompatibleTokens",void 0),Xe(this,"priority",void 0),Xe(this,"subPriority",void 0)}return _n(e,[{key:"run",value:function(n,r,i,a){var o=this.parse(n,r,i,a);return o?{setter:new UDt(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(n,r,i){return!0}}]),e}(),WDt=function(e){Nn(n,e);var t=Ln(n);function n(){var r;Sn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Xe(nt(r),"priority",140),Xe(nt(r),"incompatibleTokens",["R","u","t","T"]),r}return _n(n,[{key:"parse",value:function(i,a,o){switch(a){case"G":case"GG":case"GGG":return o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"});case"GGGGG":return o.era(i,{width:"narrow"});case"GGGG":default:return o.era(i,{width:"wide"})||o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"})}}},{key:"set",value:function(i,a,o){return a.era=o,i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Gn),Ni={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ac={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Li(e,t){return e&&{value:t(e.value),rest:e.rest}}function di(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function jc(e,t){var n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};var r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,a=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*Q$+a*J$+o*yIt),rest:t.slice(n[0].length)}}function rke(e){return di(Ni.anyDigitsSigned,e)}function ji(e,t){switch(e){case 1:return di(Ni.singleDigit,t);case 2:return di(Ni.twoDigits,t);case 3:return di(Ni.threeDigits,t);case 4:return di(Ni.fourDigits,t);default:return di(new RegExp("^\\d{1,"+e+"}"),t)}}function vj(e,t){switch(e){case 1:return di(Ni.singleDigitSigned,t);case 2:return di(Ni.twoDigitsSigned,t);case 3:return di(Ni.threeDigitsSigned,t);case 4:return di(Ni.fourDigitsSigned,t);default:return di(new RegExp("^-?\\d{1,"+e+"}"),t)}}function YH(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function ike(e,t){var n=t>0,r=n?t:1-t,i;if(r<=50)i=e||100;else{var a=r+50,o=Math.floor(a/100)*100,s=e>=a%100;i=e+o-(s?100:0)}return n?i:1-i}function ake(e){return e%400===0||e%4===0&&e%100!==0}var GDt=function(e){Nn(n,e);var t=Ln(n);function n(){var r;Sn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Xe(nt(r),"priority",130),Xe(nt(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return _n(n,[{key:"parse",value:function(i,a,o){var s=function(c){return{year:c,isTwoDigitYear:a==="yy"}};switch(a){case"y":return Li(ji(4,i),s);case"yo":return Li(o.ordinalNumber(i,{unit:"year"}),s);default:return Li(ji(a.length,i),s)}}},{key:"validate",value:function(i,a){return a.isTwoDigitYear||a.year>0}},{key:"set",value:function(i,a,o){var s=i.getUTCFullYear();if(o.isTwoDigitYear){var l=ike(o.year,s);return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}var c=!("era"in a)||a.era===1?o.year:1-o.year;return i.setUTCFullYear(c,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Gn),YDt=function(e){Nn(n,e);var t=Ln(n);function n(){var r;Sn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Xe(nt(r),"priority",130),Xe(nt(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return _n(n,[{key:"parse",value:function(i,a,o){var s=function(c){return{year:c,isTwoDigitYear:a==="YY"}};switch(a){case"Y":return Li(ji(4,i),s);case"Yo":return Li(o.ordinalNumber(i,{unit:"year"}),s);default:return Li(ji(a.length,i),s)}}},{key:"validate",value:function(i,a){return a.isTwoDigitYear||a.year>0}},{key:"set",value:function(i,a,o,s){var l=HH(i,s);if(o.isTwoDigitYear){var c=ike(o.year,l);return i.setUTCFullYear(c,0,s.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Yg(i,s)}var d=!("era"in a)||a.era===1?o.year:1-o.year;return i.setUTCFullYear(d,0,s.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Yg(i,s)}}]),n}(Gn),qDt=function(e){Nn(n,e);var t=Ln(n);function n(){var r;Sn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Xe(nt(r),"priority",130),Xe(nt(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return _n(n,[{key:"parse",value:function(i,a){return vj(a==="R"?4:a.length,i)}},{key:"set",value:function(i,a,o){var s=new Date(0);return s.setUTCFullYear(o,0,4),s.setUTCHours(0,0,0,0),yy(s)}}]),n}(Gn),KDt=function(e){Nn(n,e);var t=Ln(n);function n(){var r;Sn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Xe(nt(r),"priority",130),Xe(nt(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return _n(n,[{key:"parse",value:function(i,a){return vj(a==="u"?4:a.length,i)}},{key:"set",value:function(i,a,o){return i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Gn),ZDt=function(e){Nn(n,e);var t=Ln(n);function n(){var r;Sn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Xe(nt(r),"priority",120),Xe(nt(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return _n(n,[{key:"parse",value:function(i,a,o){switch(a){case"Q":case"QQ":return ji(a.length,i);case"Qo":return o.ordinalNumber(i,{unit:"quarter"});case"QQQ":return o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(i,{width:"wide",context:"formatting"})||o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,a){return a>=1&&a<=4}},{key:"set",value:function(i,a,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Gn),XDt=function(e){Nn(n,e);var t=Ln(n);function n(){var r;Sn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Xe(nt(r),"priority",120),Xe(nt(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return _n(n,[{key:"parse",value:function(i,a,o){switch(a){case"q":case"qq":return ji(a.length,i);case"qo":return o.ordinalNumber(i,{unit:"quarter"});case"qqq":return o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(i,{width:"wide",context:"standalone"})||o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,a){return a>=1&&a<=4}},{key:"set",value:function(i,a,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Gn),JDt=function(e){Nn(n,e);var t=Ln(n);function n(){var r;Sn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Xe(nt(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Xe(nt(r),"priority",110),r}return _n(n,[{key:"parse",value:function(i,a,o){var s=function(c){return c-1};switch(a){case"M":return Li(di(Ni.month,i),s);case"MM":return Li(ji(2,i),s);case"Mo":return Li(o.ordinalNumber(i,{unit:"month"}),s);case"MMM":return o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(i,{width:"wide",context:"formatting"})||o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,a){return a>=0&&a<=11}},{key:"set",value:function(i,a,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(Gn),QDt=function(e){Nn(n,e);var t=Ln(n);function n(){var r;Sn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Xe(nt(r),"priority",110),Xe(nt(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return _n(n,[{key:"parse",value:function(i,a,o){var s=function(c){return c-1};switch(a){case"L":return Li(di(Ni.month,i),s);case"LL":return Li(ji(2,i),s);case"Lo":return Li(o.ordinalNumber(i,{unit:"month"}),s);case"LLL":return o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(i,{width:"wide",context:"standalone"})||o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,a){return a>=0&&a<=11}},{key:"set",value:function(i,a,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(Gn);function e$t(e,t,n){et(2,arguments);var r=at(e),i=Jt(t),a=KEe(r,n)-i;return r.setUTCDate(r.getUTCDate()-a*7),r}var t$t=function(e){Nn(n,e);var t=Ln(n);function n(){var r;Sn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Xe(nt(r),"priority",100),Xe(nt(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return _n(n,[{key:"parse",value:function(i,a,o){switch(a){case"w":return di(Ni.week,i);case"wo":return o.ordinalNumber(i,{unit:"week"});default:return ji(a.length,i)}}},{key:"validate",value:function(i,a){return a>=1&&a<=53}},{key:"set",value:function(i,a,o,s){return Yg(e$t(i,o,s),s)}}]),n}(Gn);function n$t(e,t){et(2,arguments);var n=at(e),r=Jt(t),i=qEe(n)-r;return n.setUTCDate(n.getUTCDate()-i*7),n}var r$t=function(e){Nn(n,e);var t=Ln(n);function n(){var r;Sn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Xe(nt(r),"priority",100),Xe(nt(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return _n(n,[{key:"parse",value:function(i,a,o){switch(a){case"I":return di(Ni.week,i);case"Io":return o.ordinalNumber(i,{unit:"week"});default:return ji(a.length,i)}}},{key:"validate",value:function(i,a){return a>=1&&a<=53}},{key:"set",value:function(i,a,o){return yy(n$t(i,o))}}]),n}(Gn),i$t=[31,28,31,30,31,30,31,31,30,31,30,31],a$t=[31,29,31,30,31,30,31,31,30,31,30,31],o$t=function(e){Nn(n,e);var t=Ln(n);function n(){var r;Sn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Xe(nt(r),"priority",90),Xe(nt(r),"subPriority",1),Xe(nt(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return _n(n,[{key:"parse",value:function(i,a,o){switch(a){case"d":return di(Ni.date,i);case"do":return o.ordinalNumber(i,{unit:"date"});default:return ji(a.length,i)}}},{key:"validate",value:function(i,a){var o=i.getUTCFullYear(),s=ake(o),l=i.getUTCMonth();return s?a>=1&&a<=a$t[l]:a>=1&&a<=i$t[l]}},{key:"set",value:function(i,a,o){return i.setUTCDate(o),i.setUTCHours(0,0,0,0),i}}]),n}(Gn),s$t=function(e){Nn(n,e);var t=Ln(n);function n(){var r;Sn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Xe(nt(r),"priority",90),Xe(nt(r),"subpriority",1),Xe(nt(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return _n(n,[{key:"parse",value:function(i,a,o){switch(a){case"D":case"DD":return di(Ni.dayOfYear,i);case"Do":return o.ordinalNumber(i,{unit:"date"});default:return ji(a.length,i)}}},{key:"validate",value:function(i,a){var o=i.getUTCFullYear(),s=ake(o);return s?a>=1&&a<=366:a>=1&&a<=365}},{key:"set",value:function(i,a,o){return i.setUTCMonth(0,o),i.setUTCHours(0,0,0,0),i}}]),n}(Gn);function qH(e,t,n){var r,i,a,o,s,l,c,d;et(2,arguments);var h=ud(),p=Jt((r=(i=(a=(o=n==null?void 0:n.weekStartsOn)!==null&&o!==void 0?o:n==null||(s=n.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&a!==void 0?a:h.weekStartsOn)!==null&&i!==void 0?i:(c=h.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=at(e),g=Jt(t),v=m.getUTCDay(),b=g%7,y=(b+7)%7,x=(y<p?7:0)+g-v;return m.setUTCDate(m.getUTCDate()+x),m}var l$t=function(e){Nn(n,e);var t=Ln(n);function n(){var r;Sn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Xe(nt(r),"priority",90),Xe(nt(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return _n(n,[{key:"parse",value:function(i,a,o){switch(a){case"E":case"EE":case"EEE":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,a){return a>=0&&a<=6}},{key:"set",value:function(i,a,o,s){return i=qH(i,o,s),i.setUTCHours(0,0,0,0),i}}]),n}(Gn),u$t=function(e){Nn(n,e);var t=Ln(n);function n(){var r;Sn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Xe(nt(r),"priority",90),Xe(nt(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return _n(n,[{key:"parse",value:function(i,a,o,s){var l=function(d){var h=Math.floor((d-1)/7)*7;return(d+s.weekStartsOn+6)%7+h};switch(a){case"e":case"ee":return Li(ji(a.length,i),l);case"eo":return Li(o.ordinalNumber(i,{unit:"day"}),l);case"eee":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeeee":return o.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,a){return a>=0&&a<=6}},{key:"set",value:function(i,a,o,s){return i=qH(i,o,s),i.setUTCHours(0,0,0,0),i}}]),n}(Gn),c$t=function(e){Nn(n,e);var t=Ln(n);function n(){var r;Sn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Xe(nt(r),"priority",90),Xe(nt(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return _n(n,[{key:"parse",value:function(i,a,o,s){var l=function(d){var h=Math.floor((d-1)/7)*7;return(d+s.weekStartsOn+6)%7+h};switch(a){case"c":case"cc":return Li(ji(a.length,i),l);case"co":return Li(o.ordinalNumber(i,{unit:"day"}),l);case"ccc":return o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"ccccc":return o.day(i,{width:"narrow",context:"standalone"});case"cccccc":return o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(i,{width:"wide",context:"standalone"})||o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,a){return a>=0&&a<=6}},{key:"set",value:function(i,a,o,s){return i=qH(i,o,s),i.setUTCHours(0,0,0,0),i}}]),n}(Gn);function d$t(e,t){et(2,arguments);var n=Jt(t);n%7===0&&(n=n-7);var r=1,i=at(e),a=i.getUTCDay(),o=n%7,s=(o+7)%7,l=(s<r?7:0)+n-a;return i.setUTCDate(i.getUTCDate()+l),i}var f$t=function(e){Nn(n,e);var t=Ln(n);function n(){var r;Sn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Xe(nt(r),"priority",90),Xe(nt(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return _n(n,[{key:"parse",value:function(i,a,o){var s=function(c){return c===0?7:c};switch(a){case"i":case"ii":return ji(a.length,i);case"io":return o.ordinalNumber(i,{unit:"day"});case"iii":return Li(o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),s);case"iiiii":return Li(o.day(i,{width:"narrow",context:"formatting"}),s);case"iiiiii":return Li(o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),s);case"iiii":default:return Li(o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),s)}}},{key:"validate",value:function(i,a){return a>=1&&a<=7}},{key:"set",value:function(i,a,o){return i=d$t(i,o),i.setUTCHours(0,0,0,0),i}}]),n}(Gn),h$t=function(e){Nn(n,e);var t=Ln(n);function n(){var r;Sn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Xe(nt(r),"priority",80),Xe(nt(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return _n(n,[{key:"parse",value:function(i,a,o){switch(a){case"a":case"aa":case"aaa":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,a,o){return i.setUTCHours(YH(o),0,0,0),i}}]),n}(Gn),p$t=function(e){Nn(n,e);var t=Ln(n);function n(){var r;Sn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Xe(nt(r),"priority",80),Xe(nt(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return _n(n,[{key:"parse",value:function(i,a,o){switch(a){case"b":case"bb":case"bbb":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,a,o){return i.setUTCHours(YH(o),0,0,0),i}}]),n}(Gn),m$t=function(e){Nn(n,e);var t=Ln(n);function n(){var r;Sn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Xe(nt(r),"priority",80),Xe(nt(r),"incompatibleTokens",["a","b","t","T"]),r}return _n(n,[{key:"parse",value:function(i,a,o){switch(a){case"B":case"BB":case"BBB":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,a,o){return i.setUTCHours(YH(o),0,0,0),i}}]),n}(Gn),g$t=function(e){Nn(n,e);var t=Ln(n);function n(){var r;Sn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Xe(nt(r),"priority",70),Xe(nt(r),"incompatibleTokens",["H","K","k","t","T"]),r}return _n(n,[{key:"parse",value:function(i,a,o){switch(a){case"h":return di(Ni.hour12h,i);case"ho":return o.ordinalNumber(i,{unit:"hour"});default:return ji(a.length,i)}}},{key:"validate",value:function(i,a){return a>=1&&a<=12}},{key:"set",value:function(i,a,o){var s=i.getUTCHours()>=12;return s&&o<12?i.setUTCHours(o+12,0,0,0):!s&&o===12?i.setUTCHours(0,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(Gn),v$t=function(e){Nn(n,e);var t=Ln(n);function n(){var r;Sn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Xe(nt(r),"priority",70),Xe(nt(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return _n(n,[{key:"parse",value:function(i,a,o){switch(a){case"H":return di(Ni.hour23h,i);case"Ho":return o.ordinalNumber(i,{unit:"hour"});default:return ji(a.length,i)}}},{key:"validate",value:function(i,a){return a>=0&&a<=23}},{key:"set",value:function(i,a,o){return i.setUTCHours(o,0,0,0),i}}]),n}(Gn),y$t=function(e){Nn(n,e);var t=Ln(n);function n(){var r;Sn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Xe(nt(r),"priority",70),Xe(nt(r),"incompatibleTokens",["h","H","k","t","T"]),r}return _n(n,[{key:"parse",value:function(i,a,o){switch(a){case"K":return di(Ni.hour11h,i);case"Ko":return o.ordinalNumber(i,{unit:"hour"});default:return ji(a.length,i)}}},{key:"validate",value:function(i,a){return a>=0&&a<=11}},{key:"set",value:function(i,a,o){var s=i.getUTCHours()>=12;return s&&o<12?i.setUTCHours(o+12,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(Gn),b$t=function(e){Nn(n,e);var t=Ln(n);function n(){var r;Sn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Xe(nt(r),"priority",70),Xe(nt(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return _n(n,[{key:"parse",value:function(i,a,o){switch(a){case"k":return di(Ni.hour24h,i);case"ko":return o.ordinalNumber(i,{unit:"hour"});default:return ji(a.length,i)}}},{key:"validate",value:function(i,a){return a>=1&&a<=24}},{key:"set",value:function(i,a,o){var s=o<=24?o%24:o;return i.setUTCHours(s,0,0,0),i}}]),n}(Gn),x$t=function(e){Nn(n,e);var t=Ln(n);function n(){var r;Sn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Xe(nt(r),"priority",60),Xe(nt(r),"incompatibleTokens",["t","T"]),r}return _n(n,[{key:"parse",value:function(i,a,o){switch(a){case"m":return di(Ni.minute,i);case"mo":return o.ordinalNumber(i,{unit:"minute"});default:return ji(a.length,i)}}},{key:"validate",value:function(i,a){return a>=0&&a<=59}},{key:"set",value:function(i,a,o){return i.setUTCMinutes(o,0,0),i}}]),n}(Gn),w$t=function(e){Nn(n,e);var t=Ln(n);function n(){var r;Sn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Xe(nt(r),"priority",50),Xe(nt(r),"incompatibleTokens",["t","T"]),r}return _n(n,[{key:"parse",value:function(i,a,o){switch(a){case"s":return di(Ni.second,i);case"so":return o.ordinalNumber(i,{unit:"second"});default:return ji(a.length,i)}}},{key:"validate",value:function(i,a){return a>=0&&a<=59}},{key:"set",value:function(i,a,o){return i.setUTCSeconds(o,0),i}}]),n}(Gn),C$t=function(e){Nn(n,e);var t=Ln(n);function n(){var r;Sn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Xe(nt(r),"priority",30),Xe(nt(r),"incompatibleTokens",["t","T"]),r}return _n(n,[{key:"parse",value:function(i,a){var o=function(l){return Math.floor(l*Math.pow(10,-a.length+3))};return Li(ji(a.length,i),o)}},{key:"set",value:function(i,a,o){return i.setUTCMilliseconds(o),i}}]),n}(Gn),S$t=function(e){Nn(n,e);var t=Ln(n);function n(){var r;Sn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Xe(nt(r),"priority",10),Xe(nt(r),"incompatibleTokens",["t","T","x"]),r}return _n(n,[{key:"parse",value:function(i,a){switch(a){case"X":return jc(Ac.basicOptionalMinutes,i);case"XX":return jc(Ac.basic,i);case"XXXX":return jc(Ac.basicOptionalSeconds,i);case"XXXXX":return jc(Ac.extendedOptionalSeconds,i);case"XXX":default:return jc(Ac.extended,i)}}},{key:"set",value:function(i,a,o){return a.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(Gn),_$t=function(e){Nn(n,e);var t=Ln(n);function n(){var r;Sn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Xe(nt(r),"priority",10),Xe(nt(r),"incompatibleTokens",["t","T","X"]),r}return _n(n,[{key:"parse",value:function(i,a){switch(a){case"x":return jc(Ac.basicOptionalMinutes,i);case"xx":return jc(Ac.basic,i);case"xxxx":return jc(Ac.basicOptionalSeconds,i);case"xxxxx":return jc(Ac.extendedOptionalSeconds,i);case"xxx":default:return jc(Ac.extended,i)}}},{key:"set",value:function(i,a,o){return a.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(Gn),E$t=function(e){Nn(n,e);var t=Ln(n);function n(){var r;Sn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Xe(nt(r),"priority",40),Xe(nt(r),"incompatibleTokens","*"),r}return _n(n,[{key:"parse",value:function(i){return rke(i)}},{key:"set",value:function(i,a,o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),n}(Gn),k$t=function(e){Nn(n,e);var t=Ln(n);function n(){var r;Sn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Xe(nt(r),"priority",20),Xe(nt(r),"incompatibleTokens","*"),r}return _n(n,[{key:"parse",value:function(i){return rke(i)}},{key:"set",value:function(i,a,o){return[new Date(o),{timestampIsSet:!0}]}}]),n}(Gn),T$t={G:new WDt,y:new GDt,Y:new YDt,R:new qDt,u:new KDt,Q:new ZDt,q:new XDt,M:new JDt,L:new QDt,w:new t$t,I:new r$t,d:new o$t,D:new s$t,E:new l$t,e:new u$t,c:new c$t,i:new f$t,a:new h$t,b:new p$t,B:new m$t,h:new g$t,H:new v$t,K:new y$t,k:new b$t,m:new x$t,s:new w$t,S:new C$t,X:new S$t,x:new _$t,t:new E$t,T:new k$t},A$t=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,j$t=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,I$t=/^'([^]*?)'?$/,D$t=/''/g,$$t=/\S/,O$t=/[a-zA-Z]/;function KH(e,t,n,r){var i,a,o,s,l,c,d,h,p,m,g,v,b,y,x,w,C,S;et(3,arguments);var _=String(e),E=String(t),k=ud(),T=(i=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:k.locale)!==null&&i!==void 0?i:WH;if(!T.match)throw new RangeError("locale must contain match property");var j=Jt((o=(s=(l=(c=r==null?void 0:r.firstWeekContainsDate)!==null&&c!==void 0?c:r==null||(d=r.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&l!==void 0?l:k.firstWeekContainsDate)!==null&&s!==void 0?s:(p=k.locale)===null||p===void 0||(m=p.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(j>=1&&j<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var I=Jt((g=(v=(b=(y=r==null?void 0:r.weekStartsOn)!==null&&y!==void 0?y:r==null||(x=r.locale)===null||x===void 0||(w=x.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&b!==void 0?b:k.weekStartsOn)!==null&&v!==void 0?v:(C=k.locale)===null||C===void 0||(S=C.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&g!==void 0?g:0);if(!(I>=0&&I<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(E==="")return _===""?at(n):new Date(NaN);var A={firstWeekContainsDate:j,weekStartsOn:I,locale:T},$=[new HDt],D=E.match(j$t).map(function(J){var Q=J[0];if(Q in g8){var re=g8[Q];return re(J,T.formatLong)}return J}).join("").match(A$t),M=[],O=dne(D),F;try{var P=function(){var Q=F.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&JEe(Q)&&mj(Q,E,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&XEe(Q)&&mj(Q,E,e);var re=Q[0],ae=T$t[re];if(ae){var ne=ae.incompatibleTokens;if(Array.isArray(ne)){var se=M.find(function(oe){return ne.includes(oe.token)||oe.token===re});if(se)throw new RangeError("The format string mustn't contain `".concat(se.fullToken,"` and `").concat(Q,"` at the same time"))}else if(ae.incompatibleTokens==="*"&&M.length>0)throw new RangeError("The format string mustn't contain `".concat(Q,"` and any other token at the same time"));M.push({token:re,fullToken:Q});var le=ae.run(_,Q,T.match,A);if(!le)return{v:new Date(NaN)};$.push(le.setter),_=le.rest}else{if(re.match(O$t))throw new RangeError("Format string contains an unescaped latin alphabet character `"+re+"`");if(Q==="''"?Q="'":re==="'"&&(Q=M$t(Q)),_.indexOf(Q)===0)_=_.slice(Q.length);else return{v:new Date(NaN)}}};for(O.s();!(F=O.n()).done;){var V=P();if(qu(V)==="object")return V.v}}catch(J){O.e(J)}finally{O.f()}if(_.length>0&&$$t.test(_))return new Date(NaN);var H=$.map(function(J){return J.priority}).sort(function(J,Q){return Q-J}).filter(function(J,Q,re){return re.indexOf(J)===Q}).map(function(J){return $.filter(function(Q){return Q.priority===J}).sort(function(Q,re){return re.subPriority-Q.subPriority})}).map(function(J){return J[0]}),W=at(n);if(isNaN(W.getTime()))return new Date(NaN);var G=GEe(W,vy(W)),X={},z=dne(H),q;try{for(z.s();!(q=z.n()).done;){var Z=q.value;if(!Z.validate(G,A))return new Date(NaN);var K=Z.set(G,X,A);Array.isArray(K)?(G=K[0],GH(X,K[1])):G=K}}catch(J){z.e(J)}finally{z.f()}return G}function M$t(e){return e.match(I$t)[1].replace(D$t,"'")}function R$t(e,t,n){et(2,arguments);var r=jp(e,n),i=jp(t,n);return r.getTime()===i.getTime()}function P$t(e,t){return et(2,arguments),R$t(e,t,{weekStartsOn:1})}function aO(e,t){et(2,arguments);var n=at(e),r=at(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function F$t(e){return et(1,arguments),P$t(e,Date.now())}function N$t(e){return et(1,arguments),Eo(e,Date.now())}function L$t(e,t){et(2,arguments);var n=Jt(t);return Hr(e,-n)}function oke(e,t){var n;et(1,arguments);var r=Jt((n=t==null?void 0:t.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var i=U$t(e),a;if(i.date){var o=H$t(i.date,r);a=W$t(o.restDateString,o.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);var s=a.getTime(),l=0,c;if(i.time&&(l=G$t(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(c=Y$t(i.timezone),isNaN(c))return new Date(NaN)}else{var d=new Date(s+l),h=new Date(0);return h.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),h.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),h}return new Date(s+l+c)}var YE={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},B$t=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,V$t=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,z$t=/^([+-])(\d{2})(?::?(\d{2}))?$/;function U$t(e){var t={},n=e.split(YE.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],YE.timeZoneDelimiter.test(t.date)&&(t.date=e.split(YE.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var i=YE.timezone.exec(r);i?(t.time=r.replace(i[1],""),t.timezone=i[1]):t.time=r}return t}function H$t(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((r[1]||r[2]).length)}}function W$t(e,t){if(t===null)return new Date(NaN);var n=e.match(B$t);if(!n)return new Date(NaN);var r=!!n[4],i=Mx(n[1]),a=Mx(n[2])-1,o=Mx(n[3]),s=Mx(n[4]),l=Mx(n[5])-1;if(r)return J$t(t,s,l)?q$t(t,s,l):new Date(NaN);var c=new Date(0);return!Z$t(t,a,o)||!X$t(t,i)?new Date(NaN):(c.setUTCFullYear(t,a,Math.max(i,o)),c)}function Mx(e){return e?parseInt(e):1}function G$t(e){var t=e.match(V$t);if(!t)return NaN;var n=i3(t[1]),r=i3(t[2]),i=i3(t[3]);return Q$t(n,r,i)?n*Q$+r*J$+i*1e3:NaN}function i3(e){return e&&parseFloat(e.replace(",","."))||0}function Y$t(e){if(e==="Z")return 0;var t=e.match(z$t);if(!t)return 0;var n=t[1]==="+"?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return eOt(r,i)?n*(r*Q$+i*J$):NaN}function q$t(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var i=r.getUTCDay()||7,a=(t-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+a),r}var K$t=[31,null,31,30,31,30,31,31,30,31,30,31];function ske(e){return e%400===0||e%4===0&&e%100!==0}function Z$t(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(K$t[t]||(ske(e)?29:28))}function X$t(e,t){return t>=1&&t<=(ske(e)?366:365)}function J$t(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function Q$t(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function eOt(e,t){return t>=0&&t<=59}function ZH(e,t){et(2,arguments);var n=at(e),r=Jt(t),i=n.getFullYear(),a=n.getDate(),o=new Date(0);o.setFullYear(i,r,15),o.setHours(0,0,0,0);var s=PDt(o);return n.setMonth(r,Math.min(a,s)),n}function tOt(e,t){if(et(2,arguments),qu(t)!=="object"||t===null)throw new RangeError("values parameter must be an object");var n=at(e);return isNaN(n.getTime())?new Date(NaN):(t.year!=null&&n.setFullYear(t.year),t.month!=null&&(n=ZH(n,t.month)),t.date!=null&&n.setDate(Jt(t.date)),t.hours!=null&&n.setHours(Jt(t.hours)),t.minutes!=null&&n.setMinutes(Jt(t.minutes)),t.seconds!=null&&n.setSeconds(Jt(t.seconds)),t.milliseconds!=null&&n.setMilliseconds(Jt(t.milliseconds)),n)}function lke(e,t){et(2,arguments);var n=at(e),r=Jt(t);return n.setDate(r),n}function vg(e,t){et(2,arguments);var n=at(e),r=Jt(t);return n.setHours(r),n}function df(e,t){et(2,arguments);var n=at(e),r=Jt(t);return n.setMinutes(r),n}function uke(e,t){et(2,arguments);var n=at(e),r=Jt(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function hne(){return Ip(Date.now())}function nOt(e,t){et(2,arguments);var n=Jt(t);return X2(e,-n)}function pne(e,t){if(et(2,arguments),!t||qu(t)!=="object")return new Date(NaN);var n=t.years?Jt(t.years):0,r=t.months?Jt(t.months):0,i=t.weeks?Jt(t.weeks):0,a=t.days?Jt(t.days):0,o=t.hours?Jt(t.hours):0,s=t.minutes?Jt(t.minutes):0,l=t.seconds?Jt(t.seconds):0,c=nOt(e,r+n*12),d=L$t(c,a+i*7),h=s+o*60,p=l+h*60,m=p*1e3,g=new Date(d.getTime()-m);return g}var rOt=Math.ceil,iOt=Math.max;function aOt(e,t,n,r){for(var i=-1,a=iOt(rOt((t-e)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=e,e+=n;return o}var oOt=aOt,sOt=qpe,mne=1/0,lOt=17976931348623157e292;function uOt(e){if(!e)return e===0?e:0;if(e=sOt(e),e===mne||e===-mne){var t=e<0?-1:1;return t*lOt}return e===e?e:0}var cke=uOt,cOt=oOt,dOt=b$,a3=cke;function fOt(e){return function(t,n,r){return r&&typeof r!="number"&&dOt(t,n,r)&&(n=r=void 0),t=a3(t),n===void 0?(n=t,t=0):n=a3(n),r=r===void 0?t<n?1:-1:a3(r),cOt(t,n,r,e)}}var hOt=fOt,pOt=hOt,mOt=pOt(),gOt=mOt;const J2=Pe(gOt);function gne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vne(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gne(Object(n),!0).forEach(function(r){vOt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vOt(e,t,n){return t=yOt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yOt(e){var t=bOt(e,"string");return typeof t=="symbol"?t:t+""}function bOt(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _S(e){return e._type==="span"&&"text"in e&&typeof e.text=="string"&&(typeof e.marks>"u"||Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"))}function XH(e){return typeof e._type=="string"&&e._type[0]!=="@"&&(!("markDefs"in e)||!e.markDefs||Array.isArray(e.markDefs)&&e.markDefs.every(t=>typeof t._key=="string"))&&"children"in e&&Array.isArray(e.children)&&e.children.every(t=>typeof t=="object"&&"_type"in t)}function dke(e){return XH(e)&&"listItem"in e&&typeof e.listItem=="string"&&(typeof e.level>"u"||typeof e.level=="number")}function fke(e){return e._type==="@list"}function hke(e){return e._type==="@span"}function pke(e){return e._type==="@text"}const yne=["strong","em","code","underline","strike-through"];function xOt(e,t,n){if(!_S(e)||!e.marks)return[];if(!e.marks.length)return[];const r=e.marks.slice(),i={};return r.forEach(a=>{i[a]=1;for(let o=t+1;o<n.length;o++){const s=n[o];if(s&&_S(s)&&Array.isArray(s.marks)&&s.marks.indexOf(a)!==-1)i[a]++;else break}}),r.sort((a,o)=>wOt(i,a,o))}function wOt(e,t,n){const r=e[t],i=e[n];if(r!==i)return i-r;const a=yne.indexOf(t),o=yne.indexOf(n);return a!==o?a-o:t.localeCompare(n)}function COt(e){var t;const{children:n,markDefs:r=[]}=e;if(!n||!n.length)return[];const i=n.map(xOt),a={_type:"@span",children:[],markType:"<unknown>"};let o=[a];for(let s=0;s<n.length;s++){const l=n[s];if(!l)continue;const c=i[s]||[];let d=1;if(o.length>1)for(d;d<o.length;d++){const p=((t=o[d])==null?void 0:t.markKey)||"",m=c.indexOf(p);if(m===-1)break;c.splice(m,1)}o=o.slice(0,d);let h=o[o.length-1];if(h){for(const p of c){const m=r.find(b=>b._key===p),g=m?m._type:p,v={_type:"@span",_key:l._key,children:[],markDef:m,markType:g,markKey:p};h.children.push(v),o.push(v),h=v}if(_S(l)){const p=l.text.split(`
`);for(let m=p.length;m-- >1;)p.splice(m,0,`
`);h.children=h.children.concat(p.map(m=>({_type:"@text",text:m})))}else h.children=h.children.concat(l)}}return a.children}function SOt(e,t){const n=[];let r;for(let i=0;i<e.length;i++){const a=e[i];if(a){if(!dke(a)){n.push(a),r=void 0;continue}if(!r){r=qE(a,i,t),n.push(r);continue}if(_Ot(a,r)){r.children.push(a);continue}if((a.level||1)>r.level){const o=qE(a,i,t);if(t==="html"){const s=r.children[r.children.length-1],l=vne(vne({},s),{},{children:[...s.children,o]});r.children[r.children.length-1]=l}else r.children.push(o);r=o;continue}if((a.level||1)<r.level){const o=n[n.length-1],s=o&&y8(o,a);if(s){r=s,r.children.push(a);continue}r=qE(a,i,t),n.push(r);continue}if(a.listItem!==r.listItem){const o=n[n.length-1],s=o&&y8(o,{level:a.level||1});if(s&&s.listItem===a.listItem){r=s,r.children.push(a);continue}else{r=qE(a,i,t),n.push(r);continue}}console.warn("Unknown state encountered for block",a),n.push(a)}}return n}function _Ot(e,t){return(e.level||1)===t.level&&e.listItem===t.listItem}function qE(e,t,n){return{_type:"@list",_key:`${e._key||`${t}`}-parent`,mode:n,level:e.level||1,listItem:e.listItem,children:[e]}}function y8(e,t){const n=t.level||1,r=t.listItem||"normal",i=typeof t.listItem=="string";if(fke(e)&&(e.level||1)===n&&i&&(e.listItem||"normal")===r)return e;if(!("children"in e))return;const a=e.children[e.children.length-1];return a&&!_S(a)?y8(a,t):void 0}function mke(e){let t="";return e.children.forEach(n=>{pke(n)?t+=n.text:hke(n)&&(t+=mke(n))}),t}const EOt=/^\s/,kOt=/^\s/;function gke(e){const t=Array.isArray(e)?e:[e];let n="";return t.forEach((r,i)=>{if(!XH(r))return;let a=!1;r.children.forEach(o=>{_S(o)?(n+=a&&n&&!kOt.test(n)&&!EOt.test(o.text)?" ":"",n+=o.text,a=!1):a=!0}),i!==t.length-1&&(n+=`

`)}),n}const TOt="html",AOt=["block","list","listItem","marks","types"],jOt=["listItem"],IOt=["_key"];function bne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bne(Object(n),!0).forEach(function(r){DOt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DOt(e,t,n){return(t=$Ot(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $Ot(e){var t=OOt(e,"string");return typeof t=="symbol"?t:t+""}function OOt(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b8(e,t){if(e==null)return{};var n,r,i=MOt(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function MOt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}const ROt={number:({children:e})=>u.jsx("ol",{children:e}),bullet:({children:e})=>u.jsx("ul",{children:e})},POt=({children:e})=>u.jsx("li",{children:e}),FOt=({children:e,value:t})=>u.jsx("a",{href:t==null?void 0:t.href,children:e}),NOt={textDecoration:"underline"},LOt={em:({children:e})=>u.jsx("em",{children:e}),strong:({children:e})=>u.jsx("strong",{children:e}),code:({children:e})=>u.jsx("code",{children:e}),underline:({children:e})=>u.jsx("span",{style:NOt,children:e}),"strike-through":({children:e})=>u.jsx("del",{children:e}),link:FOt},Q2=(e,t)=>`[@portabletext/react] Unknown ${e}, specify a component for it in the \`components.${t}\` prop`,vke=e=>Q2(`block type "${e}"`,"types"),BOt=e=>Q2(`mark type "${e}"`,"marks"),VOt=e=>Q2(`block style "${e}"`,"block"),zOt=e=>Q2(`list style "${e}"`,"list"),UOt=e=>Q2(`list item style "${e}"`,"listItem");function HOt(e){console.warn(e)}const xne={display:"none"},WOt=({value:e,isInline:t})=>{const n=vke(e._type);return t?u.jsx("span",{style:xne,children:n}):u.jsx("div",{style:xne,children:n})},GOt=({markType:e,children:t})=>u.jsx("span",{className:`unknown__pt__mark__${e}`,children:t}),YOt=({children:e})=>u.jsx("p",{children:e}),qOt=({children:e})=>u.jsx("ul",{children:e}),KOt=({children:e})=>u.jsx("li",{children:e}),ZOt=()=>u.jsx("br",{}),XOt={normal:({children:e})=>u.jsx("p",{children:e}),blockquote:({children:e})=>u.jsx("blockquote",{children:e}),h1:({children:e})=>u.jsx("h1",{children:e}),h2:({children:e})=>u.jsx("h2",{children:e}),h3:({children:e})=>u.jsx("h3",{children:e}),h4:({children:e})=>u.jsx("h4",{children:e}),h5:({children:e})=>u.jsx("h5",{children:e}),h6:({children:e})=>u.jsx("h6",{children:e})},wne={types:{},block:XOt,marks:LOt,list:ROt,listItem:POt,hardBreak:ZOt,unknownType:WOt,unknownMark:GOt,unknownList:qOt,unknownListItem:KOt,unknownBlockStyle:YOt};function JOt(e,t){const n=b8(t,AOt);return wc(wc({},e),{},{block:Rx(e,t,"block"),list:Rx(e,t,"list"),listItem:Rx(e,t,"listItem"),marks:Rx(e,t,"marks"),types:Rx(e,t,"types")},n)}function Rx(e,t,n){const r=t[n],i=e[n];return typeof r=="function"||r&&typeof i=="function"?r:r?wc(wc({},i),r):i}function yke({value:e,components:t,listNestingMode:n,onMissingComponent:r=HOt}){const i=r||eMt,a=Array.isArray(e)?e:[e],o=SOt(a,n||TOt),s=f.useMemo(()=>t?JOt(wne,t):wne,[t]),l=f.useMemo(()=>QOt(s,i),[s,i]),c=o.map((d,h)=>l({node:d,index:h,isInline:!1,renderNode:l}));return u.jsx(u.Fragment,{children:c})}const QOt=(e,t)=>{function n(h){const{node:p,index:m,isInline:g}=h,v=p._key||`node-${m}`;return fke(p)?a(p,m,v):dke(p)?i(p,m,v):hke(p)?o(p,m,v):r(p)?d(p,m,v,g):XH(p)?s(p,m,v,g):pke(p)?l(p,v):c(p,m,v,g)}function r(h){return h._type in e.types}function i(h,p,m){const g=Cne({node:h,index:p,isInline:!1,renderNode:n}),v=e.listItem,b=(typeof v=="function"?v:v[h.listItem])||e.unknownListItem;if(b===e.unknownListItem){const x=h.listItem||"bullet";t(UOt(x),{type:x,nodeType:"listItemStyle"})}let y=g.children;if(h.style&&h.style!=="normal"){const x=b8(h,jOt);y=n({node:x,index:p,isInline:!1,renderNode:n})}return u.jsx(b,{value:h,index:p,isInline:!1,renderNode:n,children:y},m)}function a(h,p,m){const g=h.children.map((y,x)=>n({node:y._key?y:wc(wc({},y),{},{_key:`li-${p}-${x}`}),index:x,isInline:!1,renderNode:n})),v=e.list,b=(typeof v=="function"?v:v[h.listItem])||e.unknownList;if(b===e.unknownList){const y=h.listItem||"bullet";t(zOt(y),{nodeType:"listStyle",type:y})}return u.jsx(b,{value:h,index:p,isInline:!1,renderNode:n,children:g},m)}function o(h,p,m){const{markDef:g,markType:v,markKey:b}=h,y=e.marks[v]||e.unknownMark,x=h.children.map((w,C)=>n({node:w,index:C,isInline:!0,renderNode:n}));return y===e.unknownMark&&t(BOt(v),{nodeType:"mark",type:v}),u.jsx(y,{text:mke(h),value:g,markType:v,markKey:b,renderNode:n,children:x},m)}function s(h,p,m,g){const v=Cne({node:h,index:p,isInline:g,renderNode:n}),b=b8(v,IOt),y=b.node.style||"normal",x=(typeof e.block=="function"?e.block:e.block[y])||e.unknownBlockStyle;return x===e.unknownBlockStyle&&t(VOt(y),{nodeType:"blockStyle",type:y}),u.jsx(x,wc(wc({},b),{},{value:b.node,renderNode:n}),m)}function l(h,p){if(h.text===`
`){const m=e.hardBreak;return m?u.jsx(m,{},p):`
`}return h.text}function c(h,p,m,g){const v={value:h,isInline:g,index:p,renderNode:n};t(vke(h._type),{nodeType:"block",type:h._type});const b=e.unknownType;return u.jsx(b,wc({},v),m)}function d(h,p,m,g){const v={value:h,isInline:g,index:p,renderNode:n},b=e.types[h._type];return b?u.jsx(b,wc({},v),m):null}return n};function Cne(e){const{node:t,index:n,isInline:r,renderNode:i}=e,a=COt(t).map((o,s)=>i({node:o,isInline:!0,index:s,renderNode:i}));return{_key:t._key||`block-${n}`,children:a,index:n,isInline:r,node:t}}function eMt(){}/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function Sne(e){return Object.prototype.toString.call(e)==="[object Object]"}function Co(e){var t,n;return Sne(e)===!1?!1:(t=e.constructor,t===void 0?!0:(n=t.prototype,!(Sne(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}var bke=Symbol.for("immer-nothing"),_ne=Symbol.for("immer-draftable"),al=Symbol.for("immer-state");function ju(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var by=Object.getPrototypeOf;function qg(e){return!!e&&!!e[al]}function Kg(e){var t;return e?xke(e)||Array.isArray(e)||!!e[_ne]||!!((t=e.constructor)!=null&&t[_ne])||sO(e)||lO(e):!1}var tMt=Object.prototype.constructor.toString();function xke(e){if(!e||typeof e!="object")return!1;const t=by(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===tMt}function yj(e,t){oO(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function oO(e){const t=e[al];return t?t.type_:Array.isArray(e)?1:sO(e)?2:lO(e)?3:0}function x8(e,t){return oO(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function wke(e,t,n){const r=oO(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function nMt(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function sO(e){return e instanceof Map}function lO(e){return e instanceof Set}function Mm(e){return e.copy_||e.base_}function w8(e,t){if(sO(e))return new Map(e);if(lO(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=xke(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[al];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],s=r[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(by(e),r)}else{const r=by(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function JH(e,t=!1){return uO(e)||qg(e)||!Kg(e)||(oO(e)>1&&(e.set=e.add=e.clear=e.delete=rMt),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>JH(r,!0))),e}function rMt(){ju(2)}function uO(e){return Object.isFrozen(e)}var iMt={};function Zg(e){const t=iMt[e];return t||ju(0,e),t}var ES;function Cke(){return ES}function aMt(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Ene(e,t){t&&(Zg("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function C8(e){S8(e),e.drafts_.forEach(oMt),e.drafts_=null}function S8(e){e===ES&&(ES=e.parent_)}function kne(e){return ES=aMt(ES,e)}function oMt(e){const t=e[al];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Tne(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[al].modified_&&(C8(t),ju(4)),Kg(e)&&(e=bj(t,e),t.parent_||xj(t,e)),t.patches_&&Zg("Patches").generateReplacementPatches_(n[al].base_,e,t.patches_,t.inversePatches_)):e=bj(t,n,[]),C8(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==bke?e:void 0}function bj(e,t,n){if(uO(t))return t;const r=t[al];if(!r)return yj(t,(i,a)=>Ane(e,r,t,i,a,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return xj(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,o=!1;r.type_===3&&(a=new Set(i),i.clear(),o=!0),yj(a,(s,l)=>Ane(e,r,i,s,l,n,o)),xj(e,i,!1),n&&e.patches_&&Zg("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Ane(e,t,n,r,i,a,o){if(qg(i)){const s=a&&t&&t.type_!==3&&!x8(t.assigned_,r)?a.concat(r):void 0,l=bj(e,i,s);if(wke(n,r,l),qg(l))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Kg(i)&&!uO(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;bj(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&xj(e,i)}}function xj(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&JH(t,n)}function sMt(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Cke(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=QH;n&&(i=[r],a=kS);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,s}var QH={get(e,t){if(t===al)return e;const n=Mm(e);if(!x8(n,t))return lMt(e,n,t);const r=n[t];return e.finalized_||!Kg(r)?r:r===o3(e.base_,t)?(s3(e),e.copy_[t]=E8(r,e)):r},has(e,t){return t in Mm(e)},ownKeys(e){return Reflect.ownKeys(Mm(e))},set(e,t,n){const r=Ske(Mm(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=o3(Mm(e),t),a=i==null?void 0:i[al];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(nMt(n,i)&&(n!==void 0||x8(e.base_,t)))return!0;s3(e),_8(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return o3(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,s3(e),_8(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Mm(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){ju(11)},getPrototypeOf(e){return by(e.base_)},setPrototypeOf(){ju(12)}},kS={};yj(QH,(e,t)=>{kS[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});kS.deleteProperty=function(e,t){return kS.set.call(this,e,t,void 0)};kS.set=function(e,t,n){return QH.set.call(this,e[0],t,n,e[0])};function o3(e,t){const n=e[al];return(n?Mm(n):e)[t]}function lMt(e,t,n){var i;const r=Ske(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function Ske(e,t){if(!(t in e))return;let n=by(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=by(n)}}function _8(e){e.modified_||(e.modified_=!0,e.parent_&&_8(e.parent_))}function s3(e){e.copy_||(e.copy_=w8(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var uMt=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const o=this;return function(l=a,...c){return o.produce(l,d=>n.call(this,d,...c))}}typeof n!="function"&&ju(6),r!==void 0&&typeof r!="function"&&ju(7);let i;if(Kg(t)){const a=kne(this),o=E8(t,void 0);let s=!0;try{i=n(o),s=!1}finally{s?C8(a):S8(a)}return Ene(a,r),Tne(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===bke&&(i=void 0),this.autoFreeze_&&JH(i,!0),r){const a=[],o=[];Zg("Patches").generateReplacementPatches_(t,i,a,o),r(a,o)}return i}else ju(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...s)=>this.produceWithPatches(o,l=>t(l,...s));let r,i;return[this.produce(t,n,(o,s)=>{r=o,i=s}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Kg(e)||ju(8),qg(e)&&(e=cMt(e));const t=kne(this),n=E8(e,void 0);return n[al].isManual_=!0,S8(t),n}finishDraft(e,t){const n=e&&e[al];(!n||!n.isManual_)&&ju(9);const{scope_:r}=n;return Ene(r,t),Tne(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Zg("Patches").applyPatches_;return qg(e)?r(e,t):this.produce(e,i=>r(i,t))}};function E8(e,t){const n=sO(e)?Zg("MapSet").proxyMap_(e,t):lO(e)?Zg("MapSet").proxySet_(e,t):sMt(e,t);return(t?t.scope_:Cke()).drafts_.push(n),n}function cMt(e){return qg(e)||ju(10,e),_ke(e)}function _ke(e){if(!Kg(e)||uO(e))return e;const t=e[al];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=w8(e,t.scope_.immer_.useStrictShallowCopy_)}else n=w8(e,!0);return yj(n,(r,i)=>{wke(n,r,_ke(i))}),t&&(t.finalized_=!1),n}var ol=new uMt,eW=ol.produce;ol.produceWithPatches.bind(ol);ol.setAutoFreeze.bind(ol);ol.setUseStrictShallowCopy.bind(ol);ol.applyPatches.bind(ol);var jne=ol.createDraft.bind(ol),Ine=ol.finishDraft.bind(ol),dMt={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var i=ie.transform(n,t,{affinity:r});e.current=i,i==null&&e.unref()}}},fMt={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var i=zt.transform(n,t,{affinity:r});e.current=i,i==null&&e.unref()}}},hMt={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var i=pe.transform(n,t,{affinity:r});e.current=i,i==null&&e.unref()}}},wj=new WeakMap,Cj=new WeakMap,xC=new WeakMap,Eke=new WeakMap,Dne=new WeakMap,$ne=new WeakMap,One=new WeakMap,ie={ancestors(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,r=ie.levels(e,t);return n?r=r.slice(1):r=r.slice(0,-1),r},common(e,t){for(var n=[],r=0;r<e.length&&r<t.length;r++){var i=e[r],a=t[r];if(i!==a)break;n.push(i)}return n},compare(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1}return 0},endsAfter(e,t){var n=e.length-1,r=e.slice(0,n),i=t.slice(0,n),a=e[n],o=t[n];return ie.equals(r,i)&&a>o},endsAt(e,t){var n=e.length,r=e.slice(0,n),i=t.slice(0,n);return ie.equals(r,i)},endsBefore(e,t){var n=e.length-1,r=e.slice(0,n),i=t.slice(0,n),a=e[n],o=t[n];return ie.equals(r,i)&&a<o},equals(e,t){return e.length===t.length&&e.every((n,r)=>n===t[r])},hasPrevious(e){return e[e.length-1]>0},isAfter(e,t){return ie.compare(e,t)===1},isAncestor(e,t){return e.length<t.length&&ie.compare(e,t)===0},isBefore(e,t){return ie.compare(e,t)===-1},isChild(e,t){return e.length===t.length+1&&ie.compare(e,t)===0},isCommon(e,t){return e.length<=t.length&&ie.compare(e,t)===0},isDescendant(e,t){return e.length>t.length&&ie.compare(e,t)===0},isParent(e,t){return e.length+1===t.length&&ie.compare(e,t)===0},isPath(e){return Array.isArray(e)&&(e.length===0||typeof e[0]=="number")},isSibling(e,t){if(e.length!==t.length)return!1;var n=e.slice(0,-1),r=t.slice(0,-1),i=e[e.length-1],a=t[t.length-1];return i!==a&&ie.equals(n,r)},levels(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,r=[],i=0;i<=e.length;i++)r.push(e.slice(0,i));return n&&r.reverse(),r},next(e){if(e.length===0)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(e.length===0)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(e.length===0)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!ie.isAncestor(t,e)&&!ie.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return null;var r=[...e],{affinity:i="forward"}=n;if(e.length===0)return r;switch(t.type){case"insert_node":{var{path:a}=t;(ie.equals(a,r)||ie.endsBefore(a,r)||ie.isAncestor(a,r))&&(r[a.length-1]+=1);break}case"remove_node":{var{path:o}=t;if(ie.equals(o,r)||ie.isAncestor(o,r))return null;ie.endsBefore(o,r)&&(r[o.length-1]-=1);break}case"merge_node":{var{path:s,position:l}=t;ie.equals(s,r)||ie.endsBefore(s,r)?r[s.length-1]-=1:ie.isAncestor(s,r)&&(r[s.length-1]-=1,r[s.length]+=l);break}case"split_node":{var{path:c,position:d}=t;if(ie.equals(c,r)){if(i==="forward")r[r.length-1]+=1;else if(i!=="backward")return null}else ie.endsBefore(c,r)?r[c.length-1]+=1:ie.isAncestor(c,r)&&e[c.length]>=d&&(r[c.length-1]+=1,r[c.length]-=d);break}case"move_node":{var{path:h,newPath:p}=t;if(ie.equals(h,p))return r;if(ie.isAncestor(h,r)||ie.equals(h,r)){var m=p.slice();return ie.endsBefore(h,p)&&h.length<p.length&&(m[h.length-1]-=1),m.concat(r.slice(h.length))}else ie.isSibling(h,p)&&(ie.isAncestor(p,r)||ie.equals(p,r))?ie.endsBefore(h,r)?r[h.length-1]-=1:r[h.length-1]+=1:ie.endsBefore(p,r)||ie.equals(p,r)||ie.isAncestor(p,r)?(ie.endsBefore(h,r)&&(r[h.length-1]-=1),r[p.length-1]+=1):ie.endsBefore(h,r)&&(ie.equals(p,r)&&(r[p.length-1]+=1),r[h.length-1]-=1);break}}return r}};function TS(e){"@babel/helpers - typeof";return TS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},TS(e)}function pMt(e,t){if(TS(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(TS(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mMt(e){var t=pMt(e,"string");return TS(t)==="symbol"?t:String(t)}function Qo(e,t,n){return t=mMt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Px(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mne(Object(n),!0).forEach(function(r){Qo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var gMt=(e,t,n)=>{switch(n.type){case"insert_node":{var{path:r,node:i}=n,a=je.parent(e,r),o=r[r.length-1];if(o>a.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(r,"] because the destination is past the end of the node."));if(a.children.splice(o,0,i),t)for(var[s,l]of pe.points(t))t[l]=zt.transform(s,n);break}case"insert_text":{var{path:c,offset:d,text:h}=n;if(h.length===0)break;var p=je.leaf(e,c),m=p.text.slice(0,d),g=p.text.slice(d);if(p.text=m+h+g,t)for(var[v,b]of pe.points(t))t[b]=zt.transform(v,n);break}case"merge_node":{var{path:y}=n,x=je.get(e,y),w=ie.previous(y),C=je.get(e,w),S=je.parent(e,y),_=y[y.length-1];if($e.isText(x)&&$e.isText(C))C.text+=x.text;else if(!$e.isText(x)&&!$e.isText(C))C.children.push(...x.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(y,"] to nodes of different interfaces: ").concat(Da.stringify(x)," ").concat(Da.stringify(C)));if(S.children.splice(_,1),t)for(var[E,k]of pe.points(t))t[k]=zt.transform(E,n);break}case"move_node":{var{path:T,newPath:j}=n;if(ie.isAncestor(T,j))throw new Error("Cannot move a path [".concat(T,"] to new path [").concat(j,"] because the destination is inside itself."));var I=je.get(e,T),A=je.parent(e,T),$=T[T.length-1];A.children.splice($,1);var D=ie.transform(T,n),M=je.get(e,ie.parent(D)),O=D[D.length-1];if(M.children.splice(O,0,I),t)for(var[F,P]of pe.points(t))t[P]=zt.transform(F,n);break}case"remove_node":{var{path:V}=n,H=V[V.length-1],W=je.parent(e,V);if(W.children.splice(H,1),t)for(var[G,X]of pe.points(t)){var z=zt.transform(G,n);if(t!=null&&z!=null)t[X]=z;else{var q=void 0,Z=void 0;for(var[K,J]of je.texts(e))if(ie.compare(J,V)===-1)q=[K,J];else{Z=[K,J];break}var Q=!1;q&&Z&&(ie.equals(Z[1],V)?Q=!ie.hasPrevious(Z[1]):Q=ie.common(q[1],V).length<ie.common(Z[1],V).length),q&&!Q?(G.path=q[1],G.offset=q[0].text.length):Z?(G.path=Z[1],G.offset=0):t=null}}break}case"remove_text":{var{path:re,offset:ae,text:ne}=n;if(ne.length===0)break;var se=je.leaf(e,re),le=se.text.slice(0,ae),oe=se.text.slice(ae+ne.length);if(se.text=le+oe,t)for(var[ge,_e]of pe.points(t))t[_e]=zt.transform(ge,n);break}case"set_node":{var{path:Me,properties:me,newProperties:ye}=n;if(Me.length===0)throw new Error("Cannot set properties on the root node!");var De=je.get(e,Me);for(var be in ye){if(be==="children"||be==="text")throw new Error('Cannot set the "'.concat(be,'" property of nodes!'));var he=ye[be];he==null?delete De[be]:De[be]=he}for(var ve in me)ye.hasOwnProperty(ve)||delete De[ve];break}case"set_selection":{var{newProperties:Ce}=n;if(Ce==null)t=Ce;else{if(t==null){if(!pe.isRange(Ce))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(Da.stringify(Ce)," when there is no current selection."));t=Px({},Ce)}for(var Te in Ce){var Ge=Ce[Te];if(Ge==null){if(Te==="anchor"||Te==="focus")throw new Error('Cannot remove the "'.concat(Te,'" selection property'));delete t[Te]}else t[Te]=Ge}}break}case"split_node":{var{path:Je,position:tt,properties:Ne}=n;if(Je.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(Je,"] because the root node cannot be split."));var Fe=je.get(e,Je),lt=je.parent(e,Je),Dt=Je[Je.length-1],Be;if($e.isText(Fe)){var ct=Fe.text.slice(0,tt),Ct=Fe.text.slice(tt);Fe.text=ct,Be=Px(Px({},Ne),{},{text:Ct})}else{var Ke=Fe.children.slice(0,tt),rn=Fe.children.slice(tt);Fe.children=Ke,Be=Px(Px({},Ne),{},{children:rn})}if(lt.children.splice(Dt+1,0,Be),t)for(var[Nr,Sr]of pe.points(t))t[Sr]=zt.transform(Nr,n);break}}return t},vMt={transform(e,t){e.children=jne(e.children);var n=e.selection&&jne(e.selection);try{n=gMt(e,n,t)}finally{e.children=Ine(e.children),n?e.selection=qg(n)?Ine(n):n:e.selection=null}}},yMt={insertNodes(e,t,n){e.insertNodes(t,n)},liftNodes(e,t){e.liftNodes(t)},mergeNodes(e,t){e.mergeNodes(t)},moveNodes(e,t){e.moveNodes(t)},removeNodes(e,t){e.removeNodes(t)},setNodes(e,t,n){e.setNodes(t,n)},splitNodes(e,t){e.splitNodes(t)},unsetNodes(e,t,n){e.unsetNodes(t,n)},unwrapNodes(e,t){e.unwrapNodes(t)},wrapNodes(e,t,n){e.wrapNodes(t,n)}},bMt={collapse(e,t){e.collapse(t)},deselect(e){e.deselect()},move(e,t){e.move(t)},select(e,t){e.select(t)},setPoint(e,t,n){e.setPoint(t,n)},setSelection(e,t){e.setSelection(t)}},kke=(e,t)=>{for(var n in e){var r=e[n],i=t[n];if(Co(r)&&Co(i)){if(!kke(r,i))return!1}else if(Array.isArray(r)&&Array.isArray(i)){if(r.length!==i.length)return!1;for(var a=0;a<r.length;a++)if(r[a]!==i[a])return!1}else if(r!==i)return!1}for(var o in t)if(e[o]===void 0&&t[o]!==void 0)return!1;return!0};function xMt(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Tf(e,t){if(e==null)return{};var n=xMt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var wMt=["anchor","focus"];function Rne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function CMt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rne(Object(n),!0).forEach(function(r){Qo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var pe={edges(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,{anchor:r,focus:i}=e;return pe.isBackward(e)===n?[r,i]:[i,r]},end(e){var[,t]=pe.edges(e);return t},equals(e,t){return zt.equals(e.anchor,t.anchor)&&zt.equals(e.focus,t.focus)},includes(e,t){if(pe.isRange(t)){if(pe.includes(e,t.anchor)||pe.includes(e,t.focus))return!0;var[n,r]=pe.edges(e),[i,a]=pe.edges(t);return zt.isBefore(n,i)&&zt.isAfter(r,a)}var[o,s]=pe.edges(e),l=!1,c=!1;return zt.isPoint(t)?(l=zt.compare(t,o)>=0,c=zt.compare(t,s)<=0):(l=ie.compare(t,o.path)>=0,c=ie.compare(t,s.path)<=0),l&&c},intersection(e,t){var n=Tf(e,wMt),[r,i]=pe.edges(e),[a,o]=pe.edges(t),s=zt.isBefore(r,a)?a:r,l=zt.isBefore(i,o)?i:o;return zt.isBefore(l,s)?null:CMt({anchor:s,focus:l},n)},isBackward(e){var{anchor:t,focus:n}=e;return zt.isAfter(t,n)},isCollapsed(e){var{anchor:t,focus:n}=e;return zt.equals(t,n)},isExpanded(e){return!pe.isCollapsed(e)},isForward(e){return!pe.isBackward(e)},isRange(e){return Co(e)&&zt.isPoint(e.anchor)&&zt.isPoint(e.focus)},*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=pe.edges(e);return t},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return eW(e,r=>{if(r===null)return null;var{affinity:i="inward"}=n,a,o;if(i==="inward"){var s=pe.isCollapsed(r);pe.isForward(r)?(a="forward",o=s?a:"backward"):(a="backward",o=s?a:"forward")}else i==="outward"?pe.isForward(r)?(a="backward",o="forward"):(a="forward",o="backward"):(a=i,o=i);var l=zt.transform(r.anchor,t,{affinity:a}),c=zt.transform(r.focus,t,{affinity:o});if(!l||!c)return null;r.anchor=l,r.focus=c})}},Pne=e=>Co(e)&&je.isNodeList(e.children)&&!B.isEditor(e),Ue={isAncestor(e){return Co(e)&&je.isNodeList(e.children)},isElement:Pne,isElementList(e){return Array.isArray(e)&&e.every(t=>Ue.isElement(t))},isElementProps(e){return e.children!==void 0},isElementType:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return Pne(t)&&t[r]===n},matches(e,t){for(var n in t)if(n!=="children"&&e[n]!==t[n])return!1;return!0}},SMt=["children"],_Mt=["text"],Fne=new WeakMap,je={ancestor(e,t){var n=je.get(e,t);if($e.isText(n))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(Da.stringify(n)));return n},ancestors(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var r of ie.ancestors(t,n)){var i=je.ancestor(e,r),a=[i,r];yield a}}()},child(e,t){if($e.isText(e))throw new Error("Cannot get the child of a text node: ".concat(Da.stringify(e)));var n=e.children[t];if(n==null)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(Da.stringify(e)));return n},children(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var{reverse:r=!1}=n,i=je.ancestor(e,t),{children:a}=i,o=r?a.length-1:0;r?o>=0:o<a.length;){var s=je.child(i,o),l=t.concat(o);yield[s,l],o=r?o-1:o+1}}()},common(e,t,n){var r=ie.common(t,n),i=je.get(e,r);return[i,r]},descendant(e,t){var n=je.get(e,t);if(B.isEditor(n))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(Da.stringify(n)));return n},descendants(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[n,r]of je.nodes(e,t))r.length!==0&&(yield[n,r])}()},elements(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[n,r]of je.nodes(e,t))Ue.isElement(n)&&(yield[n,r])}()},extractProps(e){if(Ue.isAncestor(e)){var t=Tf(e,SMt);return t}else{var t=Tf(e,_Mt);return t}},first(e,t){for(var n=t.slice(),r=je.get(e,n);r&&!($e.isText(r)||r.children.length===0);)r=r.children[0],n.push(0);return[r,n]},fragment(e,t){if($e.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(Da.stringify(e)));var n=eW({children:e.children},r=>{var[i,a]=pe.edges(t),o=je.nodes(r,{reverse:!0,pass:p=>{var[,m]=p;return!pe.includes(t,m)}});for(var[,s]of o){if(!pe.includes(t,s)){var l=je.parent(r,s),c=s[s.length-1];l.children.splice(c,1)}if(ie.equals(s,a.path)){var d=je.leaf(r,s);d.text=d.text.slice(0,a.offset)}if(ie.equals(s,i.path)){var h=je.leaf(r,s);h.text=h.text.slice(i.offset)}}B.isEditor(r)&&(r.selection=null)});return n.children},get(e,t){for(var n=e,r=0;r<t.length;r++){var i=t[r];if($e.isText(n)||!n.children[i])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(Da.stringify(e)));n=n.children[i]}return n},has(e,t){for(var n=e,r=0;r<t.length;r++){var i=t[r];if($e.isText(n)||!n.children[i])return!1;n=n.children[i]}return!0},isNode(e){return $e.isText(e)||Ue.isElement(e)||B.isEditor(e)},isNodeList(e){if(!Array.isArray(e))return!1;var t=Fne.get(e);if(t!==void 0)return t;var n=e.every(r=>je.isNode(r));return Fne.set(e,n),n},last(e,t){for(var n=t.slice(),r=je.get(e,n);r&&!($e.isText(r)||r.children.length===0);){var i=r.children.length-1;r=r.children[i],n.push(i)}return[r,n]},leaf(e,t){var n=je.get(e,t);if(!$e.isText(n))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(Da.stringify(n)));return n},levels(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var r of ie.levels(t,n)){var i=je.get(e,r);yield[i,r]}}()},matches(e,t){return Ue.isElement(e)&&Ue.isElementProps(t)&&Ue.matches(e,t)||$e.isText(e)&&$e.isTextProps(t)&&$e.matches(e,t)},nodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var{pass:n,reverse:r=!1}=t,{from:i=[],to:a}=t,o=new Set,s=[],l=e;!(a&&(r?ie.isBefore(s,a):ie.isAfter(s,a)));){if(o.has(l)||(yield[l,s]),!o.has(l)&&!$e.isText(l)&&l.children.length!==0&&(n==null||n([l,s])===!1)){o.add(l);var c=r?l.children.length-1:0;ie.isAncestor(s,i)&&(c=i[s.length]),s=s.concat(c),l=je.get(e,s);continue}if(s.length===0)break;if(!r){var d=ie.next(s);if(je.has(e,d)){s=d,l=je.get(e,s);continue}}if(r&&s[s.length-1]!==0){var h=ie.previous(s);s=h,l=je.get(e,s);continue}s=ie.parent(s),l=je.get(e,s),o.add(l)}}()},parent(e,t){var n=ie.parent(t),r=je.get(e,n);if($e.isText(r))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return r},string(e){return $e.isText(e)?e.text:e.children.map(je.string).join("")},texts(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[n,r]of je.nodes(e,t))$e.isText(n)&&(yield[n,r])}()}};function Nne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ni(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nne(Object(n),!0).forEach(function(r){Qo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var u1={isNodeOperation(e){return u1.isOperation(e)&&e.type.endsWith("_node")},isOperation(e){if(!Co(e))return!1;switch(e.type){case"insert_node":return ie.isPath(e.path)&&je.isNode(e.node);case"insert_text":return typeof e.offset=="number"&&typeof e.text=="string"&&ie.isPath(e.path);case"merge_node":return typeof e.position=="number"&&ie.isPath(e.path)&&Co(e.properties);case"move_node":return ie.isPath(e.path)&&ie.isPath(e.newPath);case"remove_node":return ie.isPath(e.path)&&je.isNode(e.node);case"remove_text":return typeof e.offset=="number"&&typeof e.text=="string"&&ie.isPath(e.path);case"set_node":return ie.isPath(e.path)&&Co(e.properties)&&Co(e.newProperties);case"set_selection":return e.properties===null&&pe.isRange(e.newProperties)||e.newProperties===null&&pe.isRange(e.properties)||Co(e.properties)&&Co(e.newProperties);case"split_node":return ie.isPath(e.path)&&typeof e.position=="number"&&Co(e.properties);default:return!1}},isOperationList(e){return Array.isArray(e)&&e.every(t=>u1.isOperation(t))},isSelectionOperation(e){return u1.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation(e){return u1.isOperation(e)&&e.type.endsWith("_text")},inverse(e){switch(e.type){case"insert_node":return ni(ni({},e),{},{type:"remove_node"});case"insert_text":return ni(ni({},e),{},{type:"remove_text"});case"merge_node":return ni(ni({},e),{},{type:"split_node",path:ie.previous(e.path)});case"move_node":{var{newPath:t,path:n}=e;if(ie.equals(t,n))return e;if(ie.isSibling(n,t))return ni(ni({},e),{},{path:t,newPath:n});var r=ie.transform(n,e),i=ie.transform(ie.next(n),e);return ni(ni({},e),{},{path:r,newPath:i})}case"remove_node":return ni(ni({},e),{},{type:"insert_node"});case"remove_text":return ni(ni({},e),{},{type:"insert_text"});case"set_node":{var{properties:a,newProperties:o}=e;return ni(ni({},e),{},{properties:o,newProperties:a})}case"set_selection":{var{properties:s,newProperties:l}=e;return s==null?ni(ni({},e),{},{properties:l,newProperties:null}):l==null?ni(ni({},e),{},{properties:null,newProperties:s}):ni(ni({},e),{},{properties:l,newProperties:s})}case"split_node":return ni(ni({},e),{},{type:"merge_node",path:ie.next(e.path)})}}},Lne=new WeakMap,EMt=e=>{var t=Lne.get(e);if(t!==void 0)return t;if(!Co(e))return!1;var n=typeof e.addMark=="function"&&typeof e.apply=="function"&&typeof e.deleteFragment=="function"&&typeof e.insertBreak=="function"&&typeof e.insertSoftBreak=="function"&&typeof e.insertFragment=="function"&&typeof e.insertNode=="function"&&typeof e.insertText=="function"&&typeof e.isElementReadOnly=="function"&&typeof e.isInline=="function"&&typeof e.isSelectable=="function"&&typeof e.isVoid=="function"&&typeof e.normalizeNode=="function"&&typeof e.onChange=="function"&&typeof e.removeMark=="function"&&typeof e.getDirtyPaths=="function"&&(e.marks===null||Co(e.marks))&&(e.selection===null||pe.isRange(e.selection))&&je.isNodeList(e.children)&&u1.isOperationList(e.operations);return Lne.set(e,n),n},B={above(e,t){return e.above(t)},addMark(e,t,n){e.addMark(t,n)},after(e,t,n){return e.after(t,n)},before(e,t,n){return e.before(t,n)},deleteBackward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=t;e.deleteBackward(n)},deleteForward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=t;e.deleteForward(n)},deleteFragment(e,t){e.deleteFragment(t)},edges(e,t){return e.edges(t)},elementReadOnly(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.elementReadOnly(t)},end(e,t){return e.end(t)},first(e,t){return e.first(t)},fragment(e,t){return e.fragment(t)},hasBlocks(e,t){return e.hasBlocks(t)},hasInlines(e,t){return e.hasInlines(t)},hasPath(e,t){return e.hasPath(t)},hasTexts(e,t){return e.hasTexts(t)},insertBreak(e){e.insertBreak()},insertFragment(e,t,n){e.insertFragment(t,n)},insertNode(e,t){e.insertNode(t)},insertSoftBreak(e){e.insertSoftBreak()},insertText(e,t){e.insertText(t)},isBlock(e,t){return e.isBlock(t)},isEdge(e,t,n){return e.isEdge(t,n)},isEditor(e){return EMt(e)},isElementReadOnly(e,t){return e.isElementReadOnly(t)},isEmpty(e,t){return e.isEmpty(t)},isEnd(e,t,n){return e.isEnd(t,n)},isInline(e,t){return e.isInline(t)},isNormalizing(e){return e.isNormalizing()},isSelectable(e,t){return e.isSelectable(t)},isStart(e,t,n){return e.isStart(t,n)},isVoid(e,t){return e.isVoid(t)},last(e,t){return e.last(t)},leaf(e,t,n){return e.leaf(t,n)},levels(e,t){return e.levels(t)},marks(e){return e.getMarks()},next(e,t){return e.next(t)},node(e,t,n){return e.node(t,n)},nodes(e,t){return e.nodes(t)},normalize(e,t){e.normalize(t)},parent(e,t,n){return e.parent(t,n)},path(e,t,n){return e.path(t,n)},pathRef(e,t,n){return e.pathRef(t,n)},pathRefs(e){return e.pathRefs()},point(e,t,n){return e.point(t,n)},pointRef(e,t,n){return e.pointRef(t,n)},pointRefs(e){return e.pointRefs()},positions(e,t){return e.positions(t)},previous(e,t){return e.previous(t)},range(e,t,n){return e.range(t,n)},rangeRef(e,t,n){return e.rangeRef(t,n)},rangeRefs(e){return e.rangeRefs()},removeMark(e,t){e.removeMark(t)},setNormalizing(e,t){e.setNormalizing(t)},start(e,t){return e.start(t)},string(e,t,n){return e.string(t,n)},unhangRange(e,t,n){return e.unhangRange(t,n)},void(e,t){return e.void(t)},withoutNormalizing(e,t){e.withoutNormalizing(t)}},kMt={isSpan(e){return Array.isArray(e)&&e.length===2&&e.every(ie.isPath)}};function Bne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vne(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Bne(Object(n),!0).forEach(function(r){Qo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var zt={compare(e,t){var n=ie.compare(e.path,t.path);return n===0?e.offset<t.offset?-1:e.offset>t.offset?1:0:n},isAfter(e,t){return zt.compare(e,t)===1},isBefore(e,t){return zt.compare(e,t)===-1},equals(e,t){return e.offset===t.offset&&ie.equals(e.path,t.path)},isPoint(e){return Co(e)&&typeof e.offset=="number"&&ie.isPath(e.path)},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return eW(e,r=>{if(r===null)return null;var{affinity:i="forward"}=n,{path:a,offset:o}=r;switch(t.type){case"insert_node":case"move_node":{r.path=ie.transform(a,t,n);break}case"insert_text":{ie.equals(t.path,a)&&(t.offset<o||t.offset===o&&i==="forward")&&(r.offset+=t.text.length);break}case"merge_node":{ie.equals(t.path,a)&&(r.offset+=t.position),r.path=ie.transform(a,t,n);break}case"remove_text":{ie.equals(t.path,a)&&t.offset<=o&&(r.offset-=Math.min(o-t.offset,t.text.length));break}case"remove_node":{if(ie.equals(t.path,a)||ie.isAncestor(t.path,a))return null;r.path=ie.transform(a,t,n);break}case"split_node":{if(ie.equals(t.path,a)){if(t.position===o&&i==null)return null;(t.position<o||t.position===o&&i==="forward")&&(r.offset-=t.position,r.path=ie.transform(a,t,Vne(Vne({},n),{},{affinity:"forward"})))}else r.path=ie.transform(a,t,n);break}}})}},zne=void 0,Da={setScrubber(e){zne=e},stringify(e){return JSON.stringify(e,zne)}},TMt=["text"],AMt=["anchor","focus"];function Une(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Td(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Une(Object(n),!0).forEach(function(r){Qo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Une(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var $e={equals(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:r=!1}=n;function i(a){var o=Tf(a,TMt);return o}return kke(r?i(e):e,r?i(t):t)},isText(e){return Co(e)&&typeof e.text=="string"},isTextList(e){return Array.isArray(e)&&e.every(t=>$e.isText(t))},isTextProps(e){return e.text!==void 0},matches(e,t){for(var n in t)if(n!=="text"&&(!e.hasOwnProperty(n)||e[n]!==t[n]))return!1;return!0},decorations(e,t){var n=[Td({},e)];for(var r of t){var i=Tf(r,AMt),[a,o]=pe.edges(r),s=[],l=0,c=a.offset,d=o.offset;for(var h of n){var{length:p}=h.text,m=l;if(l+=p,c<=m&&l<=d){Object.assign(h,i),s.push(h);continue}if(c!==d&&(c===l||d===m)||c>l||d<m||d===m&&m!==0){s.push(h);continue}var g=h,v=void 0,b=void 0;if(d<l){var y=d-m;b=Td(Td({},g),{},{text:g.text.slice(y)}),g=Td(Td({},g),{},{text:g.text.slice(0,y)})}if(c>m){var x=c-m;v=Td(Td({},g),{},{text:g.text.slice(0,x)}),g=Td(Td({},g),{},{text:g.text.slice(x)})}Object.assign(g,i),v&&s.push(v),s.push(g),b&&s.push(b)}n=s}return n}},tW=e=>e.selection?e.selection:e.children.length>0?B.end(e,[]):[0],Db=(e,t)=>{var[n]=B.node(e,t);return r=>r===n},nW=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=!n,i=n?MMt(t):t,a=Nt.None,o=Nt.None,s=0,l=null,c=null;for(var d of i){var h=d.codePointAt(0);if(!h)break;var p=GMt(d,h);if([a,o]=r?[o,p]:[p,a],c1(a,Nt.ZWJ)&&c1(o,Nt.ExtPict)&&(r?l=Hne(t.substring(0,s)):l=Hne(t.substring(0,t.length-s)),!l)||c1(a,Nt.RI)&&c1(o,Nt.RI)&&(c!==null?c=!c:r?c=!0:c=XMt(t.substring(0,t.length-s)),!c)||a!==Nt.None&&o!==Nt.None&&qMt(a,o))break;s+=d.length}return s||1},jMt=/\s/,IMt=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,DMt=/['\u2018\u2019]/,$Mt=function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=0,i=!1;t.length>0;){var a=nW(t,n),[o,s]=rW(t,a,n);if(OMt(o,s,n))i=!0,r+=a;else if(!i)r+=a;else break;t=s}return r},rW=(e,t,n)=>{if(n){var r=e.length-t;return[e.slice(r,e.length),e.slice(0,r)]}return[e.slice(0,t),e.slice(t)]},OMt=function e(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(jMt.test(t))return!1;if(DMt.test(t)){var i=nW(n,r),[a,o]=rW(n,i,r);if(e(a,o,r))return!0}return!IMt.test(t)},MMt=function*(t){for(var n=t.length-1,r=0;r<t.length;r++){var i=t.charAt(n-r);if(PMt(i.charCodeAt(0))){var a=t.charAt(n-r-1);if(RMt(a.charCodeAt(0))){yield a+i,r++;continue}}yield i}},RMt=e=>e>=55296&&e<=56319,PMt=e=>e>=56320&&e<=57343,Nt;(function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"})(Nt||(Nt={}));var FMt=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,NMt=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,LMt=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,BMt=/^[\u1100-\u115F\uA960-\uA97C]$/,VMt=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,zMt=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,UMt=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,HMt=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,WMt=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,GMt=(e,t)=>{var n=Nt.Any;return e.search(FMt)!==-1&&(n|=Nt.Extend),t===8205&&(n|=Nt.ZWJ),t>=127462&&t<=127487&&(n|=Nt.RI),e.search(NMt)!==-1&&(n|=Nt.Prepend),e.search(LMt)!==-1&&(n|=Nt.SpacingMark),e.search(BMt)!==-1&&(n|=Nt.L),e.search(VMt)!==-1&&(n|=Nt.V),e.search(zMt)!==-1&&(n|=Nt.T),e.search(UMt)!==-1&&(n|=Nt.LV),e.search(HMt)!==-1&&(n|=Nt.LVT),e.search(WMt)!==-1&&(n|=Nt.ExtPict),n};function c1(e,t){return(e&t)!==0}var YMt=[[Nt.L,Nt.L|Nt.V|Nt.LV|Nt.LVT],[Nt.LV|Nt.V,Nt.V|Nt.T],[Nt.LVT|Nt.T,Nt.T],[Nt.Any,Nt.Extend|Nt.ZWJ],[Nt.Any,Nt.SpacingMark],[Nt.Prepend,Nt.Any],[Nt.ZWJ,Nt.ExtPict],[Nt.RI,Nt.RI]];function qMt(e,t){return YMt.findIndex(n=>c1(e,n[0])&&c1(t,n[1]))===-1}var KMt=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,Hne=e=>e.search(KMt)!==-1,ZMt=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,XMt=e=>{var t=e.match(ZMt);if(t===null)return!1;var n=t[0].length/2;return n%2===1},JMt={delete(e,t){e.delete(t)},insertFragment(e,t,n){e.insertFragment(t,n)},insertText(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};B.withoutNormalizing(e,()=>{var{voids:r=!1}=n,{at:i=tW(e)}=n;if(ie.isPath(i)&&(i=B.range(e,i)),pe.isRange(i))if(pe.isCollapsed(i))i=i.anchor;else{var a=pe.end(i);if(!r&&B.void(e,{at:a}))return;var o=pe.start(i),s=B.pointRef(e,o),l=B.pointRef(e,a);ue.delete(e,{at:i,voids:r});var c=s.unref(),d=l.unref();i=c||d,ue.setSelection(e,{anchor:i,focus:i})}if(!(!r&&B.void(e,{at:i})||B.elementReadOnly(e,{at:i}))){var{path:h,offset:p}=i;t.length>0&&e.apply({type:"insert_text",path:h,offset:p,text:t})}})}};function Wne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function KE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wne(Object(n),!0).forEach(function(r){Qo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ue=KE(KE(KE(KE({},vMt),yMt),bMt),JMt),QMt=(e,t)=>{for(var n of B.pathRefs(e))dMt.transform(n,t);for(var r of B.pointRefs(e))fMt.transform(r,t);for(var i of B.rangeRefs(e))hMt.transform(i,t);var a=wj.get(e)||[],o=Cj.get(e)||new Set,s,l,c=g=>{if(g){var v=g.join(",");l.has(v)||(l.add(v),s.push(g))}};if(ie.operationCanTransformPath(t)){s=[],l=new Set;for(var d of a){var h=ie.transform(d,t);c(h)}}else s=a,l=o;var p=e.getDirtyPaths(t);for(var m of p)c(m);wj.set(e,s),Cj.set(e,l),ue.transform(e,t),e.operations.push(t),B.normalize(e,{operation:t}),t.type==="set_selection"&&(e.marks=null),xC.get(e)||(xC.set(e,!0),Promise.resolve().then(()=>{xC.set(e,!1),e.onChange({operation:t}),e.operations=[]}))},eRt=(e,t)=>{switch(t.type){case"insert_text":case"remove_text":case"set_node":{var{path:n}=t;return ie.levels(n)}case"insert_node":{var{node:r,path:i}=t,a=ie.levels(i),o=$e.isText(r)?[]:Array.from(je.nodes(r),j=>{var[,I]=j;return i.concat(I)});return[...a,...o]}case"merge_node":{var{path:s}=t,l=ie.ancestors(s),c=ie.previous(s);return[...l,c]}case"move_node":{var{path:d,newPath:h}=t;if(ie.equals(d,h))return[];var p=[],m=[];for(var g of ie.ancestors(d)){var v=ie.transform(g,t);p.push(v)}for(var b of ie.ancestors(h)){var y=ie.transform(b,t);m.push(y)}var x=m[m.length-1],w=h[h.length-1],C=x.concat(w);return[...p,...m,C]}case"remove_node":{var{path:S}=t,_=ie.ancestors(S);return[..._]}case"split_node":{var{path:E}=t,k=ie.levels(E),T=ie.next(E);return[...k,T]}default:return[]}},tRt=e=>{var{selection:t}=e;return t?je.fragment(e,t):[]},nRt=(e,t)=>{var[n,r]=t;if(!$e.isText(n)){if(Ue.isElement(n)&&n.children.length===0){var i={text:""};ue.insertNodes(e,i,{at:r.concat(0),voids:!0});return}for(var a=B.isEditor(n)?!1:Ue.isElement(n)&&(e.isInline(n)||n.children.length===0||$e.isText(n.children[0])||e.isInline(n.children[0])),o=0,s=0;s<n.children.length;s++,o++){var l=je.get(e,r);if(!$e.isText(l)){var c=l.children[o],d=l.children[o-1],h=s===n.children.length-1,p=$e.isText(c)||Ue.isElement(c)&&e.isInline(c);if(p!==a)ue.removeNodes(e,{at:r.concat(o),voids:!0}),o--;else if(Ue.isElement(c)){if(e.isInline(c)){if(d==null||!$e.isText(d)){var m={text:""};ue.insertNodes(e,m,{at:r.concat(o),voids:!0}),o++}else if(h){var g={text:""};ue.insertNodes(e,g,{at:r.concat(o+1),voids:!0}),o++}}}else d!=null&&$e.isText(d)&&($e.equals(c,d,{loose:!0})?(ue.mergeNodes(e,{at:r.concat(o),voids:!0}),o--):d.text===""?(ue.removeNodes(e,{at:r.concat(o-1),voids:!0}),o--):c.text===""&&(ue.removeNodes(e,{at:r.concat(o),voids:!0}),o--))}}}},rRt=(e,t)=>{var{iteration:n,initialDirtyPathsLength:r}=t,i=r*42;if(n>i)throw new Error("Could not completely normalize the editor after ".concat(i," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0},iRt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:r=!1,mode:i="lowest",at:a=t.selection,match:o}=n;if(a){var s=B.path(t,a),l=i==="lowest";for(var[c,d]of B.levels(t,{at:s,voids:r,match:o,reverse:l}))if(!$e.isText(c)){if(pe.isRange(a)){if(ie.isAncestor(d,a.anchor.path)&&ie.isAncestor(d,a.focus.path))return[c,d]}else if(!ie.equals(s,d))return[c,d]}}};function Gne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yne(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gne(Object(n),!0).forEach(function(r){Qo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var aRt=(e,t,n)=>{var{selection:r}=e;if(r){var i=(h,p)=>{if(!$e.isText(h))return!1;var[m,g]=B.parent(e,p);return!e.isVoid(m)||e.markableVoid(m)},a=pe.isExpanded(r),o=!1;if(!a){var[s,l]=B.node(e,r);if(s&&i(s,l)){var[c]=B.parent(e,l);o=c&&e.markableVoid(c)}}if(a||o)ue.setNodes(e,{[t]:n},{match:i,split:!0,voids:!0});else{var d=Yne(Yne({},B.marks(e)||{}),{},{[t]:n});e.marks=d,xC.get(e)||e.onChange()}}};function qne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kne(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qne(Object(n),!0).forEach(function(r){Qo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var oRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=B.point(t,n,{edge:"end"}),a=B.end(t,[]),o={anchor:i,focus:a},{distance:s=1}=r,l=0,c;for(var d of B.positions(t,Kne(Kne({},r),{},{at:o}))){if(l>s)break;l!==0&&(c=d),l++}return c};function Zne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xne(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zne(Object(n),!0).forEach(function(r){Qo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var sRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=B.start(t,[]),a=B.point(t,n,{edge:"start"}),o={anchor:i,focus:a},{distance:s=1}=r,l=0,c;for(var d of B.positions(t,Xne(Xne({},r),{},{at:o,reverse:!0}))){if(l>s)break;l!==0&&(c=d),l++}return c},lRt=(e,t)=>{var{selection:n}=e;n&&pe.isCollapsed(n)&&ue.delete(e,{unit:t,reverse:!0})},uRt=(e,t)=>{var{selection:n}=e;n&&pe.isCollapsed(n)&&ue.delete(e,{unit:t})},cRt=function(t){var{direction:n="forward"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:r}=t;r&&pe.isExpanded(r)&&ue.delete(t,{reverse:n==="backward"})},dRt=(e,t)=>[B.start(e,t),B.end(e,t)];function Jne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qne(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jne(Object(n),!0).forEach(function(r){Qo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jne(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var fRt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return B.above(t,Qne(Qne({},n),{},{match:r=>Ue.isElement(r)&&B.isElementReadOnly(t,r)}))},hRt=(e,t)=>B.point(e,t,{edge:"end"}),pRt=(e,t)=>{var n=B.path(e,t,{edge:"start"});return B.node(e,n)},mRt=(e,t)=>{var n=B.range(e,t);return je.fragment(e,n)};function ere(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tre(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ere(Object(n),!0).forEach(function(r){Qo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ere(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var gRt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return B.above(t,tre(tre({},n),{},{match:r=>Ue.isElement(r)&&B.isVoid(t,r)}))},vRt=(e,t)=>t.children.some(n=>Ue.isElement(n)&&B.isBlock(e,n)),yRt=(e,t)=>t.children.some(n=>$e.isText(n)||B.isInline(e,n)),bRt=(e,t)=>je.has(e,t),xRt=(e,t)=>t.children.every(n=>$e.isText(n)),wRt=e=>{ue.splitNodes(e,{always:!0})},CRt=(e,t,n)=>{ue.insertNodes(e,t,n)},SRt=e=>{ue.splitNodes(e,{always:!0})};function nre(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _Rt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nre(Object(n),!0).forEach(function(r){Qo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nre(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ERt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:i,marks:a}=t;if(i){if(a){var o=_Rt({text:n},a);ue.insertNodes(t,o,{at:r.at,voids:r.voids})}else ue.insertText(t,n,r);t.marks=null}},kRt=(e,t)=>!e.isInline(t),TRt=(e,t,n)=>B.isStart(e,t,n)||B.isEnd(e,t,n),ARt=(e,t)=>{var{children:n}=t,[r]=n;return n.length===0||n.length===1&&$e.isText(r)&&r.text===""&&!e.isVoid(t)},jRt=(e,t,n)=>{var r=B.end(e,n);return zt.equals(t,r)},IRt=e=>{var t=Eke.get(e);return t===void 0?!0:t},DRt=(e,t,n)=>{if(t.offset!==0)return!1;var r=B.start(e,n);return zt.equals(t,r)},$Rt=(e,t)=>{var n=B.path(e,t,{edge:"end"});return B.node(e,n)},ORt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=B.path(t,n,r),a=je.leaf(t,i);return[a,i]};function MRt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:n=e.selection,reverse:r=!1,voids:i=!1}=t,{match:a}=t;if(a==null&&(a=()=>!0),!!n){var o=[],s=B.path(e,n);for(var[l,c]of je.levels(e,s))if(a(l,c)&&(o.push([l,c]),!i&&Ue.isElement(l)&&B.isVoid(e,l)))break;r&&o.reverse(),yield*o}}()}var RRt=["text"],PRt=["text"],FRt=function(t){var{marks:n,selection:r}=t;if(!r)return null;if(n)return n;if(pe.isExpanded(r)){var[i]=B.nodes(t,{match:$e.isText});if(i){var[a]=i,o=Tf(a,RRt);return o}else return{}}var{anchor:s}=r,{path:l}=s,[c]=B.leaf(t,l);if(s.offset===0){var d=B.previous(t,{at:l,match:$e.isText}),h=B.above(t,{match:y=>Ue.isElement(y)&&B.isVoid(t,y)&&t.markableVoid(y)});if(!h){var p=B.above(t,{match:y=>Ue.isElement(y)&&B.isBlock(t,y)});if(d&&p){var[m,g]=d,[,v]=p;ie.isAncestor(v,g)&&(c=m)}}}var b=Tf(c,PRt);return b},NRt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:r="lowest",voids:i=!1}=n,{match:a,at:o=t.selection}=n;if(o){var s=B.after(t,o,{voids:i});if(s){var[,l]=B.last(t,[]),c=[s.path,l];if(ie.isPath(o)&&o.length===0)throw new Error("Cannot get the next node from the root node!");if(a==null)if(ie.isPath(o)){var[d]=B.parent(t,o);a=p=>d.children.includes(p)}else a=()=>!0;var[h]=B.nodes(t,{at:c,match:a,mode:r,voids:i});return h}}},LRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=B.path(t,n,r),a=je.get(t,i);return[a,i]};function BRt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:n=e.selection,mode:r="all",universal:i=!1,reverse:a=!1,voids:o=!1,ignoreNonSelectable:s=!1}=t,{match:l}=t;if(l||(l=()=>!0),!!n){var c,d;if(kMt.isSpan(n))c=n[0],d=n[1];else{var h=B.path(e,n,{edge:"start"}),p=B.path(e,n,{edge:"end"});c=a?p:h,d=a?h:p}var m=je.nodes(e,{reverse:a,from:c,to:d,pass:C=>{var[S]=C;return Ue.isElement(S)?!!(!o&&(B.isVoid(e,S)||B.isElementReadOnly(e,S))||s&&!B.isSelectable(e,S)):!1}}),g=[],v;for(var[b,y]of m)if(!(s&&Ue.isElement(b)&&!B.isSelectable(e,b))){var x=v&&ie.compare(y,v[1])===0;if(!(r==="highest"&&x)){if(!l(b,y)){if(i&&!x&&$e.isText(b))return;continue}if(r==="lowest"&&x){v=[b,y];continue}var w=r==="lowest"?v:[b,y];w&&(i?g.push(w):yield w),v=[b,y]}}r==="lowest"&&v&&(i?g.push(v):yield v),i&&(yield*g)}}()}var VRt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:r=!1,operation:i}=n,a=d=>wj.get(d)||[],o=d=>Cj.get(d)||new Set,s=d=>{var h=a(d).pop(),p=h.join(",");return o(d).delete(p),h};if(B.isNormalizing(t)){if(r){var l=Array.from(je.nodes(t),d=>{var[,h]=d;return h}),c=new Set(l.map(d=>d.join(",")));wj.set(t,l),Cj.set(t,c)}a(t).length!==0&&B.withoutNormalizing(t,()=>{for(var d of a(t))if(je.has(t,d)){var h=B.node(t,d),[p,m]=h;Ue.isElement(p)&&p.children.length===0&&t.normalizeNode(h,{operation:i})}for(var g=a(t),v=g.length,b=0;g.length!==0;){if(!t.shouldNormalize({dirtyPaths:g,iteration:b,initialDirtyPathsLength:v,operation:i}))return;var y=s(t);if(je.has(t,y)){var x=B.node(t,y);t.normalizeNode(x,{operation:i})}b++,g=a(t)}})}},zRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=B.path(t,n,r),a=ie.parent(i),o=B.node(t,a);return o},URt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:i="forward"}=r,a={current:n,affinity:i,unref(){var{current:s}=a,l=B.pathRefs(t);return l.delete(a),a.current=null,s}},o=B.pathRefs(t);return o.add(a),a},HRt=e=>{var t=Dne.get(e);return t||(t=new Set,Dne.set(e,t)),t},WRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:i,edge:a}=r;if(ie.isPath(n)){if(a==="start"){var[,o]=je.first(t,n);n=o}else if(a==="end"){var[,s]=je.last(t,n);n=s}}return pe.isRange(n)&&(a==="start"?n=pe.start(n):a==="end"?n=pe.end(n):n=ie.common(n.anchor.path,n.focus.path)),zt.isPoint(n)&&(n=n.path),i!=null&&(n=n.slice(0,i)),n},GRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:i="forward"}=r,a={current:n,affinity:i,unref(){var{current:s}=a,l=B.pointRefs(t);return l.delete(a),a.current=null,s}},o=B.pointRefs(t);return o.add(a),a},YRt=e=>{var t=$ne.get(e);return t||(t=new Set,$ne.set(e,t)),t},qRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:i="start"}=r;if(ie.isPath(n)){var a;if(i==="end"){var[,o]=je.last(t,n);a=o}else{var[,s]=je.first(t,n);a=s}var l=je.get(t,a);if(!$e.isText(l))throw new Error("Cannot get the ".concat(i," point in the node at path [").concat(n,"] because it has no ").concat(i," text node."));return{path:a,offset:i==="end"?l.text.length:0}}if(pe.isRange(n)){var[c,d]=pe.edges(n);return i==="start"?c:d}return n};function KRt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:n=e.selection,unit:r="offset",reverse:i=!1,voids:a=!1,ignoreNonSelectable:o=!1}=t;if(!n)return;var s=B.range(e,n),[l,c]=pe.edges(s),d=i?c:l,h=!1,p="",m=0,g=0,v=0;for(var[b,y]of B.nodes(e,{at:n,reverse:i,voids:a,ignoreNonSelectable:o})){if(Ue.isElement(b)){if(!a&&(e.isVoid(b)||e.isElementReadOnly(b))){yield B.start(e,y);continue}if(e.isInline(b))continue;if(B.hasInlines(e,b)){var x=ie.isAncestor(y,c.path)?c:B.end(e,y),w=ie.isAncestor(y,l.path)?l:B.start(e,y);p=B.string(e,{anchor:w,focus:x},{voids:a}),h=!0}}if($e.isText(b)){var C=ie.equals(y,d.path);for(C?(g=i?d.offset:b.text.length-d.offset,v=d.offset):(g=b.text.length,v=i?g:0),(C||h||r==="offset")&&(yield{path:y,offset:v},h=!1);;){if(m===0){if(p==="")break;m=S(p,r,i),p=rW(p,m,i)[1]}if(v=i?v-m:v+m,g=g-m,g<0){m=-g;break}m=0,yield{path:y,offset:v}}}}function S(_,E,k){return E==="character"?nW(_,k):E==="word"?$Mt(_,k):E==="line"||E==="block"?_.length:1}}()}var ZRt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:r="lowest",voids:i=!1}=n,{match:a,at:o=t.selection}=n;if(o){var s=B.before(t,o,{voids:i});if(s){var[,l]=B.first(t,[]),c=[s.path,l];if(ie.isPath(o)&&o.length===0)throw new Error("Cannot get the previous node from the root node!");if(a==null)if(ie.isPath(o)){var[d]=B.parent(t,o);a=p=>d.children.includes(p)}else a=()=>!0;var[h]=B.nodes(t,{reverse:!0,at:c,match:a,mode:r,voids:i});return h}}},XRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:i="forward"}=r,a={current:n,affinity:i,unref(){var{current:s}=a,l=B.rangeRefs(t);return l.delete(a),a.current=null,s}},o=B.rangeRefs(t);return o.add(a),a},JRt=e=>{var t=One.get(e);return t||(t=new Set,One.set(e,t)),t},QRt=(e,t,n)=>{if(pe.isRange(t)&&!n)return t;var r=B.start(e,t),i=B.end(e,n||t);return{anchor:r,focus:i}};function rre(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ePt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rre(Object(n),!0).forEach(function(r){Qo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rre(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var tPt=(e,t)=>{var{selection:n}=e;if(n){var r=(d,h)=>{if(!$e.isText(d))return!1;var[p,m]=B.parent(e,h);return!e.isVoid(p)||e.markableVoid(p)},i=pe.isExpanded(n),a=!1;if(!i){var[o,s]=B.node(e,n);if(o&&r(o,s)){var[l]=B.parent(e,s);a=l&&e.markableVoid(l)}}if(i||a)ue.unsetNodes(e,t,{match:r,split:!0,voids:!0});else{var c=ePt({},B.marks(e)||{});delete c[t],e.marks=c,xC.get(e)||e.onChange()}}},nPt=(e,t)=>{Eke.set(e,t)},rPt=(e,t)=>B.point(e,t,{edge:"start"}),iPt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:i=!1}=r,a=B.range(t,n),[o,s]=pe.edges(a),l="";for(var[c,d]of B.nodes(t,{at:a,match:$e.isText,voids:i})){var h=c.text;ie.equals(d,s.path)&&(h=h.slice(0,s.offset)),ie.equals(d,o.path)&&(h=h.slice(o.offset)),l+=h}return l},aPt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:i=!1}=r,[a,o]=pe.edges(n);if(a.offset!==0||o.offset!==0||pe.isCollapsed(n)||ie.hasPrevious(o.path))return n;var s=B.above(t,{at:o,match:g=>Ue.isElement(g)&&B.isBlock(t,g),voids:i}),l=s?s[1]:[],c=B.start(t,a),d={anchor:c,focus:o},h=!0;for(var[p,m]of B.nodes(t,{at:d,match:$e.isText,reverse:!0,voids:i})){if(h){h=!1;continue}if(p.text!==""||ie.isBefore(m,l)){o={path:m,offset:p.text.length};break}}return{anchor:a,focus:o}},oPt=(e,t)=>{var n=B.isNormalizing(e);B.setNormalizing(e,!1);try{t()}finally{B.setNormalizing(e,n)}B.normalize(e)},sPt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};B.withoutNormalizing(t,()=>{var r,i,{reverse:a=!1,unit:o="character",distance:s=1,voids:l=!1}=n,{at:c=t.selection,hanging:d=!1}=n;if(c){var h=!1;if(pe.isRange(c)&&pe.isCollapsed(c)&&(h=!0,c=c.anchor),zt.isPoint(c)){var p=B.void(t,{at:c,mode:"highest"});if(!l&&p){var[,m]=p;c=m}else{var g={unit:o,distance:s},v=a?B.before(t,c,g)||B.start(t,[]):B.after(t,c,g)||B.end(t,[]);c={anchor:c,focus:v},d=!0}}if(ie.isPath(c)){ue.removeNodes(t,{at:c,voids:l});return}if(!pe.isCollapsed(c)){if(!d){var[,b]=pe.edges(c),y=B.end(t,[]);zt.equals(b,y)||(c=B.unhangRange(t,c,{voids:l}))}var[x,w]=pe.edges(c),C=B.above(t,{match:le=>Ue.isElement(le)&&B.isBlock(t,le),at:x,voids:l}),S=B.above(t,{match:le=>Ue.isElement(le)&&B.isBlock(t,le),at:w,voids:l}),_=C&&S&&!ie.equals(C[1],S[1]),E=ie.equals(x.path,w.path),k=l?null:(r=B.void(t,{at:x,mode:"highest"}))!==null&&r!==void 0?r:B.elementReadOnly(t,{at:x,mode:"highest"}),T=l?null:(i=B.void(t,{at:w,mode:"highest"}))!==null&&i!==void 0?i:B.elementReadOnly(t,{at:w,mode:"highest"});if(k){var j=B.before(t,x);j&&C&&ie.isAncestor(C[1],j.path)&&(x=j)}if(T){var I=B.after(t,w);I&&S&&ie.isAncestor(S[1],I.path)&&(w=I)}var A=[],$;for(var D of B.nodes(t,{at:c,voids:l})){var[M,O]=D;$&&ie.compare(O,$)===0||(!l&&Ue.isElement(M)&&(B.isVoid(t,M)||B.isElementReadOnly(t,M))||!ie.isCommon(O,x.path)&&!ie.isCommon(O,w.path))&&(A.push(D),$=O)}var F=Array.from(A,le=>{var[,oe]=le;return B.pathRef(t,oe)}),P=B.pointRef(t,x),V=B.pointRef(t,w),H="";if(!E&&!k){var W=P.current,[G]=B.leaf(t,W),{path:X}=W,{offset:z}=x,q=G.text.slice(z);q.length>0&&(t.apply({type:"remove_text",path:X,offset:z,text:q}),H=q)}if(F.reverse().map(le=>le.unref()).filter(le=>le!==null).forEach(le=>ue.removeNodes(t,{at:le,voids:l})),!T){var Z=V.current,[K]=B.leaf(t,Z),{path:J}=Z,Q=E?x.offset:0,re=K.text.slice(Q,w.offset);re.length>0&&(t.apply({type:"remove_text",path:J,offset:Q,text:re}),H=re)}!E&&_&&V.current&&P.current&&ue.mergeNodes(t,{at:V.current,hanging:!0,voids:l}),h&&a&&o==="character"&&H.length>1&&H.match(/[\u0E00-\u0E7F]+/)&&ue.insertText(t,H.slice(0,H.length-s));var ae=P.unref(),ne=V.unref(),se=a?ae||ne:ne||ae;n.at==null&&se&&ue.select(t,se)}}})},lPt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};B.withoutNormalizing(t,()=>{var{hanging:i=!1,voids:a=!1}=r,{at:o=tW(t)}=r;if(n.length){if(pe.isRange(o))if(i||(o=B.unhangRange(t,o,{voids:a})),pe.isCollapsed(o))o=o.anchor;else{var[,s]=pe.edges(o);if(!a&&B.void(t,{at:s}))return;var l=B.pointRef(t,s);ue.delete(t,{at:o}),o=l.unref()}else ie.isPath(o)&&(o=B.start(t,o));if(!(!a&&B.void(t,{at:o}))){var c=B.above(t,{at:o,match:z=>Ue.isElement(z)&&B.isInline(t,z),mode:"highest",voids:a});if(c){var[,d]=c;if(B.isEnd(t,o,d)){var h=B.after(t,d);o=h}else if(B.isStart(t,o,d)){var p=B.before(t,d);o=p}}var m=B.above(t,{match:z=>Ue.isElement(z)&&B.isBlock(t,z),at:o,voids:a}),[,g]=m,v=B.isStart(t,o,g),b=B.isEnd(t,o,g),y=v&&b,x=!v||v&&b,w=!b,[,C]=je.first({children:n},[]),[,S]=je.last({children:n},[]),_=[],E=z=>{var[q,Z]=z,K=Z.length===0;return K?!1:y?!0:!(x&&ie.isAncestor(Z,C)&&Ue.isElement(q)&&!t.isVoid(q)&&!t.isInline(q)||w&&ie.isAncestor(Z,S)&&Ue.isElement(q)&&!t.isVoid(q)&&!t.isInline(q))};for(var k of je.nodes({children:n},{pass:E}))E(k)&&_.push(k);var T=[],j=[],I=[],A=!0,$=!1;for(var[D]of _)Ue.isElement(D)&&!t.isInline(D)?(A=!1,$=!0,j.push(D)):A?T.push(D):I.push(D);var[M]=B.nodes(t,{at:o,match:z=>$e.isText(z)||B.isInline(t,z),mode:"highest",voids:a}),[,O]=M,F=B.isStart(t,o,O),P=B.isEnd(t,o,O),V=B.pathRef(t,b&&!I.length?ie.next(g):g),H=B.pathRef(t,P?ie.next(O):O);ue.splitNodes(t,{at:o,match:z=>$?Ue.isElement(z)&&B.isBlock(t,z):$e.isText(z)||B.isInline(t,z),mode:$?"lowest":"highest",always:$&&(!v||T.length>0)&&(!b||I.length>0),voids:a});var W=B.pathRef(t,!F||F&&P?ie.next(O):O);if(ue.insertNodes(t,T,{at:W.current,match:z=>$e.isText(z)||B.isInline(t,z),mode:"highest",voids:a}),y&&!T.length&&j.length&&!I.length&&ue.delete(t,{at:g,voids:a}),ue.insertNodes(t,j,{at:V.current,match:z=>Ue.isElement(z)&&B.isBlock(t,z),mode:"lowest",voids:a}),ue.insertNodes(t,I,{at:H.current,match:z=>$e.isText(z)||B.isInline(t,z),mode:"highest",voids:a}),!r.at){var G;if(I.length>0&&H.current?G=ie.previous(H.current):j.length>0&&V.current?G=ie.previous(V.current):W.current&&(G=ie.previous(W.current)),G){var X=B.end(t,G);ue.select(t,X)}}W.unref(),V.unref(),H.unref()}}})},uPt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:r="anchor"}=n,{selection:i}=t;if(i){if(r==="anchor")ue.select(t,i.anchor);else if(r==="focus")ue.select(t,i.focus);else if(r==="start"){var[a]=pe.edges(i);ue.select(t,a)}else if(r==="end"){var[,o]=pe.edges(i);ue.select(t,o)}}else return},cPt=e=>{var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},dPt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:r}=t,{distance:i=1,unit:a="character",reverse:o=!1}=n,{edge:s=null}=n;if(r){s==="start"&&(s=pe.isBackward(r)?"focus":"anchor"),s==="end"&&(s=pe.isBackward(r)?"anchor":"focus");var{anchor:l,focus:c}=r,d={distance:i,unit:a,ignoreNonSelectable:!0},h={};if(s==null||s==="anchor"){var p=o?B.before(t,l,d):B.after(t,l,d);p&&(h.anchor=p)}if(s==null||s==="focus"){var m=o?B.before(t,c,d):B.after(t,c,d);m&&(h.focus=m)}ue.setSelection(t,h)}},fPt=(e,t)=>{var{selection:n}=e;if(t=B.range(e,t),n){ue.setSelection(e,t);return}if(!pe.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(Da.stringify(t)));e.apply({type:"set_selection",properties:n,newProperties:t})};function ire(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function are(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ire(Object(n),!0).forEach(function(r){Qo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ire(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var hPt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:i}=t,{edge:a="both"}=r;if(i){a==="start"&&(a=pe.isBackward(i)?"focus":"anchor"),a==="end"&&(a=pe.isBackward(i)?"anchor":"focus");var{anchor:o,focus:s}=i,l=a==="anchor"?o:s;ue.setSelection(t,{[a==="anchor"?"anchor":"focus"]:are(are({},l),n)})}},pPt=(e,t)=>{var{selection:n}=e,r={},i={};if(n){for(var a in t)(a==="anchor"&&t.anchor!=null&&!zt.equals(t.anchor,n.anchor)||a==="focus"&&t.focus!=null&&!zt.equals(t.focus,n.focus)||a!=="anchor"&&a!=="focus"&&t[a]!==n[a])&&(r[a]=n[a],i[a]=t[a]);Object.keys(r).length>0&&e.apply({type:"set_selection",properties:r,newProperties:i})}},mPt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};B.withoutNormalizing(t,()=>{var{hanging:i=!1,voids:a=!1,mode:o="lowest"}=r,{at:s,match:l,select:c}=r;if(je.isNode(n)&&(n=[n]),n.length!==0){var[d]=n;if(s||(s=tW(t),c=!0),c==null&&(c=!1),pe.isRange(s))if(i||(s=B.unhangRange(t,s,{voids:a})),pe.isCollapsed(s))s=s.anchor;else{var[,h]=pe.edges(s),p=B.pointRef(t,h);ue.delete(t,{at:s}),s=p.unref()}if(zt.isPoint(s)){l==null&&($e.isText(d)?l=E=>$e.isText(E):t.isInline(d)?l=E=>$e.isText(E)||B.isInline(t,E):l=E=>Ue.isElement(E)&&B.isBlock(t,E));var[m]=B.nodes(t,{at:s.path,match:l,mode:o,voids:a});if(m){var[,g]=m,v=B.pathRef(t,g),b=B.isEnd(t,s,g);ue.splitNodes(t,{at:s,match:l,mode:o,voids:a});var y=v.unref();s=b?ie.next(y):y}else return}var x=ie.parent(s),w=s[s.length-1];if(!(!a&&B.void(t,{at:x}))){for(var C of n){var S=x.concat(w);w++,t.apply({type:"insert_node",path:S,node:C}),s=ie.next(s)}if(s=ie.previous(s),c){var _=B.end(t,s);_&&ue.select(t,_)}}}})},gPt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};B.withoutNormalizing(t,()=>{var{at:r=t.selection,mode:i="lowest",voids:a=!1}=n,{match:o}=n;if(o==null&&(o=ie.isPath(r)?Db(t,r):C=>Ue.isElement(C)&&B.isBlock(t,C)),!!r){var s=B.nodes(t,{at:r,match:o,mode:i,voids:a}),l=Array.from(s,C=>{var[,S]=C;return B.pathRef(t,S)});for(var c of l){var d=c.unref();if(d.length<2)throw new Error("Cannot lift node at a path [".concat(d,"] because it has a depth of less than `2`."));var h=B.node(t,ie.parent(d)),[p,m]=h,g=d[d.length-1],{length:v}=p.children;if(v===1){var b=ie.next(m);ue.moveNodes(t,{at:d,to:b,voids:a}),ue.removeNodes(t,{at:m,voids:a})}else if(g===0)ue.moveNodes(t,{at:d,to:m,voids:a});else if(g===v-1){var y=ie.next(m);ue.moveNodes(t,{at:d,to:y,voids:a})}else{var x=ie.next(d),w=ie.next(m);ue.splitNodes(t,{at:x,voids:a}),ue.moveNodes(t,{at:d,to:w,voids:a})}}}})},vPt=["text"],yPt=["children"],Tke=(e,t)=>{if(Ue.isElement(t)){var n=t;return B.isVoid(e,t)?!0:n.children.length===1?Tke(e,n.children[0]):!1}else return!B.isEditor(t)},bPt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};B.withoutNormalizing(t,()=>{var{match:r,at:i=t.selection}=n,{hanging:a=!1,voids:o=!1,mode:s="lowest"}=n;if(i){if(r==null)if(ie.isPath(i)){var[l]=B.parent(t,i);r=j=>l.children.includes(j)}else r=j=>Ue.isElement(j)&&B.isBlock(t,j);if(!a&&pe.isRange(i)&&(i=B.unhangRange(t,i,{voids:o})),pe.isRange(i))if(pe.isCollapsed(i))i=i.anchor;else{var[,c]=pe.edges(i),d=B.pointRef(t,c);ue.delete(t,{at:i}),i=d.unref(),n.at==null&&ue.select(t,i)}var[h]=B.nodes(t,{at:i,match:r,voids:o,mode:s}),p=B.previous(t,{at:i,match:r,voids:o,mode:s});if(!(!h||!p)){var[m,g]=h,[v,b]=p;if(!(g.length===0||b.length===0)){var y=ie.next(b),x=ie.common(g,b),w=ie.isSibling(g,b),C=Array.from(B.levels(t,{at:g}),j=>{var[I]=j;return I}).slice(x.length).slice(0,-1),S=B.above(t,{at:g,mode:"highest",match:j=>C.includes(j)&&Tke(t,j)}),_=S&&B.pathRef(t,S[1]),E,k;if($e.isText(m)&&$e.isText(v)){var T=Tf(m,vPt);k=v.text.length,E=T}else if(Ue.isElement(m)&&Ue.isElement(v)){var T=Tf(m,yPt);k=v.children.length,E=T}else throw new Error("Cannot merge the node at path [".concat(g,"] with the previous sibling because it is not the same kind: ").concat(Da.stringify(m)," ").concat(Da.stringify(v)));w||ue.moveNodes(t,{at:g,to:y,voids:o}),_&&ue.removeNodes(t,{at:_.current,voids:o}),Ue.isElement(v)&&B.isEmpty(t,v)||$e.isText(v)&&v.text===""&&b[b.length-1]!==0?ue.removeNodes(t,{at:b,voids:o}):t.apply({type:"merge_node",path:y,position:k,properties:E}),_&&_.unref()}}}})},xPt=(e,t)=>{B.withoutNormalizing(e,()=>{var{to:n,at:r=e.selection,mode:i="lowest",voids:a=!1}=t,{match:o}=t;if(r){o==null&&(o=ie.isPath(r)?Db(e,r):m=>Ue.isElement(m)&&B.isBlock(e,m));var s=B.pathRef(e,n),l=B.nodes(e,{at:r,match:o,mode:i,voids:a}),c=Array.from(l,m=>{var[,g]=m;return B.pathRef(e,g)});for(var d of c){var h=d.unref(),p=s.current;h.length!==0&&e.apply({type:"move_node",path:h,newPath:p}),s.current&&ie.isSibling(p,h)&&ie.isAfter(p,h)&&(s.current=ie.next(s.current))}s.unref()}})},wPt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};B.withoutNormalizing(t,()=>{var{hanging:r=!1,voids:i=!1,mode:a="lowest"}=n,{at:o=t.selection,match:s}=n;if(o){s==null&&(s=ie.isPath(o)?Db(t,o):m=>Ue.isElement(m)&&B.isBlock(t,m)),!r&&pe.isRange(o)&&(o=B.unhangRange(t,o,{voids:i}));var l=B.nodes(t,{at:o,match:s,mode:a,voids:i}),c=Array.from(l,m=>{var[,g]=m;return B.pathRef(t,g)});for(var d of c){var h=d.unref();if(h){var[p]=B.node(t,h);t.apply({type:"remove_node",path:h,node:p})}}}})},CPt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};B.withoutNormalizing(t,()=>{var{match:i,at:a=t.selection,compare:o,merge:s}=r,{hanging:l=!1,mode:c="lowest",split:d=!1,voids:h=!1}=r;if(a){if(i==null&&(i=ie.isPath(a)?Db(t,a):k=>Ue.isElement(k)&&B.isBlock(t,k)),!l&&pe.isRange(a)&&(a=B.unhangRange(t,a,{voids:h})),d&&pe.isRange(a)){if(pe.isCollapsed(a)&&B.leaf(t,a.anchor)[0].text.length>0)return;var p=B.rangeRef(t,a,{affinity:"inward"}),[m,g]=pe.edges(a),v=c==="lowest"?"lowest":"highest",b=B.isEnd(t,g,g.path);ue.splitNodes(t,{at:g,match:i,mode:v,voids:h,always:!b});var y=B.isStart(t,m,m.path);ue.splitNodes(t,{at:m,match:i,mode:v,voids:h,always:!y}),a=p.unref(),r.at==null&&ue.select(t,a)}o||(o=(k,T)=>k!==T);for(var[x,w]of B.nodes(t,{at:a,match:i,mode:c,voids:h})){var C={},S={};if(w.length!==0){var _=!1;for(var E in n)E==="children"||E==="text"||o(n[E],x[E])&&(_=!0,x.hasOwnProperty(E)&&(C[E]=x[E]),s?n[E]!=null&&(S[E]=s(x[E],n[E])):n[E]!=null&&(S[E]=n[E]));_&&t.apply({type:"set_node",path:w,properties:C,newProperties:S})}}}})},SPt=(e,t)=>{if(pe.isCollapsed(t))return t.anchor;var[,n]=pe.edges(t),r=B.pointRef(e,n);return ue.delete(e,{at:t}),r.unref()},_Pt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};B.withoutNormalizing(t,()=>{var{mode:r="lowest",voids:i=!1}=n,{match:a,at:o=t.selection,height:s=0,always:l=!1}=n;if(a==null&&(a=V=>Ue.isElement(V)&&B.isBlock(t,V)),pe.isRange(o)&&(o=SPt(t,o)),ie.isPath(o)){var c=o,d=B.point(t,c),[h]=B.parent(t,c);a=V=>V===h,s=d.path.length-c.length+1,o=d,l=!0}if(o){var p=B.pointRef(t,o,{affinity:"backward"}),m;try{var[g]=B.nodes(t,{at:o,match:a,mode:r,voids:i});if(!g)return;var v=B.void(t,{at:o,mode:"highest"}),b=0;if(!i&&v){var[y,x]=v;if(Ue.isElement(y)&&t.isInline(y)){var w=B.after(t,x);if(!w){var C={text:""},S=ie.next(x);ue.insertNodes(t,C,{at:S,voids:i}),w=B.point(t,S)}o=w,l=!0}var _=o.path.length-x.length;s=_+1,l=!0}m=B.pointRef(t,o);var E=o.path.length-s,[,k]=g,T=o.path.slice(0,E),j=s===0?o.offset:o.path[E]+b;for(var[I,A]of B.levels(t,{at:T,reverse:!0,voids:i})){var $=!1;if(A.length<k.length||A.length===0||!i&&Ue.isElement(I)&&B.isVoid(t,I))break;var D=p.current,M=B.isEnd(t,D,A);if(l||!p||!B.isEdge(t,D,A)){$=!0;var O=je.extractProps(I);t.apply({type:"split_node",path:A,position:j,properties:O})}j=A[A.length-1]+($||M?1:0)}if(n.at==null){var F=m.current||B.end(t,[]);ue.select(t,F)}}finally{var P;p.unref(),(P=m)===null||P===void 0||P.unref()}}})},EPt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(n)||(n=[n]);var i={};for(var a of n)i[a]=null;ue.setNodes(t,i,r)},kPt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};B.withoutNormalizing(t,()=>{var{mode:r="lowest",split:i=!1,voids:a=!1}=n,{at:o=t.selection,match:s}=n;if(o){s==null&&(s=ie.isPath(o)?Db(t,o):m=>Ue.isElement(m)&&B.isBlock(t,m)),ie.isPath(o)&&(o=B.range(t,o));var l=pe.isRange(o)?B.rangeRef(t,o):null,c=B.nodes(t,{at:o,match:s,mode:r,voids:a}),d=Array.from(c,m=>{var[,g]=m;return B.pathRef(t,g)}).reverse(),h=function(){var g=p.unref(),[v]=B.node(t,g),b=B.range(t,g);i&&l&&(b=pe.intersection(l.current,b)),ue.liftNodes(t,{at:b,match:y=>Ue.isAncestor(v)&&v.children.includes(y),voids:a})};for(var p of d)h();l&&l.unref()}})};function ore(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sre(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ore(Object(n),!0).forEach(function(r){Qo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ore(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var TPt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};B.withoutNormalizing(t,()=>{var{mode:i="lowest",split:a=!1,voids:o=!1}=r,{match:s,at:l=t.selection}=r;if(l){if(s==null&&(ie.isPath(l)?s=Db(t,l):t.isInline(n)?s=b=>Ue.isElement(b)&&B.isInline(t,b)||$e.isText(b):s=b=>Ue.isElement(b)&&B.isBlock(t,b)),a&&pe.isRange(l)){var[c,d]=pe.edges(l),h=B.rangeRef(t,l,{affinity:"inward"});ue.splitNodes(t,{at:d,match:s,voids:o}),ue.splitNodes(t,{at:c,match:s,voids:o}),l=h.unref(),r.at==null&&ue.select(t,l)}var p=Array.from(B.nodes(t,{at:l,match:t.isInline(n)?b=>Ue.isElement(b)&&B.isBlock(t,b):b=>B.isEditor(b),mode:"lowest",voids:o})),m=function(){var y=pe.isRange(l)?pe.intersection(l,B.range(t,v)):l;if(!y)return 0;var x=Array.from(B.nodes(t,{at:y,match:s,mode:i,voids:o}));if(x.length>0){var[w]=x,C=x[x.length-1],[,S]=w,[,_]=C;if(S.length===0&&_.length===0)return 0;var E=ie.equals(S,_)?ie.parent(S):ie.common(S,_),k=B.range(t,S,_),T=B.node(t,E),[j]=T,I=E.length+1,A=ie.next(_.slice(0,I)),$=sre(sre({},n),{},{children:[]});ue.insertNodes(t,$,{at:A,voids:o}),ue.moveNodes(t,{at:k,match:D=>Ue.isAncestor(j)&&j.children.includes(D),to:A.concat(0),voids:o})}},g;for(var[,v]of p)g=m()}})},APt=()=>{var e={children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return QMt(e,...r)},addMark:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return aRt(e,...r)},deleteBackward:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return lRt(e,...r)},deleteForward:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return uRt(e,...r)},deleteFragment:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return cRt(e,...r)},getFragment:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return tRt(e,...r)},insertBreak:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return wRt(e,...r)},insertSoftBreak:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return SRt(e,...r)},insertFragment:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return lPt(e,...r)},insertNode:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return CRt(e,...r)},insertText:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ERt(e,...r)},normalizeNode:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return nRt(e,...r)},removeMark:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return tPt(e,...r)},getDirtyPaths:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return eRt(e,...r)},shouldNormalize:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return rRt(e,...r)},above:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return iRt(e,...r)},after:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return oRt(e,...r)},before:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return sRt(e,...r)},collapse:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return uPt(e,...r)},delete:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return sPt(e,...r)},deselect:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return cPt(e,...r)},edges:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return dRt(e,...r)},elementReadOnly:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return fRt(e,...r)},end:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return hRt(e,...r)},first:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return pRt(e,...r)},fragment:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return mRt(e,...r)},getMarks:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return FRt(e,...r)},hasBlocks:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return vRt(e,...r)},hasInlines:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return yRt(e,...r)},hasPath:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return bRt(e,...r)},hasTexts:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return xRt(e,...r)},insertNodes:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return mPt(e,...r)},isBlock:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return kRt(e,...r)},isEdge:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return TRt(e,...r)},isEmpty:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ARt(e,...r)},isEnd:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return jRt(e,...r)},isNormalizing:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return IRt(e,...r)},isStart:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return DRt(e,...r)},last:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return $Rt(e,...r)},leaf:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ORt(e,...r)},levels:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return MRt(e,...r)},liftNodes:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return gPt(e,...r)},mergeNodes:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return bPt(e,...r)},move:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return dPt(e,...r)},moveNodes:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return xPt(e,...r)},next:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return NRt(e,...r)},node:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return LRt(e,...r)},nodes:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return BRt(e,...r)},normalize:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return VRt(e,...r)},parent:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return zRt(e,...r)},path:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return WRt(e,...r)},pathRef:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return URt(e,...r)},pathRefs:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return HRt(e,...r)},point:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return qRt(e,...r)},pointRef:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return GRt(e,...r)},pointRefs:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return YRt(e,...r)},positions:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return KRt(e,...r)},previous:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ZRt(e,...r)},range:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return QRt(e,...r)},rangeRef:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return XRt(e,...r)},rangeRefs:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return JRt(e,...r)},removeNodes:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return wPt(e,...r)},select:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return fPt(e,...r)},setNodes:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return CPt(e,...r)},setNormalizing:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return nPt(e,...r)},setPoint:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return hPt(e,...r)},setSelection:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return pPt(e,...r)},splitNodes:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return _Pt(e,...r)},start:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return rPt(e,...r)},string:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return iPt(e,...r)},unhangRange:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return aPt(e,...r)},unsetNodes:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return EPt(e,...r)},unwrapNodes:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return kPt(e,...r)},void:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return gRt(e,...r)},withoutNormalizing:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return oPt(e,...r)},wrapNodes:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return TPt(e,...r)}};return e},jPt=$Pt,Ake="֑-߿יִ-﷽ﹰ-ﻼ",jke="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",IPt=new RegExp("^[^"+jke+"]*["+Ake+"]"),DPt=new RegExp("^[^"+Ake+"]*["+jke+"]");function $Pt(e){return e=String(e||""),IPt.test(e)?"rtl":DPt.test(e)?"ltr":"neutral"}const Ike=Pe(jPt);var Jf={};Object.defineProperty(Jf,"__esModule",{value:!0});var OPt=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),l3={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},Dke={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:OPt?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},iW={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var ZE=1;ZE<20;ZE++)iW["f"+ZE]=111+ZE;function cO(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map(function(o){return $ke(o,t)}),i=function(s){return r.some(function(l){return Oke(l,s)})},a=n==null?i:i(n);return a}function MPt(e,t){return cO(e,t)}function RPt(e,t){return cO(e,{byKey:!0},t)}function $ke(e,t){var n=t&&t.byKey,r={};e=e.replace("++","+add");var i=e.split("+"),a=i.length;for(var o in l3)r[l3[o]]=!1;var s=!0,l=!1,c=void 0;try{for(var d=i[Symbol.iterator](),h;!(s=(h=d.next()).done);s=!0){var p=h.value,m=p.endsWith("?")&&p.length>1;m&&(p=p.slice(0,-1));var g=aW(p),v=l3[g];if(p.length>1&&!v&&!Dke[p]&&!iW[g])throw new TypeError('Unknown modifier: "'+p+'"');(a===1||!v)&&(n?r.key=g:r.which=Mke(p)),v&&(r[v]=m?null:!0)}}catch(b){l=!0,c=b}finally{try{!s&&d.return&&d.return()}finally{if(l)throw c}}return r}function Oke(e,t){for(var n in e){var r=e[n],i=void 0;if(r!=null&&(n==="key"&&t.key!=null?i=t.key.toLowerCase():n==="which"?i=r===91&&t.which===93?91:t.which:i=t[n],!(i==null&&r===!1)&&i!==r))return!1}return!0}function Mke(e){e=aW(e);var t=iW[e]||e.toUpperCase().charCodeAt(0);return t}function aW(e){return e=e.toLowerCase(),e=Dke[e]||e,e}Jf.default=cO;var u3=Jf.isHotkey=cO;Jf.isCodeHotkey=MPt;Jf.isKeyHotkey=RPt;Jf.parseHotkey=$ke;Jf.compareHotkey=Oke;Jf.toKeyCode=Mke;Jf.toKeyName=aW;function PPt(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function xy(e,t){if(e==null)return{};var n=PPt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function AS(e){"@babel/helpers - typeof";return AS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},AS(e)}function FPt(e,t){if(AS(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(AS(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NPt(e){var t=FPt(e,"string");return AS(t)==="symbol"?t:String(t)}function Kl(e,t,n){return t=NPt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oW=f.createContext(null),cd=()=>{var e=f.useContext(oW);if(!e)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return e},Rke=parseInt(Ye.version.split(".")[0],10),LPt=typeof navigator<"u"&&typeof window<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,lre=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),xs=typeof navigator<"u"&&/Android/.test(navigator.userAgent),d1=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),jw=typeof navigator<"u"&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),BPt=typeof navigator<"u"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),Pke=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent),VPt=typeof navigator<"u"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),zPt=xs&&typeof navigator<"u"&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),UPt=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),HPt=typeof navigator<"u"&&/.*UCBrowser/.test(navigator.userAgent),WPt=typeof navigator<"u"&&/.*Wechat/.test(navigator.userAgent)&&!/.*MacWechat/.test(navigator.userAgent),eT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lh=(!VPt||!zPt)&&!BPt&&typeof globalThis<"u"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function",sW=new WeakMap,lW=new WeakMap,Fke=new WeakMap,tT=new WeakMap,k8=new WeakMap,jS=new WeakMap,yg=new WeakMap,Sj=new WeakMap,dO=new WeakMap,T8=new WeakMap,qh=new WeakMap,Jm=new WeakMap,wC=new WeakMap,A8=new WeakMap,uW=new WeakMap,Pu=new WeakMap,tf=new WeakMap,hs=new WeakMap,jh=new WeakMap,Ih=new WeakMap,Nke=new WeakMap,wy=Symbol("placeholder"),Lke=Symbol("mark-placeholder"),GPt=globalThis.Text,cW=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView||null,YPt=e=>Dp(e)&&e.nodeType===8,Fl=e=>Dp(e)&&e.nodeType===1,Dp=e=>{var t=cW(e);return!!t&&e instanceof t.Node},j8=e=>{var t=e&&e.anchorNode&&cW(e.anchorNode);return!!t&&e instanceof t.Selection},Bke=e=>Dp(e)&&e.nodeType===3,qPt=e=>e.clipboardData&&e.clipboardData.getData("text/plain")!==""&&e.clipboardData.types.length===1,KPt=e=>{var[t,n]=e;if(Fl(t)&&t.childNodes.length){var r=n===t.childNodes.length,i=r?n-1:n;for([t,i]=Vke(t,i,r?"backward":"forward"),r=i<n;Fl(t)&&t.childNodes.length;){var a=r?t.childNodes.length-1:0;t=XPt(t,a,r?"backward":"forward")}n=r&&t.textContent!=null?t.textContent.length:0}return[t,n]},ZPt=e=>{for(var t=e&&e.parentNode;t;){if(t.toString()==="[object ShadowRoot]")return!0;t=t.parentNode}return!1},Vke=(e,t,n)=>{for(var{childNodes:r}=e,i=r[t],a=t,o=!1,s=!1;(YPt(i)||Fl(i)&&i.childNodes.length===0||Fl(i)&&i.getAttribute("contenteditable")==="false")&&!(o&&s);){if(a>=r.length){o=!0,a=t-1,n="backward";continue}if(a<0){s=!0,a=t+1,n="forward";continue}i=r[a],t=a,a+=n==="forward"?1:-1}return[i,t]},XPt=(e,t,n)=>{var[r]=Vke(e,t,n);return r},zke=e=>{var t="";if(Bke(e)&&e.nodeValue)return e.nodeValue;if(Fl(e)){for(var n of Array.from(e.childNodes))t+=zke(n);var r=getComputedStyle(e).getPropertyValue("display");(r==="block"||r==="list"||e.tagName==="BR")&&(t+=`
`)}return t},JPt=/data-slate-fragment="(.+?)"/m,QPt=e=>{var t=e.getData("text/html"),[,n]=t.match(JPt)||[];return n},dW=(e,t,n)=>{var{target:r}=t;if(Fl(r)&&r.matches('[contentEditable="false"]'))return!1;var{document:i}=we.getWindow(e);if(i.contains(r))return we.hasDOMNode(e,r,{editable:!0});var a=n.find(o=>{var{addedNodes:s,removedNodes:l}=o;for(var c of s)if(c===r||c.contains(r))return!0;for(var d of l)if(d===r||d.contains(r))return!0});return!a||a===t?!1:dW(e,a,n)},e3t=0;class t3t{constructor(){Kl(this,"id",void 0),this.id="".concat(e3t++)}}var we={androidPendingDiffs:e=>hs.get(e),androidScheduleFlush:e=>{var t;(t=uW.get(e))===null||t===void 0||t()},blur:e=>{var t=we.toDOMNode(e,e),n=we.findDocumentOrShadowRoot(e);qh.set(e,!1),n.activeElement===t&&t.blur()},deselect:e=>{var{selection:t}=e,n=we.findDocumentOrShadowRoot(e),r=n.getSelection();r&&r.rangeCount>0&&r.removeAllRanges(),t&&ue.deselect(e)},findDocumentOrShadowRoot:e=>{var t=we.toDOMNode(e,e),n=t.getRootNode();return(n instanceof Document||n instanceof ShadowRoot)&&n.getSelection!=null?n:t.ownerDocument},findEventRange:(e,t)=>{"nativeEvent"in t&&(t=t.nativeEvent);var{clientX:n,clientY:r,target:i}=t;if(n==null||r==null)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var a=we.toSlateNode(e,t.target),o=we.findPath(e,a);if(Ue.isElement(a)&&B.isVoid(e,a)){var s=i.getBoundingClientRect(),l=e.isInline(a)?n-s.left<s.left+s.width-n:r-s.top<s.top+s.height-r,c=B.point(e,o,{edge:l?"start":"end"}),d=l?B.before(e,c):B.after(e,c);if(d){var h=B.range(e,d);return h}}var p,{document:m}=we.getWindow(e);if(m.caretRangeFromPoint)p=m.caretRangeFromPoint(n,r);else{var g=m.caretPositionFromPoint(n,r);g&&(p=m.createRange(),p.setStart(g.offsetNode,g.offset),p.setEnd(g.offsetNode,g.offset))}if(!p)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var v=we.toSlateRange(e,p,{exactMatch:!1,suppressThrow:!1});return v},findKey:(e,t)=>{var n=Sj.get(t);return n||(n=new t3t,Sj.set(t,n)),n},findPath:(e,t)=>{for(var n=[],r=t;;){var i=lW.get(r);if(i==null){if(B.isEditor(r))return n;break}var a=sW.get(r);if(a==null)break;n.unshift(a),r=i}throw new Error("Unable to find the path for Slate node: ".concat(Da.stringify(t)))},focus:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{retries:5};if(!qh.get(t)){if(n.retries<=0)throw new Error("Could not set focus, editor seems stuck with pending operations");if(t.operations.length>0){setTimeout(()=>{we.focus(t,{retries:n.retries-1})},10);return}var r=we.toDOMNode(t,t),i=we.findDocumentOrShadowRoot(t);if(i.activeElement!==r){if(t.selection&&i instanceof Document){var a=i.getSelection(),o=we.toDOMRange(t,t.selection);a==null||a.removeAllRanges(),a==null||a.addRange(o)}t.selection||(ue.select(t,B.start(t,[])),t.onChange()),r.focus({preventScroll:!0}),qh.set(t,!0)}}},getWindow:e=>{var t=Fke.get(e);if(!t)throw new Error("Unable to find a host window element for this editor");return t},hasDOMNode:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{editable:i=!1}=r,a=we.toDOMNode(t,t),o;try{o=Fl(n)?n:n.parentElement}catch(s){if(s instanceof Error&&!s.message.includes('Permission denied to access property "nodeType"'))throw s}return o?o.closest("[data-slate-editor]")===a&&(!i||o.isContentEditable?!0:typeof o.isContentEditable=="boolean"&&o.closest('[contenteditable="false"]')===a||!!o.getAttribute("data-slate-zero-width")):!1},hasEditableTarget:(e,t)=>Dp(t)&&we.hasDOMNode(e,t,{editable:!0}),hasRange:(e,t)=>{var{anchor:n,focus:r}=t;return B.hasPath(e,n.path)&&B.hasPath(e,r.path)},hasSelectableTarget:(e,t)=>we.hasEditableTarget(e,t)||we.isTargetInsideNonReadonlyVoid(e,t),hasTarget:(e,t)=>Dp(t)&&we.hasDOMNode(e,t),insertData:(e,t)=>{e.insertData(t)},insertFragmentData:(e,t)=>e.insertFragmentData(t),insertTextData:(e,t)=>e.insertTextData(t),isComposing:e=>!!Jm.get(e),isFocused:e=>!!qh.get(e),isReadOnly:e=>!!T8.get(e),isTargetInsideNonReadonlyVoid:(e,t)=>{if(T8.get(e))return!1;var n=we.hasTarget(e,t)&&we.toSlateNode(e,t);return Ue.isElement(n)&&B.isVoid(e,n)},setFragmentData:(e,t,n)=>e.setFragmentData(t,n),toDOMNode:(e,t)=>{var n=dO.get(e),r=B.isEditor(t)?tT.get(e):n==null?void 0:n.get(we.findKey(e,t));if(!r)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(Da.stringify(t)));return r},toDOMPoint:(e,t)=>{var[n]=B.node(e,t.path),r=we.toDOMNode(e,n),i;B.void(e,{at:t})&&(t={path:t.path,offset:0});for(var a="[data-slate-string], [data-slate-zero-width]",o=Array.from(r.querySelectorAll(a)),s=0,l=0;l<o.length;l++){var c=o[l],d=c.childNodes[0];if(!(d==null||d.textContent==null)){var{length:h}=d.textContent,p=c.getAttribute("data-slate-length"),m=p==null?h:parseInt(p,10),g=s+m,v=o[l+1];if(t.offset===g&&v!==null&&v!==void 0&&v.hasAttribute("data-slate-mark-placeholder")){var b,y=v.childNodes[0];i=[y instanceof GPt?y:v,(b=v.textContent)!==null&&b!==void 0&&b.startsWith("\uFEFF")?1:0];break}if(t.offset<=g){var x=Math.min(h,Math.max(0,t.offset-s));i=[d,x];break}s=g}}if(!i)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(Da.stringify(t)));return i},toDOMRange:(e,t)=>{var{anchor:n,focus:r}=t,i=pe.isBackward(t),a=we.toDOMPoint(e,n),o=pe.isCollapsed(t)?a:we.toDOMPoint(e,r),s=we.getWindow(e),l=s.document.createRange(),[c,d]=i?o:a,[h,p]=i?a:o,m=Fl(c)?c:c.parentElement,g=!!m.getAttribute("data-slate-zero-width"),v=Fl(h)?h:h.parentElement,b=!!v.getAttribute("data-slate-zero-width");return l.setStart(c,g?1:d),l.setEnd(h,b?1:p),l},toSlateNode:(e,t)=>{var n=Fl(t)?t:t.parentElement;n&&!n.hasAttribute("data-slate-node")&&(n=n.closest("[data-slate-node]"));var r=n?jS.get(n):null;if(!r)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(n));return r},toSlatePoint:(e,t,n)=>{var{exactMatch:r,suppressThrow:i}=n,[a,o]=r?t:KPt(t),s=a.parentNode,l=null,c=0;if(s){var d,h,p=we.toDOMNode(e,e),m=s.closest('[data-slate-void="true"]'),g=m&&p.contains(m)?m:null,v=s.closest("[data-slate-leaf]"),b=null;if(v){if(l=v.closest('[data-slate-node="text"]'),l){var y=we.getWindow(e),x=y.document.createRange();x.setStart(l,0),x.setEnd(a,o);var w=x.cloneContents(),C=[...Array.prototype.slice.call(w.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(w.querySelectorAll("[contenteditable=false]"))];C.forEach(D=>{if(xs&&!r&&D.hasAttribute("data-slate-zero-width")&&D.textContent.length>0&&D.textContext!=="\uFEFF"){D.textContent.startsWith("\uFEFF")&&(D.textContent=D.textContent.slice(1));return}D.parentNode.removeChild(D)}),c=w.textContent.length,b=l}}else if(g){for(var S=g.querySelectorAll("[data-slate-leaf]"),_=0;_<S.length;_++){var E=S[_];if(we.hasDOMNode(e,E)){v=E;break}}v?(l=v.closest('[data-slate-node="text"]'),b=v,c=b.textContent.length,b.querySelectorAll("[data-slate-zero-width]").forEach(D=>{c-=D.textContent.length})):c=1}b&&c===b.textContent.length&&xs&&b.getAttribute("data-slate-zero-width")==="z"&&(d=b.textContent)!==null&&d!==void 0&&d.startsWith("\uFEFF")&&(s.hasAttribute("data-slate-zero-width")||d1&&(h=b.textContent)!==null&&h!==void 0&&h.endsWith(`

`))&&c--}if(xs&&!l&&!r){var k=s.hasAttribute("data-slate-node")?s:s.closest("[data-slate-node]");if(k&&we.hasDOMNode(e,k,{editable:!0})){var T=we.toSlateNode(e,k),{path:j,offset:I}=B.start(e,we.findPath(e,T));return k.querySelector("[data-slate-leaf]")||(I=o),{path:j,offset:I}}}if(!l){if(i)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(t))}var A=we.toSlateNode(e,l),$=we.findPath(e,A);return{path:$,offset:c}},toSlateRange:(e,t,n)=>{var r,{exactMatch:i,suppressThrow:a}=n,o=j8(t)?t.anchorNode:t.startContainer,s,l,c,d,h;if(o)if(j8(t)){if(d1&&t.rangeCount>1){c=t.focusNode;var p=t.getRangeAt(0),m=t.getRangeAt(t.rangeCount-1);if(c instanceof HTMLTableRowElement&&p.startContainer instanceof HTMLTableRowElement&&m.startContainer instanceof HTMLTableRowElement){let _=function(E){return E.childElementCount>0?_(E.children[0]):E};var g=p.startContainer,v=m.startContainer,b=_(g.children[p.startOffset]),y=_(v.children[m.startOffset]);d=0,y.childNodes.length>0?s=y.childNodes[0]:s=y,b.childNodes.length>0?c=b.childNodes[0]:c=b,y instanceof HTMLElement?l=y.innerHTML.length:l=0}else p.startContainer===c?(s=m.endContainer,l=m.endOffset,d=p.startOffset):(s=p.startContainer,l=p.endOffset,d=m.startOffset)}else s=t.anchorNode,l=t.anchorOffset,c=t.focusNode,d=t.focusOffset;Pke&&ZPt(s)||d1?h=t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset:h=t.isCollapsed}else s=t.startContainer,l=t.startOffset,c=t.endContainer,d=t.endOffset,h=t.collapsed;if(s==null||c==null||l==null||d==null)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(t));if(d1&&(r=c.textContent)!==null&&r!==void 0&&r.endsWith(`

`)&&d===c.textContent.length&&d--,"getAttribute"in c&&c.getAttribute("contenteditable")==="false"&&c.getAttribute("data-slate-void")!=="true"){var x;c=s,d=((x=s.textContent)===null||x===void 0?void 0:x.length)||0}var w=we.toSlatePoint(e,[s,l],{exactMatch:i,suppressThrow:a});if(!w)return null;var C=h?w:we.toSlatePoint(e,[c,d],{exactMatch:i,suppressThrow:a});if(!C)return null;var S={anchor:w,focus:C};return pe.isExpanded(S)&&pe.isForward(S)&&Fl(c)&&B.void(e,{at:S.focus,mode:"highest"})&&(S=B.unhangRange(e,S,{voids:!0})),S}};function n3t(e,t){var{path:n,diff:r}=t;if(!B.hasPath(e,n))return!1;var i=je.get(e,n);if(!$e.isText(i))return!1;if(r.start!==i.text.length||r.text.length===0)return i.text.slice(r.start,r.start+r.text.length)===r.text;var a=ie.next(n);if(!B.hasPath(e,a))return!1;var o=je.get(e,a);return $e.isText(o)&&o.text.startsWith(r.text)}function Uke(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((i,a)=>i.slice(0,a.start)+a.text+i.slice(a.end),e)}function r3t(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return n}function i3t(e,t,n){for(var r=Math.min(e.length,t.length,n),i=0;i<r;i++)if(e.charAt(e.length-i-1)!==t.charAt(t.length-i-1))return i;return r}function Hke(e,t){var{start:n,end:r,text:i}=t,a=e.slice(n,r),o=r3t(a,i),s=Math.min(a.length-o,i.length-o),l=i3t(a,i,s),c={start:n+o,end:r-l,text:i.slice(o,i.length-l)};return c.start===c.end&&c.text.length===0?null:c}function a3t(e,t,n){var r=Math.min(t.start,n.start),i=Math.max(0,Math.min(t.start+t.text.length,n.end)-n.start),a=Uke(e,t,n),o=Math.max(n.start+n.text.length,t.start+t.text.length+(t.start+t.text.length>n.start?n.text.length:0)-i),s=a.slice(r,o),l=Math.max(t.end,n.end-t.text.length+(t.end-t.start));return Hke(e,{start:r,end:l,text:s})}function o3t(e){var{path:t,diff:n}=e;return{anchor:{path:t,offset:n.start},focus:{path:t,offset:n.end}}}function I8(e,t){var{path:n,offset:r}=t;if(!B.hasPath(e,n))return null;var i=je.get(e,n);if(!$e.isText(i))return null;var a=B.above(e,{match:s=>Ue.isElement(s)&&B.isBlock(e,s),at:n});if(!a)return null;for(;r>i.text.length;){var o=B.next(e,{at:n,match:$e.isText});if(!o||!ie.isDescendant(o[1],a[1]))return null;r-=i.text.length,i=o[0],n=o[1]}return{path:n,offset:r}}function ure(e,t){var n=I8(e,t.anchor);if(!n)return null;if(pe.isCollapsed(t))return{anchor:n,focus:n};var r=I8(e,t.focus);return r?{anchor:n,focus:r}:null}function D8(e,t,n){var r=hs.get(e),i=r==null?void 0:r.find(d=>{var{path:h}=d;return ie.equals(h,t.path)});if(!i||t.offset<=i.diff.start)return zt.transform(t,n,{affinity:"backward"});var{diff:a}=i;if(t.offset<=a.start+a.text.length){var o={path:t.path,offset:a.start},s=zt.transform(o,n,{affinity:"backward"});return s?{path:s.path,offset:s.offset+t.offset-a.start}:null}var l={path:t.path,offset:t.offset-a.text.length+a.end-a.start},c=zt.transform(l,n,{affinity:"backward"});return c?n.type==="split_node"&&ie.equals(n.path,t.path)&&l.offset<n.position&&a.start<n.position?c:{path:c.path,offset:c.offset+a.text.length-a.end+a.start}:null}function cre(e,t,n){var r=D8(e,t.anchor,n);if(!r)return null;if(pe.isCollapsed(t))return{anchor:r,focus:r};var i=D8(e,t.focus,n);return i?{anchor:r,focus:i}:null}function s3t(e,t){var{path:n,diff:r,id:i}=e;switch(t.type){case"insert_text":return!ie.equals(t.path,n)||t.offset>=r.end?e:t.offset<=r.start?{diff:{start:t.text.length+r.start,end:t.text.length+r.end,text:r.text},id:i,path:n}:{diff:{start:r.start,end:r.end+t.text.length,text:r.text},id:i,path:n};case"remove_text":return!ie.equals(t.path,n)||t.offset>=r.end?e:t.offset+t.text.length<=r.start?{diff:{start:r.start-t.text.length,end:r.end-t.text.length,text:r.text},id:i,path:n}:{diff:{start:r.start,end:r.end-t.text.length,text:r.text},id:i,path:n};case"split_node":return!ie.equals(t.path,n)||t.position>=r.end?{diff:r,id:i,path:ie.transform(n,t,{affinity:"backward"})}:t.position>r.start?{diff:{start:r.start,end:Math.min(t.position,r.end),text:r.text},id:i,path:n}:{diff:{start:r.start-t.position,end:r.end-t.position,text:r.text},id:i,path:ie.transform(n,t,{affinity:"forward"})};case"merge_node":return ie.equals(t.path,n)?{diff:{start:r.start+t.position,end:r.end+t.position,text:r.text},id:i,path:ie.transform(n,t)}:{diff:r,id:i,path:ie.transform(n,t)}}var a=ie.transform(n,t);return a?{diff:r,path:a,id:i}:null}function dre(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function XE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dre(Object(n),!0).forEach(function(r){Kl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dre(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var l3t=25,u3t=200,c3t=function(){},d3t=e=>(e==null?void 0:e.constructor.name)==="DataTransfer";function f3t(e){var{editor:t,scheduleOnDOMSelectionChange:n,onDOMSelectionChange:r}=e,i=!1,a=null,o=null,s=null,l=0,c=!1,d=()=>{var A=Ih.get(t);if(Ih.delete(t),A){var{selection:$}=t,D=ure(t,A);D&&(!$||!pe.equals(D,$))&&ue.select(t,D)}},h=()=>{var A=jh.get(t);if(jh.delete(t),!!A){if(A.at){var $=zt.isPoint(A.at)?I8(t,A.at):ure(t,A.at);if(!$)return;var D=B.range(t,$);(!t.selection||!pe.equals(t.selection,D))&&ue.select(t,$)}A.run()}},p=()=>{if(o&&(clearTimeout(o),o=null),s&&(clearTimeout(s),s=null),!C()&&!w()){d();return}i||(i=!0,setTimeout(()=>i=!1)),w()&&(i="action");var A=t.selection&&B.rangeRef(t,t.selection,{affinity:"forward"});tf.set(t,t.marks),c3t("flush",jh.get(t),hs.get(t));for(var $=C(),D;D=(M=hs.get(t))===null||M===void 0?void 0:M[0];){var M,O,F=Pu.get(t);F!==void 0&&(Pu.delete(t),t.marks=F),F&&c===!1&&(c=null);var P=o3t(D);(!t.selection||!pe.equals(t.selection,P))&&ue.select(t,P),D.diff.text?B.insertText(t,D.diff.text):B.deleteFragment(t),hs.set(t,(O=hs.get(t))===null||O===void 0?void 0:O.filter(W=>{var{id:G}=W;return G!==D.id})),n3t(t,D)||($=!1,jh.delete(t),tf.delete(t),i="action",Ih.delete(t),n.cancel(),r.cancel(),A==null||A.unref())}var V=A==null?void 0:A.unref();if(V&&!Ih.get(t)&&(!t.selection||!pe.equals(V,t.selection))&&ue.select(t,V),w()){h();return}$&&n(),n.flush(),r.flush(),d();var H=tf.get(t);tf.delete(t),H!==void 0&&(t.marks=H,t.onChange())},m=A=>{a&&clearTimeout(a),a=setTimeout(()=>{Jm.set(t,!1),p()},l3t)},g=A=>{Jm.set(t,!0),a&&(clearTimeout(a),a=null)},v=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,D=k8.get(t);if(D){if(C()||$){D.style.display="none";return}D.style.removeProperty("display")}},b=(A,$)=>{var D,M=(D=hs.get(t))!==null&&D!==void 0?D:[];hs.set(t,M);var O=je.leaf(t,A),F=M.findIndex(H=>ie.equals(H.path,A));if(F<0){var P=Hke(O.text,$);P&&M.push({path:A,diff:$,id:l++}),v();return}var V=a3t(O.text,M[F].diff,$);if(!V){M.splice(F,1),v();return}M[F]=XE(XE({},M[F]),{},{diff:V})},y=function($){var{at:D}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};c=!1,Ih.delete(t),n.cancel(),r.cancel(),w()&&p(),jh.set(t,{at:D,run:$}),s=setTimeout(p)},x=A=>{var $;o&&(clearTimeout(o),o=null);var{inputType:D}=A,M=null,O=A.dataTransfer||A.data||void 0;c!==!1&&D!=="insertText"&&D!=="insertCompositionText"&&(c=!1);var[F]=A.getTargetRanges();F&&(M=we.toSlateRange(t,F,{exactMatch:!1,suppressThrow:!0}));var P=we.getWindow(t),V=P.getSelection();if(!M&&V&&(F=V,M=we.toSlateRange(t,V,{exactMatch:!1,suppressThrow:!0})),M=($=M)!==null&&$!==void 0?$:t.selection,!!M){var H=!0;if(D.startsWith("delete")){if(pe.isExpanded(M)){var[W,G]=pe.edges(M),X=je.leaf(t,W.path);if(X.text.length===W.offset&&G.offset===0){var z=B.next(t,{at:W.path,match:$e.isText});z&&ie.equals(z[1],G.path)&&(M={anchor:G,focus:G})}}var q=D.endsWith("Backward")?"backward":"forward",[Z,K]=pe.edges(M),[J,Q]=B.leaf(t,Z.path),re={text:"",start:Z.offset,end:K.offset},ae=hs.get(t),ne=ae==null?void 0:ae.find(Je=>ie.equals(Je.path,Q)),se=ne?[ne.diff,re]:[re],le=Uke(J.text,...se);if(le.length===0&&(H=!1),pe.isExpanded(M)){if(H&&ie.equals(M.anchor.path,M.focus.path)){var oe={path:M.anchor.path,offset:Z.offset},ge=B.range(t,oe,oe);return E(ge),b(M.anchor.path,{text:"",end:K.offset,start:Z.offset})}return y(()=>B.deleteFragment(t,{direction:q}),{at:M})}}switch(D){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return y(()=>B.deleteFragment(t),{at:M});case"deleteContent":case"deleteContentForward":{var{anchor:_e}=M;if(H&&pe.isCollapsed(M)){var Me=je.leaf(t,_e.path);if(_e.offset<Me.text.length)return b(_e.path,{text:"",start:_e.offset,end:_e.offset+1})}return y(()=>B.deleteForward(t),{at:M})}case"deleteContentBackward":{var me,{anchor:ye}=M,De=j8(F)?F.isCollapsed:!!((me=F)!==null&&me!==void 0&&me.collapsed);return H&&De&&pe.isCollapsed(M)&&ye.offset>0?b(ye.path,{text:"",start:ye.offset-1,end:ye.offset}):y(()=>B.deleteBackward(t),{at:M})}case"deleteEntireSoftLine":return y(()=>{B.deleteBackward(t,{unit:"line"}),B.deleteForward(t,{unit:"line"})},{at:M});case"deleteHardLineBackward":return y(()=>B.deleteBackward(t,{unit:"block"}),{at:M});case"deleteSoftLineBackward":return y(()=>B.deleteBackward(t,{unit:"line"}),{at:M});case"deleteHardLineForward":return y(()=>B.deleteForward(t,{unit:"block"}),{at:M});case"deleteSoftLineForward":return y(()=>B.deleteForward(t,{unit:"line"}),{at:M});case"deleteWordBackward":return y(()=>B.deleteBackward(t,{unit:"word"}),{at:M});case"deleteWordForward":return y(()=>B.deleteForward(t,{unit:"word"}),{at:M});case"insertLineBreak":return y(()=>B.insertSoftBreak(t),{at:M});case"insertParagraph":return y(()=>B.insertBreak(t),{at:M});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{if(d3t(O))return y(()=>we.insertData(t,O),{at:M});var be=O??"";if(Pu.get(t)&&(be=be.replace("\uFEFF","")),D==="insertText"&&/.*\n.*\n$/.test(be)&&(be=be.slice(0,-1)),be.includes(`
`))return y(()=>{var Je=be.split(`
`);Je.forEach((tt,Ne)=>{tt&&B.insertText(t,tt),Ne!==Je.length-1&&B.insertSoftBreak(t)})},{at:M});if(ie.equals(M.anchor.path,M.focus.path)){var[he,ve]=pe.edges(M),Ce={start:he.offset,end:ve.offset,text:be};if(be&&c&&D==="insertCompositionText"){var Te=c.start+c.text.search(/\S|$/),Ge=Ce.start+Ce.text.search(/\S|$/);Ge===Te+1&&Ce.end===c.start+c.text.length?(Ce.start-=1,c=null,j()):c=!1}else D==="insertText"?c===null?c=Ce:c&&pe.isCollapsed(M)&&c.end+c.text.length===he.offset?c=XE(XE({},c),{},{text:c.text+be}):c=!1:c=!1;if(H){b(he.path,Ce);return}}return y(()=>B.insertText(t,be),{at:M})}}}},w=()=>!!jh.get(t),C=()=>{var A;return!!((A=hs.get(t))!==null&&A!==void 0&&A.length)},S=()=>w()||C(),_=()=>i,E=A=>{Ih.set(t,A),o&&(clearTimeout(o),o=null);var{selection:$}=t;if(A){var D=!$||!ie.equals($.anchor.path,A.anchor.path),M=!$||!ie.equals($.anchor.path.slice(0,-1),A.anchor.path.slice(0,-1));(D&&c||M)&&(c=!1),(D||C())&&(o=setTimeout(p,u3t))}},k=()=>{(w()||!C())&&p()},T=A=>{C()||(v(!0),setTimeout(v))},j=()=>{w()||(s=setTimeout(p))},I=A=>{if(!(C()||w())&&A.some(D=>dW(t,D,A))){var $;($=Nke.get(t))===null||$===void 0||$()}};return{flush:p,scheduleFlush:j,hasPendingDiffs:C,hasPendingAction:w,hasPendingChanges:S,isFlushing:_,handleUserSelect:E,handleCompositionEnd:m,handleCompositionStart:g,handleDOMBeforeInput:x,handleKeyDown:T,handleDomMutations:I,handleInput:k}}function h3t(){var e=f.useRef(!1);return f.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),e.current}var IS=eT?f.useLayoutEffect:f.useEffect;function p3t(e,t,n){var[r]=f.useState(()=>new MutationObserver(t));IS(()=>{r.takeRecords()}),f.useEffect(()=>{if(!e.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return r.observe(e.current,n),()=>r.disconnect()},[r,e,n])}var m3t=["node"];function fre(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function g3t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fre(Object(n),!0).forEach(function(r){Kl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fre(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var v3t={subtree:!0,childList:!0,characterData:!0},y3t=xs?e=>{var{node:t}=e,n=xy(e,m3t);if(!xs)return null;var r=cd(),i=h3t(),[a]=f.useState(()=>f3t(g3t({editor:r},n)));return p3t(t,a.handleDomMutations,v3t),uW.set(r,a.scheduleFlush),i&&a.flush(),a}:()=>null,b3t=["anchor","focus"],x3t=["anchor","focus"],w3t=(e,t)=>Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(n=>t.hasOwnProperty(n)&&e[n]===t[n]),Wke=(e,t)=>{var n=xy(e,b3t),r=xy(t,x3t);return e[wy]===t[wy]&&w3t(n,r)},C3t=(e,t)=>{if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],i=t[n];if(!pe.equals(r,i)||!Wke(r,i))return!1}return!0},S3t=(e,t)=>{if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],i=t[n];if(r.anchor.offset!==i.anchor.offset||r.focus.offset!==i.focus.offset||!Wke(r,i))return!1}return!0};function hre(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _3t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hre(Object(n),!0).forEach(function(r){Kl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hre(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var E3t=e=>{var{isLast:t,leaf:n,parent:r,text:i}=e,a=cd(),o=we.findPath(a,i),s=ie.parent(o),l=!!n[Lke];return a.isVoid(r)?Ye.createElement(c3,{length:je.string(r).length}):n.text===""&&r.children[r.children.length-1]===i&&!a.isInline(r)&&B.string(a,s)===""?Ye.createElement(c3,{isLineBreak:!0,isMarkPlaceholder:l}):n.text===""?Ye.createElement(c3,{isMarkPlaceholder:l}):t&&n.text.slice(-1)===`
`?Ye.createElement(pre,{isTrailing:!0,text:n.text}):Ye.createElement(pre,{text:n.text})},pre=e=>{var{text:t,isTrailing:n=!1}=e,r=f.useRef(null),i=()=>"".concat(t??"").concat(n?`
`:""),[a]=f.useState(i);return IS(()=>{var o=i();r.current&&r.current.textContent!==o&&(r.current.textContent=o)}),Ye.createElement(k3t,{ref:r},a)},k3t=f.memo(f.forwardRef((e,t)=>Ye.createElement("span",{"data-slate-string":!0,ref:t},e.children))),c3=e=>{var{length:t=0,isLineBreak:n=!1,isMarkPlaceholder:r=!1}=e,i={"data-slate-zero-width":n?"n":"z","data-slate-length":t};return r&&(i["data-slate-mark-placeholder"]=!0),Ye.createElement("span",_3t({},i),!xs||!n?"\uFEFF":null,n?Ye.createElement("br",null):null)};function mre(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gke(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mre(Object(n),!0).forEach(function(r){Kl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mre(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function T3t(e,t){e.current&&(e.current.disconnect(),t&&(e.current=null))}function gre(e){e.current&&(clearTimeout(e.current),e.current=null)}var A3t=e=>{var{leaf:t,isLast:n,text:r,parent:i,renderPlaceholder:a,renderLeaf:o=x=>Ye.createElement(I3t,Gke({},x))}=e,s=cd(),l=f.useRef(null),c=f.useRef(null),[d,h]=f.useState(!1),p=f.useRef(null),m=f.useCallback(x=>{if(T3t(l,x==null),x==null){var w;k8.delete(s),(w=t.onPlaceholderResize)===null||w===void 0||w.call(t,null)}else{if(k8.set(s,x),!l.current){var C=window.ResizeObserver||Wxe;l.current=new C(()=>{var S;(S=t.onPlaceholderResize)===null||S===void 0||S.call(t,x)})}l.current.observe(x),c.current=x}},[c,t,s]),g=Ye.createElement(E3t,{isLast:n,leaf:t,parent:i,text:r}),v=!!t[wy];if(f.useEffect(()=>(v?p.current||(p.current=setTimeout(()=>{h(!0),p.current=null},300)):(gre(p),h(!1)),()=>gre(p)),[v,h]),v&&d){var b={children:t.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:jw?"inherit":void 0},contentEditable:!1,ref:m}};g=Ye.createElement(Ye.Fragment,null,a(b),g)}var y={"data-slate-leaf":!0};return o({attributes:y,children:g,leaf:t,text:r})},j3t=Ye.memo(A3t,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&$e.equals(t.leaf,e.leaf)&&t.leaf[wy]===e.leaf[wy]),I3t=e=>{var{attributes:t,children:n}=e;return Ye.createElement("span",Gke({},t),n)},D3t=e=>{for(var{decorations:t,isLast:n,parent:r,renderPlaceholder:i,renderLeaf:a,text:o}=e,s=cd(),l=f.useRef(null),c=$e.decorations(o,t),d=we.findKey(s,o),h=[],p=0;p<c.length;p++){var m=c[p];h.push(Ye.createElement(j3t,{isLast:n&&p===c.length-1,key:"".concat(d.id,"-").concat(p),renderPlaceholder:i,leaf:m,text:o,parent:r,renderLeaf:a}))}var g=f.useCallback(v=>{var b=dO.get(s);v?(b==null||b.set(d,v),yg.set(o,v),jS.set(v,o)):(b==null||b.delete(d),yg.delete(o),l.current&&jS.delete(l.current)),l.current=v},[l,s,d,o]);return Ye.createElement("span",{"data-slate-node":"text",ref:g},h)},Yke=Ye.memo(D3t,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&S3t(t.decorations,e.decorations));function vre(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vre(Object(n),!0).forEach(function(r){Kl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vre(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var $3t=e=>{var{decorations:t,element:n,renderElement:r=x=>Ye.createElement(M3t,$8({},x)),renderPlaceholder:i,renderLeaf:a,selection:o}=e,s=cd(),l=P3t(),c=s.isInline(n),d=we.findKey(s,n),h=f.useCallback(x=>{var w=dO.get(s);x?(w==null||w.set(d,x),yg.set(n,x),jS.set(x,n)):(w==null||w.delete(d),yg.delete(n))},[s,d,n]),p=Xke({decorations:t,node:n,renderElement:r,renderPlaceholder:i,renderLeaf:a,selection:o}),m={"data-slate-node":"element",ref:h};if(c&&(m["data-slate-inline"]=!0),!c&&B.hasInlines(s,n)){var g=je.string(n),v=Ike(g);v==="rtl"&&(m.dir=v)}if(B.isVoid(s,n)){m["data-slate-void"]=!0,!l&&c&&(m.contentEditable=!1);var b=c?"span":"div",[[y]]=je.texts(n);p=Ye.createElement(b,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},Ye.createElement(Yke,{renderPlaceholder:i,decorations:[],isLast:!1,parent:n,text:y})),sW.set(y,0),lW.set(y,n)}return r({attributes:m,children:p,element:n})},O3t=Ye.memo($3t,(e,t)=>e.element===t.element&&e.renderElement===t.renderElement&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&C3t(e.decorations,t.decorations)&&(e.selection===t.selection||!!e.selection&&!!t.selection&&pe.equals(e.selection,t.selection))),M3t=e=>{var{attributes:t,children:n,element:r}=e,i=cd(),a=i.isInline(r)?"span":"div";return Ye.createElement(a,$8($8({},t),{},{style:{position:"relative"}}),n)},qke=f.createContext(()=>[]),R3t=()=>f.useContext(qke),Kke=f.createContext(!1),Zke=()=>f.useContext(Kke),Xke=e=>{for(var{decorations:t,node:n,renderElement:r,renderPlaceholder:i,renderLeaf:a,selection:o}=e,s=R3t(),l=cd(),c=we.findPath(l,n),d=[],h=Ue.isElement(n)&&!l.isInline(n)&&B.hasInlines(l,n),p=0;p<n.children.length;p++){var m=c.concat(p),g=n.children[p],v=we.findKey(l,g),b=B.range(l,m),y=o&&pe.intersection(b,o),x=s([g,m]);for(var w of t){var C=pe.intersection(w,b);C&&x.push(C)}Ue.isElement(g)?d.push(Ye.createElement(Kke.Provider,{key:"provider-".concat(v.id),value:!!y},Ye.createElement(O3t,{decorations:x,element:g,key:v.id,renderElement:r,renderPlaceholder:i,renderLeaf:a,selection:y}))):d.push(Ye.createElement(Yke,{decorations:x,key:v.id,isLast:h&&p===n.children.length-1,parent:n,renderPlaceholder:i,renderLeaf:a,text:g})),sW.set(g,p),lW.set(g,n)}return d},Jke=f.createContext(!1),P3t=()=>f.useContext(Jke),Qke=f.createContext(null),fO=()=>{var e=f.useContext(Qke);if(!e)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor:t}=e;return t};function F3t(){var e=cd(),t=f.useRef(!1),n=f.useRef(0),r=f.useCallback(()=>{if(!t.current){t.current=!0;var i=we.getWindow(e);i.cancelAnimationFrame(n.current),n.current=i.requestAnimationFrame(()=>{t.current=!1})}},[e]);return f.useEffect(()=>()=>cancelAnimationFrame(n.current),[]),{receivedUserInput:t,onUserInput:r}}var N3t=3,L3t={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},B3t={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},V3t={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},ri=e=>{var t=L3t[e],n=B3t[e],r=V3t[e],i=t&&u3(t),a=n&&u3(n),o=r&&u3(r);return s=>!!(i&&i(s)||lre&&a&&a(s)||!lre&&o&&o(s))},li={isBold:ri("bold"),isCompose:ri("compose"),isMoveBackward:ri("moveBackward"),isMoveForward:ri("moveForward"),isDeleteBackward:ri("deleteBackward"),isDeleteForward:ri("deleteForward"),isDeleteLineBackward:ri("deleteLineBackward"),isDeleteLineForward:ri("deleteLineForward"),isDeleteWordBackward:ri("deleteWordBackward"),isDeleteWordForward:ri("deleteWordForward"),isExtendBackward:ri("extendBackward"),isExtendForward:ri("extendForward"),isExtendLineBackward:ri("extendLineBackward"),isExtendLineForward:ri("extendLineForward"),isItalic:ri("italic"),isMoveLineBackward:ri("moveLineBackward"),isMoveLineForward:ri("moveLineForward"),isMoveWordBackward:ri("moveWordBackward"),isMoveWordForward:ri("moveWordForward"),isRedo:ri("redo"),isSoftBreak:ri("insertSoftBreak"),isSplitBlock:ri("splitBlock"),isTransposeCharacter:ri("transposeCharacter"),isUndo:ri("undo")},z3t=(e,t)=>{var n=[],r=()=>{n=[]},i=o=>{if(t.current){var s=o.filter(l=>dW(e,l,o));n.push(...s)}};function a(){n.length>0&&(n.reverse().forEach(o=>{o.type!=="characterData"&&(o.removedNodes.forEach(s=>{o.target.insertBefore(s,o.nextSibling)}),o.addedNodes.forEach(s=>{o.target.removeChild(s)}))}),r())}return{registerMutations:i,restoreDOM:a,clear:r}},U3t={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class e5e extends f.Component{constructor(){super(...arguments),Kl(this,"context",null),Kl(this,"manager",null),Kl(this,"mutationObserver",null)}observe(){var t,{node:n}=this.props;if(!n.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");(t=this.mutationObserver)===null||t===void 0||t.observe(n.current,U3t)}componentDidMount(){var{receivedUserInput:t}=this.props,n=this.context;this.manager=z3t(n,t),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var t,n,r,i=(t=this.mutationObserver)===null||t===void 0?void 0:t.takeRecords();if(i!=null&&i.length){var a;(a=this.manager)===null||a===void 0||a.registerMutations(i)}return(n=this.mutationObserver)===null||n===void 0||n.disconnect(),(r=this.manager)===null||r===void 0||r.restoreDOM(),null}componentDidUpdate(){var t;(t=this.manager)===null||t===void 0||t.clear(),this.observe()}componentWillUnmount(){var t;(t=this.mutationObserver)===null||t===void 0||t.disconnect()}render(){return this.props.children}}Kl(e5e,"contextType",oW);var H3t=xs?e5e:e=>{var{children:t}=e;return Ye.createElement(Ye.Fragment,null,t)},W3t=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],G3t=["text"];function yre(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yre(Object(n),!0).forEach(function(r){Kl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yre(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Y3t=e=>Ye.createElement(Ye.Fragment,null,Xke(e)),q3t=e=>{var t=f.useCallback(z=>Ye.createElement(K3t,dc({},z)),[]),{autoFocus:n,decorate:r=Z3t,onDOMBeforeInput:i,placeholder:a,readOnly:o=!1,renderElement:s,renderLeaf:l,renderPlaceholder:c=t,scrollSelectionIntoView:d=X3t,style:h={},as:p="div",disableDefaultStyles:m=!1}=e,g=xy(e,W3t),v=fO(),[b,y]=f.useState(!1),x=f.useRef(null),w=f.useRef([]),[C,S]=f.useState(),{onUserInput:_,receivedUserInput:E}=F3t(),[,k]=f.useReducer(z=>z+1,0);Nke.set(v,k),T8.set(v,o);var T=f.useMemo(()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}),[]);f.useEffect(()=>{x.current&&n&&x.current.focus()},[n]);var j=f.useRef(),I=f.useMemo(()=>xb(()=>{var z=j.current;if((xs||!we.isComposing(v))&&(!T.isUpdatingSelection||z!=null&&z.isFlushing())&&!T.isDraggingInternally){var q=we.findDocumentOrShadowRoot(v),{activeElement:Z}=q,K=we.toDOMNode(v,v),J=q.getSelection();if(Z===K?(T.latestElement=Z,qh.set(v,!0)):qh.delete(v),!J)return ue.deselect(v);var{anchorNode:Q,focusNode:re}=J,ae=we.hasEditableTarget(v,Q)||we.isTargetInsideNonReadonlyVoid(v,Q),ne=we.hasEditableTarget(v,re)||we.isTargetInsideNonReadonlyVoid(v,re);if(ae&&ne){var se=we.toSlateRange(v,J,{exactMatch:!1,suppressThrow:!0});se&&(!we.isComposing(v)&&!(z!=null&&z.hasPendingChanges())&&!(z!=null&&z.isFlushing())?ue.select(v,se):z==null||z.handleUserSelect(se))}o&&(!ae||!ne)&&ue.deselect(v)}},100),[v,o,T]),A=f.useMemo(()=>m0(I,0),[I]);j.current=y3t({node:x,onDOMSelectionChange:I,scheduleOnDOMSelectionChange:A}),IS(()=>{var z,q,Z;x.current&&(Z=cW(x.current))?(Fke.set(v,Z),tT.set(v,x.current),yg.set(v,x.current),jS.set(x.current,v)):yg.delete(v);var{selection:K}=v,J=we.findDocumentOrShadowRoot(v),Q=J.getSelection();if(!(!Q||!we.isFocused(v)||(z=j.current)!==null&&z!==void 0&&z.hasPendingAction())){var re=le=>{var oe=Q.type!=="None";if(!(!K&&!oe)){var ge=Q.focusNode,_e;if(d1&&Q.rangeCount>1){var Me=Q.getRangeAt(0),me=Q.getRangeAt(Q.rangeCount-1);Me.startContainer===ge?_e=me.endContainer:_e=Me.startContainer}else _e=Q.anchorNode;var ye=tT.get(v),De=!1;if(ye.contains(_e)&&ye.contains(ge)&&(De=!0),oe&&De&&K&&!le){var be=we.toSlateRange(v,Q,{exactMatch:!0,suppressThrow:!0});if(be&&pe.equals(be,K)){var he;if(!T.hasMarkPlaceholder||(he=_e)!==null&&he!==void 0&&(he=he.parentElement)!==null&&he!==void 0&&he.hasAttribute("data-slate-mark-placeholder"))return}}if(K&&!we.hasRange(v,K)){v.selection=we.toSlateRange(v,Q,{exactMatch:!1,suppressThrow:!0});return}T.isUpdatingSelection=!0;var ve=K&&we.toDOMRange(v,K);return ve?(we.isComposing(v)&&!xs?Q.collapseToEnd():pe.isBackward(K)?Q.setBaseAndExtent(ve.endContainer,ve.endOffset,ve.startContainer,ve.startOffset):Q.setBaseAndExtent(ve.startContainer,ve.startOffset,ve.endContainer,ve.endOffset),d(v,ve)):Q.removeAllRanges(),ve}};Q.rangeCount<=1&&re();var ae=((q=j.current)===null||q===void 0?void 0:q.isFlushing())==="action";if(!xs||!ae){setTimeout(()=>{T.isUpdatingSelection=!1});return}var ne=null,se=requestAnimationFrame(()=>{if(ae){var le=oe=>{try{var ge=we.toDOMNode(v,v);ge.focus(),re(oe)}catch{}};le(),ne=setTimeout(()=>{le(!0),T.isUpdatingSelection=!1})}});return()=>{cancelAnimationFrame(se),ne&&clearTimeout(ne)}}});var $=f.useCallback(z=>{if(_(),!o&&we.hasEditableTarget(v,z.target)&&!J3t(z,i)){var q;if(j.current)return j.current.handleDOMBeforeInput(z);A.flush(),I.flush();var{selection:Z}=v,{inputType:K}=z,J=z.dataTransfer||z.data||void 0,Q=K==="insertCompositionText"||K==="deleteCompositionText";if(Q&&we.isComposing(v))return;var re=!1;if(K==="insertText"&&Z&&pe.isCollapsed(Z)&&z.data&&z.data.length===1&&/[a-z ]/i.test(z.data)&&Z.anchor.offset!==0){var ae,ne;re=!0,v.marks&&(re=!1);var{anchor:se}=Z,[le,oe]=we.toDOMPoint(v,se),ge=(ae=le.parentElement)===null||ae===void 0?void 0:ae.closest("a"),_e=we.getWindow(v);if(re&&ge&&we.hasDOMNode(v,ge)){var Me,me=_e==null?void 0:_e.document.createTreeWalker(ge,NodeFilter.SHOW_TEXT).lastChild();me===le&&((Me=me.textContent)===null||Me===void 0?void 0:Me.length)===oe&&(re=!1)}if(re&&le.parentElement&&(_e==null||(ne=_e.getComputedStyle(le.parentElement))===null||ne===void 0?void 0:ne.whiteSpace)==="pre"){var ye=B.above(v,{at:se.path,match:Te=>Ue.isElement(Te)&&B.isBlock(v,Te)});ye&&je.string(ye[0]).includes("	")&&(re=!1)}}if(!K.startsWith("delete")||K.startsWith("deleteBy")){var[De]=z.getTargetRanges();if(De){var be=we.toSlateRange(v,De,{exactMatch:!1,suppressThrow:!1});if(!Z||!pe.equals(Z,be)){re=!1;var he=!Q&&v.selection&&B.rangeRef(v,v.selection);ue.select(v,be),he&&wC.set(v,he)}}}if(Q)return;if(re||z.preventDefault(),Z&&pe.isExpanded(Z)&&K.startsWith("delete")){var ve=K.endsWith("Backward")?"backward":"forward";B.deleteFragment(v,{direction:ve});return}switch(K){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{B.deleteFragment(v);break}case"deleteContent":case"deleteContentForward":{B.deleteForward(v);break}case"deleteContentBackward":{B.deleteBackward(v);break}case"deleteEntireSoftLine":{B.deleteBackward(v,{unit:"line"}),B.deleteForward(v,{unit:"line"});break}case"deleteHardLineBackward":{B.deleteBackward(v,{unit:"block"});break}case"deleteSoftLineBackward":{B.deleteBackward(v,{unit:"line"});break}case"deleteHardLineForward":{B.deleteForward(v,{unit:"block"});break}case"deleteSoftLineForward":{B.deleteForward(v,{unit:"line"});break}case"deleteWordBackward":{B.deleteBackward(v,{unit:"word"});break}case"deleteWordForward":{B.deleteForward(v,{unit:"word"});break}case"insertLineBreak":B.insertSoftBreak(v);break;case"insertParagraph":{B.insertBreak(v);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{K==="insertFromComposition"&&we.isComposing(v)&&(y(!1),Jm.set(v,!1)),(J==null?void 0:J.constructor.name)==="DataTransfer"?we.insertData(v,J):typeof J=="string"&&(re?w.current.push(()=>B.insertText(v,J)):B.insertText(v,J));break}}var Ce=(q=wC.get(v))===null||q===void 0?void 0:q.unref();wC.delete(v),Ce&&(!v.selection||!pe.equals(v.selection,Ce))&&ue.select(v,Ce)}},[v,I,_,i,o,A]),D=f.useCallback(z=>{z==null?(I.cancel(),A.cancel(),tT.delete(v),yg.delete(v),x.current&&lh&&x.current.removeEventListener("beforeinput",$)):lh&&z.addEventListener("beforeinput",$),x.current=z},[I,A,v,$]);IS(()=>{var z=we.getWindow(v);return z.document.addEventListener("selectionchange",A),()=>{z.document.removeEventListener("selectionchange",A)}},[A]);var M=r([v,[]]),O=a&&v.children.length===1&&Array.from(je.texts(v)).length===1&&je.string(v)===""&&!b,F=f.useCallback(z=>{if(z&&O){var q;S((q=z.getBoundingClientRect())===null||q===void 0?void 0:q.height)}else S(void 0)},[O]);if(O){var P=B.start(v,[]);M.push({[wy]:!0,placeholder:a,onPlaceholderResize:F,anchor:P,focus:P})}var{marks:V}=v;if(T.hasMarkPlaceholder=!1,v.selection&&pe.isCollapsed(v.selection)&&V){var{anchor:H}=v.selection,W=je.leaf(v,H.path),G=xy(W,G3t);if(!$e.equals(W,V,{loose:!0})){T.hasMarkPlaceholder=!0;var X=Object.fromEntries(Object.keys(G).map(z=>[z,null]));M.push(dc(dc(dc({[Lke]:!0},X),V),{},{anchor:H,focus:H}))}}return f.useEffect(()=>{setTimeout(()=>{var{selection:z}=v;if(z){var{anchor:q}=z,Z=je.leaf(v,q.path);if(V&&!$e.equals(Z,V,{loose:!0})){Pu.set(v,V);return}}Pu.delete(v)})}),Ye.createElement(Jke.Provider,{value:o},Ye.createElement(qke.Provider,{value:r},Ye.createElement(H3t,{node:x,receivedUserInput:E},Ye.createElement(p,dc(dc({role:o?void 0:"textbox","aria-multiline":o?void 0:!0},g),{},{spellCheck:lh||!eT?g.spellCheck:!1,autoCorrect:lh||!eT?g.autoCorrect:"false",autoCapitalize:lh||!eT?g.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!o,zindex:-1,suppressContentEditableWarning:!0,ref:D,style:dc(dc({},m?{}:dc({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},C?{minHeight:C}:{})),h),onBeforeInput:f.useCallback(z=>{if(!lh&&!o&&!Fo(z,g.onBeforeInput)&&we.hasSelectableTarget(v,z.target)&&(z.preventDefault(),!we.isComposing(v))){var q=z.data;B.insertText(v,q)}},[g.onBeforeInput,v,o]),onInput:f.useCallback(z=>{if(!Fo(z,g.onInput)){if(j.current){j.current.handleInput();return}for(var q of w.current)q();w.current=[]}},[g.onInput]),onBlur:f.useCallback(z=>{if(!(o||T.isUpdatingSelection||!we.hasSelectableTarget(v,z.target)||Fo(z,g.onBlur))){var q=we.findDocumentOrShadowRoot(v);if(T.latestElement!==q.activeElement){var{relatedTarget:Z}=z,K=we.toDOMNode(v,v);if(Z!==K&&!(Fl(Z)&&Z.hasAttribute("data-slate-spacer"))){if(Z!=null&&Dp(Z)&&we.hasDOMNode(v,Z)){var J=we.toSlateNode(v,Z);if(Ue.isElement(J)&&!v.isVoid(J))return}if(jw){var Q=q.getSelection();Q==null||Q.removeAllRanges()}qh.delete(v)}}}},[o,T.isUpdatingSelection,T.latestElement,v,g.onBlur]),onClick:f.useCallback(z=>{if(we.hasTarget(v,z.target)&&!Fo(z,g.onClick)&&Dp(z.target)){var q=we.toSlateNode(v,z.target),Z=we.findPath(v,q);if(!B.hasPath(v,Z)||je.get(v,Z)!==q)return;if(z.detail===N3t&&Z.length>=1){var K=Z;if(!(Ue.isElement(q)&&B.isBlock(v,q))){var J,Q=B.above(v,{match:ge=>Ue.isElement(ge)&&B.isBlock(v,ge),at:Z});K=(J=Q==null?void 0:Q[1])!==null&&J!==void 0?J:Z.slice(0,1)}var re=B.range(v,K);ue.select(v,re);return}if(o)return;var ae=B.start(v,Z),ne=B.end(v,Z),se=B.void(v,{at:ae}),le=B.void(v,{at:ne});if(se&&le&&ie.equals(se[1],le[1])){var oe=B.range(v,ae);ue.select(v,oe)}}},[v,g.onClick,o]),onCompositionEnd:f.useCallback(z=>{if(we.hasSelectableTarget(v,z.target)){var q;if(we.isComposing(v)&&(y(!1),Jm.set(v,!1)),(q=j.current)===null||q===void 0||q.handleCompositionEnd(z),Fo(z,g.onCompositionEnd)||xs)return;if(!jw&&!UPt&&!LPt&&!WPt&&!HPt&&z.data){var Z=Pu.get(v);Pu.delete(v),Z!==void 0&&(tf.set(v,v.marks),v.marks=Z),B.insertText(v,z.data);var K=tf.get(v);tf.delete(v),K!==void 0&&(v.marks=K)}}},[g.onCompositionEnd,v]),onCompositionUpdate:f.useCallback(z=>{we.hasSelectableTarget(v,z.target)&&!Fo(z,g.onCompositionUpdate)&&(we.isComposing(v)||(y(!0),Jm.set(v,!0)))},[g.onCompositionUpdate,v]),onCompositionStart:f.useCallback(z=>{if(we.hasSelectableTarget(v,z.target)){var q;if((q=j.current)===null||q===void 0||q.handleCompositionStart(z),Fo(z,g.onCompositionStart)||xs)return;y(!0);var{selection:Z}=v;if(Z){if(pe.isExpanded(Z)){B.deleteFragment(v);return}var K=B.above(v,{match:re=>Ue.isElement(re)&&B.isInline(v,re),mode:"highest"});if(K){var[,J]=K;if(B.isEnd(v,Z.anchor,J)){var Q=B.after(v,J);ue.setSelection(v,{anchor:Q,focus:Q})}}}}},[g.onCompositionStart,v]),onCopy:f.useCallback(z=>{we.hasSelectableTarget(v,z.target)&&!Fo(z,g.onCopy)&&!bre(z)&&(z.preventDefault(),we.setFragmentData(v,z.clipboardData,"copy"))},[g.onCopy,v]),onCut:f.useCallback(z=>{if(!o&&we.hasSelectableTarget(v,z.target)&&!Fo(z,g.onCut)&&!bre(z)){z.preventDefault(),we.setFragmentData(v,z.clipboardData,"cut");var{selection:q}=v;if(q)if(pe.isExpanded(q))B.deleteFragment(v);else{var Z=je.parent(v,q.anchor.path);B.isVoid(v,Z)&&ue.delete(v)}}},[o,v,g.onCut]),onDragOver:f.useCallback(z=>{if(we.hasTarget(v,z.target)&&!Fo(z,g.onDragOver)){var q=we.toSlateNode(v,z.target);Ue.isElement(q)&&B.isVoid(v,q)&&z.preventDefault()}},[g.onDragOver,v]),onDragStart:f.useCallback(z=>{if(!o&&we.hasTarget(v,z.target)&&!Fo(z,g.onDragStart)){var q=we.toSlateNode(v,z.target),Z=we.findPath(v,q),K=Ue.isElement(q)&&B.isVoid(v,q)||B.void(v,{at:Z,voids:!0});if(K){var J=B.range(v,Z);ue.select(v,J)}T.isDraggingInternally=!0,we.setFragmentData(v,z.dataTransfer,"drag")}},[o,v,g.onDragStart,T]),onDrop:f.useCallback(z=>{if(!o&&we.hasTarget(v,z.target)&&!Fo(z,g.onDrop)){z.preventDefault();var q=v.selection,Z=we.findEventRange(v,z),K=z.dataTransfer;ue.select(v,Z),T.isDraggingInternally&&q&&!pe.equals(q,Z)&&!B.void(v,{at:Z,voids:!0})&&ue.delete(v,{at:q}),we.insertData(v,K),we.isFocused(v)||we.focus(v)}T.isDraggingInternally=!1},[o,v,g.onDrop,T]),onDragEnd:f.useCallback(z=>{!o&&T.isDraggingInternally&&g.onDragEnd&&we.hasTarget(v,z.target)&&g.onDragEnd(z),T.isDraggingInternally=!1},[o,T,g,v]),onFocus:f.useCallback(z=>{if(!o&&!T.isUpdatingSelection&&we.hasEditableTarget(v,z.target)&&!Fo(z,g.onFocus)){var q=we.toDOMNode(v,v),Z=we.findDocumentOrShadowRoot(v);if(T.latestElement=Z.activeElement,d1&&z.target!==q){q.focus();return}qh.set(v,!0)}},[o,T,v,g.onFocus]),onKeyDown:f.useCallback(z=>{if(!o&&we.hasEditableTarget(v,z.target)){var q;(q=j.current)===null||q===void 0||q.handleKeyDown(z);var{nativeEvent:Z}=z;if(we.isComposing(v)&&Z.isComposing===!1&&(Jm.set(v,!1),y(!1)),Fo(z,g.onKeyDown)||we.isComposing(v))return;var{selection:K}=v,J=v.children[K!==null?K.focus.path[0]:0],Q=Ike(je.string(J))==="rtl";if(li.isRedo(Z)){z.preventDefault();var re=v;typeof re.redo=="function"&&re.redo();return}if(li.isUndo(Z)){z.preventDefault();var ae=v;typeof ae.undo=="function"&&ae.undo();return}if(li.isMoveLineBackward(Z)){z.preventDefault(),ue.move(v,{unit:"line",reverse:!0});return}if(li.isMoveLineForward(Z)){z.preventDefault(),ue.move(v,{unit:"line"});return}if(li.isExtendLineBackward(Z)){z.preventDefault(),ue.move(v,{unit:"line",edge:"focus",reverse:!0});return}if(li.isExtendLineForward(Z)){z.preventDefault(),ue.move(v,{unit:"line",edge:"focus"});return}if(li.isMoveBackward(Z)){z.preventDefault(),K&&pe.isCollapsed(K)?ue.move(v,{reverse:!Q}):ue.collapse(v,{edge:"start"});return}if(li.isMoveForward(Z)){z.preventDefault(),K&&pe.isCollapsed(K)?ue.move(v,{reverse:Q}):ue.collapse(v,{edge:"end"});return}if(li.isMoveWordBackward(Z)){z.preventDefault(),K&&pe.isExpanded(K)&&ue.collapse(v,{edge:"focus"}),ue.move(v,{unit:"word",reverse:!Q});return}if(li.isMoveWordForward(Z)){z.preventDefault(),K&&pe.isExpanded(K)&&ue.collapse(v,{edge:"focus"}),ue.move(v,{unit:"word",reverse:Q});return}if(lh){if((Pke||jw)&&K&&(li.isDeleteBackward(Z)||li.isDeleteForward(Z))&&pe.isCollapsed(K)){var ne=je.parent(v,K.anchor.path);if(Ue.isElement(ne)&&B.isVoid(v,ne)&&(B.isInline(v,ne)||B.isBlock(v,ne))){z.preventDefault(),B.deleteBackward(v,{unit:"block"});return}}}else{if(li.isBold(Z)||li.isItalic(Z)||li.isTransposeCharacter(Z)){z.preventDefault();return}if(li.isSoftBreak(Z)){z.preventDefault(),B.insertSoftBreak(v);return}if(li.isSplitBlock(Z)){z.preventDefault(),B.insertBreak(v);return}if(li.isDeleteBackward(Z)){z.preventDefault(),K&&pe.isExpanded(K)?B.deleteFragment(v,{direction:"backward"}):B.deleteBackward(v);return}if(li.isDeleteForward(Z)){z.preventDefault(),K&&pe.isExpanded(K)?B.deleteFragment(v,{direction:"forward"}):B.deleteForward(v);return}if(li.isDeleteLineBackward(Z)){z.preventDefault(),K&&pe.isExpanded(K)?B.deleteFragment(v,{direction:"backward"}):B.deleteBackward(v,{unit:"line"});return}if(li.isDeleteLineForward(Z)){z.preventDefault(),K&&pe.isExpanded(K)?B.deleteFragment(v,{direction:"forward"}):B.deleteForward(v,{unit:"line"});return}if(li.isDeleteWordBackward(Z)){z.preventDefault(),K&&pe.isExpanded(K)?B.deleteFragment(v,{direction:"backward"}):B.deleteBackward(v,{unit:"word"});return}if(li.isDeleteWordForward(Z)){z.preventDefault(),K&&pe.isExpanded(K)?B.deleteFragment(v,{direction:"forward"}):B.deleteForward(v,{unit:"word"});return}}}},[o,v,g.onKeyDown]),onPaste:f.useCallback(z=>{!o&&we.hasEditableTarget(v,z.target)&&!Fo(z,g.onPaste)&&(!lh||qPt(z.nativeEvent)||jw)&&(z.preventDefault(),we.insertData(v,z.clipboardData))},[o,v,g.onPaste])}),Ye.createElement(Y3t,{decorations:M,node:v,renderElement:s,renderPlaceholder:c,renderLeaf:l,selection:v.selection})))))},K3t=e=>{var{attributes:t,children:n}=e;return Ye.createElement("span",dc({},t),n,xs&&Ye.createElement("br",null))},Z3t=()=>[],X3t=(e,t)=>{if(t.getBoundingClientRect&&(!e.selection||e.selection&&pe.isCollapsed(e.selection))){var n=t.startContainer.parentElement;n.getBoundingClientRect=t.getBoundingClientRect.bind(t),Gg(n,{scrollMode:"if-needed"}),delete n.getBoundingClientRect}},Fo=(e,t)=>{if(!t)return!1;var n=t(e);return n??(e.isDefaultPrevented()||e.isPropagationStopped())},bre=e=>Dp(e.target)&&(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement),J3t=(e,t)=>{if(!t)return!1;var n=t(e);return n??e.defaultPrevented},Q3t=f.createContext(!1),eFt=f.createContext({});function tFt(e){var t=f.useRef([]).current,n=f.useRef({editor:e}).current,r=f.useCallback(a=>{n.editor=a,t.forEach(o=>o(a))},[t,n]),i=f.useMemo(()=>({getSlate:()=>n.editor,addEventListener:a=>(t.push(a),()=>{t.splice(t.indexOf(a),1)})}),[t,n]);return{selectorContext:i,onChange:r}}var nFt=["editor","children","onChange","onSelectionChange","onValueChange","initialValue"],rFt=e=>{var{editor:t,children:n,onChange:r,onSelectionChange:i,onValueChange:a,initialValue:o}=e,s=xy(e,nFt),[l,c]=Ye.useState(()=>{if(!je.isNodeList(o))throw new Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat(Da.stringify(o)));if(!B.isEditor(t))throw new Error("[Slate] editor is invalid! You passed: ".concat(Da.stringify(t)));return t.children=o,Object.assign(t,s),{v:0,editor:t}}),{selectorContext:d,onChange:h}=tFt(t),p=f.useCallback(v=>{var b;switch(r&&r(t.children),v==null||(b=v.operation)===null||b===void 0?void 0:b.type){case"set_selection":i==null||i(t.selection);break;default:a==null||a(t.children)}c(y=>({v:y.v+1,editor:t})),h(t)},[t,h,r,i,a]);f.useEffect(()=>(A8.set(t,p),()=>{A8.set(t,()=>{})}),[t,p]);var[m,g]=f.useState(we.isFocused(t));return f.useEffect(()=>{g(we.isFocused(t))},[t]),IS(()=>{var v=()=>g(we.isFocused(t));return Rke>=17?(document.addEventListener("focusin",v),document.addEventListener("focusout",v),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",v)}):(document.addEventListener("focus",v,!0),document.addEventListener("blur",v,!0),()=>{document.removeEventListener("focus",v,!0),document.removeEventListener("blur",v,!0)})},[]),Ye.createElement(eFt.Provider,{value:d},Ye.createElement(Qke.Provider,{value:l},Ye.createElement(oW.Provider,{value:l.editor},Ye.createElement(Q3t.Provider,{value:m},n))))},xre=(e,t)=>{var n=(t.top+t.bottom)/2;return e.top<=n&&e.bottom>=n},wre=(e,t,n)=>{var r=we.toDOMRange(e,t).getBoundingClientRect(),i=we.toDOMRange(e,n).getBoundingClientRect();return xre(r,i)&&xre(i,r)},iFt=(e,t)=>{var n=B.range(e,pe.end(t)),r=Array.from(B.positions(e,{at:t})),i=0,a=r.length,o=Math.floor(a/2);if(wre(e,B.range(e,r[i]),n))return B.range(e,r[i],n);if(r.length<2)return B.range(e,r[r.length-1],n);for(;o!==r.length&&o!==i;)wre(e,B.range(e,r[o]),n)?a=o:i=o,o=Math.floor((i+a)/2);return B.range(e,r[a],n)};function Cre(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sre(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cre(Object(n),!0).forEach(function(r){Kl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cre(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var aFt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x-slate-fragment",r=t,{apply:i,onChange:a,deleteBackward:o,addMark:s,removeMark:l}=r;return dO.set(r,new WeakMap),r.addMark=(c,d)=>{var h,p;(h=uW.get(r))===null||h===void 0||h(),!Pu.get(r)&&(p=hs.get(r))!==null&&p!==void 0&&p.length&&Pu.set(r,null),tf.delete(r),s(c,d)},r.removeMark=c=>{var d;!Pu.get(r)&&(d=hs.get(r))!==null&&d!==void 0&&d.length&&Pu.set(r,null),tf.delete(r),l(c)},r.deleteBackward=c=>{if(c!=="line")return o(c);if(r.selection&&pe.isCollapsed(r.selection)){var d=B.above(r,{match:g=>Ue.isElement(g)&&B.isBlock(r,g),at:r.selection});if(d){var[,h]=d,p=B.range(r,h,r.selection.anchor),m=iFt(r,p);pe.isCollapsed(m)||ue.delete(r,{at:m})}}},r.apply=c=>{var d=[],h=[],p=hs.get(r);if(p!=null&&p.length){var m=p.map(D=>s3t(D,c)).filter(Boolean);hs.set(r,m)}var g=Ih.get(r);g&&Ih.set(r,cre(r,g,c));var v=jh.get(r);if(v!=null&&v.at){var b=zt.isPoint(v==null?void 0:v.at)?D8(r,v.at,c):cre(r,v.at,c);jh.set(r,b?Sre(Sre({},v),{},{at:b}):null)}switch(c.type){case"insert_text":case"remove_text":case"set_node":case"split_node":{d.push(...hv(r,c.path));break}case"set_selection":{var y;(y=wC.get(r))===null||y===void 0||y.unref(),wC.delete(r);break}case"insert_node":case"remove_node":{d.push(...hv(r,ie.parent(c.path)));break}case"merge_node":{var x=ie.previous(c.path);d.push(...hv(r,x));break}case"move_node":{var w=ie.common(ie.parent(c.path),ie.parent(c.newPath));d.push(...hv(r,w));var C;ie.isBefore(c.path,c.newPath)?(d.push(...hv(r,ie.parent(c.path))),C=c.newPath):(d.push(...hv(r,ie.parent(c.newPath))),C=c.path);var S=je.get(t,ie.parent(C)),_=we.findKey(r,S),E=B.pathRef(r,ie.parent(C));h.push([E,_]);break}}i(c);for(var[k,T]of d){var[j]=B.node(r,k);Sj.set(j,T)}for(var[I,A]of h)if(I.current){var[$]=B.node(r,I.current);Sj.set($,A)}},r.setFragmentData=c=>{var{selection:d}=r;if(d){var[h,p]=pe.edges(d),m=B.void(r,{at:h.path}),g=B.void(r,{at:p.path});if(!(pe.isCollapsed(d)&&!m)){var v=we.toDOMRange(r,d),b=v.cloneContents(),y=b.childNodes[0];if(b.childNodes.forEach(j=>{j.textContent&&j.textContent.trim()!==""&&(y=j)}),g){var[x]=g,w=v.cloneRange(),C=we.toDOMNode(r,x);w.setEndAfter(C),b=w.cloneContents()}if(m&&(y=b.querySelector("[data-slate-spacer]")),Array.from(b.querySelectorAll("[data-slate-zero-width]")).forEach(j=>{var I=j.getAttribute("data-slate-zero-width")==="n";j.textContent=I?`
`:""}),Bke(y)){var S=y.ownerDocument.createElement("span");S.style.whiteSpace="pre",S.appendChild(y),b.appendChild(S),y=S}var _=r.getFragment(),E=JSON.stringify(_),k=window.btoa(encodeURIComponent(E));y.setAttribute("data-slate-fragment",k),c.setData("application/".concat(n),k);var T=b.ownerDocument.createElement("div");return T.appendChild(b),T.setAttribute("hidden","true"),b.ownerDocument.body.appendChild(T),c.setData("text/html",T.innerHTML),c.setData("text/plain",zke(T)),b.ownerDocument.body.removeChild(T),c}}},r.insertData=c=>{r.insertFragmentData(c)||r.insertTextData(c)},r.insertFragmentData=c=>{var d=c.getData("application/".concat(n))||QPt(c);if(d){var h=decodeURIComponent(window.atob(d)),p=JSON.parse(h);return r.insertFragment(p),!0}return!1},r.insertTextData=c=>{var d=c.getData("text/plain");if(d){var h=d.split(/\r\n|\r|\n/),p=!1;for(var m of h)p&&ue.splitNodes(r,{always:!0}),r.insertText(m),p=!0;return!0}return!1},r.onChange=c=>{var d=Rke<18?LHe.unstable_batchedUpdates:h=>h();d(()=>{var h=A8.get(r);h&&h(c),a(c)})},r},hv=(e,t)=>{var n=[];for(var[r,i]of B.levels(e,{at:t})){var a=we.findKey(e,r);n.push([i,a])}return n},oFt=mH,sFt=gb,lFt=v$,_re=su,uFt=E0;function cFt(e,t,n,r){if(!_re(e))return e;t=sFt(t,e);for(var i=-1,a=t.length,o=a-1,s=e;s!=null&&++i<a;){var l=uFt(t[i]),c=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(i!=o){var d=s[l];c=r?r(d,l,s):void 0,c===void 0&&(c=_re(d)?d:lFt(t[i+1])?[]:{})}oFt(s,l,c),s=s[l]}return e}var dFt=cFt,fFt=D2,hFt=dFt,pFt=gb;function mFt(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=fFt(e,o);n(s,o)&&hFt(a,pFt(o,e),s)}return a}var t5e=mFt,gFt=t5e,vFt=Ewe;function yFt(e,t){return gFt(e,t,function(n,r){return vFt(e,r)})}var bFt=yFt,xFt=bFt,wFt=wH,CFt=wFt(function(e,t){return e==null?{}:xFt(e,t)}),SFt=CFt;const Ht=Pe(SFt);var _Ft=function(e){return e==null?[]:Array.isArray(e)?e:[e]};const $b=Pe(_Ft);function EFt(e){return e===void 0}var kFt=EFt;const n5e=Pe(kFt);var TFt="Expected a function";function AFt(e){if(typeof e!="function")throw new TypeError(TFt);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var r5e=AFt;const jFt=Pe(r5e);var IFt=id,DFt=Kp,$Ft=t5e,OFt=vH;function MFt(e,t){if(e==null)return{};var n=IFt(OFt(e),function(r){return[r]});return t=DFt(t),$Ft(e,n,function(r,i){return t(r,i[0])})}var RFt=MFt,PFt=Kp,FFt=r5e,NFt=RFt;function LFt(e,t){return NFt(e,FFt(PFt(t)))}var BFt=LFt;const i5e=Pe(BFt);var VFt=Hi;function zFt(){if(!arguments.length)return[];var e=arguments[0];return VFt(e)?e:[e]}var UFt=zFt;const e_=Pe(UFt);var HFt=id,WFt=Kp,GFt=Awe,YFt=Hi;function qFt(e,t){var n=YFt(e)?HFt:GFt;return n(e,WFt(t))}var KFt=qFt,ZFt=fb,XFt=KFt;function JFt(e,t){return ZFt(XFt(e,t),1)}var QFt=JFt;const e4t=Pe(QFt);var t4t=id,n4t=gH,r4t=Hi,i4t=p0,a4t=owe,o4t=E0,s4t=du;function l4t(e){return r4t(e)?t4t(e,o4t):i4t(e)?[e]:n4t(a4t(s4t(e)))}var u4t=l4t;const c4t=Pe(u4t),es=["jsonType","type","name","title","description","options","fieldsets","validation","readOnly","hidden","components","diffComponent","initialValue","deprecated"],Ere=[...es],d3={name:"any",type:null,jsonType:"any"},d4t={get(){return d3},extend(e,t){const n=Object.assign(Ht(d3,Ere),e,{type:d3,of:e.of.map(i=>({name:i.name,type:t(Pa(i,"name"))}))});return r(n);function r(i){return{get(){return i},extend:a=>{if(a.of)throw new Error('Cannot override `of` property of subtypes of "array"');const o=Object.assign({},i,Ht(a,Ere),{type:i});return r(o)}}}}};function $r(e,t,n,r={}){return Object.defineProperty(e,t,{configurable:!0,enumerable:r.enumerable!==!1,get(){const i=n();return Object.defineProperty(e,t,{value:i,writable:!!r.writable,configurable:!1}),i}}),e}const kre=[...es],f3={name:"array",type:null,jsonType:"array",of:[]},f4t={get(){return f3},extend(e,t){const n=Object.assign(Ht(f3,kre),e,{type:f3});return $r(n,"of",()=>e.of.map(i=>t(i))),r(n);function r(i){return{get(){return i},extend:a=>{if(a.of)throw new Error('Cannot override `of` property of subtypes of "array"');const o=Object.assign({},i,Ht(a,kre),{type:i});return r(o)}}}}};function h4t(e){e.options&&e.options.preview&&console.warn(`Heads up! The preview config is no longer defined on "options", but instead on the type/field itself.
Please move {options: {preview: ...}} to {..., preview: ...} on the type/field definition of "${e.name}".
`)}function p4t(e){const t=e.preview||(e.options||{}).preview;t&&"fields"in t&&console.warn(`Heads up! "preview.fields" should be renamed to "preview.select". Please update the preview config for "${e.name}".
`)}function m4t(e){for(const t in e)if(e.hasOwnProperty(t))return!1;return!0}function O8(e,t,n){if(n>t.maxDepth)return"...";if(Array.isArray(e)){if(e.length===0)return"[empty]";const i=Math.max(e.length-t.maxBreadth),a=e.slice(0,t.maxBreadth).map((o,s)=>O8(o,t,n+1)).concat(i>0?`…+${i}`:[]).join(", ");return n===0?a:`[${a}]`}if(typeof e=="object"&&e!==null){const i=Object.keys(e).filter(o=>!t.ignoreKeys.includes(o)&&typeof e[o]<"u");if(m4t(Ht(e,i)))return"{empty}";const a=i.slice(0,t.maxBreadth).map(o=>`${o}: ${O8(e[o],t,n+1)}`).join(", ");return n===0?a:`{${a}}`}const r=String(e);return r===""?'""':r}function g4t(e,t={}){const n={maxDepth:"maxDepth"in t?t.maxDepth:2,maxBreadth:"maxBreadth"in t?t.maxBreadth:2,ignoreKeys:"ignoreKeys"in t?t.ignoreKeys:[]};return O8(e,n,0)}const v4t={maxEntries:2,maxDepth:2,maxBreadth:2,ignoreKeys:["_id","_type","_key","_ref"]};function y4t(e){return t=>({title:g4t(Ht(t,e),v4t)})}function b4t(e){return e.type==="array"&&e.of&&e.of.some(t=>t.type==="block")||!1}const a5e=["title","name","label","heading","header","caption"],x4t=["description",...a5e];function o5e(e,t){return $b(e.to||[]).some(n=>n.type===t)}function Tre(e){return o5e(e,"sanity.imageAsset")}function w4t(e){const t=e.fields||[],n=t.find(Tre);if(n)return n.name;const r=t.find(i=>(i.fields||[]).some(Tre));return r?`${r.name}.asset`:void 0}function Are(e){return o5e(e,"sanity.fileAsset")}function C4t(e){const t=e.fields||[],n=t.find(Are);if(n)return n.name;const r=t.find(i=>(i.fields||[]).some(Are));return r?`${r.name}.asset`:void 0}function S4t(e){const t={fields:[],...e},n=t.fields.filter(l=>l.type==="string").map(l=>l.name),r=t.fields.filter(b4t).map(l=>l.name);let i=a5e.find(l=>n.includes(l)||r.includes(l)),a=x4t.find(l=>l!==i&&(n.includes(l)||r.includes(l)));i||(i=n[0]||r[0],a=n[1]||r[1]);const o=t.fields.find(l=>l.type==="image"),s=w4t(t);if(!i){const l=C4t(t);l&&(i=`${l}.originalFilename`),s&&(i=`${s}.originalFilename`)}if(!i&&!s){const l=t.fields.map(c=>c.name);return{select:l.reduce((c,d)=>(c[d]=d,c),{}),prepare:y4t(l)}}return{select:i5e({title:i,description:a,media:o?o.name:s},n5e)}}function _4t(e){return e.reduce((t,n)=>(t[n]=n,t),{})}function E4t(e){if(!e)return e;const t=e.select||e.fields||{};return Array.isArray(t)?{...Ht(e,["prepare","component"]),select:_4t(t)}:{...Ht(e,["prepare","component"]),select:t}}function t_(e){return function(){return h4t(e),p4t(e),E4t(e.preview||(e.options||{}).preview)||S4t(e)}}const k4t={type:"object",name:"link",title:"Link",i18nTitleKey:"inputs.portable-text.annotation.link",options:{modal:{type:"popover"}},fields:[{name:"href",type:"url",title:"Link",description:"A valid web, email, phone, or relative link.",validation:e=>e.uri({scheme:["http","https","tel","mailto"],allowRelative:!0})}]},T4t={type:"text",name:"text",title:"Text"},A4t={name:"marks",type:"array",of:[{type:"string"}],title:"Marks"},jre={bullet:{title:"Bulleted list",value:"bullet",i18nTitleKey:"inputs.portable-text.list-type.bullet"},numbered:{title:"Numbered list",value:"number",i18nTitleKey:"inputs.portable-text.list-type.number"}},j4t=[jre.bullet,jre.numbered],Od={normal:{title:"Normal",value:"normal",i18nTitleKey:"inputs.portable-text.style.normal"},h1:{title:"Heading 1",value:"h1",i18nTitleKey:"inputs.portable-text.style.h1"},h2:{title:"Heading 2",value:"h2",i18nTitleKey:"inputs.portable-text.style.h2"},h3:{title:"Heading 3",value:"h3",i18nTitleKey:"inputs.portable-text.style.h3"},h4:{title:"Heading 4",value:"h4",i18nTitleKey:"inputs.portable-text.style.h4"},h5:{title:"Heading 5",value:"h5",i18nTitleKey:"inputs.portable-text.style.h5"},h6:{title:"Heading 6",value:"h6",i18nTitleKey:"inputs.portable-text.style.h6"},blockquote:{title:"Quote",value:"blockquote",i18nTitleKey:"inputs.portable-text.style.quote"}},I4t=[Od.normal,Od.h1,Od.h2,Od.h3,Od.h4,Od.h5,Od.h6,Od.blockquote],D4t={title:"Strong",value:"strong",i18nTitleKey:"inputs.portable-text.decorator.strong"},$4t={title:"Italic",value:"em",i18nTitleKey:"inputs.portable-text.decorator.emphasis"},O4t={title:"Code",value:"code",i18nTitleKey:"inputs.portable-text.decorator.code"},M4t={title:"Underline",value:"underline",i18nTitleKey:"inputs.portable-text.decorator.underline"},R4t={title:"Strike",value:"strike-through",i18nTitleKey:"inputs.portable-text.decorator.strike-through"},Fx={strong:D4t,em:$4t,code:O4t,underline:M4t,strikeThrough:R4t},P4t=[Fx.strong,Fx.em,Fx.code,Fx.underline,Fx.strikeThrough],Ire=["type","name","title","jsonType","description","options","fieldsets","icon"],h3={name:"block",title:"Block",type:null,jsonType:"object"},F4t={},N4t={get(){return h3},extend(e,t){const n={...e.options||F4t},{marks:r,styles:i,lists:a,of:o,...s}=e,l=z4t(r,o),c=B4t(i),d=V4t(a),h={name:"markDefs",title:"Mark definitions",type:"array",of:(r==null?void 0:r.annotations)||s5e},p=[l,c,d,h,{name:"level",title:"Indentation",type:"number"}].concat(e.fields||[]),m=Object.assign(Ht(h3,Ire),s,{type:h3,options:n});return $r(m,"fields",()=>p.map(v=>{const{name:b,...y}=v;return{name:b,type:t(y)}})),$r(m,"preview",t_(e)),g(m);function g(v){return{get(){return v},extend:b=>{if(b.fields)throw new Error('Cannot override `fields` of subtypes of "block"');const y=Object.assign({},v,Ht(b,Ire),{type:v});return g(y)}}}}};function L4t(e){return e.some(t=>t.value==="normal")?e:[Od.normal,...e]}function B4t(e){return{name:"style",title:"Style",type:"string",options:{list:L4t(e||I4t)}}}function V4t(e){return{name:"listItem",title:"List type",type:"string",options:{list:e||j4t}}}const s5e=[k4t];function z4t(e,t=[]){return{name:"children",title:"Content",type:"array",of:[{type:"span",fields:[T4t,A4t],annotations:e&&e.annotations?e.annotations:s5e,decorators:e&&e.decorators?e.decorators:P4t},...t.filter(n=>n.type!=="span")]}}const Dre=["type","name","title","jsonType","description","options","fieldsets","icon"],p3={name:"span",title:"Span",type:null,jsonType:"object"},U4t={name:"marks",title:"Marks",type:"array",of:[{type:"string"}]},H4t={name:"text",title:"Text",type:"string"},W4t={},G4t={get(){return p3},extend(e,t){const n={...e.options||W4t},{annotations:r=[],marks:i=[]}=e,a=[U4t,H4t],o=Object.assign(Ht(p3,Dre),e,{type:p3,options:n});return $r(o,"fields",()=>a.map(l=>{const{name:c,...d}=l;return{name:c,type:t(d)}})),$r(o,"annotations",()=>r.map(t)),$r(o,"marks",()=>i.map(t)),$r(o,"preview",t_(e)),s(o);function s(l){return{get(){return l},extend:c=>{if(c.fields)throw new Error('Cannot override `fields` of subtypes of "span"');const d=Object.assign({},l,Ht(c,Dre),{type:l});return s(d)}}}}};var em={prepare:e=>({title:String(e)})};const $re=[...es],m3={name:"boolean",title:"Boolean",type:null,jsonType:"boolean"},Y4t={get(){return m3},extend(e){const t=Object.assign(Ht(m3,$re),e,{type:m3,preview:em});return n(t);function n(r){return{get(){return r},extend:i=>{const a=Object.assign({},r,Ht(i,$re),{type:r});return n(a)}}}}},q4t={name:"_ref",title:"Referenced document ID",type:"string"},K4t={name:"_weak",title:"Weak reference marker",type:"boolean"},Z4t={name:"_dataset",title:"Target dataset",type:"string"},X4t={name:"_projectId",title:"Target project ID",type:"string",hidden:!0},J4t=[q4t,K4t,Z4t,X4t],Ore=[...es],g3={name:"crossDatasetReference",type:null,jsonType:"object"};function Q4t(e,t){const n=e.length;if(n===1)return e[0];const r=e.slice(0,n-1),i=e[n-1];return`${r.join(", ")} ${t} ${i}`}function eNt(e){return!e.to||e.to.length===0?"Cross dataset Reference":`Cross dataset reference to ${Q4t($b(e.to).map(t=>t.title||O0(t.type)),"or").toLowerCase()}`}const tNt={get(){return g3},extend(e,t){if(!e.to)throw new Error(`Missing "to" field in cross dataset reference definition. Check the type ${e.name}`);const n=Object.assign(Ht(g3,Ore),e,{type:g3});return $r(n,"fields",()=>J4t.map(i=>{const{name:a,...o}=i;return{name:a,type:t(o)}})),$r(n,"to",()=>$b(e.to).map(i=>({...i,__experimental_search:Dbt(i)}))),$r(n,"title",()=>e.title||eNt(n)),r(n);function r(i){return{get(){return i},extend:a=>{if(a.of)throw new Error('Cannot override `of` of subtypes of "reference"');const o=Object.assign({},i,Ht(a,Ore),{type:i});return r(o)}}}}},Mre=[...es],v3={name:"date",title:"Datetime",type:null,jsonType:"string"},nNt={get(){return v3},extend(e){const t=Object.assign(Ht(v3,Mre),e,{type:v3,preview:em});return n(t);function n(r){return{get(){return r},extend:i=>{const a=Object.assign({},r,Ht(i,Mre),{type:r});return n(a)}}}}},Rre=[...es],y3={name:"datetime",title:"Datetime",type:null,jsonType:"string"},rNt={get(){return y3},extend(e){const t=Object.assign(Ht(y3,Rre),e,{type:y3,preview:em});return n(t);function n(r){return{get(){return r},extend:i=>{const a=Object.assign({},r,Ht(i,Rre),{type:r});return n(a)}}}}},iNt=["title","name","label","heading","header","caption","description"],aNt=["string","boolean","number"],Pre=e=>aNt.includes(e.type);function oNt(e){let t=iNt.filter(n=>e.fields.some(r=>Pre(r)&&r.name===n));return t.length===0&&(t=e.fields.filter(Pre).map(n=>n.name)),t.map(n=>({name:n,i18n:{title:{key:`default-orderings.${n}`,ns:"studio"}},title:O0(Rn(n)),by:[{field:n,direction:"asc"}]}))}function Fre(e){if(!Array.isArray(e))throw new Error("The search config of a document type must be an array of search config objects");return e.map(t=>{if(t==="defaults")return t;if(!dr(t))throw new Error("Search config must be an object of {path: string, weight: number}");return{weight:"weight"in t?t.weight:1,path:c4t(t.path),mapWith:typeof t.mapWith=="string"?t.mapWith:void 0}})}const Nre=[...es,"orderings","__experimental_search","blockEditor","icon"],l5e={get(){return{name:"object",title:"Object",type:null,jsonType:"object"}},extend(e,t){const n={fields:[],...e},r={...n.options||{}},i=Object.assign(Ht(this.get(),Nre),n,{type:this.get(),title:n.title||(n.name?Rn(n.name):"Object"),options:r,orderings:n.orderings||oNt(n),fields:n.fields.map(o=>{const{name:s,fieldset:l,group:c,...d}=o;return $r({name:s,group:c,fieldset:l},"type",()=>t({...d,title:o.title||Rn(s)}))})});return $r(i,"fieldsets",()=>hO(n,i.fields)),$r(i,"groups",()=>sNt(n,i.fields)),$r(i,"preview",t_(n)),$r(i,"__experimental_search",()=>{const o=n.__experimental_search?Fre(n.__experimental_search):null;return o?o.map(s=>s==="defaults"?Fre(n):s):$bt(i)},{enumerable:!1}),a(i);function a(o){return{get(){return o},extend:s=>{if(s.fields)throw new Error('Cannot override `fields` of subtypes of "object"');const l=Object.assign({},o,Ht(s,Nre),{title:s.title||n.title||(n.name?Rn(n.name):"Object"),type:o});return $r(l,"__experimental_search",()=>o.__experimental_search),a(l)}}}}};function hO(e,t){const n={};for(const i of e.fieldsets||[]){if(n[i.name])throw new Error(`Duplicate fieldset name "${i.name}" found for type '${e.title?e.title:Rn(e.name)}'`);n[i.name]={title:Rn(i.name),...i,fields:[]}}const r=new Set;for(const i of t){if(!i.fieldset){r.add({single:!0,field:i});continue}const a=n[i.fieldset];if(!a)throw new Error(`Fieldset '${i.fieldset}' is not defined in schema for type '${e.name}'`);a.fields.push(i),r.add(a)}return Array.from(r)}function sNt(e,t){const n={};let r=0;for(const i of e.groups||[]){if(n[i.name])throw new Error(`Duplicate group name "${i.name}" found for type '${e.title?e.title:Rn(e.name)}'`);if(n[i.name]={title:Rn(i.name),...i,fields:[]},i.default&&++r>1)throw new Error(`More than one field group defined as default for type '${e.title?e.title:Rn(e.name)}' - only 1 is supported`)}return t.forEach(i=>{const a=e_(i.group||[]);a.length!==0&&a.forEach(o=>{const s=n[o];if(!s)throw new Error(`Field group '${o}' is not defined in schema for type '${e.title?e.name:Rn(e.name)}'`);s.fields.push(i)})}),e4t(n).filter(i=>i.fields.length>0)}const lNt={name:"document",title:"Document",type:null,jsonType:"object"},uNt={get(){return lNt},extend:l5e.extend},Lre=[...es],b3={name:"email",title:"Email",type:null,jsonType:"string"},cNt={get(){return b3},extend(e){const t=Object.assign(Ht(b3,Lre),e,{type:b3,preview:em});return n(t);function n(r){return{get(){return r},extend:i=>{const a=Object.assign({},r,Ht(i,Lre),{type:r});return n(a)}}}}},dNt={name:"asset",type:"reference",to:{type:"sanity.fileAsset"}},Bre=[...es],JE={name:"file",title:"File",type:null,jsonType:"object"},fNt={accept:""},hNt={get(){return JE},extend(e,t){const n={...e.options||fNt},r=[dNt,...e.fields||[]],i={...e,fields:r},a=Object.assign(Ht(JE,Bre),i,{type:JE,title:i.title||(i.name?Rn(i.name):JE.title),options:n,fields:i.fields.map(s=>{const{name:l,fieldset:c,...d}=s,h={name:l,fieldset:c,isCustomized:!!e.fields};return $r(h,"type",()=>t({...d,title:s.title||Rn(l)}))})});return $r(a,"fieldsets",()=>hO(i,a.fields)),$r(a,"preview",t_(Object.assign({},i,{fields:r}))),o(a);function o(s){return{get(){return s},extend:l=>{if(l.fields)throw new Error('Cannot override `fields` of subtypes of "file"');const c=Object.assign({},s,Ht(l,Bre),{type:s});return o(c)}}}}},pNt={name:"asset",type:"reference",to:[{type:"sanity.imageAsset"}]},mNt={name:"hotspot",type:"sanity.imageHotspot"},gNt={name:"crop",type:"sanity.imageCrop"},Vre=[...es],x3={name:"image",title:"Image",type:null,jsonType:"object"},vNt={},yNt={get(){return x3},extend(e,t){const n={...e.options||vNt};let r=[mNt,gNt];n.hotspot||(r=r.map(l=>({...l,hidden:!0})));const i=[pNt,...r,...e.fields||[]],a={...e,fields:i},o=Object.assign(Ht(this.get(),Vre),a,{type:x3,title:a.title||(a.name?Rn(a.name):x3.title),options:n,fields:a.fields.map(l=>{const{name:c,fieldset:d,...h}=l,p={name:c,fieldset:d,isCustomized:!!e.fields};return $r(p,"type",()=>t({...h,title:l.title||Rn(c)}))})});return $r(o,"fieldsets",()=>hO(a,o.fields)),$r(o,"preview",t_(Object.assign({},a,{fields:i}))),s(o);function s(l){return{get(){return l},extend:c=>{if(c.fields)throw new Error('Cannot override `fields` of subtypes of "image"');const d=Object.assign({},l,Ht(c,Vre),{type:l});return s(d)}}}}},zre=[...es],w3={name:"number",title:"Number",type:null,jsonType:"number"},bNt={get(){return w3},extend(e){const t=Object.assign(Ht(w3,zre),e,{type:w3,preview:em});return n(t);function n(r){return{get(){return r},extend:i=>{const a=Object.assign({},r,Ht(i,zre),{type:r});return n(a)}}}}},xNt={name:"_ref",title:"Referenced document ID",type:"string"},wNt={name:"_weak",title:"Weak reference",type:"boolean"},CNt=[xNt,wNt],Ure=[...es],C3={name:"reference",title:"Reference",type:null,jsonType:"object"};function SNt(e,t){const n=e.length;if(n===1)return e[0];const r=e.slice(0,n-1),i=e[n-1];return`${r.join(", ")} ${t} ${i}`}function _Nt(e){return!e.to||e.to.length===0?"Reference":`Reference to ${SNt($b(e.to).map(t=>t.title),"or").toLowerCase()}`}const ENt={get(){return C3},extend(e,t){if(!e.to)throw new Error(`Missing "to" field in reference definition. Check the type ${e.name}`);const n=Object.assign(Ht(C3,Ure),e,{type:C3});return $r(n,"fields",()=>CNt.map(i=>{const{name:a,...o}=i;return{name:a,type:t(o)}})),$r(n,"fieldsets",()=>hO(e,n.fields)),$r(n,"to",()=>$b(e.to).map(i=>t(i))),$r(n,"title",()=>e.title||_Nt(n)),r(n);function r(i){return{get(){return i},extend:a=>{if(a.of)throw new Error('Cannot override `of` of subtypes of "reference"');const o=Object.assign({},i,Ht(a,Ure),{type:i});return r(o)}}}}},Hre=[...es],S3={name:"string",title:"String",type:null,jsonType:"string"},kNt={get(){return S3},extend(e){const t=Object.assign(Ht(S3,Hre),e,{type:S3,preview:em});return n(t);function n(r){return{get(){return r},extend:i=>{const a=Object.assign({},r,Ht(i,Hre),{type:r});return n(a)}}}}},Wre=[...es,"rows"],_3={name:"text",title:"Text",type:null,jsonType:"string"},TNt={get(){return _3},extend(e){const t=Object.assign(Ht(_3,Wre),e,{type:_3,preview:em});return n(t);function n(r){return{get(){return r},extend:i=>{const a=Object.assign({},r,Ht(i,Wre),{type:r});return n(a)}}}}},Gre=[...es],E3={name:"url",title:"Url",type:null,jsonType:"string"},ANt={get(){return E3},extend(e){const t=Object.assign(Ht(E3,Gre),e,{type:E3,preview:em});return n(t);function n(r){return{get(){return r},extend:i=>{const a=Object.assign({},r,Ht(i,Gre),{type:r});return n(a)}}}}};var jNt=Object.freeze({__proto__:null,any:d4t,array:f4t,block:N4t,boolean:Y4t,crossDatasetReference:tNt,date:nNt,datetime:rNt,document:uNt,email:cNt,file:hNt,image:yNt,number:bNt,object:l5e,reference:ENt,span:G4t,string:kNt,text:TNt,url:ANt}),INt=Object.defineProperty,DNt=(e,t,n)=>t in e?INt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yre=(e,t,n)=>DNt(e,typeof t!="symbol"?t+"":t,n);function $Nt(e){const t=Object.assign(Object.create(null),jNt),n=e.types.reduce((o,s)=>{if(o[s.name])throw new Error(`Duplicate type name added to schema: ${s.name}`);return o[s.name]=s,o},{});return e.types.forEach(a),t;function r(o){if(!t[o]){if(!n[o])throw new Error(`Unknown type: ${o}`);a(n[o])}}function i(o){return r(o.type),t[o.type].extend(o,i).get()}function a(o){r(o.type),!t[o.name]&&(t[o.name]=t[o.type].extend(o,i))}}let ONt=class u5e{constructor(t){Yre(this,"_original"),Yre(this,"_registry"),this._original=t,this._registry=$Nt(t)}static compile(t){return new u5e(t)}get name(){return this._original.name}get(t){return this._registry[t]&&this._registry[t].get()}has(t){return t in this._registry}getTypeNames(){return Object.keys(this._registry)}};const fW=ONt;var MNt=Nf,RNt=Hi,PNt=ul,FNt="[object String]";function NNt(e){return typeof e=="string"||!RNt(e)&&PNt(e)&&MNt(e)==FNt}var LNt=NNt;const pO=Pe(LNt);var BNt=cke;function VNt(e){var t=BNt(e),n=t%1;return t===t?n?t-n:t:0}var zNt=VNt,UNt=H2e,HNt=Kp,WNt=zNt,GNt=Math.max;function YNt(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:WNt(n);return i<0&&(i=GNt(r+i,0)),UNt(e,HNt(t),i)}var c5e=YNt;const hW=Pe(c5e);var qNt=xH,KNt=4;function ZNt(e){return qNt(e,KNt)}var XNt=ZNt;const d5e=Pe(XNt);function JNt(e){const t=e.charCodeAt(0);return t>=55296&&t<=56319}function M8(e){const t=e.charCodeAt(0);return t>=56320&&t<=57343}function n_(e){const[t,n]=e;return[t,n]}function qre(e,t){let n=e,r=t;const i=n.length,a=r.length;if(i===0||a===0)return 0;i>a?n=n.substring(i-a):i<a&&(r=r.substring(0,i));const o=Math.min(i,a);if(n===r)return o;let s=0,l=1;for(let c=0;c!==-1;){const d=n.substring(o-l);if(c=r.indexOf(d),c===-1)return s;l+=c,(c===0||n.substring(o-l)===r.substring(0,l))&&(s=l,l++)}return s}function pW(e,t){if(!e||!t||e[0]!==t[0])return 0;let n=0,r=Math.min(e.length,t.length),i=r,a=0;for(;n<i;)e.substring(a,i)===t.substring(a,i)?(n=i,a=n):r=i,i=Math.floor((r-n)/2+n);return i}function mO(e,t){if(!e||!t||e[e.length-1]!==t[t.length-1])return 0;let n=0,r=Math.min(e.length,t.length),i=r,a=0;for(;n<i;)e.substring(e.length-i,e.length-a)===t.substring(t.length-i,t.length-a)?(n=i,a=n):r=i,i=Math.floor((r-n)/2+n);return i}function mW(e){let t=e.map(h=>n_(h)),n=!1;const r=[];let i=0,a=null,o=0,s=0,l=0,c=0,d=0;for(;o<t.length;)t[o][0]===Ut?(r[i++]=o,s=c,l=d,c=0,d=0,a=t[o][1]):(t[o][0]===br?c+=t[o][1].length:d+=t[o][1].length,a&&a.length<=Math.max(s,l)&&a.length<=Math.max(c,d)&&(t.splice(r[i-1],0,[er,a]),t[r[i-1]+1][0]=br,i--,i--,o=i>0?r[i-1]:-1,s=0,l=0,c=0,d=0,a=null,n=!0)),o++;for(n&&(t=gO(t)),t=f5e(t),o=1;o<t.length;){if(t[o-1][0]===er&&t[o][0]===br){const h=t[o-1][1],p=t[o][1],m=qre(h,p),g=qre(p,h);m>=g?(m>=h.length/2||m>=p.length/2)&&(t.splice(o,0,[Ut,p.substring(0,m)]),t[o-1][1]=h.substring(0,h.length-m),t[o+1][1]=p.substring(m),o++):(g>=h.length/2||g>=p.length/2)&&(t.splice(o,0,[Ut,h.substring(0,g)]),t[o-1][0]=br,t[o-1][1]=p.substring(0,p.length-g),t[o+1][0]=er,t[o+1][1]=h.substring(g),o++),o++}o++}return t}const Kre=/[^a-zA-Z0-9]/,Zre=/\s/,Xre=/[\r\n]/,QNt=/\n\r?\n$/,eLt=/^\r?\n\r?\n/;function f5e(e){const t=e.map(i=>n_(i));function n(i,a){if(!i||!a)return 6;const o=i.charAt(i.length-1),s=a.charAt(0),l=o.match(Kre),c=s.match(Kre),d=l&&o.match(Zre),h=c&&s.match(Zre),p=d&&o.match(Xre),m=h&&s.match(Xre),g=p&&i.match(QNt),v=m&&a.match(eLt);return g||v?5:p||m?4:l&&!d&&h?3:d||h?2:l||c?1:0}let r=1;for(;r<t.length-1;){if(t[r-1][0]===Ut&&t[r+1][0]===Ut){let i=t[r-1][1],a=t[r][1],o=t[r+1][1];const s=mO(i,a);if(s){const p=a.substring(a.length-s);i=i.substring(0,i.length-s),a=p+a.substring(0,a.length-s),o=p+o}let l=i,c=a,d=o,h=n(i,a)+n(a,o);for(;a.charAt(0)===o.charAt(0);){i+=a.charAt(0),a=a.substring(1)+o.charAt(0),o=o.substring(1);const p=n(i,a)+n(a,o);p>=h&&(h=p,l=i,c=a,d=o)}t[r-1][1]!==l&&(l?t[r-1][1]=l:(t.splice(r-1,1),r--),t[r][1]=c,d?t[r+1][1]=d:(t.splice(r+1,1),r--))}r++}return t}function gO(e){let t=e.map(c=>n_(c));t.push([Ut,""]);let n=0,r=0,i=0,a="",o="",s;for(;n<t.length;)switch(t[n][0]){case br:i++,o+=t[n][1],n++;break;case er:r++,a+=t[n][1],n++;break;case Ut:r+i>1?(r!==0&&i!==0&&(s=pW(o,a),s!==0&&(n-r-i>0&&t[n-r-i-1][0]===Ut?t[n-r-i-1][1]+=o.substring(0,s):(t.splice(0,0,[Ut,o.substring(0,s)]),n++),o=o.substring(s),a=a.substring(s)),s=mO(o,a),s!==0&&(t[n][1]=o.substring(o.length-s)+t[n][1],o=o.substring(0,o.length-s),a=a.substring(0,a.length-s))),n-=r+i,t.splice(n,r+i),a.length&&(t.splice(n,0,[er,a]),n++),o.length&&(t.splice(n,0,[br,o]),n++),n++):n!==0&&t[n-1][0]===Ut?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,i=0,r=0,a="",o="";break;default:throw new Error("Unknown diff operation")}t[t.length-1][1]===""&&t.pop();let l=!1;for(n=1;n<t.length-1;)t[n-1][0]===Ut&&t[n+1][0]===Ut&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),l=!0):t[n][1].substring(0,t[n+1][1].length)===t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),l=!0)),n++;return l&&(t=gO(t)),t}function tLt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,i)=>r+(i?1:0),0)}function vO(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,n=e.map(p=>n_(p)),r=!1;const i=[];let a=0,o=null,s=0,l=!1,c=!1,d=!1,h=!1;for(;s<n.length;)n[s][0]===Ut?(n[s][1].length<t&&(d||h)?(i[a++]=s,l=d,c=h,o=n[s][1]):(a=0,o=null),d=!1,h=!1):(n[s][0]===er?h=!0:d=!0,o&&(l&&c&&d&&h||o.length<t/2&&tLt(l,c,d,h)===3)&&(n.splice(i[a-1],0,[er,o]),n[i[a-1]+1][0]=br,a--,o=null,l&&c?(d=!0,h=!0,a=0):(a--,s=a>0?i[a-1]:-1,d=!1,h=!1),r=!0)),s++;return r&&(n=gO(n)),n}function nLt(e,t,n){const r=e.length,i=t.length,a=Math.ceil((r+i)/2),o=a,s=2*a,l=new Array(s),c=new Array(s);for(let b=0;b<s;b++)l[b]=-1,c[b]=-1;l[o+1]=0,c[o+1]=0;const d=r-i,h=d%2!==0;let p=0,m=0,g=0,v=0;for(let b=0;b<a&&!(Date.now()>n);b++){for(let y=-b+p;y<=b-m;y+=2){const x=o+y;let w;y===-b||y!==b&&l[x-1]<l[x+1]?w=l[x+1]:w=l[x-1]+1;let C=w-y;for(;w<r&&C<i&&e.charAt(w)===t.charAt(C);)w++,C++;if(l[x]=w,w>r)m+=2;else if(C>i)p+=2;else if(h){const S=o+d-y;if(S>=0&&S<s&&c[S]!==-1){const _=r-c[S];if(w>=_)return Jre(e,t,w,C,n)}}}for(let y=-b+g;y<=b-v;y+=2){const x=o+y;let w;y===-b||y!==b&&c[x-1]<c[x+1]?w=c[x+1]:w=c[x-1]+1;let C=w-y;for(;w<r&&C<i&&e.charAt(r-w-1)===t.charAt(i-C-1);)w++,C++;if(c[x]=w,w>r)v+=2;else if(C>i)g+=2;else if(!h){const S=o+d-y;if(S>=0&&S<s&&l[S]!==-1){const _=l[S],E=o+_-S;if(w=r-w,_>=w)return Jre(e,t,_,E,n)}}}}return[[er,e],[br,t]]}function Jre(e,t,n,r,i){const a=e.substring(0,n),o=t.substring(0,r),s=e.substring(n),l=t.substring(r),c=Xg(a,o,{checkLines:!1,deadline:i}),d=Xg(s,l,{checkLines:!1,deadline:i});return c.concat(d)}function rLt(e,t){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:1)<=0)return null;const r=e.length>t.length?e:t,i=e.length>t.length?t:e;if(r.length<4||i.length*2<r.length)return null;const a=Qre(r,i,Math.ceil(r.length/4)),o=Qre(r,i,Math.ceil(r.length/2));let s;if(a&&o)s=a[4].length>o[4].length?a:o;else{if(!a&&!o)return null;o?a||(s=o):s=a}if(!s)throw new Error("Unable to find a half match.");let l,c,d,h;e.length>t.length?(l=s[0],c=s[1],d=s[2],h=s[3]):(d=s[0],h=s[1],l=s[2],c=s[3]);const p=s[4];return[l,c,d,h,p]}function Qre(e,t,n){const r=e.slice(n,n+Math.floor(e.length/4));let i=-1,a="",o,s,l,c;for(;(i=t.indexOf(r,i+1))!==-1;){const d=pW(e.slice(n),t.slice(i)),h=mO(e.slice(0,n),t.slice(0,i));a.length<h+d&&(a=t.slice(i-h,i)+t.slice(i,i+d),o=e.slice(0,n-h),s=e.slice(n+d),l=t.slice(0,i-h),c=t.slice(i+d))}return a.length*2>=e.length?[o||"",s||"",l||"",c||"",a||""]:null}function iLt(e,t){for(let n=0;n<e.length;n++){const r=e[n][1],i=[];for(let a=0;a<r.length;a++)i[a]=t[r.charCodeAt(a)];e[n][1]=i.join("")}}function aLt(e,t){const n=[],r={};n[0]="";function i(l){let c="",d=0,h=-1,p=n.length;for(;h<l.length-1;){h=l.indexOf(`
`,d),h===-1&&(h=l.length-1);let m=l.slice(d,h+1);(r.hasOwnProperty?r.hasOwnProperty(m):r[m]!==void 0)?c+=String.fromCharCode(r[m]):(p===a&&(m=l.slice(d),h=l.length),c+=String.fromCharCode(p),r[m]=p,n[p++]=m),d=h+1}return c}let a=4e4;const o=i(e);a=65535;const s=i(t);return{chars1:o,chars2:s,lineArray:n}}function oLt(e,t,n){let r=e,i=t;const a=aLt(r,i);r=a.chars1,i=a.chars2;const o=a.lineArray;let s=Xg(r,i,{checkLines:!1,deadline:n.deadline});iLt(s,o),s=mW(s),s.push([Ut,""]);let l=0,c=0,d=0,h="",p="";for(;l<s.length;){switch(s[l][0]){case br:d++,p+=s[l][1];break;case er:c++,h+=s[l][1];break;case Ut:if(c>=1&&d>=1){s.splice(l-c-d,c+d),l=l-c-d;const m=Xg(h,p,{checkLines:!1,deadline:n.deadline});for(let g=m.length-1;g>=0;g--)s.splice(l,0,m[g]);l+=m.length}d=0,c=0,h="",p="";break;default:throw new Error("Unknown diff operation.")}l++}return s.pop(),s}function sLt(e,t,n){let r;if(!e)return[[br,t]];if(!t)return[[er,e]];const i=e.length>t.length?e:t,a=e.length>t.length?t:e,o=i.indexOf(a);if(o!==-1)return r=[[br,i.substring(0,o)],[Ut,a],[br,i.substring(o+a.length)]],e.length>t.length&&(r[0][0]=er,r[2][0]=er),r;if(a.length===1)return[[er,e],[br,t]];const s=rLt(e,t);if(s){const l=s[0],c=s[1],d=s[2],h=s[3],p=s[4],m=Xg(l,d,n),g=Xg(c,h,n);return m.concat([[Ut,p]],g)}return n.checkLines&&e.length>100&&t.length>100?oLt(e,t,n):nLt(e,t,n.deadline)}const er=-1,br=1,Ut=0;function Ob(e,t,n){if(e===null||t===null)throw new Error("Null input. (diff)");const r=Xg(e,t,uLt(n||{}));return dLt(r),r}function Xg(e,t,n){let r=e,i=t;if(r===i)return r?[[Ut,r]]:[];let a=pW(r,i);const o=r.substring(0,a);r=r.substring(a),i=i.substring(a),a=mO(r,i);const s=r.substring(r.length-a);r=r.substring(0,r.length-a),i=i.substring(0,i.length-a);let l=sLt(r,i,n);return o&&l.unshift([Ut,o]),s&&l.push([Ut,s]),l=gO(l),l}function lLt(e){let t=1;return typeof e<"u"&&(t=e<=0?Number.MAX_VALUE:e),Date.now()+t*1e3}function uLt(e){return{checkLines:!0,deadline:lLt(e.timeout||1),...e}}function QE(e,t,n){return n===1?e+t:t+e}function ek(e,t){return t===1?[e.substring(0,e.length-1),e[e.length-1]]:[e.substring(1),e[0]]}function cLt(e,t,n,r){return r===1?e[t][1][e[t][1].length-1]===e[n][1][e[n][1].length-1]:e[t][1][0]===e[n][1][0]}function eie(e,t,n){const r=n===1?-1:1;let i=null,a=null,o=t+n;for(;o>=0&&o<e.length&&(i===null||a===null);o+=n){const[c,d]=e[o];if(d.length!==0){if(c===br){i===null&&(i=o);continue}else if(c===er){a===null&&(a=o);continue}else if(c===Ut){if(i===null&&a===null){const[h,p]=ek(e[t][1],n);e[t][1]=h,e[o][1]=QE(e[o][1],p,r);return}break}}}if(i!==null&&a!==null&&cLt(e,i,a,n)){const[c,d]=ek(e[i][1],r),[h]=ek(e[a][1],r);e[i][1]=c,e[a][1]=h,e[t][1]=QE(e[t][1],d,n);return}const[s,l]=ek(e[t][1],n);e[t][1]=s,i===null?(e.splice(o,0,[br,l]),a!==null&&a>=o&&a++):e[i][1]=QE(e[i][1],l,r),a===null?e.splice(o,0,[er,l]):e[a][1]=QE(e[a][1],l,r)}function dLt(e){for(let t=0;t<e.length;t++){const[n,r]=e[t];if(r.length===0)continue;const i=r[0],a=r[r.length-1];JNt(a)&&n===Ut&&eie(e,t,1),M8(i)&&n===Ut&&eie(e,t,-1)}for(let t=0;t<e.length;t++)e[t][1].length===0&&e.splice(t,1)}const fLt={threshold:.5,distance:1e3};function hLt(e){return{...fLt,...e}}const pLt=32;function mLt(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(t.length>pLt)throw new Error("Pattern too long for this browser.");const i=hLt(r),a=gLt(t);function o(g,v){const b=g/t.length,y=Math.abs(n-v);return i.distance?b+y/i.distance:y?1:b}let s=i.threshold,l=e.indexOf(t,n);l!==-1&&(s=Math.min(o(0,l),s),l=e.lastIndexOf(t,n+t.length),l!==-1&&(s=Math.min(o(0,l),s)));const c=1<<t.length-1;l=-1;let d,h,p=t.length+e.length,m=[];for(let g=0;g<t.length;g++){for(d=0,h=p;d<h;)o(g,n+h)<=s?d=h:p=h,h=Math.floor((p-d)/2+d);p=h;let v=Math.max(1,n-h+1);const b=Math.min(n+h,e.length)+t.length,y=new Array(b+2);y[b+1]=(1<<g)-1;for(let x=b;x>=v;x--){const w=a[e.charAt(x-1)];if(g===0?y[x]=(y[x+1]<<1|1)&w:y[x]=(y[x+1]<<1|1)&w|((m[x+1]|m[x])<<1|1)|m[x+1],y[x]&c){const C=o(g,x-1);if(C<=s)if(s=C,l=x-1,l>n)v=Math.max(1,2*n-l);else break}}if(o(g+1,n)>s)break;m=y}return l}function gLt(e){const t={};for(let n=0;n<e.length;n++)t[e.charAt(n)]=0;for(let n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t}function k3(e,t,n){if(e===null||t===null||n===null)throw new Error("Null input. (match())");const r=Math.max(0,Math.min(n,e.length));if(e===t)return 0;if(e.length){if(e.substring(r,r+t.length)===t)return r}else return-1;return mLt(e,t,r)}function _j(e,t){return{diffs:[],start1:e,start2:t,utf8Start1:e,utf8Start2:t,length1:0,length2:0,utf8Length1:0,utf8Length2:0}}function gW(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==br&&(t[n]=e[n][1]);return t.join("")}function h5e(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==er&&(t[n]=e[n][1]);return t.join("")}function Kh(e){let t=0;for(let n=0;n<e.length;n++){const r=e.codePointAt(n);if(typeof r>"u")throw new Error("Failed to get codepoint");t+=p5e(r)}return t}function vLt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,i=0;function a(s){for(;r<s;){const l=t.codePointAt(i);if(typeof l>"u")return i;r+=p5e(l),l>65535?i+=2:i+=1}if(!n.allowExceedingIndices&&r!==s)throw new Error("Failed to determine byte offset");return i}const o=[];for(const s of e)o.push({diffs:s.diffs.map(l=>n_(l)),start1:a(s.start1),start2:a(s.start2),utf8Start1:s.utf8Start1,utf8Start2:s.utf8Start2,length1:s.length1,length2:s.length2,utf8Length1:s.utf8Length1,utf8Length2:s.utf8Length2});return o}function p5e(e){return e<=127?1:e<=2047?2:e<=65535?3:4}const Dh=32,vW=4,yLt={margin:4};function T3(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{...yLt,...e}}function yO(e,t,n){if(typeof e=="string"&&typeof t=="string"){let r=Ob(e,t,{checkLines:!0});return r.length>2&&(r=mW(r),r=vO(r)),A3(e,r,T3(n))}if(e&&Array.isArray(e)&&typeof t>"u")return A3(gW(e),e,T3(n));if(typeof e=="string"&&t&&Array.isArray(t))return A3(e,t,T3(n));throw new Error("Unknown call format to make()")}function A3(e,t,n){if(t.length===0)return[];const r=[];let i=_j(0,0),a=0,o=0,s=0,l=0,c=0,d=e,h=e;for(let p=0;p<t.length;p++){const m=t[p],[g,v]=m,b=v.length,y=Kh(v);switch(!a&&g!==Ut&&(i.start1=o,i.start2=s,i.utf8Start1=l,i.utf8Start2=c),g){case br:i.diffs[a++]=m,i.length2+=b,i.utf8Length2+=y,h=h.substring(0,s)+v+h.substring(s);break;case er:i.length1+=b,i.utf8Length1+=y,i.diffs[a++]=m,h=h.substring(0,s)+h.substring(s+b);break;case Ut:b<=2*n.margin&&a&&t.length!==p+1?(i.diffs[a++]=m,i.length1+=b,i.length2+=b,i.utf8Length1+=y,i.utf8Length2+=y):b>=2*n.margin&&a&&(tie(i,d,n),r.push(i),i=_j(-1,-1),a=0,d=h,o=s,l=c);break;default:throw new Error("Unknown diff type")}g!==br&&(o+=b,l+=y),g!==er&&(s+=b,c+=y)}return a&&(tie(i,d,n),r.push(i)),r}function tie(e,t,n){if(t.length===0)return;let r=t.substring(e.start2,e.start2+e.length1),i=0;for(;t.indexOf(r)!==t.lastIndexOf(r)&&r.length<Dh-n.margin-n.margin;)i+=n.margin,r=t.substring(e.start2-i,e.start2+e.length1+i);i+=n.margin;let a=e.start2-i;a>=1&&M8(t[a])&&a--;const o=t.substring(a,e.start2);o&&e.diffs.unshift([Ut,o]);const s=o.length,l=Kh(o);let c=e.start2+e.length1+i;c<t.length&&M8(t[c])&&c++;const d=t.substring(e.start2+e.length1,c);d&&e.diffs.push([Ut,d]);const h=d.length,p=Kh(d);e.start1-=s,e.start2-=s,e.utf8Start1-=l,e.utf8Start2-=l,e.length1+=s+h,e.length2+=s+h,e.utf8Length1+=l+p,e.utf8Length2+=l+p}function bLt(e){let t=0,n=0,r=0;for(let i=0;i<e.length;i++){const a=e[i][0],o=e[i][1];switch(a){case br:n+=o.length;break;case er:r+=o.length;break;case Ut:t+=Math.max(n,r),n=0,r=0;break;default:throw new Error("Unknown diff operation.")}}return t+=Math.max(n,r),t}function nie(e,t){let n=0,r=0,i=0,a=0,o;for(o=0;o<e.length&&(e[o][0]!==br&&(n+=e[o][1].length),e[o][0]!==er&&(r+=e[o][1].length),!(n>t));o++)i=n,a=r;return e.length!==o&&e[o][0]===er?a:a+(t-i)}function xLt(e){const n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vW;let r="";for(let o=1;o<=n;o++)r+=String.fromCharCode(o);for(const o of e)o.start1+=n,o.start2+=n,o.utf8Start1+=n,o.utf8Start2+=n;let i=e[0],a=i.diffs;if(a.length===0||a[0][0]!==Ut)a.unshift([Ut,r]),i.start1-=n,i.start2-=n,i.utf8Start1-=n,i.utf8Start2-=n,i.length1+=n,i.length2+=n,i.utf8Length1+=n,i.utf8Length2+=n;else if(n>a[0][1].length){const o=a[0][1].length,s=n-o;a[0][1]=r.substring(o)+a[0][1],i.start1-=s,i.start2-=s,i.utf8Start1-=s,i.utf8Start2-=s,i.length1+=s,i.length2+=s,i.utf8Length1+=s,i.utf8Length2+=s}if(i=e[e.length-1],a=i.diffs,a.length===0||a[a.length-1][0]!==Ut)a.push([Ut,r]),i.length1+=n,i.length2+=n,i.utf8Length1+=n,i.utf8Length2+=n;else if(n>a[a.length-1][1].length){const o=n-a[a.length-1][1].length;a[a.length-1][1]+=r.substring(0,o),i.length1+=o,i.length2+=o,i.utf8Length1+=o,i.utf8Length2+=o}return r}function wLt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vW;const n=Dh;for(let r=0;r<e.length;r++){if(e[r].length1<=n)continue;const i=e[r];e.splice(r--,1);let a=i.start1,o=i.start2,s="";for(;i.diffs.length!==0;){const l=_j(a-s.length,o-s.length);let c=!0;if(s!==""){const p=Kh(s);l.length1=s.length,l.utf8Length1=p,l.length2=s.length,l.utf8Length2=p,l.diffs.push([Ut,s])}for(;i.diffs.length!==0&&l.length1<n-t;){const p=i.diffs[0][0];let m=i.diffs[0][1],g=Kh(m);if(p===br){l.length2+=m.length,l.utf8Length2+=g,o+=m.length;const v=i.diffs.shift();v&&l.diffs.push(v),c=!1}else p===er&&l.diffs.length===1&&l.diffs[0][0]===Ut&&m.length>2*n?(l.length1+=m.length,l.utf8Length1+=g,a+=m.length,c=!1,l.diffs.push([p,m]),i.diffs.shift()):(m=m.substring(0,n-l.length1-t),g=Kh(m),l.length1+=m.length,l.utf8Length1+=g,a+=m.length,p===Ut?(l.length2+=m.length,l.utf8Length2+=g,o+=m.length):c=!1,l.diffs.push([p,m]),m===i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(m.length))}s=h5e(l.diffs),s=s.substring(s.length-t);const d=gW(i.diffs).substring(0,t),h=Kh(d);d!==""&&(l.length1+=d.length,l.length2+=d.length,l.utf8Length1+=h,l.utf8Length2+=h,l.diffs.length!==0&&l.diffs[l.diffs.length-1][0]===Ut?l.diffs[l.diffs.length-1][1]+=d:l.diffs.push([Ut,d])),c||e.splice(++r,0,l)}}}function bO(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")throw new Error("Patches must be an array - pass the patch to `parsePatch()` first");let r=t;if(e.length===0)return[r,[]];const i=vLt(e,r,{allowExceedingIndices:n.allowExceedingIndices}),a=n.margin||vW,o=n.deleteThreshold||.4,s=xLt(i,a);r=s+r+s,wLt(i,a);let l=0;const c=[];for(let d=0;d<i.length;d++){const h=i[d].start2+l,p=gW(i[d].diffs);let m,g=-1;if(p.length>Dh?(m=k3(r,p.substring(0,Dh),h),m!==-1&&(g=k3(r,p.substring(p.length-Dh),h+p.length-Dh),(g===-1||m>=g)&&(m=-1))):m=k3(r,p,h),m===-1)c[d]=!1,l-=i[d].length2-i[d].length1;else{c[d]=!0,l=m-h;let v;if(g===-1?v=r.substring(m,m+p.length):v=r.substring(m,g+Dh),p===v)r=r.substring(0,m)+h5e(i[d].diffs)+r.substring(m+p.length);else{let b=Ob(p,v,{checkLines:!1});if(p.length>Dh&&bLt(b)/p.length>o)c[d]=!1;else{b=f5e(b);let y=0,x=0;for(let w=0;w<i[d].diffs.length;w++){const C=i[d].diffs[w];C[0]!==Ut&&(x=nie(b,y)),C[0]===br?r=r.substring(0,m+x)+C[1]+r.substring(m+x):C[0]===er&&(r=r.substring(0,m+x)+r.substring(m+nie(b,y+C[1].length))),C[0]!==er&&(y+=C[1].length)}}}}}return r=r.substring(s.length,r.length-s.length),[r,c]}function yW(e){return e.map(CLt).join("")}function CLt(e){const{utf8Length1:t,utf8Length2:n,utf8Start1:r,utf8Start2:i,diffs:a}=e;let o;t===0?o="".concat(r,",0"):t===1?o="".concat(r+1):o="".concat(r+1,",").concat(t);let s;n===0?s="".concat(i,",0"):n===1?s="".concat(i+1):s="".concat(i+1,",").concat(n);const l=["@@ -".concat(o," +").concat(s,` @@
`)];let c;for(let d=0;d<a.length;d++){switch(a[d][0]){case br:c="+";break;case er:c="-";break;case Ut:c=" ";break;default:throw new Error("Unknown patch operation.")}l[d+1]="".concat(c+encodeURI(a[d][1]),`
`)}return l.join("").replace(/%20/g," ")}const SLt=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;function bW(e){if(!e)return[];const t=[],n=e.split(`
`);let r=0;for(;r<n.length;){const i=n[r].match(SLt);if(!i)throw new Error("Invalid patch string: ".concat(n[r]));const a=_j(tk(i[1]),tk(i[3]));for(t.push(a),i[2]===""?(a.start1--,a.utf8Start1--,a.length1=1,a.utf8Length1=1):i[2]==="0"?(a.length1=0,a.utf8Length1=0):(a.start1--,a.utf8Start1--,a.utf8Length1=tk(i[2]),a.length1=a.utf8Length1),i[4]===""?(a.start2--,a.utf8Start2--,a.length2=1,a.utf8Length2=1):i[4]==="0"?(a.length2=0,a.utf8Length2=0):(a.start2--,a.utf8Start2--,a.utf8Length2=tk(i[4]),a.length2=a.utf8Length2),r++;r<n.length;){const o=n[r],s=o.charAt(0);if(s==="@")break;if(s===""){r++;continue}let l;try{l=decodeURI(o.slice(1))}catch{throw new Error("Illegal escape in parse: ".concat(o))}const c=Kh(l)-l.length;if(s==="-")a.diffs.push([er,l]),a.length1-=c;else if(s==="+")a.diffs.push([br,l]),a.length2-=c;else if(s===" ")a.diffs.push([Ut,l]),a.length1-=c,a.length2-=c;else throw new Error('Invalid patch mode "'.concat(s,'" in: ').concat(l));r++}}return t}function tk(e){return parseInt(e,10)}const rie="before",iie="after";function _Lt(e,t,n,...r){if(t!==rie&&t!==iie)throw new Error(`Invalid position "${t}", must be either ${rie} or ${iie}`);const i=aie(...r);if(e.length===0)return i;const a=e.length,o=Math.abs((a+n)%a)%a,s=t==="after"?o+1:o,l=e.slice();return l.splice(s,0,...aie(i)),l}function aie(...e){return e.reduce((t,n)=>t.concat(n),[])}const oie=Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty);function ELt(e,t,n){const r=e.slice(),i=r[t];return r.splice(t,1),r.splice(n,0,i),r}function kLt(e,t){if(typeof t=="number")return t;const n=hW(e,t);return n===-1?!1:n}function TLt(e,t){const n=e.slice();if(t.path.length===0){if(t.type==="setIfMissing"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return e===void 0?t.value:e}else if(t.type==="set"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return t.value}else{if(t.type==="unset")return;if(t.type==="move"){if(!t.value||!oie(t.value,"from")||!oie(t.value,"to"))throw new Error(`Invalid value of 'move' patch. Expected a value with "from" and "to" indexes, instead got: ${JSON.stringify(t.value)}`);return ELt(n,t.value.from,t.value.to)}}throw new Error(`Invalid array operation: ${t.type}`)}const[r,...i]=t.path,a=kLt(e,r);if(a===!1)return n;if(i.length===0){if(t.type==="insert"){const{position:o,items:s}=t;return _Lt(e,o,a,s)}else if(t.type==="unset"){if(typeof a!="number")throw new Error(`Expected array index to be a number, instead got "${a}"`);return n.splice(a,1),n}}return n[a]=xW(n[a],{...t,path:i}),n}function ALt(e,t){const n=d5e(e);if(t.path.length===0){if(t.type==="set"){if(!BI(t.value))throw new Error("Cannot set value of an object to a non-object");return t.value}else{if(t.type==="unset")return;if(t.type==="setIfMissing")return e===void 0?t.value:e}throw new Error(`Invalid object operation: ${t.type}`)}const[r,...i]=t.path;if(typeof r!="string")throw new Error(`Expected field name to be a string, instad got: ${r}`);return i.length===0&&t.type==="unset"?Pa(n,r):(n[r]=xW(n[r],{...t,path:i}),n)}const m5e={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},inc(e,t){return e+t},dec(e,t){return e-t}},jLt=Object.keys(m5e);function ILt(e,t){if(!jLt.includes(t.type))throw new Error(`Received patch of unsupported type: "${JSON.stringify(t.type)}" for primitives. This is most likely a bug.`);if(t.path.length>0)throw new Error(`Cannot apply deep operations on primitive values. Received patch with type "${t.type}" and path "${t.path.map(n=>JSON.stringify(n)).join(".")} that targeted the value "${JSON.stringify(e)}"`);return m5e[t.type](e,t.value)}const g5e={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},diffMatchPatch(e,t){const[n]=bO(bW(t),e,{allowExceedingIndices:!0});return n}},DLt=Object.keys(g5e);function $Lt(e,t){if(!DLt.includes(t.type))throw new Error(`Received patch of unsupported type: "${JSON.stringify(t.type)}" for string. This is most likely a bug.`);if(t.path.length>0)throw new Error(`Cannot apply deep operations on string values. Received patch with type "${t.type}" and path "${t.path.join(".")} that targeted the value "${JSON.stringify(e)}"`);const n=g5e[t.type];if(n)return n(e,t.value);throw new Error("Unknown patch type")}function OLt(e,t){return t.reduce(xW,e)}function MLt(e,t){return Array.isArray(e)?TLt(e,t):pO(e)?$Lt(e,t):BI(e)?ALt(e,t):ILt(e,t)}function xW(e,t){return MLt(e,t)}function wW(e,t=[]){return{type:"setIfMissing",path:t,value:e}}function sie(e,t,n=[]){const r=yO(e,t),i=yW(r);return{type:"diffMatchPatch",path:n,value:i}}function Ld(e,t,n=[]){return{type:"insert",path:n,position:t,items:e}}function ps(e,t=[]){return{type:"set",path:t,value:e}}function wo(e=[]){return{type:"unset",path:e}}function CW(e){return e.type?CW(e.type):e.name==="block"}const RLt=Object.prototype.toString;function v5e(e){switch(RLt.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}return e===null?"null":e===void 0?"undefined":e&&typeof e=="object"&&"nodeType"in e&&e.nodeType===1?"element":e===Object(e)?"object":typeof e}var y5e={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},b5e={0:8203,1:8204,2:8205,3:65279};new Array(4).fill(String.fromCodePoint(b5e[0])).join("");Object.fromEntries(Object.entries(b5e).map(e=>e.reverse()));Object.fromEntries(Object.entries(y5e).map(e=>e.reverse()));var PLt=`${Object.values(y5e).map(e=>`\\u{${e.toString(16)}}`).join("")}`,lie=new RegExp(`[${PLt}]{4,}`,"gu");function FLt(e){var t;return{cleaned:e.replace(lie,""),encoded:((t=e.match(lie))==null?void 0:t[0])||""}}function NLt(e){return e&&JSON.parse(FLt(JSON.stringify(e)).cleaned)}const LLt=["pre","textarea","code"],r_="normal",vs=Object.freeze({_type:"block",markDefs:[],style:r_}),Zh=Object.freeze({_type:"span",marks:[]}),Ej={p:vs,blockquote:{...vs,style:"blockquote"}},x5e={span:{object:"text"}},kj={ol:{object:null},ul:{object:null}},Tj={h1:{...vs,style:"h1"},h2:{...vs,style:"h2"},h3:{...vs,style:"h3"},h4:{...vs,style:"h4"},h5:{...vs,style:"h5"},h6:{...vs,style:"h6"}},BLt={br:{...vs,style:r_}},w5e={b:"strong",strong:"strong",i:"em",em:"em",u:"underline",s:"strike-through",strike:"strike-through",del:"strike-through",code:"code",sup:"sup",sub:"sub",ins:"ins",mark:"mark",small:"small"},C5e={li:{...vs,style:r_,level:1,listItem:"bullet"}},VLt={...Ej,...x5e,...kj,...C5e,...Tj,...BLt};ra(Object.values(VLt).filter(e=>"style"in e).map(e=>e.style));ra(Object.values(w5e));function zLt(e){var t,n;if(!e)throw new Error("Parameter 'blockContentType' required");const r=e.of.find(CW);if(!L9(r))throw new Error("'block' type is not defined in this schema (required).");const i=(n=(t=r.fields.find(B4))==null?void 0:t.type)==null?void 0:n.of;if(!i)throw new Error("No `of` declaration found for blocks `children` field");const a=i.find(l=>l.name==="span");if(!a)throw new Error("No `span` type found in `block` schema type `children` definition");const o=i.filter(l=>l.name!=="span"&&Bi(l)),s=e.of.filter(l=>l.name!==r.name&&Bi(l));return{styles:ULt(r),decorators:WLt(a),annotations:HLt(a),lists:GLt(r),types:{block:e,span:a,inlineObjects:o,blockObjects:s}}}function ULt(e){const t=e.fields.find(N4);if(!t)throw new Error("A field with name 'style' is not defined in the block type (required).");const n=S5e(t.type.options);if(n.length===0)throw new Error("The style fields need at least one style defined. I.e: {title: 'Normal', value: 'normal'}.");return n}function HLt(e){return e.annotations.map(t=>({title:t.title,type:t,value:t.name,icon:t.icon}))}function WLt(e){return e.decorators}function GLt(e){const t=e.fields.find(L4);if(!t)throw new Error("A field with name 'list' is not defined in the block type (required).");const n=S5e(t.type.options);if(!n)throw new Error("The list field need at least to be an empty array");return n}function S5e(e){const t=e?e.list:void 0;return Array.isArray(t)?t.map(n=>RI(n)?n:{title:n,value:n}):[]}const $p={ANY_TYPE:0,NUMBER_TYPE:1,STRING_TYPE:2,BOOLEAN_TYPE:3,UNORDERED_NODE_ITERATOR_TYPE:4,ORDERED_NODE_ITERATOR_TYPE:5,UNORDERED_NODE_SNAPSHOT_TYPE:6,ORDERED_NODE_SNAPSHOT_TYPE:7,ANY_UNORDERED_NODE_TYPE:8,FIRST_ORDERED_NODE_TYPE:9};var YLt=(e,t,n)=>{var r;const i=(n==null?void 0:n.unstable_whitespaceOnPasteMode)||"preserve";let a=t.evaluate('//*[@id and contains(@id, "docs-internal-guid")]',t,null,$p.ORDERED_NODE_ITERATOR_TYPE,null).iterateNext();if(a){const o=sn(a)==="b";switch(o||(a=t.body),i){case"normalize":R8(a);break;case"remove":m8t(a);break}const s=t.evaluate("//*",t,null,$p.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let l=s.snapshotLength-1;l>=0;l--){const c=s.snapshotItem(l);c==null||c.setAttribute("data-is-google-docs","true"),((c==null?void 0:c.parentElement)===a||!o&&c.parentElement===t.body)&&(c==null||c.setAttribute("data-is-root-node","true"),sn(c)),sn(c)==="li"&&c.firstChild&&sn(c==null?void 0:c.firstChild)==="img"&&c.removeChild(c.firstChild)}return o&&((r=t.body.firstElementChild)==null||r.replaceWith(...Array.from(a.childNodes))),t}return t};const qLt=["/html/text()","/html/head/text()","/html/body/text()","/html/body/ul/text()","/html/body/ol/text()","//comment()","//style","//xml","//script","//meta","//link"];var KLt=(e,t)=>{var n,r,i;const a=t.evaluate("/html/body/text()",t,null,$p.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let s=a.snapshotLength-1;s>=0;s--){const l=a.snapshotItem(s),c=l.textContent||"";if(c.replace(/[^\S\n]+$/g,"")){const d=t.createElement("span");d.appendChild(t.createTextNode(c)),(n=l.parentNode)==null||n.replaceChild(d,l)}else(r=l.parentNode)==null||r.removeChild(l)}const o=t.evaluate(qLt.join("|"),t,null,$p.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let s=o.snapshotLength-1;s>=0;s--){const l=o.snapshotItem(s);l&&((i=l.parentNode)==null||i.removeChild(l))}return t},ZLt=(e,t)=>{const n=/<!-- notionvc:.*?-->/g;if(e.match(n)){const r=t.evaluate("//*",t,null,$p.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let i=r.snapshotLength-1;i>=0;i--){const a=r.snapshotItem(i);a==null||a.setAttribute("data-is-notion","true")}return t}return t},XLt=(e,t)=>{function n(r){var i,a;if(r.nodeType===$p.BOOLEAN_TYPE&&!LLt.includes(((i=r.parentElement)==null?void 0:i.tagName.toLowerCase())||""))r.textContent=((a=r.textContent)==null?void 0:a.replace(/\s\s+/g," ").replace(/[\r\n]+/g," "))||"";else for(let o=0;o<r.childNodes.length;o++)n(r.childNodes[o])}return n(t.body),t};const JLt=/(class="?Mso|style=(?:"|')[^"]*?\bmso-|w:WordDocument|<o:\w+>|<\/font>)/,QLt=["//o:p","//span[@style='mso-list:Ignore']","//span[@style='mso-list: Ignore']"],e8t=["//p[@class='MsoTocHeading']","//p[@class='MsoTitle']","//p[@class='MsoToaHeading']","//p[@class='MsoSubtitle']","//span[@class='MsoSubtleEmphasis']","//span[@class='MsoIntenseEmphasis']"],t8t={MsoTocHeading:["h3"],MsoTitle:["h1"],MsoToaHeading:["h2"],MsoSubtitle:["h5"],MsoSubtleEmphasis:["span","em"],MsoIntenseEmphasis:["span","em","strong"]};function n8t(e){return JLt.test(e)}var r8t=(e,t)=>{var n;if(!n8t(e))return t;const r=t.evaluate(QLt.join("|"),t,a=>a==="o"?"urn:schemas-microsoft-com:office:office":null,$p.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let a=r.snapshotLength-1;a>=0;a--){const o=r.snapshotItem(a);o!=null&&o.parentNode&&o.parentNode.removeChild(o)}const i=t.evaluate(e8t.join("|"),t,null,$p.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let a=i.snapshotLength-1;a>=0;a--){const o=i.snapshotItem(a),s=t8t[o.className],l=new Text(o.textContent||"");if(!s)continue;const c=document.createElement(s[0]);let d=c,h=c;s.slice(1).forEach(p=>{h=document.createElement(p),d.appendChild(h),d=h}),h.appendChild(l),(n=o==null?void 0:o.parentNode)==null||n.replaceChild(c,o)}return t},i8t=[XLt,ZLt,r8t,YLt,KLt];function a8t(e){const t=zLt(e),n=t.styles.map(o=>o.value||o.title),r=t.decorators.map(o=>o.value||o.title),i=t.annotations.map(o=>o.value||o.title||""),a=t.lists.map(o=>o.value||o.title||"");return{enabledBlockStyles:n,enabledSpanDecorators:r,enabledBlockAnnotations:i,enabledListTypes:a}}function sn(e){if(e&&"tagName"in e)return e.tagName.toLowerCase()}function o8t(e,t,n){const r=NLt(e),i=t(s8t(r));return i8t.forEach(a=>{a(r,i,n)}),i}function s8t(e){return e.trim()}function l8t(){if(v5e(DOMParser)==="undefined")throw new Error("The native `DOMParser` global which the `Html` deserializer uses by default is not present in this environment. You must supply the `options.parseHtml` function instead.");return e=>new DOMParser().parseFromString(e,"text/html")}function u8t(e){let t=0;const n=[],r=i=>{const a=[];i.forEach(o=>{t===0&&n.push(o),yr(o)&&(t>0&&(a.push(o),n.push(o)),t++,r(o.children)),o._type==="__block"&&(a.push(o),n.push(o.block))}),a.forEach(o=>{i.splice(i.indexOf(o),1)}),t--};return r(e),n}function c8t(e,t){const n=e.children[t+1];return n&&n._type==="span"?n:null}function d8t(e,t){const n=e.children[t-1];return n&&n._type==="span"?n:null}function uie(e){return[" "," "].includes(e)}function f8t(e){return e.forEach(t=>{yr(t)&&t.children.forEach((n,r)=>{if(!F1(n))return;const i=c8t(t,r),a=d8t(t,r);r===0&&(n.text=n.text.replace(/^[^\S\n]+/g,"")),r===t.children.length-1&&(n.text=n.text.replace(/[^\S\n]+$/g,"")),/\s/.test(n.text.slice(Math.max(0,n.text.length-1)))&&i&&F1(i)&&/\s/.test(i.text.slice(0,1))&&(n.text=n.text.replace(/[^\S\n]+$/g,"")),/\s/.test(n.text.slice(0,1))&&a&&F1(a)&&/\s/.test(a.text.slice(Math.max(0,a.text.length-1)))&&(n.text=n.text.replace(/^[^\S\n]+/g,"")),n.text||t.children.splice(r,1),a&&wt(a.marks,n.marks)&&uie(n.text)?(a.text+=" ",t.children.splice(r,1)):i&&wt(i.marks,n.marks)&&uie(n.text)&&(i.text=` ${i.text}`,t.children.splice(r,1))})}),e}function h8t(e){return e.reduce((t,n,r,i)=>{if(n._type==="block")return t.push(n),t;if(n._type==="__block")return t.push(n.block),t;const a=t[t.length-1];if(r>0&&!yr(i[r-1])&&yr(a))return a.children.push(n),t;const o={...vs,children:[n]};return t.push(o),t},[])}function p8t(e){return Object.prototype.toString.call(e)=="[object NodeList]"}function F1(e){return e._type==="span"}function cie(e){return e._type==="block"}function die(e){return e._type==="__decorator"}function fie(e){return e._type==="__annotation"}function ki(e){return e.nodeType===1}function R8(e){let t=0,n=null;const r=[];for(let i=e.firstChild;i;i=i.nextSibling){if(!ki(i)){R8(i),t=0;continue}const a=i;g8t(a)?(n&&a.parentElement===n?(t++,t>1&&r.push(a)):t=1,n=a.parentElement):(R8(i),t=0)}r.forEach(i=>{var a;return(a=i.parentElement)==null?void 0:a.removeChild(i)})}function m8t(e){const t=[];function n(r){var i,a;if(ki(r)){const o=r;if(sn(o)==="br"&&(sn(o.nextElementSibling)==="p"||sn(o.previousElementSibling)==="p")){t.push(o);return}if((sn(o)==="p"||sn(o)==="br")&&((a=(i=o==null?void 0:o.firstChild)==null?void 0:i.textContent)==null?void 0:a.trim())===""){t.push(o);return}for(let s=o.firstChild;s;s=s.nextSibling)n(s)}}n(e),t.forEach(r=>{var i;return(i=r.parentElement)==null?void 0:i.removeChild(r)})}function g8t(e){var t;return["p","br"].includes(sn(e)||"")&&!((t=e.textContent)!=null&&t.trim())}const _5e=Object.keys(kj);function v8t(e){const t=ki(e)&&e.getAttribute("style");return/font-style\s*:\s*italic/.test(t||"")}function y8t(e){const t=ki(e)&&e.getAttribute("style");return/font-weight\s*:\s*700/.test(t||"")}function b8t(e){if(!ki(e)||sn(e.parentNode)==="a")return!1;const t=ki(e)&&e.getAttribute("style");return/text-decoration\s*:\s*underline/.test(t||"")}function x8t(e){const t=ki(e)&&e.getAttribute("style");return/text-decoration\s*:\s*(?:.*line-through.*;)/.test(t||"")}function Nx(e){return ki(e)&&!!e.getAttribute("data-is-google-docs")}function w8t(e){return ki(e)&&!!e.getAttribute("data-is-root-node")}function C8t(e){const t=sn(e.parentNode);if(!(t&&!_5e.includes(t)))return sn(e.parentNode)==="ul"?"bullet":"number"}function S8t(e){let t=0;if(sn(e)==="li"){let n=e.parentNode;for(;n;){const r=sn(n);r&&_5e.includes(r)&&t++,n=n.parentNode}}else t=1;return t}const _8t={...Ej,...Tj};function E8t(e,t){const n=sn(e.firstChild),r=n&&_8t[n];return r&&t.includes(r.style)?r.style:r_}function k8t(e,t){return[{deserialize(n){if(ki(n)&&sn(n)==="span"&&Nx(n)){const r={...Zh,marks:[],text:n.textContent};return y8t(n)&&r.marks.push("strong"),b8t(n)&&r.marks.push("underline"),x8t(n)&&r.marks.push("strike-through"),v8t(n)&&r.marks.push("em"),r}}},{deserialize(n,r){var i;if(sn(n)==="li"&&Nx(n))return{...vs,listItem:C8t(n),level:S8t(n),style:E8t(n,t.enabledBlockStyles),children:r(((i=n.firstChild)==null?void 0:i.childNodes)||[])}}},{deserialize(n){var r;if(sn(n)==="br"&&Nx(n)&&ki(n)&&n.classList.contains("apple-interchange-newline"))return{...Zh,text:""};if(sn(n)==="br"&&Nx(n)&&ki(n)&&((r=n==null?void 0:n.parentNode)==null?void 0:r.textContent)==="")return{...Zh,text:""};if(sn(n)==="br"&&Nx(n)&&ki(n)&&w8t(n))return{...Zh,text:""}}}]}function T8t(e=16){const t=new Uint8Array(e);return DH(t),t}const E5e=[];for(let e=0;e<256;++e)E5e[e]=(e+256).toString(16).slice(1);function P8(e){return T8t(e).reduce((t,n)=>t+E5e[n],"").slice(0,e)}function A8t(e,t){if(e==="ul"&&t.includes("bullet"))return"bullet";if(e==="ol"&&t.includes("number"))return"number"}function j8t(e,t){return[{deserialize(n){if(sn(n)==="pre")return;const r=(n.nodeType===3&&(n.textContent||"").replace(/[\r\n]/g," ").replace(/\s\s+/g," ")===" "&&n.nextSibling&&n.nextSibling.nodeType!==3&&n.previousSibling&&n.previousSibling.nodeType!==3||n.textContent!==" ")&&sn(n.parentNode)!=="body";if(n.nodeName==="#text"&&r)return{...Zh,marks:[],text:(n.textContent||"").replace(/\s\s+/g," ")}}},{deserialize(n){if(sn(n)!=="pre")return;const r=t.enabledBlockStyles.includes("code");return{_type:"block",style:"normal",markDefs:[],children:[{...Zh,marks:r?["code"]:[],text:n.textContent||""}]}}},{deserialize(n,r){if(sn(n)!=="blockquote")return;const i={...Ej,...Tj};delete i.blockquote;const a=[];return n.childNodes.forEach((o,s)=>{if(o.nodeType===1&&Object.keys(i).includes(o.localName.toLowerCase())){if(!n.ownerDocument)return;const l=n.ownerDocument.createElement("span");l.appendChild(n.ownerDocument.createTextNode("\r")),o.childNodes.forEach(c=>{l.appendChild(c.cloneNode(!0))}),s!==n.childNodes.length&&l.appendChild(n.ownerDocument.createTextNode("\r")),a.push(l)}else a.push(o)}),{_type:"block",style:"blockquote",markDefs:[],children:r(a)}}},{deserialize(n,r){const i={...Ej,...Tj},a=sn(n);let o=a?i[a]:void 0;if(o)return n.parentNode&&sn(n.parentNode)==="li"?r(n.childNodes):(t.enabledBlockStyles.includes(o.style)||(o=vs),{...o,children:r(n.childNodes)})}},{deserialize(n,r){const i=sn(n);if(!(!i||!(i in x5e)))return r(n.childNodes)}},{deserialize(n,r){if(sn(n)==="div")return r(n.childNodes)}},{deserialize(n,r){const i=sn(n);if(!(!i||!(i in kj)))return r(n.childNodes)}},{deserialize(n){if(sn(n)==="br")return{...Zh,text:`
`}}},{deserialize(n,r,i){const a=sn(n),o=a?C5e[a]:void 0,s=sn(n.parentNode)||"";if(!o||!n.parentNode||!kj[s])return;const l=A8t(s,t.enabledListTypes);return l?(o.listItem=l,{...o,children:r(n.childNodes)}):i({_type:"block",children:r(n.childNodes)})}},{deserialize(n,r){const i=w5e[sn(n)||""];if(!(!i||!t.enabledSpanDecorators.includes(i)))return{_type:"__decorator",name:i,children:r(n.childNodes)}}},{deserialize(n,r){if(sn(n)!="a")return;const i=t.enabledBlockAnnotations.includes("link"),a=ki(n)&&n.getAttribute("href");if(!a)return r(n.childNodes);let o;return i?(o={_key:P8(12),_type:"link",href:a},{_type:"__annotation",markDef:o,children:r(n.childNodes)}):n.appendChild(n.ownerDocument.createTextNode(` (${a})`))&&r(n.childNodes)}}]}function I8t(e){const t=ki(e)&&e.getAttribute("style");return/font-style:italic/.test(t||"")}function D8t(e){const t=ki(e)&&e.getAttribute("style");return/font-weight:700/.test(t||"")||/font-weight:600/.test(t||"")}function $8t(e){const t=ki(e)&&e.getAttribute("style");return/text-decoration:underline/.test(t||"")}function O8t(e){return ki(e)&&!!e.getAttribute("data-is-notion")}function M8t(e){return[{deserialize(t){if(ki(t)&&sn(t)==="span"&&O8t(t)){const n={...Zh,marks:[],text:t.textContent};return D8t(t)&&n.marks.push("strong"),$8t(t)&&n.marks.push("underline"),I8t(t)&&n.marks.push("em"),n}}}]}function R8t(e){const t=ki(e)&&e.getAttribute("style");if(t&&t.match(/lfo\d+/))return t.match("lfo1")?"bullet":"number"}function P8t(e){const t=ki(e)&&e.getAttribute("style");if(!t)return;const n=t.match(/level\d+/);if(!n)return;const[r]=n[0].match(/\d/)||[];return(r?parseInt(r,10):1)||1}function F8t(e){return ki(e)&&e.className?e.className==="MsoListParagraphCxSpFirst"||e.className==="MsoListParagraphCxSpMiddle"||e.className==="MsoListParagraphCxSpLast":!1}function N8t(){return[{deserialize(e,t){if(sn(e)==="p"&&F8t(e))return{...vs,listItem:R8t(e),level:P8t(e),style:r_,children:t(e.childNodes)}}}]}function L8t(e,t){return[...N8t(),...M8t(),...k8t(e,t),...j8t(e,t)]}var B8t=Object.defineProperty,V8t=(e,t,n)=>t in e?B8t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ad=(e,t,n)=>V8t(e,typeof t!="symbol"?t+"":t,n);class z8t{constructor(t,n={}){Ad(this,"blockContentType"),Ad(this,"rules"),Ad(this,"parseHtml"),Ad(this,"_markDefs",[]),Ad(this,"deserialize",s=>{this._markDefs=[];const{parseHtml:l}=this,c=l(s),d=Array.from(c.childNodes),h=f8t(u8t(h8t(this.deserializeElements(d))));this._markDefs.length>0&&h.filter(m=>m._type==="block").forEach(m=>{m.markDefs=m.markDefs||[],m.markDefs=m.markDefs.concat(this._markDefs.filter(g=>cr(m.children.map(v=>v.marks||[])).includes(g._key)))});const p=this.blockContentType.of.find(CW);return p?h.map(m=>(m._type==="block"&&(m._type=p.name),m)):h}),Ad(this,"deserializeElements",(s=[])=>{let l=[];return s.forEach(c=>{l=l.concat(this.deserializeElement(c))}),l}),Ad(this,"deserializeElement",s=>{var l,c;const d=m=>{if(p8t(m))return this.deserializeElements(Array.from(m));if(Array.isArray(m))return this.deserializeElements(m);if(m)return this.deserializeElement(m)},h=m=>({_type:"__block",block:m});let p;for(let m=0;m<this.rules.length;m++){const g=this.rules[m];if(!g.deserialize)continue;const v=g.deserialize(s,d,h),b=v5e(v);if(b!=="array"&&b!=="object"&&b!=="null"&&b!=="undefined")throw new Error(`A rule returned an invalid deserialized representation: "${p}".`);if(v!==void 0){{if(v===null)throw new Error("Deserializer rule returned `null`");Array.isArray(v)?p=v:die(v)?p=this.deserializeDecorator(v):fie(v)?p=this.deserializeAnnotation(v):p=v}if(v&&!Array.isArray(v)&&cie(v)&&"listItem"in v){let y=(l=s.parentNode)==null?void 0:l.parentNode;for(;y&&sn(y)==="li";)y=(c=y.parentNode)==null?void 0:c.parentNode,v.level=v.level?v.level+1:1}v&&!Array.isArray(v)&&cie(v)&&v.style==="blockquote"&&v.children.forEach((y,x)=>{F1(y)&&y.text==="\r"&&(y.text=`

`,(x===0||x===v.children.length-1)&&v.children.splice(x,1))});break}}return p||d(s.childNodes)||[]}),Ad(this,"deserializeDecorator",s=>{const{name:l}=s,c=d=>{if(die(d))return this.deserializeDecorator(d);if(F1(d))d.marks=d.marks||[],d.text.trim()&&d.marks.unshift(l);else if("children"in d&&Array.isArray(d.children)){const h=d;h.children=h.children.map(c)}return d};return s.children.reduce((d,h)=>{const p=c(h);return Array.isArray(p)?d.concat(p):(d.push(p),d)},[])}),Ad(this,"deserializeAnnotation",s=>{const{markDef:l}=s;this._markDefs.push(l);const c=d=>{if(fie(d))return this.deserializeAnnotation(d);if(F1(d))d.marks=d.marks||[],d.text.trim()&&d.marks.unshift(l._key);else if("children"in d&&Array.isArray(d.children)){const h=d;h.children=h.children.map(c)}return d};return s.children.reduce((d,h)=>{const p=c(h);return Array.isArray(p)?d.concat(p):(d.push(p),d)},[])});const{rules:r=[],unstable_whitespaceOnPasteMode:i="preserve"}=n;if(!t)throw new Error("Parameter 'blockContentType' is required");const a=L8t(t,a8t(t));this.rules=[...r,...a];const o=n.parseHtml||l8t();this.blockContentType=t,this.parseHtml=s=>o8t(s,o,{unstable_whitespaceOnPasteMode:i}).body}}function DS(e,t={}){if(e._type!==(t.blockTypeName||"block"))return"_key"in e?e:{...e,_key:P8(12)};const n={_key:P8(12),children:[],markDefs:[],...e},r=n.children[n.children.length-1];if(!r)return n.children=[{_type:"span",_key:`${n._key}0`,text:"",marks:[]}],n;const i=[],a=t.allowedDecorators&&Array.isArray(t.allowedDecorators)?t.allowedDecorators:!1;return n.children=n.children.reduce((o,s)=>{const l=o[o.length-1];return l&&Ti(s)&&Ti(l)&&wt(l.marks,s.marks)?(r&&r===s&&s.text===""&&n.children.length>1||(l.text+=s.text),o):(o.push(s),o)},[]).map((o,s)=>{if(!o)throw new Error("missing child");return o._key=`${n._key}${s}`,Ti(o)&&(o.marks?a&&(o.marks=o.marks.filter(l=>{var c;const d=a.includes(l),h=(c=n.markDefs)==null?void 0:c.some(p=>p._key===l);return d||h})):o.marks=[],i.push(...o.marks)),o}),n.markDefs=(n.markDefs||[]).filter(o=>i.includes(o._key)),n}function hie(e,t,n={}){return new z8t(t,n).deserialize(e).map(r=>DS(r))}const F8="sanity-pte:";hi(F8);function yi(e){const t=`${F8}${e}`;return hi&&hi.enabled(t)?hi(t):hi(F8)}function pie(e,t,n){const r=[e.path[0]];if(!t)return null;const i=t[r[0]];if(!i)return null;const a=[{_key:i._key}];if(i._type!==n.block.name)return a;let o;const s=e.path.slice(0,2),l=Array.isArray(i.children)&&i.children[s[1]];return l&&(o=["children",{_key:l._key}]),o?[...a,...o]:a}function mie(e,t){if(!t)return[];const[n,r]=Array.from(B.nodes(t,{at:[],match:o=>Pn(e.path[0])&&o._key===e.path[0]._key}))[0]||[void 0,void 0];if(!n||!Ue.isElement(n))return[];if(t.isVoid(n))return[r[0],0];const i=[e.path[2]],a=n.children.findIndex(o=>wt([{_key:o._key}],i));if(a>=0&&n.children[a]){const o=n.children[a];return Ue.isElement(o)&&t.isVoid(o)?r.concat(a).concat(0):r.concat(a)}return r}function Gd(e,t,n){if(!t)return null;let r=null,i=null;const a=t.anchor&&pie(t.anchor,e,n);a&&t.anchor&&(r={path:a,offset:t.anchor.offset});const o=t.focus&&pie(t.focus,e,n);o&&t.focus&&(i={path:o,offset:t.focus.offset});const s=!!(pe.isRange(t)&&pe.isBackward(t));return r&&i?{anchor:r,focus:i,backward:s}:null}function Nm(e,t){if(!e||!t)return null;const n={path:mie(e.anchor,t),offset:e.anchor.offset},r={path:mie(e.focus,t),offset:e.focus.offset};return r.path.length===0||n.path.length===0?null:n&&r?{anchor:n,focus:r}:null}function U8t(e,t){const n=zt.transform(e.anchor,t),r=zt.transform(e.focus,t);return n===null||r===null?null:zt.equals(n,e.anchor)&&zt.equals(r,e.focus)?e:{anchor:n,focus:r}}function gie(e,t){if(!e||!t)return null;const n=[];let r=e.offset||0;const i=typeof e.path[0]=="object"&&"_key"in e.path[0]&&e.path[0]._key,a=typeof e.path[2]=="object"&&"_key"in e.path[2]&&e.path[2]._key,o=t.find(s=>s._key===i);if(o)n.push({_key:o._key});else return null;if(o&&e.path[1]==="children"){if(!o.children||Array.isArray(o.children)&&o.children.length===0)return null;const s=Array.isArray(o.children)&&o.children.find(l=>l._key===a);if(s)n.push("children"),n.push({_key:s._key}),r=s.text&&s.text.length>=e.offset?e.offset:s.text&&s.text.length||0;else return null}return{path:n,offset:r}}function H8t(e,t){if(!e||!t||t.length===0)return null;let n=null,r=null;const{anchor:i,focus:a}=e;return i&&t.find(o=>wt({_key:o._key},i.path[0]))&&(n=gie(i,t)),a&&t.find(o=>wt({_key:o._key},a.path[0]))&&(r=gie(a,t)),n&&r?{anchor:n,focus:r,backward:e.backward}:null}const W8t=[],G8t=[],k5e="void-child";function N1(e,t){const n=t[e._key];return n&&wt(e,n)?n:(t[e._key]=e,e)}function Uc(e,{schemaTypes:t},n={}){return e&&Array.isArray(e)?e.map(r=>{const{_type:i,_key:a,...o}=r,s=[{_key:k5e,_type:"span",text:"",marks:[]}];if(r&&r._type===t.block.name){const l=r;let c=!1;const d=typeof l.style>"u",h=typeof l.markDefs>"u",p=typeof l.children>"u",m=(l.children||[]).map(g=>{const{_type:v,_key:b,...y}=g;return v!=="span"?(c=!0,N1({_type:v,_key:b,children:s,value:y,__inline:!0},n)):g});return!d&&!h&&!p&&!c&&Ue.isElement(r)?r:(d&&(o.style=t.styles[0].value),N1({_type:i,_key:a,...o,children:m},n))}return N1({_type:i,_key:a,children:s,value:o},n)}):[]}function Ar(e,t,n={}){return e.map(r=>{const{_key:i,_type:a}=r;if(!i||!a)throw new Error("Not a valid block");if(a===t&&"children"in r&&Array.isArray(r.children)&&i){let s=!1;const l=r.children.map(c=>{const{_type:d}=c;if("value"in c&&d!=="span"){s=!0;const{value:h,_key:p,_type:m,__inline:g,children:v,...b}=c;return N1({...b,...h,_key:p,_type:m},n)}return c});return s?N1({...r,children:l,_key:i,_type:a},n):r}const o="value"in r&&r.value;return N1({_key:i,_type:a,...typeof o=="object"?o:{}},n)})}function Jg(e,t){var n;return e===void 0||e&&Array.isArray(e)&&e.length===0||e&&Array.isArray(e)&&e.length===1&&Ue.isElement(e[0])&&e[0]._type===t.block.name&&"style"in e[0]&&e[0].style===t.styles[0].value&&!("listItem"in e[0])&&Array.isArray(e[0].children)&&e[0].children.length===1&&$e.isText(e[0].children[0])&&e[0].children[0]._type==="span"&&!((n=e[0].children[0].marks)!=null&&n.join(""))&&e[0].children[0].text===""}const Aj=new WeakMap,nT=new WeakMap,nk=new WeakMap,Lx=new WeakMap,Bx=new WeakMap,Vx=new WeakMap,N8=new WeakMap,Bs=new WeakMap,jj=new WeakMap,rk=e=>u.jsx("div",{children:u.jsx("pre",{children:JSON.stringify(e.value,null,2)})}),Y8t=R.div`
  user-select: none;
  border: ${e=>e.selected?"1px solid blue":"1px solid transparent"};
`;R.span`
  background: #999;
  border: ${e=>e.selected?"1px solid blue":"1px solid transparent"};
`;const q8t=R.div`
  &.pt-list-item {
    width: fit-content;
    position: relative;
    display: block;

    /* Important 'transform' in order to force refresh the ::before and ::after rules
      in Webkit: https://stackoverflow.com/a/21947628/831480
    */
    transform: translateZ(0);
    margin-left: ${e=>Z8t(e.listLevel)};
  }
  &.pt-list-item > .pt-list-item-inner {
    display: flex;
    margin: 0;
    padding: 0;
    &:before {
      justify-content: flex-start;
      vertical-align: top;
    }
  }
  &.pt-list-item-bullet > .pt-list-item-inner:before {
      content: '${e=>J8t(e.listLevel,e.listStyle)}';
      font-size: 0.4375rem; /* 7px */
      line-height: 1.5rem; /* Same as body text */
      /* Optical alignment */
      position: relative;
    }
  }
  &.pt-list-item-bullet > .pt-list-item-inner {
    &:before {
      min-width: 1.5rem; /* Make sure space between bullet and text never shrinks */
    }
  }
  &.pt-list-item-number {
    counter-increment: ${e=>Q8t(e.listLevel)};
    counter-reset: ${e=>e6t(e.listLevel)};
  }
  & + :not(.pt-list-item-number) {
    counter-reset: listItemNumber;
  }
  &.pt-list-item-number > .pt-list-item-inner:before {
    content: ${e=>t6t(e.listLevel)};
    min-width: 1.5rem; /* Make sure space between number and text never shrinks */
    /* Optical alignment */
    position: relative;
    top: 1px;
  }
`,K8t=R.div``;function Z8t(e){switch(Number(e)){case 1:return"1.5em";case 2:return"3em";case 3:return"4.5em";case 4:return"6em";case 5:return"7.5em";case 6:return"9em";case 7:return"10.5em";case 8:return"12em";case 9:return"13.5em";case 10:return"15em";default:return"0em"}}const X8t=["●","○","■"];function J8t(e,t){const n=(e-1)%3;return t==="bullet"?X8t[n]:"*"}function Q8t(e){switch(e){case 1:return"listItemNumber";case 2:return"listItemAlpha";case 3:return"listItemRoman";case 4:return"listItemNumberNext";case 5:return"listItemLetterNext";case 6:return"listItemRomanNext";case 7:return"listItemNumberNextNext";case 8:return"listItemAlphaNextNext";case 9:return"listItemRomanNextNext";default:return"listItemNumberNextNextNext"}}function e6t(e){switch(e){case 1:return"listItemAlpha";case 2:return"listItemRoman";case 3:return"listItemNumberNext";case 4:return"listItemLetterNext";case 5:return"listItemRomanNext";case 6:return"listItemNumberNextNext";case 7:return"listItemAlphaNextNext";case 8:return"listItemRomanNextNext";case 9:return"listItemNumberNextNextNext";default:return"listItemNumberNextNextNext"}}function t6t(e){switch(e){case 1:return"counter(listItemNumber) '. '";case 2:return"counter(listItemAlpha, lower-alpha) '. '";case 3:return"counter(listItemRoman, lower-roman) '. '";case 4:return"counter(listItemNumberNext) '. '";case 5:return"counter(listItemLetterNext, lower-alpha) '. '";case 6:return"counter(listItemRomanNext, lower-roman) '. '";case 7:return"counter(listItemNumberNextNext) '. '";case 8:return"counter(listItemAlphaNextNext, lower-alpha) '. '";case 9:return"counter(listItemRomanNextNext, lower-roman) '. '";default:return"counter(listItemNumberNextNextNext) '. '"}}const uc=yi("components:DraggableBlock"),vie=({children:e,element:t,readOnly:n,blockRef:r})=>{const i=cd(),a=f.useRef(),[o,s]=f.useState(!1),l=f.useMemo(()=>B.isVoid(i,t),[i,t]),c=f.useMemo(()=>B.isInline(i,t),[i,t]),[d,h]=f.useState(null);f.useEffect(()=>h(r?r.current:we.toDOMNode(i,t)),[i,t,r]);const p=f.useCallback(k=>{const T=Lx.get(i);if(!T||!d)return;k.preventDefault(),k.dataTransfer.dropEffect="move",Bx.set(i,t);const j=d.getBoundingClientRect(),I=j.top,A=j.height,$=k.pageY,D=Math.abs(I-$);let M="bottom";if(t===i.children[0]?M="top":D<A/2?(M="top",Vx.set(i,M)):(M="bottom",Vx.set(i,M)),T===t){k.dataTransfer.dropEffect="none";return}s(!0)},[d,i,t]),m=f.useCallback(()=>{s(!1)},[]),g=f.useCallback(k=>{const T=Bx.get(i);if(T){nk.set(i,!1),k.preventDefault(),k.stopPropagation(),Bx.delete(i),a.current&&(uc("Removing drag ghost"),document.body.removeChild(a.current));const j=Vx.get(i);Vx.delete(i);let I=we.findPath(i,T);const A=we.findPath(i,t),$=ie.isBefore(A,I);if(j==="bottom"&&!$){if(I[0]>=i.children.length-1){uc("target is already at the bottom, not moving");return}const D=I;I=ie.next(I),uc(`Adjusting targetPath from ${JSON.stringify(D)} to ${JSON.stringify(I)}`)}if(j==="top"&&$&&I[0]!==i.children.length-1){const D=I;I=ie.previous(I),uc(`Adjusting targetPath from ${JSON.stringify(D)} to ${JSON.stringify(I)}`)}if(ie.equals(I,A)){k.preventDefault(),uc("targetPath and myPath is the same, not moving");return}uc(`Moving element ${t._key} from path ${JSON.stringify(A)} to ${JSON.stringify(I)} (${j})`),ue.moveNodes(i,{at:A,to:I}),i.onChange();return}uc("No target element, not doing anything")},[i,t]),v=f.useCallback(k=>{Lx.get(i)&&(uc("On drop (prevented)",t),k.preventDefault(),k.stopPropagation(),s(!1))},[i,t]),b=f.useCallback(k=>{if(!l){Lx.delete(i);return}nk.set(i,!0),Lx.set(i,t),k.stopPropagation();const T=k.target;T instanceof HTMLElement&&(T.style.opacity="1")},[i,t,l]),y=f.useCallback(k=>{if(!l||c){uc("Not dragging block"),Lx.delete(i),nk.set(i,!1);return}if(uc("Drag start"),nk.set(i,!0),k.dataTransfer&&(k.dataTransfer.setData("application/portable-text","something"),k.dataTransfer.effectAllowed="move"),d&&d instanceof HTMLElement){let T=d.cloneNode(!0);const j=T.querySelector("[data-pt-drag-ghost-element]");if(j&&(T=j),T.setAttribute("data-dragged",""),document.body){a.current=T,T.style.position="absolute",T.style.left="-99999px",T.style.boxSizing="border-box",document.body.appendChild(T);const I=d.getBoundingClientRect(),A=k.clientX-I.left,$=k.clientY-I.top;T.style.width=`${I.width}px`,T.style.height=`${I.height}px`,k.dataTransfer.setDragImage(T,A,$)}}b(k)},[d,i,b,c,l]),x=o&&i.children[0]===Bx.get(i),w=o&&i.children[i.children.length-1]===Bx.get(i),C=Vx.get(i),S=x||o&&!x&&!w&&C==="top",_=w||o&&!x&&!w&&C==="bottom",E=f.useMemo(()=>u.jsx("div",{className:"pt-drop-indicator",style:{position:"absolute",width:"100%",height:1,borderBottom:"1px solid currentColor",zIndex:5}}),[]);return n?u.jsx(u.Fragment,{children:e}):u.jsxs("div",{draggable:l,onDragStart:y,onDrag:b,onDragOver:p,onDragLeave:m,onDragEnd:g,onDrop:v,children:[S&&E,e,_&&E]})};yi("components:Element");const n6t=[],r6t={display:"inline-block"},i6t=({attributes:e,children:t,element:n,schemaTypes:r,readOnly:i,renderBlock:a,renderChild:o,renderListItem:s,renderStyle:l,spellCheck:c})=>{const d=cd(),h=Zke(),p=f.useRef(null),m=f.useRef(null),g=h&&d.selection&&pe.isCollapsed(d.selection)||!1,v=f.useMemo(()=>Ar([n],r.block.name,Bs.get(d))[0],[d,n,r.block.name]);let b=t,y;const x=f.useMemo(()=>[{_key:n._key}],[n]);if(typeof n._type!="string")throw new Error("Expected element to have a _type property");if(typeof n._key!="string")throw new Error("Expected element to have a _key property");if(d.isInline(n)){const _=we.findPath(d,n),[E]=B.node(d,_,{depth:1}),k=r.inlineObjects.find(T=>T.name===n._type);if(!k)throw new Error("Could not find type for inline block element");if(Ue.isElement(E)){const T=[{_key:E._key},"children",{_key:n._key}];return u.jsxs("span",{...e,children:[t,u.jsxs("span",{draggable:!i,className:"pt-inline-object","data-testid":"pt-inline-object",ref:m,style:r6t,contentEditable:!1,children:[o&&o({annotations:n6t,children:u.jsx(rk,{value:v}),editorElementRef:m,focused:g,path:T,schemaType:k,selected:h,type:k,value:v}),!o&&u.jsx(rk,{value:v})]},n._key)]})}throw new Error("Block not found!")}if(n._type===r.block.name){y="pt-block pt-text-block";const _="listItem"in n,E="style"in n&&n.style||"normal";y=`pt-block pt-text-block pt-text-block-style-${E}`;const k=r.styles.find(A=>A.value===E);l&&k&&(b=l({block:n,children:t,focused:g,selected:h,value:E,path:x,schemaType:k,editorElementRef:p}));let T;if(_&&(typeof n.level=="number"&&(T=n.level),y+=` pt-list-item pt-list-item-${n.listItem} pt-list-item-level-${T||1}`),d.isListBlock(v)&&_&&n.listItem){const A=r.lists.find($=>$.value===n.listItem);s&&A?b=s({block:v,children:b,focused:g,selected:h,value:n.listItem,path:x,schemaType:A,level:v.level||1,editorElementRef:p}):b=u.jsx(q8t,{listStyle:v.listItem||r.lists[0].value,listLevel:v.level||1,children:u.jsx(K8t,{children:b})})}const j=Object.defineProperty({children:b,editorElementRef:p,focused:g,level:T,listItem:_?n.listItem:void 0,path:x,selected:h,style:E,schemaType:r.block,value:v},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),r.block}}),I=a?a(j):t;return u.jsx("div",{...e,className:y,spellCheck:c,children:u.jsx(vie,{element:n,readOnly:i,blockRef:p,children:u.jsx("div",{ref:p,children:I})})},n._key)}const w=r.blockObjects.find(_=>_.name===n._type);if(!w)throw new Error(`Could not find schema type for block element of _type ${n._type}`);y="pt-block pt-object-block";const C=Ar([n],r.block.name,Bs.get(d))[0];let S;if(a){const _=Object.defineProperty({children:u.jsx(rk,{value:v}),editorElementRef:p,focused:g,path:x,schemaType:w,selected:h,value:C},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),w}});S=a(_)}return u.jsxs("div",{...e,className:y,children:[t,u.jsxs(vie,{element:n,readOnly:i,blockRef:p,children:[S&&u.jsx("div",{ref:p,contentEditable:!1,children:S}),!S&&u.jsx(Y8t,{selected:h,children:u.jsx(rk,{value:v})})]})]},n._key)},T5e=f.createContext(null),Wi=()=>{const e=f.useContext(T5e);if(!e)throw new Error("The `usePortableTextEditor` hook must be used inside the <PortableTextEditor> component's context.");return e};function a6t(e){const t=f.useCallback(()=>alert(JSON.stringify(e.annotation)),[e.annotation]);return u.jsx("span",{style:{color:"blue"},onClick:t,children:e.children})}function yie(e){var t,n,r;if(!e)throw new Error("Parameter 'portabletextType' missing (required)");const i=(t=e.of)==null?void 0:t.find(A5e);if(!i)throw new Error("Block type is not defined in this schema (required)");const a=(n=i.fields)==null?void 0:n.find(d=>d.name==="children");if(!a)throw new Error("Children field for block type found in schema (required)");const o=a.type.of;if(!o)throw new Error("Valid types for block children not found in schema (required)");const s=o.find(d=>d.name==="span");if(!s)throw new Error("Span type not found in schema (required)");const l=o.filter(d=>d.name!=="span")||[],c=((r=e.of)==null?void 0:r.filter(d=>d.name!==i.name))||[];return{styles:o6t(i),decorators:s6t(s),lists:l6t(i),block:i,span:s,portableText:e,inlineObjects:l,blockObjects:c,annotations:s.annotations}}function o6t(e){var t,n,r;const i=(t=e.fields)==null?void 0:t.find(o=>o.name==="style");if(!i)throw new Error("A field with name 'style' is not defined in the block type (required).");const a=((n=i.type.options)==null?void 0:n.list)&&((r=i.type.options.list)==null?void 0:r.filter(o=>o.value));if(!a||a.length===0)throw new Error("The style fields need at least one style defined. I.e: {title: 'Normal', value: 'normal'}.");return a}function s6t(e){return e.decorators}function l6t(e){var t,n;const r=(t=e.fields)==null?void 0:t.find(a=>a.name==="listItem");if(!r)throw new Error("A field with name 'listItem' is not defined in the block type (required).");const i=((n=r.type.options)==null?void 0:n.list)&&r.type.options.list.filter(a=>a.value);if(!i)throw new Error("The list field need at least to be an empty array");return i}function A5e(e){return e.type?A5e(e.type):e.name==="block"?e:null}function bie(e){return fW.compile({name:"blockTypeSchema",types:[e]}).get(e.name)}const Rm=yi("operationToPatches");Rm.enabled=!1;function u6t(e){const t=e.block.name;function n(d,h,p){Rm.enabled&&Rm("Operation",JSON.stringify(h,null,2));const m=d.isTextBlock(d.children[h.path[0]])&&d.children[h.path[0]];if(!m)throw new Error("Could not find block");const g=d.isTextBlock(m)&&d.isTextSpan(m.children[h.path[1]])&&m.children[h.path[1]];if(!g)throw new Error("Could not find child");const v=[{_key:m._key},"children",{_key:g._key},"text"],b=p[h.path[0]],y=d.isTextBlock(b)&&b.children[h.path[1]],x=d.isTextSpan(y)?y.text:"",w=sie(x,g.text,v);return w.value.length?[w]:[]}function r(d,h,p){const m=d&&d.children[h.path[0]];if(!m)throw new Error("Could not find block");const g=d.isTextBlock(m)&&m.children[h.path[1]]||void 0,v=d.isTextSpan(g)?g:void 0;if(g&&!v)throw new Error("Expected span");if(!v)throw new Error("Could not find child");const b=[{_key:m._key},"children",{_key:v._key},"text"],y=p[h.path[0]],x=d.isTextBlock(y)&&y.children[h.path[1]],w=d.isTextSpan(x)&&x.text,C=sie(w||"",v.text,b);return C.value?[C]:[]}function i(d,h){if(h.path.length===1){const p=d.children[h.path[0]];if(typeof p._key!="string")throw new Error("Expected block to have a _key");const m=i5e({...d.children[h.path[0]],...h.newProperties},n5e);return[ps(Ar([m],t)[0],[{_key:p._key}])]}else if(h.path.length===2){const p=d.children[h.path[0]];if(d.isTextBlock(p)){const m=p.children[h.path[1]];if(m){const g=p._key,v=m._key,b=[],y=Object.keys(h.newProperties);return y.forEach(x=>{if(y.length===1&&x==="_key"){const w=Jn(h.newProperties,x);b.push(ps(w,[{_key:g},"children",p.children.indexOf(m),x]))}else{const w=Jn(h.newProperties,x);b.push(ps(w,[{_key:g},"children",{_key:v},x]))}}),b}throw new Error("Could not find a valid child")}throw new Error("Could not find a valid block")}else throw new Error(`Unexpected path encountered: ${JSON.stringify(h.path)}`)}function a(d,h,p){const m=p[h.path[0]],g=d.isTextBlock(m);if(h.path.length===1){const v=h.path[0]===0?"before":"after",b=p[h.path[0]-1],y=h.path[0]===0?m==null?void 0:m._key:b==null?void 0:b._key;return y?[Ld([Ar([h.node],t)[0]],v,[{_key:y}])]:[wW(p,[]),Ld([Ar([h.node],t)[0]],"before",[h.path[0]])]}else if(g&&h.path.length===2&&d.children[h.path[0]]){const v=m.children.length===0||!m.children[h.path[1]-1]?"before":"after",b={...h.node};!b._type&&$e.isText(b)&&(b._type="span",b.marks=[]);const y=Ar([{_key:"bogus",_type:t,children:[b]}],t)[0].children[0];return[Ld([y],v,[{_key:m._key},"children",m.children.length<=1||!m.children[h.path[1]-1]?0:{_key:m.children[h.path[1]-1]._key}])]}return Rm("Something was inserted into a void block. Not producing editor patches."),[]}function o(d,h,p){const m=[],g=d.children[h.path[0]];if(!d.isTextBlock(g))throw new Error(`Block with path ${JSON.stringify(h.path[0])} is not a text block and can't be split`);if(h.path.length===1){const v=p[h.path[0]];if(d.isTextBlock(v)){const b=Ar([d.children[h.path[0]+1]],t)[0];b&&(m.push(Ld([b],"after",[{_key:g._key}])),v.children.slice(h.position).forEach(y=>{const x=[{_key:v._key},"children",{_key:y._key}];m.push(wo(x))}))}return m}if(h.path.length===2){const v=g.children[h.path[1]];if(d.isTextSpan(v)){const b=Ar([{...g,children:g.children.slice(h.path[1]+1,h.path[1]+2)}],t)[0].children;m.push(Ld(b,"after",[{_key:g._key},"children",{_key:v._key}])),m.push(ps(v.text,[{_key:g._key},"children",{_key:v._key},"text"]))}return m}return m}function s(d,h,p){const m=p[h.path[0]];if(h.path.length===1){if(m&&m._key)return[wo([{_key:m._key}])];throw new Error("Block not found")}else if(d.isTextBlock(m)&&h.path.length===2){const g=d.isTextBlock(m)&&m.children&&m.children[h.path[1]];return g?[wo([{_key:m._key},"children",{_key:g._key}])]:(Rm("Span not found in editor trying to remove node"),[])}else return Rm("Not creating patch inside object block"),[]}function l(d,h,p){const m=[],g=p[h.path[0]],v=d.children[h.path[0]];if(h.path.length===1)if(g!=null&&g._key){const b=Ar([d.children[h.path[0]-1]],t)[0];m.push(ps(b,[{_key:b._key}])),m.push(wo([{_key:g._key}]))}else throw new Error("Target key not found!");else if(h.path.length===2&&d.isTextBlock(v)){const b=d.isTextBlock(g)&&g.children[h.path[1]]||void 0,y=v.children[h.path[1]-1];d.isTextSpan(y)&&(m.push(ps(y.text,[{_key:g._key},"children",{_key:y._key},"text"])),b&&m.push(wo([{_key:g._key},"children",{_key:b._key}])))}else Rm("Void nodes can't be merged, not creating any patches");return m}function c(d,h,p){const m=[],g=p[h.path[0]],v=p[h.newPath[0]];if(h.path.length===1){const b=h.path[0]>h.newPath[0]?"before":"after";m.push(wo([{_key:g._key}])),m.push(Ld([Ar([g],t)[0]],b,[{_key:v._key}]))}else if(h.path.length===2&&d.isTextBlock(g)&&d.isTextBlock(v)){const b=g.children[h.path[1]],y=v.children[h.newPath[1]],x=h.newPath[1]===v.children.length?"after":"before",w=Ar([g],t)[0].children[h.path[1]];m.push(wo([{_key:g._key},"children",{_key:b._key}])),m.push(Ld([w],x,[{_key:v._key},"children",{_key:y._key}]))}return m}return{insertNodePatch:a,insertTextPatch:n,mergeNodePatch:l,moveNodePatch:c,removeNodePatch:s,removeTextPatch:r,setNodePatch:i,splitNodePatch:o}}const zx=yi("API:editable");function c6t(e,t,n){return function(r){return e.setEditable({focus:()=>{we.focus(r)},blur:()=>{we.blur(r)},toggleMark:i=>{r.pteToggleMark(i)},toggleList:i=>{r.pteToggleListItem(i)},toggleBlockStyle:i=>{r.pteToggleBlockStyle(i)},isMarkActive:i=>{try{return r.pteIsMarkActive(i)}catch(a){return console.warn(a),!1}},marks:()=>({...B.marks(r)||{}}).marks||[],undo:()=>r.undo(),redo:()=>r.redo(),select:i=>{const a=Nm(i,r);a?ue.select(r,a):ue.deselect(r),r.onChange()},focusBlock:()=>{if(r.selection){const i=je.descendant(r,r.selection.focus.path.slice(0,1));if(i)return Ar([i],t.block.name,Bs.get(r))[0]}},focusChild:()=>{if(r.selection){const i=je.descendant(r,r.selection.focus.path.slice(0,1));if(i&&r.isTextBlock(i))return Ar([i],t.block.name,Bs.get(r))[0].children[r.selection.focus.path[1]]}},insertChild:(i,a)=>{var o;if(!r.selection)throw new Error("The editor has no selection");const[s]=Array.from(B.nodes(r,{at:r.selection.focus.path.slice(0,1),match:p=>p._type===t.block.name}))[0]||[void 0];if(!s)throw new Error("No focused text block");if(i.name!==t.span.name&&!t.inlineObjects.some(p=>p.name===i.name))throw new Error("This type cannot be inserted as a child to a text block");const l=Uc([{_key:n(),_type:t.block.name,children:[{_key:n(),_type:i.name,...a||{}}]}],e)[0].children[0],c=r.selection.focus.path.slice(0,2),d=l._type===t.span.name,h=je.get(r,c);return d&&h._type!==t.span.name&&(zx("Inserting span child next to inline object child, moving selection + 1"),r.move({distance:1,unit:"character"})),ue.insertNodes(r,l,{select:!0,at:r.selection}),r.onChange(),((o=Gd(Ar(r.children,t.block.name,Bs.get(r)),r.selection,t))==null?void 0:o.focus.path)||[]},insertBlock:(i,a)=>{var o,s,l;const c=Uc([{_key:n(),_type:i.name,...a||{}}],e)[0];if(!r.selection){const h=Array.from(B.nodes(r,{match:p=>!B.isEditor(p),at:[],reverse:!0}))[0];return B.insertNode(r,c),h&&Jg([h[0]],t)&&ue.removeNodes(r,{at:h[1]}),r.onChange(),(s=(o=Gd(Ar(r.children,t.block.name,Bs.get(r)),r.selection,t))==null?void 0:o.focus.path)!=null?s:[]}const d=Array.from(B.nodes(r,{at:r.selection.focus.path.slice(0,1),match:h=>h._type===t.block.name}))[0];return B.insertNode(r,c),d&&Jg([d[0]],t)&&ue.removeNodes(r,{at:d[1]}),r.onChange(),((l=Gd(Ar(r.children,t.block.name,Bs.get(r)),r.selection,t))==null?void 0:l.focus.path)||[]},hasBlockStyle:i=>{try{return r.pteHasBlockStyle(i)}catch{return!1}},hasListStyle:i=>{try{return r.pteHasListStyle(i)}catch{return!1}},isVoid:i=>![t.block.name,t.span.name].includes(i._type),findByPath:i=>{const a=Nm({focus:{path:i,offset:0},anchor:{path:i,offset:0}},r);if(a){const[o,s]=B.node(r,a.focus.path.slice(0,1));if(o&&s&&typeof o._key=="string"){if(i.length===1&&a.focus.path.length===1)return[Ar([o],t.block.name)[0],[{_key:o._key}]];const l=Ar([o],t.block.name,Bs.get(r))[0];if(r.isTextBlock(l)){const c=l.children[a.focus.path[1]];if(c)return[c,[{_key:o._key},"children",{_key:c._key}]]}}}return[void 0,void 0]},findDOMNode:i=>{let a;try{const[o]=Array.from(B.nodes(r,{at:[],match:s=>s._key===i._key})||[])[0]||[void 0];a=we.toDOMNode(r,o)}catch{}return a},activeAnnotations:()=>{var i;if(!r.selection||r.selection.focus.path.length<2)return[];try{const a=[],o=B.nodes(r,{at:r.selection,match:s=>$e.isText(s)&&s.marks!==void 0&&Array.isArray(s.marks)&&s.marks.length>0});for(const[s,l]of o){const[c]=B.node(r,l,{depth:1});r.isTextBlock(c)&&((i=c.markDefs)==null||i.forEach(d=>{$e.isText(s)&&s.marks&&Array.isArray(s.marks)&&s.marks.includes(d._key)&&a.push(d)}))}return a}catch{return[]}},isAnnotationActive:i=>{if(!r.selection||r.selection.focus.path.length<2)return!1;try{const a=[...B.nodes(r,{at:r.selection,match:s=>$e.isText(s)})];if(a.length===0||a.some(([s])=>{var l;return!Ti(s)||!s.marks||((l=s.marks)==null?void 0:l.length)===0}))return!1;const o=a.reduce((s,[,l])=>{const[c]=B.node(r,l,{depth:1});return r.isTextBlock(c)&&c.markDefs?[...s,...c.markDefs]:s},[]);return a.every(([s])=>{var l;if(!Ti(s))return!1;const c=(l=s.marks)==null?void 0:l.map(d=>{var h;return(h=o.find(p=>(p==null?void 0:p._key)===d))==null?void 0:h._type});return c==null?void 0:c.includes(i)})}catch{return!1}},addAnnotation:(i,a)=>{const{selection:o}=r;let s;if(o){const[l]=B.node(r,o.focus,{depth:1});if(!r.isTextBlock(l))return;pe.isCollapsed(o)&&(r.pteExpandToWord(),r.onChange());const[c]=B.node(r,o.focus,{depth:2});r.selection&&(B.withoutNormalizing(r,()=>{const d=n();ue.setNodes(r,{markDefs:[...l.markDefs||[],{_type:i.name,_key:d,...a}]},{at:o.focus}),r.onChange(),ue.setNodes(r,{},{match:$e.isText,split:!0}),r.onChange(),r.selection&&$e.isText(c)&&ue.setNodes(r,{marks:[...c.marks||[],d]},{at:r.selection,match:p=>p._type===t.span.name}),r.onChange(),r.selection&&ue.insertNodes(r,[{_type:"span",text:"",marks:[],_key:n()}],{at:pe.end(r.selection)});const h=Gd(Ar(r.children,t.block.name,Bs.get(r)),r.selection,t);h&&(s={spanPath:h.focus.path,markDefPath:[{_key:l._key},"markDefs",{_key:d}]})}),B.normalize(r),r.onChange())}return s},delete:(i,a)=>{if(i){const o=Nm(i,r);if(!(o&&o.anchor.path.length>0&&o.focus.path.length>0))throw new Error("Invalid range");if(o){if(!(a!=null&&a.mode)||(a==null?void 0:a.mode)==="selected"){zx("Deleting content in selection"),ue.delete(r,{at:o,hanging:!0,voids:!0}),r.onChange();return}(a==null?void 0:a.mode)==="blocks"&&(zx("Deleting blocks touched by selection"),ue.removeNodes(r,{at:o,voids:!0,match:s=>r.isTextBlock(s)||!r.isTextBlock(s)&&Ue.isElement(s)})),(a==null?void 0:a.mode)==="children"&&(zx("Deleting children touched by selection"),ue.removeNodes(r,{at:o,voids:!0,match:s=>s._type===t.span.name||!r.isTextBlock(s)&&Ue.isElement(s)})),r.children.length===0&&(r.children=[r.pteCreateEmptyBlock()]),r.onChange()}}},removeAnnotation:i=>{let{selection:a}=r;if(zx("Removing annotation",i),a){if(pe.isCollapsed(a)){const[o,s]=B.node(r,a,{depth:2});$e.isText(o)&&o.marks&&typeof o.text=="string"&&(ue.select(r,s),a=r.selection)}B.withoutNormalizing(r,()=>{if(a&&pe.isExpanded(a)){if(a=r.selection,!a)return;[...B.nodes(r,{at:a,match:o=>r.isTextBlock(o)&&Array.isArray(o.markDefs)&&o.markDefs.some(s=>s._type===i.name)})].forEach(([o])=>{r.isTextBlock(o)&&Array.isArray(o.markDefs)&&o.markDefs.filter(s=>s._type===i.name).forEach(s=>{B.removeMark(r,s._key)})})}}),B.normalize(r),r.onChange()}},getSelection:()=>{let i=null;if(r.selection){const a=jj.get(r.selection);if(a)return a;i=Gd(Ar(r.children,t.block.name,Bs.get(r)),r.selection,t),jj.set(r.selection,i)}return i},getValue:()=>Ar(r.children,t.block.name,Bs.get(r)),isCollapsedSelection:()=>!!r.selection&&pe.isCollapsed(r.selection),isExpandedSelection:()=>!!r.selection&&pe.isExpanded(r.selection),insertBreak:()=>{r.insertBreak(),r.onChange()},getFragment:()=>Ar(r.getFragment(),t.block.name),isSelectionsOverlapping:(i,a)=>{const o=Nm(i,r),s=Nm(a,r);return pe.isRange(o)&&pe.isRange(s)&&pe.includes(o,s)}}),r}}function d6t(e){return function(t){const{insertBreak:n}=t;return t.insertBreak=()=>{if(t.selection){const r=t.selection.focus.path.slice(0,1),i=je.descendant(t,r);if(t.isTextBlock(i)){const[,a]=pe.edges(t.selection),o=B.isStart(t,a,a.path),s=i&&Jg([i],e);if(o&&!s){B.insertNode(t,t.pteCreateEmptyBlock());const[l]=ie.next(r);ue.select(t,{anchor:{path:[l,0],offset:0},focus:{path:[l,0],offset:0}}),t.onChange();return}}}n()},t}}function f6t(e){return function(t){const{apply:n}=t;return t.apply=r=>{const i=e;i>0&&t.children.length>=i&&(r.type==="insert_node"||r.type==="split_node")&&r.path.length===1||n(r)},t}}const Ij=new WeakMap;function Qg(e,t){const n=L8(e);Ij.set(e,!0),t(),Ij.set(e,n)}function L8(e){return Ij.get(e)}function h6t(e,t){return function(n){Ij.set(n,!1);const{apply:r,normalizeNode:i}=n;return n.apply=a=>{if(a.type==="split_node"){const o=!L8(n)||!("_key"in a.properties);a.properties={...a.properties,...o?{_key:t()}:{}}}if(a.type==="insert_node"){const o=!L8(n)||!("_key"in a.node);B.isEditor(a.node)||(a.node={...a.node,...o?{_key:t()}:{}})}r(a)},n.normalizeNode=a=>{const[o,s]=a;if(Ue.isElement(o)&&o._type===e.block.name){o._key||ue.setNodes(n,{_key:t()},{at:s});for(const[l,c]of je.children(n,s))if(!l._key){ue.setNodes(n,{_key:t()},{at:c});return}}i(a)},n}}function p6t(e){const t=e.charCodeAt(0);return t>=55296&&t<=56319}function m6t(e){const t=e.charCodeAt(0);return t>=56320&&t<=57343}function i_(e){const[t,n]=e;return[t,n]}function xie(e,t){let n=e,r=t;const i=n.length,a=r.length;if(i===0||a===0)return 0;i>a?n=n.substring(i-a):i<a&&(r=r.substring(0,i));const o=Math.min(i,a);if(n===r)return o;let s=0,l=1;for(let c=0;c!==-1;){const d=n.substring(o-l);if(c=r.indexOf(d),c===-1)return s;l+=c,(c===0||n.substring(o-l)===r.substring(0,l))&&(s=l,l++)}return s}function SW(e,t){if(!e||!t||e[0]!==t[0])return 0;let n=0,r=Math.min(e.length,t.length),i=r,a=0;for(;n<i;)e.substring(a,i)===t.substring(a,i)?(n=i,a=n):r=i,i=Math.floor((r-n)/2+n);return i}function xO(e,t){if(!e||!t||e[e.length-1]!==t[t.length-1])return 0;let n=0,r=Math.min(e.length,t.length),i=r,a=0;for(;n<i;)e.substring(e.length-i,e.length-a)===t.substring(t.length-i,t.length-a)?(n=i,a=n):r=i,i=Math.floor((r-n)/2+n);return i}function g6t(e){let t=e.map(h=>i_(h)),n=!1;const r=[];let i=0,a=null,o=0,s=0,l=0,c=0,d=0;for(;o<t.length;)t[o][0]===ln?(r[i++]=o,s=c,l=d,c=0,d=0,a=t[o][1]):(t[o][0]===pi?c+=t[o][1].length:d+=t[o][1].length,a&&a.length<=Math.max(s,l)&&a.length<=Math.max(c,d)&&(t.splice(r[i-1],0,[Yr,a]),t[r[i-1]+1][0]=pi,i--,i--,o=i>0?r[i-1]:-1,s=0,l=0,c=0,d=0,a=null,n=!0)),o++;for(n&&(t=wO(t)),t=j5e(t),o=1;o<t.length;){if(t[o-1][0]===Yr&&t[o][0]===pi){const h=t[o-1][1],p=t[o][1],m=xie(h,p),g=xie(p,h);m>=g?(m>=h.length/2||m>=p.length/2)&&(t.splice(o,0,[ln,p.substring(0,m)]),t[o-1][1]=h.substring(0,h.length-m),t[o+1][1]=p.substring(m),o++):(g>=h.length/2||g>=p.length/2)&&(t.splice(o,0,[ln,h.substring(0,g)]),t[o-1][0]=pi,t[o-1][1]=p.substring(0,p.length-g),t[o+1][0]=Yr,t[o+1][1]=h.substring(g),o++),o++}o++}return t}const wie=/[^a-zA-Z0-9]/,Cie=/\s/,Sie=/[\r\n]/,v6t=/\n\r?\n$/,y6t=/^\r?\n\r?\n/;function j5e(e){const t=e.map(i=>i_(i));function n(i,a){if(!i||!a)return 6;const o=i.charAt(i.length-1),s=a.charAt(0),l=o.match(wie),c=s.match(wie),d=l&&o.match(Cie),h=c&&s.match(Cie),p=d&&o.match(Sie),m=h&&s.match(Sie),g=p&&i.match(v6t),v=m&&a.match(y6t);return g||v?5:p||m?4:l&&!d&&h?3:d||h?2:l||c?1:0}let r=1;for(;r<t.length-1;){if(t[r-1][0]===ln&&t[r+1][0]===ln){let i=t[r-1][1],a=t[r][1],o=t[r+1][1];const s=xO(i,a);if(s){const p=a.substring(a.length-s);i=i.substring(0,i.length-s),a=p+a.substring(0,a.length-s),o=p+o}let l=i,c=a,d=o,h=n(i,a)+n(a,o);for(;a.charAt(0)===o.charAt(0);){i+=a.charAt(0),a=a.substring(1)+o.charAt(0),o=o.substring(1);const p=n(i,a)+n(a,o);p>=h&&(h=p,l=i,c=a,d=o)}t[r-1][1]!==l&&(l?t[r-1][1]=l:(t.splice(r-1,1),r--),t[r][1]=c,d?t[r+1][1]=d:(t.splice(r+1,1),r--))}r++}return t}function wO(e){let t=e.map(c=>i_(c));t.push([ln,""]);let n=0,r=0,i=0,a="",o="",s;for(;n<t.length;)switch(t[n][0]){case pi:i++,o+=t[n][1],n++;break;case Yr:r++,a+=t[n][1],n++;break;case ln:r+i>1?(r!==0&&i!==0&&(s=SW(o,a),s!==0&&(n-r-i>0&&t[n-r-i-1][0]===ln?t[n-r-i-1][1]+=o.substring(0,s):(t.splice(0,0,[ln,o.substring(0,s)]),n++),o=o.substring(s),a=a.substring(s)),s=xO(o,a),s!==0&&(t[n][1]=o.substring(o.length-s)+t[n][1],o=o.substring(0,o.length-s),a=a.substring(0,a.length-s))),n-=r+i,t.splice(n,r+i),a.length&&(t.splice(n,0,[Yr,a]),n++),o.length&&(t.splice(n,0,[pi,o]),n++),n++):n!==0&&t[n-1][0]===ln?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,i=0,r=0,a="",o="";break;default:throw new Error("Unknown diff operation")}t[t.length-1][1]===""&&t.pop();let l=!1;for(n=1;n<t.length-1;)t[n-1][0]===ln&&t[n+1][0]===ln&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),l=!0):t[n][1].substring(0,t[n+1][1].length)===t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),l=!0)),n++;return l&&(t=wO(t)),t}function b6t(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,i)=>r+(i?1:0),0)}function x6t(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,n=e.map(p=>i_(p)),r=!1;const i=[];let a=0,o=null,s=0,l=!1,c=!1,d=!1,h=!1;for(;s<n.length;)n[s][0]===ln?(n[s][1].length<t&&(d||h)?(i[a++]=s,l=d,c=h,o=n[s][1]):(a=0,o=null),d=!1,h=!1):(n[s][0]===Yr?h=!0:d=!0,o&&(l&&c&&d&&h||o.length<t/2&&b6t(l,c,d,h)===3)&&(n.splice(i[a-1],0,[Yr,o]),n[i[a-1]+1][0]=pi,a--,o=null,l&&c?(d=!0,h=!0,a=0):(a--,s=a>0?i[a-1]:-1,d=!1,h=!1),r=!0)),s++;return r&&(n=wO(n)),n}function w6t(e,t,n){const r=e.length,i=t.length,a=Math.ceil((r+i)/2),o=a,s=2*a,l=new Array(s),c=new Array(s);for(let b=0;b<s;b++)l[b]=-1,c[b]=-1;l[o+1]=0,c[o+1]=0;const d=r-i,h=d%2!==0;let p=0,m=0,g=0,v=0;for(let b=0;b<a&&!(Date.now()>n);b++){for(let y=-b+p;y<=b-m;y+=2){const x=o+y;let w;y===-b||y!==b&&l[x-1]<l[x+1]?w=l[x+1]:w=l[x-1]+1;let C=w-y;for(;w<r&&C<i&&e.charAt(w)===t.charAt(C);)w++,C++;if(l[x]=w,w>r)m+=2;else if(C>i)p+=2;else if(h){const S=o+d-y;if(S>=0&&S<s&&c[S]!==-1){const _=r-c[S];if(w>=_)return _ie(e,t,w,C,n)}}}for(let y=-b+g;y<=b-v;y+=2){const x=o+y;let w;y===-b||y!==b&&c[x-1]<c[x+1]?w=c[x+1]:w=c[x-1]+1;let C=w-y;for(;w<r&&C<i&&e.charAt(r-w-1)===t.charAt(i-C-1);)w++,C++;if(c[x]=w,w>r)v+=2;else if(C>i)g+=2;else if(!h){const S=o+d-y;if(S>=0&&S<s&&l[S]!==-1){const _=l[S],E=o+_-S;if(w=r-w,_>=w)return _ie(e,t,_,E,n)}}}}return[[Yr,e],[pi,t]]}function _ie(e,t,n,r,i){const a=e.substring(0,n),o=t.substring(0,r),s=e.substring(n),l=t.substring(r),c=e0(a,o,{checkLines:!1,deadline:i}),d=e0(s,l,{checkLines:!1,deadline:i});return c.concat(d)}function C6t(e,t){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:1)<=0)return null;const n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||r.length*2<n.length)return null;const i=Eie(n,r,Math.ceil(n.length/4)),a=Eie(n,r,Math.ceil(n.length/2));let o;if(i&&a)o=i[4].length>a[4].length?i:a;else{if(!i&&!a)return null;a?i||(o=a):o=i}if(!o)throw new Error("Unable to find a half match.");let s,l,c,d;e.length>t.length?(s=o[0],l=o[1],c=o[2],d=o[3]):(c=o[0],d=o[1],s=o[2],l=o[3]);const h=o[4];return[s,l,c,d,h]}function Eie(e,t,n){const r=e.slice(n,n+Math.floor(e.length/4));let i=-1,a="",o,s,l,c;for(;(i=t.indexOf(r,i+1))!==-1;){const d=SW(e.slice(n),t.slice(i)),h=xO(e.slice(0,n),t.slice(0,i));a.length<h+d&&(a=t.slice(i-h,i)+t.slice(i,i+d),o=e.slice(0,n-h),s=e.slice(n+d),l=t.slice(0,i-h),c=t.slice(i+d))}return a.length*2>=e.length?[o||"",s||"",l||"",c||"",a||""]:null}function S6t(e,t){for(let n=0;n<e.length;n++){const r=e[n][1],i=[];for(let a=0;a<r.length;a++)i[a]=t[r.charCodeAt(a)];e[n][1]=i.join("")}}function _6t(e,t){const n=[],r={};n[0]="";function i(l){let c="",d=0,h=-1,p=n.length;for(;h<l.length-1;){h=l.indexOf(`
`,d),h===-1&&(h=l.length-1);let m=l.slice(d,h+1);(r.hasOwnProperty?r.hasOwnProperty(m):r[m]!==void 0)?c+=String.fromCharCode(r[m]):(p===a&&(m=l.slice(d),h=l.length),c+=String.fromCharCode(p),r[m]=p,n[p++]=m),d=h+1}return c}let a=4e4;const o=i(e);a=65535;const s=i(t);return{chars1:o,chars2:s,lineArray:n}}function E6t(e,t,n){let r=e,i=t;const a=_6t(r,i);r=a.chars1,i=a.chars2;const o=a.lineArray;let s=e0(r,i,{checkLines:!1,deadline:n.deadline});S6t(s,o),s=g6t(s),s.push([ln,""]);let l=0,c=0,d=0,h="",p="";for(;l<s.length;){switch(s[l][0]){case pi:d++,p+=s[l][1];break;case Yr:c++,h+=s[l][1];break;case ln:if(c>=1&&d>=1){s.splice(l-c-d,c+d),l=l-c-d;const m=e0(h,p,{checkLines:!1,deadline:n.deadline});for(let g=m.length-1;g>=0;g--)s.splice(l,0,m[g]);l+=m.length}d=0,c=0,h="",p="";break;default:throw new Error("Unknown diff operation.")}l++}return s.pop(),s}function k6t(e,t,n){let r;if(!e)return[[pi,t]];if(!t)return[[Yr,e]];const i=e.length>t.length?e:t,a=e.length>t.length?t:e,o=i.indexOf(a);if(o!==-1)return r=[[pi,i.substring(0,o)],[ln,a],[pi,i.substring(o+a.length)]],e.length>t.length&&(r[0][0]=Yr,r[2][0]=Yr),r;if(a.length===1)return[[Yr,e],[pi,t]];const s=C6t(e,t);if(s){const l=s[0],c=s[1],d=s[2],h=s[3],p=s[4],m=e0(l,d,n),g=e0(c,h,n);return m.concat([[ln,p]],g)}return n.checkLines&&e.length>100&&t.length>100?E6t(e,t,n):w6t(e,t,n.deadline)}const Yr=-1,pi=1,ln=0;function I5e(e,t,n){if(e===null||t===null)throw new Error("Null input. (diff)");const r=e0(e,t,A6t(n||{}));return I6t(r),r}function e0(e,t,n){let r=e,i=t;if(r===i)return r?[[ln,r]]:[];let a=SW(r,i);const o=r.substring(0,a);r=r.substring(a),i=i.substring(a),a=xO(r,i);const s=r.substring(r.length-a);r=r.substring(0,r.length-a),i=i.substring(0,i.length-a);let l=k6t(r,i,n);return o&&l.unshift([ln,o]),s&&l.push([ln,s]),l=wO(l),l}function T6t(e){let t=1;return typeof e<"u"&&(t=e<=0?Number.MAX_VALUE:e),Date.now()+t*1e3}function A6t(e){return{checkLines:!0,deadline:T6t(e.timeout||1),...e}}function ik(e,t,n){return n===1?e+t:t+e}function ak(e,t){return t===1?[e.substring(0,e.length-1),e[e.length-1]]:[e.substring(1),e[0]]}function j6t(e,t,n,r){return r===1?e[t][1][e[t][1].length-1]===e[n][1][e[n][1].length-1]:e[t][1][0]===e[n][1][0]}function kie(e,t,n){const r=n===1?-1:1;let i=null,a=null,o=t+n;for(;o>=0&&o<e.length&&(i===null||a===null);o+=n){const[c,d]=e[o];if(d.length!==0){if(c===pi){i===null&&(i=o);continue}else if(c===Yr){a===null&&(a=o);continue}else if(c===ln){if(i===null&&a===null){const[h,p]=ak(e[t][1],n);e[t][1]=h,e[o][1]=ik(e[o][1],p,r);return}break}}}if(i!==null&&a!==null&&j6t(e,i,a,n)){const[c,d]=ak(e[i][1],r),[h]=ak(e[a][1],r);e[i][1]=c,e[a][1]=h,e[t][1]=ik(e[t][1],d,n);return}const[s,l]=ak(e[t][1],n);e[t][1]=s,i===null?(e.splice(o,0,[pi,l]),a!==null&&a>=o&&a++):e[i][1]=ik(e[i][1],l,r),a===null?e.splice(o,0,[Yr,l]):e[a][1]=ik(e[a][1],l,r)}function I6t(e){for(let t=0;t<e.length;t++){const[n,r]=e[t];if(r.length===0)continue;const i=r[0],a=r[r.length-1];p6t(a)&&n===ln&&kie(e,t,1),m6t(i)&&n===ln&&kie(e,t,-1)}for(let t=0;t<e.length;t++)e[t][1].length===0&&e.splice(t,1)}const D6t={threshold:.5,distance:1e3};function $6t(e){return{...D6t,...e}}const O6t=32;function M6t(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(t.length>O6t)throw new Error("Pattern too long for this browser.");const i=$6t(r),a=R6t(t);function o(g,v){const b=g/t.length,y=Math.abs(n-v);return i.distance?b+y/i.distance:y?1:b}let s=i.threshold,l=e.indexOf(t,n);l!==-1&&(s=Math.min(o(0,l),s),l=e.lastIndexOf(t,n+t.length),l!==-1&&(s=Math.min(o(0,l),s)));const c=1<<t.length-1;l=-1;let d,h,p=t.length+e.length,m=[];for(let g=0;g<t.length;g++){for(d=0,h=p;d<h;)o(g,n+h)<=s?d=h:p=h,h=Math.floor((p-d)/2+d);p=h;let v=Math.max(1,n-h+1);const b=Math.min(n+h,e.length)+t.length,y=new Array(b+2);y[b+1]=(1<<g)-1;for(let x=b;x>=v;x--){const w=a[e.charAt(x-1)];if(g===0?y[x]=(y[x+1]<<1|1)&w:y[x]=(y[x+1]<<1|1)&w|((m[x+1]|m[x])<<1|1)|m[x+1],y[x]&c){const C=o(g,x-1);if(C<=s)if(s=C,l=x-1,l>n)v=Math.max(1,2*n-l);else break}}if(o(g+1,n)>s)break;m=y}return l}function R6t(e){const t={};for(let n=0;n<e.length;n++)t[e.charAt(n)]=0;for(let n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t}function j3(e,t,n){if(e===null||t===null||n===null)throw new Error("Null input. (match())");const r=Math.max(0,Math.min(n,e.length));if(e===t)return 0;if(e.length){if(e.substring(r,r+t.length)===t)return r}else return-1;return M6t(e,t,r)}function D5e(e,t){return{diffs:[],start1:e,start2:t,utf8Start1:e,utf8Start2:t,length1:0,length2:0,utf8Length1:0,utf8Length2:0}}function $5e(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==pi&&(t[n]=e[n][1]);return t.join("")}function O5e(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==Yr&&(t[n]=e[n][1]);return t.join("")}function Iw(e){let t=0;for(let n=0;n<e.length;n++){const r=e.codePointAt(n);if(typeof r>"u")throw new Error("Failed to get codepoint");t+=M5e(r)}return t}function P6t(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,i=0;function a(s){for(;r<s;){const l=t.codePointAt(i);if(typeof l>"u")return i;r+=M5e(l),l>65535?i+=2:i+=1}if(!n.allowExceedingIndices&&r!==s)throw new Error("Failed to determine byte offset");return i}const o=[];for(const s of e)o.push({diffs:s.diffs.map(l=>i_(l)),start1:a(s.start1),start2:a(s.start2),utf8Start1:s.utf8Start1,utf8Start2:s.utf8Start2,length1:s.length1,length2:s.length2,utf8Length1:s.utf8Length1,utf8Length2:s.utf8Length2});return o}function M5e(e){return e<=127?1:e<=2047?2:e<=65535?3:4}const Pm=32,_W=4;function F6t(e){let t=0,n=0,r=0;for(let i=0;i<e.length;i++){const a=e[i][0],o=e[i][1];switch(a){case pi:n+=o.length;break;case Yr:r+=o.length;break;case ln:t+=Math.max(n,r),n=0,r=0;break;default:throw new Error("Unknown diff operation.")}}return t+=Math.max(n,r),t}function Tie(e,t){let n=0,r=0,i=0,a=0,o;for(o=0;o<e.length&&(e[o][0]!==pi&&(n+=e[o][1].length),e[o][0]!==Yr&&(r+=e[o][1].length),!(n>t));o++)i=n,a=r;return e.length!==o&&e[o][0]===Yr?a:a+(t-i)}function N6t(e){const t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_W;let n="";for(let a=1;a<=t;a++)n+=String.fromCharCode(a);for(const a of e)a.start1+=t,a.start2+=t,a.utf8Start1+=t,a.utf8Start2+=t;let r=e[0],i=r.diffs;if(i.length===0||i[0][0]!==ln)i.unshift([ln,n]),r.start1-=t,r.start2-=t,r.utf8Start1-=t,r.utf8Start2-=t,r.length1+=t,r.length2+=t,r.utf8Length1+=t,r.utf8Length2+=t;else if(t>i[0][1].length){const a=i[0][1].length,o=t-a;i[0][1]=n.substring(a)+i[0][1],r.start1-=o,r.start2-=o,r.utf8Start1-=o,r.utf8Start2-=o,r.length1+=o,r.length2+=o,r.utf8Length1+=o,r.utf8Length2+=o}if(r=e[e.length-1],i=r.diffs,i.length===0||i[i.length-1][0]!==ln)i.push([ln,n]),r.length1+=t,r.length2+=t,r.utf8Length1+=t,r.utf8Length2+=t;else if(t>i[i.length-1][1].length){const a=t-i[i.length-1][1].length;i[i.length-1][1]+=n.substring(0,a),r.length1+=a,r.length2+=a,r.utf8Length1+=a,r.utf8Length2+=a}return n}function L6t(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_W;const n=Pm;for(let r=0;r<e.length;r++){if(e[r].length1<=n)continue;const i=e[r];e.splice(r--,1);let a=i.start1,o=i.start2,s="";for(;i.diffs.length!==0;){const l=D5e(a-s.length,o-s.length);let c=!0;if(s!==""){const p=Iw(s);l.length1=s.length,l.utf8Length1=p,l.length2=s.length,l.utf8Length2=p,l.diffs.push([ln,s])}for(;i.diffs.length!==0&&l.length1<n-t;){const p=i.diffs[0][0];let m=i.diffs[0][1],g=Iw(m);if(p===pi){l.length2+=m.length,l.utf8Length2+=g,o+=m.length;const v=i.diffs.shift();v&&l.diffs.push(v),c=!1}else p===Yr&&l.diffs.length===1&&l.diffs[0][0]===ln&&m.length>2*n?(l.length1+=m.length,l.utf8Length1+=g,a+=m.length,c=!1,l.diffs.push([p,m]),i.diffs.shift()):(m=m.substring(0,n-l.length1-t),g=Iw(m),l.length1+=m.length,l.utf8Length1+=g,a+=m.length,p===ln?(l.length2+=m.length,l.utf8Length2+=g,o+=m.length):c=!1,l.diffs.push([p,m]),m===i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(m.length))}s=O5e(l.diffs),s=s.substring(s.length-t);const d=$5e(i.diffs).substring(0,t),h=Iw(d);d!==""&&(l.length1+=d.length,l.length2+=d.length,l.utf8Length1+=h,l.utf8Length2+=h,l.diffs.length!==0&&l.diffs[l.diffs.length-1][0]===ln?l.diffs[l.diffs.length-1][1]+=d:l.diffs.push([ln,d])),c||e.splice(++r,0,l)}}}function B6t(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")throw new Error("Patches must be an array - pass the patch to `parsePatch()` first");let r=t;if(e.length===0)return[r,[]];const i=P6t(e,r,{allowExceedingIndices:n.allowExceedingIndices}),a=n.margin||_W,o=n.deleteThreshold||.4,s=N6t(i,a);r=s+r+s,L6t(i,a);let l=0;const c=[];for(let d=0;d<i.length;d++){const h=i[d].start2+l,p=$5e(i[d].diffs);let m,g=-1;if(p.length>Pm?(m=j3(r,p.substring(0,Pm),h),m!==-1&&(g=j3(r,p.substring(p.length-Pm),h+p.length-Pm),(g===-1||m>=g)&&(m=-1))):m=j3(r,p,h),m===-1)c[d]=!1,l-=i[d].length2-i[d].length1;else{c[d]=!0,l=m-h;let v;if(g===-1?v=r.substring(m,m+p.length):v=r.substring(m,g+Pm),p===v)r=r.substring(0,m)+O5e(i[d].diffs)+r.substring(m+p.length);else{let b=I5e(p,v,{checkLines:!1});if(p.length>Pm&&F6t(b)/p.length>o)c[d]=!1;else{b=j5e(b);let y=0,x=0;for(let w=0;w<i[d].diffs.length;w++){const C=i[d].diffs[w];C[0]!==ln&&(x=Tie(b,y)),C[0]===pi?r=r.substring(0,m+x)+C[1]+r.substring(m+x):C[0]===Yr&&(r=r.substring(0,m+x)+r.substring(m+Tie(b,y+C[1].length))),C[0]!==Yr&&(y+=C[1].length)}}}}}return r=r.substring(s.length,r.length-s.length),[r,c]}const V6t=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;function R5e(e){if(!e)return[];const t=[],n=e.split(`
`);let r=0;for(;r<n.length;){const i=n[r].match(V6t);if(!i)throw new Error("Invalid patch string: ".concat(n[r]));const a=D5e(ok(i[1]),ok(i[3]));for(t.push(a),i[2]===""?(a.start1--,a.utf8Start1--,a.length1=1,a.utf8Length1=1):i[2]==="0"?(a.length1=0,a.utf8Length1=0):(a.start1--,a.utf8Start1--,a.utf8Length1=ok(i[2]),a.length1=a.utf8Length1),i[4]===""?(a.start2--,a.utf8Start2--,a.length2=1,a.utf8Length2=1):i[4]==="0"?(a.length2=0,a.utf8Length2=0):(a.start2--,a.utf8Start2--,a.utf8Length2=ok(i[4]),a.length2=a.utf8Length2),r++;r<n.length;){const o=n[r],s=o.charAt(0);if(s==="@")break;if(s===""){r++;continue}let l;try{l=decodeURI(o.slice(1))}catch{throw new Error("Illegal escape in parse: ".concat(o))}const c=Iw(l)-l.length;if(s==="-")a.diffs.push([Yr,l]),a.length1-=c;else if(s==="+")a.diffs.push([pi,l]),a.length2-=c;else if(s===" ")a.diffs.push([ln,l]),a.length1-=c,a.length2-=c;else throw new Error('Invalid patch mode "'.concat(s,'" in: ').concat(l));r++}}return t}function ok(e){return parseInt(e,10)}const Wr=yi("applyPatches"),EW=Wr.enabled&&!0;function z6t(e){let t;return function(n,r){let i=!1;EW&&(Wr(`

NEW PATCH =============================================================`),Wr(JSON.stringify(r,null,2)));try{switch(r.type){case"insert":i=H6t(n,r,e);break;case"unset":i=G6t(n,r,t);break;case"set":i=W6t(n,r);break;case"diffMatchPatch":i=U6t(n,r);break;default:Wr("Unhandled patch",r.type)}}catch(a){console.error(a)}return t=r,i}}function U6t(e,t){const{block:n,child:r,childPath:i}=CO(e,t.path);if(!n)return Wr("Block not found"),!1;if(!r||!i)return Wr("Child not found"),!1;if(!(n&&e.isTextBlock(n)&&t.path.length===4&&t.path[1]==="children"&&t.path[3]==="text")||!$e.isText(r))return!1;const a=R5e(t.value),[o]=B6t(a,r.text,{allowExceedingIndices:!0}),s=x6t(I5e(r.text,o),5);ys(e,"before");let l=0;for(const[c,d]of s)c===pi?(e.apply({type:"insert_text",path:i,offset:l,text:d}),l+=d.length):c===Yr?e.apply({type:"remove_text",path:i,offset:l,text:d}):c===ln&&(l+=d.length);return ys(e,"after"),!0}function H6t(e,t,n){const{block:r,child:i,blockPath:a,childPath:o}=CO(e,t.path);if(!r||!a)return Wr("Block not found"),!1;if(t.path.length>1&&t.path[1]!=="children")return Wr("Ignoring patch targeting void value"),!1;if(t.path.length===1){const{items:m,position:g}=t,v=Uc(m,{schemaTypes:n},N8.get(e)),b=a[0],y=g==="after"?b+1:b;return Wr(`Inserting blocks at path [${y}]`),ys(e,"before"),ue.insertNodes(e,v,{at:[y]}),ys(e,"after"),!0}const{items:s,position:l}=t;if(!i||!o)return Wr("Child not found"),!1;const c=r&&Uc([{...r,children:s}],{schemaTypes:n},N8.get(e)),d=o[1],h=l==="after"?d+1:d,p=[o[0],h];return Wr(`Inserting children at path ${p}`),ys(e,"before"),c&&Ue.isElement(c[0])&&ue.insertNodes(e,c[0].children,{at:p}),ys(e,"after"),!0}function W6t(e,t){let n=t.value;typeof t.path[3]=="string"&&(n={},n[t.path[3]]=t.value);const{block:r,blockPath:i,child:a,childPath:o}=CO(e,t.path);if(!r)return Wr("Block not found"),!1;const s=e.isTextBlock(r);if(s&&t.path.length>1&&t.path[1]!=="children")return Wr("Ignoring setting void value"),!1;if(ys(e,"before"),s&&a&&o){if($e.isText(n)&&$e.isText(a)){const l=a.text;n.text!==l&&(Wr("Setting text property"),e.apply({type:"remove_text",path:o,offset:0,text:l}),e.apply({type:"insert_text",path:o,offset:0,text:n.text}),e.onChange())}else Wr("Setting non-text property"),e.apply({type:"set_node",path:o,properties:{},newProperties:n});return!0}else if(Ue.isElement(r)&&t.path.length===1&&i){Wr("Setting block property");const{children:l,...c}=n,{children:d,...h}=r||{children:void 0};e.apply({type:"set_node",path:i,properties:{...h},newProperties:c}),Wr("Setting children"),r.children.forEach((p,m)=>{e.apply({type:"remove_node",path:i.concat(r.children.length-1-m),node:p})}),Array.isArray(l)&&l.forEach((p,m)=>{e.apply({type:"insert_node",path:i.concat(m),node:p})})}else if(r&&"value"in r){const l=OLt([r.value],[t])[0];return ue.setNodes(e,{...r,value:l},{at:i}),!0}return ys(e,"after"),!0}function G6t(e,t,n){if(t.path.length===0){Wr("Removing everything"),ys(e,"before");const s=e.selection;return ue.deselect(e),e.children.forEach((l,c)=>{ue.removeNodes(e,{at:[c]})}),ue.insertNodes(e,e.pteCreateEmptyBlock()),s&&ue.select(e,{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0}}),e.onChange(),ys(e,"after"),!0}const{block:r,blockPath:i,child:a,childPath:o}=CO(e,t.path);if(t.path.length===1){if(!r||!i)return Wr("Block not found"),!1;const s=i[0];return Wr(`Removing block at path [${s}]`),ys(e,"before"),ue.removeNodes(e,{at:[s]}),ys(e,"after"),!0}return e.isTextBlock(r)&&t.path[1]==="children"&&t.path.length===3?!a||!o?(Wr("Child not found"),!1):(Wr(`Unsetting child at path ${JSON.stringify(o)}`),ys(e,"before"),EW&&Wr(`Removing child at path ${JSON.stringify(o)}`),ue.removeNodes(e,{at:o}),ys(e,"after"),!0):!1}function P5e(e){return typeof e=="object"&&"_key"in e}function ys(e,t){EW&&(Wr(`Children ${t}:`,JSON.stringify(e.children,null,2)),Wr(`Selection ${t}: `,JSON.stringify(e.selection,null,2)))}function Y6t(e,t){let n=-1;const r=e.children.find((i,a)=>{const o=P5e(t[0])?i._key===t[0]._key:a===t[0];return o&&(n=a),o});return r?{block:r,path:[n]}:{}}function CO(e,t){const{block:n,path:r}=Y6t(e,t);if(!(Ue.isElement(n)&&t[1]==="children"))return{block:n,blockPath:r,child:void 0,childPath:void 0};let i=-1;const a=n.children.find((o,s)=>{const l=P5e(t[2])?o._key===t[2]._key:s===t[2];return l&&(i=s),l});return a?{block:n,child:a,blockPath:r,childPath:r==null?void 0:r.concat(i)}:{block:n,blockPath:r,child:void 0,childPath:void 0}}function F5e(e,t){const n=N5e(e)||!1;Aj.set(e,!0),t(),Aj.set(e,n)}function N5e(e){return Aj.get(e)}function q6t(e){return nT.get(e)}const Dj=new WeakMap;function B8(e,t){const n=L5e(e);Dj.set(e,!1),t(),Dj.set(e,n)}function L5e(e){return Dj.get(e)}const za=yi("plugin:withUndoRedo"),Aie=za.enabled&&!1,L1=new WeakMap,I3=new WeakMap,K6t=1e3,B5e=e=>{const t=L1.get(e);return t===void 0?!0:t},Z6t=e=>(I3.get(e)||I3.set(e,[]),I3.get(e)||[]);function X6t(e){const{readOnly:t,patches$:n,blockSchemaType:r}=e;return i=>{let a=Ar(i.children,r.name);const o=Z6t(i);n&&i.subscriptions.push(()=>{za("Subscribing to patches");const l=n.subscribe(({patches:c,snapshot:d})=>{let h=!1;c.forEach(p=>{if(!h&&p.origin!=="local"&&o){if(p.type==="unset"&&p.path.length===0){za("Someone else cleared the content, resetting undo/redo history"),i.history={undos:[],redos:[]},o.splice(0,o.length),L1.set(i,!0),h=!0;return}o.push({patch:p,time:new Date,snapshot:d,previousSnapshot:a})}}),a=d});return()=>{za("Unsubscribing to patches"),l.unsubscribe()}}),i.history={undos:[],redos:[]};const{apply:s}=i;return i.apply=l=>{if(t){s(l);return}const{operations:c,history:d}=i,{undos:h}=d,p=h[h.length-1],m=p&&p.operations&&p.operations[p.operations.length-1],g=Q6t(l,m),v=B5e(i);let b=!0;if(v){if(p?c.length===0&&(b=J6t(l,m)||g):b=!1,p&&b)p.operations.push(l);else{const y={operations:[...i.selection===null?[]:[t7t(i)],l],timestamp:new Date};h.push(y),za("Created new undo step",p)}for(;h.length>K6t;)h.shift();e7t(l)&&(d.redos=[])}s(l)},i.undo=()=>{if(t)return;const{undos:l}=i.history;if(l.length>0){const c=l[l.length-1];if(za("Undoing",c),c.operations.length>0){const d=o.filter(p=>p.time>=c.timestamp);let h=c.operations;d.forEach(p=>{h=cr(h.map(m=>jie(i,p.patch,m,p.snapshot,p.previousSnapshot)))});try{B.withoutNormalizing(i,()=>{Qg(i,()=>{$S(i,()=>{h.map(u1.inverse).reverse().forEach(p=>{i.apply(p)})})})}),i.normalize(),i.onChange()}catch(p){za("Could not perform undo step",p),o.splice(0,o.length),ue.deselect(i),i.history={undos:[],redos:[]},L1.set(i,!0),i.onChange();return}i.history.redos.push(c),i.history.undos.pop()}}},i.redo=()=>{if(t)return;const{redos:l}=i.history;if(l.length>0){const c=l[l.length-1];if(za("Redoing",c),c.operations.length>0){const d=o.filter(p=>p.time>=c.timestamp);let h=c.operations;d.forEach(p=>{h=cr(h.map(m=>jie(i,p.patch,m,p.snapshot,p.previousSnapshot)))});try{B.withoutNormalizing(i,()=>{Qg(i,()=>{$S(i,()=>{h.forEach(p=>{i.apply(p)})})})}),i.normalize(),i.onChange()}catch(p){za("Could not perform redo step",p),o.splice(0,o.length),ue.deselect(i),i.history={undos:[],redos:[]},L1.set(i,!0),i.onChange();return}i.history.undos.push(c),i.history.redos.pop()}}},i}}function jie(e,t,n,r,i){Aie&&(za(`Adjusting '${n.type}' operation paths for '${t.type}' patch`),za(`Operation ${JSON.stringify(n)}`),za(`Patch ${JSON.stringify(t)}`));const a={...n};if(t.type==="insert"&&t.path.length===1){const o=(r||[]).findIndex(s=>wt({_key:s._key},t.path[0]));return za(`Adjusting block path (+${t.items.length}) for '${a.type}' operation and patch '${t.type}'`),[Iie(a,t.items.length,o)]}if(t.type==="unset"&&t.path.length===1){const o=(i||[]).findIndex(s=>wt({_key:s._key},t.path[0]));return"path"in a&&Array.isArray(a.path)&&a.path[0]===o?(za("Skipping transformation that targeted removed block"),[]):(Aie&&(za(`Selection ${JSON.stringify(e.selection)}`),za(`Adjusting block path (-1) for '${a.type}' operation and patch '${t.type}'`)),[Iie(a,-1,o)])}if(t.type==="unset"&&t.path.length===0)return za(`Adjusting selection for unset everything patch and ${n.type} operation`),[];if(t.type==="diffMatchPatch"){const o=n7t(e,a);return!o||!wt({_key:o._key},t.path[0])?[a]:(R5e(t.value).forEach(s=>{var l,c,d,h;let p=0,m=s.utf8Start1;const{diffs:g}=s;if(g.forEach((v,b)=>{const[y,x]=v;y===pi?(p+=x.length,m+=x.length):y===Yr?(p-=x.length,m-=x.length):y===ln&&(g.slice(b).every(([w])=>w===ln)||(m+=x.length))}),a.type==="insert_text"&&m<a.offset&&(a.offset+=p),a.type==="remove_text"&&m<=a.offset-a.text.length&&(a.offset+=p),a.type==="set_selection"){const v=(l=a.properties)!=null&&l.focus?{...a.properties.focus}:void 0,b=(c=a==null?void 0:a.properties)!=null&&c.anchor?{...a.properties.anchor}:void 0,y=(d=a==null?void 0:a.newProperties)!=null&&d.focus?{...a.newProperties.focus}:void 0,x=(h=a==null?void 0:a.newProperties)!=null&&h.anchor?{...a.newProperties.anchor}:void 0;(v&&b||y&&x)&&([v,b,y,x].forEach(w=>{w&&m<w.offset&&(w.offset+=p)}),v&&b&&(a.properties={focus:v,anchor:b}),y&&x&&(a.newProperties={focus:y,anchor:x}))}}),[a])}return[a]}function Iie(e,t,n){var r,i,a,o;const s={...e};if(n>=0&&s.type!=="set_selection"&&Array.isArray(s.path)&&s.path[0]>=n+t&&s.path[0]+t>-1){const l=[s.path[0]+t,...s.path.slice(1)];s.path=l}if(s.type==="set_selection"){const l=(r=s.properties)!=null&&r.focus?{...s.properties.focus}:void 0,c=(i=s==null?void 0:s.properties)!=null&&i.anchor?{...s.properties.anchor}:void 0,d=(a=s==null?void 0:s.newProperties)!=null&&a.focus?{...s.newProperties.focus}:void 0,h=(o=s==null?void 0:s.newProperties)!=null&&o.anchor?{...s.newProperties.anchor}:void 0;(l&&c||d&&h)&&([l,c,d,h].forEach(p=>{p&&p.path[0]>=n+t&&p.path[0]+t>-1&&(p.path=[p.path[0]+t,...p.path.slice(1)])}),l&&c&&(s.properties={focus:l,anchor:c}),d&&h&&(s.newProperties={focus:d,anchor:h}))}return s}const J6t=(e,t)=>!!(e.type==="set_selection"||t&&e.type==="insert_text"&&t.type==="insert_text"&&e.offset===t.offset+t.text.length&&ie.equals(e.path,t.path)&&e.text!==" "||t&&e.type==="remove_text"&&t.type==="remove_text"&&e.offset+e.text.length===t.offset&&ie.equals(e.path,t.path)),Q6t=(e,t)=>!!(t&&e.type==="set_selection"&&t.type==="set_selection"),e7t=e=>e.type!=="set_selection";function $S(e,t){const n=B5e(e);L1.set(e,!1),t(),L1.set(e,n)}function t7t(e){return{type:"set_selection",properties:{...e.selection},newProperties:{...e.selection}}}function n7t(e,t){let n;return t.type==="set_selection"&&e.selection?n=e.children[e.selection.focus.path[0]]:"path"in t&&(n=e.children[t.path[0]]),n}const sk=yi("plugin:withPatches");function r7t({change$:e,patches$:t,patchFunctions:n,readOnly:r,schemaTypes:i}){let a;const o=z6t(i);return function(s){Aj.set(s,!1),Dj.set(s,!0),a=[...s.children];const{apply:l}=s;let c=[];const d=()=>{if(c.length===0)return;const p=c;c=[];let m=!1;F5e(s,()=>{B.withoutNormalizing(s,()=>{B8(s,()=>{$S(s,()=>{Qg(s,()=>{p.forEach(g=>{sk.enabled&&sk(`Handling remote patch ${JSON.stringify(g)}`),m=o(s,g)})})})})}),m&&(s.normalize(),s.onChange())})},h=({patches:p})=>{const m=p.filter(g=>g.origin!=="local");m.length!==0&&(c=c.concat(m),d())};return t&&s.subscriptions.push(()=>{sk("Subscribing to patches$");const p=t.subscribe(h);return()=>{sk("Unsubscribing to patches$"),p.unsubscribe()}}),s.apply=p=>{if(r)return l(p),s;let m=[];a=s.children;const g=Jg(a,i);l(p);const v=Jg(s.children,i);if(!L5e(s))return s;switch(g&&!v&&p.type!=="set_selection"&&m.push(Ld(a,"before",[0])),p.type){case"insert_text":m=[...m,...n.insertTextPatch(s,p,a)];break;case"remove_text":m=[...m,...n.removeTextPatch(s,p,a)];break;case"remove_node":m=[...m,...n.removeNodePatch(s,p,a)];break;case"split_node":m=[...m,...n.splitNodePatch(s,p,a)];break;case"insert_node":m=[...m,...n.insertNodePatch(s,p,a)];break;case"set_node":m=[...m,...n.setNodePatch(s,p,a)];break;case"merge_node":m=[...m,...n.mergeNodePatch(s,p,a)];break;case"move_node":m=[...m,...n.moveNodePatch(s,p,a)];break}return!g&&v&&["merge_node","set_node","remove_text","remove_node"].includes(p.type)&&(m=[...m,wo([])],e.next({type:"unset",previousValue:Ar(a,i.block.name,Bs.get(s))})),g&&m.length>0&&(m=[wW([],[]),...m]),m.length>0&&m.forEach(b=>{e.next({type:"patch",patch:{...b,origin:"local"}})}),s},s}}const i7t=yi("plugin:withPlaceholderBlock");function a7t(){return function(e){const{apply:t}=e;return e.apply=n=>{if(n.type==="remove_node"){const r=n.node;if(n.path[0]===0&&B.isVoid(e,r)){const i=ie.next(n.path);e.children[i[0]]||(i7t("Adding placeholder block"),B.insertNode(e,e.pteCreateEmptyBlock()))}}t(n)},e}}const lk=yi("plugin:withPortableTextBlockStyle");function o7t(e){const t=e.styles[0].value;return function(n){const{normalizeNode:r}=n;return n.normalizeNode=i=>{r(i);const[,a]=i;for(const o of n.operations)if(o.type==="split_node"&&o.path.length===1&&n.isTextBlock(o.properties)&&o.properties.style!==t&&o.path[0]===a[0]&&!ie.equals(a,o.path)){const[s]=B.node(n,[o.path[0]+1,0]);if($e.isText(s)&&s.text===""){lk(`Normalizing split node to ${t} style`,o),ue.setNodes(n,{style:t},{at:[o.path[0]+1],voids:!1});break}}},n.pteHasBlockStyle=i=>n.selection?[...B.nodes(n,{at:n.selection,match:a=>n.isTextBlock(a)&&a.style===i})].length>0:!1,n.pteToggleBlockStyle=i=>{n.selection&&([...B.nodes(n,{at:n.selection,match:a=>n.isTextBlock(a)})].forEach(([a,o])=>{n.isTextBlock(a)&&a.style===i?(lk(`Unsetting block style '${i}'`),ue.setNodes(n,{...a,style:t},{at:o})):(i?lk(`Setting style '${i}'`):lk("Setting default style",t),ue.setNodes(n,{...a,style:i||t},{at:o}))}),n.onChange())},n}}const pm=yi("plugin:withPortableTextLists"),D3=10;function s7t(e){return function(t){return t.pteToggleListItem=n=>{t.pteHasListStyle(n)?(pm(`Remove list item '${n}'`),t.pteUnsetListItem(n)):(pm(`Add list item '${n}'`),t.pteSetListItem(n))},t.pteUnsetListItem=n=>{t.selection&&[...B.nodes(t,{at:t.selection,match:r=>Ue.isElement(r)&&r._type===e.block.name})].forEach(([r,i])=>{if(t.isListBlock(r)){const{listItem:a,level:o,...s}=r,l={...s,listItem:void 0,level:void 0};pm(`Unsetting list '${n}'`),ue.setNodes(t,l,{at:i})}})},t.pteSetListItem=n=>{t.selection&&[...B.nodes(t,{at:t.selection,match:r=>t.isTextBlock(r)})].forEach(([r,i])=>{pm(`Setting list '${n}'`),ue.setNodes(t,{...r,level:1,listItem:n||e.lists[0]&&e.lists[0].value},{at:i})})},t.pteEndList=()=>{if(!t.selection)return!1;const n=[...B.nodes(t,{at:t.selection,match:r=>Ue.isElement(r)&&t.isListBlock(r)&&r.children.length===1&&$e.isText(r.children[0])&&r.children[0].text===""})];return n.length===0?!1:(n.forEach(([r,i])=>{Ue.isElement(r)&&(pm("Unset list"),ue.setNodes(t,{...r,level:void 0,listItem:void 0},{at:i}))}),!0)},t.pteIncrementBlockLevels=n=>{if(!t.selection)return!1;const r=[...B.nodes(t,{at:t.selection,match:i=>!!t.isListBlock(i)})];return r.length===0?!1:(r.forEach(([i,a])=>{if(t.isListBlock(i)){let o=i.level||1;n?(o--,pm("Decrementing list level",Math.min(D3,Math.max(1,o)))):(o++,pm("Incrementing list level",Math.min(D3,Math.max(1,o)))),ue.setNodes(t,{level:Math.min(D3,Math.max(1,o))},{at:a})}}),!0)},t.pteHasListStyle=n=>{if(!t.selection)return!1;const r=[...B.nodes(t,{at:t.selection,match:i=>t.isTextBlock(i)})];return r.length>0?r.every(([i])=>t.isListBlock(i)&&i.listItem===n):!1},t}}const jd=yi("plugin:withPortableTextMarkModel");function l7t(e,t){return function(r){const{apply:i,normalizeNode:a}=r,o=e.decorators.map(l=>l.value),s=()=>{r.selection&&(ue.select(r,{...r.selection}),r.selection={...r.selection});const l=Gd(r.children,r.selection,e);t.next({type:"selection",selection:l})};return r.normalizeNode=l=>{a(l),r.operations.some(m=>["insert_node","insert_text","merge_node","remove_node","remove_text","set_node"].includes(m.type))&&n(r);const[c,d]=l,h=$e.isText(c)&&c._type===e.span.name,p=r.isTextBlock(c);if(h||p){if(h&&!Array.isArray(c.marks)&&(jd("Adding .marks to span node"),ue.setNodes(r,{marks:[]},{at:d}),r.onChange()),h&&(c.marks||[]).length>0){const m=c.marks||G8t,g=m.filter(v=>!e.decorators.map(b=>b.value).includes(v));if(g.length>0){const[v]=B.node(r,ie.parent(d)),b=r.isTextBlock(v)&&g.filter(y=>{var x;return!((x=v.markDefs)!=null&&x.find(w=>w._key===y))})||[];b.length>0&&(jd("Removing orphaned .marks from span node"),ue.setNodes(r,{marks:m.filter(y=>!b.includes(y))},{at:d}),r.onChange())}}for(const m of r.operations){if(m.type==="merge_node"&&m.path.length===1&&"markDefs"in m.properties&&m.properties._type===e.block.name&&Array.isArray(m.properties.markDefs)&&m.properties.markDefs.length>0&&m.path[0]-1>=0){const[g,v]=B.node(r,[m.path[0]-1]);if(jd("Copying markDefs over to merged block",m),r.isTextBlock(g)){const b=Array.isArray(g.markDefs)&&g.markDefs||[],y=ra([...b,...m.properties.markDefs]);wt(y,g.markDefs)||(ue.setNodes(r,{markDefs:y},{at:v,voids:!1}),r.onChange())}}if(m.type==="split_node"&&m.path.length===1&&Ue.isElementProps(m.properties)&&m.properties._type===e.block.name&&"markDefs"in m.properties&&Array.isArray(m.properties.markDefs)&&m.properties.markDefs.length>0&&m.path[0]+1<r.children.length){const[g,v]=B.node(r,[m.path[0]+1]);if(jd("Copying markDefs over to split block",m),r.isTextBlock(g)){const b=Array.isArray(g.markDefs)&&g.markDefs||[];ue.setNodes(r,{markDefs:ra([...b,...m.properties.markDefs])},{at:v,voids:!1}),r.onChange()}}if(m.type==="split_node"&&m.path.length===2&&m.properties._type===e.span.name&&"marks"in m.properties&&Array.isArray(m.properties.marks)&&m.properties.marks.length>0&&m.path[0]+1<r.children.length){const[g,v]=B.node(r,[m.path[0]+1,0]);$e.isText(g)&&g.text===""&&Array.isArray(g.marks)&&g.marks.length>0&&(ue.setNodes(r,{marks:[]},{at:v,voids:!1}),r.onChange())}if(m.type==="split_node"&&m.path.length===1&&m.properties._type===e.block.name&&"markDefs"in m.properties&&Array.isArray(m.properties.markDefs)&&m.properties.markDefs.length>0){const[g,v]=B.node(r,[m.path[0]]);r.isTextBlock(g)&&g.children.length===1&&g.markDefs&&g.markDefs.length>0&&$e.isText(g.children[0])&&g.children[0].text===""&&(!g.children[0].marks||g.children[0].marks.length===0)&&(ue.setNodes(r,{markDefs:[]},{at:v}),r.onChange())}}h&&Array.isArray(c.marks)&&(!c.marks||c.marks.length>0&&c.text==="")&&(ue.setNodes(r,{marks:[]},{at:d,voids:!1}),r.onChange())}if(r.isTextBlock(c)&&!r.operations.some(m=>m.type==="merge_node"&&"markDefs"in m.properties&&m.path.length===1)){const m=(c.markDefs||[]).filter(g=>c.children.find(v=>$e.isText(v)&&Array.isArray(v.marks)&&v.marks.includes(g._key)));c.markDefs&&!wt(m,c.markDefs)&&(jd("Removing markDef not in use"),ue.setNodes(r,{markDefs:m},{at:d}),r.onChange())}},r.apply=l=>{var c,d;if(l.type==="insert_text"){const{selection:h}=r;if(h&&pe.isCollapsed(h)&&(d=(c=B.marks(r))==null?void 0:c.marks)!=null&&d.some(p=>!o.includes(p))){const[p]=Array.from(B.nodes(r,{mode:"lowest",at:h.focus,match:m=>m._type===e.span.name,voids:!1}))[0]||[void 0];if($e.isText(p)&&p.text.length===h.focus.offset&&Array.isArray(p.marks)&&p.marks.length>0){i(l),ue.splitNodes(r,{match:$e.isText,at:{...h.focus,offset:h.focus.offset}});const m=({...B.marks(r)||{}}.marks||[]).filter(g=>o.includes(g));ue.setNodes(r,{marks:m},{at:ie.next(h.focus.path)}),jd("Inserting text at end of annotation");return}}}i(l)},r.addMark=l=>{if(r.selection){if(pe.isExpanded(r.selection)){ue.setNodes(r,{},{match:$e.isText,split:!0});const c=[...B.nodes(r,{at:r.selection,match:$e.isText})];if(c.every(d=>{var h;return(h=d[0].marks)==null?void 0:h.includes(l)}))return r.removeMark(l),r;B.withoutNormalizing(r,()=>{c.forEach(([d,h])=>{const p=[...(Array.isArray(d.marks)?d.marks:[]).filter(m=>m!==l),l];ue.setNodes(r,{marks:p},{at:h,match:$e.isText,split:!0,hanging:!0})})}),B.normalize(r)}else{const c={...B.marks(r)||{}}.marks||[],d={...B.marks(r)||{},marks:[...c,l]};return r.marks=d,s(),r}r.onChange(),s()}return r},r.removeMark=l=>{const{selection:c}=r;if(c){if(pe.isExpanded(c))B.withoutNormalizing(r,()=>{ue.setNodes(r,{},{match:$e.isText,split:!0}),r.selection&&[...B.nodes(r,{at:r.selection,match:$e.isText})].forEach(([d,h])=>{const p=r.children[h[0]];Ue.isElement(p)&&p.children.includes(d)&&ue.setNodes(r,{marks:(Array.isArray(d.marks)?d.marks:[]).filter(m=>m!==l),_type:"span"},{at:h})})}),B.normalize(r);else{const d={...B.marks(r)||{}}.marks||[],h={...B.marks(r)||{},marks:d.filter(p=>p!==l)};return r.marks={marks:h.marks,_type:"span"},s(),r}r.onChange(),s()}return r},r.pteIsMarkActive=l=>{if(!r.selection)return!1;const c=Array.from(B.nodes(r,{match:$e.isText,at:r.selection}));return pe.isExpanded(r.selection)?c.every(d=>{var h;const[p]=d;return(h=p.marks)==null?void 0:h.includes(l)}):({...B.marks(r)||{}}.marks||[]).includes(l)},r.pteToggleMark=l=>{r.pteIsMarkActive(l)?(jd(`Remove mark '${l}'`),B.removeMark(r,l)):(jd(`Add mark '${l}'`),B.addMark(r,l,!0))},r};function n(r){const{selection:i}=r;if(i)for(const[a,o]of Array.from(B.nodes(r,{at:B.range(r,[i.anchor.path[0]],[i.focus.path[0]])})).reverse()){const[s]=o.length>1?B.node(r,ie.parent(o)):[void 0],l=[o[0],o[1]+1];if(r.isTextBlock(s)){const c=s.children[l[1]];$e.isText(a)&&$e.isText(c)&&wt(c.marks,a.marks)&&(jd("Merging spans"),ue.mergeNodes(r,{at:l,voids:!0}),r.onChange())}}}}const V5e=yi("plugin:withPortableTextSelections"),u7t=V5e.enabled&&!1;function c7t(e,t){let n=null;return function(r){const i=()=>{if(n!==r.selection){let o=null;if(r.selection){const s=jj.get(r.selection);if(s)o=s;else{const l=r.children;o=Gd(l,r.selection,t),jj.set(r.selection,o)}}u7t&&V5e(`Emitting selection ${JSON.stringify(o||null)} (${JSON.stringify(r.selection)})`),o?e.next({type:"selection",selection:o}):e.next({type:"selection",selection:null})}n=r.selection},{onChange:a}=r;return r.onChange=()=>{const o=r.operations.length>0;a(),o&&i()},r}}const Die=yi("plugin:withSchemaTypes");function d7t({schemaTypes:e,keyGenerator:t}){return function(n){n.isTextBlock=i=>yr(i)&&i._type===e.block.name,n.isTextSpan=i=>Ti(i)&&i._type==e.span.name,n.isListBlock=i=>_4e(i)&&i._type===e.block.name,n.isVoid=i=>e.block.name!==i._type&&(e.blockObjects.map(a=>a.name).includes(i._type)||e.inlineObjects.map(a=>a.name).includes(i._type)),n.isInline=i=>e.inlineObjects.map(a=>a.name).includes(i._type)&&"__inline"in i&&i.__inline===!0;const{normalizeNode:r}=n;return n.normalizeNode=i=>{const[a,o]=i;if(a._type===void 0&&o.length===2){Die("Setting span type on text node without a type");const s=a,l=s._key||t();ue.setNodes(n,{...s,_type:e.span.name,_key:l},{at:o})}if(a._key===void 0&&(o.length===1||o.length===2)){Die("Setting missing key on child node without a key");const s=t();ue.setNodes(n,{_key:s},{at:o})}r(i)},n}}const $3=yi("plugin:withUtils");function f7t({schemaTypes:e,keyGenerator:t,portableTextEditor:n}){return function(r){return r.pteExpandToWord=()=>{const{selection:i}=r;if(i&&!pe.isExpanded(i)){const[a]=B.node(r,i.focus,{depth:2});if(!a||!$e.isText(a)||a.text.length===0){$3("pteExpandToWord: Can't expand to word here");return}const{focus:o}=i,s=o.offset,l=a.text.slice(0,s),c=a.text.slice(s,-1),d=v=>v.match(/\s/g),h=l.split("").reverse().findIndex(v=>d(v)),p=h>-1?l.length-h:0,m=c.split("").findIndex(v=>d(v)),g=l.length+(m>-1?m:c.length+1);if(!(p===g||isNaN(p)||isNaN(g))){$3("pteExpandToWord: Expanding to focused word"),ue.setSelection(r,{anchor:{...i.anchor,offset:p},focus:{...i.focus,offset:g}});return}$3("pteExpandToWord: Can't expand to word here")}},r.pteCreateEmptyBlock=()=>Uc([{_type:e.block.name,_key:t(),style:e.styles[0].value||"normal",markDefs:[],children:[{_type:"span",_key:t(),text:"",marks:[]}]}],n)[0],r}}const O3=yi("plugin:withHotKeys"),h7t={marks:{"mod+b":"strong","mod+i":"em","mod+u":"underline","mod+'":"code"},custom:{}};function p7t(e,t,n){const r=["enter","tab","shift","delete","end"],i=n||h7t;return function(a){return a.pteWithHotKeys=o=>{var s,l,c,d,h,p;Object.keys(i).forEach(S=>{if(S==="marks")for(const _ in i[S]){if(r.includes(_))throw new Error(`The hotkey ${_} is reserved!`);if(Ki(_,o.nativeEvent)){o.preventDefault();const E=i[S];if(E){const k=E[_];O3(`HotKey ${_} to toggle ${k}`),a.pteToggleMark(k)}}}if(S==="custom")for(const _ in i[S]){if(r.includes(_))throw new Error(`The hotkey ${_} is reserved!`);if(Ki(_,o.nativeEvent)){const E=i[S];if(E){const k=E[_];k(o,t)}}}});const m=Ki("enter",o.nativeEvent),g=Ki("tab",o.nativeEvent),v=Ki("shift+enter",o.nativeEvent),b=Ki("shift+tab",o.nativeEvent),y=Ki("backspace",o.nativeEvent),x=Ki("delete",o.nativeEvent),w=Ki("down",o.nativeEvent),C=Ki("up",o.nativeEvent);if(w&&a.selection){const S=je.descendant(a,a.selection.focus.path.slice(0,1));if(S&&B.isVoid(a,S)){const _=ie.next(a.selection.focus.path.slice(0,1));if(!je.has(a,_)){ue.insertNodes(a,a.pteCreateEmptyBlock(),{at:_}),a.onChange();return}}}if(C&&a.selection){const S=a.selection.focus.path[0]===0,_=je.descendant(a,a.selection.focus.path.slice(0,1));if(S&&_&&B.isVoid(a,_)){ue.insertNodes(a,a.pteCreateEmptyBlock(),{at:[0]}),ue.select(a,{path:[0,0],offset:0}),a.onChange();return}}if(y&&a.selection&&a.selection.focus.path[0]===0&&pe.isCollapsed(a.selection)){const S=je.descendant(a,a.selection.focus.path.slice(0,1)),_=ie.next(a.selection.focus.path.slice(0,1)),E=je.has(a,_),k=yr(S),T=k&&S.children.length===1&&((l=(s=S.children)==null?void 0:s[0])==null?void 0:l.text)==="";if(E&&k&&T){o.preventDefault(),o.stopPropagation(),ue.removeNodes(a,{match:j=>j===S}),a.onChange();return}}if(y&&a.selection&&a.selection.focus.path[0]>0&&pe.isCollapsed(a.selection)){const S=ie.previous(a.selection.focus.path.slice(0,1)),_=je.descendant(a,S),E=je.descendant(a,a.selection.focus.path.slice(0,1));if(_&&E&&B.isVoid(a,_)&&a.selection.focus.offset===0){O3("Preventing deleting void block above"),o.preventDefault(),o.stopPropagation();const k=yr(E),T=k&&E.children.length===1&&((d=(c=E.children)==null?void 0:c[0])==null?void 0:d.text)==="";if(!k||T){ue.removeNodes(a,{match:j=>j===E}),ue.select(a,S),a.onChange();return}if(k&&!T){ue.select(a,S),a.onChange();return}return}}if(x&&a.selection&&a.selection.focus.offset===0&&pe.isCollapsed(a.selection)&&a.children[a.selection.focus.path[0]+1]){const S=je.descendant(a,ie.next(a.selection.focus.path.slice(0,1))),_=a.selection.focus.path.slice(0,1),E=je.descendant(a,_),k=yr(E)&&E.children.length===1&&((p=(h=E.children)==null?void 0:h[0])==null?void 0:p.text)==="";if(S&&E&&!B.isVoid(a,E)&&B.isVoid(a,S)&&k){O3("Preventing deleting void block below"),o.preventDefault(),o.stopPropagation(),ue.removeNodes(a,{match:T=>T===E}),ue.select(a,_),a.onChange();return}}if((g||b)&&a.selection){const[S]=B.node(a,a.selection.focus,{depth:2}),[_]=Ti(S)?B.node(a,a.selection.focus,{depth:1}):[],E=S&&yr(_)&&Ti(S)&&(S.marks||[]).filter(j=>(_.markDefs||[]).map(I=>I._key).includes(j)).length>0,[k]=pe.edges(a.selection),T=B.isStart(a,k,k.path);S&&Ti(S)&&(!E||T)&&a.pteIncrementBlockLevels(b)&&o.preventDefault()}if(m&&!v&&a.selection){const S=a.selection.focus.path.slice(0,1),_=je.descendant(a,S);if(a.isListBlock(_)){a.pteEndList()&&o.preventDefault();return}if(a.isTextBlock(_)&&_.style&&_.style!==e.styles[0].value){const[,E]=pe.edges(a.selection);if(B.isEnd(a,E,E.path)){B.insertNode(a,a.pteCreateEmptyBlock()),o.preventDefault(),a.onChange();return}}if(_&&B.isVoid(a,_)){B.insertNode(a,a.pteCreateEmptyBlock()),o.preventDefault(),a.onChange();return}o.preventDefault(),a.insertBreak(),a.onChange()}if(v){o.preventDefault(),a.insertText(`
`);return}if(Ki("mod+z",o.nativeEvent)){o.preventDefault(),a.undo();return}(Ki("mod+y",o.nativeEvent)||Ki("mod+shift+z",o.nativeEvent))&&(o.preventDefault(),a.redo())},a}}function $j(e,t,n){let r=null,i=!0;const a=[t.span.name,...t.inlineObjects.map(s=>s.name)],o=[t.block.name,...t.blockObjects.map(s=>s.name)];return e===void 0?{valid:!0,resolution:null,value:e}:!Array.isArray(e)||e.length===0?{valid:!1,resolution:{patches:[wo([])],description:"Editor value must be an array of Portable Text blocks, or undefined.",action:"Unset the value",item:e,i18n:{description:"inputs.portable-text.invalid-value.not-an-array.description",action:"inputs.portable-text.invalid-value.not-an-array.action"}},value:e}:(e.some((s,l)=>{if(!dr(s))return r={patches:[wo([l])],description:`Block must be an object, got ${String(s)}`,action:"Unset invalid item",item:s,i18n:{description:"inputs.portable-text.invalid-value.not-an-object.description",action:"inputs.portable-text.invalid-value.not-an-object.action",values:{index:l}}},!0;if(!s._key||typeof s._key!="string")return r={patches:[ps({...s,_key:n()},[l])],description:`Block at index ${l} is missing required _key.`,action:"Set the block with a random _key value",item:s,i18n:{description:"inputs.portable-text.invalid-value.missing-key.description",action:"inputs.portable-text.invalid-value.missing-key.action",values:{index:l}}},!0;if(!s._type||!o.includes(s._type)){if(s._type==="block"){const c=t.block.name;return r={patches:[ps({...s,_type:c},[{_key:s._key}])],description:`Block with _key '${s._key}' has invalid type name '${s._type}'. According to the schema, the block type name is '${c}'`,action:`Use type '${c}'`,item:s,i18n:{description:"inputs.portable-text.invalid-value.incorrect-block-type.description",action:"inputs.portable-text.invalid-value.incorrect-block-type.action",values:{key:s._key,expectedTypeName:c}}},!0}return!s._type&&yr({...s,_type:t.block.name})?(r={patches:[ps({...s,_type:t.block.name},[{_key:s._key}])],description:`Block with _key '${s._key}' is missing a type name. According to the schema, the block type name is '${t.block.name}'`,action:`Use type '${t.block.name}'`,item:s,i18n:{description:"inputs.portable-text.invalid-value.missing-block-type.description",action:"inputs.portable-text.invalid-value.missing-block-type.action",values:{key:s._key,expectedTypeName:t.block.name}}},!0):s._type?(r={patches:[wo([{_key:s._key}])],description:`Block with _key '${s._key}' has invalid _type '${s._type}'`,action:"Remove the block",item:s,i18n:{description:"inputs.portable-text.invalid-value.disallowed-type.description",action:"inputs.portable-text.invalid-value.disallowed-type.action",values:{key:s._key,typeName:s._type}}},!0):(r={patches:[wo([{_key:s._key}])],description:`Block with _key '${s._key}' is missing an _type property`,action:"Remove the block",item:s,i18n:{description:"inputs.portable-text.invalid-value.missing-type.description",action:"inputs.portable-text.invalid-value.missing-type.action",values:{key:s._key}}},!0)}if(s._type===t.block.name){const c=s;if(c.children&&!Array.isArray(c.children))return r={patches:[ps({children:[]},[{_key:c._key}])],description:`Text block with _key '${c._key}' has a invalid required property 'children'.`,action:"Reset the children property",item:c,i18n:{description:"inputs.portable-text.invalid-value.missing-or-invalid-children.description",action:"inputs.portable-text.invalid-value.missing-or-invalid-children.action",values:{key:c._key}}},!0;if(c.children===void 0||Array.isArray(c.children)&&c.children.length===0){const p={_type:t.span.name,_key:n(),text:"",marks:[]};return r={autoResolve:!0,patches:[wW([],[{_key:s._key},"children"]),Ld([p],"after",[{_key:s._key},"children",0])],description:`Children for text block with _key '${s._key}' is empty.`,action:"Insert an empty text",item:s,i18n:{description:"inputs.portable-text.invalid-value.empty-children.description",action:"inputs.portable-text.invalid-value.empty-children.action",values:{key:s._key}}},!0}if(s.markDefs&&!Array.isArray(s.markDefs))return r={patches:[ps({...c,markDefs:W8t},[{_key:c._key}])],description:"Block has invalid required property 'markDefs'.",action:"Add empty markDefs array",item:c,i18n:{description:"inputs.portable-text.invalid-value.missing-or-invalid-markdefs.description",action:"inputs.portable-text.invalid-value.missing-or-invalid-markdefs.action",values:{key:c._key}}},!0;const d=ra(cr(c.children.filter(p=>p._type===t.span.name).map(p=>p.marks||[])));if(Array.isArray(s.markDefs)&&s.markDefs.length>0){const p=ra(s.markDefs.map(m=>m._key).filter(m=>!d.includes(m)));if(p.length>0)return r={autoResolve:!0,patches:p.map(m=>wo([{_key:s._key},"markDefs",{_key:m}])),description:`Block contains orphaned data (unused mark definitions): ${p.join(", ")}.`,action:"Remove unused mark definition item",item:s,i18n:{description:"inputs.portable-text.invalid-value.orphaned-mark-defs.description",action:"inputs.portable-text.invalid-value.orphaned-mark-defs.action",values:{key:s._key,unusedMarkDefs:p.map(m=>m.toString())}}},!0}const h=d.filter(p=>!t.decorators.map(m=>m.value).includes(p)).filter(p=>c.markDefs===void 0||!c.markDefs.find(m=>m._key===p));if(h.length>0){const p=c.children.filter(m=>m._type===t.span.name&&Array.isArray(m.marks)&&m.marks.some(g=>h.includes(g)));if(p){const m=h.join(", ");return r={autoResolve:!0,patches:p.map(g=>ps((g.marks||[]).filter(v=>!h.includes(v)),[{_key:s._key},"children",{_key:g._key},"marks"])),description:`Block with _key '${s._key}' contains marks (${m}) not supported by the current content model.`,action:"Remove invalid marks",item:s,i18n:{description:"inputs.portable-text.invalid-value.orphaned-marks.description",action:"inputs.portable-text.invalid-value.orphaned-marks.action",values:{key:s._key,orphanedMarks:h.map(g=>g.toString())}}},!0}}c.children.some((p,m)=>{if(!dr(p))return r={patches:[wo([{_key:s._key},"children",m])],description:`Child at index '${m}' in block with key '${s._key}' is not an object.`,action:"Remove the item",item:s,i18n:{description:"inputs.portable-text.invalid-value.non-object-child.description",action:"inputs.portable-text.invalid-value.non-object-child.action",values:{key:s._key,index:m}}},!0;if(!p._key||typeof p._key!="string"){const g={...p,_key:n()};return r={autoResolve:!0,patches:[ps(g,[{_key:s._key},"children",m])],description:`Child at index ${m} is missing required _key in block with _key ${s._key}.`,action:"Set a new random _key on the object",item:s,i18n:{description:"inputs.portable-text.invalid-value.missing-child-key.description",action:"inputs.portable-text.invalid-value.missing-child-key.action",values:{key:s._key,index:m}}},!0}return p._type?a.includes(p._type)?p._type===t.span.name&&typeof p.text!="string"?(r={patches:[ps({...p,text:""},[{_key:s._key},"children",{_key:p._key}])],description:`Child with _key '${p._key}' in block with key '${s._key}' has missing or invalid text property!`,action:"Write an empty text property to the object",item:s,i18n:{description:"inputs.portable-text.invalid-value.invalid-span-text.description",action:"inputs.portable-text.invalid-value.invalid-span-text.action",values:{key:s._key,childKey:p._key}}},!0):!1:(r={patches:[wo([{_key:s._key},"children",{_key:p._key}])],description:`Child with _key '${p._key}' in block with key '${s._key}' has invalid '_type' property (${p._type}).`,action:"Remove the object",item:s,i18n:{description:"inputs.portable-text.invalid-value.disallowed-child-type.description",action:"inputs.portable-text.invalid-value.disallowed-child-type.action",values:{key:s._key,childKey:p._key,childType:p._type}}},!0):(r={patches:[wo([{_key:s._key},"children",{_key:p._key}])],description:`Child with _key '${p._key}' in block with key '${s._key}' is missing '_type' property.`,action:"Remove the object",item:s,i18n:{description:"inputs.portable-text.invalid-value.missing-child-type.description",action:"inputs.portable-text.invalid-value.missing-child-type.action",values:{key:s._key,childKey:p._key}}},!0)})&&(i=!1)}return!1})&&(i=!1),{valid:i,resolution:r,value:e})}const Md=yi("plugin:withInsertData");function m7t(e,t,n){return function(r){const i=t.block.name,a=t.span.name,o=t.block.options.unstable_whitespaceOnPasteMode,s=l=>l.map(c=>{var d;return r.isTextBlock(c)?c.children.map(h=>{var p;return h._type===a?h.text:`[${((p=t.inlineObjects.find(m=>m.name===h._type))==null?void 0:p.title)||"Object"}]`}).join(""):`[${((d=t.blockObjects.find(h=>h.name===c._type))==null?void 0:d.title)||"Object"}]`}).join(`

`);return r.setFragmentData=(l,c)=>{const{selection:d}=r;if(!d)return;const[h,p]=pe.edges(d),m=B.void(r,{at:h.path}),g=B.void(r,{at:p.path});if(pe.isCollapsed(d)&&!m)return;const v=we.toDOMRange(r,d);let b=v.cloneContents();if(g){const[E]=g,k=v.cloneRange(),T=we.toDOMNode(r,E);k.setEndAfter(T),b=k.cloneContents()}Array.from(b.querySelectorAll("[data-slate-zero-width]")).forEach(E=>{const k=E.getAttribute("data-slate-zero-width")==="n";E.textContent=k?`
`:""}),Array.from(b.querySelectorAll("*")).forEach(E=>{E.removeAttribute("contentEditable"),E.removeAttribute("data-slate-inline"),E.removeAttribute("data-slate-leaf"),E.removeAttribute("data-slate-node"),E.removeAttribute("data-slate-spacer"),E.removeAttribute("data-slate-string"),E.removeAttribute("data-slate-zero-width"),E.removeAttribute("draggable");for(const k in E.attributes)E.hasAttribute(k)&&E.removeAttribute(k)});const y=b.ownerDocument.createElement("div");y.appendChild(b),y.setAttribute("hidden","true"),b.ownerDocument.body.appendChild(y);const x=y.innerHTML;b.ownerDocument.body.removeChild(y);const w=r.getFragment(),C=Ar(w,i),S=JSON.stringify(C),_=s(C);l.clearData(),l.setData("text/plain",_),l.setData("text/html",x),l.setData("application/json",S),l.setData("application/x-portable-text",S),Md("text",_),l.setData("application/x-portable-text-event-origin",c||"external"),Md("Set fragment data",S,x)},r.insertPortableTextData=l=>{var c,d;if(!r.selection)return!1;const h=l.getData("application/x-portable-text"),p=l.getData("application/x-portable-text-event-origin");if(Md(`Inserting portable text from ${p} event`,h),h){const m=JSON.parse(h);if(Array.isArray(m)&&m.length>0){const g=y7t(r,Uc(m,{schemaTypes:t}),n,a,t),v=$j(m,t,n);if(!v.valid&&!((c=v.resolution)!=null&&c.autoResolve)){const b=`${(d=v.resolution)==null?void 0:d.description}`;return e.next({type:"error",level:"warning",name:"pasteError",description:b,data:v}),Md("Invalid insert result",v),!1}return $ie(r,g,t),!0}}return!1},r.insertTextOrHTMLData=l=>{var c;if(!r.selection)return Md("No selection, not inserting"),!1;e.next({type:"loading",isLoading:!0});const d=l.getData("text/html"),h=l.getData("text/plain");if(d||h){Md("Inserting data",l);let p,m,g;if(d){if(p=hie(d,t.portableText,{unstable_whitespaceOnPasteMode:o}).map(b=>DS(b,{blockTypeName:i})),m=Uc(p,{schemaTypes:t}),g="HTML",p.length===0)return!1}else{const b=`<html><body>${v7t(h).split(/\n{2,}/).map(y=>y?`<p>${y.replace(/(?:\r\n|\r|\n)/g,"<br/>")}</p>`:"<p></p>").join("")}</body></html>`;p=hie(b,t.portableText).map(y=>DS(y,{blockTypeName:i})),m=Uc(p,{schemaTypes:t}),g="text"}const v=$j(p,t,n);if(!v.valid){const b=`Could not validate the resulting portable text to insert.
${(c=v.resolution)==null?void 0:c.description}
Try to insert as plain text (shift-paste) instead.`;return e.next({type:"error",level:"warning",name:"pasteError",description:b,data:v}),Md("Invalid insert result",v),!1}return Md(`Inserting ${g} fragment at ${JSON.stringify(r.selection)}`),$ie(r,m,t),e.next({type:"loading",isLoading:!1}),!0}return e.next({type:"loading",isLoading:!1}),!1},r.insertData=l=>{r.insertPortableTextData(l)||r.insertTextOrHTMLData(l)},r.insertFragmentData=l=>{const c=l.getData("application/x-portable-text");if(c){const d=JSON.parse(c);return r.insertFragment(d),!0}return!1},r}}const g7t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function v7t(e){return String(e).replace(/[&<>"'`=/]/g,t=>g7t[t])}function y7t(e,t,n,r,i){return t.map(a=>{const o={...a};if(e.isTextBlock(o)){const l=i.annotations.map(c=>c.name);if(l.length===0){const{markDefs:c,...d}=o;return{...d,_key:n()}}if((o.markDefs||[]).some(c=>!l.includes(c._type))){const c=(o.markDefs||[]).filter(d=>l.includes(d._type));return{...o,markDefs:c,_key:n()}}o.markDefs=(o.markDefs||[]).map(c=>{const d=c._key,h=n();return o.children=o.children.map(p=>p._type===r&&e.isTextSpan(p)?{...p,marks:p.marks&&p.marks.includes(d)?[...p.marks].filter(m=>m!==d).concat(h):p.marks}:p),{...c,_key:h}})}const s={...o,_key:n()};return e.isTextBlock(s)&&(s.children=s.children.map(l=>({...l,_key:n()}))),s})}function $ie(e,t,n){e.withoutNormalizing(()=>{if(!e.selection)return;const[r,i]=B.node(e,e.selection,{depth:1});if(e.isTextBlock(r)&&e.isTextBlock(t[0])){const{markDefs:a}=r;Md("Mixing markDefs of focusBlock and fragments[0] block",a,t[0].markDefs),wt(a,t[0].markDefs)||ue.setNodes(e,{markDefs:ra([...t[0].markDefs||[],...a||[]])},{at:i,mode:"lowest",voids:!1})}Jg(e.children,n)?(ue.splitNodes(e,{at:[0,0]}),e.insertFragment(t),ue.removeNodes(e,{at:[0]})):e.insertFragment(t)}),e.onChange()}const Oie=new WeakMap,Mie=(e,t)=>{const n=e,{keyGenerator:r,portableTextEditor:i,patches$:a,readOnly:o,maxBlocks:s}=t,{schemaTypes:l,change$:c}=i;n.subscriptions=[],n.destroy?n.destroy():Oie.set(n,{apply:n.apply,onChange:n.onChange,normalizeNode:n.normalizeNode});const d=u6t(l),h=h6t(l,r),p=d7t({schemaTypes:l,keyGenerator:r}),m=c6t(i,l,r),g=r7t({change$:c,keyGenerator:r,patches$:a,patchFunctions:d,readOnly:o,schemaTypes:l}),v=f6t(s||-1),b=s7t(l),y=X6t({readOnly:o,patches$:a,blockSchemaType:l.block}),x=l7t(l,c),w=o7t(l),C=a7t(),S=d6t(l),_=f7t({keyGenerator:r,schemaTypes:l,portableTextEditor:i}),E=c7t(c,l);return n.destroy=()=>{const k=Oie.get(n);if(!k)throw new Error("Could not find pristine versions of editor functions");n.apply=k.apply,n.history={undos:[],redos:[]},n.normalizeNode=k.normalizeNode,n.onChange=k.onChange},o?{editor:p(h(x(w(_(C(b(E(m(S(n)))))))))),subscribe:()=>W2e}:{editor:p(h(x(w(b(C(_(v(y(g(E(m(S(n))))))))))))),subscribe:()=>{const k=[];return e.subscriptions.forEach(T=>{k.push(T())}),()=>{k.forEach(T=>{T()})}}}},M3=yi("component:PortableTextEditor:SlateContainer");function b7t(e){const{patches$:t,portableTextEditor:n,readOnly:r,maxBlocks:i,keyGenerator:a}=e,[[o,s]]=f.useState(()=>{M3("Creating new Slate editor instance");const{editor:c,subscribe:d}=Mie(aFt(APt()),{keyGenerator:a,maxBlocks:i,patches$:t,portableTextEditor:n,readOnly:r});return Bs.set(c,{}),N8.set(c,{}),[c,d]});f.useEffect(()=>{const c=s();return()=>{c()}},[s]),f.useEffect(()=>{M3("Re-initializing plugin chain"),Mie(o,{keyGenerator:a,maxBlocks:i,patches$:t,portableTextEditor:n,readOnly:r})},[a,n,i,r,t,o]);const l=f.useMemo(()=>[o.pteCreateEmptyBlock()],[o]);return f.useEffect(()=>()=>{M3("Destroying Slate editor"),o.destroy()},[o]),u.jsx(rFt,{editor:o,initialValue:l,children:e.children})}const Oj=()=>Y2(12),z5e=f.createContext(Oj),U5e=()=>{const e=f.useContext(z5e);if(e===void 0)throw new Error("The `usePortableTextEditorKeyGenerator` hook must be used inside the <PortableTextEditor> component's context.");return e},H5e=f.createContext(!1),W5e=()=>{const e=f.useContext(H5e);if(e===void 0)throw new Error("The `usePortableTextEditorReadOnly` hook must be used inside the <PortableTextEditor> component's context.");return e},qi=yi("hook:useSyncValue"),Rie=new WeakMap;function x7t(e){const{portableTextEditor:t,readOnly:n,keyGenerator:r}=e,{change$:i,schemaTypes:a}=t,o=f.useRef(),s=fO(),l=f.useRef(),c=f.useCallback(()=>{const h=Rie.get(t);if(o.current===h){qi("Value is the same object as previous, not need to sync");return}l.current&&h&&(qi("Updating the value debounced"),l.current(h))},[t]),d=f.useMemo(()=>m0(c,1e3,{trailing:!0,leading:!1}),[c]);return f.useMemo(()=>{const h=p=>{Rie.set(t,p);const m=q6t(s),g=N5e(s);if(!n){if(m){qi("Has local changes, not syncing value right now"),d();return}if(g){qi("Has remote changes, not syncing value right now"),d();return}}let v=!1,b=!0;const y=!!s.selection;if((!p||p.length===0)&&(qi("Value is empty"),B.withoutNormalizing(s,()=>{$S(s,()=>{B8(s,()=>{y&&ue.deselect(s);const x=s.children.length;s.children.forEach((w,C)=>{ue.removeNodes(s,{at:[x-1-C]})}),ue.insertNodes(s,s.pteCreateEmptyBlock(),{at:[0]}),y&&ue.select(s,[0,0])})})}),v=!0),p&&p.length>0){const x=Uc(p,{schemaTypes:a});B.withoutNormalizing(s,()=>{F5e(s,()=>{$S(s,()=>{B8(s,()=>{const w=s.children.length;if(x.length<w){for(let C=w-1;C>x.length-1;C--)ue.removeNodes(s,{at:[C]});v=!0}x.forEach((C,S)=>{var _,E,k,T,j;const I=s.children[S];if(I&&!wt(C,I)&&b){const A=[p[S]],$=$j(A,a,r);!$.valid&&(_=$.resolution)!=null&&_.autoResolve&&((E=$.resolution)==null?void 0:E.patches.length)>0&&!n&&o.current&&o.current!==p&&(console.warn(`${$.resolution.action} for block with _key '${A[0]._key}'. ${(k=$.resolution)==null?void 0:k.description}`),$.resolution.patches.forEach(D=>{i.next({type:"patch",patch:D})})),$.valid||(T=$.resolution)!=null&&T.autoResolve?(I._key===C._key?(qi.enabled&&qi("Updating block",I,C),C7t(s,C,I,S)):(qi.enabled&&qi("Replacing block",I,C),w7t(s,C,S)),v=!0):(i.next({type:"invalidValue",resolution:$.resolution,value:p}),b=!1)}if(!I&&b){const A=[p[S]],$=$j(A,a,r);qi.enabled&&qi("Validating and inserting new block in the end of the value",C),$.valid||(j=$.resolution)!=null&&j.autoResolve?Qg(s,()=>{ue.insertNodes(s,C,{at:[S]})}):(qi("Invalid",$),i.next({type:"invalidValue",resolution:$.resolution,value:p}),b=!1)}})})})})})}if(!b){qi("Invalid value, returning");return}if(v){qi("Server value changed, syncing editor");try{s.onChange()}catch(x){console.error(x),i.next({type:"invalidValue",resolution:null,value:p});return}y&&!s.selection&&(ue.select(s,{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0}}),s.onChange()),i.next({type:"value",value:p})}else qi("Server value and editor value is equal, no need to sync.");o.current=p};return l.current=h,h},[i,r,t,n,a,s,d])}function w7t(e,t,n){const r=e.selection,i=r&&r.focus.path[0]===n;i&&ue.deselect(e),ue.removeNodes(e,{at:[n]}),Qg(e,()=>{ue.insertNodes(e,t,{at:[n]})}),e.onChange(),i&&ue.select(e,r)}function C7t(e,t,n,r){if(ue.setNodes(e,t,{at:[r]}),e.isTextBlock(t)&&e.isTextBlock(n)){const i=n.children.length;t.children.length<i&&Array.from(Array(i-t.children.length)).forEach((a,o)=>{const s=i-1-o;s>0&&(qi("Removing child"),ue.removeNodes(e,{at:[r,s]}))}),t.children.forEach((a,o)=>{const s=n.children[o],l=!wt(a,s),c=!wt(a.text,s==null?void 0:s.text),d=[r,o];if(l)if(a._key===(s==null?void 0:s._key)){qi("Updating changed child",a,s),ue.setNodes(e,a,{at:d});const h=$e.isText(a)&&a._type==="span"&&$e.isText(s)&&s._type==="span";h&&c?(ue.delete(e,{at:{focus:{path:d,offset:0},anchor:{path:d,offset:s.text.length}}}),ue.insertText(e,a.text,{at:d}),e.onChange()):h||(qi("Updating changed inline object child",a),ue.setNodes(e,{_key:k5e},{at:[...d,0],voids:!0}))}else s?(qi("Replacing child",a),ue.removeNodes(e,{at:[r,o]}),Qg(e,()=>{ue.insertNodes(e,a,{at:[r,o]})}),e.onChange()):s||(qi("Inserting new child",a),Qg(e,()=>{ue.insertNodes(e,a,{at:[r,o]}),e.onChange()}))})}}const xh=yi("component:PortableTextEditor:Synchronizer"),S7t=xh.enabled&&!1,_7t=1e3;function E7t(e){const t=Wi(),n=U5e(),r=W5e(),{change$:i,getValue:a,onChange:o,value:s}=e,l=f.useRef([]),c=x7t({keyGenerator:n,onChange:o,portableTextEditor:t,readOnly:r}),d=fO();f.useEffect(()=>{nT.set(d,!1)},[d]);const h=f.useCallback(()=>{if(l.current.length>0){xh("Flushing pending patches"),S7t&&xh(`Patches:
${JSON.stringify(l.current,null,2)}`);const b=a();i.next({type:"mutation",patches:l.current,snapshot:b}),l.current=[]}nT.set(d,!1)},[d,a,i]),p=f.useMemo(()=>xb(()=>{if(B.isNormalizing(d)){h();return}p()},_7t,{leading:!1,trailing:!0}),[h,d]);f.useEffect(()=>()=>{h()},[h]),f.useEffect(()=>{xh("Subscribing to editor changes$");const b=i.subscribe(y=>{switch(y.type){case"patch":nT.set(d,!0),l.current.push(y.patch),p(),o(y);break;default:o(y)}});return()=>{xh("Unsubscribing to changes$"),b.unsubscribe()}},[i,o,p,d]);const m=f.useCallback(()=>{xh("Editor is online, syncing from props.value"),i.next({type:"connection",value:"online"}),c(s)},[i,c,s]),g=f.useCallback(()=>{xh("Editor is offline"),i.next({type:"connection",value:"offline"})},[i]);f.useEffect(()=>(t.props.patches$&&(window.addEventListener("online",m),window.addEventListener("offline",g)),()=>{t.props.patches$&&(window.removeEventListener("online",m),window.removeEventListener("offline",g))}));const v=f.useRef(!0);return f.useEffect(()=>{xh("Value from props changed, syncing new value"),c(s),v.current&&(i.next({type:"loading",isLoading:!1}),i.next({type:"ready"}),v.current=!1)},[i,c,s]),null}const G5e=f.createContext(null),M0=()=>{const e=f.useContext(G5e);if(e===void 0)throw new Error("The `usePortableTextEditorSelection` hook must be used inside the <PortableTextEditor> component's context.");return e},rT=yi("component:PortableTextEditor:SelectionProvider"),k7t=rT.enabled&&!1;function T7t(e){const{change$:t}=e,[n,r]=f.useState(null);return f.useEffect(()=>{rT("Subscribing to selection changes$");const i=t.subscribe(a=>{a.type==="selection"&&f.startTransition(()=>{k7t&&rT("Setting selection"),r(a.selection)})});return()=>{rT("Unsubscribing to selection changes$"),i.unsubscribe()}},[t]),u.jsx(G5e.Provider,{value:n,children:e.children})}var A7t=Object.defineProperty,j7t=(e,t,n)=>t in e?A7t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pn=(e,t,n)=>j7t(e,typeof t!="symbol"?t+"":t,n);const Id=yi("component:PortableTextEditor");class Ae extends f.Component{constructor(t){if(super(t),pn(this,"change$",new Mr),pn(this,"schemaTypes"),pn(this,"editable"),pn(this,"setEditable",n=>{this.editable={...this.editable,...n}}),pn(this,"getValue",()=>{if(this.editable)return this.editable.getValue()}),!t.schemaType)throw new Error('PortableTextEditor: missing "schemaType" property');t.incomingPatches$&&console.warn("The prop 'incomingPatches$' is deprecated and renamed to 'patches$'"),this.change$.next({type:"loading",isLoading:!0}),this.schemaTypes=yie(t.schemaType.hasOwnProperty("jsonType")?t.schemaType:bie(t.schemaType))}componentDidUpdate(t){this.props.schemaType!==t.schemaType&&(this.schemaTypes=yie(this.props.schemaType.hasOwnProperty("jsonType")?this.props.schemaType:bie(this.props.schemaType))),this.props.editorRef!==t.editorRef&&this.props.editorRef&&(this.props.editorRef.current=this)}render(){const{onChange:t,value:n,children:r,patches$:i,incomingPatches$:a}=this.props,{change$:o}=this,s=a||i,l=typeof this.props.maxBlocks>"u"?void 0:parseInt(this.props.maxBlocks.toString(),10)||void 0,c=!!this.props.readOnly,d=this.props.keyGenerator||Oj;return u.jsx(b7t,{keyGenerator:d,maxBlocks:l,patches$:s,portableTextEditor:this,readOnly:c,children:u.jsx(z5e.Provider,{value:d,children:u.jsx(T5e.Provider,{value:this,children:u.jsx(H5e.Provider,{value:c,children:u.jsxs(T7t,{change$:o,children:[u.jsx(E7t,{change$:o,getValue:this.getValue,onChange:t,value:n}),r]})})})})})}}pn(Ae,"activeAnnotations",e=>e&&e.editable?e.editable.activeAnnotations():[]),pn(Ae,"isAnnotationActive",(e,t)=>e&&e.editable?e.editable.isAnnotationActive(t):!1),pn(Ae,"addAnnotation",(e,t,n)=>{var r;return(r=e.editable)==null?void 0:r.addAnnotation(t,n)}),pn(Ae,"blur",e=>{var t;Id("Host blurred"),(t=e.editable)==null||t.blur()}),pn(Ae,"delete",(e,t,n)=>{var r;return(r=e.editable)==null?void 0:r.delete(t,n)}),pn(Ae,"findDOMNode",(e,t)=>{var n;return(n=e.editable)==null?void 0:n.findDOMNode(t)}),pn(Ae,"findByPath",(e,t)=>{var n;return((n=e.editable)==null?void 0:n.findByPath(t))||[]}),pn(Ae,"focus",e=>{var t;Id("Host requesting focus"),(t=e.editable)==null||t.focus()}),pn(Ae,"focusBlock",e=>{var t;return(t=e.editable)==null?void 0:t.focusBlock()}),pn(Ae,"focusChild",e=>{var t;return(t=e.editable)==null?void 0:t.focusChild()}),pn(Ae,"getSelection",e=>e.editable?e.editable.getSelection():null),pn(Ae,"getValue",e=>{var t;return(t=e.editable)==null?void 0:t.getValue()}),pn(Ae,"hasBlockStyle",(e,t)=>{var n;return(n=e.editable)==null?void 0:n.hasBlockStyle(t)}),pn(Ae,"hasListStyle",(e,t)=>{var n;return(n=e.editable)==null?void 0:n.hasListStyle(t)}),pn(Ae,"isCollapsedSelection",e=>{var t;return(t=e.editable)==null?void 0:t.isCollapsedSelection()}),pn(Ae,"isExpandedSelection",e=>{var t;return(t=e.editable)==null?void 0:t.isExpandedSelection()}),pn(Ae,"isMarkActive",(e,t)=>{var n;return(n=e.editable)==null?void 0:n.isMarkActive(t)}),pn(Ae,"insertChild",(e,t,n)=>{var r;return Id("Host inserting child"),(r=e.editable)==null?void 0:r.insertChild(t,n)}),pn(Ae,"insertBlock",(e,t,n)=>{var r;return(r=e.editable)==null?void 0:r.insertBlock(t,n)}),pn(Ae,"insertBreak",e=>{var t;return(t=e.editable)==null?void 0:t.insertBreak()}),pn(Ae,"isVoid",(e,t)=>{var n;return(n=e.editable)==null?void 0:n.isVoid(t)}),pn(Ae,"isObjectPath",(e,t)=>{if(!t||!Array.isArray(t))return!1;const n=t.length>3&&t[1]==="children";return t.length>1&&t[1]!=="children"||n}),pn(Ae,"marks",e=>{var t;return(t=e.editable)==null?void 0:t.marks()}),pn(Ae,"select",(e,t)=>{var n;Id("Host setting selection",t),(n=e.editable)==null||n.select(t)}),pn(Ae,"removeAnnotation",(e,t)=>{var n;return(n=e.editable)==null?void 0:n.removeAnnotation(t)}),pn(Ae,"toggleBlockStyle",(e,t)=>{var n;return Id("Host is toggling block style"),(n=e.editable)==null?void 0:n.toggleBlockStyle(t)}),pn(Ae,"toggleList",(e,t)=>{var n;return(n=e.editable)==null?void 0:n.toggleList(t)}),pn(Ae,"toggleMark",(e,t)=>{var n;Id("Host toggling mark",t),(n=e.editable)==null||n.toggleMark(t)}),pn(Ae,"getFragment",e=>{var t;return Id("Host getting fragment"),(t=e.editable)==null?void 0:t.getFragment()}),pn(Ae,"undo",e=>{var t;Id("Host undoing"),(t=e.editable)==null||t.undo()}),pn(Ae,"redo",e=>{var t;Id("Host redoing"),(t=e.editable)==null||t.redo()}),pn(Ae,"isSelectionsOverlapping",(e,t,n)=>{var r;return(r=e.editable)==null?void 0:r.isSelectionsOverlapping(t,n)});const I7t=yi("components:Leaf"),Pie=[],D7t=e=>{const{attributes:t,children:n,leaf:r,schemaTypes:i,renderChild:a,renderDecorator:o,renderAnnotation:s}=e,l=f.useRef(null),c=Wi(),d=Zke(),[h,p]=f.useState(!1),[m,g]=f.useState(!1),v=n.props.parent,b=f.useMemo(()=>v?[{_key:v==null?void 0:v._key},"children",{_key:r._key}]:[],[v,r._key]),y=f.useMemo(()=>i.decorators.map(k=>k.value),[i.decorators]),x=f.useMemo(()=>ra((r.marks||Pie).filter(k=>y.includes(k))),[y,r.marks]),w=Array.isArray(r.marks)?r.marks:Pie,C=f.useMemo(()=>w.map(k=>{var T;return!y.includes(k)&&((T=v==null?void 0:v.markDefs)==null?void 0:T.find(j=>j._key===k))}).filter(Boolean),[w,v,y]),S=C.length>0&&d;f.useEffect(()=>{if(!S){p(!1);return}const k=Ae.getSelection(c);k&&wt(k.focus.path,b)&&Ae.isCollapsedSelection(c)&&f.startTransition(()=>{p(!0)})},[S,b,c]);const _=f.useCallback(()=>{if(!S)return;I7t("Setting selection and focus from range");const k=window.getSelection();if(!k){g(!1);return}if(k&&k.rangeCount>0){const T=k.getRangeAt(0);l.current&&T.intersectsNode(l.current)?g(!0):g(!1)}else g(!1)},[S]);f.useEffect(()=>{if(!S)return;const k=c.change$.subscribe(T=>{if(T.type==="blur"){p(!1),g(!1);return}if(T.type==="focus"){const j=Ae.getSelection(c);j&&wt(j.focus.path,b)&&Ae.isCollapsedSelection(c)&&p(!0),_();return}T.type==="selection"&&(T.selection&&wt(T.selection.focus.path,b)&&Ae.isCollapsedSelection(c)?p(!0):p(!1),_())});return()=>{k.unsubscribe()}},[b,c,_,S]),f.useEffect(()=>_(),[_]);const E=f.useMemo(()=>{let k=n;if($e.isText(r)&&r._type===i.span.name&&(x.forEach(T=>{const j=i.decorators.find(I=>I.value===T);if(j&&o){const I=Object.defineProperty({children:k,editorElementRef:l,focused:h,path:b,selected:m,schemaType:j,value:T},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),j}});k=o(I)}}),v&&C.length>0&&C.forEach(T=>{const j=i.annotations.find(I=>I.name===T._type);if(j)if(s){const I=Object.defineProperty({block:v,children:k,editorElementRef:l,focused:h,path:b,selected:m,schemaType:j,value:T},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),j}});k=u.jsx("span",{ref:l,children:s(I)})}else k=u.jsx(a6t,{annotation:T,children:u.jsx("span",{ref:l,children:k})})}),v&&a)){const T=v.children.find(j=>j._key===r._key);if(T){const j=Object.defineProperty({annotations:C,children:u.jsx(u.Fragment,{children:k}),editorElementRef:l,focused:h,path:b,schemaType:i.span,selected:m,value:T},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),i.span}});k=a(j)}}return k},[C,v,n,h,r,x,b,s,a,o,i.annotations,i.decorators,i.span,m]);return f.useMemo(()=>u.jsx("span",{...t,ref:l,children:E},r._key),[r,t,E])},cc=yi("component:Editable"),$7t={position:"absolute",userSelect:"none",pointerEvents:"none",left:0,right:0},Y5e=f.forwardRef(function(e,t){const{hotkeys:n,onBlur:r,onFocus:i,onBeforeInput:a,onPaste:o,onCopy:s,onClick:l,rangeDecorations:c,renderAnnotation:d,renderBlock:h,renderChild:p,renderDecorator:m,renderListItem:g,renderPlaceholder:v,renderStyle:b,selection:y,scrollSelectionIntoView:x,spellCheck:w,...C}=e,S=Wi(),_=W5e(),E=U5e(),k=f.useRef(null),[T,j]=f.useState(null),[I,A]=f.useState(!1),[$,D]=f.useState([]);f.useImperativeHandle(t,()=>k.current);const M=f.useRef(c),{change$:O,schemaTypes:F}=S,P=fO(),V=F.block.name,H=f.useMemo(()=>m7t(O,F,E),[O,E,F]),W=f.useMemo(()=>p7t(F,S,n),[n,S,F]);f.useMemo(()=>_?(cc("Editable is in read only mode"),H(P)):(cc("Editable is in edit mode"),H(W(P))),[_,P,W,H]);const G=f.useCallback(me=>u.jsx(i6t,{...me,readOnly:_,renderBlock:h,renderChild:p,renderListItem:g,renderStyle:b,schemaTypes:F,spellCheck:w}),[F,w,_,h,p,g,b]),X=f.useCallback(me=>{if(me.leaf._type==="span"){let ye=u.jsx(D7t,{...me,schemaTypes:F,renderAnnotation:d,renderChild:p,renderDecorator:m,readOnly:_});if(v&&me.leaf.placeholder&&me.text.text==="")return u.jsxs(u.Fragment,{children:[u.jsx("span",{style:$7t,contentEditable:!1,children:v()}),ye]});const De=me.leaf.rangeDecoration;return De&&(ye=De.component({children:ye})),ye}return me.children},[_,d,p,m,v,F]),z=f.useCallback(()=>{if(y){cc(`Selection from props ${JSON.stringify(y)}`);const me=H8t(y,Ar(P.children,V));if(me!==null){cc(`Normalized selection from props ${JSON.stringify(me)}`);const ye=Nm(me,P);ye&&(ue.select(P,ye),P.operations.some(De=>De.type==="set_selection")||O.next({type:"selection",selection:me}),P.onChange())}}},[y,P,V,O]),q=f.useCallback(me=>{if(c&&c.length>0){const ye=[];if(c.forEach(De=>{const be=Nm(De.selection,P);if(!pe.isRange(be)){De.onMoved&&De.onMoved({newSelection:null,rangeDecoration:De,origin:"local"});return}let he;if(me&&(he=U8t(be,me),he&&he!==be||he===null&&be)){const ve=Ae.getValue(S),Ce=Gd(ve,he,F);De.onMoved&&De.onMoved({newSelection:Ce,rangeDecoration:De,origin:"local"})}he!==null&&ye.push({...he||be,rangeDecoration:De})}),ye.length>0){D(ye);return}}D([])},[S,c,F,P]);f.useEffect(()=>{const me=O.subscribe(ye=>{switch(ye.type){case"ready":z();break;case"invalidValue":A(!0);break;case"value":A(!1);break}});return()=>{me.unsubscribe()}},[O,z]),f.useEffect(()=>{y&&!I&&z()},[I,y,z]);const Z=f.useMemo(()=>P.apply,[P]),[K,J]=f.useState(!1);f.useEffect(()=>{K||(J(!0),q())},[q,K]),f.useEffect(()=>{wt(c,M.current)||q(),M.current=c},[c,q]),f.useEffect(()=>(P.apply=me=>{Z(me),me.type!=="set_selection"&&q(me)},()=>{P.apply=Z}),[Z,P,q]);const Q=f.useCallback(me=>{s&&s(me)!==void 0&&me.preventDefault()},[s]),re=f.useCallback(me=>{if(me.preventDefault(),!P.selection)return;if(!o){cc("Pasting normally"),P.insertData(me.clipboardData);return}const ye=Ae.getValue(S),De=Gd(ye,P.selection,F),be=(De==null?void 0:De.focus.path)||[],he=o({event:me,value:ye,path:be,schemaTypes:F});he===void 0?(cc("No result from custom paste handler, pasting normally"),P.insertData(me.clipboardData)):(O.next({type:"loading",isLoading:!0}),Promise.resolve(he).then(ve=>{cc("Custom paste function from client resolved",ve),!ve||!ve.insert?(cc("No result from custom paste handler, pasting normally"),P.insertData(me.clipboardData)):ve.insert?P.insertFragment(Uc(ve.insert,{schemaTypes:F})):console.warn("Your onPaste function returned something unexpected:",ve)}).catch(ve=>(console.error(ve),ve)).finally(()=>{O.next({type:"loading",isLoading:!1})}))},[O,o,S,F,P]),ae=f.useCallback(me=>{if(i&&i(me),!me.isDefaultPrevented()){const ye=Ae.getSelection(S);ye===null&&(ue.select(P,B.start(P,[])),P.onChange()),O.next({type:"focus",event:me});const De=Ae.getSelection(S);ye===De&&O.next({type:"selection",selection:ye})}},[i,S,O,P]),ne=f.useCallback(me=>{if(l&&l(me),P.selection&&me.target===me.currentTarget){const[ye,De]=je.last(P,[]),be=P.selection.focus.path.slice(0,1),he=De.slice(0,1);if(ie.equals(be,he)){const ve=je.descendant(P,De.slice(0,1));ye&&B.isVoid(P,ve)&&(ue.insertNodes(P,P.pteCreateEmptyBlock()),P.onChange())}}},[l,P]),se=f.useCallback(me=>{r&&r(me),me.isPropagationStopped()||O.next({type:"blur",event:me})},[O,r]),le=f.useCallback(me=>{a&&a(me)},[a]),oe=f.useCallback(()=>{if(!P.selection)return;const me=we.findDocumentOrShadowRoot(P),{activeElement:ye}=me;if(k.current!==ye)return;const De=we.getWindow(P).getSelection();if(!De||De.rangeCount===0)return;const be=De.getRangeAt(0);try{const he=we.toDOMRange(P,P.selection);(he.startOffset!==be.startOffset||he.endOffset!==be.endOffset)&&(cc("DOM range out of sync, validating selection"),De==null||De.removeAllRanges(),De.addRange(he))}catch{cc("Could not resolve selection, selecting top document"),ue.deselect(P),P.children.length>0&&ue.select(P,[0,0]),P.onChange()}},[k,P]);f.useEffect(()=>{if(T){const me=new MutationObserver(oe);return me.observe(T,{attributeOldValue:!1,attributes:!1,characterData:!1,childList:!0,subtree:!0}),()=>{me.disconnect()}}},[oe,T]);const ge=f.useCallback(me=>{e.onKeyDown&&e.onKeyDown(me),me.isDefaultPrevented()||P.pteWithHotKeys(me)},[e,P]),_e=f.useMemo(()=>{if(x!==void 0)return x===null?W2e:(me,ye)=>{x(S,ye)}},[S,x]),Me=f.useCallback(([,me])=>{if(Jg(P.children,F))return[{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0},placeholder:!0}];if(me.length===0)return[];const ye=$.filter(De=>pe.isCollapsed(De)?me.length!==2?!1:ie.equals(De.focus.path,me)&&ie.equals(De.anchor.path,me):pe.intersection(De,{anchor:{path:me,offset:0},focus:{path:me,offset:0}})||pe.includes(De,me));return ye.length>0?ye:[]},[P,F,$]);return f.useEffect(()=>{k.current=we.toDOMNode(P,P),j(k.current)},[P,k]),S?I?null:u.jsx(q3t,{...C,autoFocus:!1,className:C.className||"pt-editable",decorate:Me,onBlur:se,onCopy:Q,onClick:ne,onDOMBeforeInput:le,onFocus:ae,onKeyDown:ge,onPaste:re,readOnly:_,renderPlaceholder:void 0,renderElement:G,renderLeaf:X,scrollSelectionIntoView:_e}):null});var Er="0123456789abcdefghjkmnpqrstvwxyz",ut=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,10,11,12,13,14,15,16,17,255,18,19,255,20,21,255,22,23,24,25,26,255,27,28,29,30,31,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255]);function R3(e){const t=new Array(26).fill("");if(e.length!==16)throw new Error("Invalid length");return t[0]=Er[(e[0]&224)>>5],t[1]=Er[e[0]&31],t[2]=Er[(e[1]&248)>>3],t[3]=Er[(e[1]&7)<<2|(e[2]&192)>>6],t[4]=Er[(e[2]&62)>>1],t[5]=Er[(e[2]&1)<<4|(e[3]&240)>>4],t[6]=Er[(e[3]&15)<<1|(e[4]&128)>>7],t[7]=Er[(e[4]&124)>>2],t[8]=Er[(e[4]&3)<<3|(e[5]&224)>>5],t[9]=Er[e[5]&31],t[10]=Er[(e[6]&248)>>3],t[11]=Er[(e[6]&7)<<2|(e[7]&192)>>6],t[12]=Er[(e[7]&62)>>1],t[13]=Er[(e[7]&1)<<4|(e[8]&240)>>4],t[14]=Er[(e[8]&15)<<1|(e[9]&128)>>7],t[15]=Er[(e[9]&124)>>2],t[16]=Er[(e[9]&3)<<3|(e[10]&224)>>5],t[17]=Er[e[10]&31],t[18]=Er[(e[11]&248)>>3],t[19]=Er[(e[11]&7)<<2|(e[12]&192)>>6],t[20]=Er[(e[12]&62)>>1],t[21]=Er[(e[12]&1)<<4|(e[13]&240)>>4],t[22]=Er[(e[13]&15)<<1|(e[14]&128)>>7],t[23]=Er[(e[14]&124)>>2],t[24]=Er[(e[14]&3)<<3|(e[15]&224)>>5],t[25]=Er[e[15]&31],t.join("")}function Fie(e){if(e.length!==26)throw new Error("Invalid length");const n=new TextEncoder().encode(e);if(ut[n[0]]===255||ut[n[1]]===255||ut[n[2]]===255||ut[n[3]]===255||ut[n[4]]===255||ut[n[5]]===255||ut[n[6]]===255||ut[n[7]]===255||ut[n[8]]===255||ut[n[9]]===255||ut[n[10]]===255||ut[n[11]]===255||ut[n[12]]===255||ut[n[13]]===255||ut[n[14]]===255||ut[n[15]]===255||ut[n[16]]===255||ut[n[17]]===255||ut[n[18]]===255||ut[n[19]]===255||ut[n[20]]===255||ut[n[21]]===255||ut[n[22]]===255||ut[n[23]]===255||ut[n[24]]===255||ut[n[25]]===255)throw new Error("Invalid base32 character");const r=new Uint8Array(16);return r[0]=ut[n[0]]<<5|ut[n[1]],r[1]=ut[n[2]]<<3|ut[n[3]]>>2,r[2]=(ut[n[3]]&3)<<6|ut[n[4]]<<1|ut[n[5]]>>4,r[3]=(ut[n[5]]&15)<<4|ut[n[6]]>>1,r[4]=(ut[n[6]]&1)<<7|ut[n[7]]<<2|ut[n[8]]>>3,r[5]=(ut[n[8]]&7)<<5|ut[n[9]],r[6]=ut[n[10]]<<3|ut[n[11]]>>2,r[7]=(ut[n[11]]&3)<<6|ut[n[12]]<<1|ut[n[13]]>>4,r[8]=(ut[n[13]]&15)<<4|ut[n[14]]>>1,r[9]=(ut[n[14]]&1)<<7|ut[n[15]]<<2|ut[n[16]]>>3,r[10]=(ut[n[16]]&7)<<5|ut[n[17]],r[11]=ut[n[18]]<<3|ut[n[19]]>>2,r[12]=(ut[n[19]]&3)<<6|ut[n[20]]<<1|ut[n[21]]>>4,r[13]=(ut[n[21]]&15)<<4|ut[n[22]]>>1,r[14]=(ut[n[22]]&1)<<7|ut[n[23]]<<2|ut[n[24]]>>3,r[15]=(ut[n[24]]&7)<<5|ut[n[25]],r}function O7t(e){let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=t&255,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=t&255,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=t&255,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=t&255,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=t&255,n}var Lm=Math.pow,Nie="0123456789abcdef",Mj=class{constructor(e){if(this.bytes=e,e.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(e,t,n,r){if(!Number.isInteger(e)||!Number.isInteger(t)||!Number.isInteger(n)||!Number.isInteger(r)||e<0||t<0||n<0||r<0||e>0xffffffffffff||t>4095||n>1073741823||r>4294967295)throw new RangeError("invalid field value");const i=new Uint8Array(16);return i[0]=e/Lm(2,40),i[1]=e/Lm(2,32),i[2]=e/Lm(2,24),i[3]=e/Lm(2,16),i[4]=e/Lm(2,8),i[5]=e,i[6]=112|t>>>8,i[7]=t,i[8]=128|n>>>24,i[9]=n>>>16,i[10]=n>>>8,i[11]=n,i[12]=r>>>24,i[13]=r>>>16,i[14]=r>>>8,i[15]=r,new Mj(i)}toString(){let e="";for(let t=0;t<this.bytes.length;t++)e+=Nie.charAt(this.bytes[t]>>>4),e+=Nie.charAt(this.bytes[t]&15),(t===3||t===5||t===7||t===9)&&(e+="-");return e}clone(){return new Mj(this.bytes.slice(0))}equals(e){return this.compareTo(e)===0}compareTo(e){for(let t=0;t<16;t++){const n=this.bytes[t]-e.bytes[t];if(n!==0)return Math.sign(n)}return 0}},M7t=class{constructor(){this.timestamp=0,this.counter=0,this.random=new R7t}generate(){const e=this.generateOrAbort();return e!==void 0?e:(this.timestamp=0,this.generateOrAbort())}generateOrAbort(){const n=Date.now();if(n>this.timestamp)this.timestamp=n,this.resetCounter();else if(n+1e4>this.timestamp)this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter());else return;return Mj.fromFieldsV7(this.timestamp,Math.trunc(this.counter/Lm(2,30)),this.counter&Lm(2,30)-1,this.random.nextUint32())}resetCounter(){this.counter=this.random.nextUint32()*1024+(this.random.nextUint32()&1023)}},q5e=e=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(let t=0;t<e.length;t++)e[t]=Math.trunc(Math.random()*65536)*65536+Math.trunc(Math.random()*65536);return e};typeof crypto<"u"&&crypto.getRandomValues&&(q5e=e=>crypto.getRandomValues(e));var R7t=class{constructor(){this.buffer=new Uint32Array(8),this.cursor=99}nextUint32(){return this.cursor>=this.buffer.length&&(q5e(this.buffer),this.cursor=0),this.buffer[this.cursor++]}},Lie,P7t=()=>(Lie||(Lie=new M7t)).generate();function F7t(e){if(e.length>63)return!1;let t,n,r;for(n=0,r=e.length;n<r;n+=1)if(t=e.charCodeAt(n),!(t>96&&t<123))return!1;return!0}var Dw=class{constructor(e,t=""){if(this.prefix=e,this.suffix=t,!F7t(e))throw new Error("Invalid prefix. Must be at most 63 ascii letters [a-z]");if(this.prefix=e,t)this.suffix=t;else{const n=P7t();this.suffix=R3(n.bytes)}if(this.suffix.length!==26)throw new Error(`Invalid length. Suffix should have 26 characters, got ${t.length}`);if(this.suffix[0]>"7")throw new Error("Invalid suffix. First character must be in the range [0-7]");Fie(this.suffix)}getType(){return this.prefix}getSuffix(){return this.suffix}asType(e){const t=this;if(t.prefix!==e)throw new Error(`Cannot convert TypeID of type ${t.prefix} to type ${e}`);return t}toUUIDBytes(){return Fie(this.suffix)}toUUID(){return new Mj(this.toUUIDBytes()).toString()}toString(){return this.prefix===""?this.suffix:`${this.prefix}_${this.suffix}`}static fromString(e){const t=e.split("_");if(t.length===1)return new Dw("",t[0]);if(t.length===2){if(t[0]==="")throw new Error(`Invalid TypeID. Prefix cannot be empty when there's a separator: ${e}`);return new Dw(t[0],t[1])}throw new Error(`Invalid TypeID string: ${e}`)}static fromUUIDBytes(e,t){const n=R3(t);return new Dw(e,n)}static fromUUID(e,t){const n=R3(O7t(t));return new Dw(e,n)}};function K5e(e="",t=""){return new Dw(e,t)}/*! Bundled license information:

uuidv7/dist/index.js:
  (**
   * uuidv7: An experimental implementation of the proposed UUID Version 7
   *
   * @license Apache-2.0
   * @copyright 2021-2023 LiosK
   * @packageDocumentation
   *)
*/const Bie={capture:!0};function iT(e,t,n){return e.addEventListener(t,n,Bie),()=>e.removeEventListener(t,n,Bie)}function N7t(e){if("onpagehide"in window)return iT(window,"pagehide",e);const t=iT(window,"unload",e),n=iT(window,"unload",e);return()=>{t(),n()}}function L7t(e){return iT(document,"visibilitychange",()=>{document.visibilityState==="hidden"&&e()})}function B7t(){const e={updateUserProperties(){},trace:t,log:n};function t(r){return{start(){},log(i){},complete(){},newContext(i){return e},error(i){},await:i=>i}}function n(r,i){}return e}const V7t=B7t();function z7t(){return K5e("session").toString()}function U7t(){return K5e("trace").toString()}function H7t(e,t){return t<1?[e,""]:[e.substring(0,t),e.substring(t)]}const Vie=1024;function W7t(e){const t=e.indexOf(`
`),n=t===-1?Vie:Math.min(t,Vie),[r,i]=H7t(e,n);return r+(i?"… (+".concat(i.length,")"):"")}function G7t(e){const t=new Mr;function n(l,c,d,h){t.next({sessionId:e,type:"trace.error",traceId:l,name:c.name,version:c.version,data:{message:W7t(d.message)},context:h,createdAt:new Date().toISOString()})}function r(l,c,d,h,p){t.next({sessionId:e,type:l,traceId:c,name:d.name,version:d.version,data:h,context:p,createdAt:new Date().toISOString()})}function i(l,c,d){t.next({sessionId:e,type:l,version:c.version,name:c.name,data:d,createdAt:new Date().toISOString()})}function a(l){t.next({sessionId:e,type:"userProperties",properties:l,createdAt:new Date().toISOString()})}function o(l,c,d){return{start(){r("trace.start",l,c,void 0,d)},newContext(h){return{trace(p){return o("".concat(l,".").concat(h),p,d)},updateUserProperties(){},log:s}},log(h){r("trace.log",l,c,h,d)},complete(){r("trace.complete",l,c,void 0,d)},error(h){n(l,c,h,d)},await(h,p){return this.start(),h.then(m=>(this.log(p||m),this.complete(),m),m=>{throw this.error(m),m}),h}}}function s(l,c){i("log",l,c)}return{events$:t.asObservable(),logger:{updateUserProperties(l){a(l)},trace:(l,c)=>{const d=U7t();return o(d,l,c)},log:s}}}const Y7t=e=>new Mt(t=>{const n=setTimeout(()=>{t.next(),t.complete()},e);return typeof n.unref=="function"&&n.unref(),()=>clearTimeout(n)});function q7t(e,t){var n;const r=G7t(e);function i(){return t.resolveConsent().catch(g=>({status:"undetermined"}))}const a=[];function o(){const g=a.slice();return a.length=0,g}function s(){const g=o();return g.length===0?nr:aa([xe(g),i()]).pipe(It(v=>{let[b,y]=v;return b.length===0||y.status!=="granted"?nr:ar(t.sendEvents(b)).pipe(Cn(x=>(a.unshift(...b),nr)))}))}const l=(n=t.flushInterval)!=null?n:3e4,c=r.events$.pipe(Qn(g=>a.push(g)),de(()=>{}),_U(()=>Y7t(l),{leading:!1,trailing:!0}),mg(()=>s()));function d(){return Ri(s(),{defaultValue:void 0}).then(()=>{})}const h=c.subscribe();function p(){if(!t.sendBeacon)return m(),!0;const g=o();return h.unsubscribe(),g.length>0?t.sendBeacon(g):!0}function m(){return d().then(()=>{},()=>{}).finally(()=>{h.unsubscribe()})}return{end:m,endWithBeacon:p,flush:d,logger:r.logger}}function bi(e){return{type:"log",name:e.name,version:e.version,description:e.description,schema:void 0}}var K7t=p0;function Z7t(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],o=t(a);if(o!=null&&(s===void 0?o===o&&!K7t(o):n(o,s)))var s=o,l=a}return l}var Z5e=Z7t;function X7t(e,t){return e>t}var J7t=X7t,Q7t=Z5e,e9t=J7t,t9t=k0;function n9t(e){return e&&e.length?Q7t(e,t9t,e9t):void 0}var r9t=n9t;const i9t=Pe(r9t);function a9t(e,t){return e<t}var o9t=a9t,s9t=Z5e,l9t=o9t,u9t=k0;function c9t(e){return e&&e.length?s9t(e,u9t,l9t):void 0}var d9t=c9t;const f9t=Pe(d9t);var uk,h9t=new Uint8Array(16);function p9t(){if(!uk&&(uk=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!uk))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return uk(h9t)}const m9t=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function g9t(e){return typeof e=="string"&&m9t.test(e)}var Na=[];for(var P3=0;P3<256;++P3)Na.push((P3+256).toString(16).substr(1));function v9t(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Na[e[t+0]]+Na[e[t+1]]+Na[e[t+2]]+Na[e[t+3]]+"-"+Na[e[t+4]]+Na[e[t+5]]+"-"+Na[e[t+6]]+Na[e[t+7]]+"-"+Na[e[t+8]]+Na[e[t+9]]+"-"+Na[e[t+10]]+Na[e[t+11]]+Na[e[t+12]]+Na[e[t+13]]+Na[e[t+14]]+Na[e[t+15]]).toLowerCase();if(!g9t(n))throw TypeError("Stringified UUID is invalid");return n}function qa(e,t,n){e=e||{};var r=e.random||(e.rng||p9t)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return v9t(r)}const xn=hi("mutator-document");var y9t=Object.defineProperty,b9t=(e,t,n)=>t in e?y9t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zie=(e,t,n)=>b9t(e,typeof t!="symbol"?t+"":t,n);class vc{constructor(t,n){zie(this,"_value"),zie(this,"path"),this._value=t,this.path=n||[]}containerType(){return Array.isArray(this._value)?"array":this._value!==null&&typeof this._value=="object"?"object":"primitive"}get(){return this._value}length(){if(!Array.isArray(this._value))throw new Error("Won't return length of non-indexable _value");return this._value.length}getIndex(t){return Array.isArray(this._value)?t>=this.length()?null:new vc(this._value[t],this.path.concat(t)):!1}hasAttribute(t){return Ux(this._value)?this._value.hasOwnProperty(t):!1}attributeKeys(){return Ux(this._value)?Object.keys(this._value):[]}getAttribute(t){if(!Ux(this._value))throw new Error("getAttribute only applies to plain objects");return this.hasAttribute(t)?new vc(this._value[t],this.path.concat(t)):null}set(t){return t===this._value?this:new vc(t,this.path)}setIndex(t,n){if(!Array.isArray(this._value))throw new Error("setIndex only applies to arrays");if(Object.is(n,this._value[t]))return this;const r=this._value.slice();return r[t]=n,new vc(r,this.path)}setIndexAccessor(t,n){return this.setIndex(t,n.get())}unsetIndices(t){if(!Array.isArray(this._value))throw new Error("unsetIndices only applies to arrays");const n=this._value.length,r=[];for(let i=0;i<n;i++)t.indexOf(i)===-1&&r.push(this._value[i]);return new vc(r,this.path)}insertItemsAt(t,n){if(!Array.isArray(this._value))throw new Error("insertItemsAt only applies to arrays");let r;return this._value.length===0&&t===0?r=n:r=this._value.slice(0,t).concat(n).concat(this._value.slice(t)),new vc(r,this.path)}setAttribute(t,n){if(!Ux(this._value))throw new Error("Unable to set attribute of non-object container");if(Object.is(n,this._value[t]))return this;const r=Object.assign({},this._value,{[t]:n});return new vc(r,this.path)}setAttributeAccessor(t,n){return this.setAttribute(t,n.get())}unsetAttribute(t){if(!Ux(this._value))throw new Error("Unable to unset attribute of non-object container");const n=Object.assign({},this._value);return delete n[t],new vc(n,this.path)}}function Ux(e){return e!==null&&typeof e=="object"}function aT(e){return e!==null&&typeof e=="object"}const x9t=/^[a-z_$]+/;function X5e(e){let t="";return e.forEach((n,r)=>{t+=w9t(n,r===0)}),t}function w9t(e,t){if(typeof e=="number")return`[${e}]`;if(aT(e)){const n=e;return Object.keys(e).map(r=>C9t(n[r])?`[${r}=="${n[r]}"]`:"").join("")}return typeof e=="string"&&x9t.test(e)?t?e:`.${e}`:`['${e}']`}function C9t(e){switch(typeof e){case"number":case"string":case"boolean":return!0;default:return!1}}function S9t(e){const[t,n]=J5e(e);if(!t)throw new Error("Head cannot be null");return E9t(t,n)}function J5e(e){if(e.type!=="path")return[e,null];const t=e.nodes;return t.length===0?[null,null]:t.length===1?[t[0],null]:[t[0],{type:"path",nodes:t.slice(1)}]}function _9t(e,t){if(!e&&!t)return null;const n=e?e.nodes:[],r=t?t.nodes:[];return{type:"path",nodes:n.concat(r)}}function E9t(e,t){return e.type!=="union"?[[e,t]]:e.nodes.map(n=>{if(n.type==="path"){const[r,i]=J5e(n);return[r,_9t(i,t)]}return[n,t]})}var k9t=Object.defineProperty,T9t=(e,t,n)=>t in e?k9t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ck=(e,t,n)=>T9t(e,typeof t!="symbol"?t+"":t,n);const A9t=/[0-9]/,F3=/^[a-zA-Z0-9_]$/,j9t=/^[a-zA-Z_]$/,Q5e={operator:["..",".",",",":","?"],comparator:[">=","<=","<",">","==","!="],keyword:["$","@"],boolean:["true","false"],paren:["[","]"]},I9t=Object.keys(Q5e);class D9t{constructor(t){ck(this,"source"),ck(this,"i"),ck(this,"length"),ck(this,"tokenizers"),this.source=t,this.length=t.length,this.i=0,this.tokenizers=[this.tokenizeSymbol,this.tokenizeIdentifier,this.tokenizeNumber,this.tokenizeQuoted].map(n=>n.bind(this))}tokenize(){const t=[];for(;!this.EOF();){this.chompWhitespace();let n=null;if(!this.tokenizers.some(r=>(n=r(),!!n))||!n)throw new Error(`Invalid tokens in jsonpath '${this.source}' @ ${this.i}`);t.push(n)}return t}takeWhile(t){const n=this.i;let r="";for(;!this.EOF();){const i=t(this.source[this.i]);if(i===null)break;r+=i,this.i++}return this.i===n?null:r}EOF(){return this.i>=this.length}peek(){return this.EOF()?null:this.source[this.i]}consume(t){if(this.i+t.length>this.length)throw new Error(`Expected ${t} at end of jsonpath`);if(t===this.source.slice(this.i,this.i+t.length))this.i+=t.length;else throw new Error(`Expected "${t}", but source contained "${this.source.slice()}`)}tryConsume(t){if(this.i+t.length>this.length)return null;if(t===this.source.slice(this.i,this.i+t.length)){if(t[0].match(F3)&&this.length>this.i+t.length){const n=this.source[this.i+t.length];if(n&&n.match(F3))return null}return this.i+=t.length,t}return null}chompWhitespace(){this.takeWhile(t=>t===" "?"":null)}tokenizeQuoted(){const t=this.peek();if(t==="'"||t==='"'){this.consume(t);let n=!1;const r=this.takeWhile(i=>n?(n=!1,i):i==="\\"?(n=!0,""):i!=t?i:null);return this.consume(t),{type:"quoted",value:r,quote:t==='"'?"double":"single"}}return null}tokenizeIdentifier(){let t=!0;const n=this.takeWhile(r=>t?(t=!1,r.match(j9t)?r:null):r.match(F3)?r:null);return n!==null?{type:"identifier",name:n}:null}tokenizeNumber(){const t=this.i;let n=!1,r=!1,i=!1;this.peek()==="-"&&(i=!0,this.consume("-"));const a=this.takeWhile(o=>o==="."&&!n&&r?(n=!0,o):(r=!0,o.match(A9t)?o:null));return a!==null?{type:"number",value:i?-a:+a,raw:i?`-${a}`:a}:(this.i=t,null)}tokenizeSymbol(){for(const t of I9t){const n=Q5e[t].find(r=>this.tryConsume(r));if(n)return{type:t,symbol:n}}return null}}function $9t(e){return new D9t(e).tokenize()}var O9t=Object.defineProperty,M9t=(e,t,n)=>t in e?O9t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,N3=(e,t,n)=>M9t(e,typeof t!="symbol"?t+"":t,n);class R9t{constructor(t){N3(this,"tokens"),N3(this,"length"),N3(this,"i"),this.tokens=$9t(t),this.length=this.tokens.length,this.i=0}parse(){return this.parsePath()}EOF(){return this.i>=this.length}peek(){return this.EOF()?null:this.tokens[this.i]}consume(){const t=this.peek();return this.i+=1,t}probe(t){const n=this.peek();if(!n)return null;const r=n;return Object.keys(t).every(i=>i in n&&t[i]===r[i])?n:null}match(t){return this.probe(t)?this.consume():null}parseAttribute(){const t=this.match({type:"identifier"});if(t&&t.type==="identifier")return{type:"attribute",name:t.name};const n=this.match({type:"quoted",quote:"single"});return n&&n.type==="quoted"?{type:"attribute",name:n.value||""}:null}parseAlias(){return this.match({type:"keyword",symbol:"@"})||this.match({type:"keyword",symbol:"$"})?{type:"alias",target:"self"}:null}parseNumber(){const t=this.match({type:"number"});return t&&t.type==="number"?{type:"number",value:t.value}:null}parseNumberValue(){const t=this.parseNumber();return t?t.value:null}parseSliceSelector(){const t=this.i,n=this.parseNumberValue();if(!this.match({type:"operator",symbol:":"}))return n===null?(this.i=t,null):{type:"index",value:n};const r={type:"range",start:n,end:this.parseNumberValue()};return this.match({type:"operator",symbol:":"})&&(r.step=this.parseNumberValue()),r.start===null&&r.end===null?(this.i=t,null):r}parseValueReference(){return this.parseAttribute()||this.parseSliceSelector()}parseLiteralValue(){const t=this.match({type:"quoted",quote:"double"});if(t&&t.type==="quoted")return{type:"string",value:t.value||""};const n=this.match({type:"boolean"});return n&&n.type==="boolean"?{type:"boolean",value:n.symbol==="true"}:this.parseNumber()}parseFilterExpression(){const t=this.i,n=this.parseAttribute()||this.parseAlias();if(!n)return null;if(this.match({type:"operator",symbol:"?"}))return{type:"constraint",operator:"?",lhs:n};const r=this.match({type:"comparator"});if(!r||r.type!=="comparator")return this.i=t,null;const i=n,a=this.parseLiteralValue();if(!a)throw new Error(`Operator ${r.symbol} needs a literal value at the right hand side`);return{type:"constraint",operator:r.symbol,lhs:i,rhs:a}}parseExpression(){return this.parseFilterExpression()||this.parseValueReference()}parseUnion(){if(!this.match({type:"paren",symbol:"["}))return null;const t=[];let n=this.parseFilterExpression()||this.parsePath()||this.parseValueReference();for(;n&&(t.push(n),!this.match({type:"paren",symbol:"]"}));){if(!this.match({type:"operator",symbol:","}))throw new Error("Expected ]");if(n=this.parseFilterExpression()||this.parsePath()||this.parseValueReference(),!n)throw new Error("Expected expression following ','")}return{type:"union",nodes:t}}parseRecursive(){if(!this.match({type:"operator",symbol:".."}))return null;const t=this.parsePath();if(!t)throw new Error("Expected path following '..' operator");return{type:"recursive",term:t}}parsePath(){const t=[],n=this.parseAttribute()||this.parseUnion()||this.parseRecursive();if(!n)return null;for(t.push(n);!this.EOF();)if(this.match({type:"operator",symbol:"."})){const r=this.parseAttribute();if(!r)throw new Error("Expected attribute name following '.");t.push(r);continue}else if(this.probe({type:"paren",symbol:"["})){const r=this.parseUnion();if(!r)throw new Error("Expected union following '['");t.push(r)}else{const r=this.parseRecursive();r&&t.push(r);break}return t.length===1?t[0]:{type:"path",nodes:t}}}function eTe(e){const t=new R9t(e).parse();if(!t)throw new Error(`Failed to parse JSON path "${e}"`);return t}function tTe(e){return Dv(e,!1)}function Dv(e,t){switch(e.type){case"attribute":return e.name;case"alias":return e.target==="self"?"@":"$";case"number":return`${e.value}`;case"range":{const n=[];return t||n.push("["),e.start&&n.push(`${e.start}`),n.push(":"),e.end&&n.push(`${e.end}`),e.step&&n.push(`:${e.step}`),t||n.push("]"),n.join("")}case"index":return t?`${e.value}`:`[${e.value}]`;case"constraint":{const n=e.rhs?` ${Dv(e.rhs,!1)}`:"",r=`${Dv(e.lhs,!1)} ${e.operator}${n}`;return t?r:`[${r}]`}case"string":return JSON.stringify(e.value);case"path":{const n=[],r=e.nodes.slice();for(;r.length>0;){const i=r.shift();i&&n.push(tTe(i));const a=r[0];a&&Dv(a,!1)[0]!=="["&&n.push(".")}return n.join("")}case"union":return`[${e.nodes.map(n=>Dv(n,!0)).join(",")}]`;default:throw new Error(`Unknown node type ${e.type}`);case"recursive":return`..${Dv(e.term,!1)}`}}var P9t=Object.defineProperty,F9t=(e,t,n)=>t in e?P9t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,N9t=(e,t,n)=>F9t(e,t+"",n);class Ys{constructor(t){if(N9t(this,"expr"),!t)throw new Error("Attempted to create Expression from null-value");if("expr"in t?this.expr=t.expr:this.expr=t,!("type"in this.expr))throw new Error("Attempt to create Expression for expression with no type")}isPath(){return this.expr.type==="path"}isUnion(){return this.expr.type==="union"}isCollection(){return this.isPath()||this.isUnion()}isConstraint(){return this.expr.type==="constraint"}isRecursive(){return this.expr.type==="recursive"}isExistenceConstraint(){return this.expr.type==="constraint"&&this.expr.operator==="?"}isIndex(){return this.expr.type==="index"}isRange(){return this.expr.type==="range"}expandRange(t){const n=()=>{if(!t)throw new Error("expandRange() required a probe that was not passed");return t.length()};let r="start"in this.expr&&this.expr.start||0;r=L3(r,t);let i="end"in this.expr&&this.expr.end||n();i=L3(i,t);const a="step"in this.expr&&this.expr.step||1;return{start:r,end:i,step:a}}isAttributeReference(){return this.expr.type==="attribute"}isIndexReference(){return this.isIndex()||this.isRange()}name(){return"name"in this.expr?this.expr.name:""}isSelfReference(){return this.expr.type==="alias"&&this.expr.target==="self"}constraintTargetIsSelf(){return this.expr.type==="constraint"&&this.expr.lhs.type==="alias"&&this.expr.lhs.target==="self"}constraintTargetIsAttribute(){return this.expr.type==="constraint"&&this.expr.lhs.type==="attribute"}testConstraint(t){const n=this.expr;if(n.type==="constraint"&&n.lhs.type==="alias"&&n.lhs.target==="self"){if(t.containerType()!=="primitive")return!1;if(n.type==="constraint"&&n.operator==="?")return!0;const o=t.get(),s=n.rhs&&"value"in n.rhs?n.rhs.value:void 0;return Uie(o,n.operator,s)}if(n.type!=="constraint")return!1;const r=n.lhs;if(!r)throw new Error("No LHS of expression");if(r.type!=="attribute")throw new Error(`Constraint target ${r.type} not supported`);if(t.containerType()!=="object")return!1;const i=t.getAttribute(r.name);if(i==null||i.containerType()!=="primitive")return!1;if(this.isExistenceConstraint())return!0;const a=n.rhs&&"value"in n.rhs?n.rhs.value:void 0;return Uie(i.get(),n.operator,a)}pathNodes(){return this.expr.type==="path"?this.expr.nodes:[this.expr]}prepend(t){return t?new Ys({type:"path",nodes:t.pathNodes().concat(this.pathNodes())}):this}concat(t){return t?t.prepend(this):this}descend(){return S9t(this.expr).map(t=>{const[n,r]=t;return{head:n?new Ys(n):null,tail:r?new Ys(r):null}})}unwrapRecursive(){if(this.expr.type!=="recursive")throw new Error(`Attempt to unwrap recursive on type ${this.expr.type}`);return new Ys(this.expr.term)}toIndicies(t){if(this.expr.type!=="index"&&this.expr.type!=="range")throw new Error("Node cannot be converted to indexes");if(this.expr.type==="index")return[L3(this.expr.value,t)];const n=[],r=this.expandRange(t);let{start:i,end:a}=r;r.step<0&&([i,a]=[a,i]);for(let o=i;o<a;o++)n.push(o);return n}toFieldReferences(){if(this.isIndexReference())return this.toIndicies();if(this.expr.type==="attribute")return[this.expr.name];throw new Error(`Can't convert ${this.expr.type} to field references`)}toString(){return tTe(this.expr)}static fromPath(t){const n=eTe(t);if(!n)throw new Error(`Failed to parse path "${t}"`);return new Ys(n)}static attributeReference(t){return new Ys({type:"attribute",name:t})}static indexReference(t){return new Ys({type:"index",value:t})}}function Uie(e,t,n){switch(t){case">":return e>n;case">=":return e>=n;case"<":return e<n;case"<=":return e<=n;case"==":return e===n;case"!=":return e!==n;default:throw new Error(`Unsupported binary operator ${t}`)}}function L3(e,t){if(e>=0)return e;if(!t)throw new Error("interpretNegativeIndex() must have a probe when < 0");return e+t.length()}var L9t=Object.defineProperty,B9t=(e,t,n)=>t in e?L9t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hie=(e,t,n)=>B9t(e,typeof t!="symbol"?t+"":t,n);class f1{constructor(t,n){Hie(this,"head"),Hie(this,"tail"),this.head=t,this.tail=n}iterate(t){let n=[this];if(this.head&&this.head.isConstraint()){let r=!0;for(;r;)n=cr(n.map(i=>i.iterateConstraints(t))),r=n.some(i=>i.head&&i.head.isConstraint())}return n}isRecursive(){return!!(this.head&&this.head.isRecursive())}hasArrived(){return this.head===null&&this.tail===null}extractRecursives(){if(this.head&&this.head.isRecursive()){const t=this.head.unwrapRecursive();return new f1(null,t.concat(this.tail)).descend()}return[]}iterateConstraints(t){const n=this.head;if(n===null||!n.isConstraint())return[this];const r=[];if(t.containerType()==="primitive"&&n.constraintTargetIsSelf())return n.testConstraint(t)&&r.push(...this.descend()),r;if(t.containerType()==="array"){const i=t.length();for(let a=0;a<i;a++){const o=t.getIndex(a);o&&n.testConstraint(o)&&r.push(new f1(new Ys({type:"index",value:a}),this.tail))}return r}return t.containerType()==="object"?n.constraintTargetIsSelf()?[]:n.testConstraint(t)?this.descend():r:r}descend(){return this.tail?this.tail.descend().map(t=>new f1(t.head,t.tail)):[new f1(null,null)]}toString(){const t=["<"];return this.head&&t.push(this.head.toString()),t.push("|"),this.tail&&t.push(this.tail.toString()),t.push(">"),t.join("")}}var V9t=Object.defineProperty,z9t=(e,t,n)=>t in e?V9t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,B3=(e,t,n)=>z9t(e,typeof t!="symbol"?t+"":t,n);class Qm{constructor(t,n){B3(this,"active"),B3(this,"recursives"),B3(this,"payload"),this.active=t||[],n?(this.recursives=n.recursives,this.payload=n.payload):this.recursives=[],this.extractRecursives()}setPayload(t){return this.payload=t,this}extractRecursives(){this.active=this.active.filter(t=>t.isRecursive()?(this.recursives.push(...t.extractRecursives()),!1):!0)}activeRecursives(t){return this.recursives.filter(n=>{const r=n.head;return r?r.isConstraint()||t.containerType()==="array"&&r.isIndexReference()?!0:t.containerType()==="object"?r.isAttributeReference()&&t.hasAttribute(r.name()):!1:!1})}match(t){return this.iterate(t).extractMatches(t)}iterate(t){const n=[];return this.active.concat(this.activeRecursives(t)).forEach(r=>{n.push(...r.iterate(t))}),new Qm(n,this)}isDestination(){return this.active.some(t=>t.hasArrived())}hasRecursives(){return this.recursives.length>0}extractMatches(t){const n=[],r=[];if(this.active.forEach(i=>{if(i.hasArrived()){r.push(new Ys({type:"alias",target:"self"}));return}const a=i.head;if(a&&!(t.containerType()==="array"&&!a.isIndexReference())&&!(t.containerType()==="object"&&!a.isAttributeReference()))if(i.tail){const o=new Qm(i.descend(),this);a.toFieldReferences().forEach(()=>{n.push({target:a,matcher:o})})}else r.push(a)}),this.hasRecursives()){const i=new Qm([],this);if(t.containerType()==="array"){const a=t.length();for(let o=0;o<a;o++)n.push({target:Ys.indexReference(o),matcher:i})}else t.containerType()==="object"&&t.attributeKeys().forEach(a=>{n.push({target:Ys.attributeReference(a),matcher:i})})}return r.length>0?{leads:n,delivery:{targets:r,payload:this.payload}}:{leads:n}}static fromPath(t){const n=eTe(t);if(!n)throw new Error(`Failed to parse path from "${t}"`);const r=new f1(null,new Ys(n));return new Qm(r.descend())}}var U9t=Object.defineProperty,H9t=(e,t,n)=>t in e?U9t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wie=(e,t,n)=>H9t(e,typeof t!="symbol"?t+"":t,n);class Rj{constructor(t,n){Wie(this,"_value"),Wie(this,"path"),this._value=t,this.path=n||[]}containerType(){return Array.isArray(this._value)?"array":this._value!==null&&typeof this._value=="object"?"object":"primitive"}length(){if(!Array.isArray(this._value))throw new Error("Won't return length of non-indexable _value");return this._value.length}getIndex(t){return Array.isArray(this._value)?t>=this.length()?null:new Rj(this._value[t],this.path.concat(t)):!1}hasAttribute(t){return aT(this._value)?this._value.hasOwnProperty(t):!1}attributeKeys(){return aT(this._value)?Object.keys(this._value):[]}getAttribute(t){if(!aT(this._value))throw new Error("getAttribute only applies to plain objects");return this.hasAttribute(t)?new Rj(this._value[t],this.path.concat(t)):null}get(){return this._value}}function W9t(e,t){const n=[],r=Qm.fromPath(e).setPayload(function(a){n.push(...a)}),i=new Rj(t);return nTe(r,i),n}function nTe(e,t){const{leads:n,delivery:r}=e.match(t);n.forEach(i=>{Gie(i.target,t).forEach(a=>{nTe(i.matcher,a)})}),r&&r.targets.forEach(i=>{typeof r.payload=="function"&&r.payload(Gie(i,t))})}function Gie(e,t){const n=[];if(e.isIndexReference())e.toIndicies(t).forEach(r=>{n.push(t.getIndex(r))});else if(e.isAttributeReference())n.push(t.getAttribute(e.name()));else if(e.isSelfReference())n.push(t);else throw new Error(`Unable to derive accessor for target ${e.toString()}`);return Y$(n)}function G9t(e,t){return W9t(e,t).map(n=>({path:n.path,value:n.get()}))}var Y9t=Object.defineProperty,q9t=(e,t,n)=>t in e?Y9t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,V3=(e,t,n)=>q9t(e,typeof t!="symbol"?t+"":t,n);function Yie(e,t){if(typeof t!="string")return t;const[n]=bO(e,t,{allowExceedingIndices:!0});return n}class K9t{constructor(t,n,r){V3(this,"path"),V3(this,"dmpPatch"),V3(this,"id"),this.id=t,this.path=n,this.dmpPatch=bW(r)}apply(t,n){let r=n;if(r.containerType()==="primitive")return r;for(const i of t){if(i.isIndexReference()){for(const a of i.toIndicies(n)){const o=r.getIndex(a);if(!o)continue;const s=o.get(),l=Yie(this.dmpPatch,s);r=r.setIndex(a,l)}continue}if(i.isAttributeReference()&&r.hasAttribute(i.name())){const a=r.getAttribute(i.name());if(!a)continue;const o=a.get(),s=Yie(this.dmpPatch,o);r=r.setAttribute(i.name(),s);continue}throw new Error(`Unable to apply diffMatchPatch to target ${i.toString()}`)}return r}}var Z9t=Object.defineProperty,X9t=(e,t,n)=>t in e?Z9t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,z3=(e,t,n)=>X9t(e,typeof t!="symbol"?t+"":t,n);function qie(e,t){return typeof e!="number"||!Number.isFinite(e)?e:e+t}class Kie{constructor(t,n,r){z3(this,"path"),z3(this,"value"),z3(this,"id"),this.path=n,this.value=r,this.id=t}apply(t,n){let r=n;if(r.containerType()==="primitive")return r;for(const i of t){if(i.isIndexReference()){for(const a of i.toIndicies(n)){const o=r.getIndex(a);if(!o)continue;const s=o.get();r=r.setIndex(a,qie(s,this.value))}continue}if(i.isAttributeReference()){const a=r.getAttribute(i.name());if(!a)continue;const o=a.get();r=r.setAttribute(i.name(),qie(o,this.value));continue}throw new Error(`Unable to apply to target ${i.toString()}`)}return r}}function SO(e,t){const n=[];return e.forEach(r=>{r.isIndexReference()&&n.push(...r.toIndicies(t))}),n.sort()}var J9t=Object.defineProperty,Q9t=(e,t,n)=>t in e?J9t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dk=(e,t,n)=>Q9t(e,typeof t!="symbol"?t+"":t,n);class eBt{constructor(t,n,r,i){dk(this,"location"),dk(this,"path"),dk(this,"items"),dk(this,"id"),this.id=t,this.location=n,this.path=r,this.items=i}apply(t,n){let r=n;if(n.containerType()!=="array")throw new Error("Attempt to apply insert patch to non-array value");switch(this.location){case"before":{const i=tBt(t,n);r=r.insertItemsAt(i,this.items);break}case"after":{const i=nBt(t,n);r=r.insertItemsAt(i+1,this.items);break}case"replace":{const i=SO(t,n);r=r.unsetIndices(i),r=r.insertItemsAt(i[0],this.items);break}default:throw new Error(`Unsupported location atm: ${this.location}`)}return r}}function tBt(e,t){let n=f9t(SO(e,t))||0;return e.forEach(r=>{if(r.isRange()){const{start:i}=r.expandRange();i<n&&(n=i)}}),n}function nBt(e,t){let n=i9t(SO(e,t))||0;return e.forEach(r=>{if(r.isRange()){const{end:i}=r.expandRange();i>n&&(n=i)}}),n}var rBt=Object.defineProperty,iBt=(e,t,n)=>t in e?rBt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,U3=(e,t,n)=>iBt(e,typeof t!="symbol"?t+"":t,n);class rTe{constructor(t,n,r){U3(this,"id"),U3(this,"path"),U3(this,"value"),this.id=t,this.path=n,this.value=r}apply(t,n){let r=n;return t.forEach(i=>{if(!i.isIndexReference())if(i.isAttributeReference())r.containerType()==="primitive"?r=r.set({[i.name()]:this.value}):r.hasAttribute(i.name())||(r=n.setAttribute(i.name(),this.value));else throw new Error(`Unable to apply to target ${i.toString()}`)}),r}}var aBt=Object.defineProperty,oBt=(e,t,n)=>t in e?aBt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,H3=(e,t,n)=>oBt(e,typeof t!="symbol"?t+"":t,n);class iTe{constructor(t,n,r){H3(this,"id"),H3(this,"path"),H3(this,"value"),this.id=t,this.path=n,this.value=r}apply(t,n){let r=n;return t.forEach(i=>{if(i.isSelfReference())r=r.set(this.value);else if(i.isIndexReference())i.toIndicies(n).forEach(a=>{r=r.setIndex(a,this.value)});else if(i.isAttributeReference())r.containerType()==="primitive"?r=r.set({[i.name()]:this.value}):r=r.setAttribute(i.name(),this.value);else throw new Error(`Unable to apply to target ${i.toString()}`)}),r}}var sBt=Object.defineProperty,lBt=(e,t,n)=>t in e?sBt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,W3=(e,t,n)=>lBt(e,typeof t!="symbol"?t+"":t,n);class uBt{constructor(t,n){W3(this,"id"),W3(this,"path"),W3(this,"value"),this.id=t,this.path=n}apply(t,n){let r=n;switch(n.containerType()){case"array":r=r.unsetIndices(SO(t,n));break;case"object":t.forEach(i=>{r=r.unsetAttribute(i.name())});break;default:throw new Error("Target value is neither indexable or an object. This error should potentially just be silently ignored?")}return r}}function aTe(e){const t=[];if(Array.isArray(e))return e.reduce((c,d)=>c.concat(aTe(d)),t);const{set:n,setIfMissing:r,unset:i,diffMatchPatch:a,inc:o,dec:s,insert:l}=e;if(r&&Object.keys(r).forEach(c=>{t.push(new rTe(e.id,c,r[c]))}),n&&Object.keys(n).forEach(c=>{t.push(new iTe(e.id,c,n[c]))}),i&&i.forEach(c=>{t.push(new uBt(e.id,c))}),a&&Object.keys(a).forEach(c=>{t.push(new K9t(e.id,c,a[c]))}),o&&Object.keys(o).forEach(c=>{t.push(new Kie(e.id,c,o[c]))}),s&&Object.keys(s).forEach(c=>{t.push(new Kie(e.id,c,-s[c]))}),l){let c,d;const h=l;if("before"in h)c="before",d=h.before;else if("after"in h)c="after",d=h.after;else if("replace"in h)c="replace",d=h.replace;else throw new Error("Invalid insert patch");t.push(new eBt(e.id,c,d,h.items))}return t}var cBt=Object.defineProperty,dBt=(e,t,n)=>t in e?cBt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fBt=(e,t,n)=>dBt(e,t+"",n);let hBt=class{constructor(t){fBt(this,"patches"),this.patches=aTe(t)}apply(t){const n=new vc(t);return this.applyViaAccessor(n).get()}applyViaAccessor(t){let n=t;const r=t.getAttribute("_id");if(!r)throw new Error("Cannot apply patch to document with no _id");const i=r.get();for(const a of this.patches){if(a.id!==i)continue;const o=Qm.fromPath(a.path).setPayload(a);n=V8(o,n)}return n}};function V8(e,t){const n=e.payload instanceof iTe||e.payload instanceof rTe;let r=t;const{leads:i,delivery:a}=e.match(t);return i.forEach(o=>{if(o.target.isIndexReference())o.target.toIndicies().forEach(s=>{const l=r.getIndex(s);if(!l)throw new Error("Index out of bounds");r=r.setIndexAccessor(s,V8(o.matcher,l))});else if(o.target.isAttributeReference()){n&&r.containerType()==="primitive"&&(r=r.set({}));let s=r.getAttribute(o.target.name());if(!s&&n&&(r=r.setAttribute(o.target.name(),{}),s=r.getAttribute(o.target.name())),!s)return;const l=V8(o.matcher,s);s!==l&&(r=r.setAttributeAccessor(o.target.name(),l))}else throw new Error(`Unable to handle target ${o.target.toString()}`)}),a&&pBt(a.payload)&&(r=a.payload.apply(a.targets,r)),r}function pBt(e){return!!(e&&typeof e=="object"&&e!==null&&"apply"in e&&typeof e.apply=="function")}const mBt=qa;var gBt=Object.defineProperty,vBt=(e,t,n)=>t in e?gBt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,G3=(e,t,n)=>vBt(e,typeof t!="symbol"?t+"":t,n);class Hc{constructor(t){G3(this,"params"),G3(this,"compiled"),G3(this,"_appliesToMissingDocument"),this.params=t}get transactionId(){return this.params.transactionId}get transition(){return this.params.transition}get identity(){return this.params.identity}get previousRev(){return this.params.previousRev}get resultRev(){return this.params.resultRev}get mutations(){return this.params.mutations}get timestamp(){if(typeof this.params.timestamp=="string")return new Date(this.params.timestamp)}get effects(){return this.params.effects}assignRandomTransactionId(){this.params.transactionId=mBt(),this.params.resultRev=this.params.transactionId}appliesToMissingDocument(){if(typeof this._appliesToMissingDocument<"u")return this._appliesToMissingDocument;const t=this.mutations[0];return t?this._appliesToMissingDocument=!!(t.create||t.createIfNotExists||t.createOrReplace):this._appliesToMissingDocument=!0,this._appliesToMissingDocument}compile(){const t=[];this.mutations.forEach(i=>{if(i.create){const a=i.create||{};t.push(o=>o||Object.assign(a,{_createdAt:a._createdAt||this.params.timestamp}));return}if(i.createIfNotExists){const a=i.createIfNotExists||{};t.push(o=>o===null?Object.assign(a,{_createdAt:a._createdAt||this.params.timestamp}):o);return}if(i.createOrReplace){const a=i.createOrReplace||{};t.push(()=>Object.assign(a,{_createdAt:a._createdAt||this.params.timestamp}));return}if(i.delete){t.push(()=>null);return}if(i.patch){if("query"in i.patch)return;const a=new hBt(i.patch);t.push(o=>a.apply(o));return}throw new Error(`Unsupported mutation ${JSON.stringify(i,null,2)}`)}),typeof this.params.timestamp=="string"&&t.push(i=>i?Object.assign(i,{_updatedAt:this.params.timestamp}):null);const n=this.previousRev,r=this.resultRev||this.transactionId;this.compiled=i=>{if(n&&i&&n!==i._rev)throw new Error(`Previous revision for this mutation was ${n}, but the document revision is ${i._rev}`);let a=i;for(const o of t)a=o(a);return a&&r&&(a===i&&(a=Object.assign({},i)),a._rev=r),a}}apply(t){xn("Applying mutation %O to document %O",this.mutations,t),this.compiled||this.compile();const n=this.compiled(t);return xn("  => %O",n),n}static applyAll(t,n){return n.reduce((r,i)=>i.apply(r),t)}static squash(t,n){const r=n.reduce((i,a)=>i.concat(...a.mutations),[]);return new Hc({mutations:r})}}var yBt=Object.defineProperty,bBt=(e,t,n)=>t in e?yBt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Cu=(e,t,n)=>bBt(e,typeof t!="symbol"?t+"":t,n);let xBt=class{constructor(t){Cu(this,"incoming",[]),Cu(this,"submitted",[]),Cu(this,"pending",[]),Cu(this,"HEAD"),Cu(this,"EDGE"),Cu(this,"onRebase"),Cu(this,"onMutation"),Cu(this,"onConsistencyChanged"),Cu(this,"onRemoteMutation"),Cu(this,"inconsistentAt",null),Cu(this,"lastStagedAt",null),this.reset(t),this.HEAD=t,this.EDGE=t}reset(t){this.incoming=[],this.submitted=[],this.pending=[],this.inconsistentAt=null,this.HEAD=t,this.EDGE=t,this.considerIncoming(),this.updateConsistencyFlag()}arrive(t){this.incoming.push(t),this.considerIncoming(),this.updateConsistencyFlag()}stage(t,n){if(!t.transactionId)throw new Error("Mutations _must_ have transactionId when submitted");this.lastStagedAt=new Date,xn("Staging mutation %s (pushed to pending)",t.transactionId),this.pending.push(t),this.EDGE=t.apply(this.EDGE),this.onMutation&&!n&&this.onMutation({mutation:t,document:this.EDGE,remote:!1});const r=t.transactionId;return this.updateConsistencyFlag(),{success:()=>{this.pendingSuccessfullySubmitted(r),this.updateConsistencyFlag()},failure:()=>{this.pendingFailed(r),this.updateConsistencyFlag()}}}isConsistent(){return!this.inconsistentAt}considerIncoming(){let t=!1,n;const r=[];if(this.HEAD&&this.HEAD._updatedAt){const a=new Date(this.HEAD._updatedAt);this.incoming.find(o=>o.timestamp&&o.timestamp<a)&&(this.incoming=this.incoming.filter(o=>o.timestamp&&o.timestamp<a))}let i=0;do{if(this.HEAD){const a=this.HEAD;n=a._rev?this.incoming.find(o=>o.previousRev===a._rev):void 0}else n=this.incoming.find(a=>a.appliesToMissingDocument());if(n){const a=this.applyIncoming(n);if(t=t||a,t&&r.push(n),i++>10)throw new Error(`Mutator stuck flushing incoming mutations. Probably stuck here: ${JSON.stringify(n)}`)}}while(n);this.incoming.length>0&&xn.enabled&&xn("Unable to apply mutations %s",this.incoming.map(a=>a.transactionId).join(", ")),t&&this.rebase(r)}updateConsistencyFlag(){const t=this.isConsistent(),n=this.pending.length===0&&this.submitted.length===0&&this.incoming.length===0;n?this.inconsistentAt=null:this.inconsistentAt||(this.inconsistentAt=new Date),t!=n&&this.onConsistencyChanged&&(xn(n?"Buffered document is inconsistent":"Buffered document is consistent"),this.onConsistencyChanged(n))}applyIncoming(t){if(!t)return!1;if(!t.transactionId)throw new Error("Received incoming mutation without a transaction ID");if(xn("Applying mutation %s -> %s to rev %s",t.previousRev,t.resultRev,this.HEAD&&this.HEAD._rev),this.HEAD=t.apply(this.HEAD),this.onRemoteMutation&&this.onRemoteMutation(t),this.incoming=this.incoming.filter(n=>n.transactionId!==t.transactionId),this.hasUnresolvedMutations()){const n=this.consumeUnresolved(t.transactionId);return xn.enabled&&(xn(`Incoming mutation ${t.transactionId} appeared while there were pending or submitted local mutations`),xn(`Submitted txnIds: ${this.submitted.map(r=>r.transactionId).join(", ")}`),xn(`Pending txnIds: ${this.pending.map(r=>r.transactionId).join(", ")}`),xn("needRebase === %s",n)),n}return xn("Remote mutation %s arrived w/o any pending or submitted local mutations",t.transactionId),this.EDGE=this.HEAD,this.onMutation&&this.onMutation({mutation:t,document:this.EDGE,remote:!0}),!1}hasUnresolvedMutations(){return this.submitted.length>0||this.pending.length>0}consumeUnresolved(t){if(this.submitted.length===0&&this.pending.length===0)return!1;if(this.submitted.length!==0){if(this.submitted[0].transactionId===t)return xn("Remote mutation %s matches upcoming submitted mutation, consumed from 'submitted' buffer",t),this.submitted.shift(),!1}else if(this.pending.length>0&&this.pending[0].transactionId===t)return xn("Remote mutation %s matches upcoming pending mutation, consumed from 'pending' buffer",t),this.pending.shift(),!1;return xn("The mutation was not the upcoming mutation, scrubbing. Pending: %d, Submitted: %d",this.pending.length,this.submitted.length),this.submitted=this.submitted.filter(n=>n.transactionId!==t),this.pending=this.pending.filter(n=>n.transactionId!==t),xn("After scrubbing: Pending: %d, Submitted: %d",this.pending.length,this.submitted.length),!0}pendingSuccessfullySubmitted(t){if(this.pending.length===0)return;const n=this.pending[0];if(n.transactionId===t){this.pending.shift(),this.submitted.push(n);return}let r;const i=[];this.pending.forEach(a=>{if(a.transactionId===t){r=a;return}i.push(a)}),r&&this.submitted.push(r),this.pending=i,this.rebase([])}pendingFailed(t){this.pending=this.pending.filter(n=>n.transactionId!==t),this.rebase([])}rebase(t){const n=this.EDGE;this.EDGE=Hc.applyAll(this.HEAD,this.submitted.concat(this.pending)),n!==null&&this.EDGE!==null&&(n._rev=this.EDGE._rev),!wt(this.EDGE,n)&&this.onRebase&&this.onRebase(this.EDGE,t,this.pending)}};var wBt=Object.defineProperty,CBt=(e,t,n)=>t in e?wBt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pv=(e,t,n)=>CBt(e,typeof t!="symbol"?t+"":t,n);class fk{constructor(t){pv(this,"BASIS"),pv(this,"PRESTAGE"),pv(this,"setOperations"),pv(this,"documentPresent"),pv(this,"out",[]),pv(this,"staged"),t?xn("Reset mutation buffer to rev %s",t._rev):xn("Reset mutation buffer state to document being deleted"),this.staged=[],this.setOperations={},this.documentPresent=!1,this.BASIS=t,this.PRESTAGE=t}add(t){t.mutations.forEach(n=>this.addOperation(n))}hasChanges(){return this.out.length>0||Object.keys(this.setOperations).length>0}purge(t){this.stashStagedOperations();let n=null;return this.out.length>0&&(xn("Purged mutation buffer"),n=new Hc({mutations:this.out,resultRev:t,transactionId:t})),this.out=[],this.documentPresent=!1,n}addOperation(t){var n;if(t.patch&&t.patch.set&&"id"in t.patch&&t.patch.id===((n=this.PRESTAGE)==null?void 0:n._id)&&Object.keys(t.patch).length===2){const r=t.patch.set,i={};for(const a of Object.keys(r))r.hasOwnProperty(a)&&(this.optimiseSetOperation(a,r[a])||(i[a]=r[a]));Object.keys(i).length>0&&(xn("Unoptimizable set-operation detected, purging optimization buffer"),this.staged.push({patch:{id:this.PRESTAGE._id,set:i}}),this.stashStagedOperations());return}if(t.createIfNotExists&&this.PRESTAGE&&t.createIfNotExists._id===this.PRESTAGE._id){this.documentPresent||(this.staged.push(t),this.documentPresent=!0,this.stashStagedOperations());return}xn("Unoptimizable mutation detected, purging optimization buffer"),this.staged.push(t),this.stashStagedOperations()}optimiseSetOperation(t,n){if(typeof n=="object")return!1;const r=G9t(t,this.PRESTAGE);if(r.length!==1)return!1;const i=r[0];if(typeof i.value=="object"||!this.PRESTAGE)return!1;let a=null;if(i.value===n)a=null;else if(typeof i.value=="string"&&typeof n=="string")try{const s=yW(yO(i.value,n));a={patch:{id:this.PRESTAGE._id,diffMatchPatch:{[t]:s}}}}catch{return!1}else a={patch:{id:this.PRESTAGE._id,set:{[t]:n}}};const o=X5e(i.path);return a?this.setOperations[o]=a:delete this.setOperations[o],!0}stashStagedOperations(){const t=[];Object.keys(this.setOperations).forEach(n=>{const r=this.setOperations[n];r&&t.push(r)}),t.push(...this.staged),t.length>0&&(this.PRESTAGE=new Hc({mutations:t}).apply(this.PRESTAGE),this.staged=[],this.setOperations={}),this.out.push(...t)}rebase(t){return this.stashStagedOperations(),t===null?(this.out=[],this.BASIS=t,this.PRESTAGE=t,this.documentPresent=!1):(this.BASIS=t,this.out?this.PRESTAGE=new Hc({mutations:this.out}).apply(this.BASIS):this.PRESTAGE=this.BASIS),this.PRESTAGE}}var SBt=Object.defineProperty,_Bt=(e,t,n)=>t in e?SBt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yo=(e,t,n)=>_Bt(e,typeof t!="symbol"?t+"":t,n);const EBt=1e3*60;class kBt{constructor(t,{resolve:n,reject:r}){yo(this,"mutations"),yo(this,"tries"),yo(this,"resolve"),yo(this,"reject"),this.mutations=t,this.tries=0,this.resolve=n,this.reject=r}apply(t){return Hc.applyAll(t,this.mutations)}squash(t){const n=Hc.squash(t,this.mutations);return n.assignRandomTransactionId(),n}}const Zie=(e,t)=>e.concat(t.mutations);class TBt{constructor(t){yo(this,"mutations"),yo(this,"document"),yo(this,"LOCAL"),yo(this,"commits"),yo(this,"buffer"),yo(this,"onMutation"),yo(this,"onRemoteMutation"),yo(this,"onRebase"),yo(this,"onDelete"),yo(this,"onConsistencyChanged"),yo(this,"commitHandler"),yo(this,"committerRunning",!1),this.buffer=new fk(t),this.document=new xBt(t),this.document.onMutation=n=>this.handleDocMutation(n),this.document.onRemoteMutation=n=>this.onRemoteMutation&&this.onRemoteMutation(n),this.document.onRebase=(n,r,i)=>this.handleDocRebase(n,r,i),this.document.onConsistencyChanged=n=>this.handleDocConsistencyChanged(n),this.LOCAL=t,this.mutations=[],this.commits=[]}reset(t){t?xn("Document state reset to revision %s",t._rev):xn("Document state reset to being deleted"),this.document.reset(t),this.rebase([],[]),this.handleDocConsistencyChanged(this.document.isConsistent())}add(t){this.onConsistencyChanged&&this.onConsistencyChanged(!1),xn("Staged local mutation"),this.buffer.add(t);const n=this.LOCAL;this.LOCAL=t.apply(this.LOCAL),this.onMutation&&n!==this.LOCAL&&(xn("onMutation fired"),this.onMutation({mutation:t,document:this.LOCAL,remote:!1}),this.LOCAL===null&&this.onDelete&&this.onDelete(this.LOCAL))}arrive(t){if(xn("Remote mutation arrived %s -> %s",t.previousRev,t.resultRev),t.previousRev===t.resultRev)throw new Error(`Mutation ${t.transactionId} has previousRev === resultRev (${t.previousRev})`);return this.document.arrive(t)}commit(){return new Promise((t,n)=>{if(!this.buffer.hasChanges()){t();return}xn("Committing local changes");const r=this.buffer.purge();this.commits.push(new kBt(r?[r]:[],{resolve:t,reject:n})),this.buffer=new fk(this.LOCAL),this.performCommits()})}performCommits(){if(!this.commitHandler)throw new Error("No commitHandler configured for this BufferedDocument");this.committerRunning||this._cycleCommitter()}_cycleCommitter(){const t=this.commits.shift();if(!t){this.committerRunning=!1;return}this.committerRunning=!0;const n=t.squash(this.LOCAL),r=this.document.stage(n,!0),i={success:()=>{xn("Commit succeeded"),r.success(),t.resolve(),this._cycleCommitter()},failure:()=>{xn("Commit failed"),t.tries+=1,this.LOCAL!==null&&this.commits.unshift(t),r.failure(),t.tries<200&&setTimeout(()=>this._cycleCommitter(),Math.min(t.tries*1e3,EBt))},cancel:a=>{this.commits.forEach(o=>o.reject(a)),this.commits=[],this.reset(this.document.HEAD),this.buffer=new fk(this.LOCAL),this.committerRunning=!1}};xn("Posting commit"),this.commitHandler&&this.commitHandler({mutation:n,success:i.success,failure:i.failure,cancel:i.cancel})}handleDocRebase(t,n,r){this.rebase(n,r)}handleDocumentDeleted(){xn("Document deleted"),this.LOCAL!==null&&this.onDelete&&this.onDelete(this.LOCAL),this.commits=[],this.mutations=[]}handleDocMutation(t){if(this.commits.length===0&&!this.buffer.hasChanges()){xn("Document mutated from remote with no local changes"),this.LOCAL=this.document.EDGE,this.buffer=new fk(this.LOCAL),this.onMutation&&this.onMutation(t);return}xn("Document mutated from remote with local changes"),this.document.EDGE===null&&this.handleDocumentDeleted(),this.rebase([t.mutation],[])}rebase(t,n){xn("Rebasing document"),this.document.EDGE===null&&this.handleDocumentDeleted();const r=this.LOCAL;this.LOCAL=this.commits.reduce((i,a)=>a.apply(i),this.document.EDGE),this.LOCAL=this.buffer.rebase(this.LOCAL),r!==null&&this.LOCAL!==null&&(r._rev=this.LOCAL._rev),!wt(this.LOCAL,r)&&this.onRebase&&this.onRebase(this.LOCAL,t.reduce(Zie,[]),n.reduce(Zie,[]))}handleDocConsistencyChanged(t){if(!this.onConsistencyChanged)return;const n=this.commits.length>0||this.buffer.hasChanges();t&&!n&&this.onConsistencyChanged(!0),t||this.onConsistencyChanged(!1)}}var ABt=xH,jBt=1,IBt=4;function DBt(e){return ABt(e,jBt|IBt)}var $Bt=DBt;const OBt=Pe($Bt);var MBt=Object.defineProperty,RBt=(e,t,n)=>t in e?MBt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hk=(e,t,n)=>RBt(e,typeof t!="symbol"?t+"":t,n);class oTe{constructor(t){this.max=t,hk(this,"current",0),hk(this,"resolvers",[]),hk(this,"ready",()=>this.max===1/0?Promise.resolve():this.current<this.max?(this.current++,Promise.resolve()):new Promise(n=>{this.resolvers.push(n)})),hk(this,"release",()=>{if(this.max===1/0)return;const n=this.resolvers.shift();if(n){n();return}this.current=Math.max(0,this.current-1)})}}function PBt(e){const t=new oTe(e);function n(i){return new Proxy(i,{get:(a,o)=>{switch(o){case"fetch":return async(...s)=>{await t.ready();try{return await a.fetch(...s)}finally{t.release()}};case"clone":return(...s)=>n(a.clone(...s));case"config":return(...s)=>{const l=a.config(...s);return s[0]?n(l):l};case"withConfig":return(...s)=>n(a.withConfig(...s));case"observable":return r(a.observable);default:return a[o]}}})}function r(i){return new Proxy(i,{get:(a,o)=>{switch(o){case"fetch":return(...s)=>ar(t.ready()).pipe(mt(()=>a.fetch(...s)),k$(()=>t.release()));case"clone":return(...s)=>r(a.clone(...s));case"config":return(...s)=>{const l=a.config(...s);return s[0]?r(l):l};case"withConfig":return(...s)=>r(a.withConfig(...s));default:return a[o]}}})}return n}const FBt={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class Pj{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,n)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=t||FBt,this.options=n,this.debug=n.debug}log(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,i){return i&&!this.debug?null:(typeof t[0]=="string"&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new Pj(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Pj(this.logger,t)}}var Oc=new Pj;class _O{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(o=>{let[s,l]=o;for(let c=0;c<l;c++)s(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[s,l]=o;for(let c=0;c<l;c++)s.apply(s,[t,...r])})}}function Hx(){let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n}function Xie(e){return e==null?"":""+e}function NBt(e,t,n){e.forEach(r=>{t[r]&&(n[r]=t[r])})}const LBt=/###/g;function CC(e,t,n){function r(s){return s&&s.indexOf("###")>-1?s.replace(LBt,"."):s}function i(){return!e||typeof e=="string"}const a=typeof t!="string"?t:t.split(".");let o=0;for(;o<a.length-1;){if(i())return{};const s=r(a[o]);!e[s]&&n&&(e[s]=new n),Object.prototype.hasOwnProperty.call(e,s)?e=e[s]:e={},++o}return i()?{}:{obj:e,k:r(a[o])}}function Jie(e,t,n){const{obj:r,k:i}=CC(e,t,Object);if(r!==void 0||t.length===1){r[i]=n;return}let a=t[t.length-1],o=t.slice(0,t.length-1),s=CC(e,o,Object);for(;s.obj===void 0&&o.length;)a=`${o[o.length-1]}.${a}`,o=o.slice(0,o.length-1),s=CC(e,o,Object),s&&s.obj&&typeof s.obj[`${s.k}.${a}`]<"u"&&(s.obj=void 0);s.obj[`${s.k}.${a}`]=n}function BBt(e,t,n,r){const{obj:i,k:a}=CC(e,t,Object);i[a]=i[a]||[],i[a].push(n)}function Fj(e,t){const{obj:n,k:r}=CC(e,t);if(n)return n[r]}function VBt(e,t,n){const r=Fj(e,n);return r!==void 0?r:Fj(t,n)}function sTe(e,t,n){for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?typeof e[r]=="string"||e[r]instanceof String||typeof t[r]=="string"||t[r]instanceof String?n&&(e[r]=t[r]):sTe(e[r],t[r],n):e[r]=t[r]);return e}function mv(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var zBt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function UBt(e){return typeof e=="string"?e.replace(/[&<>"'\/]/g,t=>zBt[t]):e}class HBt{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const WBt=[" ",",","?","!",";"],GBt=new HBt(20);function YBt(e,t,n){t=t||"",n=n||"";const r=WBt.filter(o=>t.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const i=GBt.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let a=!i.test(e);if(!a){const o=e.indexOf(n);o>0&&!i.test(e.substring(0,o))&&(a=!0)}return a}function z8(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return e[t];const r=t.split(n);let i=e;for(let a=0;a<r.length;){if(!i||typeof i!="object")return;let o,s="";for(let l=a;l<r.length;++l)if(l!==a&&(s+=n),s+=r[l],o=i[s],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<r.length-1)continue;a+=l-a+1;break}i=o}return i}function Nj(e){return e&&e.indexOf("_")>0?e.replace("_","-"):e}class Qie extends _O{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let s;t.indexOf(".")>-1?s=t.split("."):(s=[t,n],r&&(Array.isArray(r)?s.push(...r):typeof r=="string"&&a?s.push(...r.split(a)):s.push(r)));const l=Fj(this.data,s);return!l&&!n&&!r&&t.indexOf(".")>-1&&(t=s[0],n=s[1],r=s.slice(2).join(".")),l||!o||typeof r!="string"?l:z8(this.data&&this.data[t]&&this.data[t][n],r,a)}addResource(t,n,r,i){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let s=[t,n];r&&(s=s.concat(o?r.split(o):r)),t.indexOf(".")>-1&&(s=t.split("."),i=n,n=s[1]),this.addNamespaces(n),Jie(this.data,s,i),a.silent||this.emit("added",t,n,r,i)}addResources(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const a in r)(typeof r[a]=="string"||Array.isArray(r[a]))&&this.addResource(t,n,a,r[a],{silent:!0});i.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,i,a){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},s=[t,n];t.indexOf(".")>-1&&(s=t.split("."),i=r,r=n,n=s[1]),this.addNamespaces(n);let l=Fj(this.data,s)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?sTe(l,r,a):l={...l,...r},Jie(this.data,s,l),o.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,n)}:this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var lTe={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,i){return e.forEach(a=>{this.processors[a]&&(t=this.processors[a].process(t,n,r,i))}),t}};const eae={};class Lj extends _O{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),NBt(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Oc.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const r=this.resolve(t,n);return r&&r.res!==void 0}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let a=n.ns||this.options.defaultNS||[];const o=r&&t.indexOf(r)>-1,s=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!YBt(t,r,i);if(o&&!s){const l=t.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:t,namespaces:a};const c=t.split(r);(r!==i||r===i&&this.options.ns.indexOf(c[0])>-1)&&(a=c.shift()),t=c.join(i)}return typeof a=="string"&&(a=[a]),{key:t,namespaces:a}}translate(t,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:o,namespaces:s}=this.extractFromKey(t[t.length-1],n),l=s[s.length-1],c=n.lng||this.language,d=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&c.toLowerCase()==="cimode"){if(d){const C=n.nsSeparator||this.options.nsSeparator;return i?{res:`${l}${C}${o}`,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:`${l}${C}${o}`}return i?{res:o,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:o}const h=this.resolve(t,n);let p=h&&h.res;const m=h&&h.usedKey||o,g=h&&h.exactUsedKey||o,v=Object.prototype.toString.apply(p),b=["[object Number]","[object Function]","[object RegExp]"],y=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,x=!this.i18nFormat||this.i18nFormat.handleAsObject;if(x&&p&&(typeof p!="string"&&typeof p!="boolean"&&typeof p!="number")&&b.indexOf(v)<0&&!(typeof y=="string"&&Array.isArray(p))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const C=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,p,{...n,ns:s}):`key '${o} (${this.language})' returned an object instead of string.`;return i?(h.res=C,h.usedParams=this.getUsedParamsDetails(n),h):C}if(a){const C=Array.isArray(p),S=C?[]:{},_=C?g:m;for(const E in p)if(Object.prototype.hasOwnProperty.call(p,E)){const k=`${_}${a}${E}`;S[E]=this.translate(k,{...n,joinArrays:!1,ns:s}),S[E]===k&&(S[E]=p[E])}p=S}}else if(x&&typeof y=="string"&&Array.isArray(p))p=p.join(y),p&&(p=this.extendTranslation(p,t,n,r));else{let C=!1,S=!1;const _=n.count!==void 0&&typeof n.count!="string",E=Lj.hasDefaultValue(n),k=_?this.pluralResolver.getSuffix(c,n.count,n):"",T=n.ordinal&&_?this.pluralResolver.getSuffix(c,n.count,{ordinal:!1}):"",j=_&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),I=j&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${k}`]||n[`defaultValue${T}`]||n.defaultValue;!this.isValidLookup(p)&&E&&(C=!0,p=I),this.isValidLookup(p)||(S=!0,p=o);const $=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&S?void 0:p,D=E&&I!==p&&this.options.updateMissing;if(S||C||D){if(this.logger.log(D?"updateKey":"missingKey",c,l,o,D?I:p),a){const P=this.resolve(o,{...n,keySeparator:!1});P&&P.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let M=[];const O=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&O&&O[0])for(let P=0;P<O.length;P++)M.push(O[P]);else this.options.saveMissingTo==="all"?M=this.languageUtils.toResolveHierarchy(n.lng||this.language):M.push(n.lng||this.language);const F=(P,V,H)=>{const W=E&&H!==p?H:$;this.options.missingKeyHandler?this.options.missingKeyHandler(P,l,V,W,D,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(P,l,V,W,D,n),this.emit("missingKey",P,l,V,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&_?M.forEach(P=>{const V=this.pluralResolver.getSuffixes(P,n);j&&n[`defaultValue${this.options.pluralSeparator}zero`]&&V.indexOf(`${this.options.pluralSeparator}zero`)<0&&V.push(`${this.options.pluralSeparator}zero`),V.forEach(H=>{F([P],o+H,n[`defaultValue${H}`]||I)})}):F(M,o,I))}p=this.extendTranslation(p,t,n,h,r),S&&p===o&&this.options.appendNamespaceToMissingKey&&(p=`${l}:${o}`),(S||C)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${o}`:o,C?p:void 0):p=this.options.parseMissingKeyHandler(p))}return i?(h.res=p,h.usedParams=this.getUsedParamsDetails(n),h):p}extendTranslation(t,n,r,i,a){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const c=typeof t=="string"&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(c){const p=t.match(this.interpolator.nestingRegexp);d=p&&p.length}let h=r.replace&&typeof r.replace!="string"?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),t=this.interpolator.interpolate(t,h,r.lng||this.language||i.usedLng,r),c){const p=t.match(this.interpolator.nestingRegexp),m=p&&p.length;d<m&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];return a&&a[0]===m[0]&&!r.context?(o.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${n[0]}`),null):o.translate(...m,n)},r)),r.interpolation&&this.interpolator.reset()}const s=r.postProcess||this.options.postProcess,l=typeof s=="string"?[s]:s;return t!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(t=lTe.handle(l,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,a,o,s;return typeof t=="string"&&(t=[t]),t.forEach(l=>{if(this.isValidLookup(r))return;const c=this.extractFromKey(l,n),d=c.key;i=d;let h=c.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const p=n.count!==void 0&&typeof n.count!="string",m=p&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),g=n.context!==void 0&&(typeof n.context=="string"||typeof n.context=="number")&&n.context!=="",v=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);h.forEach(b=>{this.isValidLookup(r)||(s=b,!eae[`${v[0]}-${b}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(s)&&(eae[`${v[0]}-${b}`]=!0,this.logger.warn(`key "${i}" for languages "${v.join(", ")}" won't get resolved as namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),v.forEach(y=>{if(this.isValidLookup(r))return;o=y;const x=[d];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(x,d,y,b,n);else{let C;p&&(C=this.pluralResolver.getSuffix(y,n.count,n));const S=`${this.options.pluralSeparator}zero`,_=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(x.push(d+C),n.ordinal&&C.indexOf(_)===0&&x.push(d+C.replace(_,this.options.pluralSeparator)),m&&x.push(d+S)),g){const E=`${d}${this.options.contextSeparator}${n.context}`;x.push(E),p&&(x.push(E+C),n.ordinal&&C.indexOf(_)===0&&x.push(E+C.replace(_,this.options.pluralSeparator)),m&&x.push(E+S))}}let w;for(;w=x.pop();)this.isValidLookup(r)||(a=w,r=this.getResource(y,b,w,n))}))})}),{res:r,usedKey:i,exactUsedKey:a,usedLng:o,usedNS:s}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,n,r,i):this.resourceStore.getResource(t,n,r,i)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&typeof t.replace!="string";let i=r?t.replace:t;if(r&&typeof t.count<"u"&&(i.count=t.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const a of n)delete i[a]}return i}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}function Y3(e){return e.charAt(0).toUpperCase()+e.slice(1)}class tae{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Oc.create("languageUtils")}getScriptPartFromCode(t){if(t=Nj(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=Nj(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(typeof t=="string"&&t.indexOf("-")>-1){const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=t.split("-");return this.options.lowerCaseLng?r=r.map(i=>i.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=Y3(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=Y3(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=Y3(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(a=>{if(a===i)return a;if(!(a.indexOf("-")<0&&i.indexOf("-")<0)&&(a.indexOf("-")>0&&i.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===i||a.indexOf(i)===0&&i.length>1))return a})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),typeof t=="string"&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],t),i=[],a=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return typeof t=="string"&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(t))):typeof t=="string"&&a(this.formatLanguageCode(t)),r.forEach(o=>{i.indexOf(o)<0&&a(this.formatLanguageCode(o))}),i}}let qBt=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],KBt={1:function(e){return+(e>1)},2:function(e){return+(e!=1)},3:function(e){return 0},4:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},5:function(e){return e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},6:function(e){return e==1?0:e>=2&&e<=4?1:2},7:function(e){return e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},8:function(e){return e==1?0:e==2?1:e!=8&&e!=11?2:3},9:function(e){return+(e>=2)},10:function(e){return e==1?0:e==2?1:e<7?2:e<11?3:4},11:function(e){return e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3},12:function(e){return+(e%10!=1||e%100==11)},13:function(e){return+(e!==0)},14:function(e){return e==1?0:e==2?1:e==3?2:3},15:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2},16:function(e){return e%10==1&&e%100!=11?0:e!==0?1:2},17:function(e){return e==1||e%10==1&&e%100!=11?0:1},18:function(e){return e==0?0:e==1?1:2},19:function(e){return e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3},20:function(e){return e==1?0:e==0||e%100>0&&e%100<20?1:2},21:function(e){return e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0},22:function(e){return e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3}};const ZBt=["v1","v2","v3"],XBt=["v4"],nae={zero:0,one:1,two:2,few:3,many:4,other:5};function JBt(){const e={};return qBt.forEach(t=>{t.lngs.forEach(n=>{e[n]={numbers:t.nr,plurals:KBt[t.fc]}})}),e}class QBt{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=n,this.logger=Oc.create("pluralResolver"),(!this.options.compatibilityJSON||XBt.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=JBt()}addRule(t,n){this.rules[t]=n}getRule(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(Nj(t==="dev"?"en":t),{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,r).map(i=>`${n}${i}`)}getSuffixes(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((i,a)=>nae[i]-nae[a]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):r.numbers.map(i=>this.getSuffix(t,i,n)):[]}getSuffix(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(t,r);return i?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:this.getSuffixRetroCompatible(i,n):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,n){const r=t.noAbs?t.plurals(n):t.plurals(Math.abs(n));let i=t.numbers[r];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const a=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:a():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?a():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!ZBt.includes(this.options.compatibilityJSON)}}function rae(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=VBt(e,t,n);return!a&&i&&typeof n=="string"&&(a=z8(e,n,r),a===void 0&&(a=z8(t,n,r))),a}class eVt{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Oc.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(n=>n),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:a,prefixEscaped:o,suffix:s,suffixEscaped:l,formatSeparator:c,unescapeSuffix:d,unescapePrefix:h,nestingPrefix:p,nestingPrefixEscaped:m,nestingSuffix:g,nestingSuffixEscaped:v,nestingOptionsSeparator:b,maxReplaces:y,alwaysFormat:x}=t.interpolation;this.escape=n!==void 0?n:UBt,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?mv(a):o||"{{",this.suffix=s?mv(s):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=d?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=p?mv(p):m||mv("$t("),this.nestingSuffix=g?mv(g):v||mv(")"),this.nestingOptionsSeparator=b||",",this.maxReplaces=y||1e3,this.alwaysFormat=x!==void 0?x:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>n&&n.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,n,r,i){let a,o,s;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(g){return g.replace(/\$/g,"$$$$")}const d=g=>{if(g.indexOf(this.formatSeparator)<0){const x=rae(n,l,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(x,void 0,r,{...i,...n,interpolationkey:g}):x}const v=g.split(this.formatSeparator),b=v.shift().trim(),y=v.join(this.formatSeparator).trim();return this.format(rae(n,l,b,this.options.keySeparator,this.options.ignoreJSONStructure),y,r,{...i,...n,interpolationkey:b})};this.resetRegExp();const h=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,p=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>c(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?c(this.escape(g)):c(g)}].forEach(g=>{for(s=0;a=g.regex.exec(t);){const v=a[1].trim();if(o=d(v),o===void 0)if(typeof h=="function"){const y=h(t,a,i);o=typeof y=="string"?y:""}else if(i&&Object.prototype.hasOwnProperty.call(i,v))o="";else if(p){o=a[0];continue}else this.logger.warn(`missed to pass in variable ${v} for interpolating ${t}`),o="";else typeof o!="string"&&!this.useRawValueToEscape&&(o=Xie(o));const b=g.safeValue(o);if(t=t.replace(a[0],b),p?(g.regex.lastIndex+=o.length,g.regex.lastIndex-=a[0].length):g.regex.lastIndex=0,s++,s>=this.maxReplaces)break}}),t}nest(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,a,o;function s(l,c){const d=this.nestingOptionsSeparator;if(l.indexOf(d)<0)return l;const h=l.split(new RegExp(`${d}[ ]*{`));let p=`{${h[1]}`;l=h[0],p=this.interpolate(p,o);const m=p.match(/'/g),g=p.match(/"/g);(m&&m.length%2===0&&!g||g.length%2!==0)&&(p=p.replace(/'/g,'"'));try{o=JSON.parse(p),c&&(o={...c,...o})}catch(v){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,v),`${l}${d}${p}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l}for(;i=this.nestingRegexp.exec(t);){let l=[];o={...r},o=o.replace&&typeof o.replace!="string"?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let c=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const d=i[1].split(this.formatSeparator).map(h=>h.trim());i[1]=d.shift(),l=d,c=!0}if(a=n(s.call(this,i[1].trim(),o),o),a&&i[0]===t&&typeof a!="string")return a;typeof a!="string"&&(a=Xie(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${t}`),a=""),c&&(a=l.reduce((d,h)=>this.format(d,h,r.lng,{...r,interpolationkey:i[1].trim()}),a.trim())),t=t.replace(i[0],a),this.regexp.lastIndex=0}return t}}function tVt(e){let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);t==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):t==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(o=>{if(o){const[s,...l]=o.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),d=s.trim();n[d]||(n[d]=c),c==="false"&&(n[d]=!1),c==="true"&&(n[d]=!0),isNaN(c)||(n[d]=parseInt(c,10))}})}return{formatName:t,formatOptions:n}}function gv(e){const t={};return function(r,i,a){const o=i+JSON.stringify(a);let s=t[o];return s||(s=e(Nj(i),a),t[o]=s),s(r)}}class nVt{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Oc.create("formatter"),this.options=t,this.formats={number:gv((n,r)=>{const i=new Intl.NumberFormat(n,{...r});return a=>i.format(a)}),currency:gv((n,r)=>{const i=new Intl.NumberFormat(n,{...r,style:"currency"});return a=>i.format(a)}),datetime:gv((n,r)=>{const i=new Intl.DateTimeFormat(n,{...r});return a=>i.format(a)}),relativetime:gv((n,r)=>{const i=new Intl.RelativeTimeFormat(n,{...r});return a=>i.format(a,r.range||"day")}),list:gv((n,r)=>{const i=new Intl.ListFormat(n,{...r});return a=>i.format(a)})},this.init(t)}init(t){const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=gv(n)}format(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return n.split(this.formatSeparator).reduce((s,l)=>{const{formatName:c,formatOptions:d}=tVt(l);if(this.formats[c]){let h=s;try{const p=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},m=p.locale||p.lng||i.locale||i.lng||r;h=this.formats[c](s,m,{...d,...i,...p})}catch(p){this.logger.warn(p)}return h}else this.logger.warn(`there was no format function for ${c}`);return s},t)}}function rVt(e,t){e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)}let iVt=class extends _O{constructor(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Oc.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,i.backend,i)}queueLoad(t,n,r,i){const a={},o={},s={},l={};return t.forEach(c=>{let d=!0;n.forEach(h=>{const p=`${c}|${h}`;!r.reload&&this.store.hasResourceBundle(c,h)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?o[p]===void 0&&(o[p]=!0):(this.state[p]=1,d=!1,o[p]===void 0&&(o[p]=!0),a[p]===void 0&&(a[p]=!0),l[h]===void 0&&(l[h]=!0)))}),d||(s[c]=!0)}),(Object.keys(a).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(o),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(l)}}loaded(t,n,r){const i=t.split("|"),a=i[0],o=i[1];n&&this.emit("failedLoading",a,o,n),r&&this.store.addResourceBundle(a,o,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2;const s={};this.queue.forEach(l=>{BBt(l.loaded,[a],o),rVt(l,t),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{s[c]||(s[c]={});const d=l.loaded[c];d.length&&d.forEach(h=>{s[c][h]===void 0&&(s[c][h]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(l=>!l.done)}read(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:i,wait:a,callback:o});return}this.readingCalls++;const s=(c,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(c&&d&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,i+1,a*2,o)},a);return}o(c,d)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const c=l(t,n);c&&typeof c.then=="function"?c.then(d=>s(null,d)).catch(s):s(null,c)}catch(c){s(c)}return}return l(t,n,s)}prepareLoading(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();typeof t=="string"&&(t=this.languageUtils.toResolveHierarchy(t)),typeof n=="string"&&(n=[n]);const a=this.queueLoad(t,n,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(o=>{this.loadOne(o)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=t.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(o,s)=>{o&&this.logger.warn(`${n}loading namespace ${a} for language ${i} failed`,o),!o&&s&&this.logger.log(`${n}loaded namespace ${a} for language ${i}`,s),this.loaded(t,o,s)})}saveMissing(t,n,r,i,a){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const l={...o,isUpdate:a},c=this.backend.create.bind(this.backend);if(c.length<6)try{let d;c.length===5?d=c(t,n,r,i,l):d=c(t,n,r,i),d&&typeof d.then=="function"?d.then(h=>s(null,h)).catch(s):s(null,d)}catch(d){s(d)}else c(t,n,r,i,s,l)}!t||!t[0]||this.store.addResource(t[0],n,r,i)}}};function iae(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){let n={};if(typeof t[1]=="object"&&(n=t[1]),typeof t[1]=="string"&&(n.defaultValue=t[1]),typeof t[2]=="string"&&(n.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(i=>{n[i]=r[i]})}return n},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function aae(e){return typeof e.ns=="string"&&(e.ns=[e.ns]),typeof e.fallbackLng=="string"&&(e.fallbackLng=[e.fallbackLng]),typeof e.fallbackNS=="string"&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function pk(){}function aVt(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})}class OS extends _O{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=aae(t),this.services={},this.logger=Oc,this.modules={external:[]},aVt(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(typeof n.ns=="string"?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const i=iae();this.options={...i,...this.options,...aae(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);function a(d){return d?typeof d=="function"?new d:d:null}if(!this.options.isClone){this.modules.logger?Oc.init(a(this.modules.logger),this.options):Oc.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:typeof Intl<"u"&&(d=nVt);const h=new tae(this.options);this.store=new Qie(this.options.resources,this.options);const p=this.services;p.logger=Oc,p.resourceStore=this.store,p.languageUtils=h,p.pluralResolver=new QBt(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(p.formatter=a(d),p.formatter.init(p,this.options),this.options.interpolation.format=p.formatter.format.bind(p.formatter)),p.interpolator=new eVt(this.options),p.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},p.backendConnector=new iVt(a(this.modules.backend),p.resourceStore,p,this.options),p.backendConnector.on("*",function(m){for(var g=arguments.length,v=new Array(g>1?g-1:0),b=1;b<g;b++)v[b-1]=arguments[b];t.emit(m,...v)}),this.modules.languageDetector&&(p.languageDetector=a(this.modules.languageDetector),p.languageDetector.init&&p.languageDetector.init(p,this.options.detection,this.options)),this.modules.i18nFormat&&(p.i18nFormat=a(this.modules.i18nFormat),p.i18nFormat.init&&p.i18nFormat.init(this)),this.translator=new Lj(this.services,this.options),this.translator.on("*",function(m){for(var g=arguments.length,v=new Array(g>1?g-1:0),b=1;b<g;b++)v[b-1]=arguments[b];t.emit(m,...v)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,r||(r=pk),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return t.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return t.store[d](...arguments),t}});const l=Hx(),c=()=>{const d=(h,p)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(p),r(h,p)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initImmediate?c():setTimeout(c,0),l}loadResources(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pk;const i=typeof t=="string"?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const a=[],o=s=>{if(!s||s==="cimode")return;this.services.languageUtils.toResolveHierarchy(s).forEach(c=>{c!=="cimode"&&a.indexOf(c)<0&&a.push(c)})};i?o(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>o(l)),this.options.preload&&this.options.preload.forEach(s=>o(s)),this.services.backendConnector.load(a,this.options.ns,s=>{!s&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(s)})}else r(null)}reloadResources(t,n,r){const i=Hx();return t||(t=this.languages),n||(n=this.options.ns),r||(r=pk),this.services.backendConnector.reload(t,n,a=>{i.resolve(),r(a)}),i}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&lTe.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(t,n){var r=this;this.isLanguageChangingTo=t;const i=Hx();this.emit("languageChanging",t);const a=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},o=(l,c)=>{c?(a(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),n&&n(l,function(){return r.t(...arguments)})},s=l=>{!t&&!l&&this.services.languageDetector&&(l=[]);const c=typeof l=="string"?l:this.services.languageUtils.getBestMatchFromCodes(l);c&&(this.language||a(c),this.translator.language||this.translator.changeLanguage(c),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(c)),this.loadResources(c,d=>{o(d,c)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?s(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(t),i}getFixedT(t,n,r){var i=this;const a=function(o,s){let l;if(typeof s!="object"){for(var c=arguments.length,d=new Array(c>2?c-2:0),h=2;h<c;h++)d[h-2]=arguments[h];l=i.options.overloadTranslationOptionHandler([o,s].concat(d))}else l={...s};l.lng=l.lng||a.lng,l.lngs=l.lngs||a.lngs,l.ns=l.ns||a.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||a.keyPrefix);const p=i.options.keySeparator||".";let m;return l.keyPrefix&&Array.isArray(o)?m=o.map(g=>`${l.keyPrefix}${p}${g}`):m=l.keyPrefix?`${l.keyPrefix}${p}${o}`:o,i.t(m,l)};return typeof t=="string"?a.lng=t:a.lngs=t,a.ns=n,a.keyPrefix=r,a}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(s,l)=>{const c=this.services.backendConnector.state[`${s}|${l}`];return c===-1||c===2};if(n.precheck){const s=n.precheck(this,o);if(s!==void 0)return s}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,t)&&(!i||o(a,t)))}loadNamespaces(t,n){const r=Hx();return this.options.ns?(typeof t=="string"&&(t=[t]),t.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=Hx();typeof t=="string"&&(t=[t]);const i=this.options.preload||[],a=t.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return a.length?(this.options.preload=i.concat(a),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new tae(iae());return n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new OS(t,n)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pk;const r=t.forkResourceStore;r&&delete t.forkResourceStore;const i={...this.options,...t,isClone:!0},a=new OS(i);return(t.debug!==void 0||t.prefix!==void 0)&&(a.logger=a.logger.clone(t)),["store","services","language"].forEach(s=>{a[s]=this[s]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r&&(a.store=new Qie(this.store.data,i),a.services.resourceStore=a.store),a.translator=new Lj(a.services,i),a.translator.on("*",function(s){for(var l=arguments.length,c=new Array(l>1?l-1:0),d=1;d<l;d++)c[d-1]=arguments[d];a.emit(s,...c)}),a.init(i,n),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ts=OS.createInstance();ts.createInstance=OS.createInstance;const uTe=ts.createInstance;ts.dir;ts.init;ts.loadResources;ts.reloadResources;ts.use;ts.changeLanguage;ts.getFixedT;ts.t;ts.exists;ts.setDefaultNamespace;ts.hasLoadedNamespace;ts.loadNamespaces;ts.loadLanguages;var U8={exports:{}};const oVt="2.0.0",cTe=256,sVt=Number.MAX_SAFE_INTEGER||9007199254740991,lVt=16,uVt=cTe-6,cVt=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var EO={MAX_LENGTH:cTe,MAX_SAFE_COMPONENT_LENGTH:lVt,MAX_SAFE_BUILD_LENGTH:uVt,MAX_SAFE_INTEGER:sVt,RELEASE_TYPES:cVt,SEMVER_SPEC_VERSION:oVt,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const dVt=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var kO=dVt;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=EO,a=kO;t=e.exports={};const o=t.re=[],s=t.safeRe=[],l=t.src=[],c=t.t={};let d=0;const h="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",i],[h,r]],m=v=>{for(const[b,y]of p)v=v.split(`${b}*`).join(`${b}{0,${y}}`).split(`${b}+`).join(`${b}{1,${y}}`);return v},g=(v,b,y)=>{const x=m(b),w=d++;a(v,w,b),c[v]=w,l[w]=b,o[w]=new RegExp(b,y?"g":void 0),s[w]=new RegExp(x,y?"g":void 0)};g("NUMERICIDENTIFIER","0|[1-9]\\d*"),g("NUMERICIDENTIFIERLOOSE","\\d+"),g("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${h}*`),g("MAINVERSION",`(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})`),g("MAINVERSIONLOOSE",`(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASEIDENTIFIER",`(?:${l[c.NUMERICIDENTIFIER]}|${l[c.NONNUMERICIDENTIFIER]})`),g("PRERELEASEIDENTIFIERLOOSE",`(?:${l[c.NUMERICIDENTIFIERLOOSE]}|${l[c.NONNUMERICIDENTIFIER]})`),g("PRERELEASE",`(?:-(${l[c.PRERELEASEIDENTIFIER]}(?:\\.${l[c.PRERELEASEIDENTIFIER]})*))`),g("PRERELEASELOOSE",`(?:-?(${l[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[c.PRERELEASEIDENTIFIERLOOSE]})*))`),g("BUILDIDENTIFIER",`${h}+`),g("BUILD",`(?:\\+(${l[c.BUILDIDENTIFIER]}(?:\\.${l[c.BUILDIDENTIFIER]})*))`),g("FULLPLAIN",`v?${l[c.MAINVERSION]}${l[c.PRERELEASE]}?${l[c.BUILD]}?`),g("FULL",`^${l[c.FULLPLAIN]}$`),g("LOOSEPLAIN",`[v=\\s]*${l[c.MAINVERSIONLOOSE]}${l[c.PRERELEASELOOSE]}?${l[c.BUILD]}?`),g("LOOSE",`^${l[c.LOOSEPLAIN]}$`),g("GTLT","((?:<|>)?=?)"),g("XRANGEIDENTIFIERLOOSE",`${l[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),g("XRANGEIDENTIFIER",`${l[c.NUMERICIDENTIFIER]}|x|X|\\*`),g("XRANGEPLAIN",`[v=\\s]*(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:${l[c.PRERELEASE]})?${l[c.BUILD]}?)?)?`),g("XRANGEPLAINLOOSE",`[v=\\s]*(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:${l[c.PRERELEASELOOSE]})?${l[c.BUILD]}?)?)?`),g("XRANGE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAIN]}$`),g("XRANGELOOSE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAINLOOSE]}$`),g("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),g("COERCE",`${l[c.COERCEPLAIN]}(?:$|[^\\d])`),g("COERCEFULL",l[c.COERCEPLAIN]+`(?:${l[c.PRERELEASE]})?(?:${l[c.BUILD]})?(?:$|[^\\d])`),g("COERCERTL",l[c.COERCE],!0),g("COERCERTLFULL",l[c.COERCEFULL],!0),g("LONETILDE","(?:~>?)"),g("TILDETRIM",`(\\s*)${l[c.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",g("TILDE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAIN]}$`),g("TILDELOOSE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAINLOOSE]}$`),g("LONECARET","(?:\\^)"),g("CARETTRIM",`(\\s*)${l[c.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",g("CARET",`^${l[c.LONECARET]}${l[c.XRANGEPLAIN]}$`),g("CARETLOOSE",`^${l[c.LONECARET]}${l[c.XRANGEPLAINLOOSE]}$`),g("COMPARATORLOOSE",`^${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]})$|^$`),g("COMPARATOR",`^${l[c.GTLT]}\\s*(${l[c.FULLPLAIN]})$|^$`),g("COMPARATORTRIM",`(\\s*)${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]}|${l[c.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",g("HYPHENRANGE",`^\\s*(${l[c.XRANGEPLAIN]})\\s+-\\s+(${l[c.XRANGEPLAIN]})\\s*$`),g("HYPHENRANGELOOSE",`^\\s*(${l[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[c.XRANGEPLAINLOOSE]})\\s*$`),g("STAR","(<|>)?=?\\s*\\*"),g("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),g("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(U8,U8.exports);var a_=U8.exports;const fVt=Object.freeze({loose:!0}),hVt=Object.freeze({}),pVt=e=>e?typeof e!="object"?fVt:e:hVt;var kW=pVt;const oae=/^[0-9]+$/,dTe=(e,t)=>{const n=oae.test(e),r=oae.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1},mVt=(e,t)=>dTe(t,e);var fTe={compareIdentifiers:dTe,rcompareIdentifiers:mVt};const mk=kO,{MAX_LENGTH:sae,MAX_SAFE_INTEGER:gk}=EO,{safeRe:lae,t:uae}=a_,gVt=kW,{compareIdentifiers:vv}=fTe;let vVt=class fc{constructor(t,n){if(n=gVt(n),t instanceof fc){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>sae)throw new TypeError(`version is longer than ${sae} characters`);mk("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=t.trim().match(n.loose?lae[uae.LOOSE]:lae[uae.FULL]);if(!r)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>gk||this.major<0)throw new TypeError("Invalid major version");if(this.minor>gk||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>gk||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const a=+i;if(a>=0&&a<gk)return a}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(mk("SemVer.compare",this.version,this.options,t),!(t instanceof fc)){if(typeof t=="string"&&t===this.version)return 0;t=new fc(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof fc||(t=new fc(t,this.options)),vv(this.major,t.major)||vv(this.minor,t.minor)||vv(this.patch,t.patch)}comparePre(t){if(t instanceof fc||(t=new fc(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],i=t.prerelease[n];if(mk("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return vv(r,i)}while(++n)}compareBuild(t){t instanceof fc||(t=new fc(t,this.options));let n=0;do{const r=this.build[n],i=t.build[n];if(mk("build compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return vv(r,i)}while(++n)}inc(t,n,r){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(r)?1:0;if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let a=this.prerelease.length;for(;--a>=0;)typeof this.prerelease[a]=="number"&&(this.prerelease[a]++,a=-2);if(a===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let a=[n,i];r===!1&&(a=[n]),vv(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=a):this.prerelease=a}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var ns=vVt;const cae=ns,yVt=(e,t,n=!1)=>{if(e instanceof cae)return e;try{return new cae(e,t)}catch(r){if(!n)return null;throw r}};var Mb=yVt;const bVt=Mb,xVt=(e,t)=>{const n=bVt(e,t);return n?n.version:null};var wVt=xVt;const CVt=Mb,SVt=(e,t)=>{const n=CVt(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null};var _Vt=SVt;const dae=ns,EVt=(e,t,n,r,i)=>{typeof n=="string"&&(i=r,r=n,n=void 0);try{return new dae(e instanceof dae?e.version:e,n).inc(t,r,i).version}catch{return null}};var kVt=EVt;const fae=Mb,TVt=(e,t)=>{const n=fae(e,null,!0),r=fae(t,null,!0),i=n.compare(r);if(i===0)return null;const a=i>0,o=a?n:r,s=a?r:n,l=!!o.prerelease.length;if(!!s.prerelease.length&&!l)return!s.patch&&!s.minor?"major":o.patch?"patch":o.minor?"minor":"major";const d=l?"pre":"";return n.major!==r.major?d+"major":n.minor!==r.minor?d+"minor":n.patch!==r.patch?d+"patch":"prerelease"};var AVt=TVt;const jVt=ns,IVt=(e,t)=>new jVt(e,t).major;var DVt=IVt;const $Vt=ns,OVt=(e,t)=>new $Vt(e,t).minor;var MVt=OVt;const RVt=ns,PVt=(e,t)=>new RVt(e,t).patch;var FVt=PVt;const NVt=Mb,LVt=(e,t)=>{const n=NVt(e,t);return n&&n.prerelease.length?n.prerelease:null};var BVt=LVt;const hae=ns,VVt=(e,t,n)=>new hae(e,n).compare(new hae(t,n));var rc=VVt;const zVt=rc,UVt=(e,t,n)=>zVt(t,e,n);var HVt=UVt;const WVt=rc,GVt=(e,t)=>WVt(e,t,!0);var YVt=GVt;const pae=ns,qVt=(e,t,n)=>{const r=new pae(e,n),i=new pae(t,n);return r.compare(i)||r.compareBuild(i)};var TW=qVt;const KVt=TW,ZVt=(e,t)=>e.sort((n,r)=>KVt(n,r,t));var XVt=ZVt;const JVt=TW,QVt=(e,t)=>e.sort((n,r)=>JVt(r,n,t));var ezt=QVt;const tzt=rc,nzt=(e,t,n)=>tzt(e,t,n)>0;var TO=nzt;const rzt=rc,izt=(e,t,n)=>rzt(e,t,n)<0;var AW=izt;const azt=rc,ozt=(e,t,n)=>azt(e,t,n)===0;var hTe=ozt;const szt=rc,lzt=(e,t,n)=>szt(e,t,n)!==0;var pTe=lzt;const uzt=rc,czt=(e,t,n)=>uzt(e,t,n)>=0;var jW=czt;const dzt=rc,fzt=(e,t,n)=>dzt(e,t,n)<=0;var IW=fzt;const hzt=hTe,pzt=pTe,mzt=TO,gzt=jW,vzt=AW,yzt=IW,bzt=(e,t,n,r)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e===n;case"!==":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e!==n;case"":case"=":case"==":return hzt(e,n,r);case"!=":return pzt(e,n,r);case">":return mzt(e,n,r);case">=":return gzt(e,n,r);case"<":return vzt(e,n,r);case"<=":return yzt(e,n,r);default:throw new TypeError(`Invalid operator: ${t}`)}};var mTe=bzt;const xzt=ns,wzt=Mb,{safeRe:vk,t:yk}=a_,Czt=(e,t)=>{if(e instanceof xzt)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let n=null;if(!t.rtl)n=e.match(t.includePrerelease?vk[yk.COERCEFULL]:vk[yk.COERCE]);else{const l=t.includePrerelease?vk[yk.COERCERTLFULL]:vk[yk.COERCERTL];let c;for(;(c=l.exec(e))&&(!n||n.index+n[0].length!==e.length);)(!n||c.index+c[0].length!==n.index+n[0].length)&&(n=c),l.lastIndex=c.index+c[1].length+c[2].length;l.lastIndex=-1}if(n===null)return null;const r=n[2],i=n[3]||"0",a=n[4]||"0",o=t.includePrerelease&&n[5]?`-${n[5]}`:"",s=t.includePrerelease&&n[6]?`+${n[6]}`:"";return wzt(`${r}.${i}.${a}${o}${s}`,t)};var Szt=Czt;class _zt{constructor(){this.max=1e3,this.map=new Map}get(t){const n=this.map.get(t);if(n!==void 0)return this.map.delete(t),this.map.set(t,n),n}delete(t){return this.map.delete(t)}set(t,n){if(!this.delete(t)&&n!==void 0){if(this.map.size>=this.max){const i=this.map.keys().next().value;this.delete(i)}this.map.set(t,n)}return this}}var Ezt=_zt,q3,mae;function ic(){if(mae)return q3;mae=1;const e=/\s+/g;class t{constructor(M,O){if(O=i(O),M instanceof t)return M.loose===!!O.loose&&M.includePrerelease===!!O.includePrerelease?M:new t(M.raw,O);if(M instanceof a)return this.raw=M.value,this.set=[[M]],this.formatted=void 0,this;if(this.options=O,this.loose=!!O.loose,this.includePrerelease=!!O.includePrerelease,this.raw=M.trim().replace(e," "),this.set=this.raw.split("||").map(F=>this.parseRange(F.trim())).filter(F=>F.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const F=this.set[0];if(this.set=this.set.filter(P=>!v(P[0])),this.set.length===0)this.set=[F];else if(this.set.length>1){for(const P of this.set)if(P.length===1&&b(P[0])){this.set=[P];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let M=0;M<this.set.length;M++){M>0&&(this.formatted+="||");const O=this.set[M];for(let F=0;F<O.length;F++)F>0&&(this.formatted+=" "),this.formatted+=O[F].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(M){const F=((this.options.includePrerelease&&m)|(this.options.loose&&g))+":"+M,P=r.get(F);if(P)return P;const V=this.options.loose,H=V?l[c.HYPHENRANGELOOSE]:l[c.HYPHENRANGE];M=M.replace(H,A(this.options.includePrerelease)),o("hyphen replace",M),M=M.replace(l[c.COMPARATORTRIM],d),o("comparator trim",M),M=M.replace(l[c.TILDETRIM],h),o("tilde trim",M),M=M.replace(l[c.CARETTRIM],p),o("caret trim",M);let W=M.split(" ").map(q=>x(q,this.options)).join(" ").split(/\s+/).map(q=>I(q,this.options));V&&(W=W.filter(q=>(o("loose invalid filter",q,this.options),!!q.match(l[c.COMPARATORLOOSE])))),o("range list",W);const G=new Map,X=W.map(q=>new a(q,this.options));for(const q of X){if(v(q))return[q];G.set(q.value,q)}G.size>1&&G.has("")&&G.delete("");const z=[...G.values()];return r.set(F,z),z}intersects(M,O){if(!(M instanceof t))throw new TypeError("a Range is required");return this.set.some(F=>y(F,O)&&M.set.some(P=>y(P,O)&&F.every(V=>P.every(H=>V.intersects(H,O)))))}test(M){if(!M)return!1;if(typeof M=="string")try{M=new s(M,this.options)}catch{return!1}for(let O=0;O<this.set.length;O++)if($(this.set[O],M,this.options))return!0;return!1}}q3=t;const n=Ezt,r=new n,i=kW,a=AO(),o=kO,s=ns,{safeRe:l,t:c,comparatorTrimReplace:d,tildeTrimReplace:h,caretTrimReplace:p}=a_,{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:g}=EO,v=D=>D.value==="<0.0.0-0",b=D=>D.value==="",y=(D,M)=>{let O=!0;const F=D.slice();let P=F.pop();for(;O&&F.length;)O=F.every(V=>P.intersects(V,M)),P=F.pop();return O},x=(D,M)=>(o("comp",D,M),D=_(D,M),o("caret",D),D=C(D,M),o("tildes",D),D=k(D,M),o("xrange",D),D=j(D,M),o("stars",D),D),w=D=>!D||D.toLowerCase()==="x"||D==="*",C=(D,M)=>D.trim().split(/\s+/).map(O=>S(O,M)).join(" "),S=(D,M)=>{const O=M.loose?l[c.TILDELOOSE]:l[c.TILDE];return D.replace(O,(F,P,V,H,W)=>{o("tilde",D,F,P,V,H,W);let G;return w(P)?G="":w(V)?G=`>=${P}.0.0 <${+P+1}.0.0-0`:w(H)?G=`>=${P}.${V}.0 <${P}.${+V+1}.0-0`:W?(o("replaceTilde pr",W),G=`>=${P}.${V}.${H}-${W} <${P}.${+V+1}.0-0`):G=`>=${P}.${V}.${H} <${P}.${+V+1}.0-0`,o("tilde return",G),G})},_=(D,M)=>D.trim().split(/\s+/).map(O=>E(O,M)).join(" "),E=(D,M)=>{o("caret",D,M);const O=M.loose?l[c.CARETLOOSE]:l[c.CARET],F=M.includePrerelease?"-0":"";return D.replace(O,(P,V,H,W,G)=>{o("caret",D,P,V,H,W,G);let X;return w(V)?X="":w(H)?X=`>=${V}.0.0${F} <${+V+1}.0.0-0`:w(W)?V==="0"?X=`>=${V}.${H}.0${F} <${V}.${+H+1}.0-0`:X=`>=${V}.${H}.0${F} <${+V+1}.0.0-0`:G?(o("replaceCaret pr",G),V==="0"?H==="0"?X=`>=${V}.${H}.${W}-${G} <${V}.${H}.${+W+1}-0`:X=`>=${V}.${H}.${W}-${G} <${V}.${+H+1}.0-0`:X=`>=${V}.${H}.${W}-${G} <${+V+1}.0.0-0`):(o("no pr"),V==="0"?H==="0"?X=`>=${V}.${H}.${W}${F} <${V}.${H}.${+W+1}-0`:X=`>=${V}.${H}.${W}${F} <${V}.${+H+1}.0-0`:X=`>=${V}.${H}.${W} <${+V+1}.0.0-0`),o("caret return",X),X})},k=(D,M)=>(o("replaceXRanges",D,M),D.split(/\s+/).map(O=>T(O,M)).join(" ")),T=(D,M)=>{D=D.trim();const O=M.loose?l[c.XRANGELOOSE]:l[c.XRANGE];return D.replace(O,(F,P,V,H,W,G)=>{o("xRange",D,F,P,V,H,W,G);const X=w(V),z=X||w(H),q=z||w(W),Z=q;return P==="="&&Z&&(P=""),G=M.includePrerelease?"-0":"",X?P===">"||P==="<"?F="<0.0.0-0":F="*":P&&Z?(z&&(H=0),W=0,P===">"?(P=">=",z?(V=+V+1,H=0,W=0):(H=+H+1,W=0)):P==="<="&&(P="<",z?V=+V+1:H=+H+1),P==="<"&&(G="-0"),F=`${P+V}.${H}.${W}${G}`):z?F=`>=${V}.0.0${G} <${+V+1}.0.0-0`:q&&(F=`>=${V}.${H}.0${G} <${V}.${+H+1}.0-0`),o("xRange return",F),F})},j=(D,M)=>(o("replaceStars",D,M),D.trim().replace(l[c.STAR],"")),I=(D,M)=>(o("replaceGTE0",D,M),D.trim().replace(l[M.includePrerelease?c.GTE0PRE:c.GTE0],"")),A=D=>(M,O,F,P,V,H,W,G,X,z,q,Z)=>(w(F)?O="":w(P)?O=`>=${F}.0.0${D?"-0":""}`:w(V)?O=`>=${F}.${P}.0${D?"-0":""}`:H?O=`>=${O}`:O=`>=${O}${D?"-0":""}`,w(X)?G="":w(z)?G=`<${+X+1}.0.0-0`:w(q)?G=`<${X}.${+z+1}.0-0`:Z?G=`<=${X}.${z}.${q}-${Z}`:D?G=`<${X}.${z}.${+q+1}-0`:G=`<=${G}`,`${O} ${G}`.trim()),$=(D,M,O)=>{for(let F=0;F<D.length;F++)if(!D[F].test(M))return!1;if(M.prerelease.length&&!O.includePrerelease){for(let F=0;F<D.length;F++)if(o(D[F].semver),D[F].semver!==a.ANY&&D[F].semver.prerelease.length>0){const P=D[F].semver;if(P.major===M.major&&P.minor===M.minor&&P.patch===M.patch)return!0}return!1}return!0};return q3}var K3,gae;function AO(){if(gae)return K3;gae=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(d,h){if(h=n(h),d instanceof t){if(d.loose===!!h.loose)return d;d=d.value}d=d.trim().split(/\s+/).join(" "),o("comparator",d,h),this.options=h,this.loose=!!h.loose,this.parse(d),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(d){const h=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],p=d.match(h);if(!p)throw new TypeError(`Invalid comparator: ${d}`);this.operator=p[1]!==void 0?p[1]:"",this.operator==="="&&(this.operator=""),p[2]?this.semver=new s(p[2],this.options.loose):this.semver=e}toString(){return this.value}test(d){if(o("Comparator.test",d,this.options.loose),this.semver===e||d===e)return!0;if(typeof d=="string")try{d=new s(d,this.options)}catch{return!1}return a(d,this.operator,this.semver,this.options)}intersects(d,h){if(!(d instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(d.value,h).test(this.value):d.operator===""?d.value===""?!0:new l(this.value,h).test(d.semver):(h=n(h),h.includePrerelease&&(this.value==="<0.0.0-0"||d.value==="<0.0.0-0")||!h.includePrerelease&&(this.value.startsWith("<0.0.0")||d.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&d.operator.startsWith(">")||this.operator.startsWith("<")&&d.operator.startsWith("<")||this.semver.version===d.semver.version&&this.operator.includes("=")&&d.operator.includes("=")||a(this.semver,"<",d.semver,h)&&this.operator.startsWith(">")&&d.operator.startsWith("<")||a(this.semver,">",d.semver,h)&&this.operator.startsWith("<")&&d.operator.startsWith(">")))}}K3=t;const n=kW,{safeRe:r,t:i}=a_,a=mTe,o=kO,s=ns,l=ic();return K3}const kzt=ic(),Tzt=(e,t,n)=>{try{t=new kzt(t,n)}catch{return!1}return t.test(e)};var jO=Tzt;const Azt=ic(),jzt=(e,t)=>new Azt(e,t).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" "));var Izt=jzt;const Dzt=ns,$zt=ic(),Ozt=(e,t,n)=>{let r=null,i=null,a=null;try{a=new $zt(t,n)}catch{return null}return e.forEach(o=>{a.test(o)&&(!r||i.compare(o)===-1)&&(r=o,i=new Dzt(r,n))}),r};var Mzt=Ozt;const Rzt=ns,Pzt=ic(),Fzt=(e,t,n)=>{let r=null,i=null,a=null;try{a=new Pzt(t,n)}catch{return null}return e.forEach(o=>{a.test(o)&&(!r||i.compare(o)===1)&&(r=o,i=new Rzt(r,n))}),r};var Nzt=Fzt;const Z3=ns,Lzt=ic(),vae=TO,Bzt=(e,t)=>{e=new Lzt(e,t);let n=new Z3("0.0.0");if(e.test(n)||(n=new Z3("0.0.0-0"),e.test(n)))return n;n=null;for(let r=0;r<e.set.length;++r){const i=e.set[r];let a=null;i.forEach(o=>{const s=new Z3(o.semver.version);switch(o.operator){case">":s.prerelease.length===0?s.patch++:s.prerelease.push(0),s.raw=s.format();case"":case">=":(!a||vae(s,a))&&(a=s);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),a&&(!n||vae(n,a))&&(n=a)}return n&&e.test(n)?n:null};var Vzt=Bzt;const zzt=ic(),Uzt=(e,t)=>{try{return new zzt(e,t).range||"*"}catch{return null}};var Hzt=Uzt;const Wzt=ns,gTe=AO(),{ANY:Gzt}=gTe,Yzt=ic(),qzt=jO,yae=TO,bae=AW,Kzt=IW,Zzt=jW,Xzt=(e,t,n,r)=>{e=new Wzt(e,r),t=new Yzt(t,r);let i,a,o,s,l;switch(n){case">":i=yae,a=Kzt,o=bae,s=">",l=">=";break;case"<":i=bae,a=Zzt,o=yae,s="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(qzt(e,t,r))return!1;for(let c=0;c<t.set.length;++c){const d=t.set[c];let h=null,p=null;if(d.forEach(m=>{m.semver===Gzt&&(m=new gTe(">=0.0.0")),h=h||m,p=p||m,i(m.semver,h.semver,r)?h=m:o(m.semver,p.semver,r)&&(p=m)}),h.operator===s||h.operator===l||(!p.operator||p.operator===s)&&a(e,p.semver))return!1;if(p.operator===l&&o(e,p.semver))return!1}return!0};var DW=Xzt;const Jzt=DW,Qzt=(e,t,n)=>Jzt(e,t,">",n);var eUt=Qzt;const tUt=DW,nUt=(e,t,n)=>tUt(e,t,"<",n);var rUt=nUt;const xae=ic(),iUt=(e,t,n)=>(e=new xae(e,n),t=new xae(t,n),e.intersects(t,n));var aUt=iUt;const oUt=jO,sUt=rc;var lUt=(e,t,n)=>{const r=[];let i=null,a=null;const o=e.sort((d,h)=>sUt(d,h,n));for(const d of o)oUt(d,t,n)?(a=d,i||(i=d)):(a&&r.push([i,a]),a=null,i=null);i&&r.push([i,null]);const s=[];for(const[d,h]of r)d===h?s.push(d):!h&&d===o[0]?s.push("*"):h?d===o[0]?s.push(`<=${h}`):s.push(`${d} - ${h}`):s.push(`>=${d}`);const l=s.join(" || "),c=typeof t.raw=="string"?t.raw:String(t);return l.length<c.length?l:t};const wae=ic(),$W=AO(),{ANY:X3}=$W,Wx=jO,OW=rc,uUt=(e,t,n={})=>{if(e===t)return!0;e=new wae(e,n),t=new wae(t,n);let r=!1;e:for(const i of e.set){for(const a of t.set){const o=dUt(i,a,n);if(r=r||o!==null,o)continue e}if(r)return!1}return!0},cUt=[new $W(">=0.0.0-0")],Cae=[new $W(">=0.0.0")],dUt=(e,t,n)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===X3){if(t.length===1&&t[0].semver===X3)return!0;n.includePrerelease?e=cUt:e=Cae}if(t.length===1&&t[0].semver===X3){if(n.includePrerelease)return!0;t=Cae}const r=new Set;let i,a;for(const m of e)m.operator===">"||m.operator===">="?i=Sae(i,m,n):m.operator==="<"||m.operator==="<="?a=_ae(a,m,n):r.add(m.semver);if(r.size>1)return null;let o;if(i&&a){if(o=OW(i.semver,a.semver,n),o>0)return null;if(o===0&&(i.operator!==">="||a.operator!=="<="))return null}for(const m of r){if(i&&!Wx(m,String(i),n)||a&&!Wx(m,String(a),n))return null;for(const g of t)if(!Wx(m,String(g),n))return!1;return!0}let s,l,c,d,h=a&&!n.includePrerelease&&a.semver.prerelease.length?a.semver:!1,p=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1;h&&h.prerelease.length===1&&a.operator==="<"&&h.prerelease[0]===0&&(h=!1);for(const m of t){if(d=d||m.operator===">"||m.operator===">=",c=c||m.operator==="<"||m.operator==="<=",i){if(p&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===p.major&&m.semver.minor===p.minor&&m.semver.patch===p.patch&&(p=!1),m.operator===">"||m.operator===">="){if(s=Sae(i,m,n),s===m&&s!==i)return!1}else if(i.operator===">="&&!Wx(i.semver,String(m),n))return!1}if(a){if(h&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===h.major&&m.semver.minor===h.minor&&m.semver.patch===h.patch&&(h=!1),m.operator==="<"||m.operator==="<="){if(l=_ae(a,m,n),l===m&&l!==a)return!1}else if(a.operator==="<="&&!Wx(a.semver,String(m),n))return!1}if(!m.operator&&(a||i)&&o!==0)return!1}return!(i&&c&&!a&&o!==0||a&&d&&!i&&o!==0||p||h)},Sae=(e,t,n)=>{if(!e)return t;const r=OW(e.semver,t.semver,n);return r>0?e:r<0||t.operator===">"&&e.operator===">="?t:e},_ae=(e,t,n)=>{if(!e)return t;const r=OW(e.semver,t.semver,n);return r<0?e:r>0||t.operator==="<"&&e.operator==="<="?t:e};var fUt=uUt;const J3=a_,Eae=EO,hUt=ns,kae=fTe,pUt=Mb,mUt=wVt,gUt=_Vt,vUt=kVt,yUt=AVt,bUt=DVt,xUt=MVt,wUt=FVt,CUt=BVt,SUt=rc,_Ut=HVt,EUt=YVt,kUt=TW,TUt=XVt,AUt=ezt,jUt=TO,IUt=AW,DUt=hTe,$Ut=pTe,OUt=jW,MUt=IW,RUt=mTe,PUt=Szt,FUt=AO(),NUt=ic(),LUt=jO,BUt=Izt,VUt=Mzt,zUt=Nzt,UUt=Vzt,HUt=Hzt,WUt=DW,GUt=eUt,YUt=rUt,qUt=aUt,KUt=lUt,ZUt=fUt;var vTe={parse:pUt,valid:mUt,clean:gUt,inc:vUt,diff:yUt,major:bUt,minor:xUt,patch:wUt,prerelease:CUt,compare:SUt,rcompare:_Ut,compareLoose:EUt,compareBuild:kUt,sort:TUt,rsort:AUt,gt:jUt,lt:IUt,eq:DUt,neq:$Ut,gte:OUt,lte:MUt,cmp:RUt,coerce:PUt,Comparator:FUt,Range:NUt,satisfies:LUt,toComparators:BUt,maxSatisfying:VUt,minSatisfying:zUt,minVersion:UUt,validRange:HUt,outside:WUt,gtr:GUt,ltr:YUt,intersects:qUt,simplifyRange:KUt,subset:ZUt,SemVer:hUt,re:J3.re,src:J3.src,tokens:J3.t,SEMVER_SPEC_VERSION:Eae.SEMVER_SPEC_VERSION,RELEASE_TYPES:Eae.RELEASE_TYPES,compareIdentifiers:kae.compareIdentifiers,rcompareIdentifiers:kae.rcompareIdentifiers};const XUt=Pe(vTe);function JUt(e){f.useEffect(()=>L7t(e.flush),[e.flush]),f.useEffect(()=>N7t(e.endWithBeacon),[e.endWithBeacon])}const yTe=f.createContext(V7t);function QUt(e){let{children:t,store:n}=e;return JUt(n),u.jsx(yTe.Provider,{value:n.logger,children:t})}function Os(){return f.useContext(yTe)}var H8={exports:{}},bTe={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(bTe);var xi=bTe.exports,W8={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r,i){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a]);return r}e.exports=t.default})(W8,W8.exports);var eHt=W8.exports;(function(e,t){var n=xi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=n(eHt);function i(a){return(0,r.default)({},a)}e.exports=t.default})(H8,H8.exports);var tHt=H8.exports;const xTe=Pe(tHt);var G8={exports:{}},Y8={exports:{}},q8={exports:{}},wTe={exports:{}};(function(e){function t(n){"@babel/helpers - typeof";return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(wTe);var CTe=wTe.exports,K8={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r,i){if(i.length<r)throw new TypeError(r+" argument"+(r>1?"s":"")+" required, but only "+i.length+" present")}e.exports=t.default})(K8,K8.exports);var rs=K8.exports;(function(e,t){var n=xi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=n(CTe),i=n(rs);function a(o){return(0,i.default)(1,arguments),o instanceof Date||(0,r.default)(o)==="object"&&Object.prototype.toString.call(o)==="[object Date]"}e.exports=t.default})(q8,q8.exports);var nHt=q8.exports,Z8={exports:{}};(function(e,t){var n=xi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=n(CTe),i=n(rs);function a(o){(0,i.default)(1,arguments);var s=Object.prototype.toString.call(o);return o instanceof Date||(0,r.default)(o)==="object"&&s==="[object Date]"?new Date(o.getTime()):typeof o=="number"||s==="[object Number]"?new Date(o):((typeof o=="string"||s==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}e.exports=t.default})(Z8,Z8.exports);var dd=Z8.exports;(function(e,t){var n=xi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(nHt),i=n(dd),a=n(rs);function o(s){if((0,a.default)(1,arguments),!(0,r.default)(s)&&typeof s!="number")return!1;var l=(0,i.default)(s);return!isNaN(Number(l))}e.exports=t.default})(Y8,Y8.exports);var rHt=Y8.exports,X8={exports:{}},J8={exports:{}},Q8={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){if(r===null||r===!0||r===!1)return NaN;var i=Number(r);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}e.exports=t.default})(Q8,Q8.exports);var R0=Q8.exports;const iHt=Pe(R0);(function(e,t){var n=xi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(R0),i=n(dd),a=n(rs);function o(s,l){(0,a.default)(2,arguments);var c=(0,i.default)(s).getTime(),d=(0,r.default)(l);return new Date(c+d)}e.exports=t.default})(J8,J8.exports);var aHt=J8.exports;(function(e,t){var n=xi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(aHt),i=n(rs),a=n(R0);function o(s,l){(0,i.default)(2,arguments);var c=(0,a.default)(l);return(0,r.default)(s,-c)}e.exports=t.default})(X8,X8.exports);var oHt=X8.exports,e6={exports:{}},t6={exports:{}};(function(e,t){var n=xi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(dd),i=n(rs),a=864e5;function o(s){(0,i.default)(1,arguments);var l=(0,r.default)(s),c=l.getTime();l.setUTCMonth(0,1),l.setUTCHours(0,0,0,0);var d=l.getTime(),h=c-d;return Math.floor(h/a)+1}e.exports=t.default})(t6,t6.exports);var sHt=t6.exports,n6={exports:{}},r6={exports:{}};(function(e,t){var n=xi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=n(dd),i=n(rs);function a(o){(0,i.default)(1,arguments);var s=1,l=(0,r.default)(o),c=l.getUTCDay(),d=(c<s?7:0)+c-s;return l.setUTCDate(l.getUTCDate()-d),l.setUTCHours(0,0,0,0),l}e.exports=t.default})(r6,r6.exports);var MW=r6.exports,i6={exports:{}},a6={exports:{}};(function(e,t){var n=xi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(dd),i=n(rs),a=n(MW);function o(s){(0,i.default)(1,arguments);var l=(0,r.default)(s),c=l.getUTCFullYear(),d=new Date(0);d.setUTCFullYear(c+1,0,4),d.setUTCHours(0,0,0,0);var h=(0,a.default)(d),p=new Date(0);p.setUTCFullYear(c,0,4),p.setUTCHours(0,0,0,0);var m=(0,a.default)(p);return l.getTime()>=h.getTime()?c+1:l.getTime()>=m.getTime()?c:c-1}e.exports=t.default})(a6,a6.exports);var STe=a6.exports;(function(e,t){var n=xi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(STe),i=n(MW),a=n(rs);function o(s){(0,a.default)(1,arguments);var l=(0,r.default)(s),c=new Date(0);c.setUTCFullYear(l,0,4),c.setUTCHours(0,0,0,0);var d=(0,i.default)(c);return d}e.exports=t.default})(i6,i6.exports);var lHt=i6.exports;(function(e,t){var n=xi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var r=n(dd),i=n(MW),a=n(lHt),o=n(rs),s=6048e5;function l(c){(0,o.default)(1,arguments);var d=(0,r.default)(c),h=(0,i.default)(d).getTime()-(0,a.default)(d).getTime();return Math.round(h/s)+1}e.exports=t.default})(n6,n6.exports);var uHt=n6.exports,o6={exports:{}},s6={exports:{}},P0={};Object.defineProperty(P0,"__esModule",{value:!0});P0.getDefaultOptions=cHt;P0.setDefaultOptions=dHt;var _Te={};function cHt(){return _Te}function dHt(e){_Te=e}(function(e,t){var n=xi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=n(dd),i=n(rs),a=n(R0),o=P0;function s(l,c){var d,h,p,m,g,v,b,y;(0,i.default)(1,arguments);var x=(0,o.getDefaultOptions)(),w=(0,a.default)((d=(h=(p=(m=c==null?void 0:c.weekStartsOn)!==null&&m!==void 0?m:c==null||(g=c.locale)===null||g===void 0||(v=g.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&p!==void 0?p:x.weekStartsOn)!==null&&h!==void 0?h:(b=x.locale)===null||b===void 0||(y=b.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&d!==void 0?d:0);if(!(w>=0&&w<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var C=(0,r.default)(l),S=C.getUTCDay(),_=(S<w?7:0)+S-w;return C.setUTCDate(C.getUTCDate()-_),C.setUTCHours(0,0,0,0),C}e.exports=t.default})(s6,s6.exports);var RW=s6.exports,l6={exports:{}},u6={exports:{}};(function(e,t){var n=xi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var r=n(dd),i=n(rs),a=n(RW),o=n(R0),s=P0;function l(c,d){var h,p,m,g,v,b,y,x;(0,i.default)(1,arguments);var w=(0,r.default)(c),C=w.getUTCFullYear(),S=(0,s.getDefaultOptions)(),_=(0,o.default)((h=(p=(m=(g=d==null?void 0:d.firstWeekContainsDate)!==null&&g!==void 0?g:d==null||(v=d.locale)===null||v===void 0||(b=v.options)===null||b===void 0?void 0:b.firstWeekContainsDate)!==null&&m!==void 0?m:S.firstWeekContainsDate)!==null&&p!==void 0?p:(y=S.locale)===null||y===void 0||(x=y.options)===null||x===void 0?void 0:x.firstWeekContainsDate)!==null&&h!==void 0?h:1);if(!(_>=1&&_<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var E=new Date(0);E.setUTCFullYear(C+1,0,_),E.setUTCHours(0,0,0,0);var k=(0,a.default)(E,d),T=new Date(0);T.setUTCFullYear(C,0,_),T.setUTCHours(0,0,0,0);var j=(0,a.default)(T,d);return w.getTime()>=k.getTime()?C+1:w.getTime()>=j.getTime()?C:C-1}e.exports=t.default})(u6,u6.exports);var ETe=u6.exports;(function(e,t){var n=xi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var r=n(ETe),i=n(rs),a=n(RW),o=n(R0),s=P0;function l(c,d){var h,p,m,g,v,b,y,x;(0,i.default)(1,arguments);var w=(0,s.getDefaultOptions)(),C=(0,o.default)((h=(p=(m=(g=d==null?void 0:d.firstWeekContainsDate)!==null&&g!==void 0?g:d==null||(v=d.locale)===null||v===void 0||(b=v.options)===null||b===void 0?void 0:b.firstWeekContainsDate)!==null&&m!==void 0?m:w.firstWeekContainsDate)!==null&&p!==void 0?p:(y=w.locale)===null||y===void 0||(x=y.options)===null||x===void 0?void 0:x.firstWeekContainsDate)!==null&&h!==void 0?h:1),S=(0,r.default)(c,d),_=new Date(0);_.setUTCFullYear(S,0,C),_.setUTCHours(0,0,0,0);var E=(0,a.default)(_,d);return E}e.exports=t.default})(l6,l6.exports);var fHt=l6.exports;(function(e,t){var n=xi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var r=n(dd),i=n(RW),a=n(fHt),o=n(rs),s=6048e5;function l(c,d){(0,o.default)(1,arguments);var h=(0,r.default)(c),p=(0,i.default)(h,d).getTime()-(0,a.default)(h,d).getTime();return Math.round(p/s)+1}e.exports=t.default})(o6,o6.exports);var hHt=o6.exports,c6={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r,i){for(var a=r<0?"-":"",o=Math.abs(r).toString();o.length<i;)o="0"+o;return a+o}e.exports=t.default})(c6,c6.exports);var kTe=c6.exports,d6={exports:{}};(function(e,t){var n=xi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(kTe),i={y:function(s,l){var c=s.getUTCFullYear(),d=c>0?c:1-c;return(0,r.default)(l==="yy"?d%100:d,l.length)},M:function(s,l){var c=s.getUTCMonth();return l==="M"?String(c+1):(0,r.default)(c+1,2)},d:function(s,l){return(0,r.default)(s.getUTCDate(),l.length)},a:function(s,l){var c=s.getUTCHours()/12>=1?"pm":"am";switch(l){case"a":case"aa":return c.toUpperCase();case"aaa":return c;case"aaaaa":return c[0];case"aaaa":default:return c==="am"?"a.m.":"p.m."}},h:function(s,l){return(0,r.default)(s.getUTCHours()%12||12,l.length)},H:function(s,l){return(0,r.default)(s.getUTCHours(),l.length)},m:function(s,l){return(0,r.default)(s.getUTCMinutes(),l.length)},s:function(s,l){return(0,r.default)(s.getUTCSeconds(),l.length)},S:function(s,l){var c=l.length,d=s.getUTCMilliseconds(),h=Math.floor(d*Math.pow(10,c-3));return(0,r.default)(h,l.length)}},a=i;t.default=a,e.exports=t.default})(d6,d6.exports);var pHt=d6.exports;(function(e,t){var n=xi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(sHt),i=n(uHt),a=n(STe),o=n(hHt),s=n(ETe),l=n(kTe),c=n(pHt),d={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},h={G:function(y,x,w){var C=y.getUTCFullYear()>0?1:0;switch(x){case"G":case"GG":case"GGG":return w.era(C,{width:"abbreviated"});case"GGGGG":return w.era(C,{width:"narrow"});case"GGGG":default:return w.era(C,{width:"wide"})}},y:function(y,x,w){if(x==="yo"){var C=y.getUTCFullYear(),S=C>0?C:1-C;return w.ordinalNumber(S,{unit:"year"})}return c.default.y(y,x)},Y:function(y,x,w,C){var S=(0,s.default)(y,C),_=S>0?S:1-S;if(x==="YY"){var E=_%100;return(0,l.default)(E,2)}return x==="Yo"?w.ordinalNumber(_,{unit:"year"}):(0,l.default)(_,x.length)},R:function(y,x){var w=(0,a.default)(y);return(0,l.default)(w,x.length)},u:function(y,x){var w=y.getUTCFullYear();return(0,l.default)(w,x.length)},Q:function(y,x,w){var C=Math.ceil((y.getUTCMonth()+1)/3);switch(x){case"Q":return String(C);case"QQ":return(0,l.default)(C,2);case"Qo":return w.ordinalNumber(C,{unit:"quarter"});case"QQQ":return w.quarter(C,{width:"abbreviated",context:"formatting"});case"QQQQQ":return w.quarter(C,{width:"narrow",context:"formatting"});case"QQQQ":default:return w.quarter(C,{width:"wide",context:"formatting"})}},q:function(y,x,w){var C=Math.ceil((y.getUTCMonth()+1)/3);switch(x){case"q":return String(C);case"qq":return(0,l.default)(C,2);case"qo":return w.ordinalNumber(C,{unit:"quarter"});case"qqq":return w.quarter(C,{width:"abbreviated",context:"standalone"});case"qqqqq":return w.quarter(C,{width:"narrow",context:"standalone"});case"qqqq":default:return w.quarter(C,{width:"wide",context:"standalone"})}},M:function(y,x,w){var C=y.getUTCMonth();switch(x){case"M":case"MM":return c.default.M(y,x);case"Mo":return w.ordinalNumber(C+1,{unit:"month"});case"MMM":return w.month(C,{width:"abbreviated",context:"formatting"});case"MMMMM":return w.month(C,{width:"narrow",context:"formatting"});case"MMMM":default:return w.month(C,{width:"wide",context:"formatting"})}},L:function(y,x,w){var C=y.getUTCMonth();switch(x){case"L":return String(C+1);case"LL":return(0,l.default)(C+1,2);case"Lo":return w.ordinalNumber(C+1,{unit:"month"});case"LLL":return w.month(C,{width:"abbreviated",context:"standalone"});case"LLLLL":return w.month(C,{width:"narrow",context:"standalone"});case"LLLL":default:return w.month(C,{width:"wide",context:"standalone"})}},w:function(y,x,w,C){var S=(0,o.default)(y,C);return x==="wo"?w.ordinalNumber(S,{unit:"week"}):(0,l.default)(S,x.length)},I:function(y,x,w){var C=(0,i.default)(y);return x==="Io"?w.ordinalNumber(C,{unit:"week"}):(0,l.default)(C,x.length)},d:function(y,x,w){return x==="do"?w.ordinalNumber(y.getUTCDate(),{unit:"date"}):c.default.d(y,x)},D:function(y,x,w){var C=(0,r.default)(y);return x==="Do"?w.ordinalNumber(C,{unit:"dayOfYear"}):(0,l.default)(C,x.length)},E:function(y,x,w){var C=y.getUTCDay();switch(x){case"E":case"EE":case"EEE":return w.day(C,{width:"abbreviated",context:"formatting"});case"EEEEE":return w.day(C,{width:"narrow",context:"formatting"});case"EEEEEE":return w.day(C,{width:"short",context:"formatting"});case"EEEE":default:return w.day(C,{width:"wide",context:"formatting"})}},e:function(y,x,w,C){var S=y.getUTCDay(),_=(S-C.weekStartsOn+8)%7||7;switch(x){case"e":return String(_);case"ee":return(0,l.default)(_,2);case"eo":return w.ordinalNumber(_,{unit:"day"});case"eee":return w.day(S,{width:"abbreviated",context:"formatting"});case"eeeee":return w.day(S,{width:"narrow",context:"formatting"});case"eeeeee":return w.day(S,{width:"short",context:"formatting"});case"eeee":default:return w.day(S,{width:"wide",context:"formatting"})}},c:function(y,x,w,C){var S=y.getUTCDay(),_=(S-C.weekStartsOn+8)%7||7;switch(x){case"c":return String(_);case"cc":return(0,l.default)(_,x.length);case"co":return w.ordinalNumber(_,{unit:"day"});case"ccc":return w.day(S,{width:"abbreviated",context:"standalone"});case"ccccc":return w.day(S,{width:"narrow",context:"standalone"});case"cccccc":return w.day(S,{width:"short",context:"standalone"});case"cccc":default:return w.day(S,{width:"wide",context:"standalone"})}},i:function(y,x,w){var C=y.getUTCDay(),S=C===0?7:C;switch(x){case"i":return String(S);case"ii":return(0,l.default)(S,x.length);case"io":return w.ordinalNumber(S,{unit:"day"});case"iii":return w.day(C,{width:"abbreviated",context:"formatting"});case"iiiii":return w.day(C,{width:"narrow",context:"formatting"});case"iiiiii":return w.day(C,{width:"short",context:"formatting"});case"iiii":default:return w.day(C,{width:"wide",context:"formatting"})}},a:function(y,x,w){var C=y.getUTCHours(),S=C/12>=1?"pm":"am";switch(x){case"a":case"aa":return w.dayPeriod(S,{width:"abbreviated",context:"formatting"});case"aaa":return w.dayPeriod(S,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return w.dayPeriod(S,{width:"narrow",context:"formatting"});case"aaaa":default:return w.dayPeriod(S,{width:"wide",context:"formatting"})}},b:function(y,x,w){var C=y.getUTCHours(),S;switch(C===12?S=d.noon:C===0?S=d.midnight:S=C/12>=1?"pm":"am",x){case"b":case"bb":return w.dayPeriod(S,{width:"abbreviated",context:"formatting"});case"bbb":return w.dayPeriod(S,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return w.dayPeriod(S,{width:"narrow",context:"formatting"});case"bbbb":default:return w.dayPeriod(S,{width:"wide",context:"formatting"})}},B:function(y,x,w){var C=y.getUTCHours(),S;switch(C>=17?S=d.evening:C>=12?S=d.afternoon:C>=4?S=d.morning:S=d.night,x){case"B":case"BB":case"BBB":return w.dayPeriod(S,{width:"abbreviated",context:"formatting"});case"BBBBB":return w.dayPeriod(S,{width:"narrow",context:"formatting"});case"BBBB":default:return w.dayPeriod(S,{width:"wide",context:"formatting"})}},h:function(y,x,w){if(x==="ho"){var C=y.getUTCHours()%12;return C===0&&(C=12),w.ordinalNumber(C,{unit:"hour"})}return c.default.h(y,x)},H:function(y,x,w){return x==="Ho"?w.ordinalNumber(y.getUTCHours(),{unit:"hour"}):c.default.H(y,x)},K:function(y,x,w){var C=y.getUTCHours()%12;return x==="Ko"?w.ordinalNumber(C,{unit:"hour"}):(0,l.default)(C,x.length)},k:function(y,x,w){var C=y.getUTCHours();return C===0&&(C=24),x==="ko"?w.ordinalNumber(C,{unit:"hour"}):(0,l.default)(C,x.length)},m:function(y,x,w){return x==="mo"?w.ordinalNumber(y.getUTCMinutes(),{unit:"minute"}):c.default.m(y,x)},s:function(y,x,w){return x==="so"?w.ordinalNumber(y.getUTCSeconds(),{unit:"second"}):c.default.s(y,x)},S:function(y,x){return c.default.S(y,x)},X:function(y,x,w,C){var S=C._originalDate||y,_=S.getTimezoneOffset();if(_===0)return"Z";switch(x){case"X":return m(_);case"XXXX":case"XX":return g(_);case"XXXXX":case"XXX":default:return g(_,":")}},x:function(y,x,w,C){var S=C._originalDate||y,_=S.getTimezoneOffset();switch(x){case"x":return m(_);case"xxxx":case"xx":return g(_);case"xxxxx":case"xxx":default:return g(_,":")}},O:function(y,x,w,C){var S=C._originalDate||y,_=S.getTimezoneOffset();switch(x){case"O":case"OO":case"OOO":return"GMT"+p(_,":");case"OOOO":default:return"GMT"+g(_,":")}},z:function(y,x,w,C){var S=C._originalDate||y,_=S.getTimezoneOffset();switch(x){case"z":case"zz":case"zzz":return"GMT"+p(_,":");case"zzzz":default:return"GMT"+g(_,":")}},t:function(y,x,w,C){var S=C._originalDate||y,_=Math.floor(S.getTime()/1e3);return(0,l.default)(_,x.length)},T:function(y,x,w,C){var S=C._originalDate||y,_=S.getTime();return(0,l.default)(_,x.length)}};function p(b,y){var x=b>0?"-":"+",w=Math.abs(b),C=Math.floor(w/60),S=w%60;if(S===0)return x+String(C);var _=y||"";return x+String(C)+_+(0,l.default)(S,2)}function m(b,y){if(b%60===0){var x=b>0?"-":"+";return x+(0,l.default)(Math.abs(b)/60,2)}return g(b,y)}function g(b,y){var x=y||"",w=b>0?"-":"+",C=Math.abs(b),S=(0,l.default)(Math.floor(C/60),2),_=(0,l.default)(C%60,2);return w+S+x+_}var v=h;t.default=v,e.exports=t.default})(e6,e6.exports);var mHt=e6.exports,f6={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(l,c){switch(l){case"P":return c.date({width:"short"});case"PP":return c.date({width:"medium"});case"PPP":return c.date({width:"long"});case"PPPP":default:return c.date({width:"full"})}},r=function(l,c){switch(l){case"p":return c.time({width:"short"});case"pp":return c.time({width:"medium"});case"ppp":return c.time({width:"long"});case"pppp":default:return c.time({width:"full"})}},i=function(l,c){var d=l.match(/(P+)(p+)?/)||[],h=d[1],p=d[2];if(!p)return n(l,c);var m;switch(h){case"P":m=c.dateTime({width:"short"});break;case"PP":m=c.dateTime({width:"medium"});break;case"PPP":m=c.dateTime({width:"long"});break;case"PPPP":default:m=c.dateTime({width:"full"});break}return m.replace("{{date}}",n(h,c)).replace("{{time}}",r(p,c))},a={p:r,P:i},o=a;t.default=o,e.exports=t.default})(f6,f6.exports);var gHt=f6.exports,h6={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){var i=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return i.setUTCFullYear(r.getFullYear()),r.getTime()-i.getTime()}e.exports=t.default})(h6,h6.exports);var TTe=h6.exports;const Tae=Pe(TTe);var o_={};Object.defineProperty(o_,"__esModule",{value:!0});o_.isProtectedDayOfYearToken=bHt;o_.isProtectedWeekYearToken=xHt;o_.throwProtectedError=wHt;var vHt=["D","DD"],yHt=["YY","YYYY"];function bHt(e){return vHt.indexOf(e)!==-1}function xHt(e){return yHt.indexOf(e)!==-1}function wHt(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var p6={exports:{}},m6={exports:{}},g6={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},r=function(o,s,l){var c,d=n[o];return typeof d=="string"?c=d:s===1?c=d.one:c=d.other.replace("{{count}}",s.toString()),l!=null&&l.addSuffix?l.comparison&&l.comparison>0?"in "+c:c+" ago":c},i=r;t.default=i,e.exports=t.default})(g6,g6.exports);var CHt=g6.exports,v6={exports:{}},y6={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){return function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=i.width?String(i.width):r.defaultWidth,o=r.formats[a]||r.formats[r.defaultWidth];return o}}e.exports=t.default})(y6,y6.exports);var SHt=y6.exports;(function(e,t){var n=xi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(SHt),i={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},a={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},o={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},s={date:(0,r.default)({formats:i,defaultWidth:"full"}),time:(0,r.default)({formats:a,defaultWidth:"full"}),dateTime:(0,r.default)({formats:o,defaultWidth:"full"})},l=s;t.default=l,e.exports=t.default})(v6,v6.exports);var _Ht=v6.exports,b6={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},r=function(o,s,l,c){return n[o]},i=r;t.default=i,e.exports=t.default})(b6,b6.exports);var EHt=b6.exports,x6={exports:{}},w6={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){return function(i,a){var o=a!=null&&a.context?String(a.context):"standalone",s;if(o==="formatting"&&r.formattingValues){var l=r.defaultFormattingWidth||r.defaultWidth,c=a!=null&&a.width?String(a.width):l;s=r.formattingValues[c]||r.formattingValues[l]}else{var d=r.defaultWidth,h=a!=null&&a.width?String(a.width):r.defaultWidth;s=r.values[h]||r.values[d]}var p=r.argumentCallback?r.argumentCallback(i):i;return s[p]}}e.exports=t.default})(w6,w6.exports);var kHt=w6.exports;(function(e,t){var n=xi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(kHt),i={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},a={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},o={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},s={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},l={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},c={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},d=function(g,v){var b=Number(g),y=b%100;if(y>20||y<10)switch(y%10){case 1:return b+"st";case 2:return b+"nd";case 3:return b+"rd"}return b+"th"},h={ordinalNumber:d,era:(0,r.default)({values:i,defaultWidth:"wide"}),quarter:(0,r.default)({values:a,defaultWidth:"wide",argumentCallback:function(g){return g-1}}),month:(0,r.default)({values:o,defaultWidth:"wide"}),day:(0,r.default)({values:s,defaultWidth:"wide"}),dayPeriod:(0,r.default)({values:l,defaultWidth:"wide",formattingValues:c,defaultFormattingWidth:"wide"})},p=h;t.default=p,e.exports=t.default})(x6,x6.exports);var THt=x6.exports,C6={exports:{}},S6={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(a){return function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=s.width,c=l&&a.matchPatterns[l]||a.matchPatterns[a.defaultMatchWidth],d=o.match(c);if(!d)return null;var h=d[0],p=l&&a.parsePatterns[l]||a.parsePatterns[a.defaultParseWidth],m=Array.isArray(p)?i(p,function(b){return b.test(h)}):r(p,function(b){return b.test(h)}),g;g=a.valueCallback?a.valueCallback(m):m,g=s.valueCallback?s.valueCallback(g):g;var v=o.slice(h.length);return{value:g,rest:v}}}function r(a,o){for(var s in a)if(a.hasOwnProperty(s)&&o(a[s]))return s}function i(a,o){for(var s=0;s<a.length;s++)if(o(a[s]))return s}e.exports=t.default})(S6,S6.exports);var AHt=S6.exports,_6={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){return function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.match(r.matchPattern);if(!o)return null;var s=o[0],l=i.match(r.parsePattern);if(!l)return null;var c=r.valueCallback?r.valueCallback(l[0]):l[0];c=a.valueCallback?a.valueCallback(c):c;var d=i.slice(s.length);return{value:c,rest:d}}}e.exports=t.default})(_6,_6.exports);var jHt=_6.exports;(function(e,t){var n=xi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(AHt),i=n(jHt),a=/^(\d+)(th|st|nd|rd)?/i,o=/\d+/i,s={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},l={any:[/^b/i,/^(a|c)/i]},c={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},d={any:[/1/i,/2/i,/3/i,/4/i]},h={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},p={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},m={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},g={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},v={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},b={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},y={ordinalNumber:(0,i.default)({matchPattern:a,parsePattern:o,valueCallback:function(C){return parseInt(C,10)}}),era:(0,r.default)({matchPatterns:s,defaultMatchWidth:"wide",parsePatterns:l,defaultParseWidth:"any"}),quarter:(0,r.default)({matchPatterns:c,defaultMatchWidth:"wide",parsePatterns:d,defaultParseWidth:"any",valueCallback:function(C){return C+1}}),month:(0,r.default)({matchPatterns:h,defaultMatchWidth:"wide",parsePatterns:p,defaultParseWidth:"any"}),day:(0,r.default)({matchPatterns:m,defaultMatchWidth:"wide",parsePatterns:g,defaultParseWidth:"any"}),dayPeriod:(0,r.default)({matchPatterns:v,defaultMatchWidth:"any",parsePatterns:b,defaultParseWidth:"any"})},x=y;t.default=x,e.exports=t.default})(C6,C6.exports);var IHt=C6.exports;(function(e,t){var n=xi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(CHt),i=n(_Ht),a=n(EHt),o=n(THt),s=n(IHt),l={code:"en-US",formatDistance:r.default,formatLong:i.default,formatRelative:a.default,localize:o.default,match:s.default,options:{weekStartsOn:0,firstWeekContainsDate:1}},c=l;t.default=c,e.exports=t.default})(m6,m6.exports);var DHt=m6.exports;(function(e,t){var n=xi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(DHt),i=r.default;t.default=i,e.exports=t.default})(p6,p6.exports);var $Ht=p6.exports;(function(e,t){var n=xi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=w;var r=n(rHt),i=n(oHt),a=n(dd),o=n(mHt),s=n(gHt),l=n(TTe),c=o_,d=n(R0),h=n(rs),p=P0,m=n($Ht),g=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,v=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,b=/^'([^]*?)'?$/,y=/''/g,x=/[a-zA-Z]/;function w(S,_,E){var k,T,j,I,A,$,D,M,O,F,P,V,H,W,G,X,z,q;(0,h.default)(2,arguments);var Z=String(_),K=(0,p.getDefaultOptions)(),J=(k=(T=E==null?void 0:E.locale)!==null&&T!==void 0?T:K.locale)!==null&&k!==void 0?k:m.default,Q=(0,d.default)((j=(I=(A=($=E==null?void 0:E.firstWeekContainsDate)!==null&&$!==void 0?$:E==null||(D=E.locale)===null||D===void 0||(M=D.options)===null||M===void 0?void 0:M.firstWeekContainsDate)!==null&&A!==void 0?A:K.firstWeekContainsDate)!==null&&I!==void 0?I:(O=K.locale)===null||O===void 0||(F=O.options)===null||F===void 0?void 0:F.firstWeekContainsDate)!==null&&j!==void 0?j:1);if(!(Q>=1&&Q<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var re=(0,d.default)((P=(V=(H=(W=E==null?void 0:E.weekStartsOn)!==null&&W!==void 0?W:E==null||(G=E.locale)===null||G===void 0||(X=G.options)===null||X===void 0?void 0:X.weekStartsOn)!==null&&H!==void 0?H:K.weekStartsOn)!==null&&V!==void 0?V:(z=K.locale)===null||z===void 0||(q=z.options)===null||q===void 0?void 0:q.weekStartsOn)!==null&&P!==void 0?P:0);if(!(re>=0&&re<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!J.localize)throw new RangeError("locale must contain localize property");if(!J.formatLong)throw new RangeError("locale must contain formatLong property");var ae=(0,a.default)(S);if(!(0,r.default)(ae))throw new RangeError("Invalid time value");var ne=(0,l.default)(ae),se=(0,i.default)(ae,ne),le={firstWeekContainsDate:Q,weekStartsOn:re,locale:J,_originalDate:ae},oe=Z.match(v).map(function(ge){var _e=ge[0];if(_e==="p"||_e==="P"){var Me=s.default[_e];return Me(ge,J.formatLong)}return ge}).join("").match(g).map(function(ge){if(ge==="''")return"'";var _e=ge[0];if(_e==="'")return C(ge);var Me=o.default[_e];if(Me)return!(E!=null&&E.useAdditionalWeekYearTokens)&&(0,c.isProtectedWeekYearToken)(ge)&&(0,c.throwProtectedError)(ge,_,String(S)),!(E!=null&&E.useAdditionalDayOfYearTokens)&&(0,c.isProtectedDayOfYearToken)(ge)&&(0,c.throwProtectedError)(ge,_,String(S)),Me(se,ge,J.localize,le);if(_e.match(x))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_e+"`");return ge}).join("");return oe}function C(S){var _=S.match(b);return _?_[1].replace(y,"'"):S}e.exports=t.default})(G8,G8.exports);var OHt=G8.exports;const MHt=Pe(OHt);var ATe={exports:{}},jTe={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy=f;function RHt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var PHt=typeof Object.is=="function"?Object.is:RHt,FHt=Cy.useState,NHt=Cy.useEffect,LHt=Cy.useLayoutEffect,BHt=Cy.useDebugValue;function VHt(e,t){var n=t(),r=FHt({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return LHt(function(){i.value=n,i.getSnapshot=t,Q3(i)&&a({inst:i})},[e,n,t]),NHt(function(){return Q3(i)&&a({inst:i}),e(function(){Q3(i)&&a({inst:i})})},[e]),BHt(n),n}function Q3(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!PHt(e,n)}catch{return!0}}function zHt(e,t){return t()}var UHt=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?zHt:VHt;jTe.useSyncExternalStore=Cy.useSyncExternalStore!==void 0?Cy.useSyncExternalStore:UHt;ATe.exports=jTe;var HHt=ATe.exports;let WHt=e=>crypto.getRandomValues(new Uint8Array(e)),GHt=(e,t,n)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,i=-~(1.6*r*t/e.length);return(a=t)=>{let o="";for(;;){let s=n(i),l=i;for(;l--;)if(o+=e[s[l]&r]||"",o.length===a)return o}}},YHt=(e,t=21)=>GHt(e,t,WHt),qHt=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");var KHt=Math.floor,ZHt=Math.random;function XHt(e,t){return e+KHt(ZHt()*(t-e+1))}var JHt=XHt,QHt=JHt;function eWt(e){var t=e.length;return t?e[QHt(0,t-1)]:void 0}var ITe=eWt,tWt=id;function nWt(e,t){return tWt(t,function(n){return e[n]})}var DTe=nWt,rWt=DTe,iWt=Yf;function aWt(e){return e==null?[]:rWt(e,iWt(e))}var $Te=aWt;const oWt=Pe($Te);var sWt=ITe,lWt=$Te;function uWt(e){return sWt(lWt(e))}var cWt=uWt,dWt=ITe,fWt=cWt,hWt=Hi;function pWt(e){var t=hWt(e)?dWt:fWt;return t(e)}var mWt=pWt;const gWt=Pe(mWt);var vWt=function(){function e(n,r){if(typeof n!="function")throw new TypeError("DataLoader must be constructed with a function which accepts "+("Array<key> and returns Promise<Array<value>>, but got: "+n+"."));this._batchLoadFn=n,this._maxBatchSize=wWt(r),this._batchScheduleFn=CWt(r),this._cacheKeyFn=SWt(r),this._cacheMap=_Wt(r),this._batch=null,this.name=EWt(r)}var t=e.prototype;return t.load=function(r){if(r==null)throw new TypeError("The loader.load() function must be called with a value, "+("but got: "+String(r)+"."));var i=bWt(this),a=this._cacheMap,o=this._cacheKeyFn(r);if(a){var s=a.get(o);if(s){var l=i.cacheHits||(i.cacheHits=[]);return new Promise(function(d){l.push(function(){d(s)})})}}i.keys.push(r);var c=new Promise(function(d,h){i.callbacks.push({resolve:d,reject:h})});return a&&a.set(o,c),c},t.loadMany=function(r){if(!OTe(r))throw new TypeError("The loader.loadMany() function must be called with Array<key> "+("but got: "+r+"."));for(var i=[],a=0;a<r.length;a++)i.push(this.load(r[a]).catch(function(o){return o}));return Promise.all(i)},t.clear=function(r){var i=this._cacheMap;if(i){var a=this._cacheKeyFn(r);i.delete(a)}return this},t.clearAll=function(){var r=this._cacheMap;return r&&r.clear(),this},t.prime=function(r,i){var a=this._cacheMap;if(a){var o=this._cacheKeyFn(r);if(a.get(o)===void 0){var s;i instanceof Error?(s=Promise.reject(i),s.catch(function(){})):s=Promise.resolve(i),a.set(o,s)}}return this},e}(),yWt=typeof process=="object"&&typeof process.nextTick=="function"?function(e){eF||(eF=Promise.resolve()),eF.then(function(){process.nextTick(e)})}:typeof setImmediate=="function"?function(e){setImmediate(e)}:function(e){setTimeout(e)},eF;function bWt(e){var t=e._batch;if(t!==null&&!t.hasDispatched&&t.keys.length<e._maxBatchSize)return t;var n={hasDispatched:!1,keys:[],callbacks:[]};return e._batch=n,e._batchScheduleFn(function(){xWt(e,n)}),n}function xWt(e,t){if(t.hasDispatched=!0,t.keys.length===0){E6(t);return}var n;try{n=e._batchLoadFn(t.keys)}catch(r){return tF(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function "+("errored synchronously: "+String(r)+".")))}if(!n||typeof n.then!="function")return tF(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise: "+String(n)+".")));n.then(function(r){if(!OTe(r))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise of an Array: "+String(r)+"."));if(r.length!==t.keys.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys."+(`

Keys:
`+String(t.keys))+(`

Values:
`+String(r)));E6(t);for(var i=0;i<t.callbacks.length;i++){var a=r[i];a instanceof Error?t.callbacks[i].reject(a):t.callbacks[i].resolve(a)}}).catch(function(r){tF(e,t,r)})}function tF(e,t,n){E6(t);for(var r=0;r<t.keys.length;r++)e.clear(t.keys[r]),t.callbacks[r].reject(n)}function E6(e){if(e.cacheHits)for(var t=0;t<e.cacheHits.length;t++)e.cacheHits[t]()}function wWt(e){var t=!e||e.batch!==!1;if(!t)return 1;var n=e&&e.maxBatchSize;if(n===void 0)return 1/0;if(typeof n!="number"||n<1)throw new TypeError("maxBatchSize must be a positive number: "+n);return n}function CWt(e){var t=e&&e.batchScheduleFn;if(t===void 0)return yWt;if(typeof t!="function")throw new TypeError("batchScheduleFn must be a function: "+t);return t}function SWt(e){var t=e&&e.cacheKeyFn;if(t===void 0)return function(n){return n};if(typeof t!="function")throw new TypeError("cacheKeyFn must be a function: "+t);return t}function _Wt(e){var t=!e||e.cache!==!1;if(!t)return null;var n=e&&e.cacheMap;if(n===void 0)return new Map;if(n!==null){var r=["get","set","delete","clear"],i=r.filter(function(a){return n&&typeof n[a]!="function"});if(i.length!==0)throw new TypeError("Custom cacheMap missing methods: "+i.join(", "))}return n}function EWt(e){return e&&e.name?e.name:null}function OTe(e){return typeof e=="object"&&e!==null&&typeof e.length=="number"&&(e.length===0||e.length>0&&Object.prototype.hasOwnProperty.call(e,e.length-1))}var kWt=vWt;const MTe=Pe(kWt);function is(){const e=f.useContext(H9);if(!e)throw new Error("Router: missing context value");return e}function TWt(e){return e.button===0}function AWt(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function PW(e){const{onClick:t,href:n,target:r,replace:i=!1}=e,{navigateUrl:a}=is();return{onClick:f.useCallback(o=>{o.isDefaultPrevented()||n&&(t&&t(o),!(AWt(o)||!TWt(o))&&(r||(o.preventDefault(),a({path:n,replace:i}))))},[n,a,t,i,r])}}function s_(e){const{intent:t,onClick:n,params:r,replace:i,target:a,searchParams:o}=e,{resolveIntentLink:s}=is(),l=f.useMemo(()=>s(t,r,o),[t,r,o,s]),{onClick:c}=PW({href:l,onClick:n,replace:i,target:a});return{onClick:c,href:l}}const pu=f.forwardRef(function(e,t){const{intent:n,params:r,target:i,searchParams:a,...o}=e,{onClick:s,href:l}=s_({intent:n,params:r,target:i,onClick:e.onClick,searchParams:a});return u.jsx("a",{...o,href:l,onClick:s,ref:t,target:i})});f.forwardRef(function(e,t){const{onClick:n,href:r,target:i,replace:a,...o}=e,{onClick:s}=PW({onClick:n,href:r,target:i,replace:a});return u.jsx("a",{...o,onClick:s,href:r,target:i,ref:t})});const jWt=/^[a-zA-Z0-9_-]+$/;function IWt(e){if(!e)return null;if(e.startsWith(":")){const t=e.slice(1);if(!jWt.test(t)){const n=e.includes("*")?" Splats are not supported. Consider using child routes instead":"";console.error(new Error(`Warning: Param segments "${e}" includes invalid characters.${n}`))}return{type:"param",name:t}}return{type:"dir",name:e}}function DWt(e){const[t]=e.split("?"),n=t.split("/").map(IWt).filter(Boolean);return{raw:e,segments:n}}function RTe(e){return Array.isArray(e)?e:e?[e]:[]}function Aae(e){return dr(e)}function nF(e,t,n){return{type:"error",node:e,missingKeys:t,unmappableStateKeys:n}}function rF(e,t,n,r){return{type:"ok",node:e,matchedState:t,searchParams:n,child:r}}function PTe(e,t){if(!t)return rF(e,{},[]);const n=e.scope?t[e.scope]:t,{_searchParams:r=[],...i}=n||{},a=e.route.segments.filter(v=>v.type==="param").map(v=>v.name),o=Aae(i)?Object.keys(i):[],s=cj(o,a),l=Ug(a,s),c=Ug(o,s);if(l.length>0)return nF(e,l,[]);const d=r.map(([v,b])=>[[v],b]),h=Ht(i,s);if(c.length===0)return rF(e,h,d);const p=RTe((typeof e.children=="function"?e.children(Aae(i)?i:{}):e.children)||[]);if(c.length>0&&p.length===0)return nF(e,[],c);const m=Ht(i,c),g=p.map(v=>PTe(v,m)).find(v=>v.type==="ok");return g?rF(e,h,d,g):nF(e,[],c)}function FTe(e,t){const n=[...String(e)];let r="";for(let i=0;i<n.length;i++){const a=n[i];t.includes(a)?r+=a:r+=encodeURIComponent(a)}return r}const k6=hi("state-router");function $Wt(e,t){k6("Resolving path from state %o",t);const n=PTe(e,t);if(n.type==="error"){const o=n.unmappableStateKeys;if(o.length>0)throw new Error(`Unable to find matching route for state. Could not map the following state key${o.length==1?"":"s"} to a valid url: ${o.map(jae).join(", ")}`);const s=n.missingKeys;throw new Error(`Unable to find matching route for state. State object is missing the following key${s.length==1?"":"s"} defined in route: ${s.map(jae).join(", ")}`)}const{path:r,searchParams:i}=NTe(n),a=i.length>0?MWt(i):"";return`/${r.join("/")}${a?`?${a}`:""}`}function OWt(e){return`[${e}]`}function MWt(e){return e.flatMap(([t,n])=>n===void 0?[]:[FWt(RWt(t)),PWt(n)].join("=")).join("&")}function RWt(e){const[t,...n]=e;return n.length>0?[t,...n.map(OWt)].join(""):t}function PWt(e){return FTe(e,"/")}function FWt(e){return FTe(e,"[]")}function NTe(e){const t=e.matchedState,n=e.node.route.segments.map(a=>{if(a.type==="dir")return a.name;const o=e.node.transform&&e.node.transform[a.name];return o?o.toPath(t[a.name]):t[a.name]}),r=e.child?NTe(e.child):void 0,i=r!=null&&r.searchParams?[...e.searchParams,...r.searchParams]:e.searchParams;return{searchParams:NWt(e.node,i),path:[...n||[],...(r==null?void 0:r.path)||[]]}}function NWt(e,t){const n=e.scope;return n&&!e.__unsafe_disableScopedSearchParams?t.map(([r,i])=>[[n,...r],i]):t}function jae(e){return`"${e}"`}function LWt(e){return e.map(([t,n])=>[BWt(t),n])}const iF=1,Iae=0;function BWt(e){const t=[];let n=0,r=Iae;for(;n<e.length;){const i=e.indexOf("[",n);if(i===-1){t.push(e.slice(n,e.length));break}if(r===iF)throw new Error("Nested brackets not supported");r=iF,i>n&&(t.push(e.slice(n,i)),n=i);const a=e.indexOf("]",i);if(a===-1){if(r===iF)throw new Error("Unclosed bracket");break}r=Iae,t.push(e.slice(n+1,a)),n=a+1}return t}function LTe(e,t,n){const r=t.split("/").filter(Boolean),i=e.route.segments.length;if(r.length<i)return null;const a={};if(!e.route.segments.every((p,m)=>{if(p.type==="dir")return p.name===r[m];const g=e.transform&&e.transform[p.name];return a[p.name]=g?g.toState(r[m]):r[m],!0}))return null;const o=r.slice(i);let s=null;const l=typeof e.children=="function"?RTe(e.children(a)):e.children,c=zWt(e.scope,n);if(l.some(p=>{if(p){const m=p.scope?c.filter(([g])=>p.scope===g[0]):c;return s=LTe(p,o.join("/"),m),s}}),o.length>0&&!s)return null;const d=c.flatMap(([p,m])=>p.length===1?[[p[0],m]]:[]),h={...a,...s||{},...d.length>0?{_searchParams:d}:{}};return e.scope?{[e.scope]:h}:h}function VWt(e,t){k6("resolving state from path %s",t);const[n,r]=t.split("?"),i=Array.from(new URLSearchParams(r).entries()),a=LTe(e,n,LWt(i));return k6("resolved: %o",a||null),a||null}function zWt(e,t){return e?t.map(([n,r])=>[n[0]===e?n.slice(1):n,r]):t}function UWt(e){return GWt(e).replace(/\//g,"_").replace(/\+/g,"-").replace(/[=]+$/,"")}function HWt(e){return qWt(e.replace(/-/g,"+").replace(/_/g,"/"))}function WWt(e){return String.fromCharCode(parseInt(e.slice(1),16))}function GWt(e){return btoa(encodeURIComponent(e).replace(/%[0-9A-F]{2}/g,WWt))}function YWt(e){return`%${`00${e.charCodeAt(0).toString(16)}`.slice(-2)}`}function qWt(e){return decodeURIComponent(Array.from(atob(e),YWt).join(""))}function BTe(e=""){const t=decodeURIComponent(e);if(!t)return{};try{return JSON.parse(HWt(t))}catch{}try{return JSON.parse(atob(t))}catch{}try{return JSON.parse(t)}catch{console.warn("Failed to parse JSON parameters")}return{}}function VTe(e){return e?UWt(JSON.stringify(e)):""}function KWt(e){return e.split(";").reduce((t,n)=>{const[r,i]=n.split("=");return t[decodeURIComponent(r)]=decodeURIComponent(i),t},{})}function ZWt(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,n])=>`${encodeURIComponent(t)}=${encodeURIComponent(n)}`).join(";")}const ma={create:(e,t,n)=>Mae($ae(e,t,n)),intents:e=>{const t=JWt(e).join("/");return ma.create(`${t}/:intent`,[ma.create(":params",{transform:{params:{toState:KWt,toPath:ZWt}}},[ma.create(":payload",{transform:{payload:{toState:BTe,toPath:VTe}}})])])},scope(e,t,n,r){const i=$ae(t,n,r);return Mae({...i,scope:e})}};function Dae(e){return Array.isArray(e)||typeof e=="function"?e:e?[e]:[]}function XWt(e){return e&&"_isRoute"in e}function $ae(e,t,n){return typeof e=="object"?e:Array.isArray(t)||typeof t=="function"||XWt(t)?{path:e,children:Dae(t)}:n?{path:e,...t,children:Dae(n)}:{path:e,...t}}function JWt(...e){return e.reduce((t,n)=>t.concat(n.split("/")),[]).filter(Boolean)}const QWt={};function Oae(e){return e.split("/").every(t=>!t)}function Mae(e){const{path:t,scope:n,transform:r,children:i,__unsafe_disableScopedSearchParams:a}=e;if(!t)throw new TypeError("Missing path");const o=DWt(t);return{_isRoute:!0,scope:n,__unsafe_disableScopedSearchParams:a,route:o,children:i||[],transform:r,encode(s){return $Wt(this,s)},decode(s){return VWt(this,s)},isRoot:Oae,isNotFound(s){return this.decode(s)===null},getBasePath(){return this.encode(QWt)},getRedirectBase(s){if(Oae(s)){const l=this.getBasePath();if(s!==l)return l}return null}}}function eGt(e){const{onNavigate:t,router:n,state:r}=e,i=f.useCallback((c,d,h)=>{const[p,m]=Array.isArray(d)?d:[d];return n.encode({intent:c,params:p,payload:m,_searchParams:h})},[n]),a=f.useCallback(c=>n.encode(c),[n]),o=f.useCallback((c,d={})=>{t({path:a(c),replace:d.replace})},[t,a]),s=f.useCallback((c,d,h={})=>{t({path:i(c,d),replace:h.replace})},[t,i]),l=f.useMemo(()=>({navigate:o,navigateIntent:s,navigateUrl:t,resolveIntentLink:i,resolvePathFromState:a,state:r}),[o,s,t,i,a,r]);return u.jsx(H9.Provider,{value:l,children:e.children})}function tGt(e,t,n){return n&&{...e,[t]:n}}function nGt(e){const{children:t,scope:n,__unsafe_disableScopedSearchParams:r}=e,i=is(),{resolvePathFromState:a,navigate:o}=i,s=f.useRef(i.state);s.current=i.state;const l=f.useCallback(p=>{const{_searchParams:m,...g}=p,v=tGt(s.current,n,g);return r?v._searchParams=m:v[n]._searchParams=m,v},[n,r]),c=f.useCallback(p=>a(l(p)),[a,l]),d=f.useCallback((p,m)=>o(l(p),m),[o,l]),h=f.useMemo(()=>{const p=i.state,m={...p[n]||{}};return r&&(m._searchParams=p._searchParams),{...i,navigate:d,resolvePathFromState:c,state:m}},[n,i,d,c,r]);return u.jsx(H9.Provider,{value:h,children:t})}const Rae={};function FW(e){const{onClick:t,replace:n,state:r,target:i,toIndex:a=!1}=e;if(r&&a)throw new Error("Passing both `state` and `toIndex={true}` as props to StateLink is invalid");!r&&!a&&console.error(new Error("No state passed to StateLink. If you want to link to an empty state, its better to use the the `toIndex` property"));const{resolvePathFromState:o}=is(),s=f.useMemo(()=>o(a?Rae:r||Rae),[o,r,a]),{onClick:l}=PW({href:s,onClick:t,replace:n,target:i});return{onClick:l,href:s}}const IO=f.forwardRef(function(e,t){const{onClick:n,replace:r,state:i,target:a,toIndex:o=!1,...s}=e,{onClick:l,href:c}=FW({onClick:n,replace:r,state:i,target:a,toIndex:o});return u.jsx("a",{...s,href:c,onClick:l,ref:t})});function l_(e=kwe){const{state:t}=is();return f.useMemo(()=>e(t),[e,t])}function rGt(e){function t(n){const r=is();return u.jsx(e,{...n,router:r})}return t.displayName=`withRouter(${e.displayName||e.name})`,t}rGt(e=>e.children(e.router));function SC(e,t,n){return Math.min(Math.max(e,n),t)}class iGt extends Error{constructor(t){super(`Failed to parse color: "${t}"`)}}var $w=iGt;function zTe(e){if(typeof e!="string")throw new $w(e);if(e.trim().toLowerCase()==="transparent")return[0,0,0,0];let t=e.trim();t=fGt.test(e)?sGt(e):e;const n=lGt.exec(t);if(n){const o=Array.from(n).slice(1);return[...o.slice(0,3).map(s=>parseInt(MS(s,2),16)),parseInt(MS(o[3]||"f",2),16)/255]}const r=uGt.exec(t);if(r){const o=Array.from(r).slice(1);return[...o.slice(0,3).map(s=>parseInt(s,16)),parseInt(o[3]||"ff",16)/255]}const i=cGt.exec(t);if(i){const o=Array.from(i).slice(1);return[...o.slice(0,3).map(s=>parseInt(s,10)),parseFloat(o[3]||"1")]}const a=dGt.exec(t);if(a){const[o,s,l,c]=Array.from(a).slice(1).map(parseFloat);if(SC(0,100,s)!==s)throw new $w(e);if(SC(0,100,l)!==l)throw new $w(e);return[...hGt(o,s,l),Number.isNaN(c)?1:c]}throw new $w(e)}function aGt(e){let t=5381,n=e.length;for(;n;)t=t*33^e.charCodeAt(--n);return(t>>>0)%2341}const Pae=e=>parseInt(e.replace(/_/g,""),36),oGt="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((e,t)=>{const n=Pae(t.substring(0,3)),r=Pae(t.substring(3)).toString(16);let i="";for(let a=0;a<6-r.length;a++)i+="0";return e[n]=`${i}${r}`,e},{});function sGt(e){const t=e.toLowerCase().trim(),n=oGt[aGt(t)];if(!n)throw new $w(e);return`#${n}`}const MS=(e,t)=>Array.from(Array(t)).map(()=>e).join(""),lGt=new RegExp(`^#${MS("([a-f0-9])",3)}([a-f0-9])?$`,"i"),uGt=new RegExp(`^#${MS("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),cGt=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${MS(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),dGt=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,fGt=/^[a-z]+$/i,Fae=e=>Math.round(e*255),hGt=(e,t,n)=>{let r=n/100;if(t===0)return[r,r,r].map(Fae);const i=(e%360+360)%360/60,a=(1-Math.abs(2*r-1))*(t/100),o=a*(1-Math.abs(i%2-1));let s=0,l=0,c=0;i>=0&&i<1?(s=a,l=o):i>=1&&i<2?(s=o,l=a):i>=2&&i<3?(l=a,c=o):i>=3&&i<4?(l=o,c=a):i>=4&&i<5?(s=o,c=a):i>=5&&i<6&&(s=a,c=o);const d=r-a/2,h=s+d,p=l+d,m=c+d;return[h,p,m].map(Fae)};function pGt(e){const[t,n,r,i]=zTe(e).map((h,p)=>p===3?h:h/255),a=Math.max(t,n,r),o=Math.min(t,n,r),s=(a+o)/2;if(a===o)return[0,0,s,i];const l=a-o,c=s>.5?l/(2-a-o):l/(a+o);return[60*(t===a?(n-r)/l+(n<r?6:0):n===a?(r-t)/l+2:(t-n)/l+4),c,s,i]}function mGt(e,t,n,r){return`hsla(${(e%360).toFixed()}, ${SC(0,100,t*100).toFixed()}%, ${SC(0,100,n*100).toFixed()}%, ${parseFloat(SC(0,1,r).toFixed(3))})`}function UTe(e,t){const[n,r,i,a]=pGt(e);return mGt(n,r,i-t,a)}function T6(e){if(e==="transparent")return 0;function t(a){const o=a/255;return o<=.04045?o/12.92:Math.pow((o+.055)/1.055,2.4)}const[n,r,i]=zTe(e);return .2126*t(n)+.7152*t(r)+.0722*t(i)}function gGt(e,t){const n=T6(e),r=T6(t);return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)}const vGt={decorative:1.5,readable:3,aa:4.5,aaa:7};function Nae(e,t="aa",n="#fff"){return gGt(e,n)<vGt[t]}function yGt(e,t){return UTe(e,-t)}function bGt(e){return T6(e)>.179}function xGt(e){return bGt(e)?"#000":"#fff"}var wGt=NW;NW.displayName="bash";NW.aliases=["shell"];function NW(e){(function(t){var n="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",r={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},i={bash:r,environment:{pattern:RegExp("\\$"+n),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+n),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};t.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+n),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:i},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:r}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:i},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:i.entity}}],environment:{pattern:RegExp("\\$?"+n),alias:"constant"},variable:i.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},r.inside=t.languages.bash;for(var a=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],o=i.variable[1].inside,s=0;s<a.length;s++)o[a[s]]=t.languages.bash[a[s]];t.languages.shell=t.languages.bash})(e)}const CGt=Pe(wGt);var SGt=LW;LW.displayName="json";LW.aliases=["webmanifest"];function LW(e){e.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},e.languages.webmanifest=e.languages.json}const _Gt=Pe(SGt);var EGt=BW;BW.displayName="jsx";BW.aliases=[];function BW(e){(function(t){var n=t.util.clone(t.languages.javascript),r=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,i=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,a=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function o(c,d){return c=c.replace(/<S>/g,function(){return r}).replace(/<BRACES>/g,function(){return i}).replace(/<SPREAD>/g,function(){return a}),RegExp(c,d)}a=o(a).source,t.languages.jsx=t.languages.extend("markup",n),t.languages.jsx.tag.pattern=o(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),t.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,t.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,t.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,t.languages.jsx.tag.inside.comment=n.comment,t.languages.insertBefore("inside","attr-name",{spread:{pattern:o(/<SPREAD>/.source),inside:t.languages.jsx}},t.languages.jsx.tag),t.languages.insertBefore("inside","special-attr",{script:{pattern:o(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:t.languages.jsx}}},t.languages.jsx.tag);var s=function(c){return c?typeof c=="string"?c:typeof c.content=="string"?c.content:c.content.map(s).join(""):""},l=function(c){for(var d=[],h=0;h<c.length;h++){var p=c[h],m=!1;if(typeof p!="string"&&(p.type==="tag"&&p.content[0]&&p.content[0].type==="tag"?p.content[0].content[0].content==="</"?d.length>0&&d[d.length-1].tagName===s(p.content[0].content[1])&&d.pop():p.content[p.content.length-1].content==="/>"||d.push({tagName:s(p.content[0].content[1]),openedBraces:0}):d.length>0&&p.type==="punctuation"&&p.content==="{"?d[d.length-1].openedBraces++:d.length>0&&d[d.length-1].openedBraces>0&&p.type==="punctuation"&&p.content==="}"?d[d.length-1].openedBraces--:m=!0),(m||typeof p=="string")&&d.length>0&&d[d.length-1].openedBraces===0){var g=s(p);h<c.length-1&&(typeof c[h+1]=="string"||c[h+1].type==="plain-text")&&(g+=s(c[h+1]),c.splice(h+1,1)),h>0&&(typeof c[h-1]=="string"||c[h-1].type==="plain-text")&&(g=s(c[h-1])+g,c.splice(h-1,1),h--),c[h]=new t.Token("plain-text",g,null,g)}p.content&&typeof p.content!="string"&&l(p.content)}};t.hooks.add("after-tokenize",function(c){c.language!=="jsx"&&c.language!=="tsx"||l(c.tokens)})})(e)}const kGt=Pe(EGt);var TGt=VW;VW.displayName="typescript";VW.aliases=["ts"];function VW(e){(function(t){t.languages.typescript=t.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),t.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete t.languages.typescript.parameter,delete t.languages.typescript["literal-property"];var n=t.languages.extend("typescript",{});delete n["class-name"],t.languages.typescript["class-name"].inside=n,t.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:n}}}}),t.languages.ts=t.languages.typescript})(e)}const AGt=Pe(TGt),HTe=Object.prototype.toString;function zW(e){switch(HTe.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return t0(e,Error)}}function Rb(e,t){return HTe.call(e)===`[object ${t}]`}function WTe(e){return Rb(e,"ErrorEvent")}function Lae(e){return Rb(e,"DOMError")}function jGt(e){return Rb(e,"DOMException")}function ff(e){return Rb(e,"String")}function UW(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function HW(e){return e===null||UW(e)||typeof e!="object"&&typeof e!="function"}function Sy(e){return Rb(e,"Object")}function DO(e){return typeof Event<"u"&&t0(e,Event)}function IGt(e){return typeof Element<"u"&&t0(e,Element)}function DGt(e){return Rb(e,"RegExp")}function $O(e){return!!(e&&e.then&&typeof e.then=="function")}function $Gt(e){return Sy(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function t0(e,t){try{return e instanceof t}catch{return!1}}function GTe(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function B1(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Bae(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const i=e[r];try{GTe(i)?n.push("[VueViewModel]"):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function OGt(e,t,n=!1){return ff(e)?DGt(t)?t.test(e):ff(t)?n?e===t:e.includes(t):!1:!1}function OO(e,t=[],n=!1){return t.some(r=>OGt(e,r,n))}function MGt(e,t,n=250,r,i,a,o){if(!a.exception||!a.exception.values||!o||!t0(o.originalException,Error))return;const s=a.exception.values.length>0?a.exception.values[a.exception.values.length-1]:void 0;s&&(a.exception.values=RGt(A6(e,t,i,o.originalException,r,a.exception.values,s,0),n))}function A6(e,t,n,r,i,a,o,s){if(a.length>=n+1)return a;let l=[...a];if(t0(r[i],Error)){Vae(o,s);const c=e(t,r[i]),d=l.length;zae(c,i,d,s),l=A6(e,t,n,r[i],i,[c,...l],c,d)}return Array.isArray(r.errors)&&r.errors.forEach((c,d)=>{if(t0(c,Error)){Vae(o,s);const h=e(t,c),p=l.length;zae(h,`errors[${d}]`,p,s),l=A6(e,t,n,c,i,[h,...l],h,p)}}),l}function Vae(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function zae(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function RGt(e,t){return e.map(n=>(n.value&&(n.value=B1(n.value,t)),n))}const bg="8.24.0",Hn=globalThis;function WW(e,t,n){const r=n||Hn,i=r.__SENTRY__=r.__SENTRY__||{},a=i[bg]=i[bg]||{};return a[e]||(a[e]=t())}const GW=Hn,PGt=80;function YTe(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let a=0,o=0;const s=" > ",l=s.length;let c;const d=Array.isArray(t)?t:t.keyAttrs,h=!Array.isArray(t)&&t.maxStringLength||PGt;for(;n&&a++<r&&(c=FGt(n,d),!(c==="html"||a>1&&o+i.length*l+c.length>=h));)i.push(c),o+=c.length,n=n.parentNode;return i.reverse().join(s)}catch{return"<unknown>"}}function FGt(e,t){const n=e,r=[];if(!n||!n.tagName)return"";if(GW.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=t&&t.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(i&&i.length)i.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&ff(o)){const s=o.split(/\s+/);for(const l of s)r.push(`.${l}`)}}const a=["aria-label","type","name","title","alt"];for(const o of a){const s=n.getAttribute(o);s&&r.push(`[${o}="${s}"]`)}return r.join("")}function NGt(){try{return GW.document.location.href}catch{return""}}function LGt(e){if(!GW.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}const u_=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,BGt="Sentry Logger ",j6=["debug","info","warn","error","log","assert","trace"],Bj={};function c_(e){if(!("console"in Hn))return e();const t=Hn.console,n={},r=Object.keys(Bj);r.forEach(i=>{const a=Bj[i];n[i]=t[i],t[i]=a});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function VGt(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return u_?j6.forEach(n=>{t[n]=(...r)=>{e&&c_(()=>{Hn.console[n](`${BGt}[${n}]:`,...r)})}}):j6.forEach(n=>{t[n]=()=>{}}),t}const Bt=VGt(),zGt=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function UGt(e){return e==="http"||e==="https"}function MO(e,t=!1){const{host:n,path:r,pass:i,port:a,projectId:o,protocol:s,publicKey:l}=e;return`${s}://${l}${t&&i?`:${i}`:""}@${n}${a?`:${a}`:""}/${r&&`${r}/`}${o}`}function HGt(e){const t=zGt.exec(e);if(!t){c_(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,i="",a="",o="",s=""]=t.slice(1);let l="",c=s;const d=c.split("/");if(d.length>1&&(l=d.slice(0,-1).join("/"),c=d.pop()),c){const h=c.match(/^\d+/);h&&(c=h[0])}return qTe({host:a,pass:i,path:l,projectId:c,port:o,protocol:n,publicKey:r})}function qTe(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function WGt(e){if(!u_)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(Bt.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?UGt(r)?t&&isNaN(parseInt(t,10))?(Bt.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(Bt.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(Bt.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function GGt(e){const t=typeof e=="string"?HGt(e):qTe(e);if(!(!t||!WGt(t)))return t}class Ic extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}function Ga(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);typeof i=="function"&&KTe(i,r),e[t]=i}function n0(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{u_&&Bt.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function KTe(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,n0(e,"__sentry_original__",t)}catch{}}function YW(e){return e.__sentry_original__}function YGt(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function ZTe(e){if(zW(e))return{message:e.message,name:e.name,stack:e.stack,...Hae(e)};if(DO(e)){const t={type:e.type,target:Uae(e.target),currentTarget:Uae(e.currentTarget),...Hae(e)};return typeof CustomEvent<"u"&&t0(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Uae(e){try{return IGt(e)?YTe(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function Hae(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function qGt(e,t=40){const n=Object.keys(ZTe(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return B1(r,t);for(let i=n.length;i>0;i--){const a=n.slice(0,i).join(", ");if(!(a.length>t))return i===n.length?a:B1(a,t)}return""}function Vl(e){return I6(e,new Map)}function I6(e,t){if(KGt(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const i of Object.keys(e))typeof e[i]<"u"&&(r[i]=I6(e[i],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(i=>{r.push(I6(i,t))}),r}return e}function KGt(e){if(!Sy(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}const XTe=50,r0="?",Wae=/\(error: (.*)\)/,Gae=/captureMessage|captureException/;function JTe(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,i=0)=>{const a=[],o=n.split(`
`);for(let s=r;s<o.length;s++){const l=o[s];if(l.length>1024)continue;const c=Wae.test(l)?l.replace(Wae,"$1"):l;if(!c.match(/\S*Error: /)){for(const d of t){const h=d(c);if(h){a.push(h);break}}if(a.length>=XTe+i)break}}return XGt(a.slice(i))}}function ZGt(e){return Array.isArray(e)?JTe(...e):e}function XGt(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(bk(t).function||"")&&t.pop(),t.reverse(),Gae.test(bk(t).function||"")&&(t.pop(),Gae.test(bk(t).function||"")&&t.pop()),t.slice(0,XTe).map(n=>({...n,filename:n.filename||bk(t).filename,function:n.function||r0}))}function bk(e){return e[e.length-1]||{}}const aF="<anonymous>";function Op(e){try{return!e||typeof e!="function"?aF:e.name||aF}catch{return aF}}function Yae(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const oT={},qae={};function F0(e,t){oT[e]=oT[e]||[],oT[e].push(t)}function N0(e,t){qae[e]||(t(),qae[e]=!0)}function Bu(e,t){const n=e&&oT[e];if(n)for(const r of n)try{r(t)}catch(i){u_&&Bt.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Op(r)}
Error:`,i)}}function JGt(e){const t="console";F0(t,e),N0(t,QGt)}function QGt(){"console"in Hn&&j6.forEach(function(e){e in Hn.console&&Ga(Hn.console,e,function(t){return Bj[e]=t,function(...n){Bu("console",{args:n,level:e});const i=Bj[e];i&&i.apply(Hn.console,n)}})})}const D6=Hn;function QTe(){if(!("fetch"in D6))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function $6(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function eYt(){if(typeof EdgeRuntime=="string")return!0;if(!QTe())return!1;if($6(D6.fetch))return!0;let e=!1;const t=D6.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=$6(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){u_&&Bt.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}const eAe=1e3;function d_(){return Date.now()/eAe}function tYt(){const{performance:e}=Hn;if(!e||!e.now)return d_;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/eAe}const hf=tYt();(()=>{const{performance:e}=Hn;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,a=i<t,o=e.timing&&e.timing.navigationStart,l=typeof o=="number"?Math.abs(o+n-r):t,c=l<t;return a||c?i<=l?e.timeOrigin:o:r})();function nYt(e,t){const n="fetch";F0(n,e),N0(n,()=>rYt(void 0,t))}function rYt(e,t=!1){t&&!eYt()||Ga(Hn,"fetch",function(n){return function(...r){const{method:i,url:a}=iYt(r),o={args:r,fetchData:{method:i,url:a},startTimestamp:hf()*1e3};e||Bu("fetch",{...o});const s=new Error().stack;return n.apply(Hn,r).then(async l=>(e?e(l):Bu("fetch",{...o,endTimestamp:hf()*1e3,response:l}),l),l=>{throw Bu("fetch",{...o,endTimestamp:hf()*1e3,error:l}),zW(l)&&l.stack===void 0&&(l.stack=s,n0(l,"framesToPop",1)),l})}})}function O6(e,t){return!!e&&typeof e=="object"&&!!e[t]}function Kae(e){return typeof e=="string"?e:e?O6(e,"url")?e.url:e.toString?e.toString():"":""}function iYt(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:Kae(n),method:O6(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:Kae(t),method:O6(t,"method")?String(t.method).toUpperCase():"GET"}}let xk=null;function aYt(e){const t="error";F0(t,e),N0(t,oYt)}function oYt(){xk=Hn.onerror,Hn.onerror=function(e,t,n,r,i){return Bu("error",{column:r,error:i,line:n,msg:e,url:t}),xk&&!xk.__SENTRY_LOADER__?xk.apply(this,arguments):!1},Hn.onerror.__SENTRY_INSTRUMENTED__=!0}let wk=null;function sYt(e){const t="unhandledrejection";F0(t,e),N0(t,lYt)}function lYt(){wk=Hn.onunhandledrejection,Hn.onunhandledrejection=function(e){return Bu("unhandledrejection",e),wk&&!wk.__SENTRY_LOADER__?wk.apply(this,arguments):!0},Hn.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function uYt(){return"npm"}function cYt(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(i){if(e)return t.has(i)?!0:(t.add(i),!1);for(let a=0;a<t.length;a++)if(t[a]===i)return!0;return t.push(i),!1}function r(i){if(e)t.delete(i);else for(let a=0;a<t.length;a++)if(t[a]===i){t.splice(a,1);break}}return[n,r]}function Zl(){const e=Hn,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function tAe(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function $h(e){const{message:t,event_id:n}=e;if(t)return t;const r=tAe(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function M6(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],a=i[0]=i[0]||{};a.value||(a.value=t||""),a.type||(a.type=n||"Error")}function RS(e,t){const n=tAe(e);if(!n)return;const r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...t},t&&"data"in t){const a={...i&&i.data,...t.data};n.mechanism.data=a}}function Zae(e){if(e&&e.__sentry_captured__)return!0;try{n0(e,"__sentry_captured__",!0)}catch{}return!1}function nAe(e){return Array.isArray(e)?e:[e]}function Oh(e,t=100,n=1/0){try{return R6("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function rAe(e,t=3,n=100*1024){const r=Oh(e,t);return pYt(r)>n?rAe(e,t-1,n):r}function R6(e,t,n=1/0,r=1/0,i=cYt()){const[a,o]=i;if(t==null||["number","boolean","string"].includes(typeof t)&&!Number.isNaN(t))return t;const s=dYt(e,t);if(!s.startsWith("[object "))return s;if(t.__sentry_skip_normalization__)return t;const l=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(l===0)return s.replace("object ","");if(a(t))return"[Circular ~]";const c=t;if(c&&typeof c.toJSON=="function")try{const m=c.toJSON();return R6("",m,l-1,r,i)}catch{}const d=Array.isArray(t)?[]:{};let h=0;const p=ZTe(t);for(const m in p){if(!Object.prototype.hasOwnProperty.call(p,m))continue;if(h>=r){d[m]="[MaxProperties ~]";break}const g=p[m];d[m]=R6(m,g,l-1,r,i),h++}return o(t),d}function dYt(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(GTe(t))return"[VueViewModel]";if($Gt(t))return"[SyntheticEvent]";if(typeof t=="number"&&t!==t)return"[NaN]";if(typeof t=="function")return`[Function: ${Op(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=fYt(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function fYt(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function hYt(e){return~-encodeURI(e).split(/%..|./).length}function pYt(e){return hYt(JSON.stringify(e))}var Bd;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})(Bd||(Bd={}));function i0(e){return new Ol(t=>{t(e)})}function Vj(e){return new Ol((t,n)=>{n(e)})}class Ol{constructor(t){Ol.prototype.__init.call(this),Ol.prototype.__init2.call(this),Ol.prototype.__init3.call(this),Ol.prototype.__init4.call(this),this._state=Bd.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new Ol((r,i)=>{this._handlers.push([!1,a=>{if(!t)r(a);else try{r(t(a))}catch(o){i(o)}},a=>{if(!n)i(a);else try{r(n(a))}catch(o){i(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Ol((n,r)=>{let i,a;return this.then(o=>{a=!1,i=o,t&&t()},o=>{a=!0,i=o,t&&t()}).then(()=>{if(a){r(i);return}n(i)})})}__init(){this._resolve=t=>{this._setResult(Bd.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(Bd.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===Bd.PENDING){if($O(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===Bd.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===Bd.RESOLVED&&n[1](this._value),this._state===Bd.REJECTED&&n[2](this._value),n[0]=!0)})}}}function mYt(e){const t=[];function n(){return e===void 0||t.length<e}function r(o){return t.splice(t.indexOf(o),1)[0]||Promise.resolve(void 0)}function i(o){if(!n())return Vj(new Ic("Not adding Promise because buffer limit was reached."));const s=o();return t.indexOf(s)===-1&&t.push(s),s.then(()=>r(s)).then(null,()=>r(s).then(null,()=>{})),s}function a(o){return new Ol((s,l)=>{let c=t.length;if(!c)return s(!0);const d=setTimeout(()=>{o&&o>0&&s(!1)},o);t.forEach(h=>{i0(h).then(()=>{--c||(clearTimeout(d),s(!0))},l)})})}return{$:t,add:i,drain:a}}function oF(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const gYt=["fatal","error","warning","log","info","debug"];function vYt(e){return e==="warn"?"warning":gYt.includes(e)?e:"log"}const yYt="sentry-",bYt=/^sentry-/;function xYt(e){const t=wYt(e);if(!t)return;const n=Object.entries(t).reduce((r,[i,a])=>{if(i.match(bYt)){const o=i.slice(yYt.length);r[o]=a}return r},{});if(Object.keys(n).length>0)return n}function wYt(e){if(!(!e||!ff(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=Xae(n);return Object.entries(r).forEach(([i,a])=>{t[i]=a}),t},{}):Xae(e)}function Xae(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function f_(e,t=[]){return[e,t]}function CYt(e,t){const[n,r]=e;return[n,[...r,t]]}function Jae(e,t){const n=e[1];for(const r of n){const i=r[0].type;if(t(r,i))return!0}return!1}function P6(e){return Hn.__SENTRY__&&Hn.__SENTRY__.encodePolyfill?Hn.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function SYt(e){const[t,n]=e;let r=JSON.stringify(t);function i(a){typeof r=="string"?r=typeof a=="string"?r+a:[P6(r),a]:r.push(typeof a=="string"?P6(a):a)}for(const a of n){const[o,s]=a;if(i(`
${JSON.stringify(o)}
`),typeof s=="string"||s instanceof Uint8Array)i(s);else{let l;try{l=JSON.stringify(s)}catch{l=JSON.stringify(Oh(s))}i(l)}}return typeof r=="string"?r:_Yt(r)}function _Yt(e){const t=e.reduce((i,a)=>i+a.length,0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function EYt(e){const t=typeof e.data=="string"?P6(e.data):e.data;return[Vl({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const kYt={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function Qae(e){return kYt[e]}function iAe(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function TYt(e,t,n,r){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:MO(r)},...i&&{trace:Vl({...i})}}}function AYt(e,t,n){const r=[{type:"client_report"},{timestamp:n||d_(),discarded_events:e}];return f_(t?{dsn:t}:{},[r])}const jYt=60*1e3;function IYt(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?jYt:r-t}function DYt(e,t){return e[t]||e.all||0}function $Yt(e,t,n=Date.now()){return DYt(e,t)>n}function OYt(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},a=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(a)for(const s of a.trim().split(",")){const[l,c,,,d]=s.split(":",5),h=parseInt(l,10),p=(isNaN(h)?60:h)*1e3;if(!c)i.all=r+p;else for(const m of c.split(";"))m==="metric_bucket"?(!d||d.split(";").includes("custom"))&&(i[m]=r+p):i[m]=r+p}else o?i.all=r+IYt(o,r):t===429&&(i.all=r+60*1e3);return i}function eoe(){return{traceId:Zl(),spanId:Zl().substring(16)}}const Ck=Hn;function MYt(){const e=Ck.chrome,t=e&&e.app&&e.app.runtime,n="history"in Ck&&!!Ck.history.pushState&&!!Ck.history.replaceState;return!t&&n}const mr=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function RO(){return qW(Hn),Hn}function qW(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||bg,t[bg]=t[bg]||{}}function RYt(e){const t=hf(),n={sid:Zl(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>FYt(n)};return e&&_y(n,e),n}function _y(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||hf(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Zl()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function PYt(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),_y(e,n)}function FYt(e){return Vl({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}const F6="_sentrySpan";function toe(e,t){t?n0(e,F6,t):delete e[F6]}function noe(e){return e[F6]}const NYt=100;class KW{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=eoe()}clone(){const t=new KW;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,toe(t,noe(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&_y(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,i]=n instanceof Af?[n.getScopeData(),n.getRequestSession()]:Sy(n)?[t,t.requestSession]:[],{tags:a,extra:o,user:s,contexts:l,level:c,fingerprint:d=[],propagationContext:h}=r||{};return this._tags={...this._tags,...a},this._extra={...this._extra,...o},this._contexts={...this._contexts,...l},s&&Object.keys(s).length&&(this._user=s),c&&(this._level=c),d.length&&(this._fingerprint=d),h&&(this._propagationContext=h),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,toe(this,void 0),this._attachments=[],this._propagationContext=eoe(),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:NYt;if(r<=0)return this;const i={timestamp:d_(),...t},a=this._breadcrumbs;return a.push(i),this._breadcrumbs=a.length>r?a.slice(-r):a,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:noe(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:Zl();if(!this._client)return Bt.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=r&&r.event_id?r.event_id:Zl();if(!this._client)return Bt.warn("No client configured on scope - will not capture message!"),i;const a=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:a,...r,event_id:i},this),i}captureEvent(t,n){const r=n&&n.event_id?n.event_id:Zl();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(Bt.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const Af=KW;function LYt(){return WW("defaultCurrentScope",()=>new Af)}function BYt(){return WW("defaultIsolationScope",()=>new Af)}class VYt{constructor(t,n){let r;t?r=t:r=new Af;let i;n?i=n:i=new Af,this._stack=[{scope:r}],this._isolationScope=i}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(i){throw this._popScope(),i}return $O(r)?r.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Ey(){const e=RO(),t=qW(e);return t.stack=t.stack||new VYt(LYt(),BYt())}function zYt(e){return Ey().withScope(e)}function UYt(e,t){const n=Ey();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function roe(e){return Ey().withScope(()=>e(Ey().getIsolationScope()))}function HYt(){return{withIsolationScope:roe,withScope:zYt,withSetScope:UYt,withSetIsolationScope:(e,t)=>roe(t),getCurrentScope:()=>Ey().getScope(),getIsolationScope:()=>Ey().getIsolationScope()}}function ZW(e){const t=qW(e);return t.acs?t.acs:HYt()}function Jc(){const e=RO();return ZW(e).getCurrentScope()}function Pb(){const e=RO();return ZW(e).getIsolationScope()}function WYt(){return WW("globalScope",()=>new Af)}function aAe(...e){const t=RO(),n=ZW(t);if(e.length===2){const[r,i]=e;return r?n.withSetScope(r,i):n.withScope(i)}return n.withScope(e[0])}function Sa(){return Jc().getClient()}const GYt="_sentryMetrics";function YYt(e){const t=e[GYt];if(!t)return;const n={};for(const[,[r,i]]of t)(n[r]||(n[r]=[])).push(Vl(i));return n}const qYt="sentry.source",KYt="sentry.sample_rate",ZYt="sentry.op",XYt="sentry.origin",JYt=0,QYt=1,eqt=1;function tqt(e){const{spanId:t,traceId:n}=e.spanContext(),{parent_span_id:r}=zj(e);return Vl({parent_span_id:r,span_id:t,trace_id:n})}function ioe(e){return typeof e=="number"?aoe(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?aoe(e.getTime()):hf()}function aoe(e){return e>9999999999?e/1e3:e}function zj(e){if(rqt(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(nqt(e)){const{attributes:r,startTime:i,name:a,endTime:o,parentSpanId:s,status:l}=e;return Vl({span_id:t,trace_id:n,data:r,description:a,parent_span_id:s,start_timestamp:ioe(i),timestamp:ioe(o)||void 0,status:aqt(l),op:r[ZYt],origin:r[XYt],_metrics_summary:YYt(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function nqt(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function rqt(e){return typeof e.getSpanJSON=="function"}function iqt(e){const{traceFlags:t}=e.spanContext();return t===eqt}function aqt(e){if(!(!e||e.code===JYt))return e.code===QYt?"ok":e.message||"unknown_error"}const oqt="_sentryRootSpan";function oAe(e){return e[oqt]||e}const XW="production",sqt="_frozenDsc";function sAe(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i=Vl({environment:n.environment||XW,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",i),i}function lqt(e){const t=Sa();if(!t)return{};const n=sAe(zj(e).trace_id||"",t),r=oAe(e),i=r[sqt];if(i)return i;const a=r.spanContext().traceState,o=a&&a.get("sentry.dsc"),s=o&&xYt(o);if(s)return s;const l=zj(r),c=l.data||{},d=c[KYt];d!=null&&(n.sample_rate=`${d}`);const h=c[qYt],p=l.description;return h!=="url"&&p&&(n.transaction=p),n.sampled=String(iqt(r)),t.emit("createDsc",n,r),n}function uqt(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(typeof t!="number"||isNaN(t)||t<0||t>1){mr&&Bt.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`);return}return t}function cqt(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function dqt(e,t,n,r){const i=iAe(n),a={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:MO(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return f_(a,[o])}function fqt(e,t,n,r){const i=iAe(n),a=e.type&&e.type!=="replay_event"?e.type:"event";cqt(e,n&&n.sdk);const o=TYt(e,i,r,t);return delete e.sdkProcessingMetadata,f_(o,[[{type:a},e]])}function N6(e,t,n,r=0){return new Ol((i,a)=>{const o=e[r];if(t===null||typeof o!="function")i(t);else{const s=o({...t},n);mr&&o.id&&s===null&&Bt.log(`Event processor "${o.id}" dropped event`),$O(s)?s.then(l=>N6(e,l,n,r+1).then(i)).then(null,a):N6(e,s,n,r+1).then(i).then(null,a)}})}function hqt(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:a}=t;pqt(e,t),r&&vqt(e,r),yqt(e,n),mqt(e,i),gqt(e,a)}function ooe(e,t){const{extra:n,tags:r,user:i,contexts:a,level:o,sdkProcessingMetadata:s,breadcrumbs:l,fingerprint:c,eventProcessors:d,attachments:h,propagationContext:p,transactionName:m,span:g}=t;Gx(e,"extra",n),Gx(e,"tags",r),Gx(e,"user",i),Gx(e,"contexts",a),Gx(e,"sdkProcessingMetadata",s),o&&(e.level=o),m&&(e.transactionName=m),g&&(e.span=g),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),h.length&&(e.attachments=[...e.attachments,...h]),e.propagationContext={...e.propagationContext,...p}}function Gx(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}function pqt(e,t){const{extra:n,tags:r,user:i,contexts:a,level:o,transactionName:s}=t,l=Vl(n);l&&Object.keys(l).length&&(e.extra={...l,...e.extra});const c=Vl(r);c&&Object.keys(c).length&&(e.tags={...c,...e.tags});const d=Vl(i);d&&Object.keys(d).length&&(e.user={...d,...e.user});const h=Vl(a);h&&Object.keys(h).length&&(e.contexts={...h,...e.contexts}),o&&(e.level=o),s&&e.type!=="transaction"&&(e.transaction=s)}function mqt(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function gqt(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function vqt(e,t){e.contexts={trace:tqt(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:lqt(t),...e.sdkProcessingMetadata};const n=oAe(t),r=zj(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function yqt(e,t){e.fingerprint=e.fingerprint?nAe(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}function bqt(e,t,n,r,i,a){const{normalizeDepth:o=3,normalizeMaxBreadth:s=1e3}=e,l={...t,event_id:t.event_id||n.event_id||Zl(),timestamp:t.timestamp||d_()},c=n.integrations||e.integrations.map(b=>b.name);xqt(l,e),Sqt(l,c),i&&i.emit("applyFrameMetadata",t),t.type===void 0&&wqt(l,e.stackParser);const d=Eqt(r,n.captureContext);n.mechanism&&RS(l,n.mechanism);const h=i?i.getEventProcessors():[],p=WYt().getScopeData();if(a){const b=a.getScopeData();ooe(p,b)}if(d){const b=d.getScopeData();ooe(p,b)}const m=[...n.attachments||[],...p.attachments];m.length&&(n.attachments=m),hqt(l,p);const g=[...h,...p.eventProcessors];return N6(g,l,n).then(b=>(b&&Cqt(b),typeof o=="number"&&o>0?_qt(b,o,s):b))}function xqt(e,t){const{environment:n,release:r,dist:i,maxValueLength:a=250}=t;"environment"in e||(e.environment="environment"in t?n:XW),e.release===void 0&&r!==void 0&&(e.release=r),e.dist===void 0&&i!==void 0&&(e.dist=i),e.message&&(e.message=B1(e.message,a));const o=e.exception&&e.exception.values&&e.exception.values[0];o&&o.value&&(o.value=B1(o.value,a));const s=e.request;s&&s.url&&(s.url=B1(s.url,a))}const soe=new WeakMap;function wqt(e,t){const n=Hn._sentryDebugIds;if(!n)return;let r;const i=soe.get(t);i?r=i:(r=new Map,soe.set(t,r));const a=Object.entries(n).reduce((o,[s,l])=>{let c;const d=r.get(s);d?c=d:(c=t(s),r.set(s,c));for(let h=c.length-1;h>=0;h--){const p=c[h];if(p.filename){o[p.filename]=l;break}}return o},{});try{e.exception.values.forEach(o=>{o.stacktrace.frames.forEach(s=>{s.filename&&(s.debug_id=a[s.filename])})})}catch{}}function Cqt(e){const t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?t[i.abs_path]=i.debug_id:i.filename&&(t[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([r,i])=>{n.push({type:"sourcemap",code_file:r,debug_id:i})})}function Sqt(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function _qt(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:Oh(i.data,t,n)}}))},...e.user&&{user:Oh(e.user,t,n)},...e.contexts&&{contexts:Oh(e.contexts,t,n)},...e.extra&&{extra:Oh(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Oh(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(i=>({...i,...i.data&&{data:Oh(i.data,t,n)}}))),r}function Eqt(e,t){if(!t)return e;const n=e?e.clone():new Af;return n.update(t),n}function kqt(e){if(e)return Tqt(e)?{captureContext:e}:jqt(e)?{captureContext:e}:e}function Tqt(e){return e instanceof Af||typeof e=="function"}const Aqt=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function jqt(e){return Object.keys(e).some(t=>Aqt.includes(t))}function lAe(e,t){return Jc().captureException(e,kqt(t))}function uAe(e,t){return Jc().captureEvent(e,t)}function Iqt(e,t){Pb().setContext(e,t)}function Dqt(){return!!Sa()}function loe(e){const t=Sa(),n=Pb(),r=Jc(),{release:i,environment:a=XW}=t&&t.getOptions()||{},{userAgent:o}=Hn.navigator||{},s=RYt({release:i,environment:a,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...e}),l=n.getSession();return l&&l.status==="ok"&&_y(l,{status:"exited"}),cAe(),n.setSession(s),r.setSession(s),s}function cAe(){const e=Pb(),t=Jc(),n=t.getSession()||e.getSession();n&&PYt(n),dAe(),e.setSession(),t.setSession()}function dAe(){const e=Pb(),t=Jc(),n=Sa(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function uoe(e=!1){if(e){cAe();return}dAe()}const $qt="7";function Oqt(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function Mqt(e){return`${Oqt(e)}${e.projectId}/envelope/`}function Rqt(e,t){return YGt({sentry_key:e.publicKey,sentry_version:$qt,...t&&{sentry_client:`${t.name}/${t.version}`}})}function Pqt(e,t,n){return t||`${Mqt(e)}?${Rqt(e,n)}`}const coe=[];function Fqt(e){const t={};return e.forEach(n=>{const{name:r}=n,i=t[r];i&&!i.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function Nqt(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let r;Array.isArray(n)?r=[...t,...n]:typeof n=="function"?r=nAe(n(t)):r=t;const i=Fqt(r),a=i.findIndex(o=>o.name==="Debug");if(a>-1){const[o]=i.splice(a,1);i.push(o)}return i}function Lqt(e,t){const n={};return t.forEach(r=>{r&&fAe(e,r,n)}),n}function doe(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function fAe(e,t,n){if(n[t.name]){mr&&Bt.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,coe.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),coe.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,a)=>r(i,a,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),i=Object.assign((a,o)=>r(a,o,e),{id:t.name});e.addEventProcessor(i)}mr&&Bt.log(`Integration installed: ${t.name}`)}const foe="Not capturing exception because it's already been captured.";class Bqt{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=GGt(t.dsn):mr&&Bt.warn("No DSN provided, client will not send events."),this._dsn){const n=Pqt(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){const i=Zl();if(Zae(t))return mr&&Bt.log(foe),i;const a={event_id:i,...n};return this._process(this.eventFromException(t,a).then(o=>this._captureEvent(o,a,r))),a.event_id}captureMessage(t,n,r,i){const a={event_id:Zl(),...r},o=UW(t)?t:String(t),s=HW(t)?this.eventFromMessage(o,n,a):this.eventFromException(t,a);return this._process(s.then(l=>this._captureEvent(l,a,i))),a.event_id}captureEvent(t,n,r){const i=Zl();if(n&&n.originalException&&Zae(n.originalException))return mr&&Bt.log(foe),i;const a={event_id:i,...n},s=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,a,s||r)),a.event_id}captureSession(t){typeof t.release!="string"?mr&&Bt.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),_y(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(i=>r&&i))):i0(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];fAe(this,t,this._integrations),n||doe(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=fqt(t,this._dsn,this._options._metadata,this._options.tunnel);for(const a of n.attachments||[])r=CYt(r,EYt(a));const i=this.sendEnvelope(r);i&&i.then(a=>this.emit("afterSendEvent",t,a),null)}sendSession(t){const n=dqt(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const i=typeof r=="number"?r:1,a=`${t}:${n}`;mr&&Bt.log(`Recording outcome: "${a}"${i>1?` (${i} times)`:""}`),this._outcomes[a]=(this._outcomes[a]||0)+i}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const i=r.indexOf(n);i>-1&&r.splice(i,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(i=>i(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(mr&&Bt.error("Error while sending event:",n),n)):(mr&&Bt.error("Transport disabled"),i0({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=Lqt(this,t),doe(this,t)}_updateSessionFromEvent(t,n){let r=!1,i=!1;const a=n.exception&&n.exception.values;if(a){i=!0;for(const l of a){const c=l.mechanism;if(c&&c.handled===!1){r=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(_y(t,{...r&&{status:"crashed"},errors:t.errors||Number(i||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Ol(n=>{let r=0;const i=1,a=setInterval(()=>{this._numProcessing==0?(clearInterval(a),n(!0)):(r+=i,t&&r>=t&&(clearInterval(a),n(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,i=Pb()){const a=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",t,n),t.type||i.setLastEventId(t.event_id||n.event_id),bqt(a,t,n,r,this,i).then(s=>{if(s===null)return s;const l={...i.getPropagationContext(),...r?r.getPropagationContext():void 0};if(!(s.contexts&&s.contexts.trace)&&l){const{traceId:d,spanId:h,parentSpanId:p,dsc:m}=l;s.contexts={trace:Vl({trace_id:d,span_id:h,parent_span_id:p}),...s.contexts};const g=m||sAe(d,this);s.sdkProcessingMetadata={dynamicSamplingContext:g,...s.sdkProcessingMetadata}}return s})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(i=>i.event_id,i=>{if(mr){const a=i;a.logLevel==="log"?Bt.log(a.message):Bt.warn(a)}})}_processEvent(t,n,r){const i=this.getOptions(),{sampleRate:a}=i,o=pAe(t),s=hAe(t),l=t.type||"error",c=`before send for type \`${l}\``,d=typeof a>"u"?void 0:uqt(a);if(s&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error",t),Vj(new Ic(`Discarding event because it's not included in the random sample (sampling rate = ${a})`,"log"));const h=l==="replay_event"?"replay":l,m=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,m).then(g=>{if(g===null)throw this.recordDroppedEvent("event_processor",h,t),new Ic("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return g;const b=zqt(this,i,g,n);return Vqt(b,c)}).then(g=>{if(g===null){if(this.recordDroppedEvent("before_send",h,t),o){const x=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",x)}throw new Ic(`${c} returned \`null\`, will not send event.`,"log")}const v=r&&r.getSession();if(!o&&v&&this._updateSessionFromEvent(v,g),o){const y=g.sdkProcessingMetadata&&g.sdkProcessingMetadata.spanCountBeforeProcessing||0,x=g.spans?g.spans.length:0,w=y-x;w>0&&this.recordDroppedEvent("before_send","span",w)}const b=g.transaction_info;if(o&&b&&g.transaction!==t.transaction){const y="custom";g.transaction_info={...b,source:y}}return this.sendEvent(g,n),g}).then(null,g=>{throw g instanceof Ic?g:(this.captureException(g,{data:{__sentry__:!0},originalException:g}),new Ic(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${g}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[i,a]=n.split(":");return{reason:i,category:a,quantity:r}})}_flushOutcomes(){mr&&Bt.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){mr&&Bt.log("No outcomes to send");return}if(!this._dsn){mr&&Bt.log("No dsn provided, will not send outcomes");return}mr&&Bt.log("Sending outcomes:",t);const n=AYt(t,this._options.tunnel&&MO(this._dsn));this.sendEnvelope(n)}}function Vqt(e,t){const n=`${t} must return \`null\` or a valid event.`;if($O(e))return e.then(r=>{if(!Sy(r)&&r!==null)throw new Ic(n);return r},r=>{throw new Ic(`${t} rejected with ${r}`)});if(!Sy(e)&&e!==null)throw new Ic(n);return e}function zqt(e,t,n,r){const{beforeSend:i,beforeSendTransaction:a,beforeSendSpan:o}=t;if(hAe(n)&&i)return i(n,r);if(pAe(n)){if(n.spans&&o){const s=[];for(const l of n.spans){const c=o(l);c?s.push(c):e.recordDroppedEvent("before_send","span")}n.spans=s}if(a){if(n.spans){const s=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:s}}return a(n,r)}}return n}function hAe(e){return e.type===void 0}function pAe(e){return e.type==="transaction"}function Uqt(e,t){t.debug===!0&&(mr?Bt.enable():c_(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),Jc().update(t.initialScope);const r=new e(t);return Hqt(r),r.init(),r}function Hqt(e){Jc().setClient(e)}const Wqt=64;function Gqt(e,t,n=mYt(e.bufferSize||Wqt)){let r={};const i=o=>n.drain(o);function a(o){const s=[];if(Jae(o,(h,p)=>{const m=Qae(p);if($Yt(r,m)){const g=hoe(h,p);e.recordDroppedEvent("ratelimit_backoff",m,g)}else s.push(h)}),s.length===0)return i0({});const l=f_(o[0],s),c=h=>{Jae(l,(p,m)=>{const g=hoe(p,m);e.recordDroppedEvent(h,Qae(m),g)})},d=()=>t({body:SYt(l)}).then(h=>(h.statusCode!==void 0&&(h.statusCode<200||h.statusCode>=300)&&mr&&Bt.warn(`Sentry responded with status code ${h.statusCode} to sent event.`),r=OYt(r,h),h),h=>{throw c("network_error"),h});return n.add(d).then(h=>h,h=>{if(h instanceof Ic)return mr&&Bt.error("Skipped sending event because buffer is full."),c("queue_overflow"),i0({});throw h})}return{send:a,flush:i}}function hoe(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}function mAe(e,t,n=[t],r="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(a=>({name:`${r}:@sentry/${a}`,version:bg})),version:bg}),e._metadata=i}const Yqt=100;function a0(e,t){const n=Sa(),r=Pb();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:a=Yqt}=n.getOptions();if(a<=0)return;const s={timestamp:d_(),...e},l=i?c_(()=>i(s,t)):s;l!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",l,t),r.addBreadcrumb(l,a))}let poe;const qqt="FunctionToString",moe=new WeakMap,Kqt=()=>({name:qqt,setupOnce(){poe=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=YW(this),n=moe.has(Sa())&&t!==void 0?t:this;return poe.apply(n,e)}}catch{}},setup(e){moe.set(e,!0)}}),gAe=Kqt,Zqt=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],Xqt="InboundFilters",Jqt=(e={})=>({name:Xqt,processEvent(t,n,r){const i=r.getOptions(),a=Qqt(e,i);return eKt(t,a)?null:t}}),vAe=Jqt;function Qqt(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:Zqt],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function eKt(e,t){return t.ignoreInternal&&oKt(e)?(mr&&Bt.warn(`Event dropped due to being internal Sentry Error.
Event: ${$h(e)}`),!0):tKt(e,t.ignoreErrors)?(mr&&Bt.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${$h(e)}`),!0):lKt(e)?(mr&&Bt.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${$h(e)}`),!0):nKt(e,t.ignoreTransactions)?(mr&&Bt.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${$h(e)}`),!0):rKt(e,t.denyUrls)?(mr&&Bt.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${$h(e)}.
Url: ${Uj(e)}`),!0):iKt(e,t.allowUrls)?!1:(mr&&Bt.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${$h(e)}.
Url: ${Uj(e)}`),!0)}function tKt(e,t){return e.type||!t||!t.length?!1:aKt(e).some(n=>OO(n,t))}function nKt(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?OO(n,t):!1}function rKt(e,t){if(!t||!t.length)return!1;const n=Uj(e);return n?OO(n,t):!1}function iKt(e,t){if(!t||!t.length)return!0;const n=Uj(e);return n?OO(n,t):!0}function aKt(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),t}function oKt(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function sKt(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Uj(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?sKt(t):null}catch{return mr&&Bt.error(`Cannot extract url for event ${$h(e)}`),null}}function lKt(e){return e.type||!e.exception||!e.exception.values||e.exception.values.length===0?!1:!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value)}const uKt="Dedupe",cKt=()=>{let e;return{name:uKt,processEvent(t){if(t.type)return t;try{if(dKt(t,e))return mr&&Bt.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},yAe=cKt;function dKt(e,t){return t?!!(fKt(e,t)||hKt(e,t)):!1}function fKt(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!xAe(e,t)||!bAe(e,t))}function hKt(e,t){const n=goe(t),r=goe(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!xAe(e,t)||!bAe(e,t))}function bAe(e,t){let n=Yae(e),r=Yae(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let i=0;i<r.length;i++){const a=r[i],o=n[i];if(a.filename!==o.filename||a.lineno!==o.lineno||a.colno!==o.colno||a.function!==o.function)return!1}return!0}function xAe(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function goe(e){return e.exception&&e.exception.values&&e.exception.values[0]}const gr=Hn;let L6=0;function wAe(){return L6>0}function pKt(){L6++,setTimeout(()=>{L6--})}function ky(e,t={},n){if(typeof e!="function")return e;try{const i=e.__sentry_wrapped__;if(i)return i;if(YW(e))return e}catch{return e}const r=function(){const i=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);const a=i.map(o=>ky(o,t));return e.apply(this,a)}catch(a){throw pKt(),aAe(o=>{o.addEventProcessor(s=>(t.mechanism&&(M6(s,void 0,void 0),RS(s,t.mechanism)),s.extra={...s.extra,arguments:i},s)),lAe(a)}),a}};try{for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch{}KTe(r,e),n0(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}const h_=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function JW(e,t){const n=QW(e,t),r={type:t&&t.name,value:bKt(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function mKt(e,t,n,r){const i=Sa(),a=i&&i.getOptions().normalizeDepth,o=_Kt(t),s={__serialized__:rAe(t,a)};if(o)return{exception:{values:[JW(e,o)]},extra:s};const l={exception:{values:[{type:DO(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:CKt(t,{isUnhandledRejection:r})}]},extra:s};if(n){const c=QW(e,n);c.length&&(l.exception.values[0].stacktrace={frames:c})}return l}function sF(e,t){return{exception:{values:[JW(e,t)]}}}function QW(e,t){const n=t.stacktrace||t.stack||"",r=vKt(t),i=yKt(t);try{return e(n,r,i)}catch{}return[]}const gKt=/Minified React error #\d+;/i;function vKt(e){return e&&gKt.test(e.message)?1:0}function yKt(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function bKt(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function xKt(e,t,n,r){const i=n&&n.syntheticException||void 0,a=eG(e,t,i,r);return RS(a),a.level="error",n&&n.event_id&&(a.event_id=n.event_id),i0(a)}function wKt(e,t,n="info",r,i){const a=r&&r.syntheticException||void 0,o=B6(e,t,a,i);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),i0(o)}function eG(e,t,n,r,i){let a;if(WTe(t)&&t.error)return sF(e,t.error);if(Lae(t)||jGt(t)){const o=t;if("stack"in t)a=sF(e,t);else{const s=o.name||(Lae(o)?"DOMError":"DOMException"),l=o.message?`${s}: ${o.message}`:s;a=B6(e,l,n,r),M6(a,l)}return"code"in o&&(a.tags={...a.tags,"DOMException.code":`${o.code}`}),a}return zW(t)?sF(e,t):Sy(t)||DO(t)?(a=mKt(e,t,n,i),RS(a,{synthetic:!0}),a):(a=B6(e,t,n,r),M6(a,`${t}`,void 0),RS(a,{synthetic:!0}),a)}function B6(e,t,n,r){const i={};if(r&&n){const a=QW(e,n);a.length&&(i.exception={values:[{value:t,stacktrace:{frames:a}}]})}if(UW(t)){const{__sentry_template_string__:a,__sentry_template_values__:o}=t;return i.logentry={message:a,params:o},i}return i.message=t,i}function CKt(e,{isUnhandledRejection:t}){const n=qGt(e),r=t?"promise rejection":"exception";return WTe(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:DO(e)?`Event \`${SKt(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function SKt(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function _Kt(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}function EKt(e,{metadata:t,tunnel:n,dsn:r}){const i={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:MO(r)}},a=kKt(e);return f_(i,[a])}function kKt(e){return[{type:"user_report"},e]}class CAe extends Bqt{constructor(t){const n={parentSpanIsAlwaysRootSpan:!0,...t},r=gr.SENTRY_SDK_SOURCE||uYt();mAe(n,"browser",["browser"],r),super(n),n.sendClientReports&&gr.document&&gr.document.addEventListener("visibilitychange",()=>{gr.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return xKt(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return wKt(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){h_&&Bt.warn("SDK not enabled, will not capture user feedback.");return}const n=EKt(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}}const TKt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,ko=Hn,AKt=1e3;let voe,V6,z6;function jKt(e){const t="dom";F0(t,e),N0(t,IKt)}function IKt(){if(!ko.document)return;const e=Bu.bind(null,"dom"),t=yoe(e,!0);ko.document.addEventListener("click",t,!1),ko.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=ko[n]&&ko[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(Ga(r,"addEventListener",function(i){return function(a,o,s){if(a==="click"||a=="keypress")try{const l=this,c=l.__sentry_instrumentation_handlers__=l.__sentry_instrumentation_handlers__||{},d=c[a]=c[a]||{refCount:0};if(!d.handler){const h=yoe(e);d.handler=h,i.call(this,a,h,s)}d.refCount++}catch{}return i.call(this,a,o,s)}}),Ga(r,"removeEventListener",function(i){return function(a,o,s){if(a==="click"||a=="keypress")try{const l=this,c=l.__sentry_instrumentation_handlers__||{},d=c[a];d&&(d.refCount--,d.refCount<=0&&(i.call(this,a,d.handler,s),d.handler=void 0,delete c[a]),Object.keys(c).length===0&&delete l.__sentry_instrumentation_handlers__)}catch{}return i.call(this,a,o,s)}}))})}function DKt(e){if(e.type!==V6)return!1;try{if(!e.target||e.target._sentryId!==z6)return!1}catch{}return!0}function $Kt(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function yoe(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=OKt(n);if($Kt(n.type,r))return;n0(n,"_sentryCaptured",!0),r&&!r._sentryId&&n0(r,"_sentryId",Zl());const i=n.type==="keypress"?"input":n.type;DKt(n)||(e({event:n,name:i,global:t}),V6=n.type,z6=r?r._sentryId:void 0),clearTimeout(voe),voe=ko.setTimeout(()=>{z6=void 0,V6=void 0},AKt)}}function OKt(e){try{return e.target}catch{return null}}let Sk;function SAe(e){const t="history";F0(t,e),N0(t,MKt)}function MKt(){if(!MYt())return;const e=ko.onpopstate;ko.onpopstate=function(...n){const r=ko.location.href,i=Sk;if(Sk=r,Bu("history",{from:i,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){const i=r.length>2?r[2]:void 0;if(i){const a=Sk,o=String(i);Sk=o,Bu("history",{from:a,to:o})}return n.apply(this,r)}}Ga(ko.history,"pushState",t),Ga(ko.history,"replaceState",t)}const sT={};function RKt(e){const t=sT[e];if(t)return t;let n=ko[e];if($6(n))return sT[e]=n.bind(ko);const r=ko.document;if(r&&typeof r.createElement=="function")try{const i=r.createElement("iframe");i.hidden=!0,r.head.appendChild(i);const a=i.contentWindow;a&&a[e]&&(n=a[e]),r.head.removeChild(i)}catch(i){TKt&&Bt.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,i)}return n&&(sT[e]=n.bind(ko))}function boe(e){sT[e]=void 0}const Ow="__sentry_xhr_v3__";function PKt(e){const t="xhr";F0(t,e),N0(t,FKt)}function FKt(){if(!ko.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;Ga(e,"open",function(t){return function(...n){const r=hf()*1e3,i=ff(n[0])?n[0].toUpperCase():void 0,a=NKt(n[1]);if(!i||!a)return t.apply(this,n);this[Ow]={method:i,url:a,request_headers:{}},i==="POST"&&a.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const o=()=>{const s=this[Ow];if(s&&this.readyState===4){try{s.status_code=this.status}catch{}const l={endTimestamp:hf()*1e3,startTimestamp:r,xhr:this};Bu("xhr",l)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?Ga(this,"onreadystatechange",function(s){return function(...l){return o(),s.apply(this,l)}}):this.addEventListener("readystatechange",o),Ga(this,"setRequestHeader",function(s){return function(...l){const[c,d]=l,h=this[Ow];return h&&ff(c)&&ff(d)&&(h.request_headers[c.toLowerCase()]=d),s.apply(this,l)}}),t.apply(this,n)}}),Ga(e,"send",function(t){return function(...n){const r=this[Ow];if(!r)return t.apply(this,n);n[0]!==void 0&&(r.body=n[0]);const i={startTimestamp:hf()*1e3,xhr:this};return Bu("xhr",i),t.apply(this,n)}})}function NKt(e){if(ff(e))return e;try{return e.toString()}catch{}}function _Ae(e,t=RKt("fetch")){let n=0,r=0;function i(a){const o=a.body.length;n+=o,r++;const s={body:a.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return boe("fetch"),Vj("No fetch implementation available");try{return t(e.url,s).then(l=>(n-=o,r--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return boe("fetch"),n-=o,r--,Vj(l)}}return Gqt(e,i)}const LKt=30,BKt=50;function U6(e,t,n,r){const i={filename:e,function:t==="<anonymous>"?r0:t,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}const VKt=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,zKt=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,UKt=/\((\S*)(?::(\d+))(?::(\d+))\)/,HKt=e=>{const t=VKt.exec(e);if(t){const[,r,i,a]=t;return U6(r,r0,+i,+a)}const n=zKt.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const o=UKt.exec(n[2]);o&&(n[2]=o[1],n[3]=o[2],n[4]=o[3])}const[i,a]=kAe(n[1]||r0,n[2]);return U6(a,i,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},WKt=[LKt,HKt],GKt=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,YKt=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,qKt=e=>{const t=GKt.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const a=YKt.exec(t[3]);a&&(t[1]=t[1]||"eval",t[3]=a[1],t[4]=a[2],t[5]="")}let r=t[3],i=t[1]||r0;return[i,r]=kAe(i,r),U6(r,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},KKt=[BKt,qKt],ZKt=[WKt,KKt],EAe=JTe(...ZKt),kAe=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:r0,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},_k=1024,XKt="Breadcrumbs",JKt=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:XKt,setup(n){t.console&&JGt(tZt(n)),t.dom&&jKt(eZt(n,t.dom)),t.xhr&&PKt(nZt(n)),t.fetch&&nYt(rZt(n)),t.history&&SAe(iZt(n)),t.sentry&&n.on("beforeSendEvent",QKt(n))}}},TAe=JKt;function QKt(e){return function(n){Sa()===e&&a0({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:$h(n)},{event:n})}}function eZt(e,t){return function(r){if(Sa()!==e)return;let i,a,o=typeof t=="object"?t.serializeAttribute:void 0,s=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;s&&s>_k&&(h_&&Bt.warn(`\`dom.maxStringLength\` cannot exceed ${_k}, but a value of ${s} was configured. Sentry will use ${_k} instead.`),s=_k),typeof o=="string"&&(o=[o]);try{const c=r.event,d=aZt(c)?c.target:c;i=YTe(d,{keyAttrs:o,maxStringLength:s}),a=LGt(d)}catch{i="<unknown>"}if(i.length===0)return;const l={category:`ui.${r.name}`,message:i};a&&(l.data={"ui.component_name":a}),a0(l,{event:r.event,name:r.name,global:r.global})}}function tZt(e){return function(n){if(Sa()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:vYt(n.level),message:Bae(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${Bae(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;a0(r,{input:n.args,level:n.level})}}function nZt(e){return function(n){if(Sa()!==e)return;const{startTimestamp:r,endTimestamp:i}=n,a=n.xhr[Ow];if(!r||!i||!a)return;const{method:o,url:s,status_code:l,body:c}=a,d={method:o,url:s,status_code:l},h={xhr:n.xhr,input:c,startTimestamp:r,endTimestamp:i};a0({category:"xhr",data:d,type:"http"},h)}}function rZt(e){return function(n){if(Sa()!==e)return;const{startTimestamp:r,endTimestamp:i}=n;if(i&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const a=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:i};a0({category:"fetch",data:a,level:"error",type:"http"},o)}else{const a=n.response,o={...n.fetchData,status_code:a&&a.status},s={input:n.args,response:a,startTimestamp:r,endTimestamp:i};a0({category:"fetch",data:o,type:"http"},s)}}}function iZt(e){return function(n){if(Sa()!==e)return;let r=n.from,i=n.to;const a=oF(gr.location.href);let o=r?oF(r):void 0;const s=oF(i);(!o||!o.path)&&(o=a),a.protocol===s.protocol&&a.host===s.host&&(i=s.relative),a.protocol===o.protocol&&a.host===o.host&&(r=o.relative),a0({category:"navigation",data:{from:r,to:i}})}}function aZt(e){return!!e&&!!e.target}const oZt=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],sZt="BrowserApiErrors",lZt=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:sZt,setupOnce(){t.setTimeout&&Ga(gr,"setTimeout",xoe),t.setInterval&&Ga(gr,"setInterval",xoe),t.requestAnimationFrame&&Ga(gr,"requestAnimationFrame",uZt),t.XMLHttpRequest&&"XMLHttpRequest"in gr&&Ga(XMLHttpRequest.prototype,"send",cZt);const n=t.eventTarget;n&&(Array.isArray(n)?n:oZt).forEach(dZt)}}},AAe=lZt;function xoe(e){return function(...t){const n=t[0];return t[0]=ky(n,{mechanism:{data:{function:Op(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function uZt(e){return function(t){return e.apply(this,[ky(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Op(e)},handled:!1,type:"instrument"}})])}}function cZt(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&Ga(n,i,function(a){const o={mechanism:{data:{function:i,handler:Op(a)},handled:!1,type:"instrument"}},s=YW(a);return s&&(o.mechanism.data.handler=Op(s)),ky(a,o)})}),e.apply(this,t)}}function dZt(e){const t=gr,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(Ga(n,"addEventListener",function(r){return function(i,a,o){try{typeof a.handleEvent=="function"&&(a.handleEvent=ky(a.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Op(a),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[i,ky(a,{mechanism:{data:{function:"addEventListener",handler:Op(a),target:e},handled:!1,type:"instrument"}}),o])}}),Ga(n,"removeEventListener",function(r){return function(i,a,o){const s=a;try{const l=s&&s.__sentry_wrapped__;l&&r.call(this,i,l,o)}catch{}return r.call(this,i,s,o)}}))}const fZt="GlobalHandlers",hZt=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:fZt,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(pZt(n),woe("onerror")),t.onunhandledrejection&&(mZt(n),woe("onunhandledrejection"))}}},jAe=hZt;function pZt(e){aYt(t=>{const{stackParser:n,attachStacktrace:r}=IAe();if(Sa()!==e||wAe())return;const{msg:i,url:a,line:o,column:s,error:l}=t,c=yZt(eG(n,l||i,void 0,r,!1),a,o,s);c.level="error",uAe(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}function mZt(e){sYt(t=>{const{stackParser:n,attachStacktrace:r}=IAe();if(Sa()!==e||wAe())return;const i=gZt(t),a=HW(i)?vZt(i):eG(n,i,void 0,r,!0);a.level="error",uAe(a,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function gZt(e){if(HW(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function vZt(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function yZt(e,t,n,r){const i=e.exception=e.exception||{},a=i.values=i.values||[],o=a[0]=a[0]||{},s=o.stacktrace=o.stacktrace||{},l=s.frames=s.frames||[],c=isNaN(parseInt(r,10))?void 0:r,d=isNaN(parseInt(n,10))?void 0:n,h=ff(t)&&t.length>0?t:NGt();return l.length===0&&l.push({colno:c,filename:h,function:r0,in_app:!0,lineno:d}),e}function woe(e){h_&&Bt.log(`Global Handler attached: ${e}`)}function IAe(){const e=Sa();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const DAe=()=>({name:"HttpContext",preprocessEvent(e){if(!gr.navigator&&!gr.location&&!gr.document)return;const t=e.request&&e.request.url||gr.location&&gr.location.href,{referrer:n}=gr.document||{},{userAgent:r}=gr.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},a={...e.request,...t&&{url:t},headers:i};e.request=a}}),bZt="cause",xZt=5,wZt="LinkedErrors",CZt=(e={})=>{const t=e.limit||xZt,n=e.key||bZt;return{name:wZt,preprocessEvent(r,i,a){const o=a.getOptions();MGt(JW,o.stackParser,o.maxValueLength,n,t,r,i)}}},$Ae=CZt;function SZt(e){return[vAe(),gAe(),AAe(),TAe(),jAe(),$Ae(),yAe(),DAe()]}function _Zt(e={}){return{...{defaultIntegrations:SZt(),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:gr.SENTRY_RELEASE&&gr.SENTRY_RELEASE.id?gr.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0},...e}}function EZt(){const e=typeof gr.window<"u"&&gr;if(!e)return!1;const t=e.chrome?"chrome":"browser",n=e[t],r=n&&n.runtime&&n.runtime.id,i=gr.location&&gr.location.href||"",a=["chrome-extension:","moz-extension:","ms-browser-extension:"],o=!!r&&gr===gr.top&&a.some(l=>i.startsWith(`${l}//`)),s=typeof e.nw<"u";return!!r&&!o&&!s}function kZt(e={}){const t=_Zt(e);if(EZt()){c_(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}h_&&(QTe()||Bt.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const n={...t,stackParser:ZGt(t.stackParser||EAe),integrations:Nqt(t),transport:t.transport||_Ae},r=Uqt(CAe,n);return t.autoSessionTracking&&TZt(),r}function TZt(){if(typeof gr.document>"u"){h_&&Bt.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}loe({ignoreDuration:!0}),uoe(),SAe(({from:e,to:t})=>{e!==void 0&&e!==t&&(loe({ignoreDuration:!0}),uoe())})}function AZt(e){const t={...e};return mAe(t,"react"),Iqt("react",{version:f.version}),kZt(t)}var Mc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Mc||(Mc={}));var Hj=function(e){return e},Coe="beforeunload",jZt="popstate";function IZt(e){e===void 0&&(e={});var t=e,n=t.window,r=n===void 0?document.defaultView:n,i=r.history;function a(){var E=r.location,k=E.pathname,T=E.search,j=E.hash,I=i.state||{};return[I.idx,Hj({pathname:k,search:T,hash:j,state:I.usr||null,key:I.key||"default"})]}var o=null;function s(){if(o)m.call(o),o=null;else{var E=Mc.Pop,k=a(),T=k[0],j=k[1];if(m.length){if(T!=null){var I=d-T;I&&(o={action:E,location:j,retry:function(){S(I*-1)}},S(I))}}else x(E)}}r.addEventListener(jZt,s);var l=Mc.Pop,c=a(),d=c[0],h=c[1],p=Wj(),m=Wj();d==null&&(d=0,i.replaceState(_f({},i.state,{idx:d}),""));function g(E){return typeof E=="string"?E:OAe(E)}function v(E,k){return k===void 0&&(k=null),Hj(_f({pathname:h.pathname,hash:"",search:""},typeof E=="string"?W6(E):E,{state:k,key:H6()}))}function b(E,k){return[{usr:E.state,key:E.key,idx:k},g(E)]}function y(E,k,T){return!m.length||(m.call({action:E,location:k,retry:T}),!1)}function x(E){l=E;var k=a();d=k[0],h=k[1],p.call({action:l,location:h})}function w(E,k){var T=Mc.Push,j=v(E,k);function I(){w(E,k)}if(y(T,j,I)){var A=b(j,d+1),$=A[0],D=A[1];try{i.pushState($,"",D)}catch{r.location.assign(D)}x(T)}}function C(E,k){var T=Mc.Replace,j=v(E,k);function I(){C(E,k)}if(y(T,j,I)){var A=b(j,d),$=A[0],D=A[1];i.replaceState($,"",D),x(T)}}function S(E){i.go(E)}var _={get action(){return l},get location(){return h},createHref:g,push:w,replace:C,go:S,back:function(){S(-1)},forward:function(){S(1)},listen:function(k){return p.push(k)},block:function(k){var T=m.push(k);return m.length===1&&r.addEventListener(Coe,_oe),function(){T(),m.length||r.removeEventListener(Coe,_oe)}}};return _}function DZt(e){e===void 0&&(e={});var t=e,n=t.initialEntries,r=n===void 0?["/"]:n,i=t.initialIndex,a=r.map(function(w){var C=Hj(_f({pathname:"/",search:"",hash:"",state:null,key:H6()},typeof w=="string"?W6(w):w));return C}),o=Soe(i??a.length-1,0,a.length-1),s=Mc.Pop,l=a[o],c=Wj(),d=Wj();function h(w){return typeof w=="string"?w:OAe(w)}function p(w,C){return C===void 0&&(C=null),Hj(_f({pathname:l.pathname,search:"",hash:""},typeof w=="string"?W6(w):w,{state:C,key:H6()}))}function m(w,C,S){return!d.length||(d.call({action:w,location:C,retry:S}),!1)}function g(w,C){s=w,l=C,c.call({action:s,location:l})}function v(w,C){var S=Mc.Push,_=p(w,C);function E(){v(w,C)}m(S,_,E)&&(o+=1,a.splice(o,a.length,_),g(S,_))}function b(w,C){var S=Mc.Replace,_=p(w,C);function E(){b(w,C)}m(S,_,E)&&(a[o]=_,g(S,_))}function y(w){var C=Soe(o+w,0,a.length-1),S=Mc.Pop,_=a[C];function E(){y(w)}m(S,_,E)&&(o=C,g(S,_))}var x={get index(){return o},get action(){return s},get location(){return l},createHref:h,push:v,replace:b,go:y,back:function(){y(-1)},forward:function(){y(1)},listen:function(C){return c.push(C)},block:function(C){return d.push(C)}};return x}function Soe(e,t,n){return Math.min(Math.max(e,t),n)}function _oe(e){e.preventDefault(),e.returnValue=""}function Wj(){var e=[];return{get length(){return e.length},push:function(n){return e.push(n),function(){e=e.filter(function(r){return r!==n})}},call:function(n){e.forEach(function(r){return r&&r(n)})}}}function H6(){return Math.random().toString(36).substr(2,8)}function OAe(e){var t=e.pathname,n=t===void 0?"/":t,r=e.search,i=r===void 0?"":r,a=e.hash,o=a===void 0?"":a;return i&&i!=="?"&&(n+=i.charAt(0)==="?"?i:"?"+i),o&&o!=="#"&&(n+=o.charAt(0)==="#"?o:"#"+o),n}function W6(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var MAe={exports:{}},RAe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_=f;function $Zt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var OZt=typeof Object.is=="function"?Object.is:$Zt,MZt=p_.useSyncExternalStore,RZt=p_.useRef,PZt=p_.useEffect,FZt=p_.useMemo,NZt=p_.useDebugValue;RAe.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=RZt(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=FZt(function(){function l(m){if(!c){if(c=!0,d=m,m=r(m),i!==void 0&&o.hasValue){var g=o.value;if(i(g,m))return h=g}return h=m}if(g=h,OZt(d,m))return g;var v=r(m);return i!==void 0&&i(g,v)?g:(d=m,h=v)}var c=!1,d,h,p=n===void 0?null:n;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,n,r,i]);var s=MZt(e,a[0],a[1]);return PZt(function(){o.hasValue=!0,o.value=s},[s]),NZt(s),s};MAe.exports=RAe;var tG=MAe.exports,LZt=du,PAe=/[\\^$.*+?()[\]{}|]/g,BZt=RegExp(PAe.source);function VZt(e){return e=LZt(e),e&&BZt.test(e)?e.replace(PAe,"\\$&"):e}var zZt=VZt;const nG=Pe(zZt);var Gj=globalThis&&globalThis.__assign||function(){return Gj=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Gj.apply(this,arguments)},UZt=YHt("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-",20),HZt="♥";function Eoe(e,t,n){return JSON.stringify({jsonrpc:"2.0",method:e,params:GZt(t,"v1"),id:n})}function WZt(e){try{return[null,JSON.parse(e)]}catch(t){return t instanceof Error?[t]:[new Error("".concat(t))]}}function GZt(e,t){return Gj(Gj({},e),{apiVersion:t})}var YZt=function(e,t){t===void 0&&(t={});var n=t.token$,r=t.getNextRequestId,i=r===void 0?UZt:r,a=xU(e.pipe(mt(function(m){return Io(m,"message")})),function(m){return m.data===HZt}),o=a[0],s=a[1],l=s.pipe(It(function(m){var g=WZt(m.data),v=g[0],b=g[1];return v?(console.warn("Unable to parse message: %s",v.message),nr):!b||!b.jsonrpc?(console.warn("Received empty or non-jsonrpc message: %s",b),nr):xe(b)}),Yo()),c=n?aa([n,e]).pipe(xr(function(m,g){var v=m[0],b=m[1],y=g[0],x=g[1];return v===y&&b===x}),mt(function(m){var g=m[0],v=m[1];return g?d(v,"authorization",{authorization:"Bearer ".concat(g)}).pipe($a(1),E$(v)):xe(v)}),oa({refCount:!0,bufferSize:1})):e;function d(m,g,v){v===void 0&&(v={});var b=i();return Mn(l.pipe($t(function(y){return y.id===b}),de(function(y){return y.result})),na(function(){return m.send(Eoe(g,v,b)),nr}))}function h(m,g){return c.pipe($a(1),It(function(v){return d(v,m,g).pipe($a(1))}))}function p(m,g){return c.pipe($a(1),It(function(v){return d(v,"".concat(m,"_subscribe"),g).pipe($a(1),It(function(b){return l.pipe($t(function(y){return y.method==="".concat(m,"_subscription")&&y.params.subscription===b}),de(function(y){return y.params.result}),k$(function(){v.readyState!==v.CLOSED&&v.readyState!==v.CLOSING&&v.send(Eoe("".concat(m,"_unsubscribe"),{subscriptionId:b},i()))}))}))}))}return{heartbeats:Mn(c,o,s).pipe(de(function(){return new Date})),listen:function(m,g){return p(m,g)},request:function(m,g){return h(m,g)}}},qZt=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),koe=function(e){qZt(t,e);function t(n,r,i,a){var o=e.call(this,n)||this;return o.type=r,o.code=i,o.reason=a,o}return t}(Error);function KZt(e){return function(t){return new Mt(function(n){var r=e(t),i=!1,a=function(){n.next(r)},o=function(){n.error(new koe("WebSocket connection error","CONNECTION_ERROR"))},s=function(l){i?n.complete():n.error(new koe("WebSocket connection error","CONNECTION_CLOSED",l.code,l.reason))};return r.onopen=a,r.onclose=s,r.onerror=o,function(){i=!0,r.close(1e3,"WebSockets connection closed by client")}})}}var ZZt=function(e,t){return function(n){return Kft(n,vi(e).pipe(It(function(){return t})))}},Toe;(function(e){e[e.BAD_REQUEST=4e3]="BAD_REQUEST",e[e.UNAUTHORIZED=4001]="UNAUTHORIZED",e[e.NOT_FOUND=4004]="NOT_FOUND",e[e.INVALID_REQUEST=-32600]="INVALID_REQUEST",e[e.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",e[e.INVALID_PARAMS=-32602]="INVALID_PARAMS",e[e.SUBSCRIPTION_NOT_FOUND=-32602]="SUBSCRIPTION_NOT_FOUND",e[e.PARSE_ERROR=-32700]="PARSE_ERROR"})(Toe||(Toe={}));var XZt=function(e){return e};function JZt(e,t){t===void 0&&(t={});var n=t.timeout,r=t.token$,i=KZt(function(a,o){return new window.WebSocket(a,o)});return YZt(i(e).pipe(n?ZZt(n,kp(function(){return new Error("Timeout after ".concat(n," while establishing WebSockets connection"))})):XZt,oa({refCount:!0}),SU(Io(window,"beforeunload"))),{token$:r})}const QZt=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"groq-logo",height:"1em",viewBox:"0 0 304 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[u.jsx("path",{d:"M32 0L0 32H32V0Z",fill:Qe.magenta[400].hex}),u.jsx("path",{d:"M32 32H0L32 64V32Z",fill:Qe.green[300].hex}),u.jsx("path",{d:"M64 32H32V64L64 32Z",fill:Qe.purple[300].hex}),u.jsx("path",{d:"M112 0L80 32H112V0Z",fill:Qe.green[300].hex}),u.jsx("path",{d:"M112 0H80V32L112 0Z",fill:Qe.purple[300].hex}),u.jsx("path",{d:"M112 32H80L112 64V32Z",fill:Qe.yellow[200].hex}),u.jsx("path",{d:"M144 64L112 32V64H144Z",fill:Qe.blue[300].hex}),u.jsx("path",{d:"M80 32V64H112L80 32Z",fill:Qe.orange[400].hex}),u.jsx("path",{d:"M112 0V32H144L112 0Z",fill:Qe.magenta[400].hex}),u.jsx("path",{d:"M192 0L160 32H192V0Z",fill:Qe.yellow[200].hex}),u.jsx("path",{d:"M192 32H160L192 64V32Z",fill:Qe.orange[400].hex}),u.jsx("path",{d:"M224 32H192V64L224 32Z",fill:Qe.green[300].hex}),u.jsx("path",{d:"M192 0V32H224L192 0Z",fill:Qe.blue[300].hex}),u.jsx("path",{d:"M272 0L240 32H272V0Z",fill:Qe.purple[300].hex}),u.jsx("path",{d:"M304 32L272 64H304V32Z",fill:Qe.magenta[400].hex}),u.jsx("path",{d:"M272 32H240L272 64V32Z",fill:Qe.blue[300].hex}),u.jsx("path",{d:"M304 32H272V64L304 32Z",fill:Qe.yellow[200].hex}),u.jsx("path",{d:"M272 0V32H304L272 0Z",fill:Qe.green[300].hex})]})});QZt.displayName="ForwardRef(GroqLogo)";const eXt=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"groq-monogram",width:"1em",height:"1em",viewBox:"0 0 128 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[u.jsx("rect",{width:"128",height:"128",rx:"8",fill:Qe.green[950].hex}),u.jsx("rect",{y:"32",width:"64",height:"64",fill:Qe.green[800].hex}),u.jsx("path",{d:"M64 32L32 64H64V32Z",fill:Qe.magenta[400].hex}),u.jsx("path",{d:"M64 64H32L64 96V64Z",fill:Qe.green[300].hex}),u.jsx("path",{d:"M96 64H64V96L96 64Z",fill:Qe.purple[300].hex})]})});eXt.displayName="ForwardRef(GroqMonogram)";const tXt={light:[Qe.red[200].hex,Qe.red[300].hex,Qe.red[500].hex],dark:[Qe.gray[500].hex,Qe.gray[300].hex,rf.hex]},FAe=f.forwardRef(function(e,t){const{dark:n,...r}=e,i=tXt[n?"dark":"light"];return u.jsxs("svg",{"data-sanity-icon":"sanity-logo",height:"1em",viewBox:"0 0 352 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r,ref:t,children:[u.jsx("path",{d:"M311.14 57.234V80.0016H298.499V57.234",fill:i[1]}),u.jsx("path",{d:"M298.499 57.2341L319.889 20.0017H333.316L311.14 57.2341H298.499Z",fill:i[2]}),u.jsx("path",{d:"M298.499 57.2341L276.515 20.0017H290.345L305.239 45.5161L298.499 57.2341Z",fill:i[1]}),u.jsx("path",{d:"M253.839 40.9625V80.0017H241.007V47.6275L253.839 40.9625Z",fill:i[1]}),u.jsx("path",{d:"M241.007 47.5944L273.538 30.9469L268.042 21.6519L241.007 34.8633V47.5944Z",fill:i[0]}),u.jsx("path",{d:"M241.007 30.9469H221.404V20.0017H267.064L273.538 30.9469H253.839H241.007Z",fill:i[2]}),u.jsx("path",{d:"M214.047 20.0017H201.311V80.0121H214.047V20.0017Z",fill:i[2]}),u.jsx("path",{d:"M149.39 37.8712V80.0017H137.153V20.0017L149.39 37.8712Z",fill:i[1]}),u.jsx("path",{d:"M151.282 20.0017L178.231 60.9939V80.0017L137.153 20.0017H151.282Z",fill:i[2]}),u.jsx("path",{d:"M178.231 57.9129V20.0017H190.467V80.0017H178.231V57.9129Z",fill:i[1]}),u.jsx("path",{d:"M82.1168 80.9834L112.102 65.3053L108.405 55.7303L88.6644 64.9362L82.1168 80.9834Z",fill:i[0]}),u.jsx("path",{d:"M100.657 35.5422L82.1167 80.9834L72.5807 72.7745L94.6719 20.0017L100.657 35.5422Z",fill:i[1]}),u.jsx("path",{d:"M94.672 20.0017H107.312L130.69 80.0017H117.752L94.672 20.0017Z",fill:i[2]}),u.jsx("path",{d:"M25.1347 26.926C25.1347 35.2811 30.3864 40.2524 40.9004 42.8738L52.0417 45.4117C61.9923 47.6571 68.0519 53.2341 68.0519 62.3203C68.1293 66.2787 66.8194 70.1429 64.3417 73.2654C64.3417 64.2002 59.5684 59.302 48.0551 56.3568L37.1158 53.913C28.3559 51.9495 21.5946 47.3647 21.5946 37.4952C21.5485 33.6839 22.7939 29.9658 25.1347 26.926",fill:i[2]}),u.jsx("path",{d:"M57.4954 60.0957C62.2475 63.0827 64.3311 67.2602 64.3311 73.255C60.3977 78.2054 53.4875 80.9834 45.3655 80.9834C31.6941 80.9834 22.1262 74.3725 20 62.8842H33.1292C34.8196 68.1584 39.2952 70.6022 45.2698 70.6022C52.5626 70.6022 57.4104 66.7798 57.506 60.0748",fill:i[1]}),u.jsx("path",{d:"M31.9598 39.3124C29.7898 38.0455 28.0095 36.225 26.8079 34.0442C25.6062 31.8634 25.028 29.4036 25.1347 26.926C28.93 22.0174 35.5318 19.02 43.5794 19.02C57.506 19.02 65.5643 26.2472 67.5523 36.4195H54.9227C53.53 32.409 50.0431 29.2863 43.6858 29.2863C36.8926 29.2863 32.2575 33.1715 31.9917 39.3124",fill:i[1]})]})});FAe.displayName="ForwardRef(SanityLogo)";const nXt={bg1:Qe.red[500].hex,bg2:Qe.red[200].hex,fg:rf.hex},NAe=f.forwardRef(function(e,t){const{color:n=nXt,...r}=e;return u.jsxs("svg",{"data-sanity-icon":"sanity-monogram",width:"1em",height:"1em",viewBox:"0 0 128 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r,ref:t,children:[u.jsx("rect",{width:"128",height:"128",rx:"8",fill:n.bg1}),u.jsx("path",{d:"M39.423 33.163C39.423 44.1615 46.3363 50.7056 60.1768 54.1564L74.843 57.4972C87.9418 60.453 95.9186 67.7945 95.9186 79.7554C96.0205 84.9662 94.2961 90.0531 91.0345 94.1635C91.0345 82.2301 84.751 75.7822 69.595 71.9052L55.1948 68.6882C43.6633 66.1035 34.7629 60.0681 34.7629 47.0761C34.7022 42.0589 36.3416 37.1644 39.423 33.163",fill:n.fg}),u.jsx("path",{d:"M82.0221 76.827C88.2776 80.759 91.0206 86.2582 91.0206 94.1497C85.8426 100.666 76.7462 104.323 66.0545 104.323C48.0576 104.323 35.4626 95.6207 32.6637 80.4977H49.9468C52.172 87.4406 58.0636 90.6576 65.9285 90.6576C75.5287 90.6576 81.9102 85.6258 82.0361 76.7995",fill:n.bg2}),u.jsx("path",{d:"M48.4075 49.4682C45.551 47.8004 43.2074 45.404 41.6256 42.5332C40.0437 39.6624 39.2826 36.4244 39.4231 33.1629C44.4191 26.7013 53.1096 22.7556 63.7034 22.7556C82.0362 22.7556 92.6439 32.2693 95.2609 45.66H78.6355C76.8022 40.3807 72.2121 36.27 63.8434 36.27C54.9009 36.27 48.7993 41.3843 48.4495 49.4682",fill:n.bg2})]})});NAe.displayName="ForwardRef(SanityMonogram)";var rXt=(()=>{try{return typeof import.meta<"u"}catch{return!1}})(),iXt=(()=>{try{return!!(rXt&&import.meta.webpackHot)}catch{return!1}})();function LAe(e){if(iXt)return typeof import.meta.webpackHot>"u"?oXt(e):aXt(e)}function aXt(e){f.useEffect(()=>{if(import.meta.webpackHot){const t=n=>n==="idle"?e():void 0;return import.meta.webpackHot.addStatusHandler(t),()=>{var n;return(n=import.meta.webpackHot)==null?void 0:n.removeStatusHandler(t)}}},[e])}function oXt(e){f.useEffect(()=>{},[e])}var Fb={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BAe=f;function Wt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ds=Object.prototype.hasOwnProperty,sXt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Aoe={},joe={};function VAe(e){return ds.call(joe,e)?!0:ds.call(Aoe,e)?!1:sXt.test(e)?joe[e]=!0:(Aoe[e]=!0,!1)}function as(e,t,n,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Ja={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ja[e]=new as(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ja[t]=new as(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ja[e]=new as(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ja[e]=new as(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ja[e]=new as(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ja[e]=new as(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ja[e]=new as(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ja[e]=new as(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ja[e]=new as(e,5,!1,e.toLowerCase(),null,!1,!1)});var rG=/[\-:]([a-z])/g;function iG(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(rG,iG);Ja[t]=new as(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(rG,iG);Ja[t]=new as(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(rG,iG);Ja[t]=new as(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ja[e]=new as(e,1,!1,e.toLowerCase(),null,!1,!1)});Ja.xlinkHref=new as("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ja[e]=new as(e,1,!1,e.toLowerCase(),null,!0,!0)});var lT={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lXt=["Webkit","ms","Moz","O"];Object.keys(lT).forEach(function(e){lXt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),lT[t]=lT[e]})});var uXt=/["'&<>]/;function Vo(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=uXt.exec(e);if(t){var n="",r,i=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==r&&(n+=e.substring(i,r)),i=r+1,n+=t}e=i!==r?n+e.substring(i,r):n}return e}var cXt=/([A-Z])/g,dXt=/^ms-/,G6=Array.isArray;function Dd(e,t){return{insertionMode:e,selectedValue:t}}function fXt(e,t,n){switch(t){case"select":return Dd(1,n.value!=null?n.value:n.defaultValue);case"svg":return Dd(2,null);case"math":return Dd(3,null);case"foreignObject":return Dd(1,null);case"table":return Dd(4,null);case"thead":case"tbody":case"tfoot":return Dd(5,null);case"colgroup":return Dd(7,null);case"tr":return Dd(6,null)}return 4<=e.insertionMode||e.insertionMode===0?Dd(1,null):e}var Ioe=new Map;function zAe(e,t,n){if(typeof n!="object")throw Error(Wt(62));t=!0;for(var r in n)if(ds.call(n,r)){var i=n[r];if(i!=null&&typeof i!="boolean"&&i!==""){if(r.indexOf("--")===0){var a=Vo(r);i=Vo((""+i).trim())}else{a=r;var o=Ioe.get(a);o!==void 0||(o=Vo(a.replace(cXt,"-$1").toLowerCase().replace(dXt,"-ms-")),Ioe.set(a,o)),a=o,i=typeof i=="number"?i===0||ds.call(lT,r)?""+i:i+"px":Vo((""+i).trim())}t?(t=!1,e.push(' style="',a,":",i)):e.push(";",a,":",i)}}t||e.push('"')}function Ps(e,t,n,r){switch(n){case"style":zAe(e,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=Ja.hasOwnProperty(n)?Ja[n]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=t.attributeName,t.type){case 3:r&&e.push(" ",n,'=""');break;case 4:r===!0?e.push(" ",n,'=""'):r!==!1&&e.push(" ",n,'="',Vo(r),'"');break;case 5:isNaN(r)||e.push(" ",n,'="',Vo(r),'"');break;case 6:!isNaN(r)&&1<=r&&e.push(" ",n,'="',Vo(r),'"');break;default:t.sanitizeURL&&(r=""+r),e.push(" ",n,'="',Vo(r),'"')}}else if(VAe(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(" ",n,'="',Vo(r),'"')}}}function uT(e,t,n){if(t!=null){if(n!=null)throw Error(Wt(60));if(typeof t!="object"||!("__html"in t))throw Error(Wt(61));t=t.__html,t!=null&&e.push(""+t)}}function hXt(e){var t="";return BAe.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}function lF(e,t,n,r){e.push(hc(n));var i=n=null,a;for(a in t)if(ds.call(t,a)){var o=t[a];if(o!=null)switch(a){case"children":n=o;break;case"dangerouslySetInnerHTML":i=o;break;default:Ps(e,r,a,o)}}return e.push(">"),uT(e,i,n),typeof n=="string"?(e.push(Vo(n)),null):n}var pXt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Doe=new Map;function hc(e){var t=Doe.get(e);if(t===void 0){if(!pXt.test(e))throw Error(Wt(65,e));t="<"+e,Doe.set(e,t)}return t}function mXt(e,t,n,r,i){switch(t){case"select":e.push(hc("select"));var a=null,o=null;for(d in n)if(ds.call(n,d)){var s=n[d];if(s!=null)switch(d){case"children":a=s;break;case"dangerouslySetInnerHTML":o=s;break;case"defaultValue":case"value":break;default:Ps(e,r,d,s)}}return e.push(">"),uT(e,o,a),a;case"option":o=i.selectedValue,e.push(hc("option"));var l=s=null,c=null,d=null;for(a in n)if(ds.call(n,a)){var h=n[a];if(h!=null)switch(a){case"children":s=h;break;case"selected":c=h;break;case"dangerouslySetInnerHTML":d=h;break;case"value":l=h;default:Ps(e,r,a,h)}}if(o!=null)if(n=l!==null?""+l:hXt(s),G6(o)){for(r=0;r<o.length;r++)if(""+o[r]===n){e.push(' selected=""');break}}else""+o===n&&e.push(' selected=""');else c&&e.push(' selected=""');return e.push(">"),uT(e,d,s),s;case"textarea":e.push(hc("textarea")),d=o=a=null;for(s in n)if(ds.call(n,s)&&(l=n[s],l!=null))switch(s){case"children":d=l;break;case"value":a=l;break;case"defaultValue":o=l;break;case"dangerouslySetInnerHTML":throw Error(Wt(91));default:Ps(e,r,s,l)}if(a===null&&o!==null&&(a=o),e.push(">"),d!=null){if(a!=null)throw Error(Wt(92));if(G6(d)&&1<d.length)throw Error(Wt(93));a=""+d}return typeof a=="string"&&a[0]===`
`&&e.push(`
`),a!==null&&e.push(Vo(""+a)),null;case"input":e.push(hc("input")),l=d=s=a=null;for(o in n)if(ds.call(n,o)&&(c=n[o],c!=null))switch(o){case"children":case"dangerouslySetInnerHTML":throw Error(Wt(399,"input"));case"defaultChecked":l=c;break;case"defaultValue":s=c;break;case"checked":d=c;break;case"value":a=c;break;default:Ps(e,r,o,c)}return d!==null?Ps(e,r,"checked",d):l!==null&&Ps(e,r,"checked",l),a!==null?Ps(e,r,"value",a):s!==null&&Ps(e,r,"value",s),e.push("/>"),null;case"menuitem":e.push(hc("menuitem"));for(var p in n)if(ds.call(n,p)&&(a=n[p],a!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(Wt(400));default:Ps(e,r,p,a)}return e.push(">"),null;case"title":e.push(hc("title")),a=null;for(h in n)if(ds.call(n,h)&&(o=n[h],o!=null))switch(h){case"children":a=o;break;case"dangerouslySetInnerHTML":throw Error(Wt(434));default:Ps(e,r,h,o)}return e.push(">"),a;case"listing":case"pre":e.push(hc(t)),o=a=null;for(l in n)if(ds.call(n,l)&&(s=n[l],s!=null))switch(l){case"children":a=s;break;case"dangerouslySetInnerHTML":o=s;break;default:Ps(e,r,l,s)}if(e.push(">"),o!=null){if(a!=null)throw Error(Wt(60));if(typeof o!="object"||!("__html"in o))throw Error(Wt(61));n=o.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(`
`,n):e.push(""+n))}return typeof a=="string"&&a[0]===`
`&&e.push(`
`),a;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(hc(t));for(var m in n)if(ds.call(n,m)&&(a=n[m],a!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(Wt(399,t));default:Ps(e,r,m,a)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return lF(e,n,t,r);case"html":return i.insertionMode===0&&e.push("<!DOCTYPE html>"),lF(e,n,t,r);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return lF(e,n,t,r);e.push(hc(t)),o=a=null;for(c in n)if(ds.call(n,c)&&(s=n[c],s!=null))switch(c){case"children":a=s;break;case"dangerouslySetInnerHTML":o=s;break;case"style":zAe(e,r,s);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:VAe(c)&&typeof s!="function"&&typeof s!="symbol"&&e.push(" ",c,'="',Vo(s),'"')}return e.push(">"),uT(e,o,a),a}}function $oe(e,t,n){if(e.push('<!--$?--><template id="'),n===null)throw Error(Wt(395));return e.push(n),e.push('"></template>')}function gXt(e,t,n,r){switch(n.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 4:return e.push('<table hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');default:throw Error(Wt(397))}}function vXt(e,t){switch(t.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(Wt(397))}}var yXt=/[<\u2028\u2029]/g;function uF(e){return JSON.stringify(e).replace(yXt,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function bXt(e,t){return t=t===void 0?"":t,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:t+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}function Ooe(e,t,n,r){return n.generateStaticMarkup?(e.push(Vo(t)),!1):(t===""?e=r:(r&&e.push("<!-- -->"),e.push(Vo(t)),e=!0),e)}var _C=Object.assign,xXt=Symbol.for("react.element"),UAe=Symbol.for("react.portal"),HAe=Symbol.for("react.fragment"),WAe=Symbol.for("react.strict_mode"),GAe=Symbol.for("react.profiler"),YAe=Symbol.for("react.provider"),qAe=Symbol.for("react.context"),KAe=Symbol.for("react.forward_ref"),ZAe=Symbol.for("react.suspense"),XAe=Symbol.for("react.suspense_list"),JAe=Symbol.for("react.memo"),aG=Symbol.for("react.lazy"),wXt=Symbol.for("react.scope"),CXt=Symbol.for("react.debug_trace_mode"),SXt=Symbol.for("react.legacy_hidden"),_Xt=Symbol.for("react.default_value"),Moe=Symbol.iterator;function Y6(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case HAe:return"Fragment";case UAe:return"Portal";case GAe:return"Profiler";case WAe:return"StrictMode";case ZAe:return"Suspense";case XAe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qAe:return(e.displayName||"Context")+".Consumer";case YAe:return(e._context.displayName||"Context")+".Provider";case KAe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case JAe:return t=e.displayName||null,t!==null?t:Y6(e.type)||"Memo";case aG:t=e._payload,e=e._init;try{return Y6(e(t))}catch{}}return null}var QAe={};function Roe(e,t){if(e=e.contextTypes,!e)return QAe;var n={},r;for(r in e)n[r]=t[r];return n}var eg=null;function PO(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(Wt(401))}else{if(n===null)throw Error(Wt(401));PO(e,n)}t.context._currentValue2=t.value}}function eje(e){e.context._currentValue2=e.parentValue,e=e.parent,e!==null&&eje(e)}function tje(e){var t=e.parent;t!==null&&tje(t),e.context._currentValue2=e.value}function nje(e,t){if(e.context._currentValue2=e.parentValue,e=e.parent,e===null)throw Error(Wt(402));e.depth===t.depth?PO(e,t):nje(e,t)}function rje(e,t){var n=t.parent;if(n===null)throw Error(Wt(402));e.depth===n.depth?PO(e,n):rje(e,n),t.context._currentValue2=t.value}function Yj(e){var t=eg;t!==e&&(t===null?tje(e):e===null?eje(t):t.depth===e.depth?PO(t,e):t.depth>e.depth?nje(t,e):rje(t,e),eg=e)}var Poe={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function Foe(e,t,n,r){var i=e.state!==void 0?e.state:null;e.updater=Poe,e.props=n,e.state=i;var a={queue:[],replace:!1};e._reactInternals=a;var o=t.contextType;if(e.context=typeof o=="object"&&o!==null?o._currentValue2:r,o=t.getDerivedStateFromProps,typeof o=="function"&&(o=o(n,i),i=o==null?i:_C({},i,o),e.state=i),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&Poe.enqueueReplaceState(e,e.state,null),a.queue!==null&&0<a.queue.length)if(t=a.queue,o=a.replace,a.queue=null,a.replace=!1,o&&t.length===1)e.state=t[0];else{for(a=o?t[0]:e.state,i=!0,o=o?1:0;o<t.length;o++){var s=t[o];s=typeof s=="function"?s.call(e,a,n,r):s,s!=null&&(i?(i=!1,a=_C({},a,s)):_C(a,s))}e.state=a}else a.queue=null}var EXt={id:1,overflow:""};function q6(e,t,n){var r=e.id;e=e.overflow;var i=32-cT(r)-1;r&=~(1<<i),n+=1;var a=32-cT(t)+i;if(30<a){var o=i-i%5;return a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,{id:1<<32-cT(t)+i|n<<i|r,overflow:a+e}}return{id:1<<a|n<<i|r,overflow:e}}var cT=Math.clz32?Math.clz32:AXt,kXt=Math.log,TXt=Math.LN2;function AXt(e){return e>>>=0,e===0?32:31-(kXt(e)/TXt|0)|0}function jXt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var IXt=typeof Object.is=="function"?Object.is:jXt,jf=null,oG=null,dT=null,jr=null,Mw=!1,qj=!1,PS=0,Xh=null,FO=0;function Bm(){if(jf===null)throw Error(Wt(321));return jf}function Noe(){if(0<FO)throw Error(Wt(312));return{memoizedState:null,queue:null,next:null}}function sG(){return jr===null?dT===null?(Mw=!1,dT=jr=Noe()):(Mw=!0,jr=dT):jr.next===null?(Mw=!1,jr=jr.next=Noe()):(Mw=!0,jr=jr.next),jr}function lG(){oG=jf=null,qj=!1,dT=null,FO=0,jr=Xh=null}function ije(e,t){return typeof t=="function"?t(e):t}function Loe(e,t,n){if(jf=Bm(),jr=sG(),Mw){var r=jr.queue;if(t=r.dispatch,Xh!==null&&(n=Xh.get(r),n!==void 0)){Xh.delete(r),r=jr.memoizedState;do r=e(r,n.action),n=n.next;while(n!==null);return jr.memoizedState=r,[r,t]}return[jr.memoizedState,t]}return e=e===ije?typeof t=="function"?t():t:n!==void 0?n(t):t,jr.memoizedState=e,e=jr.queue={last:null,dispatch:null},e=e.dispatch=DXt.bind(null,jf,e),[jr.memoizedState,e]}function Boe(e,t){if(jf=Bm(),jr=sG(),t=t===void 0?null:t,jr!==null){var n=jr.memoizedState;if(n!==null&&t!==null){var r=n[1];e:if(r===null)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!IXt(t[i],r[i])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),jr.memoizedState=[e,t],e}function DXt(e,t,n){if(25<=FO)throw Error(Wt(301));if(e===jf)if(qj=!0,e={action:n,next:null},Xh===null&&(Xh=new Map),n=Xh.get(t),n===void 0)Xh.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function $Xt(){throw Error(Wt(394))}function Ek(){}var Voe={readContext:function(e){return e._currentValue2},useContext:function(e){return Bm(),e._currentValue2},useMemo:Boe,useReducer:Loe,useRef:function(e){jf=Bm(),jr=sG();var t=jr.memoizedState;return t===null?(e={current:e},jr.memoizedState=e):t},useState:function(e){return Loe(ije,e)},useInsertionEffect:Ek,useLayoutEffect:function(){},useCallback:function(e,t){return Boe(function(){return e},t)},useImperativeHandle:Ek,useEffect:Ek,useDebugValue:Ek,useDeferredValue:function(e){return Bm(),e},useTransition:function(){return Bm(),[!1,$Xt]},useId:function(){var e=oG.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-cT(e)-1)).toString(32)+t;var n=fT;if(n===null)throw Error(Wt(404));return t=PS++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Bm(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(Wt(407));return n()}},fT=null,cF=BAe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function OXt(e){return console.error(e),null}function Rw(){}function MXt(e,t,n,r,i,a,o,s,l){var c=[],d=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:d,pingedTasks:c,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:i===void 0?OXt:i,onAllReady:a===void 0?Rw:a,onShellReady:o===void 0?Rw:o,onShellError:s===void 0?Rw:s,onFatalError:l===void 0?Rw:l},n=Kj(t,0,null,n,!1,!1),n.parentFlushed=!0,e=uG(t,e,null,n,d,QAe,null,EXt),c.push(e),t}function uG(e,t,n,r,i,a,o,s){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var l={node:t,ping:function(){var c=e.pingedTasks;c.push(l),c.length===1&&sje(e)},blockedBoundary:n,blockedSegment:r,abortSet:i,legacyContext:a,context:o,treeContext:s};return i.add(l),l}function Kj(e,t,n,r,i,a){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:i,textEmbedded:a}}function FS(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function Zj(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,e.destination.destroy(t)):(e.status=1,e.fatalError=t)}function zoe(e,t,n,r,i){for(jf={},oG=t,PS=0,e=n(r,i);qj;)qj=!1,PS=0,FO+=1,jr=null,e=n(r,i);return lG(),e}function Uoe(e,t,n,r){var i=n.render(),a=r.childContextTypes;if(a!=null){var o=t.legacyContext;if(typeof n.getChildContext!="function")r=o;else{n=n.getChildContext();for(var s in n)if(!(s in a))throw Error(Wt(108,Y6(r)||"Unknown",s));r=_C({},o,n)}t.legacyContext=r,zs(e,t,i),t.legacyContext=o}else zs(e,t,i)}function Hoe(e,t){if(e&&e.defaultProps){t=_C({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function K6(e,t,n,r,i){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){i=Roe(n,t.legacyContext);var a=n.contextType;a=new n(r,typeof a=="object"&&a!==null?a._currentValue2:i),Foe(a,n,r,i),Uoe(e,t,a,n)}else{a=Roe(n,t.legacyContext),i=zoe(e,t,n,r,a);var o=PS!==0;if(typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0)Foe(i,n,r,a),Uoe(e,t,i,n);else if(o){r=t.treeContext,t.treeContext=q6(r,1,0);try{zs(e,t,i)}finally{t.treeContext=r}}else zs(e,t,i)}else if(typeof n=="string"){switch(i=t.blockedSegment,a=mXt(i.chunks,n,r,e.responseState,i.formatContext),i.lastPushedText=!1,o=i.formatContext,i.formatContext=fXt(o,n,r),Z6(e,t,a),i.formatContext=o,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push("</",n,">")}i.lastPushedText=!1}else{switch(n){case SXt:case CXt:case WAe:case GAe:case HAe:zs(e,t,r.children);return;case XAe:zs(e,t,r.children);return;case wXt:throw Error(Wt(343));case ZAe:e:{n=t.blockedBoundary,i=t.blockedSegment,a=r.fallback,r=r.children,o=new Set;var s={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:o,errorDigest:null},l=Kj(e,i.chunks.length,s,i.formatContext,!1,!1);i.children.push(l),i.lastPushedText=!1;var c=Kj(e,0,null,i.formatContext,!1,!1);c.parentFlushed=!0,t.blockedBoundary=s,t.blockedSegment=c;try{if(Z6(e,t,r),e.responseState.generateStaticMarkup||c.lastPushedText&&c.textEmbedded&&c.chunks.push("<!-- -->"),c.status=1,Xj(s,c),s.pendingTasks===0)break e}catch(d){c.status=4,s.forceClientRender=!0,s.errorDigest=FS(e,d)}finally{t.blockedBoundary=n,t.blockedSegment=i}t=uG(e,a,n,l,o,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case KAe:if(r=zoe(e,t,n.render,r,i),PS!==0){n=t.treeContext,t.treeContext=q6(n,1,0);try{zs(e,t,r)}finally{t.treeContext=n}}else zs(e,t,r);return;case JAe:n=n.type,r=Hoe(n,r),K6(e,t,n,r,i);return;case YAe:if(i=r.children,n=n._context,r=r.value,a=n._currentValue2,n._currentValue2=r,o=eg,eg=r={parent:o,depth:o===null?0:o.depth+1,context:n,parentValue:a,value:r},t.context=r,zs(e,t,i),e=eg,e===null)throw Error(Wt(403));r=e.parentValue,e.context._currentValue2=r===_Xt?e.context._defaultValue:r,e=eg=e.parent,t.context=e;return;case qAe:r=r.children,r=r(n._currentValue2),zs(e,t,r);return;case aG:i=n._init,n=i(n._payload),r=Hoe(n,r),K6(e,t,n,r,void 0);return}throw Error(Wt(130,n==null?n:typeof n,""))}}function zs(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case xXt:K6(e,t,n.type,n.props,n.ref);return;case UAe:throw Error(Wt(257));case aG:var r=n._init;n=r(n._payload),zs(e,t,n);return}if(G6(n)){Woe(e,t,n);return}if(n===null||typeof n!="object"?r=null:(r=Moe&&n[Moe]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var i=[];do i.push(n.value),n=r.next();while(!n.done);Woe(e,t,i)}return}throw e=Object.prototype.toString.call(n),Error(Wt(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}typeof n=="string"?(r=t.blockedSegment,r.lastPushedText=Ooe(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText)):typeof n=="number"&&(r=t.blockedSegment,r.lastPushedText=Ooe(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function Woe(e,t,n){for(var r=n.length,i=0;i<r;i++){var a=t.treeContext;t.treeContext=q6(a,r,i);try{Z6(e,t,n[i])}finally{t.treeContext=a}}}function Z6(e,t,n){var r=t.blockedSegment.formatContext,i=t.legacyContext,a=t.context;try{return zs(e,t,n)}catch(l){if(lG(),typeof l=="object"&&l!==null&&typeof l.then=="function"){n=l;var o=t.blockedSegment,s=Kj(e,o.chunks.length,null,o.formatContext,o.lastPushedText,!0);o.children.push(s),o.lastPushedText=!1,e=uG(e,t.node,t.blockedBoundary,s,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=a,Yj(a)}else throw t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=a,Yj(a),l}}function RXt(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,oje(this,t,e)}function aje(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.push(null))):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=n===void 0?Error(Wt(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(i){return aje(i,t,n)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function Xj(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&Xj(e,n)}else e.completedSegments.push(t)}function oje(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(Wt(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=Rw,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&Xj(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(RXt,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(Xj(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function sje(e){if(e.status!==2){var t=eg,n=cF.current;cF.current=Voe;var r=fT;fT=e.responseState;try{var i=e.pingedTasks,a;for(a=0;a<i.length;a++){var o=i[a],s=e,l=o.blockedSegment;if(l.status===0){Yj(o.context);try{zs(s,o,o.node),s.responseState.generateStaticMarkup||l.lastPushedText&&l.textEmbedded&&l.chunks.push("<!-- -->"),o.abortSet.delete(o),l.status=1,oje(s,o.blockedBoundary,l)}catch(g){if(lG(),typeof g=="object"&&g!==null&&typeof g.then=="function"){var c=o.ping;g.then(c,c)}else{o.abortSet.delete(o),l.status=4;var d=o.blockedBoundary,h=g,p=FS(s,h);if(d===null?Zj(s,h):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.errorDigest=p,d.parentFlushed&&s.clientRenderedBoundaries.push(d))),s.allPendingTasks--,s.allPendingTasks===0){var m=s.onAllReady;m()}}}finally{}}}i.splice(0,a),e.destination!==null&&cG(e,e.destination)}catch(g){FS(e,g),Zj(e,g)}finally{fT=r,cF.current=n,n===Voe&&Yj(t)}}}function kk(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,t.push('<template id="'),t.push(e.placeholderPrefix),e=r.toString(16),t.push(e),t.push('"></template>');case 1:n.status=2;var i=!0;r=n.chunks;var a=0;n=n.children;for(var o=0;o<n.length;o++){for(i=n[o];a<i.index;a++)t.push(r[a]);i=NO(e,t,i)}for(;a<r.length-1;a++)t.push(r[a]);return a<r.length&&(i=t.push(r[a])),i;default:throw Error(Wt(390))}}function NO(e,t,n){var r=n.boundary;if(r===null)return kk(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)return e.responseState.generateStaticMarkup||(r=r.errorDigest,t.push("<!--$!-->"),t.push("<template"),r&&(t.push(' data-dgst="'),r=Vo(r),t.push(r),t.push('"')),t.push("></template>")),kk(e,t,n),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e;if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var i=e.responseState,a=i.nextSuspenseID++;return i=i.boundaryPrefix+a.toString(16),r=r.id=i,$oe(t,e.responseState,r),kk(e,t,n),t.push("<!--/$-->")}if(r.byteSize>e.progressiveChunkSize)return r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),$oe(t,e.responseState,r.id),kk(e,t,n),t.push("<!--/$-->");if(e.responseState.generateStaticMarkup||t.push("<!--$-->"),n=r.completedSegments,n.length!==1)throw Error(Wt(391));return NO(e,t,n[0]),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e}function Goe(e,t,n){return gXt(t,e.responseState,n.formatContext,n.id),NO(e,t,n),vXt(t,n.formatContext)}function Yoe(e,t,n){for(var r=n.completedSegments,i=0;i<r.length;i++)lje(e,t,n,r[i]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,t.push(e.startInlineScript),e.sentCompleteBoundaryFunction?t.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,t.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),r===null)throw Error(Wt(395));return n=n.toString(16),t.push(r),t.push('","'),t.push(e.segmentPrefix),t.push(n),t.push('")<\/script>')}function lje(e,t,n,r){if(r.status===2)return!0;var i=r.id;if(i===-1){if((r.id=n.rootSegmentID)===-1)throw Error(Wt(392));return Goe(e,t,r)}return Goe(e,t,r),e=e.responseState,t.push(e.startInlineScript),e.sentCompleteSegmentFunction?t.push('$RS("'):(e.sentCompleteSegmentFunction=!0,t.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(e.segmentPrefix),i=i.toString(16),t.push(i),t.push('","'),t.push(e.placeholderPrefix),t.push(i),t.push('")<\/script>')}function cG(e,t){try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){NO(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)t.push(r[n]);n<r.length&&t.push(r[n])}var i=e.clientRenderedBoundaries,a;for(a=0;a<i.length;a++){var o=i[a];r=t;var s=e.responseState,l=o.id,c=o.errorDigest,d=o.errorMessage,h=o.errorComponentStack;if(r.push(s.startInlineScript),s.sentClientRenderFunction?r.push('$RX("'):(s.sentClientRenderFunction=!0,r.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),l===null)throw Error(Wt(395));if(r.push(l),r.push('"'),c||d||h){r.push(",");var p=uF(c||"");r.push(p)}if(d||h){r.push(",");var m=uF(d||"");r.push(m)}if(h){r.push(",");var g=uF(h);r.push(g)}if(!r.push(")<\/script>")){e.destination=null,a++,i.splice(0,a);return}}i.splice(0,a);var v=e.completedBoundaries;for(a=0;a<v.length;a++)if(!Yoe(e,t,v[a])){e.destination=null,a++,v.splice(0,a);return}v.splice(0,a);var b=e.partialBoundaries;for(a=0;a<b.length;a++){var y=b[a];e:{i=e,o=t;var x=y.completedSegments;for(s=0;s<x.length;s++)if(!lje(i,o,y,x[s])){s++,x.splice(0,s);var w=!1;break e}x.splice(0,s),w=!0}if(!w){e.destination=null,a++,b.splice(0,a);return}}b.splice(0,a);var C=e.completedBoundaries;for(a=0;a<C.length;a++)if(!Yoe(e,t,C[a])){e.destination=null,a++,C.splice(0,a);return}C.splice(0,a)}finally{e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.push(null)}}function PXt(e,t){try{var n=e.abortableTasks;n.forEach(function(r){return aje(r,e,t)}),n.clear(),e.destination!==null&&cG(e,e.destination)}catch(r){FS(e,r),Zj(e,r)}}function FXt(){}function uje(e,t,n,r){var i=!1,a=null,o="",s={push:function(c){return c!==null&&(o+=c),!0},destroy:function(c){i=!0,a=c}},l=!1;if(e=MXt(e,bXt(n,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,FXt,void 0,function(){l=!0},void 0,void 0),sje(e),PXt(e,r),e.status===1)e.status=2,s.destroy(e.fatalError);else if(e.status!==2&&e.destination===null){e.destination=s;try{cG(e,s)}catch(c){FS(e,c),Zj(e,c)}}if(i)throw a;if(!l)throw Error(Wt(426));return o}Fb.renderToNodeStream=function(){throw Error(Wt(207))};Fb.renderToStaticMarkup=function(e,t){return uje(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};Fb.renderToStaticNodeStream=function(){throw Error(Wt(208))};Fb.renderToString=function(e,t){return uje(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};Fb.version="18.3.1";var dG={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cje=f;function tn(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Us=null,Hs=0;function dt(e,t){if(t.length!==0)if(512<t.length)0<Hs&&(e.enqueue(new Uint8Array(Us.buffer,0,Hs)),Us=new Uint8Array(512),Hs=0),e.enqueue(t);else{var n=Us.length-Hs;n<t.length&&(n===0?e.enqueue(Us):(Us.set(t.subarray(0,n),Hs),e.enqueue(Us),t=t.subarray(n)),Us=new Uint8Array(512),Hs=0),Us.set(t,Hs),Hs+=t.length}}function Ur(e,t){return dt(e,t),!0}function qoe(e){Us&&0<Hs&&(e.enqueue(new Uint8Array(Us.buffer,0,Hs)),Us=null,Hs=0)}var dje=new TextEncoder;function un(e){return dje.encode(e)}function Ze(e){return dje.encode(e)}function fje(e,t){typeof e.error=="function"?e.error(t):e.close()}var fs=Object.prototype.hasOwnProperty,NXt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Koe={},Zoe={};function hje(e){return fs.call(Zoe,e)?!0:fs.call(Koe,e)?!1:NXt.test(e)?Zoe[e]=!0:(Koe[e]=!0,!1)}function os(e,t,n,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Qa={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qa[e]=new os(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qa[t]=new os(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qa[e]=new os(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qa[e]=new os(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qa[e]=new os(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qa[e]=new os(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qa[e]=new os(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qa[e]=new os(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qa[e]=new os(e,5,!1,e.toLowerCase(),null,!1,!1)});var fG=/[\-:]([a-z])/g;function hG(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(fG,hG);Qa[t]=new os(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(fG,hG);Qa[t]=new os(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(fG,hG);Qa[t]=new os(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qa[e]=new os(e,1,!1,e.toLowerCase(),null,!1,!1)});Qa.xlinkHref=new os("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qa[e]=new os(e,1,!1,e.toLowerCase(),null,!0,!0)});var hT={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},LXt=["Webkit","ms","Moz","O"];Object.keys(hT).forEach(function(e){LXt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),hT[t]=hT[e]})});var BXt=/["'&<>]/;function Wa(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=BXt.exec(e);if(t){var n="",r,i=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==r&&(n+=e.substring(i,r)),i=r+1,n+=t}e=i!==r?n+e.substring(i,r):n}return e}var VXt=/([A-Z])/g,zXt=/^ms-/,X6=Array.isArray,UXt=Ze("<script>"),HXt=Ze("<\/script>"),WXt=Ze('<script src="'),GXt=Ze('<script type="module" src="'),Xoe=Ze('" async=""><\/script>'),YXt=/(<\/|<)(s)(cript)/gi;function qXt(e,t,n,r){return""+t+(n==="s"?"\\u0073":"\\u0053")+r}function KXt(e,t,n,r,i){e=e===void 0?"":e,t=t===void 0?UXt:Ze('<script nonce="'+Wa(t)+'">');var a=[];if(n!==void 0&&a.push(t,un((""+n).replace(YXt,qXt)),HXt),r!==void 0)for(n=0;n<r.length;n++)a.push(WXt,un(Wa(r[n])),Xoe);if(i!==void 0)for(r=0;r<i.length;r++)a.push(GXt,un(Wa(i[r])),Xoe);return{bootstrapChunks:a,startInlineScript:t,placeholderPrefix:Ze(e+"P:"),segmentPrefix:Ze(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function pc(e,t){return{insertionMode:e,selectedValue:t}}function ZXt(e){return pc(e==="http://www.w3.org/2000/svg"?2:e==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function XXt(e,t,n){switch(t){case"select":return pc(1,n.value!=null?n.value:n.defaultValue);case"svg":return pc(2,null);case"math":return pc(3,null);case"foreignObject":return pc(1,null);case"table":return pc(4,null);case"thead":case"tbody":case"tfoot":return pc(5,null);case"colgroup":return pc(7,null);case"tr":return pc(6,null)}return 4<=e.insertionMode||e.insertionMode===0?pc(1,null):e}var pG=Ze("<!-- -->");function Joe(e,t,n,r){return t===""?r:(r&&e.push(pG),e.push(un(Wa(t))),!0)}var Qoe=new Map,JXt=Ze(' style="'),ese=Ze(":"),QXt=Ze(";");function pje(e,t,n){if(typeof n!="object")throw Error(tn(62));t=!0;for(var r in n)if(fs.call(n,r)){var i=n[r];if(i!=null&&typeof i!="boolean"&&i!==""){if(r.indexOf("--")===0){var a=un(Wa(r));i=un(Wa((""+i).trim()))}else{a=r;var o=Qoe.get(a);o!==void 0||(o=Ze(Wa(a.replace(VXt,"-$1").toLowerCase().replace(zXt,"-ms-"))),Qoe.set(a,o)),a=o,i=typeof i=="number"?i===0||fs.call(hT,r)?un(""+i):un(i+"px"):un(Wa((""+i).trim()))}t?(t=!1,e.push(JXt,a,ese,i)):e.push(QXt,a,ese,i)}}t||e.push(Vm)}var wh=Ze(" "),$v=Ze('="'),Vm=Ze('"'),tse=Ze('=""');function Fs(e,t,n,r){switch(n){case"style":pje(e,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=Qa.hasOwnProperty(n)?Qa[n]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=un(t.attributeName),t.type){case 3:r&&e.push(wh,n,tse);break;case 4:r===!0?e.push(wh,n,tse):r!==!1&&e.push(wh,n,$v,un(Wa(r)),Vm);break;case 5:isNaN(r)||e.push(wh,n,$v,un(Wa(r)),Vm);break;case 6:!isNaN(r)&&1<=r&&e.push(wh,n,$v,un(Wa(r)),Vm);break;default:t.sanitizeURL&&(r=""+r),e.push(wh,n,$v,un(Wa(r)),Vm)}}else if(hje(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(wh,un(n),$v,un(Wa(r)),Vm)}}}var Ch=Ze(">"),nse=Ze("/>");function pT(e,t,n){if(t!=null){if(n!=null)throw Error(tn(60));if(typeof t!="object"||!("__html"in t))throw Error(tn(61));t=t.__html,t!=null&&e.push(un(""+t))}}function eJt(e){var t="";return cje.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}var dF=Ze(' selected=""');function fF(e,t,n,r){e.push(mc(n));var i=n=null,a;for(a in t)if(fs.call(t,a)){var o=t[a];if(o!=null)switch(a){case"children":n=o;break;case"dangerouslySetInnerHTML":i=o;break;default:Fs(e,r,a,o)}}return e.push(Ch),pT(e,i,n),typeof n=="string"?(e.push(un(Wa(n))),null):n}var hF=Ze(`
`),tJt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,rse=new Map;function mc(e){var t=rse.get(e);if(t===void 0){if(!tJt.test(e))throw Error(tn(65,e));t=Ze("<"+e),rse.set(e,t)}return t}var nJt=Ze("<!DOCTYPE html>");function rJt(e,t,n,r,i){switch(t){case"select":e.push(mc("select"));var a=null,o=null;for(d in n)if(fs.call(n,d)){var s=n[d];if(s!=null)switch(d){case"children":a=s;break;case"dangerouslySetInnerHTML":o=s;break;case"defaultValue":case"value":break;default:Fs(e,r,d,s)}}return e.push(Ch),pT(e,o,a),a;case"option":o=i.selectedValue,e.push(mc("option"));var l=s=null,c=null,d=null;for(a in n)if(fs.call(n,a)){var h=n[a];if(h!=null)switch(a){case"children":s=h;break;case"selected":c=h;break;case"dangerouslySetInnerHTML":d=h;break;case"value":l=h;default:Fs(e,r,a,h)}}if(o!=null)if(n=l!==null?""+l:eJt(s),X6(o)){for(r=0;r<o.length;r++)if(""+o[r]===n){e.push(dF);break}}else""+o===n&&e.push(dF);else c&&e.push(dF);return e.push(Ch),pT(e,d,s),s;case"textarea":e.push(mc("textarea")),d=o=a=null;for(s in n)if(fs.call(n,s)&&(l=n[s],l!=null))switch(s){case"children":d=l;break;case"value":a=l;break;case"defaultValue":o=l;break;case"dangerouslySetInnerHTML":throw Error(tn(91));default:Fs(e,r,s,l)}if(a===null&&o!==null&&(a=o),e.push(Ch),d!=null){if(a!=null)throw Error(tn(92));if(X6(d)&&1<d.length)throw Error(tn(93));a=""+d}return typeof a=="string"&&a[0]===`
`&&e.push(hF),a!==null&&e.push(un(Wa(""+a))),null;case"input":e.push(mc("input")),l=d=s=a=null;for(o in n)if(fs.call(n,o)&&(c=n[o],c!=null))switch(o){case"children":case"dangerouslySetInnerHTML":throw Error(tn(399,"input"));case"defaultChecked":l=c;break;case"defaultValue":s=c;break;case"checked":d=c;break;case"value":a=c;break;default:Fs(e,r,o,c)}return d!==null?Fs(e,r,"checked",d):l!==null&&Fs(e,r,"checked",l),a!==null?Fs(e,r,"value",a):s!==null&&Fs(e,r,"value",s),e.push(nse),null;case"menuitem":e.push(mc("menuitem"));for(var p in n)if(fs.call(n,p)&&(a=n[p],a!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(tn(400));default:Fs(e,r,p,a)}return e.push(Ch),null;case"title":e.push(mc("title")),a=null;for(h in n)if(fs.call(n,h)&&(o=n[h],o!=null))switch(h){case"children":a=o;break;case"dangerouslySetInnerHTML":throw Error(tn(434));default:Fs(e,r,h,o)}return e.push(Ch),a;case"listing":case"pre":e.push(mc(t)),o=a=null;for(l in n)if(fs.call(n,l)&&(s=n[l],s!=null))switch(l){case"children":a=s;break;case"dangerouslySetInnerHTML":o=s;break;default:Fs(e,r,l,s)}if(e.push(Ch),o!=null){if(a!=null)throw Error(tn(60));if(typeof o!="object"||!("__html"in o))throw Error(tn(61));n=o.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(hF,un(n)):e.push(un(""+n)))}return typeof a=="string"&&a[0]===`
`&&e.push(hF),a;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(mc(t));for(var m in n)if(fs.call(n,m)&&(a=n[m],a!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(tn(399,t));default:Fs(e,r,m,a)}return e.push(nse),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return fF(e,n,t,r);case"html":return i.insertionMode===0&&e.push(nJt),fF(e,n,t,r);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return fF(e,n,t,r);e.push(mc(t)),o=a=null;for(c in n)if(fs.call(n,c)&&(s=n[c],s!=null))switch(c){case"children":a=s;break;case"dangerouslySetInnerHTML":o=s;break;case"style":pje(e,r,s);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:hje(c)&&typeof s!="function"&&typeof s!="symbol"&&e.push(wh,un(c),$v,un(Wa(s)),Vm)}return e.push(Ch),pT(e,o,a),a}}var iJt=Ze("</"),aJt=Ze(">"),oJt=Ze('<template id="'),sJt=Ze('"></template>'),lJt=Ze("<!--$-->"),uJt=Ze('<!--$?--><template id="'),cJt=Ze('"></template>'),dJt=Ze("<!--$!-->"),fJt=Ze("<!--/$-->"),hJt=Ze("<template"),pJt=Ze('"'),mJt=Ze(' data-dgst="');Ze(' data-msg="');Ze(' data-stck="');var gJt=Ze("></template>");function ise(e,t,n){if(dt(e,uJt),n===null)throw Error(tn(395));return dt(e,n),Ur(e,cJt)}var vJt=Ze('<div hidden id="'),yJt=Ze('">'),bJt=Ze("</div>"),xJt=Ze('<svg aria-hidden="true" style="display:none" id="'),wJt=Ze('">'),CJt=Ze("</svg>"),SJt=Ze('<math aria-hidden="true" style="display:none" id="'),_Jt=Ze('">'),EJt=Ze("</math>"),kJt=Ze('<table hidden id="'),TJt=Ze('">'),AJt=Ze("</table>"),jJt=Ze('<table hidden><tbody id="'),IJt=Ze('">'),DJt=Ze("</tbody></table>"),$Jt=Ze('<table hidden><tr id="'),OJt=Ze('">'),MJt=Ze("</tr></table>"),RJt=Ze('<table hidden><colgroup id="'),PJt=Ze('">'),FJt=Ze("</colgroup></table>");function NJt(e,t,n,r){switch(n.insertionMode){case 0:case 1:return dt(e,vJt),dt(e,t.segmentPrefix),dt(e,un(r.toString(16))),Ur(e,yJt);case 2:return dt(e,xJt),dt(e,t.segmentPrefix),dt(e,un(r.toString(16))),Ur(e,wJt);case 3:return dt(e,SJt),dt(e,t.segmentPrefix),dt(e,un(r.toString(16))),Ur(e,_Jt);case 4:return dt(e,kJt),dt(e,t.segmentPrefix),dt(e,un(r.toString(16))),Ur(e,TJt);case 5:return dt(e,jJt),dt(e,t.segmentPrefix),dt(e,un(r.toString(16))),Ur(e,IJt);case 6:return dt(e,$Jt),dt(e,t.segmentPrefix),dt(e,un(r.toString(16))),Ur(e,OJt);case 7:return dt(e,RJt),dt(e,t.segmentPrefix),dt(e,un(r.toString(16))),Ur(e,PJt);default:throw Error(tn(397))}}function LJt(e,t){switch(t.insertionMode){case 0:case 1:return Ur(e,bJt);case 2:return Ur(e,CJt);case 3:return Ur(e,EJt);case 4:return Ur(e,AJt);case 5:return Ur(e,DJt);case 6:return Ur(e,MJt);case 7:return Ur(e,FJt);default:throw Error(tn(397))}}var BJt=Ze('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),VJt=Ze('$RS("'),zJt=Ze('","'),UJt=Ze('")<\/script>'),HJt=Ze('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),WJt=Ze('$RC("'),GJt=Ze('","'),YJt=Ze('")<\/script>'),qJt=Ze('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),KJt=Ze('$RX("'),ZJt=Ze('"'),XJt=Ze(")<\/script>"),pF=Ze(","),JJt=/[<\u2028\u2029]/g;function mF(e){return JSON.stringify(e).replace(JJt,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var EC=Object.assign,QJt=Symbol.for("react.element"),mje=Symbol.for("react.portal"),gje=Symbol.for("react.fragment"),vje=Symbol.for("react.strict_mode"),yje=Symbol.for("react.profiler"),bje=Symbol.for("react.provider"),xje=Symbol.for("react.context"),wje=Symbol.for("react.forward_ref"),Cje=Symbol.for("react.suspense"),Sje=Symbol.for("react.suspense_list"),_je=Symbol.for("react.memo"),mG=Symbol.for("react.lazy"),eQt=Symbol.for("react.scope"),tQt=Symbol.for("react.debug_trace_mode"),nQt=Symbol.for("react.legacy_hidden"),rQt=Symbol.for("react.default_value"),ase=Symbol.iterator;function J6(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case gje:return"Fragment";case mje:return"Portal";case yje:return"Profiler";case vje:return"StrictMode";case Cje:return"Suspense";case Sje:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case xje:return(e.displayName||"Context")+".Consumer";case bje:return(e._context.displayName||"Context")+".Provider";case wje:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _je:return t=e.displayName||null,t!==null?t:J6(e.type)||"Memo";case mG:t=e._payload,e=e._init;try{return J6(e(t))}catch{}}return null}var Eje={};function ose(e,t){if(e=e.contextTypes,!e)return Eje;var n={},r;for(r in e)n[r]=t[r];return n}var tg=null;function LO(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(tn(401))}else{if(n===null)throw Error(tn(401));LO(e,n)}t.context._currentValue=t.value}}function kje(e){e.context._currentValue=e.parentValue,e=e.parent,e!==null&&kje(e)}function Tje(e){var t=e.parent;t!==null&&Tje(t),e.context._currentValue=e.value}function Aje(e,t){if(e.context._currentValue=e.parentValue,e=e.parent,e===null)throw Error(tn(402));e.depth===t.depth?LO(e,t):Aje(e,t)}function jje(e,t){var n=t.parent;if(n===null)throw Error(tn(402));e.depth===n.depth?LO(e,n):jje(e,n),t.context._currentValue=t.value}function Jj(e){var t=tg;t!==e&&(t===null?Tje(e):e===null?kje(t):t.depth===e.depth?LO(t,e):t.depth>e.depth?Aje(t,e):jje(t,e),tg=e)}var sse={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function lse(e,t,n,r){var i=e.state!==void 0?e.state:null;e.updater=sse,e.props=n,e.state=i;var a={queue:[],replace:!1};e._reactInternals=a;var o=t.contextType;if(e.context=typeof o=="object"&&o!==null?o._currentValue:r,o=t.getDerivedStateFromProps,typeof o=="function"&&(o=o(n,i),i=o==null?i:EC({},i,o),e.state=i),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&sse.enqueueReplaceState(e,e.state,null),a.queue!==null&&0<a.queue.length)if(t=a.queue,o=a.replace,a.queue=null,a.replace=!1,o&&t.length===1)e.state=t[0];else{for(a=o?t[0]:e.state,i=!0,o=o?1:0;o<t.length;o++){var s=t[o];s=typeof s=="function"?s.call(e,a,n,r):s,s!=null&&(i?(i=!1,a=EC({},a,s)):EC(a,s))}e.state=a}else a.queue=null}var iQt={id:1,overflow:""};function Q6(e,t,n){var r=e.id;e=e.overflow;var i=32-mT(r)-1;r&=~(1<<i),n+=1;var a=32-mT(t)+i;if(30<a){var o=i-i%5;return a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,{id:1<<32-mT(t)+i|n<<i|r,overflow:a+e}}return{id:1<<a|n<<i|r,overflow:e}}var mT=Math.clz32?Math.clz32:sQt,aQt=Math.log,oQt=Math.LN2;function sQt(e){return e>>>=0,e===0?32:31-(aQt(e)/oQt|0)|0}function lQt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var uQt=typeof Object.is=="function"?Object.is:lQt,If=null,gG=null,gT=null,Ir=null,Pw=!1,Qj=!1,NS=0,Jh=null,BO=0;function zm(){if(If===null)throw Error(tn(321));return If}function use(){if(0<BO)throw Error(tn(312));return{memoizedState:null,queue:null,next:null}}function vG(){return Ir===null?gT===null?(Pw=!1,gT=Ir=use()):(Pw=!0,Ir=gT):Ir.next===null?(Pw=!1,Ir=Ir.next=use()):(Pw=!0,Ir=Ir.next),Ir}function yG(){gG=If=null,Qj=!1,gT=null,BO=0,Ir=Jh=null}function Ije(e,t){return typeof t=="function"?t(e):t}function cse(e,t,n){if(If=zm(),Ir=vG(),Pw){var r=Ir.queue;if(t=r.dispatch,Jh!==null&&(n=Jh.get(r),n!==void 0)){Jh.delete(r),r=Ir.memoizedState;do r=e(r,n.action),n=n.next;while(n!==null);return Ir.memoizedState=r,[r,t]}return[Ir.memoizedState,t]}return e=e===Ije?typeof t=="function"?t():t:n!==void 0?n(t):t,Ir.memoizedState=e,e=Ir.queue={last:null,dispatch:null},e=e.dispatch=cQt.bind(null,If,e),[Ir.memoizedState,e]}function dse(e,t){if(If=zm(),Ir=vG(),t=t===void 0?null:t,Ir!==null){var n=Ir.memoizedState;if(n!==null&&t!==null){var r=n[1];e:if(r===null)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!uQt(t[i],r[i])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),Ir.memoizedState=[e,t],e}function cQt(e,t,n){if(25<=BO)throw Error(tn(301));if(e===If)if(Qj=!0,e={action:n,next:null},Jh===null&&(Jh=new Map),n=Jh.get(t),n===void 0)Jh.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function dQt(){throw Error(tn(394))}function Tk(){}var fse={readContext:function(e){return e._currentValue},useContext:function(e){return zm(),e._currentValue},useMemo:dse,useReducer:cse,useRef:function(e){If=zm(),Ir=vG();var t=Ir.memoizedState;return t===null?(e={current:e},Ir.memoizedState=e):t},useState:function(e){return cse(Ije,e)},useInsertionEffect:Tk,useLayoutEffect:function(){},useCallback:function(e,t){return dse(function(){return e},t)},useImperativeHandle:Tk,useEffect:Tk,useDebugValue:Tk,useDeferredValue:function(e){return zm(),e},useTransition:function(){return zm(),[!1,dQt]},useId:function(){var e=gG.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-mT(e)-1)).toString(32)+t;var n=vT;if(n===null)throw Error(tn(404));return t=NS++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return zm(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(tn(407));return n()}},vT=null,gF=cje.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function fQt(e){return console.error(e),null}function Fw(){}function hQt(e,t,n,r,i,a,o,s,l){var c=[],d=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:d,pingedTasks:c,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:i===void 0?fQt:i,onAllReady:a===void 0?Fw:a,onShellReady:o===void 0?Fw:o,onShellError:s===void 0?Fw:s,onFatalError:l===void 0?Fw:l},n=eI(t,0,null,n,!1,!1),n.parentFlushed=!0,e=bG(t,e,null,n,d,Eje,null,iQt),c.push(e),t}function bG(e,t,n,r,i,a,o,s){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var l={node:t,ping:function(){var c=e.pingedTasks;c.push(l),c.length===1&&Oje(e)},blockedBoundary:n,blockedSegment:r,abortSet:i,legacyContext:a,context:o,treeContext:s};return i.add(l),l}function eI(e,t,n,r,i,a){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:i,textEmbedded:a}}function LS(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function tI(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,fje(e.destination,t)):(e.status=1,e.fatalError=t)}function hse(e,t,n,r,i){for(If={},gG=t,NS=0,e=n(r,i);Qj;)Qj=!1,NS=0,BO+=1,Ir=null,e=n(r,i);return yG(),e}function pse(e,t,n,r){var i=n.render(),a=r.childContextTypes;if(a!=null){var o=t.legacyContext;if(typeof n.getChildContext!="function")r=o;else{n=n.getChildContext();for(var s in n)if(!(s in a))throw Error(tn(108,J6(r)||"Unknown",s));r=EC({},o,n)}t.legacyContext=r,Ws(e,t,i),t.legacyContext=o}else Ws(e,t,i)}function mse(e,t){if(e&&e.defaultProps){t=EC({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function e7(e,t,n,r,i){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){i=ose(n,t.legacyContext);var a=n.contextType;a=new n(r,typeof a=="object"&&a!==null?a._currentValue:i),lse(a,n,r,i),pse(e,t,a,n)}else{a=ose(n,t.legacyContext),i=hse(e,t,n,r,a);var o=NS!==0;if(typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0)lse(i,n,r,a),pse(e,t,i,n);else if(o){r=t.treeContext,t.treeContext=Q6(r,1,0);try{Ws(e,t,i)}finally{t.treeContext=r}}else Ws(e,t,i)}else if(typeof n=="string"){switch(i=t.blockedSegment,a=rJt(i.chunks,n,r,e.responseState,i.formatContext),i.lastPushedText=!1,o=i.formatContext,i.formatContext=XXt(o,n,r),t7(e,t,a),i.formatContext=o,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push(iJt,un(n),aJt)}i.lastPushedText=!1}else{switch(n){case nQt:case tQt:case vje:case yje:case gje:Ws(e,t,r.children);return;case Sje:Ws(e,t,r.children);return;case eQt:throw Error(tn(343));case Cje:e:{n=t.blockedBoundary,i=t.blockedSegment,a=r.fallback,r=r.children,o=new Set;var s={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:o,errorDigest:null},l=eI(e,i.chunks.length,s,i.formatContext,!1,!1);i.children.push(l),i.lastPushedText=!1;var c=eI(e,0,null,i.formatContext,!1,!1);c.parentFlushed=!0,t.blockedBoundary=s,t.blockedSegment=c;try{if(t7(e,t,r),c.lastPushedText&&c.textEmbedded&&c.chunks.push(pG),c.status=1,nI(s,c),s.pendingTasks===0)break e}catch(d){c.status=4,s.forceClientRender=!0,s.errorDigest=LS(e,d)}finally{t.blockedBoundary=n,t.blockedSegment=i}t=bG(e,a,n,l,o,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case wje:if(r=hse(e,t,n.render,r,i),NS!==0){n=t.treeContext,t.treeContext=Q6(n,1,0);try{Ws(e,t,r)}finally{t.treeContext=n}}else Ws(e,t,r);return;case _je:n=n.type,r=mse(n,r),e7(e,t,n,r,i);return;case bje:if(i=r.children,n=n._context,r=r.value,a=n._currentValue,n._currentValue=r,o=tg,tg=r={parent:o,depth:o===null?0:o.depth+1,context:n,parentValue:a,value:r},t.context=r,Ws(e,t,i),e=tg,e===null)throw Error(tn(403));r=e.parentValue,e.context._currentValue=r===rQt?e.context._defaultValue:r,e=tg=e.parent,t.context=e;return;case xje:r=r.children,r=r(n._currentValue),Ws(e,t,r);return;case mG:i=n._init,n=i(n._payload),r=mse(n,r),e7(e,t,n,r,void 0);return}throw Error(tn(130,n==null?n:typeof n,""))}}function Ws(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case QJt:e7(e,t,n.type,n.props,n.ref);return;case mje:throw Error(tn(257));case mG:var r=n._init;n=r(n._payload),Ws(e,t,n);return}if(X6(n)){gse(e,t,n);return}if(n===null||typeof n!="object"?r=null:(r=ase&&n[ase]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var i=[];do i.push(n.value),n=r.next();while(!n.done);gse(e,t,i)}return}throw e=Object.prototype.toString.call(n),Error(tn(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}typeof n=="string"?(r=t.blockedSegment,r.lastPushedText=Joe(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText)):typeof n=="number"&&(r=t.blockedSegment,r.lastPushedText=Joe(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function gse(e,t,n){for(var r=n.length,i=0;i<r;i++){var a=t.treeContext;t.treeContext=Q6(a,r,i);try{t7(e,t,n[i])}finally{t.treeContext=a}}}function t7(e,t,n){var r=t.blockedSegment.formatContext,i=t.legacyContext,a=t.context;try{return Ws(e,t,n)}catch(l){if(yG(),typeof l=="object"&&l!==null&&typeof l.then=="function"){n=l;var o=t.blockedSegment,s=eI(e,o.chunks.length,null,o.formatContext,o.lastPushedText,!0);o.children.push(s),o.lastPushedText=!1,e=bG(e,t.node,t.blockedBoundary,s,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=a,Jj(a)}else throw t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=a,Jj(a),l}}function pQt(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,$je(this,t,e)}function Dje(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.close())):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=n===void 0?Error(tn(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(i){return Dje(i,t,n)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function nI(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&nI(e,n)}else e.completedSegments.push(t)}function $je(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(tn(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=Fw,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&nI(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(pQt,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(nI(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function Oje(e){if(e.status!==2){var t=tg,n=gF.current;gF.current=fse;var r=vT;vT=e.responseState;try{var i=e.pingedTasks,a;for(a=0;a<i.length;a++){var o=i[a],s=e,l=o.blockedSegment;if(l.status===0){Jj(o.context);try{Ws(s,o,o.node),l.lastPushedText&&l.textEmbedded&&l.chunks.push(pG),o.abortSet.delete(o),l.status=1,$je(s,o.blockedBoundary,l)}catch(g){if(yG(),typeof g=="object"&&g!==null&&typeof g.then=="function"){var c=o.ping;g.then(c,c)}else{o.abortSet.delete(o),l.status=4;var d=o.blockedBoundary,h=g,p=LS(s,h);if(d===null?tI(s,h):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.errorDigest=p,d.parentFlushed&&s.clientRenderedBoundaries.push(d))),s.allPendingTasks--,s.allPendingTasks===0){var m=s.onAllReady;m()}}}finally{}}}i.splice(0,a),e.destination!==null&&xG(e,e.destination)}catch(g){LS(e,g),tI(e,g)}finally{vT=r,gF.current=n,n===fse&&Jj(t)}}}function Ak(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,dt(t,oJt),dt(t,e.placeholderPrefix),e=un(r.toString(16)),dt(t,e),Ur(t,sJt);case 1:n.status=2;var i=!0;r=n.chunks;var a=0;n=n.children;for(var o=0;o<n.length;o++){for(i=n[o];a<i.index;a++)dt(t,r[a]);i=VO(e,t,i)}for(;a<r.length-1;a++)dt(t,r[a]);return a<r.length&&(i=Ur(t,r[a])),i;default:throw Error(tn(390))}}function VO(e,t,n){var r=n.boundary;if(r===null)return Ak(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)r=r.errorDigest,Ur(t,dJt),dt(t,hJt),r&&(dt(t,mJt),dt(t,un(Wa(r))),dt(t,pJt)),Ur(t,gJt),Ak(e,t,n);else if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var i=e.responseState,a=i.nextSuspenseID++;i=Ze(i.boundaryPrefix+a.toString(16)),r=r.id=i,ise(t,e.responseState,r),Ak(e,t,n)}else if(r.byteSize>e.progressiveChunkSize)r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),ise(t,e.responseState,r.id),Ak(e,t,n);else{if(Ur(t,lJt),n=r.completedSegments,n.length!==1)throw Error(tn(391));VO(e,t,n[0])}return Ur(t,fJt)}function vse(e,t,n){return NJt(t,e.responseState,n.formatContext,n.id),VO(e,t,n),LJt(t,n.formatContext)}function yse(e,t,n){for(var r=n.completedSegments,i=0;i<r.length;i++)Mje(e,t,n,r[i]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,dt(t,e.startInlineScript),e.sentCompleteBoundaryFunction?dt(t,WJt):(e.sentCompleteBoundaryFunction=!0,dt(t,HJt)),r===null)throw Error(tn(395));return n=un(n.toString(16)),dt(t,r),dt(t,GJt),dt(t,e.segmentPrefix),dt(t,n),Ur(t,YJt)}function Mje(e,t,n,r){if(r.status===2)return!0;var i=r.id;if(i===-1){if((r.id=n.rootSegmentID)===-1)throw Error(tn(392));return vse(e,t,r)}return vse(e,t,r),e=e.responseState,dt(t,e.startInlineScript),e.sentCompleteSegmentFunction?dt(t,VJt):(e.sentCompleteSegmentFunction=!0,dt(t,BJt)),dt(t,e.segmentPrefix),i=un(i.toString(16)),dt(t,i),dt(t,zJt),dt(t,e.placeholderPrefix),dt(t,i),Ur(t,UJt)}function xG(e,t){Us=new Uint8Array(512),Hs=0;try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){VO(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)dt(t,r[n]);n<r.length&&Ur(t,r[n])}var i=e.clientRenderedBoundaries,a;for(a=0;a<i.length;a++){var o=i[a];r=t;var s=e.responseState,l=o.id,c=o.errorDigest,d=o.errorMessage,h=o.errorComponentStack;if(dt(r,s.startInlineScript),s.sentClientRenderFunction?dt(r,KJt):(s.sentClientRenderFunction=!0,dt(r,qJt)),l===null)throw Error(tn(395));dt(r,l),dt(r,ZJt),(c||d||h)&&(dt(r,pF),dt(r,un(mF(c||"")))),(d||h)&&(dt(r,pF),dt(r,un(mF(d||"")))),h&&(dt(r,pF),dt(r,un(mF(h)))),Ur(r,XJt)}i.splice(0,a);var p=e.completedBoundaries;for(a=0;a<p.length;a++)yse(e,t,p[a]);p.splice(0,a),qoe(t),Us=new Uint8Array(512),Hs=0;var m=e.partialBoundaries;for(a=0;a<m.length;a++){var g=m[a];e:{i=e,o=t;var v=g.completedSegments;for(s=0;s<v.length;s++)if(!Mje(i,o,g,v[s])){s++,v.splice(0,s);var b=!1;break e}v.splice(0,s),b=!0}if(!b){e.destination=null,a++,m.splice(0,a);return}}m.splice(0,a);var y=e.completedBoundaries;for(a=0;a<y.length;a++)yse(e,t,y[a]);y.splice(0,a)}finally{qoe(t),e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.close()}}function bse(e,t){try{var n=e.abortableTasks;n.forEach(function(r){return Dje(r,e,t)}),n.clear(),e.destination!==null&&xG(e,e.destination)}catch(r){LS(e,r),tI(e,r)}}dG.renderToReadableStream=function(e,t){return new Promise(function(n,r){var i,a,o=new Promise(function(d,h){a=d,i=h}),s=hQt(e,KXt(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),ZXt(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,a,function(){var d=new ReadableStream({type:"bytes",pull:function(h){if(s.status===1)s.status=2,fje(h,s.fatalError);else if(s.status!==2&&s.destination===null){s.destination=h;try{xG(s,h)}catch(p){LS(s,p),tI(s,p)}}},cancel:function(){bse(s)}},{highWaterMark:0});d.allReady=o,n(d)},function(d){o.catch(function(){}),r(d)},i);if(t&&t.signal){var l=t.signal,c=function(){bse(s,l.reason),l.removeEventListener("abort",c)};l.addEventListener("abort",c)}Oje(s)})};dG.version="18.3.1";var Nb,Rje;Nb=Fb,Rje=dG;Nb.version;var mQt=Nb.renderToString;Nb.renderToStaticMarkup;Nb.renderToNodeStream;Nb.renderToStaticNodeStream;Rje.renderToReadableStream;var gQt=z$,vQt=iH,yQt=vQt(function(e,t,n){gQt(e,n,t)}),bQt=yQt;const wG=Pe(bQt);var xQt=T0,wQt=b$;function CQt(e){return xQt(function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(a=e.length>3&&typeof a=="function"?(i--,a):void 0,o&&wQt(n[0],n[1],o)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,a)}return t})}var Pje=CQt,SQt=D0,_Qt=Pje,EQt=W$,kQt=_Qt(function(e,t,n,r){SQt(t,EQt(t),e,r)}),TQt=kQt,AQt=Nf,jQt=ul,IQt=pH,DQt="[object DOMException]",$Qt="[object Error]";function OQt(e){if(!jQt(e))return!1;var t=AQt(e);return t==$Qt||t==DQt||typeof e.message=="string"&&typeof e.name=="string"&&!IQt(e)}var Fje=OQt,MQt=Iwe,RQt=T0,PQt=Fje,FQt=RQt(function(e,t){try{return MQt(e,void 0,t)}catch(n){return PQt(n)?n:new Error(n)}}),NQt=FQt,LQt=I2,Nje=Object.prototype,BQt=Nje.hasOwnProperty;function VQt(e,t,n,r){return e===void 0||LQt(e,Nje[n])&&!BQt.call(r,n)?t:e}var zQt=VQt,UQt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function HQt(e){return"\\"+UQt[e]}var WQt=HQt,GQt=/<%=([\s\S]+?)%>/g,Lje=GQt,YQt=pEe,qQt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},KQt=YQt(qQt),ZQt=KQt,XQt=ZQt,JQt=du,Bje=/[&<>"']/g,QQt=RegExp(Bje.source);function een(e){return e=JQt(e),e&&QQt.test(e)?e.replace(Bje,XQt):e}var ten=een,nen=/<%-([\s\S]+?)%>/g,ren=nen,ien=/<%([\s\S]+?)%>/g,aen=ien,oen=ten,sen=ren,len=aen,uen=Lje,cen={escape:sen,evaluate:len,interpolate:uen,variable:"",imports:{_:{escape:oen}}},den=cen,xse=TQt,fen=NQt,hen=DTe,wse=zQt,pen=WQt,men=Fje,gen=b$,ven=Yf,yen=Lje,Cse=den,ben=du,xen="Invalid `variable` option passed into `_.template`",wen=/\b__p \+= '';/g,Cen=/\b(__p \+=) '' \+/g,Sen=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_en=/[()=,{}\[\]\/\s]/,Een=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,jk=/($^)/,ken=/['\n\r\u2028\u2029\\]/g,Ten=Object.prototype,Sse=Ten.hasOwnProperty;function Aen(e,t,n){var r=Cse.imports._.templateSettings||Cse;n&&gen(e,t,n)&&(t=void 0),e=ben(e),t=xse({},t,r,wse);var i=xse({},t.imports,r.imports,wse),a=ven(i),o=hen(i,a),s,l,c=0,d=t.interpolate||jk,h="__p += '",p=RegExp((t.escape||jk).source+"|"+d.source+"|"+(d===yen?Een:jk).source+"|"+(t.evaluate||jk).source+"|$","g"),m=Sse.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+`
`:"";e.replace(p,function(b,y,x,w,C,S){return x||(x=w),h+=e.slice(c,S).replace(ken,pen),y&&(s=!0,h+=`' +
__e(`+y+`) +
'`),C&&(l=!0,h+=`';
`+C+`;
__p += '`),x&&(h+=`' +
((__t = (`+x+`)) == null ? '' : __t) +
'`),c=S+b.length,b}),h+=`';
`;var g=Sse.call(t,"variable")&&t.variable;if(!g)h=`with (obj) {
`+h+`
}
`;else if(_en.test(g))throw new Error(xen);h=(l?h.replace(wen,""):h).replace(Cen,"$1").replace(Sen,"$1;"),h="function("+(g||"obj")+`) {
`+(g?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(s?", __e = _.escape":"")+(l?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+h+`return __p
}`;var v=fen(function(){return Function(a,m+"return "+h).apply(void 0,o)});if(v.source=h,men(v))throw v;return v}var jen=Aen;const Ty=Pe(jen);var Ien=D0,Den=Pje,$en=Yf,Oen=Den(function(e,t,n,r){Ien(t,$en(t),e,r)}),Men=Oen;const Ren=Pe(Men);var o0={};Object.defineProperty(o0,"__esModule",{value:!0});o0.SKIP=zje;var Vje=o0.reduce=Uje;o0.withCustomPathSegment=o0.SKIP_MARKER=void 0;function CG(e,t){return Nen(e)||Fen(e,t)||Pen()}function Pen(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Fen(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(t&&n.length===t));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}function Nen(e){if(Array.isArray(e))return e}function yT(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yT=function(n){return typeof n}:yT=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},yT(e)}function zO(e,t,n){return t}function Len(e){return Array.isArray(e)?"array":e===null?"null":yT(e)}var SG={_:"SKIP_MARKER"};o0.SKIP_MARKER=SG;function zje(e){return[SG,e]}function _G(e,t,n,r){var i=t(e,n,r);return i===zje?[!0,e]:Array.isArray(i)&&i[0]===SG?[!0,i[1]]:[!1,i]}function Ben(e,t,n,r){var i=_G(e,t,n,r),a=CG(i,2),o=a[1];return o}function Ven(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:zO,a=_G(e,t,n,r),o=CG(a,2),s=o[0],l=o[1];return s?l:Object.keys(n).reduce(function(c,d){return EG(c,t,n[d],r.concat(i(n[d],d,n)),i)},l)}function zen(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:zO,a=_G(e,t,n,r),o=CG(a,2),s=o[0],l=o[1];return s?l:n.reduce(function(c,d,h){return EG(c,t,d,r.concat(i(d,h,n)),i)},l)}function EG(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:zO,a=Len(n);return a==="object"?Ven(e,t,n,r,i):a==="array"?zen(e,t,n,r,i):Ben(e,t,n,r)}function Uje(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:zO;return EG(n,t,e,[],r)}var Uen=function(t){return function(n,r,i){return Uje(n,r,i,t)}};o0.withCustomPathSegment=Uen;function kG(e){return t=>na(()=>{const n=new Mr;return t.pipe(_U(()=>n,{leading:!0,trailing:!0}),ZCe((r,i)=>PCe(e(r,i),au).pipe(k$(()=>{n.next()}))))})}const Hen=["Value","Copy","Blank","ReturnIntoArray","ReturnIntoObject","ReturnIntoObjectSameKey","PushField","PushElement","PushParent","Pop","PushFieldCopy","PushFieldBlank","PushElementCopy","PushElementBlank","ReturnIntoObjectPop","ReturnIntoObjectSameKeyPop","ReturnIntoArrayPop","ObjectSetFieldValue","ObjectCopyField","ObjectDeleteField","ArrayAppendValue","ArrayAppendSlice","StringAppendString","StringAppendSlice"];class Hje{constructor(t,n,r){this.model=t,this.root=n,this.patch=r,this.i=0,this.inputStack=[],this.outputStack=[]}read(){return this.patch[this.i++]}process(){for(this.inputStack.push({value:this.root}),this.outputStack.push({value:this.root});this.i<this.patch.length;){let n=this.read(),r=Hen[n];if(!r)throw new Error(`Unknown opcode: ${n}`);let i=`process${r}`;this[i].apply(this)}let t=this.outputStack.pop();return this.finalizeOutput(t)}inputEntry(){return this.inputStack[this.inputStack.length-1]}inputKey(t,n){return t.keys||(t.keys=this.model.objectGetKeys(t.value).sort()),t.keys[n]}outputEntry(){return this.outputStack[this.outputStack.length-1]}outputArray(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyArray(t.value)),t.writeValue}outputObject(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyObject(t.value)),t.writeValue}outputString(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyString(t.value)),t.writeValue}finalizeOutput(t){return t.writeValue?this.model.finalize(t.writeValue):t.value}processValue(){let t=this.model.wrap(this.read());this.outputStack.push({value:t})}processCopy(){let t=this.inputEntry();this.outputStack.push({value:t.value})}processBlank(){this.outputStack.push({value:null})}processReturnIntoArray(){let t=this.outputStack.pop(),n=this.finalizeOutput(t),r=this.outputArray();this.model.arrayAppendValue(r,n)}processReturnIntoObject(){let t=this.read(),n=this.outputStack.pop(),r=this.finalizeOutput(n);r=this.model.markChanged(r);let i=this.outputObject();this.model.objectSetField(i,t,r)}processReturnIntoObjectSameKey(){let t=this.inputEntry(),n=this.outputStack.pop(),r=this.finalizeOutput(n),i=this.outputObject();this.model.objectSetField(i,t.key,r)}processPushField(){let t=this.read(),n=this.inputEntry(),r=this.inputKey(n,t),i=this.model.objectGetField(n.value,r);this.inputStack.push({value:i,key:r})}processPushElement(){let t=this.read(),n=this.inputEntry(),r=this.model.arrayGetElement(n.value,t);this.inputStack.push({value:r})}processPop(){this.inputStack.pop()}processPushFieldCopy(){this.processPushField(),this.processCopy()}processPushFieldBlank(){this.processPushField(),this.processBlank()}processPushElementCopy(){this.processPushElement(),this.processCopy()}processPushElementBlank(){this.processPushElement(),this.processBlank()}processReturnIntoObjectPop(){this.processReturnIntoObject(),this.processPop()}processReturnIntoObjectSameKeyPop(){this.processReturnIntoObjectSameKey(),this.processPop()}processReturnIntoArrayPop(){this.processReturnIntoArray(),this.processPop()}processObjectSetFieldValue(){this.processValue(),this.processReturnIntoObject()}processObjectCopyField(){this.processPushField(),this.processCopy(),this.processReturnIntoObjectSameKey(),this.processPop()}processObjectDeleteField(){let t=this.read(),n=this.inputEntry(),r=this.inputKey(n,t),i=this.outputObject();this.model.objectDeleteField(i,r)}processArrayAppendValue(){let t=this.model.wrap(this.read()),n=this.outputArray();this.model.arrayAppendValue(n,t)}processArrayAppendSlice(){let t=this.read(),n=this.read(),r=this.outputArray(),i=this.inputEntry().value;this.model.arrayAppendSlice(r,i,t,n)}processStringAppendString(){let t=this.model.wrap(this.read()),n=this.outputString();this.model.stringAppendValue(n,t)}processStringAppendSlice(){let t=this.read(),n=this.read(),r=this.outputString(),i=this.inputEntry().value;this.model.stringAppendSlice(r,i,t,n)}}function m_(e){return e>>16?4:e>>11?3:e>>7?2:1}function n7(e){let t=0;for(let n=0;n<e.length;n++){let r=e.codePointAt(n),i=m_(r);i==4&&n++,t+=i}return t}function _se(e,t,n=0){let r=n,i=0;for(i=n;r<t;i++){let a=e.codePointAt(i),o=m_(a);o===4&&i++,r+=o}return i}function Wen(e,t){let n=Math.min(e.length,t.length),r=0;for(let i=0;i<n;){let a=e.codePointAt(i),o=t.codePointAt(i);if(a!==o)return r;let s=m_(a);r+=s,i+=s===4?2:1}return r}function Gen(e,t,n=0){let r=Math.min(e.length,t.length)-n,i=0;for(let a=0;a<r;){let o=e.codePointAt(e.length-1-a),s=t.codePointAt(t.length-1-a);if(o!==s)return i;let l=m_(o);i+=l,a+=l===4?2:1}return i}class r7{constructor(t){this.meta=t}wrap(t){return this.wrapWithMeta(t,this.meta,this.meta)}wrapWithMeta(t,n,r=this.meta){return{data:t,startMeta:n,endMeta:r}}asObject(t){if(!t.content){let n={};for(let[r,i]of Object.entries(t.data))n[r]=this.wrapWithMeta(i,t.startMeta);t.content={type:"object",fields:n}}return t.content}asArray(t){if(!t.content){let n=t.data.map(i=>this.wrapWithMeta(i,t.startMeta)),r=n.map(()=>this.meta);t.content={type:"array",elements:n,metas:r}}return t.content}asString(t){if(!t.content){let n=t.data,r={value:n,utf8size:n7(n),uses:[],startMeta:t.startMeta,endMeta:t.endMeta};t.content=this.stringFromParts([r])}return t.content}stringFromParts(t){let n={type:"string",parts:t};for(let r of t)r.uses.push(n);return n}objectGetKeys(t){return t.content?Object.keys(t.content.fields):Object.keys(t.data)}objectGetField(t,n){return this.asObject(t).fields[n]}arrayGetElement(t,n){return this.asArray(t).elements[n]}finalize(t){return this.updateEndMeta(t),{content:t,startMeta:this.meta,endMeta:this.meta}}markChanged(t){return this.wrap(Yd(t))}updateEndMeta(t){if(t.type=="string")for(let n of t.parts)n.endMeta=this.meta;else if(t.type==="array")for(let n of t.elements)n.content&&n.endMeta!==this.meta&&this.updateEndMeta(n.content),n.endMeta=this.meta;else for(let n of Object.values(t.fields))n.content&&n.endMeta!==this.meta&&this.updateEndMeta(n.content),n.endMeta=this.meta}copyString(t){if(t){let n=this.asString(t);return this.stringFromParts(n.parts.slice())}else return{type:"string",parts:[]}}copyObject(t){let n={type:"object",fields:{}};if(t){let r=this.asObject(t);Object.assign(n.fields,r.fields)}return n}copyArray(t){let n=t?this.asArray(t):null,r=n?n.elements:[],i=n?n.metas:[];return{type:"array",elements:r,metas:i}}objectSetField(t,n,r){t.fields[n]=r}objectDeleteField(t,n){delete t.fields[n]}arrayAppendValue(t,n){t.elements.push(n),t.metas.push(this.meta)}arrayAppendSlice(t,n,r,i){let a=this.asArray(n),o=a.elements.length===r;if(t.elements.push(...a.elements.slice(r,i)),o)t.metas.push(...a.metas.slice(r,i));else for(let s=r;s<i;s++)t.metas.push(this.meta)}stringAppendValue(t,n){let r=this.asString(n);for(let i of r.parts)this.stringAppendPart(t,i)}stringAppendPart(t,n){t.parts.push(n),n.uses.push(t)}resolveStringPart(t,n,r){if(r===0)return n;for(let i=n;i<t.parts.length;i++){let a=t.parts[i];if(r===a.utf8size)return i+1;if(r<a.utf8size)return this.splitString(a,r),i+1;r-=a.utf8size}throw new Error("splitting string out of bounds")}splitString(t,n){let r,i,a=n,o=t.utf8size-a;if(t.utf8size!==t.value.length){let l=0;for(n=0;l<a;n++){let c=t.value.codePointAt(n),d=m_(c);d===4&&n++,l+=d}}r=t.value.slice(0,n),i=t.value.slice(n);let s={value:i,utf8size:o,uses:t.uses.slice(),startMeta:t.startMeta,endMeta:t.endMeta};t.value=r,t.utf8size=a;for(let l of t.uses){let c=l.parts.indexOf(t);if(c===-1)throw new Error("bug: mismatch between string parts and use.");l.parts.splice(c+1,0,s)}}stringAppendSlice(t,n,r,i){let a=this.asString(n),o=this.resolveStringPart(a,0,r),s=this.resolveStringPart(a,o,i-r);for(let l=o;l<s;l++){let c=a.parts[l];this.stringAppendPart(t,c)}}}function Yen(e,t){return{data:e,startMeta:t,endMeta:t}}function Yd(e){if(typeof e.data<"u")return e.data;let t,n=e.content;switch(n.type){case"string":t=n.parts.map(r=>r.value).join("");break;case"array":t=n.elements.map(r=>Yd(r));break;case"object":{t={};for(let[r,i]of Object.entries(n.fields))t[r]=Yd(i)}}return e.data=t,t}function i7(e){return e.content?e.content.type:Array.isArray(e.data)?"array":e.data===null?"null":typeof e.data}function a7(e,t){let n=i7(e),r=i7(t);if(n!==r)return t;let i=new r7(e.endMeta),a=new r7(t.endMeta);switch(n){case"object":{let o=i.asObject(e),s=a.asObject(t),l=0,c=Object.keys(o.fields).length,d=Object.keys(s.fields).length;for(let[h,p]of Object.entries(s.fields)){let m=o.fields[h];m&&(s.fields[h]=a7(m,p),s.fields[h]===m&&l++)}return c===d&&c===l?e:t}case"array":{let o=i.asArray(e),s=a.asArray(t);if(o.elements.length!==s.elements.length)break;let l=0;for(let c=0;c<s.elements.length;c++)s.elements[c]=a7(o.elements[c],s.elements[c]),s.elements[c]!==o.elements[c]&&l++;return l===0?e:t}case"null":case"boolean":case"number":{if(Yd(e)===Yd(t))return e;break}case"string":{let o=Yd(e),s=Yd(t);if(o===s)return e;let l=a.copyString(null),c=Wen(o,s),d=Gen(o,s,c),h=n7(s),p=n7(o);0<c&&a.stringAppendSlice(l,e,0,c),c<h-d&&a.stringAppendSlice(l,t,c,h-d),p-d<p&&a.stringAppendSlice(l,e,p-d,p);let m=a.finalize(l);if(Yd(m)!==s)throw new Error("incorrect string rebase");return m}}return t}function qen(e,t,n){let r=new r7(n);return new Hje(r,e,t).process()}var _u=Object.freeze({__proto__:null,applyPatch:qen,getType:i7,rebaseValue:a7,unwrap:Yd,wrap:Yen});class Ken{wrap(t){return t}finalize(t){return Array.isArray(t)?t:t.data}markChanged(t){return t}objectGetKeys(t){return Object.keys(t)}objectGetField(t,n){return t[n]}arrayGetElement(t,n){return t[n]}copyObject(t){let n={type:"object",data:{}};if(t!==null)for(let[r,i]of Object.entries(t))n.data[r]=i;return n}copyArray(t){return t===null?[]:t.slice()}copyString(t){return{type:"string",data:t===null?"":t}}objectSetField(t,n,r){t.data[n]=r}objectDeleteField(t,n){delete t.data[n]}arrayAppendValue(t,n){t.push(n)}arrayAppendSlice(t,n,r,i){t.push(...n.slice(r,i))}stringAppendSlice(t,n,r,i){const a=n,o=_se(a,r),s=_se(a,i,o);t.data+=a.slice(o,s)}stringAppendValue(t,n){t.data+=n}}function rI(e,t){let n=e;return new Hje(new Ken,n,t).process()}function tm(e,t,n){return delete e[t],e[t]=n,n}function Zen(e,t){const n=Xen(e,t);return Jen(n,e,t)}function Xen(e,t){const n=e.length,r=t.length;let i=0,a=0;const o=new Array(n+1);for(i=0;i<n+1;i++)for(o[i]=[r+1],a=0;a<r+1;a++)o[i][a]=0;for(i=1;i<n+1;i++)for(a=1;a<r+1;a++)e[i-1]===t[a-1]?o[i][a]=o[i-1][a-1]+1:o[i][a]=Math.max(o[i-1][a],o[i][a-1]);return o}function Jen(e,t,n){let r=t.length,i=n.length;const a={sequence:[],prevIndices:[],nextIndices:[]};for(;r!==0&&i!==0;)if(t[r-1]===n[i-1])a.sequence.unshift(t[r-1]),a.prevIndices.unshift(r-1),a.nextIndices.unshift(i-1),--r,--i;else{const o=e[r][i-1],s=e[r-1][i];o>s?--i:--r}return a}function Qen(e,t,n){if(e===t){const o=e.value,s=t.value;return{type:"array",action:"unchanged",isChanged:!1,fromValue:o,toValue:s,get items(){const l=Ese(e,t,n);if(!l)throw new Error("invariant broken: equivalent input, but diff detected");return tm(this,"items",l)}}}const r=Tse(e),i=Tse(t);if(r&&i)return ttn(e,r,t,i);const a=Ese(e,t,n);return a?TG(e,t,a,!1):etn(e,t)}function TG(e,t,n,r){const i=e.value,a=t.value;return r?{type:"array",action:"changed",isChanged:!0,fromValue:i,toValue:a,items:n,annotation:t.annotation}:{type:"array",action:"unchanged",isChanged:!1,fromValue:i,toValue:a,items:n}}function Ese(e,t,n){if(e.length!==t.length)return;const r=[];for(let i=0;i<e.length;i++){const a=UO(e.at(i),t.at(i),n);if(a.isChanged)return;r.push({fromIndex:i,toIndex:i,hasMoved:!1,diff:a,annotation:t.annotationAt(i)})}return r}function etn(e,t,n){const r=[];for(let i=0;i<t.length;i++){const a=t.at(i);r.push({fromIndex:void 0,toIndex:i,hasMoved:!1,diff:B0(a,void 0),annotation:a.annotation})}for(let i=0;i<e.length;i++){const a=e.at(i);r.push({fromIndex:i,toIndex:void 0,hasMoved:!1,diff:L0(a,void 0),annotation:a.annotation})}return TG(e,t,r,!0)}function ttn(e,t,n,r,i){const a=[];let o=!1;function s(c,d,h,p){kse(t.index,c,d),kse(r.index,c,h);const m=e.at(d),g=n.at(h),v=UO(m,g);a.push({fromIndex:d,toIndex:h,hasMoved:p,diff:v,annotation:n.annotationAt(h)}),(v.isChanged||d!==h)&&(o=!0)}const l=Zen(t.keys,r.keys);for(let c=0;c<t.keys.length;c++){const d=t.keys[c],h=l.prevIndices.indexOf(c);if(h!==-1){s(d,c,l.nextIndices[h],!1);continue}const p=r.index.get(d),m=p&&p.find(v=>!l.nextIndices.includes(v));if(m!==void 0){s(d,c,m,!0);continue}const g=e.at(c);a.push({fromIndex:c,toIndex:void 0,hasMoved:!1,diff:L0(g,void 0),annotation:e.annotationAt(c)}),o=!0}for(const c of r.index.values()){for(const d of c){const h=n.at(d);a.push({fromIndex:void 0,toIndex:d,hasMoved:!1,diff:B0(h,void 0),annotation:n.annotationAt(d)})}o=!0}return a.sort(ntn),TG(e,n,a,o)}function ntn(e,t){if(e.toIndex!==void 0&&t.toIndex!==void 0)return e.toIndex-t.toIndex;if(e.fromIndex!==void 0&&t.fromIndex!==void 0)return e.fromIndex-t.fromIndex;if(e.fromIndex!==void 0&&t.toIndex!==void 0)return-1;if(e.toIndex!==void 0&&t.fromIndex!==void 0)return 1;throw new Error("invalid item diff comparison")}function kse(e,t,n){const r=e.get(t);rtn(r,n),r.length===0&&e.delete(t)}function rtn(e,t){const n=e.indexOf(t);if(n===-1)throw new Error("value not found");e.splice(n,1)}function Tse(e){const t=new Map,n=[],r=e.length;for(let i=0;i<r;i++){const a=e.at(i);let o=null;switch(a.type){case"string":o=`s${a.value}`;break;case"number":o=a.value;break;case"boolean":o=a.value;break;case"null":o="n";break;case"object":{const l=a.get("_key");if(l&&l.type==="string"&&(o=`k${l.value}`,t.has(o)))return}break}if(o===null)return;n.push(o);let s=t.get(o);s||(s=[],t.set(o,s)),s.push(i)}return{keys:n,index:t}}function itn(e,t,n){return{type:"array",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get items(){const r=[];for(let i=0;i<e.length;i++){const a=e.at(i);r.push({fromIndex:i,toIndex:void 0,hasMoved:!1,diff:L0(a,void 0),annotation:e.annotationAt(i)})}return tm(this,"items",r)}}}function atn(e,t,n){return{type:"array",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get items(){const r=[];for(let i=0;i<e.length;i++){const a=e.at(i);r.push({fromIndex:void 0,toIndex:i,hasMoved:!1,diff:B0(a,void 0),annotation:e.annotationAt(i)})}return tm(this,"items",r)}}}const Ase=new Set(["_id","_type","_createdAt","_updatedAt","_rev","_weak"]);function otn(e,t,n){const r={};let i=!1;for(const s of e.keys){if(Ase.has(s))continue;const l=e.get(s),c=t.get(s);if(c){const d=UO(l,c,n);r[s]=d,d.isChanged&&(i=!0)}else r[s]=L0(l,void 0),i=!0}for(const s of t.keys){if(Ase.has(s)||e.get(s))continue;const l=t.get(s);r[s]=B0(l,void 0),i=!0}const a=e.value,o=t.value;return i?{type:"object",action:"changed",isChanged:!0,fromValue:a,toValue:o,fields:r,annotation:t.annotation}:{type:"object",action:"unchanged",isChanged:!1,fromValue:a,toValue:o,fields:r}}function stn(e,t,n){return{type:"object",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get fields(){const r={};for(const i of e.keys){const a=e.get(i);r[i]=L0(a,void 0)}return tm(this,"fields",r)}}}function ltn(e,t,n){return{type:"object",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get fields(){const r={};for(const i of e.keys){const a=e.get(i);r[i]=B0(a,void 0)}return tm(this,"fields",r)}}}function utn(e,t,n){const r=e.value,i=t.value,a=e.type;return r===i?{type:a,action:"unchanged",fromValue:r,toValue:i,isChanged:!1}:{type:e.type,action:"changed",isChanged:!0,fromValue:r,toValue:i,annotation:t.annotation}}function ctn(e,t,n){const r=e.value,i=t.value,a=e.type;return r===i?{type:a,action:"unchanged",fromValue:r,toValue:i,isChanged:!1}:{type:e.type,action:"changed",isChanged:!0,fromValue:r,toValue:i,annotation:t.annotation}}function dtn(e,t,n){const r=e.value,i=t.value;return r===i?{type:"string",action:"unchanged",isChanged:!1,fromValue:r,toValue:i,segments:[{type:"stringSegment",action:"unchanged",text:r}]}:{type:"string",action:"changed",isChanged:!0,fromValue:r,toValue:i,annotation:t.annotation,get segments(){const a=ftn(e,t);return tm(this,"segments",a)}}}function ftn(e,t){const n=[],r=mW(Ob(e.value,t.value));let i=0,a=0;for(const[o,s]of r)switch(o){case Ut:n.push({type:"stringSegment",action:"unchanged",text:s}),i+=s.length,a+=s.length;break;case er:for(const l of e.sliceAnnotation(i,i+s.length))n.push({type:"stringSegment",action:"removed",text:l.text,annotation:l.annotation});i+=s.length;break;case br:for(const l of t.sliceAnnotation(a,a+s.length))n.push({type:"stringSegment",action:"added",text:l.text,annotation:l.annotation});a+=s.length;break;default:throw new Error(`Unhandled diff-match-patch operation "${o}"`)}return n}function htn(e,t,n){return{type:"string",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get segments(){const r=e.sliceAnnotation(0,e.value.length).map(i=>({type:"stringSegment",action:"removed",...i}));return tm(this,"segments",r)}}}function ptn(e,t,n){return{type:"string",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get segments(){const r=e.sliceAnnotation(0,e.value.length).map(i=>({type:"stringSegment",action:"added",...i}));return tm(this,"segments",r)}}}function mtn(e,t,n){return{type:"typeChange",action:"changed",isChanged:!0,fromType:e.type,fromValue:e.value,fromDiff:L0(e,void 0),toType:t.type,toValue:t.value,toDiff:B0(t,void 0),annotation:t.annotation}}function UO(e,t,n={}){return e.type!==t.type?e.type==="null"?B0(t,null):t.type==="null"?L0(e,null):mtn(e,t):gtn(e.type,e,t,n)}function gtn(e,t,n,r){switch(e){case"null":return{type:"null",action:"unchanged",isChanged:!1,toValue:null,fromValue:null};case"boolean":return ctn(t,n);case"number":return utn(t,n);case"string":return dtn(t,n);case"array":return Qen(t,n,r);case"object":return otn(t,n,r);default:throw new Error(`Unhandled diff type "${e}"`)}}function L0(e,t,n){switch(e.type){case"null":return{type:"null",action:"removed",isChanged:!0,fromValue:null,toValue:t,annotation:e.annotation};case"boolean":return{type:"boolean",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation};case"number":return{type:"number",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation};case"string":return htn(e,t);case"array":return itn(e,t);case"object":return stn(e,t);default:throw new Error("Unhandled diff type")}}function B0(e,t,n){switch(e.type){case"null":return{type:"null",action:"added",isChanged:!0,fromValue:t,toValue:null,annotation:e.annotation};case"boolean":return{type:"boolean",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation};case"number":return{type:"number",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation};case"string":return ptn(e,t);case"array":return atn(e,t);case"object":return ltn(e,t);default:throw new Error("Unhandled diff type")}}var vtn=Object.defineProperty,ytn=(e,t,n)=>t in e?vtn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yx=(e,t,n)=>ytn(e,typeof t!="symbol"?t+"":t,n);class btn{constructor(t,n){Yx(this,"type","array"),Yx(this,"length"),Yx(this,"value"),Yx(this,"annotation"),Yx(this,"elements",[]),this.annotation=n,this.value=t,this.length=t.length}at(t){if(t>=this.length)throw new Error("out of bounds");return this.elements[t]||(this.elements[t]=AG(this.value[t],this.annotation))}annotationAt(){return this.annotation}}var xtn=Object.defineProperty,wtn=(e,t,n)=>t in e?xtn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vF=(e,t,n)=>wtn(e,typeof t!="symbol"?t+"":t,n);class yF{constructor(t,n,r){vF(this,"type"),vF(this,"value"),vF(this,"annotation"),this.type=t,this.value=n,this.annotation=r}}var Ctn=Object.defineProperty,Stn=(e,t,n)=>t in e?Ctn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qx=(e,t,n)=>Stn(e,typeof t!="symbol"?t+"":t,n);class _tn{constructor(t,n){qx(this,"type","object"),qx(this,"value"),qx(this,"keys"),qx(this,"annotation"),qx(this,"fields",{}),this.value=t,this.annotation=n,this.keys=Object.keys(t)}get(t){const n=this.fields[t];if(n)return n;if(!this.value.hasOwnProperty(t))return;const r=this.value[t];return this.fields[t]=AG(r,this.annotation)}}var Etn=Object.defineProperty,ktn=(e,t,n)=>t in e?Etn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bF=(e,t,n)=>ktn(e,typeof t!="symbol"?t+"":t,n);let Ttn=class{constructor(t,n){bF(this,"type","string"),bF(this,"value"),bF(this,"annotation"),this.value=t,this.annotation=n}sliceAnnotation(t,n){return[{text:this.value.slice(t,n),annotation:this.annotation}]}};function AG(e,t){if(Array.isArray(e))return new btn(e,t);if(e===null)return new yF("null",e,t);const n=typeof e;switch(n){case"number":return new yF(n,e,t);case"boolean":return new yF(n,e,t);case"object":return new _tn(e,t);case"string":return new Ttn(e,t);default:throw new Error(`cannot wrap value of type: ${n}`)}}var HO={exports:{}},Nw={exports:{}};(function(){var e,t,n,r,i,a;typeof performance<"u"&&performance!==null&&performance.now?Nw.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Nw.exports=function(){return(e()-i)/1e6},t=process.hrtime,e=function(){var o;return o=t(),o[0]*1e9+o[1]},r=e(),a=process.uptime()*1e9,i=r-a):Date.now?(Nw.exports=function(){return Date.now()-n},n=Date.now()):(Nw.exports=function(){return new Date().getTime()-n},n=new Date().getTime())}).call(ya);var Atn=Nw.exports,jtn=Atn,pf=typeof window>"u"?ya:window,Ik=["moz","webkit"],V1="AnimationFrame",Ay=pf["request"+V1],BS=pf["cancel"+V1]||pf["cancelRequest"+V1];for(var Kx=0;!Ay&&Kx<Ik.length;Kx++)Ay=pf[Ik[Kx]+"Request"+V1],BS=pf[Ik[Kx]+"Cancel"+V1]||pf[Ik[Kx]+"CancelRequest"+V1];if(!Ay||!BS){var xF=0,jse=0,mm=[],Itn=1e3/60;Ay=function(e){if(mm.length===0){var t=jtn(),n=Math.max(0,Itn-(t-xF));xF=n+t,setTimeout(function(){var r=mm.slice(0);mm.length=0;for(var i=0;i<r.length;i++)if(!r[i].cancelled)try{r[i].callback(xF)}catch(a){setTimeout(function(){throw a},0)}},Math.round(n))}return mm.push({handle:++jse,callback:e,cancelled:!1}),jse},BS=function(e){for(var t=0;t<mm.length;t++)mm[t].handle===e&&(mm[t].cancelled=!0)}}HO.exports=function(e){return Ay.call(pf,e)};HO.exports.cancel=function(){BS.apply(pf,arguments)};HO.exports.polyfill=function(e){e||(e=pf),e.requestAnimationFrame=Ay,e.cancelAnimationFrame=BS};var Dtn=HO.exports;const $tn=Pe(Dtn);var Otn=1/0,Mtn="[object Symbol]",Rtn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ptn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,WO="\\ud800-\\udfff",Wje="\\u0300-\\u036f\\ufe20-\\ufe23",Gje="\\u20d0-\\u20f0",Yje="\\u2700-\\u27bf",qje="a-z\\xdf-\\xf6\\xf8-\\xff",Ftn="\\xac\\xb1\\xd7\\xf7",Ntn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ltn="\\u2000-\\u206f",Btn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Kje="A-Z\\xc0-\\xd6\\xd8-\\xde",Zje="\\ufe0e\\ufe0f",Xje=Ftn+Ntn+Ltn+Btn,jG="['’]",Vtn="["+WO+"]",Ise="["+Xje+"]",iI="["+Wje+Gje+"]",Jje="\\d+",ztn="["+Yje+"]",Qje="["+qje+"]",eIe="[^"+WO+Xje+Jje+Yje+qje+Kje+"]",o7="\\ud83c[\\udffb-\\udfff]",Utn="(?:"+iI+"|"+o7+")",tIe="[^"+WO+"]",IG="(?:\\ud83c[\\udde6-\\uddff]){2}",DG="[\\ud800-\\udbff][\\udc00-\\udfff]",Ov="["+Kje+"]",nIe="\\u200d",Dse="(?:"+Qje+"|"+eIe+")",Htn="(?:"+Ov+"|"+eIe+")",$se="(?:"+jG+"(?:d|ll|m|re|s|t|ve))?",Ose="(?:"+jG+"(?:D|LL|M|RE|S|T|VE))?",rIe=Utn+"?",iIe="["+Zje+"]?",Wtn="(?:"+nIe+"(?:"+[tIe,IG,DG].join("|")+")"+iIe+rIe+")*",aIe=iIe+rIe+Wtn,Gtn="(?:"+[ztn,IG,DG].join("|")+")"+aIe,Ytn="(?:"+[tIe+iI+"?",iI,IG,DG,Vtn].join("|")+")",qtn=RegExp(jG,"g"),Ktn=RegExp(iI,"g"),Ztn=RegExp(o7+"(?="+o7+")|"+Ytn+aIe,"g"),Xtn=RegExp([Ov+"?"+Qje+"+"+$se+"(?="+[Ise,Ov,"$"].join("|")+")",Htn+"+"+Ose+"(?="+[Ise,Ov+Dse,"$"].join("|")+")",Ov+"?"+Dse+"+"+$se,Ov+"+"+Ose,Jje,Gtn].join("|"),"g"),Jtn=RegExp("["+nIe+WO+Wje+Gje+Zje+"]"),Qtn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,enn={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"ss"},tnn=typeof ya=="object"&&ya&&ya.Object===Object&&ya,nnn=typeof self=="object"&&self&&self.Object===Object&&self,rnn=tnn||nnn||Function("return this")();function inn(e,t,n,r){var i=-1,a=e?e.length:0;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function ann(e){return e.split("")}function onn(e){return e.match(Rtn)||[]}function snn(e){return function(t){return e==null?void 0:e[t]}}var lnn=snn(enn);function oIe(e){return Jtn.test(e)}function unn(e){return Qtn.test(e)}function cnn(e){return oIe(e)?dnn(e):ann(e)}function dnn(e){return e.match(Ztn)||[]}function fnn(e){return e.match(Xtn)||[]}var hnn=Object.prototype,pnn=hnn.toString,Mse=rnn.Symbol,Rse=Mse?Mse.prototype:void 0,Pse=Rse?Rse.toString:void 0;function mnn(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}function gnn(e){if(typeof e=="string")return e;if(wnn(e))return Pse?Pse.call(e):"";var t=e+"";return t=="0"&&1/e==-Otn?"-0":t}function vnn(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:mnn(e,t,n)}function ynn(e){return function(t){t=$G(t);var n=oIe(t)?cnn(t):void 0,r=n?n[0]:t.charAt(0),i=n?vnn(n,1).join(""):t.slice(1);return r[e]()+i}}function bnn(e){return function(t){return inn(Enn(Cnn(t).replace(qtn,"")),e,"")}}function xnn(e){return!!e&&typeof e=="object"}function wnn(e){return typeof e=="symbol"||xnn(e)&&pnn.call(e)==Mtn}function $G(e){return e==null?"":gnn(e)}function Cnn(e){return e=$G(e),e&&e.replace(Ptn,lnn).replace(Ktn,"")}var Snn=bnn(function(e,t,n){return e+(n?" ":"")+_nn(t)}),_nn=ynn("toUpperCase");function Enn(e,t,n){return e=$G(e),t=n?void 0:t,t===void 0?unn(e)?fnn(e):onn(e):e.match(t)||[]}var knn=Snn;const Fse=Pe(knn);function Nse(e){var t,n,r,i;const a=sIe(e)&&((t=e.to)!=null?t:[]).length===1?e.to[0].icon:void 0;return(i=(r=e.icon)!=null?r:(n=e.type)==null?void 0:n.icon)!=null?i:a}function sIe(e){return Tnn(e)&&(e.name==="reference"||sIe(e.type))}function Tnn(e){return!!e&&(typeof e=="object"||typeof e=="function")}function Ann(e,t){return{query:t.type==="change query"?t.query:e.query,groups:t.type==="select group"?e.groups.map(n=>({...n,selected:t.name===n.name})):e.groups,views:t.type==="toggle view"?e.views.map(n=>({...n,selected:t.name===n.name})):e.views}}const lIe="all-items",jnn={gridTemplateColumns:"repeat(auto-fill, minmax(118px, 1fr))"};function Inn(e){var t;const n=e.showIcons===void 0?!0:e.showIcons,r=e.filter===void 0||e.filter==="auto"?e.schemaTypes.length>5:e.filter,[i,a]=f.useReducer(Ann,{query:"",groups:e.groups?[{name:lIe,title:e.labels["insert-menu.filter.all-items"],selected:!0},...e.groups.map(d=>({...d,selected:!1}))]:[],views:((t=e.views)!=null?t:[{name:"list"}]).map((d,h)=>({...d,selected:h===0}))}),o=Rnn(e.schemaTypes,i.query,i.groups),s=i.views.find(d=>d.selected),l=r||i.views.length>1,c=i.groups&&i.groups.length>0;return u.jsx(Ot,{padding:0,children:u.jsxs(U,{direction:"column",height:"fill",children:[u.jsxs(L,{...l||c?{style:{borderBottom:"1px solid var(--card-border-color)"},paddingBottom:1}:{},children:[l?u.jsxs(U,{flex:"none",align:"center",paddingTop:1,paddingX:1,gap:1,children:[r?u.jsx(L,{flex:1,children:u.jsx(Zr,{autoFocus:!0,border:!1,fontSize:1,icon:Ca,onChange:d=>{a({type:"change query",query:d.target.value})},placeholder:e.labels["insert-menu.search.placeholder"],value:i.query})}):null,i.views.length>1?u.jsx(L,{flex:"none",children:u.jsx(Onn,{views:i.views,onToggle:d=>{a({type:"toggle view",name:d})},labels:e.labels})}):null]}):null,c?u.jsx(L,{paddingTop:1,paddingX:1,children:u.jsx(ub,{space:1,children:i.groups.map(d=>{var h;return u.jsx(Fz,{id:`${d.name}-tab`,"aria-controls":`${d.name}-panel`,label:(h=d.title)!=null?h:Fse(d.name),selected:d.selected,onClick:()=>{a({type:"select group",name:d.name})}},d.name)})})}):null]}),u.jsx(L,{padding:1,children:o.length===0?u.jsx(L,{padding:2,children:u.jsx(N,{muted:!0,size:1,children:e.labels["insert-menu.search.no-results"]})}):s?s.name==="grid"?u.jsx(Vn,{autoRows:"auto",flex:1,gap:1,style:jnn,children:o.map(d=>{var h;return u.jsx(Mnn,{icon:n?Nse(d):void 0,onClick:()=>{e.onSelect(d)},previewImageUrl:(h=s.previewImageUrl)==null?void 0:h.call(s,d.name),schemaType:d},d.name)})}):u.jsx(ee,{flex:1,space:1,children:o.map(d=>{var h;return u.jsx(S0,{icon:n?Nse(d):void 0,onClick:()=>{e.onSelect(d)},text:(h=d.title)!=null?h:Fse(d.name)},d.name)})}):null})]})})}const Dnn={grid:PB,list:ag},$nn={grid:"insert-menu.toggle-grid-view.tooltip",list:"insert-menu.toggle-list-view.tooltip"};function Onn(e){var t;const n=e.views.findIndex(i=>i.selected),r=(t=e.views[n+1])!=null?t:e.views[0];return u.jsx(_A,{content:u.jsx(N,{size:1,children:e.labels[$nn[r.name]]}),placement:"top",portal:!0,children:u.jsx(St,{mode:"bleed",icon:Dnn[r.name],onClick:()=>{e.onToggle(r.name)}})})}function Mnn(e){var t;const[n,r]=f.useState(!1);return u.jsx(S0,{padding:0,radius:2,onClick:e.onClick,style:{overflow:"hidden"},children:u.jsxs(U,{direction:"column",gap:1,padding:1,children:[u.jsxs(L,{flex:"none",style:{backgroundColor:"var(--card-muted-bg-color)",paddingBottom:"66.6%",position:"relative"},children:[Gc.isValidElementType(e.icon)?u.jsx(U,{align:"center",justify:"center",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},children:u.jsx(N,{size:1,children:f.createElement(e.icon)})}):null,!e.previewImageUrl||n?null:u.jsx("img",{src:e.previewImageUrl,style:{objectFit:"contain",width:"100%",height:"100%",position:"absolute",inset:0},onError:()=>{r(!0)}}),u.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",boxShadow:"inset 0 0 0 0.5px var(--card-fg-color)",opacity:.1}})]}),u.jsx(L,{flex:1,padding:2,children:u.jsx(N,{size:1,weight:"medium",children:(t=e.schemaType.title)!=null?t:e.schemaType.name})})]})})}function Rnn(e,t,n){return e.filter(r=>Fnn(r,n)&&Pnn(r,t))}function Pnn(e,t){var n;const r=t.trim().toLowerCase();return e.title?(n=e.title)==null?void 0:n.toLowerCase().includes(r):e.name.includes(r)}function Fnn(e,t){var n;const r=t.find(i=>i.selected);return r?r.name===lIe?!0:(n=r.of)==null?void 0:n.includes(e.name):!0}var uIe={exports:{}};(function(e){(function(t){var n={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"Ae",Å:"A",Æ:"AE",Ç:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"Oe",Ő:"O",Ø:"O",Ù:"U",Ú:"U",Û:"U",Ü:"Ue",Ű:"U",Ý:"Y",Þ:"TH",ß:"ss",à:"a",á:"a",â:"a",ã:"a",ä:"ae",å:"a",æ:"ae",ç:"c",è:"e",é:"e",ê:"e",ë:"e",ì:"i",í:"i",î:"i",ï:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"oe",ő:"o",ø:"o",ù:"u",ú:"u",û:"u",ü:"ue",ű:"u",ý:"y",þ:"th",ÿ:"y","ẞ":"SS",ا:"a",أ:"a",إ:"i",آ:"aa",ؤ:"u",ئ:"e",ء:"a",ب:"b",ت:"t",ث:"th",ج:"j",ح:"h",خ:"kh",د:"d",ذ:"th",ر:"r",ز:"z",س:"s",ش:"sh",ص:"s",ض:"dh",ط:"t",ظ:"z",ع:"a",غ:"gh",ف:"f",ق:"q",ك:"k",ل:"l",م:"m",ن:"n",ه:"h",و:"w",ي:"y",ى:"a",ة:"h",ﻻ:"la",ﻷ:"laa",ﻹ:"lai",ﻵ:"laa",گ:"g",چ:"ch",پ:"p",ژ:"zh",ک:"k",ی:"y","َ":"a","ً":"an","ِ":"e","ٍ":"en","ُ":"u","ٌ":"on","ْ":"","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9",က:"k",ခ:"kh",ဂ:"g",ဃ:"ga",င:"ng",စ:"s",ဆ:"sa",ဇ:"z","စျ":"za",ည:"ny",ဋ:"t",ဌ:"ta",ဍ:"d",ဎ:"da",ဏ:"na",တ:"t",ထ:"ta",ဒ:"d",ဓ:"da",န:"n",ပ:"p",ဖ:"pa",ဗ:"b",ဘ:"ba",မ:"m",ယ:"y",ရ:"ya",လ:"l",ဝ:"w",သ:"th",ဟ:"h",ဠ:"la",အ:"a","ြ":"y","ျ":"ya","ွ":"w","ြွ":"yw","ျွ":"ywa","ှ":"h",ဧ:"e","၏":"-e",ဣ:"i",ဤ:"-i",ဉ:"u",ဦ:"-u",ဩ:"aw","သြော":"aw",ဪ:"aw","၀":"0","၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","္":"","့":"","း":"",č:"c",ď:"d",ě:"e",ň:"n",ř:"r",š:"s",ť:"t",ů:"u",ž:"z",Č:"C",Ď:"D",Ě:"E",Ň:"N",Ř:"R",Š:"S",Ť:"T",Ů:"U",Ž:"Z",ހ:"h",ށ:"sh",ނ:"n",ރ:"r",ބ:"b",ޅ:"lh",ކ:"k",އ:"a",ވ:"v",މ:"m",ފ:"f",ދ:"dh",ތ:"th",ލ:"l",ގ:"g",ޏ:"gn",ސ:"s",ޑ:"d",ޒ:"z",ޓ:"t",ޔ:"y",ޕ:"p",ޖ:"j",ޗ:"ch",ޘ:"tt",ޙ:"hh",ޚ:"kh",ޛ:"th",ޜ:"z",ޝ:"sh",ޞ:"s",ޟ:"d",ޠ:"t",ޡ:"z",ޢ:"a",ޣ:"gh",ޤ:"q",ޥ:"w","ަ":"a","ާ":"aa","ި":"i","ީ":"ee","ު":"u","ޫ":"oo","ެ":"e","ޭ":"ey","ޮ":"o","ޯ":"oa","ް":"",ა:"a",ბ:"b",გ:"g",დ:"d",ე:"e",ვ:"v",ზ:"z",თ:"t",ი:"i",კ:"k",ლ:"l",მ:"m",ნ:"n",ო:"o",პ:"p",ჟ:"zh",რ:"r",ს:"s",ტ:"t",უ:"u",ფ:"p",ქ:"k",ღ:"gh",ყ:"q",შ:"sh",ჩ:"ch",ც:"ts",ძ:"dz",წ:"ts",ჭ:"ch",ხ:"kh",ჯ:"j",ჰ:"h",α:"a",β:"v",γ:"g",δ:"d",ε:"e",ζ:"z",η:"i",θ:"th",ι:"i",κ:"k",λ:"l",μ:"m",ν:"n",ξ:"ks",ο:"o",π:"p",ρ:"r",σ:"s",τ:"t",υ:"y",φ:"f",χ:"x",ψ:"ps",ω:"o",ά:"a",έ:"e",ί:"i",ό:"o",ύ:"y",ή:"i",ώ:"o",ς:"s",ϊ:"i",ΰ:"y",ϋ:"y",ΐ:"i",Α:"A",Β:"B",Γ:"G",Δ:"D",Ε:"E",Ζ:"Z",Η:"I",Θ:"TH",Ι:"I",Κ:"K",Λ:"L",Μ:"M",Ν:"N",Ξ:"KS",Ο:"O",Π:"P",Ρ:"R",Σ:"S",Τ:"T",Υ:"Y",Φ:"F",Χ:"X",Ψ:"PS",Ω:"O",Ά:"A",Έ:"E",Ί:"I",Ό:"O",Ύ:"Y",Ή:"I",Ώ:"O",Ϊ:"I",Ϋ:"Y",ā:"a",ē:"e",ģ:"g",ī:"i",ķ:"k",ļ:"l",ņ:"n",ū:"u",Ā:"A",Ē:"E",Ģ:"G",Ī:"I",Ķ:"k",Ļ:"L",Ņ:"N",Ū:"U",Ќ:"Kj",ќ:"kj",Љ:"Lj",љ:"lj",Њ:"Nj",њ:"nj",Тс:"Ts",тс:"ts",ą:"a",ć:"c",ę:"e",ł:"l",ń:"n",ś:"s",ź:"z",ż:"z",Ą:"A",Ć:"C",Ę:"E",Ł:"L",Ń:"N",Ś:"S",Ź:"Z",Ż:"Z",Є:"Ye",І:"I",Ї:"Yi",Ґ:"G",є:"ye",і:"i",ї:"yi",ґ:"g",ă:"a",Ă:"A",ș:"s",Ș:"S",ț:"t",Ț:"T",ţ:"t",Ţ:"T",а:"a",б:"b",в:"v",г:"g",д:"d",е:"e",ё:"yo",ж:"zh",з:"z",и:"i",й:"i",к:"k",л:"l",м:"m",н:"n",о:"o",п:"p",р:"r",с:"s",т:"t",у:"u",ф:"f",х:"kh",ц:"c",ч:"ch",ш:"sh",щ:"sh",ъ:"",ы:"y",ь:"",э:"e",ю:"yu",я:"ya",А:"A",Б:"B",В:"V",Г:"G",Д:"D",Е:"E",Ё:"Yo",Ж:"Zh",З:"Z",И:"I",Й:"I",К:"K",Л:"L",М:"M",Н:"N",О:"O",П:"P",Р:"R",С:"S",Т:"T",У:"U",Ф:"F",Х:"Kh",Ц:"C",Ч:"Ch",Ш:"Sh",Щ:"Sh",Ъ:"",Ы:"Y",Ь:"",Э:"E",Ю:"Yu",Я:"Ya",ђ:"dj",ј:"j",ћ:"c",џ:"dz",Ђ:"Dj",Ј:"j",Ћ:"C",Џ:"Dz",ľ:"l",ĺ:"l",ŕ:"r",Ľ:"L",Ĺ:"L",Ŕ:"R",ş:"s",Ş:"S",ı:"i",İ:"I",ğ:"g",Ğ:"G",ả:"a",Ả:"A",ẳ:"a",Ẳ:"A",ẩ:"a",Ẩ:"A",đ:"d",Đ:"D",ẹ:"e",Ẹ:"E",ẽ:"e",Ẽ:"E",ẻ:"e",Ẻ:"E",ế:"e",Ế:"E",ề:"e",Ề:"E",ệ:"e",Ệ:"E",ễ:"e",Ễ:"E",ể:"e",Ể:"E",ỏ:"o",ọ:"o",Ọ:"o",ố:"o",Ố:"O",ồ:"o",Ồ:"O",ổ:"o",Ổ:"O",ộ:"o",Ộ:"O",ỗ:"o",Ỗ:"O",ơ:"o",Ơ:"O",ớ:"o",Ớ:"O",ờ:"o",Ờ:"O",ợ:"o",Ợ:"O",ỡ:"o",Ỡ:"O",Ở:"o",ở:"o",ị:"i",Ị:"I",ĩ:"i",Ĩ:"I",ỉ:"i",Ỉ:"i",ủ:"u",Ủ:"U",ụ:"u",Ụ:"U",ũ:"u",Ũ:"U",ư:"u",Ư:"U",ứ:"u",Ứ:"U",ừ:"u",Ừ:"U",ự:"u",Ự:"U",ữ:"u",Ữ:"U",ử:"u",Ử:"ư",ỷ:"y",Ỷ:"y",ỳ:"y",Ỳ:"Y",ỵ:"y",Ỵ:"Y",ỹ:"y",Ỹ:"Y",ạ:"a",Ạ:"A",ấ:"a",Ấ:"A",ầ:"a",Ầ:"A",ậ:"a",Ậ:"A",ẫ:"a",Ẫ:"A",ắ:"a",Ắ:"A",ằ:"a",Ằ:"A",ặ:"a",Ặ:"A",ẵ:"a",Ẵ:"A","⓪":"0","①":"1","②":"2","③":"3","④":"4","⑤":"5","⑥":"6","⑦":"7","⑧":"8","⑨":"9","⑩":"10","⑪":"11","⑫":"12","⑬":"13","⑭":"14","⑮":"15","⑯":"16","⑰":"17","⑱":"18","⑲":"18","⑳":"18","⓵":"1","⓶":"2","⓷":"3","⓸":"4","⓹":"5","⓺":"6","⓻":"7","⓼":"8","⓽":"9","⓾":"10","⓿":"0","⓫":"11","⓬":"12","⓭":"13","⓮":"14","⓯":"15","⓰":"16","⓱":"17","⓲":"18","⓳":"19","⓴":"20","Ⓐ":"A","Ⓑ":"B","Ⓒ":"C","Ⓓ":"D","Ⓔ":"E","Ⓕ":"F","Ⓖ":"G","Ⓗ":"H","Ⓘ":"I","Ⓙ":"J","Ⓚ":"K","Ⓛ":"L","Ⓜ":"M","Ⓝ":"N","Ⓞ":"O","Ⓟ":"P","Ⓠ":"Q","Ⓡ":"R","Ⓢ":"S","Ⓣ":"T","Ⓤ":"U","Ⓥ":"V","Ⓦ":"W","Ⓧ":"X","Ⓨ":"Y","Ⓩ":"Z","ⓐ":"a","ⓑ":"b","ⓒ":"c","ⓓ":"d","ⓔ":"e","ⓕ":"f","ⓖ":"g","ⓗ":"h","ⓘ":"i","ⓙ":"j","ⓚ":"k","ⓛ":"l","ⓜ":"m","ⓝ":"n","ⓞ":"o","ⓟ":"p","ⓠ":"q","ⓡ":"r","ⓢ":"s","ⓣ":"t","ⓤ":"u","ⓦ":"v","ⓥ":"w","ⓧ":"x","ⓨ":"y","ⓩ":"z","“":'"',"”":'"',"‘":"'","’":"'","∂":"d",ƒ:"f","™":"(TM)","©":"(C)",œ:"oe",Œ:"OE","®":"(R)","†":"+","℠":"(SM)","…":"...","˚":"o",º:"o",ª:"a","•":"*","၊":",","။":".",$:"USD","€":"EUR","₢":"BRN","₣":"FRF","£":"GBP","₤":"ITL","₦":"NGN","₧":"ESP","₩":"KRW","₪":"ILS","₫":"VND","₭":"LAK","₮":"MNT","₯":"GRD","₱":"ARS","₲":"PYG","₳":"ARA","₴":"UAH","₵":"GHS","¢":"cent","¥":"CNY",元:"CNY",円:"YEN","﷼":"IRR","₠":"EWE","฿":"THB","₨":"INR","₹":"INR","₰":"PF","₺":"TRY","؋":"AFN","₼":"AZN",лв:"BGN","៛":"KHR","₡":"CRC","₸":"KZT",ден:"MKD",zł:"PLN","₽":"RUB","₾":"GEL"},r=["်","ް"],i={"ာ":"a","ါ":"a","ေ":"e","ဲ":"e","ိ":"i","ီ":"i","ို":"o","ု":"u","ူ":"u","ေါင်":"aung","ော":"aw","ော်":"aw","ေါ":"aw","ေါ်":"aw","်":"်","က်":"et","ိုက်":"aik","ောက်":"auk","င်":"in","ိုင်":"aing","ောင်":"aung","စ်":"it","ည်":"i","တ်":"at","ိတ်":"eik","ုတ်":"ok","ွတ်":"ut","ေတ်":"it","ဒ်":"d","ိုဒ်":"ok","ုဒ်":"ait","န်":"an","ာန်":"an","ိန်":"ein","ုန်":"on","ွန်":"un","ပ်":"at","ိပ်":"eik","ုပ်":"ok","ွပ်":"ut","န်ုပ်":"nub","မ်":"an","ိမ်":"ein","ုမ်":"on","ွမ်":"un","ယ်":"e","ိုလ်":"ol","ဉ်":"in","ံ":"an","ိံ":"ein","ုံ":"on","ައް":"ah","ަށް":"ah"},a={en:{},az:{ç:"c",ə:"e",ğ:"g",ı:"i",ö:"o",ş:"s",ü:"u",Ç:"C",Ə:"E",Ğ:"G",İ:"I",Ö:"O",Ş:"S",Ü:"U"},cs:{č:"c",ď:"d",ě:"e",ň:"n",ř:"r",š:"s",ť:"t",ů:"u",ž:"z",Č:"C",Ď:"D",Ě:"E",Ň:"N",Ř:"R",Š:"S",Ť:"T",Ů:"U",Ž:"Z"},fi:{ä:"a",Ä:"A",ö:"o",Ö:"O"},hu:{ä:"a",Ä:"A",ö:"o",Ö:"O",ü:"u",Ü:"U",ű:"u",Ű:"U"},lt:{ą:"a",č:"c",ę:"e",ė:"e",į:"i",š:"s",ų:"u",ū:"u",ž:"z",Ą:"A",Č:"C",Ę:"E",Ė:"E",Į:"I",Š:"S",Ų:"U",Ū:"U"},lv:{ā:"a",č:"c",ē:"e",ģ:"g",ī:"i",ķ:"k",ļ:"l",ņ:"n",š:"s",ū:"u",ž:"z",Ā:"A",Č:"C",Ē:"E",Ģ:"G",Ī:"i",Ķ:"k",Ļ:"L",Ņ:"N",Š:"S",Ū:"u",Ž:"Z"},pl:{ą:"a",ć:"c",ę:"e",ł:"l",ń:"n",ó:"o",ś:"s",ź:"z",ż:"z",Ą:"A",Ć:"C",Ę:"e",Ł:"L",Ń:"N",Ó:"O",Ś:"S",Ź:"Z",Ż:"Z"},sv:{ä:"a",Ä:"A",ö:"o",Ö:"O"},sk:{ä:"a",Ä:"A"},sr:{љ:"lj",њ:"nj",Љ:"Lj",Њ:"Nj",đ:"dj",Đ:"Dj"},tr:{Ü:"U",Ö:"O",ü:"u",ö:"o"}},o={ar:{"∆":"delta","∞":"la-nihaya","♥":"hob","&":"wa","|":"aw","<":"aqal-men",">":"akbar-men","∑":"majmou","¤":"omla"},az:{},ca:{"∆":"delta","∞":"infinit","♥":"amor","&":"i","|":"o","<":"menys que",">":"mes que","∑":"suma dels","¤":"moneda"},cs:{"∆":"delta","∞":"nekonecno","♥":"laska","&":"a","|":"nebo","<":"mensi nez",">":"vetsi nez","∑":"soucet","¤":"mena"},de:{"∆":"delta","∞":"unendlich","♥":"Liebe","&":"und","|":"oder","<":"kleiner als",">":"groesser als","∑":"Summe von","¤":"Waehrung"},dv:{"∆":"delta","∞":"kolunulaa","♥":"loabi","&":"aai","|":"noonee","<":"ah vure kuda",">":"ah vure bodu","∑":"jumula","¤":"faisaa"},en:{"∆":"delta","∞":"infinity","♥":"love","&":"and","|":"or","<":"less than",">":"greater than","∑":"sum","¤":"currency"},es:{"∆":"delta","∞":"infinito","♥":"amor","&":"y","|":"u","<":"menos que",">":"mas que","∑":"suma de los","¤":"moneda"},fa:{"∆":"delta","∞":"bi-nahayat","♥":"eshgh","&":"va","|":"ya","<":"kamtar-az",">":"bishtar-az","∑":"majmooe","¤":"vahed"},fi:{"∆":"delta","∞":"aarettomyys","♥":"rakkaus","&":"ja","|":"tai","<":"pienempi kuin",">":"suurempi kuin","∑":"summa","¤":"valuutta"},fr:{"∆":"delta","∞":"infiniment","♥":"Amour","&":"et","|":"ou","<":"moins que",">":"superieure a","∑":"somme des","¤":"monnaie"},ge:{"∆":"delta","∞":"usasruloba","♥":"siqvaruli","&":"da","|":"an","<":"naklebi",">":"meti","∑":"jami","¤":"valuta"},gr:{},hu:{"∆":"delta","∞":"vegtelen","♥":"szerelem","&":"es","|":"vagy","<":"kisebb mint",">":"nagyobb mint","∑":"szumma","¤":"penznem"},it:{"∆":"delta","∞":"infinito","♥":"amore","&":"e","|":"o","<":"minore di",">":"maggiore di","∑":"somma","¤":"moneta"},lt:{"∆":"delta","∞":"begalybe","♥":"meile","&":"ir","|":"ar","<":"maziau nei",">":"daugiau nei","∑":"suma","¤":"valiuta"},lv:{"∆":"delta","∞":"bezgaliba","♥":"milestiba","&":"un","|":"vai","<":"mazak neka",">":"lielaks neka","∑":"summa","¤":"valuta"},my:{"∆":"kwahkhyaet","∞":"asaonasme","♥":"akhyait","&":"nhin","|":"tho","<":"ngethaw",">":"kyithaw","∑":"paungld","¤":"ngwekye"},mk:{},nl:{"∆":"delta","∞":"oneindig","♥":"liefde","&":"en","|":"of","<":"kleiner dan",">":"groter dan","∑":"som","¤":"valuta"},pl:{"∆":"delta","∞":"nieskonczonosc","♥":"milosc","&":"i","|":"lub","<":"mniejsze niz",">":"wieksze niz","∑":"suma","¤":"waluta"},pt:{"∆":"delta","∞":"infinito","♥":"amor","&":"e","|":"ou","<":"menor que",">":"maior que","∑":"soma","¤":"moeda"},ro:{"∆":"delta","∞":"infinit","♥":"dragoste","&":"si","|":"sau","<":"mai mic ca",">":"mai mare ca","∑":"suma","¤":"valuta"},ru:{"∆":"delta","∞":"beskonechno","♥":"lubov","&":"i","|":"ili","<":"menshe",">":"bolshe","∑":"summa","¤":"valjuta"},sk:{"∆":"delta","∞":"nekonecno","♥":"laska","&":"a","|":"alebo","<":"menej ako",">":"viac ako","∑":"sucet","¤":"mena"},sr:{},tr:{"∆":"delta","∞":"sonsuzluk","♥":"ask","&":"ve","|":"veya","<":"kucuktur",">":"buyuktur","∑":"toplam","¤":"para birimi"},uk:{"∆":"delta","∞":"bezkinechnist","♥":"lubov","&":"i","|":"abo","<":"menshe",">":"bilshe","∑":"suma","¤":"valjuta"},vn:{"∆":"delta","∞":"vo cuc","♥":"yeu","&":"va","|":"hoac","<":"nho hon",">":"lon hon","∑":"tong","¤":"tien te"}},s=[";","?",":","@","&","=","+","$",",","/"].join(""),l=[";","?",":","@","&","=","+","$",","].join(""),c=[".","!","~","*","'","(",")"].join(""),d=function(v,b){var y="-",x="",w="",C=!0,S={},_,E,k,T,j,I,A,$,D,M,O,F,P,V,H="";if(typeof v!="string")return"";if(typeof b=="string"&&(y=b),A=o.en,$=a.en,typeof b=="object"){_=b.maintainCase||!1,S=b.custom&&typeof b.custom=="object"?b.custom:S,k=+b.truncate>1&&b.truncate||!1,T=b.uric||!1,j=b.uricNoSlash||!1,I=b.mark||!1,C=!(b.symbols===!1||b.lang===!1),y=b.separator||y,T&&(H+=s),j&&(H+=l),I&&(H+=c),A=b.lang&&o[b.lang]&&C?o[b.lang]:C?o.en:{},$=b.lang&&a[b.lang]?a[b.lang]:b.lang===!1||b.lang===!0?{}:a.en,b.titleCase&&typeof b.titleCase.length=="number"&&Array.prototype.toString.call(b.titleCase)?(b.titleCase.forEach(function(W){S[W+""]=W+""}),E=!0):E=!!b.titleCase,b.custom&&typeof b.custom.length=="number"&&Array.prototype.toString.call(b.custom)&&b.custom.forEach(function(W){S[W+""]=W+""}),Object.keys(S).forEach(function(W){var G;W.length>1?G=new RegExp("\\b"+p(W)+"\\b","gi"):G=new RegExp(p(W),"gi"),v=v.replace(G,S[W])});for(O in S)H+=O}for(H+=y,H=p(H),v=v.replace(/(^\s+|\s+$)/g,""),P=!1,V=!1,M=0,F=v.length;M<F;M++)O=v[M],m(O,S)?P=!1:$[O]?(O=P&&$[O].match(/[A-Za-z0-9]/)?" "+$[O]:$[O],P=!1):O in n?(M+1<F&&r.indexOf(v[M+1])>=0?(w+=O,O=""):V===!0?(O=i[w]+n[O],w=""):O=P&&n[O].match(/[A-Za-z0-9]/)?" "+n[O]:n[O],P=!1,V=!1):O in i?(w+=O,O="",M===F-1&&(O=i[w]),V=!0):A[O]&&!(T&&s.indexOf(O)!==-1)&&!(j&&l.indexOf(O)!==-1)?(O=P||x.substr(-1).match(/[A-Za-z0-9]/)?y+A[O]:A[O],O+=v[M+1]!==void 0&&v[M+1].match(/[A-Za-z0-9]/)?y:"",P=!0):(V===!0?(O=i[w]+O,w="",V=!1):P&&(/[A-Za-z0-9]/.test(O)||x.substr(-1).match(/A-Za-z0-9]/))&&(O=" "+O),P=!1),x+=O.replace(new RegExp("[^\\w\\s"+H+"_-]","g"),y);return E&&(x=x.replace(/(\w)(\S*)/g,function(W,G,X){var z=G.toUpperCase()+(X!==null?X:"");return Object.keys(S).indexOf(z.toLowerCase())<0?z:z.toLowerCase()})),x=x.replace(/\s+/g,y).replace(new RegExp("\\"+y+"+","g"),y).replace(new RegExp("(^\\"+y+"+|\\"+y+"+$)","g"),""),k&&x.length>k&&(D=x.charAt(k)===y,x=x.slice(0,k),D||(x=x.slice(0,x.lastIndexOf(y)))),!_&&!E&&(x=x.toLowerCase()),x},h=function(v){return function(y){return d(y,v)}},p=function(v){return v.replace(/[-\\^$*+?.()|[\]{}\/]/g,"\\$&")},m=function(g,v){for(var b in v)if(v[b]===g)return!0};if(e.exports)e.exports=d,e.exports.createSlug=h;else try{if(t.getSlug||t.createSlug)throw"speakingurl: globals exists /(getSlug|createSlug)/";t.getSlug=d,t.createSlug=h}catch{}})(ya)})(uIe);var Nnn=uIe.exports,Lnn=Nnn;const cIe=Pe(Lnn);var dIe={};(function(e){(function(){(e!==null?e:this).ExifReader=function(){t.prototype._MIN_DATA_BUFFER_LENGTH=2,t.prototype._JPEG_ID_SIZE=2,t.prototype._JPEG_ID=65496,t.prototype._APP_MARKER_SIZE=2,t.prototype._APP0_MARKER=65504,t.prototype._APP1_MARKER=65505,t.prototype._APP15_MARKER=65519,t.prototype._APP_ID_OFFSET=4,t.prototype._BYTES_Exif=1165519206,t.prototype._TIFF_HEADER_OFFSET=10,t.prototype._BYTE_ORDER_BIG_ENDIAN=18761,t.prototype._BYTE_ORDER_LITTLE_ENDIAN=19789;function t(){var n=this;this._getTagValueAt={1:function(r){return n._getByteAt(r)},2:function(r){return n._getAsciiAt(r)},3:function(r){return n._getShortAt(r)},4:function(r){return n._getLongAt(r)},5:function(r){return n._getRationalAt(r)},7:function(r){return n._getUndefinedAt(r)},9:function(r){return n._getSlongAt(r)},10:function(r){return n._getSrationalAt(r)}},this._tiffHeaderOffset=0}return t.prototype.load=function(n){return this.loadView(new DataView(n))},t.prototype.loadView=function(n){return this._dataView=n,this._tags={},this._checkImageHeader(),this._readTags()},t.prototype._checkImageHeader=function(){var n;if(n=this._dataView,n.byteLength<this._MIN_DATA_BUFFER_LENGTH||n.getUint16(0,!1)!==this._JPEG_ID)throw new Error("Invalid image format");if(this._parseAppMarkers(n),!this._hasExifData())throw new Error("No Exif data")},t.prototype._parseAppMarkers=function(n){var r,i,a;for(r=this._JPEG_ID_SIZE,a=[];!(n.byteLength<r+this._APP_ID_OFFSET+5);){if(this._isApp1ExifMarker(n,r))i=n.getUint16(r+this._APP_MARKER_SIZE,!1),this._tiffHeaderOffset=r+this._TIFF_HEADER_OFFSET;else if(this._isAppMarker(n,r))i=n.getUint16(r+this._APP_MARKER_SIZE,!1);else break;a.push(r+=this._APP_MARKER_SIZE+i)}return a},t.prototype._isApp1ExifMarker=function(n,r){return n.getUint16(r,!1)===this._APP1_MARKER&&n.getUint32(r+this._APP_ID_OFFSET,!1)===this._BYTES_Exif&&n.getUint8(r+this._APP_ID_OFFSET+4,!1)===0},t.prototype._isAppMarker=function(n,r){var i;return i=n.getUint16(r,!1),i>=this._APP0_MARKER&&i<=this._APP15_MARKER},t.prototype._hasExifData=function(){return this._tiffHeaderOffset!==0},t.prototype._readTags=function(){return this._setByteOrder(),this._read0thIfd(),this._readExifIfd(),this._readGpsIfd(),this._readInteroperabilityIfd()},t.prototype._setByteOrder=function(){if(this._dataView.getUint16(this._tiffHeaderOffset)===this._BYTE_ORDER_BIG_ENDIAN)return this._littleEndian=!0;if(this._dataView.getUint16(this._tiffHeaderOffset)===this._BYTE_ORDER_LITTLE_ENDIAN)return this._littleEndian=!1;throw new Error("Illegal byte order value. Faulty image.")},t.prototype._read0thIfd=function(){var n;return n=this._getIfdOffset(),this._readIfd("0th",n)},t.prototype._getIfdOffset=function(){return this._tiffHeaderOffset+this._getLongAt(this._tiffHeaderOffset+4)},t.prototype._readExifIfd=function(){var n;if(this._tags["Exif IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["Exif IFD Pointer"].value,this._readIfd("exif",n)},t.prototype._readGpsIfd=function(){var n;if(this._tags["GPS Info IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["GPS Info IFD Pointer"].value,this._readIfd("gps",n)},t.prototype._readInteroperabilityIfd=function(){var n;if(this._tags["Interoperability IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["Interoperability IFD Pointer"].value,this._readIfd("interoperability",n)},t.prototype._readIfd=function(n,r){var i,a,o,s;for(i=this._getShortAt(r),r+=2,s=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)a=this._readTag(n,r),this._tags[a.name]={value:a.value,description:a.description},s.push(r+=12);return s},t.prototype._readTag=function(n,r){var i,a,o,s,l,c,d;return i=this._getShortAt(r),l=this._getShortAt(r+2),a=this._getLongAt(r+4),this._typeSizes[l]*a<=4?c=this._getTagValue(r+8,l,a):(d=this._getLongAt(r+8),c=this._getTagValue(this._tiffHeaderOffset+d,l,a)),l===this._tagTypes.ASCII&&(c=this._splitNullSeparatedAsciiString(c)),this._tagNames[n][i]!=null?(this._tagNames[n][i].name!=null&&this._tagNames[n][i].description!=null?(s=this._tagNames[n][i].name,o=this._tagNames[n][i].description(c)):(s=this._tagNames[n][i],c instanceof Array?o=c.join(", "):o=c),{name:s,value:c,description:o}):{name:"undefined-"+i,value:c,description:c}},t.prototype._getTagValue=function(n,r,i){var a,o;return o=(function(){var s,l;for(l=[],s=0;0<=i?s<i:s>i;0<=i?++s:--s)a=this._getTagValueAt[r](n),n+=this._typeSizes[r],l.push(a);return l}).call(this),o.length===1?o=o[0]:r===this._tagTypes.ASCII&&(o=this._getAsciiValue(o)),o},t.prototype._getAsciiValue=function(n){var r;return function(){var i,a,o;for(o=[],i=0,a=n.length;i<a;i++)r=n[i],o.push(String.fromCharCode(r));return o}()},t.prototype._getByteAt=function(n){return this._dataView.getUint8(n)},t.prototype._getAsciiAt=function(n){return this._dataView.getUint8(n)},t.prototype._getShortAt=function(n){return this._dataView.getUint16(n,this._littleEndian)},t.prototype._getLongAt=function(n){return this._dataView.getUint32(n,this._littleEndian)},t.prototype._getRationalAt=function(n){return this._getLongAt(n)/this._getLongAt(n+4)},t.prototype._getUndefinedAt=function(n){return this._getByteAt(n)},t.prototype._getSlongAt=function(n){return this._dataView.getInt32(n,this._littleEndian)},t.prototype._getSrationalAt=function(n){return this._getSlongAt(n)/this._getSlongAt(n+4)},t.prototype._splitNullSeparatedAsciiString=function(n){var r,i,a,o,s;for(a=[],i=0,o=0,s=n.length;o<s;o++){if(r=n[o],r==="\0"){i++;continue}a[i]==null&&(a[i]=""),a[i]+=r}return a},t.prototype._typeSizes={1:1,2:1,3:2,4:4,5:8,7:1,9:4,10:8},t.prototype._tagTypes={BYTE:1,ASCII:2,SHORT:3,LONG:4,RATIONAL:5,UNDEFINED:7,SLONG:9,SRATIONAL:10},t.prototype._tagNames={"0th":{256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:{name:"Orientation",description:function(n){switch(n){case 1:return"top-left";case 2:return"top-right";case 3:return"bottom-right";case 4:return"bottom-left";case 5:return"left-top";case 6:return"right-top";case 7:return"right-bottom";case 8:return"left-bottom";default:return"Undefined"}}},277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:{name:"ResolutionUnit",description:function(n){switch(n){case 2:return"inches";case 3:return"centimeters";default:return"Unknown"}}},301:"TransferFunction",305:"Software",306:"DateTime",315:"Artist",318:"WhitePoint",319:"PrimaryChromaticities",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:{name:"YCbCrPositioning",description:function(n){switch(n){case 1:return"centered";case 2:return"co-sited";default:return"undefied "+n}}},532:"ReferenceBlackWhite",33432:{name:"Copyright",description:function(n){return n.join("; ")}},34665:"Exif IFD Pointer",34853:"GPS Info IFD Pointer"},exif:{33434:"ExposureTime",33437:"FNumber",34850:{name:"ExposureProgram",description:function(n){switch(n){case 0:return"Undefined";case 1:return"Manual";case 2:return"Normal program";case 3:return"Aperture priority";case 4:return"Shutter priority";case 5:return"Creative program";case 6:return"Action program";case 7:return"Portrait mode";case 8:return"Landscape mode";default:return"Unknown"}}},34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:{name:"OECF",description:function(n){return"[Raw OECF table data]"}},36864:{name:"ExifVersion",description:function(n){var r,i,a,o;for(i="",a=0,o=n.length;a<o;a++)r=n[a],i+=String.fromCharCode(r);return i}},36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:{name:"ComponentsConfiguration",description:function(n){var r,i,a,o;for(i="",a=0,o=n.length;a<o;a++)switch(r=n[a],r){case 49:i+="Y";break;case 50:i+="Cb";break;case 51:i+="Cr";break;case 52:i+="R";break;case 53:i+="G";break;case 54:i+="B"}return i}},37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:{name:"MeteringMode",description:function(n){switch(n){case 1:return"Average";case 2:return"CenterWeightedAverage";case 3:return"Spot";case 4:return"MultiSpot";case 5:return"Pattern";case 6:return"Partial";case 255:return"Other";default:return"Unknown"}}},37384:{name:"LightSource",description:function(n){switch(n){case 1:return"Daylight";case 2:return"Fluorescent";case 3:return"Tungsten (incandescent light)";case 4:return"Flash";case 9:return"Fine weather";case 10:return"Cloudy weather";case 11:return"Shade";case 12:return"Daylight fluorescent (D 5700 – 7100K)";case 13:return"Day white fluorescent (N 4600 – 5400K)";case 14:return"Cool white fluorescent (W 3900 – 4500K)";case 15:return"White fluorescent (WW 3200 – 3700K)";case 17:return"Standard light A";case 18:return"Standard light B";case 19:return"Standard light C";case 20:return"D55";case 21:return"D65";case 22:return"D75";case 23:return"D50";case 24:return"ISO studio tungsten";case 255:return"Other light source";default:return"Unknown"}}},37385:{name:"Flash",description:function(n){switch(n){case 0:return"Flash did not fire";case 1:return"Flash fired";case 5:return"Strobe return light not detected";case 7:return"Strobe return light detected";case 9:return"Flash fired, compulsory flash mode";case 13:return"Flash fired, compulsory flash mode, return light not detected";case 15:return"Flash fired, compulsory flash mode, return light detected";case 16:return"Flash did not fire, compulsory flash mode";case 24:return"Flash did not fire, auto mode";case 25:return"Flash fired, auto mode";case 29:return"Flash fired, auto mode, return light not detected";case 31:return"Flash fired, auto mode, return light detected";case 32:return"No flash function";case 65:return"Flash fired, red-eye reduction mode";case 69:return"Flash fired, red-eye reduction mode, return light not detected";case 71:return"Flash fired, red-eye reduction mode, return light detected";case 73:return"Flash fired, compulsory flash mode, red-eye reduction mode";case 77:return"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected";case 79:return"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected";case 89:return"Flash fired, auto mode, red-eye reduction mode";case 93:return"Flash fired, auto mode, return light not detected, red-eye reduction mode";case 95:return"Flash fired, auto mode, return light detected, red-eye reduction mode";default:return"Unknown"}}},37386:"FocalLength",37396:{name:"SubjectArea",description:function(n){switch(n.length){case 2:return"Location; X: "+n[0]+", Y: "+n[1];case 3:return"Circle; X: "+n[0]+", Y: "+n[1]+", diameter: "+n[2];case 4:return"Rectangle; X: "+n[0]+", Y: "+n[1]+", width: "+n[2]+", height: "+n[3];default:return"Unknown"}}},37500:{name:"MakerNote",description:function(n){return"[Raw maker note data]"}},37510:{name:"UserComment",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",40960:{name:"FlashpixVersion",description:function(n){var r,i,a,o;for(i="",a=0,o=n.length;a<o;a++)r=n[a],i+=String.fromCharCode(r);return i}},40961:{name:"ColorSpace",description:function(n){switch(n){case 1:return"sRGB";case 65535:return"Uncalibrated";default:return"Unknown"}}},40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",40965:"Interoperability IFD Pointer",41483:"FlashEnergy",41484:{name:"SpatialFrequencyResponse",description:function(n){return"[Raw SFR table data]"}},41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:{name:"FocalPlaneResolutionUnit",description:function(n){switch(n){case 2:return"inches";case 3:return"centimeters";default:return"Unknown"}}},41492:{name:"SubjectLocation",description:function(n){return"X: "+n[0]+", Y: "+n[1]}},41493:"ExposureIndex",41495:{name:"SensingMethod",description:function(n){switch(n){case 1:return"Undefined";case 2:return"One-chip color area sensor";case 3:return"Two-chip color area sensor";case 4:return"Three-chip color area sensor";case 5:return"Color sequential area sensor";case 7:return"Trilinear sensor";case 8:return"Color sequential linear sensor";default:return"Unknown"}}},41728:{name:"FileSource",description:function(n){switch(n){case 3:return"DSC";default:return"Unknown"}}},41729:{name:"SceneType",description:function(n){switch(n){case 1:return"A directly photographed image";default:return"Unknown"}}},41730:{name:"CFAPattern",description:function(n){return"[Raw CFA pattern table data]"}},41985:{name:"CustomRendered",description:function(n){switch(n){case 0:return"Normal process";case 1:return"Custom process";default:return"Unknown"}}},41986:{name:"ExposureMode",description:function(n){switch(n){case 0:return"Auto exposure";case 1:return"Manual exposure";case 2:return"Auto bracket";default:return"Unknown"}}},41987:{name:"WhiteBalance",description:function(n){switch(n){case 0:return"Auto white balance";case 1:return"Manual white balance";default:return"Unknown"}}},41988:{name:"DigitalZoomRatio",description:function(n){switch(n){case 0:return"Digital zoom was not used";default:return n}}},41989:{name:"FocalLengthIn35mmFilm",description:function(n){switch(n){case 0:return"Unknown";default:return n}}},41990:{name:"SceneCaptureType",description:function(n){switch(n){case 0:return"Standard";case 1:return"Landscape";case 2:return"Portrait";case 3:return"Night scene";default:return"Unknown"}}},41991:{name:"GainControl",description:function(n){switch(n){case 0:return"None";case 1:return"Low gain up";case 2:return"High gain up";case 3:return"Low gain down";case 4:return"High gain down";default:return"Unknown"}}},41992:{name:"Contrast",description:function(n){switch(n){case 0:return"Normal";case 1:return"Soft";case 2:return"Hard";default:return"Unknown"}}},41993:{name:"Saturation",description:function(n){switch(n){case 0:return"Normal";case 1:return"Low saturation";case 2:return"High saturation";default:return"Unknown"}}},41994:{name:"Sharpness",description:function(n){switch(n){case 0:return"Normal";case 1:return"Soft";case 2:return"Hard";default:return"Unknown"}}},41995:{name:"DeviceSettingDescription",description:function(n){return"[Raw device settings table data]"}},41996:{name:"SubjectDistanceRange",description:function(n){switch(n){case 1:return"Macro";case 2:return"Close view";case 3:return"Distant view";default:return"Unknown"}}},42016:"ImageUniqueID"},gps:{0:{name:"GPSVersionID",description:function(n){var r,i;return n[0]===(r=n[1])&&r===2&&n[2]===(i=n[3])&&i===0?"Version 2.2":"Unknown"}},1:{name:"GPSLatitudeRef",description:function(n){switch(n.join("")){case"N":return"North latitude";case"S":return"South latitude";default:return"Unknown"}}},2:{name:"GPSLatitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},3:{name:"GPSLongitudeRef",description:function(n){switch(n.join("")){case"E":return"East longitude";case"W":return"West longitude";default:return"Unknown"}}},4:{name:"GPSLongitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},5:{name:"GPSAltitudeRef",description:function(n){switch(n){case 0:return"Sea level";case 1:return"Sea level reference (negative value)";default:return"Unknown"}}},6:{name:"GPSAltitude",description:function(n){return n+" m"}},7:{name:"GPSTimeStamp",description:function(n){var r;return r=function(i){return function(){var a,o,s;for(s=[],a=0,o=2-(""+Math.floor(i)).length;0<=o?a<o:a>o;0<=o?++a:--a)s.push("0");return s}()+i},n.map(r).join(":")}},8:"GPSSatellites",9:{name:"GPSStatus",description:function(n){switch(n.join("")){case"A":return"Measurement in progress";case"V":return"Measurement Interoperability";default:return"Unknown"}}},10:{name:"GPSMeasureMode",description:function(n){switch(n.join("")){case"2":return"2-dimensional measurement";case"3":return"3-dimensional measurement";default:return"Unknown"}}},11:"GPSDOP",12:{name:"GPSSpeedRef",description:function(n){switch(n.join("")){case"K":return"Kilometers per hour";case"M":return"Miles per hour";case"N":return"Knots";default:return"Unknown"}}},13:"GPSSpeed",14:{name:"GPSTrackRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},15:"GPSTrack",16:{name:"GPSImgDirectionRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},17:"GPSImgDirection",18:"GPSMapDatum",19:{name:"GPSDestLatitudeRef",description:function(n){switch(n.join("")){case"N":return"North latitude";case"S":return"South latitude";default:return"Unknown"}}},20:{name:"GPSDestLatitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},21:{name:"GPSDestLongitudeRef",description:function(n){switch(n.join("")){case"E":return"East longitude";case"W":return"West longitude";default:return"Unknown"}}},22:{name:"GPSDestLongitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},23:{name:"GPSDestBearingRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},24:"GPSDestBearing",25:{name:"GPSDestDistanceRef",description:function(n){switch(n.join("")){case"K":return"Kilometers";case"M":return"Miles";case"N":return"Knots";default:return"Unknown"}}},26:"GPSDestDistance",27:{name:"GPSProcessingMethod",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},28:{name:"GPSAreaInformation",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},29:"GPSDateStamp",30:{name:"GPSDifferential",description:function(n){switch(n){case 0:return"Measurement without differential correction";case 1:return"Differential correction applied";default:return"Unknown"}}}},interoperability:{1:"InteroperabilityIndex",2:"UnknownInteroperabilityTag0x0002",4097:"UnknownInteroperabilityTag0x1001",4098:"UnknownInteroperabilityTag0x1002"}},t.prototype.getTagValue=function(n){if(this._tags[n]!=null)return this._tags[n].value},t.prototype.getTagDescription=function(n){if(this._tags[n]!=null)return this._tags[n].description},t.prototype.getAllTags=function(){return this._tags},t}()}).call(ya)})(dIe);var Bnn=dIe.ExifReader,Vnn=function(e){var t=new Bnn;t.load(e);var n=t.getAllTags(),r={};for(var i in n)r[znn(i)]=n[i].description;return r};function znn(e){return e.replace(/([A-Z][a-z])|([a-z][A-Z])|([A-Z])/g,function(t){return t.length==1?t.toLowerCase():t[0]==t[0].toUpperCase()?" "+t.toLowerCase():t[0]+" "+t[1].toLowerCase()}).replace(/^\s+|\s+$/g,"")}const Unn=Pe(Vnn);var Hnn=Kp,Wnn=qp,Gnn=Yf;function Ynn(e){return function(t,n,r){var i=Object(t);if(!Wnn(t)){var a=Hnn(n);t=Gnn(t),n=function(s){return a(i[s],s,i)}}var o=e(t,n,r);return o>-1?i[a?t[o]:o]:void 0}}var qnn=Ynn,Knn=qnn,Znn=c5e,Xnn=Knn(Znn),Jnn=Xnn;const fIe=Pe(Jnn);var Qnn=t_e,ern=fb,Lse=V$;function trn(e,t,n){var r=e.length;if(r<2)return r?Lse(e[0]):[];for(var i=-1,a=Array(r);++i<r;)for(var o=e[i],s=-1;++s<r;)s!=i&&(a[i]=Qnn(a[i]||o,e[s],t,n));return Lse(ern(a,1),t,n)}var nrn=trn,rrn=fwe,irn=T0,arn=nrn,orn=U$,srn=irn(function(e){return arn(rrn(e,orn))}),lrn=srn;const urn=Pe(lrn);function hIe(e){return e.reduce((t,n,r)=>{if(Array.isArray(n))return"".concat(t,"[").concat(n.join(":"),"]");if(crn(n))return"".concat(t,'[_key=="').concat(n._key,'"]');if(typeof n=="number")return"".concat(t,"[").concat(n,"]");if(typeof n=="string"&&/^\d+$/.test(n))return"".concat(t,'["').concat(n,'"]');if(typeof n=="string"){const i=r===0?"":".";return"".concat(t).concat(i).concat(n)}throw new Error('Unsupported path segment "'.concat(n,'"'))},"")}function crn(e){return typeof e=="object"&&typeof e._key=="string"}class Lw extends Error{constructor(t,n,r){const i=hIe(n);super("".concat(t," (at '").concat(i,"')")),this.path=n,this.serializedPath=i,this.value=r}}const drn=/^[a-z0-9][a-z0-9_.-]+$/i,frn=/^[a-zA-Z_][a-zA-Z0-9_]*$/,hrn=/^[a-z_]/i;function Bse(e,t,n){if(!hrn.test(e))throw new Lw("Keys must start with a letter (a-z)",n.concat(e),t);if(!frn.test(e))throw new Lw("Keys can only contain letters, numbers and underscores",n.concat(e),t);if(e==="_key"||e==="_ref"||e==="_type"){if(typeof t!="string")throw new Lw("Keys must be strings",n.concat(e),t);if(!drn.test(t))throw new Lw("Invalid key - use less exotic characters",n.concat(e),t)}return e}const prn=["_id","_type","_createdAt","_updatedAt","_rev"],s7={hideWarnings:!1,diffMatchPatch:{enabled:!0,lengthThresholdAbsolute:30,lengthThresholdRelative:1.2}};function mrn(e){return{...s7,...e,diffMatchPatch:{...s7.diffMatchPatch,...e.diffMatchPatch||{}}}}function GO(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s7,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[];if(e===t)return i;const a=Array.isArray(e)?"array":typeof e,o=Array.isArray(t)?"array":typeof t,s=a==="undefined",l=o==="undefined";if(s&&!l)return i.push({op:"set",path:r,value:t}),i;if(!s&&l)return i.push({op:"unset",path:r}),i;const c=mrn(n),d=s?o:a;return d==="object"||d==="array"?a!==o?(i.push({op:"set",path:r,value:t}),i):d==="array"?vrn(e,t,c,r,i):grn(e,t,c,r,i):xrn(e,t,c,r,i)}function grn(e,t,n,r,i){const a=r.length===0,o=Object.keys(e).filter(a?Vse:Use).map(d=>Bse(d,e[d],r)),s=o.length,l=Object.keys(t).filter(a?Vse:Use).map(d=>Bse(d,t[d],r)),c=l.length;for(let d=0;d<s;d++){const h=o[d];h in t||i.push({op:"unset",path:r.concat(h)})}for(let d=0;d<c;d++){const h=l[d];GO(e[h],t[h],n,r.concat([h]),i)}return i}function vrn(e,t,n,r,i){if(t.length>e.length&&i.push({op:"insert",after:r.concat([-1]),items:t.slice(e.length).map((l,c)=>OG(l,r,c,n))}),t.length<e.length){const l=e.length-t.length===1,c=e.slice(t.length);Srn(n)||!wF(c)?i.push({op:"unset",path:r.concat([l?t.length:[t.length,""]])}):i.push(...c.map(d=>({op:"unset",path:r.concat({_key:d._key})})))}for(let l=0;l<t.length;l++)if(Array.isArray(t[l]))throw new Lw("Multi-dimensional arrays not supported",r.concat(l),t[l]);const a=Math.min(e.length,t.length),o=e.slice(0,a),s=t.slice(0,a);return wF(o)&&wF(s)?yrn(o,s,n,r,i):pIe(o,s,n,r,i)}function pIe(e,t,n,r,i){for(let a=0;a<e.length;a++)GO(e[a],OG(t[a],r,a,n),n,r.concat(a),i);return i}function yrn(e,t,n,r,i){const a=zse(e),o=zse(t);if(!Crn(a.keys,o.keys))return pIe(e,t,n,r,i);for(let s=0;s<o.keys.length;s++){const l=o.keys[s],c=a.index[l],d=OG(o.index[l],r,s,n);GO(c,d,n,r.concat({_key:l}),i)}return i}function brn(e,t,n,r){const{enabled:i,lengthThresholdRelative:a,lengthThresholdAbsolute:o}=n.diffMatchPatch,s=r[r.length-1];if(!i||typeof e!="string"||typeof t!="string"||typeof s=="string"&&s[0]==="_"||t.length<o)return;let l="";try{const c=Ob(e,t),d=vO(c);l=yW(yO(d))}catch{return}return l.length>t.length*a?void 0:{op:"diffMatchPatch",path:r,value:l}}function xrn(e,t,n,r,i){const a=brn(e,t,n,r);return i.push(a||{op:"set",path:r,value:t}),i}function Vse(e){return prn.indexOf(e)===-1}function wF(e){const t=[];for(let n=0;n<e.length;n++){const r=wrn(e[n]);if(!r||t.indexOf(r)!==-1)return!1;t.push(r)}return!0}function wrn(e){return typeof e=="object"&&e!==null&&e._key}function zse(e){return e.reduce((t,n)=>(t.keys.push(n._key),t.index[n._key]=n,t),{keys:[],index:{}})}function Crn(e,t){return e.length===t.length&&e.every((n,r)=>t[r]===n)}function OG(e,t,n,r){if(typeof e<"u")return e;if(!r.hideWarnings){const i=hIe(t.concat(n));console.warn("undefined value in array converted to null (at '".concat(i,"')"))}return null}function Srn(e){return!!e.ifRevisionID}function Use(e){return!0}var mIe,Hse=kc;mIe=Hse.createRoot,Hse.hydrateRoot;function _rn(e,t){function n(a,o){e.has(a),e.set(a,o),t()}function r(a,o){e.has(a),e.set(a,o),t()}function i(a){e.has(a),e.delete(a),t()}return{add:n,remove:i,update:r}}function gIe(){const[e]=f.useState(()=>new Map),[t,n]=f.useReducer(()=>Array.from(e.entries()),[]),r=f.useMemo(()=>m0(n,10,{trailing:!0}),[]);return{store:f.useMemo(()=>_rn(e,r),[r,e]),snapshot:t}}function vIe(e,t,n,r=Object.is){const i=f.useRef(null),a=f.useRef(null);f.useLayoutEffect(()=>{if(t===null||e===null)return;const o=n();return e.add(t,o),i.current=t,a.current=o,()=>{e.remove(t),i.current=null,a.current=null}},[t,e,n]),f.useLayoutEffect(()=>{if(t===null||i.current===null||e===null||t!==i.current)return;const o=n();r(a.current,o)||(e.update(t,o),a.current=o)})}function Ern(e){const{children:t}=e,{store:n,snapshot:r}=gIe();return u.jsx(Hhe.Provider,{value:n,children:u.jsx(Whe.Provider,{value:r,children:t})})}const krn=f.memo(Ern),Trn=[];function MG(){const e=f.useContext(Whe);return e===null?(console.warn(new Error('No context provided for reporter. Make sure that the component calling "useChangeIndicatorsReportedValues()", is wrapped inside a <ChangeIndicatorsTracker> element')),Trn):e}const yIe=(e,t,n)=>{const r=f.useContext(Hhe);r===null&&console.warn(new Error('No context provided for reporter. Make sure that the component calling "useChangeIndicatorsReporter()", is wrapped inside a <ChangeIndicatorsTracker> element')),vIe(r,e,t,n)},Arn=e=>{const{path:t,hasHover:n}=e,{onSetFocus:r}=f.useContext(h0),[i,a]=f.useState(!1),o=f.useCallback(()=>{a(!0)},[]),s=f.useCallback(()=>{a(!1)},[]),[l,c]=f.useState(null),d=f.useMemo(()=>l?`change-${qt(t)}`:null,[l,t]),h=f.useCallback(()=>({element:l,path:t,isChanged:!0,hasFocus:!1,hasHover:i,hasRevertHover:n}),[l,i,n,t]);yIe(d,h,_g);const p=f.useCallback(m=>{jrn(m,r,t)},[r,t]);return u.jsx("div",{ref:c,onClick:p,onMouseLeave:s,onMouseEnter:o,children:e.children})};function jrn(e,t,n){e.stopPropagation(),t(n)}function Ha(e){const t=f.useRef(e);return wt(t.current,e)||(t.current=e),t.current}function nm(e,t){const n=[t,!0],r={type:"tuple",tuple:n};return function(i){const a=Ha(i),o=f.useMemo(()=>xe(a).pipe(mt(l=>Ai(xe({type:"loading"}),e(l).pipe(de(c=>({type:"value",value:c}))))),il(([l],c)=>c.type==="loading"?[l,!0]:[c.value,!1],n),xr(([l,c],[d,h])=>!(l!==d||c!==h)),de(l=>({type:"tuple",tuple:l})),Cn(l=>xe({type:"error",error:l}))),[a]),s=Jr(o,r);if(s.type==="error")throw s.error;return s.tuple}}function sa(e){return e!=null}const Irn="drafts",RG=`${Irn}.`;function PG(e){return e.startsWith(RG)}function FG(e){return{draftId:la(e),publishedId:fn(e)}}function la(e){return PG(e)?e:RG+e}function fn(e){return PG(e)?e.slice(RG.length):e}function YO(e){const t=e.reduce((n,r)=>{const i=fn(r._id);let a=n.get(i);return a||(a={id:i,type:r._type,published:void 0,draft:void 0},n.set(i,a)),a[i===r._id?"published":"draft"]=r,n},new Map);return Array.from(t.values())}function bIe(e){return YO(e).map(t=>t.draft||t.published).filter(sa)}const Drn=Object.freeze({}),cn=Object.freeze([]);function $rn(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global;throw new Error("@sanity/ui: could not locate global scope")}const xIe=$rn();function Wse(e){return Array.isArray(e)}function yt(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}function xg(e){return typeof e=="string"}const Orn=typeof document=="object"&&typeof window=="object"&&window.ResizeObserver?window.ResizeObserver:Wxe,Mrn=()=>{const e=Gxe(),t=new Orn(n=>e.publish(n));return{observe:(n,r,i)=>{const a=e.subscribe(o=>{const s=o.find(l=>l.target===n);s&&r(s)});return t.observe(n,i),()=>{a(),t.unobserve(n)}},unobserve:n=>t.unobserve(n)}},VS=Mrn(),Rrn=["sanity.imageAsset","sanity.fileAsset"];function Prn(e){return e.type==="document"&&Rrn.includes(e.name)}function YWn(e){return e.type==="document"&&!Prn(e)}const Frn=["match","in","asc","desc","true","false","null"],Nrn=/^[a-zA-Z_][a-zA-Z0-9_]*$/,Lrn=e=>!Nrn.test(e)||Frn.includes(e),Brn=e=>`["${e}"]`,V0=Vrn();function Vrn(){return typeof window>"u"?!1:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}const Gse=typeof Intl=="object"&&"Segmenter"in Intl?new Intl.Segmenter:void 0;function zrn(e,t,n){if(n<t)throw new Error("End must be greater than start, use `String.prototype.slice()` for negative values");if(!Gse)return e.slice(t,n);let r=0,i="";for(const a of Gse.segment(e)){if(r===n)return i;i+=a.segment,r++}return i}function Yse(e,t){const n=zrn(e,0,t);return n===e?n:`${n}…`}const Urn={isLoading:!0,value:void 0,error:null};function wIe(e,t){const n=typeof t>"u"?Urn:{isLoading:!1,value:t,error:null},r=f.useMemo(()=>e.pipe(Hrn()),[e]);return Jr(r,n)}function Hrn(){return e=>e.pipe(de(t=>({isLoading:!1,value:t,error:null})),Cn(t=>xe({isLoading:!1,value:void 0,error:t})))}function CIe(e,t){return e!==null&&e.roles.some(n=>n.name===t)}function Wrn(e,t,n){return f.useMemo(()=>xb(e,t,n),[e,n,t])}var qse;const bT=typeof process>"u"?!1:(qse=process==null?void 0:process.env)==null?void 0:qse.SANITY_STUDIO_DEBUG_I18N,Grn=!!bT,Yrn={reverse:e=>`‮${e}`,triangles:e=>`◤ ${e} ◢`};function SIe(e){const t=bT==="reverse"||bT==="triangles"?Yrn[bT]:null;return t?(...n)=>t(e(...n)):e}const Kse={bindI18n:!1};function Y(e,t){const{t:n}=cb(e,t?{keyPrefix:t.keyPrefix,lng:t.lng,...Kse}:Kse);return{t:SIe(n)}}const qrn=250,Krn=R.div(({$changed:e,$disabled:t,$hasFocus:n,$isReviewChangeOpen:r})=>t?ce`
        ${Mv}:after {
          display: none;
        }
      `:ce`
      --change-bar-offset: 4px;

      display: flex;
      position: relative;

      ${Mv}:after {
        opacity: 0.5;
      }

      @media (hover: hover) {
        &:hover {
          z-index: 10;
          ${Mv}:after {
            opacity: 1;
          }
        }
      }

      /* hide when field is not changed */
      ${n&&ce`
        ${Mv}:after {
          opacity: 1;
        }
      `}

      /* hide when field is not changed */
      ${!e&&ce`
        ${Mv}:after {
          opacity: 0;
          pointer-events: none;
        }
      `}

      /* hide hover effect when review changes is open */
      ${r&&ce`
        ${_Ie} {
          opacity: 0;
        }
      `}
    `),Zrn=R.div`
  flex-grow: 1;
  min-width: 0;
`,Xrn=R.div`
  position: relative;
  opacity: 1;
  transition: opacity 100ms;
  z-index: ${({$zIndex:e})=>e};
`,Mv=R.div(e=>{const{media:t}=Ee(e.theme);return ce`
    position: absolute;
    top: -1px;
    left: var(--change-bar-offset);
    width: 1px;
    bottom: -1px;
    background-color: var(--card-bg-color);

    @media (min-width: ${t[0]}px) {
      display: unset;
    }

    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 1px;
      left: 0;
      width: 1px;
      bottom: 1px;
      background-color: var(--card-badge-caution-dot-color);
      border-radius: 0.5px;
    }
  `}),_Ie=R.button(e=>{const{$withHoverEffect:t}=e;return ce`
    appearance: none;
    border: 0;
    outline: 0;
    display: block;
    padding: 0;
    background: transparent;
    opacity: 0;
    position: absolute;
    height: 100%;
    cursor: pointer;
    pointer-events: all;
    left: calc(-0.25rem + var(--change-bar-offset));
    width: calc(1rem - 1px);
    transition: opacity ${qrn}ms;

    &:focus {
      border: 0;
      outline: 0;
    }

    &:focus {
      border: 0;
      outline: 0;
    }

    ${t&&ce`
      @media (hover: hover) {
        &:hover {
          opacity: 0.2;
        }
      }
    `}
  `});function Jrn(e){const{children:t,disabled:n,hasFocus:r,isChanged:i,withHoverEffect:a=!0}=e,{onOpenReviewChanges:o,isReviewChangesOpen:s}=f.useContext(h0),{zIndex:l}=Ds(),{t:c}=Y(),d=f.useMemo(()=>n||!i?null:u.jsxs(Xrn,{"data-testid":"change-bar",$zIndex:l,children:[u.jsx(Mv,{"data-testid":"change-bar__marker"}),u.jsx(gt,{content:c("changes.change-bar.aria-label"),portal:!0,children:u.jsx(_Ie,{"aria-label":c("changes.change-bar.aria-label"),"data-testid":"change-bar__button",onClick:s?void 0:o,tabIndex:-1,type:"button",$withHoverEffect:a})})]}),[n,i,s,o,c,a,l]);return u.jsxs(Krn,{"data-testid":"change-bar-wrapper",$changed:i,$disabled:n,$hasFocus:r,$isReviewChangeOpen:s,children:[u.jsx(Zrn,{"data-testid":"change-bar__field-wrapper",children:t}),d]})}const Qrn=f.memo(function(e){const{children:t,disabled:n,hasFocus:r,isChanged:i,onMouseEnter:a,onMouseLeave:o,path:s=cn,withHoverEffect:l,...c}=e,d=Ds(),[h,p]=f.useState(!1),m=f.useCallback(w=>{a==null||a(w),p(!0)},[a]),g=f.useCallback(w=>{o==null||o(w),p(!1)},[o]),[v,b]=f.useState(null),y=f.useMemo(()=>n||!v?null:`field-${qt(s)}`,[n,v,s]),x=f.useCallback(()=>({element:v,path:s,isChanged:i,hasFocus:r,hasHover:h,zIndex:d.zIndex}),[v,r,h,i,d.zIndex,s]);return yIe(y,x,_g),u.jsx("div",{...c,ref:b,onMouseEnter:m,onMouseLeave:g,children:u.jsx(Jrn,{hasFocus:r,isChanged:i,disabled:n,withHoverEffect:l,children:t})})});function eo(e){const{children:t,hasFocus:n,isChanged:r,path:i,withHoverEffect:a,...o}=e;return u.jsx(Qrn,{...o,path:i,hasFocus:n,isChanged:r,withHoverEffect:a,children:t})}function ein(e){const t=f.useContext(z4);f.useEffect(()=>t==null?void 0:t.subscribe(e),[e,t])}const Zse=()=>{},qO=f.forwardRef(function(e,t){const{as:n="div",onScroll:r,...i}=e,a=f.useRef(null);f.useImperativeHandle(t,()=>a.current);const o=f.useContext(z4),s=f.useMemo(()=>Gxe(),[]);return f.useEffect(()=>r?s.subscribe(r):Zse,[s,r]),f.useEffect(()=>o?s.subscribe(o.publish):Zse,[o,s]),f.useEffect(()=>{const l=d=>{s.publish(d)},c=a.current;if(c)return c.addEventListener("scroll",l,{passive:!0,capture:!0}),()=>{c.removeEventListener("scroll",l)}},[s,a]),u.jsx(z4.Provider,{value:s,children:f.createElement(n,{ref:a,"data-testid":"scroll-container",...i})})});function tin({onScroll:e,children:t}){return ein(e),u.jsx(u.Fragment,{children:t})}const Ms=4,nin=16,Xse=8,Pt=8,Ml=2,Dk=4,_o=12,yv=1,rin=!1,iin=!1;function Jse(e,t,n){const r=t.slice(t.indexOf("-")+1)||"[]",i=el(r),a=`${e}-${qt(i)}`;if(n.has(a))return n.get(a);let o;for(const[s,l]of n){if(!("path"in l)||!s.startsWith(e))continue;const c=R4e(i,l.path),d=l.path[l.path.length-1],h=c===l.path.length-1&&Uu(d);if(c!==0&&!(c!==l.path.length&&!h)&&(o=l,c===i.length))break}return o}function EIe(e){const t=getComputedStyle(e).overflow;return t.includes("auto")||t.includes("scroll")}function ain(e){return(e.scrollHeight!==e.offsetHeight||e.scrollWidth!==e.offsetWidth)&&EIe(e)}const Qse=(e,t)=>{const n={top:0,left:0,height:t.offsetHeight,width:t.offsetWidth},r={top:0,left:0,height:e.offsetHeight,width:e.offsetWidth};let i=!1,a=e;for(;a&&a!==t&&t.contains(a);)i&&(n.top+=a.offsetTop,n.left+=a.offsetLeft),EIe(a)&&(n.top=a.offsetTop,n.height=a.offsetHeight,n.left=a.offsetLeft,n.width=a.offsetWidth,i=!0),r.top+=a.offsetTop-a.scrollTop,r.left+=a.offsetLeft-a.scrollLeft,a=a.offsetParent;return{rect:r,bounds:n}};function oin(e){return e[0]!=="changePanel"}const sin=-15;function ele(e){const t=e.element;if(!t)return;let n=t;for(;!ain(n);)if(n=n.parentElement,!n)return;n.scroll({top:n.scrollTop+e.rect.top-e.bounds.top+sin,left:0,behavior:"smooth"})}function lin(e){const{bounds:t,...n}=e,r=Math.max(t.left,e.left),i=Math.max(e.top,t.top),a=Math.max(0,e.height-(i-e.top)),o=Math.max(0,e.width-(r-e.left));return u.jsx("rect",{...n,x:r,y:i,height:a,width:o})}R.rect`
  stroke: #ccc;
  fill: none;
  pointer-events: none;
  stroke-linecap: round;
`;const Zx=R.path`
  fill: none;
  pointer-events: none;
  stroke-linejoin: round;
  stroke: var(--card-badge-caution-dot-color);
`,uin=R.path`
  fill: none;
  pointer-events: stroke;
  stroke: transparent;
  cursor: pointer;
  stroke-linecap: round;
  stroke-linejoin: round;
  opacity: 0;

  &:hover {
    opacity: 0.2;
  }
`,cin=R(lin)`
  stroke: none;
  pointer-events: none;
  fill: var(--card-badge-caution-dot-color);
`;function $k(e,t,n){return[`M ${e-Dk} ${t-Dk*n} `,`L ${e} ${t}`,`L ${e+Dk} ${t-Dk*n}`].join("")}function CF(e,t){return`M${e} ${t}`}function Gi(e,t){return`L${e} ${t}`}function din(e,t=""){return e.join(t)}function us(e,t,n,r){return`Q${e} ${t} ${n} ${r}`}function fin(e){const{from:t,to:n}=e,{left:r,top:i}=t,{left:a,top:o}=n,s=[],l=Math.min(Ms,Math.abs(i-o)/2);return t.isAbove?s.push(CF(r+Pt,i-_o+Ml),Gi(r+Pt,i-Ms),us(r+Pt,i,r+Pt+Ms,i)):t.isBelow?s.push(CF(r+Pt,i+_o-Ml),Gi(r+Pt,i+Ms),us(r+Pt,i,r+Pt+Ms,i)):s.push(CF(r,i)),n.isAbove?i<n.bounds.top?s.push(Gi(n.bounds.left-8-l,i),us(n.bounds.left-8,i,n.bounds.left-8,i+l),Gi(n.bounds.left-8,o-l),us(n.bounds.left-8,o,n.bounds.left-8+l,o),Gi(n.bounds.left+Pt-Ms,o),us(n.bounds.left+Pt,o,n.bounds.left+Pt,o-Ms),Gi(n.bounds.left+Pt,o-_o+Ml)):s.push(Gi(n.bounds.left+Pt-Ms,i),us(n.bounds.left+Pt,i,n.bounds.left+Pt,i-Ms),Gi(n.bounds.left+Pt,o-_o+Ml)):n.isBelow?i>n.bounds.top+n.bounds.height?s.push(Gi(n.bounds.left-Pt-l,i),us(n.bounds.left-Pt,i,n.bounds.left-Pt,i-l),Gi(n.bounds.left-Pt,o+l),us(n.bounds.left-Pt,o,n.bounds.left-Pt+l,o),Gi(n.bounds.left+Pt-Ms,o),us(n.bounds.left+Pt,o,n.bounds.left+Pt,o+Ms),Gi(n.bounds.left+Pt,o+_o-Ml)):s.push(Gi(n.bounds.left+Pt-Ms,i),us(n.bounds.left+Pt,i,n.bounds.left+Pt,i+Ms),Gi(n.bounds.left+Pt,o+_o-Ml)):i<o?s.push(Gi(n.bounds.left+Pt-l,i),us(n.bounds.left+Pt,i,n.bounds.left+Pt,i+l),Gi(n.bounds.left+Pt,o-l),us(n.bounds.left+Pt,o,n.bounds.left+Pt+l,o),Gi(a,o)):s.push(Gi(n.bounds.left+Pt-l,i),us(n.bounds.left+Pt,i,n.bounds.left+Pt,i-l),Gi(n.bounds.left+Pt,o+l),us(n.bounds.left+Pt,o,n.bounds.left+Pt+l,o),Gi(a,o)),din(s)}function tle(e,t){const n=e.top+e.height/2,r=e.top+e.height<t.top+Ml,i=e.top>t.top+t.height-Ml;return{bounds:t,left:e.left,top:n,centerY:n,startY:e.top+Xse,endY:e.top+e.height-Xse,isAbove:r,isBelow:i,outOfBounds:r||i}}function hin(e){const t={top:e.from.bounds.top+_o,bottom:e.from.bounds.top+e.from.bounds.height-_o,left:e.from.bounds.left,right:e.from.bounds.left+e.from.bounds.width,width:e.from.bounds.width,height:e.from.bounds.height-_o*2},n=tle(e.from.rect,t);n.left=e.from.rect.left+e.from.rect.width+1;const r={top:e.to.bounds.top+_o,bottom:e.to.bounds.top+e.to.bounds.height-_o,left:e.to.bounds.left,right:e.to.bounds.left+e.to.bounds.width,width:e.to.bounds.width,height:e.to.bounds.height-_o*2},i=tle(e.to.rect,r),a=Math.max(i.startY,n.startY);return n.top=Math.min(a,n.endY),n.top<r.top?n.top=Math.min(r.top,n.endY):n.top>r.bottom&&(n.top=Math.max(r.bottom,n.startY)),i.top=Math.min(a,i.endY),i.top<t.top?i.top=Math.min(t.top,i.endY):i.top>t.bottom&&(i.top=Math.max(t.bottom,i.startY)),n.top=Math.min(Math.max(n.top,t.top),t.bottom),i.top=Math.min(Math.max(i.top,r.top),r.bottom),{from:n,to:i}}const pin=f.memo(function({from:e,to:t}){const n=hin({from:e,to:t});if(n.from.outOfBounds&&n.to.outOfBounds)return null;const r=fin(n);return u.jsxs(u.Fragment,{children:[u.jsx(uin,{d:r,strokeWidth:nin}),u.jsx(Zx,{d:r,strokeWidth:yv}),u.jsx(cin,{top:t.rect.top,left:t.rect.left-.5,height:t.rect.height,width:yv,bounds:t.bounds}),n.from.isAbove&&u.jsx(Zx,{d:$k(n.from.left+Pt,n.from.bounds.top-_o+Ml,-1),strokeWidth:yv}),n.from.isBelow&&u.jsx(Zx,{d:$k(n.from.left+Pt,n.from.bounds.top+n.from.bounds.height+_o-Ml,1),strokeWidth:yv}),n.to.isAbove&&u.jsx(Zx,{d:$k(n.to.bounds.left+Pt,n.to.bounds.top-_o+Ml,-1),strokeWidth:yv}),n.to.isBelow&&u.jsx(Zx,{d:$k(n.to.bounds.left+Pt,n.to.bounds.top+n.to.bounds.height+_o-Ml,1),strokeWidth:yv}),rin]})}),min=R.svg`
  pointer-events: none;
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  height: 100%;
`;function gin(e,t){f.useEffect(()=>VS.observe(e,t),[e,t])}function nle(e,t,n,r){const i=[],a=[];for(const s of e){if(!oin(s)||!s[1].isChanged)continue;const[l,c]=s;if(l===t){i.push(s);continue}if(c.hasHover){i.push(s);continue}if(c.hasFocus){a.push(s);continue}}const o=i.length>0;return{connectors:(o?i:a).map(([s])=>{const l=Jse("field",s,n),c=Jse("change",s,n);return!l||!c?null:{field:{id:s,...l},change:{id:s,...c}}}).filter(s=>!!(s!=null&&s.field.element)&&!!(s!=null&&s.change.element)).map(({field:s,change:l})=>({hasHover:s.hasHover||l.hasHover,hasFocus:s.hasFocus,hasRevertHover:l.hasRevertHover,field:{...s,...Qse(s.element,r)},change:{...l,...Qse(l.element,r)}})),isHoverConnector:o}}function vin(e){const{rootElement:t,onSetFocus:n}=e,[r,i]=f.useState(null),a=MG(),o=f.useMemo(()=>new Map(a),[a]),[{connectors:s},l]=f.useState(()=>nle(a,r,o,t)),c=f.useMemo(()=>Zp(s,h=>0-h.field.path.length).slice(0,1),[s]),d=f.useCallback(()=>{l(nle(a,r,o,t))},[o,a,r,t]);return gin(t,d),u.jsx(tin,{onScroll:d,children:u.jsx(min,{style:{zIndex:c[0]&&c[0].field.zIndex},children:c.map(({field:h,change:p})=>p?u.jsx(yin,{field:h,change:p,onSetFocus:n,setHovered:i},h.id):null)})})}function yin(e){const{change:t,field:n,onSetFocus:r,setHovered:i}=e,a=f.useCallback(()=>{ele(n),ele(t),r(n.path)},[n,t,r]),o=f.useCallback(()=>i(n.id),[n,i]),s=f.useCallback(()=>i(null),[i]),l=f.useMemo(()=>({rect:{...n.rect,left:n.rect.left+3},bounds:n.bounds}),[n.bounds,n.rect]),c=f.useMemo(()=>({rect:{...t.rect,left:t.rect.left+1},bounds:t.bounds}),[t.bounds,t.rect]);return u.jsxs(u.Fragment,{children:[u.jsx("g",{onClick:a,onMouseEnter:o,onMouseLeave:s,children:u.jsx(pin,{from:l,to:c})}),iin]})}function bin({children:e,className:t,isReviewChangesOpen:n,onOpenReviewChanges:r,onSetFocus:i,...a}){const[o,s]=f.useState(),l=f.useMemo(()=>({isReviewChangesOpen:n,onOpenReviewChanges:r,onSetFocus:i}),[n,r,i]);return u.jsx(h0.Provider,{value:l,children:u.jsx(krn,{children:u.jsxs(qO,{...a,ref:s,className:t,children:[e,o&&u.jsx(vin,{rootElement:o,onSetFocus:i})]})})})}const rle=u.jsx(N,{muted:!0,children:u.jsx(no,{})}),SF=(e,t)=>u.jsx(L,{as:"li",children:u.jsx(N,{textOverflow:"ellipsis",size:1,weight:"medium",children:e})},`${e}-${t}`);function xin(e){const{titlePath:t,maxLength:n}=e,r=f.useMemo(()=>{const a=t.length,o=Math.ceil(n/2),s=Math.floor(n/2);return n&&a>n?[...t.slice(0,o-1),t.slice(o-1,a-s),...t.slice(a-s)]:t},[n,t]),i=f.useMemo(()=>r.map((a,o)=>{const s=`${a}-${o}`,l=o<r.length-1;return Array.isArray(a)?u.jsxs(f.Fragment,{children:[u.jsx(gt,{content:u.jsx(ee,{space:2,padding:2,children:a.map(SF)}),children:u.jsx(L,{children:SF("...",o)})}),l&&rle]},s):u.jsxs(f.Fragment,{children:[SF(a,o),l&&rle]},s)}),[r]);return u.jsx(U,{align:"center",as:"ol",gap:2,children:i})}function win(e){return`inset 0 0 0 ${e.width}px ${e.color}`}const Cin=R(Vn)`
  align-items: flex-end;
`;function NG(e){const{base:t,border:n,focusRing:r}=e,i=r.offset+r.width,a=0-r.offset,o=t?t.bg:"var(--card-bg-color)";return[a>0&&`inset 0 0 0 ${a}px var(--card-focus-ring-color)`,n&&win(n),a<0&&`0 0 0 ${0-a}px ${o}`,i>0&&`0 0 0 ${i}px var(--card-focus-ring-color)`].filter(Boolean).join(",")}const Sin="data-active",_F="a,button",_in=R.div(({theme:e,offset:t})=>ce`
    bottom: ${-t}px;
    border-radius: ${Se(e.sanity.radius[1])};
    left: ${-t}px;
    pointer-events: none;
    position: absolute;
    right: ${-t}px;
    top: ${-t}px;
    z-index: 2;

    ${kIe}:focus-visible & {
      box-shadow: ${NG({base:e.sanity.color.base,focusRing:e.sanity.focusRing})};
    }
  `),Ein=R.div`
  bottom: 0;
  display: none;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
  z-index: 1;

  @media (hover: hover) {
    &[data-enabled='true'] {
      display: block;
    }
  }
`,kIe=R(L)`
  height: 100%;
  outline: none;
  overflow-x: hidden;
  overflow-y: auto;
  overscroll-behavior: contain;
  width: 100%;
`,kin=R(L).attrs(({$height:e})=>({style:{height:`${e}px`}}))`
  position: relative;
  width: 100%;
`,fd=f.forwardRef(function({activeItemDataAttr:e=Sin,ariaLabel:t,ariaMultiselectable:n=!1,autoFocus:r,canReceiveFocus:i,fixedHeight:a,focusRingOffset:o=0,getItemDisabled:s,getItemKey:l,getItemSelected:c,initialIndex:d,initialScrollAlign:h="start",inputElement:p,itemHeight:m,items:g,onEndReached:v,onEndReachedIndexOffset:b=0,onlyShowSelectionWhenActive:y,overscan:x,renderItem:w,wrapAround:C=!0,...S},_){const E=f.useRef(!1),k=f.useRef(f.useId()),T=f.useRef(d??0),[j,I]=f.useState(null),[A,$]=f.useState(!1),[D,M]=f.useState(null),[O,F]=f.useState(null),P=f.useCallback(he=>{if(!v)return;const[ve]=[...he.getVirtualItems()].reverse();ve&&ve.index>=g.length-b-1&&E.current&&v()},[v,g.length,b]),V=tU({count:g.length,getItemKey:l,getScrollElement:()=>O,estimateSize:()=>m,onChange:P,overscan:x}),H=f.useMemo(()=>{let he=-1;return g.reduce((ve,Ce,Te)=>{var Ge,Je;const tt=(Ge=s==null?void 0:s(Te))!=null?Ge:!1,Ne=(Je=c==null?void 0:c(Te))!=null?Je:!1;return tt||(he+=1),ve[Te]={activeIndex:tt?null:he,disabled:tt,selected:Ne},ve},[])},[s,c,g]),W=f.useMemo(()=>H.filter(he=>!he.disabled).length,[H]),G=f.useCallback(he=>D==null?void 0:D.setAttribute("data-enabled",(!he).toString()),[D]),X=f.useCallback(he=>`${k.current}-item-${he}`,[]),z=f.useCallback(()=>`${k.current}-children`,[]),q=f.useCallback(()=>{const he=[p,O].some(Ce=>document.activeElement===Ce);if(y&&!he&&!A)return;const ve=Array.from((j==null?void 0:j.children)||[]);ve==null||ve.forEach(Ce=>{var Te,Ge,Je;const tt=Number((Te=Ce.dataset)==null?void 0:Te.index),Ne=(Ge=H[tt])==null?void 0:Ge.activeIndex;(Je=Ce.querySelector(_F))==null||Je.toggleAttribute(e,Ne===T.current)})},[e,j==null?void 0:j.children,A,p,H,y,O]),Z=f.useCallback(()=>{const he=Array.from((j==null?void 0:j.children)||[]);he==null||he.forEach(ve=>{var Ce;(Ce=ve.querySelector(_F))==null||Ce.toggleAttribute(e,!1)})},[e,j==null?void 0:j.children]),K=f.useMemo(()=>xb(q,200),[q]),J=f.useCallback(()=>{const he=T==null?void 0:T.current;g.length>0?(p==null||p.setAttribute("aria-activedescendant",X(he)),O==null||O.setAttribute("aria-activedescendant",X(he))):(p==null||p.removeAttribute("aria-activedescendant"),O==null||O.removeAttribute("aria-activedescendant"))},[X,p,g.length,O]),Q=f.useCallback(()=>{var he,ve;const Ce=j==null?void 0:j.parentElement;if(j&&Ce){const Te=Ce.getBoundingClientRect().top-j.getBoundingClientRect().top;return(ve=(he=V.getVirtualItemForOffset(Te))==null?void 0:he.index)!=null?ve:-1}return-1},[j,V]),re=f.useCallback(({index:he,scrollAlign:ve,scrollIntoView:Ce=!0})=>{if(T.current=he,J(),q(),Ce){const Te=H.findIndex(Ge=>Ge.activeIndex===he);Te>-1&&V.scrollToIndex(Te,ve?{align:ve}:{})}},[J,H,q,V]),ae=f.useCallback(he=>{let ve=-1;const Ce=W-1;if(he==="next"){const Te=C?0:Ce;ve=T.current<W-1?T.current+1:Te}if(he==="previous"){const Te=C?Ce:0;ve=T.current>0?T.current-1:Te}re({index:ve,scrollIntoView:!0}),G(!1)},[W,G,re,C]),ne=f.useCallback(he=>{switch(he){case"input":p==null||p.focus();break;case"list":O==null||O.focus();break}},[p,O]),se=f.useCallback(()=>{p==null||p.focus()},[p]),le=f.useCallback(()=>{O==null||O.focus()},[O]),oe=f.useCallback(he=>()=>{re({index:he,scrollIntoView:!1})},[re]),ge=f.useCallback(()=>{q()},[q]),_e=f.useCallback(he=>ve=>{const Ce=Array.from((j==null?void 0:j.children)||[]);if(Ce.length&&(ve.key==="ArrowDown"&&(ve.preventDefault(),ne(he),ae("next")),ve.key==="ArrowUp"&&(ve.preventDefault(),ne(he),ae("previous")),ve.key==="Enter")){ve.preventDefault(),ne(he);const Te=Ce.find(Ge=>Number(Ge.dataset.index)===H.findIndex(Je=>Je.activeIndex===T.current));if(Te){const Ge=Te==null?void 0:Te.querySelector(_F);Ge==null||Ge.click()}}},[j==null?void 0:j.children,ne,H,ae]),Me=f.useCallback(he=>_e("input")(he),[_e]),me=f.useCallback(he=>_e("list")(he),[_e]),ye=f.useCallback(()=>{y&&(q(),$(!0))},[y,q]),De=f.useCallback(()=>{y&&(Z(),$(!1))},[Z,y]);f.useImperativeHandle(_,()=>({focusInputElement(){se()},focusListElement(){le()},getTopIndex(){return Q()},scrollToIndex(he){re({index:he}),G(!0)}}),[G,se,le,Q,re]),f.useEffect(()=>{typeof d<"u"&&!E.current&&re({index:d,scrollAlign:h,scrollIntoView:!0}),E.current=!0},[d,h,y,re]),f.useEffect(()=>{function he(){G(!0)}return O==null||O.addEventListener("mousemove",he),O==null||O.addEventListener("wheel",he,{passive:!0}),()=>{O==null||O.removeEventListener("mousemove",he),O==null||O.removeEventListener("wheel",he)}},[G,O]),f.useEffect(()=>(p==null||p.addEventListener("focus",ge),p==null||p.addEventListener("keydown",Me),O==null||O.addEventListener("focus",ge),O==null||O.addEventListener("keydown",me),()=>{p==null||p.removeEventListener("focus",ge),p==null||p.removeEventListener("keydown",Me),O==null||O.removeEventListener("focus",ge),O==null||O.removeEventListener("keydown",me)}),[i,ge,_e,Me,me,Z,p,q,O]),f.useEffect(()=>{J()},[J,g]),f.useEffect(()=>{const he=new MutationObserver(K);return j&&he.observe(j,{childList:!0,subtree:!0}),()=>{he.disconnect()}},[j,K]),f.useEffect(()=>{p==null||p.setAttribute("aria-autocomplete","list"),p==null||p.setAttribute("aria-expanded","true"),p==null||p.setAttribute("aria-controls",z()),p==null||p.setAttribute("role","combobox")},[z,p]),f.useEffect(()=>{r&&ne(r)},[r,i,le,se,ne]);const be=i?0:-1;return u.jsxs(kIe,{id:z(),onMouseEnter:ye,onMouseLeave:De,ref:F,sizing:"border",tabIndex:be,...S,children:[i&&u.jsx(_in,{offset:o}),u.jsx(Ein,{"aria-hidden":"true","data-enabled":!0,ref:M}),V&&u.jsx(kin,{forwardedAs:"ul",$height:V.getTotalSize(),"aria-label":t,"aria-multiselectable":n,flex:1,ref:I,role:"listbox",children:V.getVirtualItems().map(he=>{const ve=he.index,{activeIndex:Ce,disabled:Te,selected:Ge}=H[ve],Je=w(g[ve],{activeIndex:Ce,disabled:Te,selected:Ge,virtualIndex:ve}),tt=f.cloneElement(Je,{tabIndex:-1}),Ne=typeof Ce=="number"&&!Te?{"aria-posinset":Ce+1,...n?{"aria-selected":Ge.toString()}:{},"aria-setsize":W,id:X(Ce),role:"option",onMouseEnter:oe(Ce)}:{};return u.jsx(ee,{as:"li","data-index":ve,ref:a?void 0:V.measureElement,style:{flex:1,...a?{height:`${he.size}px`}:{},left:0,position:"absolute",top:0,transform:`translateY(${he.start}px)`,width:"100%"},tabIndex:-1,...Ne,children:tt},he.key)})})]})}),wi=f.forwardRef(function(e,t){const{mode:n="bleed",tooltipProps:r,tone:i,...a}=e,{t:o}=Y();return u.jsx(fe,{...a,icon:qy,mode:n,ref:t,tone:i,tooltipProps:{...r,content:(r==null?void 0:r.content)||o("common.context-menu-button.tooltip")}})});function Bw({name:e,title:t},n){return typeof e=="string"&&e.trim().length>0?e:l7(t,n)}function l7(e,t){const n=typeof e=="string"&&e.trim().length>0?` (titled "${e}")`:"";return`at index ${t}${n}`}function g_(){const e=f.useContext(_pe);if(!e)throw new Error("Could not find `workspaces` context");return e}var Tin=Object.defineProperty,Ain=(e,t,n)=>t in e?Tin(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ile=(e,t,n)=>Ain(e,typeof t!="symbol"?t+"":t,n);class Rc extends Error{constructor(t,n){super(t),ile(this,"index"),ile(this,"identifier"),this.name="WorkspaceValidationError",this.index=n==null?void 0:n.index,this.identifier=(n==null?void 0:n.workspace)&&Bw(n.workspace,n.index)}}function jin({workspaces:e}){if(e.length===0)throw new Rc("At least one workspace is required.");Iin(e),Din(e)}function Iin(e){const t=e.length===1,n=new Map;e.forEach((r,i)=>{const{name:a,title:o}=r,s=l7(o,i);if(!a&&!t)throw new Rc(`All workspaces must have a \`name\`, unless only a single workspace is defined. Workspace ${s} did not define a \`name\`.`,{workspace:r,index:i});const l=t&&typeof a>"u"?"default":a;if(typeof l!="string")throw new Rc(`Workspace at index ${i} defined an invalid \`name\` - must be a string.`,{workspace:r,index:i});const c=l.toLowerCase(),d=n.get(c);if(d){const h=l7(d.workspace.title,d.index);throw new Rc(`\`name\`s must be unique. Workspace ${h} and workspace ${s} both have the \`name\` \`${l}\``,{workspace:r,index:i})}if(n.set(c,{index:i,workspace:r}),!/^[a-z0-9][a-z0-9_-]*$/i.test(l))throw new Rc(`All workspace \`name\`s must consist of only a-z, 0-9, underscore and dashes, and cannot begin with an underscore or dash. Workspace ${s} has the invalid name \`${l}\``,{workspace:r,index:i})})}function Din(e){e.length>1&&e.every($in),e.every(Oin);const[t,...n]=e,r=(t.basePath||"/").slice(1).split("/").filter(Boolean).length;n.forEach((a,o)=>{const s=(a.basePath||"/").slice(1).split("/").length;if(r!==s)throw new Rc(`All workspace \`basePath\`s must have the same amount of segments. Workspace \`${Bw(t,o)}\` had ${r} segment${r===1?"":"s"} \`${t.basePath}\` but workspace \`${Bw(a,o)}\` had ${s} segment${s===1?"":"s"} \`${a.basePath}\``,{workspace:a,index:o})});const i=new Map;e.forEach((a,o)=>{const s=(a.basePath||"").toLowerCase(),l=i.get(s);if(l)throw new Rc(`\`basePath\`s must be unique. Workspaces \`${l}\` and \`${Bw(a,o)}\` both have the \`basePath\` \`${s}\``,{workspace:a,index:o});i.set(s,Bw(a,o))})}function $in(e,t){const{name:n,basePath:r}=e;if(r&&typeof r=="string")return!0;throw typeof r>"u"?new Rc(`If more than one workspace is defined, every workspace must have a \`basePath\` defined. Workspace \`${n}\` is missing a \`basePath\``,{workspace:e,index:t}):new Rc(`If more than one workspace is defined, every workspace must have a \`basePath\` defined. Workspace \`${n}\` has an invalid \`basePath\` (must be a non-empty string)`,{workspace:e,index:t})}function Oin(e,t){const{name:n,basePath:r}=e;if(!(!r||r==="/")&&!/^\/[a-z0-9/_-]*[a-z0-9_-]+$/i.test(r))throw new Rc(`All workspace \`basePath\`s must start with a leading \`/\`, consist of only URL safe characters, and cannot end with a trailing \`/\`. Workspace \`${n}\`'s basePath is \`${r}\``,{workspace:e,index:t})}const Min=()=>f.createElement(f.Fragment);function Rin(e,t){return n=>{let r=i=>f.createElement(e,i);for(const i of t){const a=r;r=o=>f.createElement(i,{...o,renderDefault:a})}return r({...n,renderDefault:Min})}}function mu(e){const{options:t}=Dn().__internal,{defaultComponent:n,pick:r}=e;return f.useMemo(()=>{const i=[...Y0(t,[])];i.reverse();const a=i.map(({config:o})=>r(o)).filter(Boolean);return Rin(n,a)},[n,t,r])}var Pin=Object.defineProperty,Fin=(e,t,n)=>t in e?Pin(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,EF=(e,t,n)=>Fin(e,typeof t!="symbol"?t+"":t,n);class ale extends Error{constructor({propertyName:t,path:n,cause:r}){const i=yt(r)&&typeof(r==null?void 0:r.message)=="string"?`: ${r.message}`:"";super(`An error occurred while resolving \`${t}\` from ${n.join(" > ")}${i}`),EF(this,"propertyName"),EF(this,"path"),EF(this,"cause"),this.name="ConfigPropertyError",this.propertyName=t,this.cause=r,this.path=n}}var Nin=Object.defineProperty,Lin=(e,t,n)=>t in e?Nin(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kF=(e,t,n)=>Lin(e,typeof t!="symbol"?t+"":t,n);class zl extends Error{constructor({causes:t,name:n,type:r}){const i=t.filter(Boolean).map(a=>yt(a)&&typeof(a==null?void 0:a.message)=="string"?a.message:String(a));super(`Could not resolve ${r}${n?` \`${n}\``:""}:
${i.map(a=>`	- ${a}`).join(`
`)}

`),kF(this,"name"),kF(this,"type"),kF(this,"causes"),this.name=n,this.causes=t,this.type=r}}function ole(e){const t=["projectId"in e&&"`projectId` not allowed in plugin configuration","dataset"in e&&"`dataset` not allowed in plugin configuration"].filter(pO);if(t.length)throw new Error(`Invalid plugin configuration:
${t.map(n=>`	${n}`).join(`
`)}`)}function Lb(e){if(typeof e=="function"){const t=e;return n=>{const r=t(n);return ole(r),r}}return ole(e),()=>e}const Bin=!1,sle=750,u7=2e3,Vin=R(te)(({$fill:e})=>ce`
    align-items: center;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    justify-content: center;

    ${e?ce`
          bottom: 0;
          height: 100%;
          left: 0;
          position: absolute;
          right: 0;
          top: 0;
          width: 100%;
        `:ce`
          min-height: 75px;
          height: stretch;
          height: -webkit-fill-available;
          width: stretch;
          width: -webkit-fill-available;
        `}

    ${Bin}

    > * {
      position: absolute;
    }
  `),zin=R(Wp)(({$animatePosition:e=!0})=>ce`
    @keyframes fadeIn {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }
    @keyframes slideUp {
      from {
        transform: translateY(0);
      }
      to {
        transform: translateY(-15px);
      }
    }
    animation: ${e?`500ms ease-out ${sle}ms 1 normal both running fadeIn, 750ms ease-out ${u7}ms 1 normal both running slideUp`:`500ms ease-out ${sle}ms 1 normal both running fadeIn`};
  `),Uin=R(N)`
  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
  @keyframes slideDown {
    from {
      transform: translateY(0);
    }
    to {
      transform: translateY(15px);
    }
  }
  animation:
    1500ms ease-out ${u7}ms 1 normal both running fadeIn,
    750ms ease-out ${u7}ms 1 normal both running slideDown;
`;function wn({fill:e,showText:t,title:n}){return u.jsxs(Vin,{$fill:e,as:e?Jo:"div",children:[u.jsx(zin,{$animatePosition:!!t,muted:!0}),t&&u.jsx(Hin,{title:n})]})}function Hin({title:e}){const{t}=Y();return u.jsx(Uin,{muted:!0,size:1,children:e||t("common.loading")})}function Win(e){return!("then"in e.resources&&typeof e.resources.then=="function")}function LG(e,t){return t}const jy="studio",Gin="validation",Yin="copy-paste",qin=LG("copy-paste",{"copy-paste.field-action-copy-button.document.title":"Copy document","copy-paste.field-action-copy-button.field.title":"Copy field","copy-paste.field-action-paste-button.document.title":"Paste document","copy-paste.field-action-paste-button.field.title":"Paste field","copy-paste.on-paste.validation.read-only-target.description":"The target is read-only","copy-paste.on-paste.validation.schema-type-incompatible.description":"Source and target schema types are not compatible","copy-paste.on-paste.validation.reference-type-incompatible.description":'References of type "{{sourceReferenceType}}" is not allowed in reference field that accepts types "{{targetReferenceTypes}}"',"copy-paste.on-paste.validation.reference-filter-incompatible.description":"Reference is not allowed in reference field according to filter","copy-paste.on-paste.validation.image-file-incompatible.description":'A "{{sourceSchemaType}}" is not allowed in a "{{targetSchemaType}}"',"copy-paste.on-paste.validation.array-type-incompatible.description":'Value of type "{{type}}" is not allowed in this array field',"copy-paste.on-paste.validation.array-value-incompatible.description":'Value of type "{{type}}" is not allowed in this array field',"copy-paste.on-paste.validation.string-value-incompatible.description":'Value "{{value}}" is not allowed in "{{allowedStrings}}"',"copy-paste.on-paste.validation.primitive-type-incompatible.description":'Value of type "{{type}}" is not allowed in this field',"copy-paste.on-paste.validation.clipboard-empty.title":"Nothing to paste","copy-paste.on-paste.validation.clipboard-invalid.title":"Invalid clipboard item","copy-paste.on-paste.validation.schema-type-incompatible.title":"Could not resolve schema type for path: {{path}}","copy-paste.on-paste.validation.partial-warning.title":"Could not paste all values","copy-paste.on-paste.validation.document-paste-success.title":'Document "{{fieldNames}}" updated',"copy-paste.on-paste.validation.field_one-paste-success.title":'Field "{{fieldName}}" updated',"copy-paste.on-paste.validation.mime-type-incompatible.description":'MIME type "{{mimeType}}" is not accepted for this field',"copy-paste.on-paste.validation.mime-type-validation-failed.description":"MIME type validation failed","copy-paste.on-copy.validation.schema-type-incompatible.title":"Could not resolve schema type for path: {{path}}","copy-paste.on-copy.validation.no-value.title":"Empty value, nothing to copy","copy-paste.on-copy.validation.clipboard-not-supported.title":"Your browser does not support this action","copy-paste.on-copy.validation.copy-document-success.title":'Document "{{fieldNames}}" copied',"copy-paste.on-copy.validation.copy-field_one-success.title":'Field "{{fieldName}}" copied'}),Kin={locale:"en-US",namespace:Yin,resources:qin},Zin=LG("studio",{"asset-source.asset-list.menu.delete":"Delete","asset-source.asset-list.menu.show-usage":"Show usage","asset-source.asset-usage-dialog.header_file":"Documents using file","asset-source.asset-usage-dialog.header_image":"Documents using image","asset-source.asset-usage-dialog.loading":"Loading…","asset-source.delete-dialog.action.cancel":"Cancel","asset-source.delete-dialog.action.delete":"Delete","asset-source.delete-dialog.header_file":"Delete file","asset-source.delete-dialog.header_image":"Delete image","asset-source.delete-dialog.loading":"Loading…","asset-source.delete-dialog.usage-list.confirm-delete-file_named":"You are about to delete the file <strong>{{filename}}</strong> and its metadata. Are you sure?","asset-source.delete-dialog.usage-list.confirm-delete-file_unnamed":"You are about to delete the file and its metadata. Are you sure?","asset-source.delete-dialog.usage-list.confirm-delete-image_named":"You are about to delete the image <strong>{{filename}}</strong> and its metadata. Are you sure?","asset-source.delete-dialog.usage-list.confirm-delete-image_unnamed":"You are about to delete the image and its metadata. Are you sure?","asset-source.delete-dialog.usage-list.image-preview-alt":"Preview of image","asset-source.delete-dialog.usage-list.warning-file-is-in-use_named":"{{filename}} cannot be deleted because it's being used. In order to delete this file, you first need to remove all uses of it.","asset-source.delete-dialog.usage-list.warning-file-is-in-use_unnamed":"This file cannot be deleted because it's being used. In order to delete it, you first need to remove all uses of it.","asset-source.delete-dialog.usage-list.warning-image-is-in-use_named":"{{filename}} cannot be deleted because it's being used. In order to delete this image, you first need to remove all uses of it.","asset-source.delete-dialog.usage-list.warning-image-is-in-use_unnamed":"This image cannot be deleted because it's being used. In order to delete it, you first need to remove all uses of it.","asset-source.dialog.accept-message":"Only showing assets of accepted types: <strong>{{acceptTypes}}</strong>","asset-source.dialog.default-title_file":"Select file","asset-source.dialog.default-title_image":"Select image","asset-source.dialog.load-more":"Load more","asset-source.dialog.no-assets_file":"No files","asset-source.dialog.no-assets_image":"No images","asset-source.file.asset-list.action.delete.disabled-cannot-delete-current-file":"Cannot delete currently selected file","asset-source.file.asset-list.action.delete.text":"Delete","asset-source.file.asset-list.action.delete.title":"Delete file","asset-source.file.asset-list.action.select-file.title":"Select the file {{filename}}","asset-source.file.asset-list.action.show-usage.title":"Show usage","asset-source.file.asset-list.delete-failed":"File could not be deleted","asset-source.file.asset-list.delete-successful":"File was deleted","asset-source.file.asset-list.header.date-added":"Date added","asset-source.file.asset-list.header.filename":"Filename","asset-source.file.asset-list.header.size":"Size","asset-source.file.asset-list.header.type":"Type","asset-source.file.title":"Uploaded files","asset-source.image.asset-list.delete-failed":"Image could not be deleted","asset-source.image.asset-list.delete-successful":"Image was deleted","asset-source.image.title":"Uploaded images","asset-source.usage-list.documents-using-file_named_one":"One document is using file <code>{{filename}}</code>","asset-source.usage-list.documents-using-file_named_other":"{{count}} documents are using file <code>{{filename}}</code>","asset-source.usage-list.documents-using-file_named_zero":"No documents are using file <code>{{filename}}</code>","asset-source.usage-list.documents-using-file_unnamed_one":"One document is using this file","asset-source.usage-list.documents-using-file_unnamed_other":"{{count}} documents are using this file","asset-source.usage-list.documents-using-file_unnamed_zero":"No documents are using this file","asset-source.usage-list.documents-using-image_named_one":"One document is using image <code>{{filename}}</code>","asset-source.usage-list.documents-using-image_named_other":"{{count}} documents are using image <code>{{filename}}</code>","asset-source.usage-list.documents-using-image_named_zero":"No documents are using image <code>{{filename}}</code>","asset-source.usage-list.documents-using-image_unnamed_one":"One document is using this image","asset-source.usage-list.documents-using-image_unnamed_other":"{{count}} documents are using this image","asset-source.usage-list.documents-using-image_unnamed_zero":"No documents are using this image","calendar.action.go-to-next-month":"Go to next month","calendar.action.go-to-next-year":"Go to next year","calendar.action.go-to-previous-month":"Go to previous month","calendar.action.go-to-previous-year":"Go to previous year","calendar.action.go-to-today":"Today","calendar.action.go-to-today-aria-label":"Go to today","calendar.action.go-to-tomorrow":"Tomorrow","calendar.action.go-to-yesterday":"Yesterday","calendar.action.include-time-label":"Include time","calendar.action.select-hour":"Select hour","calendar.action.select-minute":"Select minute","calendar.action.set-to-current-time":"Set to current time","calendar.action.set-to-time-preset":"{{time}} on {{date, datetime}}","calendar.button.aria-label":"Open calendar","calendar.button.tooltip-text":"Select date","calendar.error.must-be-in-format":"Must be in the format: {{exampleDate}}","calendar.month-names.april":"April","calendar.month-names.august":"August","calendar.month-names.december":"December","calendar.month-names.february":"February","calendar.month-names.january":"January","calendar.month-names.july":"July","calendar.month-names.june":"June","calendar.month-names.march":"March","calendar.month-names.may":"May","calendar.month-names.november":"November","calendar.month-names.october":"October","calendar.month-names.september":"September","calendar.weekday-names.short.friday":"Fri","calendar.weekday-names.short.monday":"Mon","calendar.weekday-names.short.saturday":"Sat","calendar.weekday-names.short.sunday":"Sun","calendar.weekday-names.short.thursday":"Thu","calendar.weekday-names.short.tuesday":"Tue","calendar.weekday-names.short.wednesday":"Wed","changes.action.close-label":"Close review changes","changes.action.revert-all-cancel":"Cancel","changes.action.revert-all-confirm":"Revert all","changes.action.revert-all-description":"Are you sure you want to revert all {{count}} changes?","changes.action.revert-changes-confirm-change_one":"Revert change","changes.action.revert-changes-confirm-change_other":"Revert changes","changes.action.revert-changes-description":"Are you sure you want to revert the changes?","changes.action.revert-changes-description_one":"Are you sure you want to revert the change?","changes.added-label":"Added","changes.array.item-added-in-position":"Added in position {{position}}","changes.array.item-moved_down_one":"Moved {{count}} position down","changes.array.item-moved_down_other":"Moved {{count}} positions down","changes.array.item-moved_up_one":"Moved {{count}} position up","changes.array.item-moved_up_other":"Moved {{count}} positions up","changes.array.item-removed-from-position":"Removed from position {{position}}","changes.change-bar.aria-label":"Review changes","changes.changed-label":"Changed","changes.changes-by-author":"Changes by","changes.error-boundary.developer-info":"Check the developer console for more information","changes.error-boundary.title":"Rendering the changes to this field caused an error","changes.error.incorrect-type-message":'Value error: Value is of type "<code>{{actualType}}</code>", expected "<code>{{expectedType}}</code>"',"changes.file.meta-info-fallback-title":"Untitled","changes.image.crop-changed":"Crop changed","changes.image.deleted":"Image deleted","changes.image.error-loading-image":"Error loading image","changes.image.hotspot-changed":"Hotspot changed","changes.image.meta-info-fallback-title":"Untitled","changes.image.no-asset-set":"Image not set","changes.image.no-image-placeholder":"(no image)","changes.inspector.from-label":"From","changes.inspector.meta-label":"Meta","changes.inspector.to-label":"To","changes.loading-author":"Loading…","changes.loading-changes":"Loading changes…","changes.no-changes-description":"Edit the document or select an older version in the timeline to see a list of changes appear in this panel.","changes.no-changes-title":"There are no changes","changes.portable-text.annotation_added":"Added annotation","changes.portable-text.annotation_changed":"Changed annotation","changes.portable-text.annotation_removed":"Removed annotation","changes.portable-text.annotation_unchanged":"Unchanged annotation","changes.portable-text.block-style-changed":'Changed block style from "{{fromStyle}}" to "{{toStyle}}"',"changes.portable-text.changed-formatting":"Changed formatting","changes.portable-text.empty-inline-object":"Empty {{inlineObjectType}}","changes.portable-text.empty-object-annotation":"Empty {{annotationType}}","changes.portable-text.empty-text_added":"Added empty text","changes.portable-text.empty-text_changed":"Changed empty text","changes.portable-text.empty-text_removed":"Removed empty text","changes.portable-text.inline-object_added":"Added inline object","changes.portable-text.inline-object_changed":"Changed inline object","changes.portable-text.inline-object_removed":"Removed inline object","changes.portable-text.inline-object_unchanged":"Unchanged inline object","changes.portable-text.text_added":"Added text","changes.portable-text.text_removed":"Removed text","changes.portable-text.unknown-annotation-schema-type":"Unknown schema type","changes.portable-text.unknown-inline-object-schema-type":"Unknown schema type","changes.removed-label":"Removed","changes.title":"Review changes","common.context-menu-button.tooltip":"Show more","common.dialog.cancel-button.text":"Cancel","common.dialog.confirm-button.text":"Confirm","common.loading":"Loading","configuration-issues.button.label":"Configuration issues","configuration-issues.button.tooltip":"Found configuration issues","default-menu-item.fallback-title":"Sort by {{title}}","default-orderings.caption":"Sort by Caption","default-orderings.description":"Sort by Description","default-orderings.header":"Sort by Header","default-orderings.heading":"Sort by Heading","default-orderings.label":"Sort by Label","default-orderings.name":"Sort by Name","default-orderings.title":"Sort by Title","document-status.edited":"Edited {{date}}","document-status.not-published":"Not published","document-status.published":"Published {{date}}","form.error.duplicate-keys-alert.details.additional-description":"The value of the <code>_key</code> property must be a unique string.","form.error.duplicate-keys-alert.details.description":"This usually happens when items are created using an API client, and the <code>_key</code> property of each elements has been generated non-uniquely.","form.error.duplicate-keys-alert.details.title":"Developer info","form.error.duplicate-keys-alert.generate-button.text":"Generate unique keys","form.error.duplicate-keys-alert.summary":"Several items in this list share the same identifier (key). Every item must have an unique identifier.","form.error.duplicate-keys-alert.title":"Non-unique keys","form.error.field-not-found":'Field "{{fieldName}}" not found among members – verify that it is defined in the schema and that it has not been conditionally hidden.',"form.error.missing-keys-alert.add-button.text":"Add missing keys","form.error.missing-keys-alert.details.additional-description":"The value of the <code>_key</code> property must be a unique string.","form.error.missing-keys-alert.details.description":"This usually happens when items are created using an API client, and the <code>_key</code> property has not been included.","form.error.missing-keys-alert.details.title":"Developer info","form.error.missing-keys-alert.summary":"Some items in the list are missing their keys. This must be fixed in order to edit the list.","form.error.missing-keys-alert.title":"Missing keys","form.error.mixed-array-alert.details.description":"This usually happens when items are created using an API client, or when a custom input component has added invalid data to the list.","form.error.mixed-array-alert.details.title":"Developer info","form.error.mixed-array-alert.remove-button.text":"Remove non-object values","form.error.mixed-array-alert.summary":"Some items in this list are not objects. This must be fixed in order to edit the list.","form.error.mixed-array-alert.title":"Invalid list values","form.error.no-array-item-at-index":"No array item at index <code>{{index}}</code> found at path <code>{{path}}</code>","form.error.no-array-item-at-key":'No array item with `_key` <code>"{{key}}"</code> found at path <code>{{path}}</code>',"form.error.unhandled-runtime-error.call-stack.title":"Call Stack:","form.error.unhandled-runtime-error.component-stack.title":"Component Stack:","form.error.unhandled-runtime-error.error-message":"Error: {{message}}","form.error.unhandled-runtime-error.title":"Unhandled Runtime Error","form.field.deprecated-label":"deprecated","form.field.untitled-field-label":"Untitled","form.validation.has-error-aria-label":"Has error","form.validation.has-info-aria-label":"Has information","form.validation.has-warning-aria-label":"Has warning","form.validation.summary.errors-count_one":"{{count}} error","form.validation.summary.errors-count_other":"{{count}} errors","form.validation.summary.warnings-count_one":"{{count}} warning","form.validation.summary.warnings-count_other":"{{count}} warnings","free-trial.tooltip.days-count_one":"{{count}} day left in trial","free-trial.tooltip.days-count_other":"{{count}} days left in trial","free-trial.tooltip.trial-finished":"Upgrade your project","help-resources.action.contact-sales":"Contact sales","help-resources.action.help-and-support":"Help and support","help-resources.action.join-our-community":"Join our community","help-resources.latest-sanity-version":"Latest version is {{latestVersion}}","help-resources.studio-version":"Sanity Studio version {{studioVersion}}","help-resources.title":"Help and resources","input.files.common.cancel-upload":"Cancel","input.files.common.upload-placeholder.file-input-button.text":"Upload","input.files.common.upload-progress":"Uploading <FileName/>","input.reference.document-cannot-be-opened.failed-to-resolve-url":"This document cannot be opened (unable to resolve URL to Studio)","inputs.array.action.add-after":"Add item after","inputs.array.action.add-before":"Add item before","inputs.array.action.add-item":"Add item","inputs.array.action.add-item-select-type":"Add item...","inputs.array.action.drag.tooltip":"Drag to re-order","inputs.array.action.duplicate":"Duplicate","inputs.array.action.edit":"Edit {{itemTypeTitle}}","inputs.array.action.remove":"Remove","inputs.array.action.remove-invalid-item":"Remove","inputs.array.action.view":"View {{itemTypeTitle}}","inputs.array.error.can-delete-but-no-edit-description":"You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found.","inputs.array.error.cannot-resolve-initial-value-title":"Unable to resolve initial value for type: {{schemaTypeTitle}}: {{errorMessage}}.","inputs.array.error.cannot-upload-unable-to-convert_one":"The following item can't be uploaded because there's no known conversion from content type to array item:","inputs.array.error.cannot-upload-unable-to-convert_other":"The following items can't be uploaded because there's no known conversion from content types to array item:","inputs.array.error.current-schema-not-declare-description":"The current schema does not declare items of type <code>{{typeName}}</code> as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed.","inputs.array.error.json-representation-description":"JSON representation of this item:","inputs.array.error.type-is-incompatible-prompt":"Item of type <code>{{typeName}}</code> not valid for this list","inputs.array.error.type-is-incompatible-title":"Why is this happening?","inputs.array.error.unexpected-error":"Unexpected Error: {{error}}","inputs.array.insert-menu.filter.all-items":"All","inputs.array.insert-menu.search.no-results":"No items found","inputs.array.insert-menu.search.placeholder":"Search","inputs.array.insert-menu.toggle-grid-view.tooltip":"Toggle grid view","inputs.array.insert-menu.toggle-list-view.tooltip":"Toggle list view","inputs.array.no-items-label":"No items","inputs.array.read-only-label":"This field is read-only","inputs.array.resolving-initial-value":"Resolving initial value…","inputs.boolean.disabled":"Disabled","inputs.datetime.placeholder":"e.g. {{example}}","inputs.file.actions-menu.file-options.aria-label":"Open file options menu","inputs.file.browse-button.text":"Browse","inputs.file.dialog.title":"Select file","inputs.file.error.unknown-member-kind":"Unknown member kind: {{kind}}","inputs.file.invalid-file-warning.description":"The value of this field is not a valid file. Resetting this field will let you choose a new file.","inputs.file.invalid-file-warning.reset-button.text":"Reset value","inputs.file.invalid-file-warning.title":"Invalid file value","inputs.file.multi-browse-button.text":"Select","inputs.file.upload-failed.description":"The upload could not be completed at this time.","inputs.file.upload-failed.title":"Upload failed","inputs.files.common.actions-menu.clear-field.label":"Clear field","inputs.files.common.actions-menu.copy-url.label":"Copy URL","inputs.files.common.actions-menu.download.label":"Download","inputs.files.common.actions-menu.notification.url-copied":"The URL is copied to the clipboard","inputs.files.common.actions-menu.replace.label":"Replace","inputs.files.common.actions-menu.upload.label":"Upload","inputs.files.common.drop-message.drop-to-upload":"Drop to upload","inputs.files.common.drop-message.drop-to-upload-multi_one":"Drop to upload {{count}} file","inputs.files.common.drop-message.drop-to-upload-multi_other":"Drop to upload {{count}} files","inputs.files.common.drop-message.drop-to-upload.no-accepted-file-message_one":"Can't upload this file here","inputs.files.common.drop-message.drop-to-upload.no-accepted-file-message_other":"Can't upload any of these files here","inputs.files.common.drop-message.drop-to-upload.rejected-file-message_one":"{{count}} file can't be uploaded here","inputs.files.common.drop-message.drop-to-upload.rejected-file-message_other":"{{count}} files can't be uploaded here","inputs.files.common.placeholder.cannot-upload-some-files_one":"Cannot upload file","inputs.files.common.placeholder.cannot-upload-some-files_other":"Cannot upload {{count}} files","inputs.files.common.placeholder.drag-or-paste-to-upload_file":"Drag or paste file here","inputs.files.common.placeholder.drag-or-paste-to-upload_image":"Drag or paste image here","inputs.files.common.placeholder.drop-to-upload_file":"Drop to upload file","inputs.files.common.placeholder.drop-to-upload_image":"Drop to upload image","inputs.files.common.placeholder.read-only":"Read only","inputs.files.common.placeholder.upload-not-supported":"Can't upload files here","inputs.files.common.stale-upload-warning.clear":"Clear upload","inputs.files.common.stale-upload-warning.description":"An upload has made no progress for at least {{staleThresholdMinutes}} minutes and likely got interrupted. You can safely clear the incomplete upload and try uploading again.","inputs.files.common.stale-upload-warning.title":"Incomplete upload","inputs.image.actions-menu.crop-image-tooltip":"Crop image","inputs.image.actions-menu.edit-details.aria-label":"Open image edit dialog","inputs.image.actions-menu.options.aria-label":"Open image options menu","inputs.image.browse-menu.text":"Select","inputs.image.drag-overlay.cannot-upload-here":"Cannot upload this file here","inputs.image.drag-overlay.drop-to-upload-image":"Drop image to upload","inputs.image.drag-overlay.this-field-is-read-only":"This field is read only","inputs.image.error.unknown-member-kind":"Unknown member kind: {{kind}}","inputs.image.hotspot-dialog.title":"Edit hotspot and crop","inputs.image.invalid-image-warning.description":"The value of this field is not a valid image. Resetting this field will let you choose a new image.","inputs.image.invalid-image-warning.reset-button.text":"Reset value","inputs.image.invalid-image-warning.title":"Invalid image value","inputs.image.preview-uploaded-image":"Preview of uploaded image","inputs.image.upload-error.description":"The upload could not be completed at this time.","inputs.image.upload-error.title":"Upload failed","inputs.imagetool.description":"Adjust the rectangle to crop image. Adjust the circle to specify the area that should always be visible.","inputs.imagetool.load-error":"Error: {{errorMessage}}","inputs.imagetool.title":"Hotspot & Crop","inputs.invalid-value.convert-button.text":"Convert to {{targetType}}","inputs.invalid-value.current-type":"The current value (<code>{{actualType}}</code>)","inputs.invalid-value.description":"The property value is stored as a value type that does not match the expected type.","inputs.invalid-value.details.description":"The value of this property must be of type <code>{{validType}}</code> according to the schema.","inputs.invalid-value.details.multi-type-description":"Only the following types are valid here according to schema:","inputs.invalid-value.details.possible-reason":"Mismatching value types typically occur when the schema has recently been changed.","inputs.invalid-value.details.title":"Developer info","inputs.invalid-value.reset-button.text":"Reset value","inputs.invalid-value.title":"Invalid property value","inputs.object.field-group-tabs.all-fields-title":"All fields","inputs.object.field-group-tabs.aria-label":"Field groups","inputs.object.unknown-fields.read-only.description":"This field is <strong>read only</strong> according to the document’s schema and cannot be unset. If you want to be able to unset this in Studio, make sure you remove the <code>readOnly</code> field from the enclosing type in the schema.","inputs.object.unknown-fields.remove-field-button.text":"Remove field","inputs.object.unknown-fields.warning.description_one":"Encountered a field that is not defined in the schema.","inputs.object.unknown-fields.warning.description_other":"Encountered {{count}} fields that are not defined in the schema.","inputs.object.unknown-fields.warning.details.description_one":"This field is not defined in the schema, which could mean that the field definition has been removed or that someone else has added it to their own local project and have not deployed their changes yet.","inputs.object.unknown-fields.warning.details.description_other":"These fields are not defined in the document’s schema, which could mean that the field definitions have been removed or that someone else has added them to their own local project and have not deployed their changes yet.","inputs.object.unknown-fields.warning.details.title":"Developer info","inputs.object.unknown-fields.warning.title_one":"Unknown field found","inputs.object.unknown-fields.warning.title_other":"Unknown fields found","inputs.portable-text.action.collapse-editor":"Collapse editor","inputs.portable-text.action.edit-annotation-aria-label":"Edit annotation","inputs.portable-text.action.expand-editor":"Expand editor","inputs.portable-text.action.insert-block":"Insert {{typeName}}","inputs.portable-text.action.insert-block-aria-label":"Insert {{typeName}} (block)","inputs.portable-text.action.insert-inline-object":"Insert {{typeName}}","inputs.portable-text.action.insert-inline-object-aria-label":"Insert {{typeName}} (inline)","inputs.portable-text.action.remove-annotation-aria-label":"Remove annotation","inputs.portable-text.activate-on-focus-message_click":"Click to activate","inputs.portable-text.activate-on-focus-message_click-focused":"Click or press space to activate","inputs.portable-text.activate-on-focus-message_tap":"Tap to activate","inputs.portable-text.annotation-aria-label":"Annotation object","inputs.portable-text.annotation-editor.title":"Edit {{schemaType}}","inputs.portable-text.annotation.link":"Link","inputs.portable-text.block.aria-label":"Block object","inputs.portable-text.block.edit":"Edit","inputs.portable-text.block.open-menu-aria-label":"Open menu","inputs.portable-text.block.open-reference":"Open reference","inputs.portable-text.block.remove":"Remove","inputs.portable-text.block.view":"View","inputs.portable-text.decorator.code":"Code","inputs.portable-text.decorator.emphasis":"Italic","inputs.portable-text.decorator.strike-through":"Strike","inputs.portable-text.decorator.strong":"Strong","inputs.portable-text.decorator.underline":"Underline","inputs.portable-text.empty-placeholder":"Empty","inputs.portable-text.inline-block.aria-label":"Inline object","inputs.portable-text.inline-object.edit":"Edit object","inputs.portable-text.inline-object.edit-aria-label":"Edit object","inputs.portable-text.inline-object.remove":"Remove object","inputs.portable-text.inline-object.remove-aria-label":"Remove object","inputs.portable-text.invalid-value.action-disclaimer":"NOTE: It’s generally safe to perform the action above, but if you are in doubt, get in touch with those responsible for configuring your studio.","inputs.portable-text.invalid-value.disallowed-child-type.action":"Remove the object","inputs.portable-text.invalid-value.disallowed-child-type.description":"Child with key {{childKey}} of block with key <code>{{key}}</code> is of type <code>{{childType}}</code>, which is not allowed by the schema.","inputs.portable-text.invalid-value.disallowed-type.action":"Remove the block","inputs.portable-text.invalid-value.disallowed-type.description":"Block with key <code>{{key}}</code> is of type <code>{{typeName}}</code>, which is not allowed by the schema.","inputs.portable-text.invalid-value.empty-children.action":"Insert empty text span","inputs.portable-text.invalid-value.empty-children.description":"Text block with key <code>{{key}}</code> has no text spans.","inputs.portable-text.invalid-value.ignore-button.text":"Ignore","inputs.portable-text.invalid-value.incorrect-block-type.action":"Use type <code>{{expectedTypeName}}</code>","inputs.portable-text.invalid-value.incorrect-block-type.description":"Block with key <code>{{key}}</code> has an invalid type name. According to the schema, it should be <code>{{expectedTypeName}}</code>.","inputs.portable-text.invalid-value.invalid-span-text.action":"Set empty text value","inputs.portable-text.invalid-value.invalid-span-text.description":"Span with key {{childKey}} of block with key <code>{{key}}</code> has a missing or invalid <code>text</code> property.","inputs.portable-text.invalid-value.missing-block-type.action":"Use type <code>{{expectedTypeName}}</code>","inputs.portable-text.invalid-value.missing-block-type.description":"Block with key <code>{{key}}</code> is missing a type name. According to the schema, it should be <code>{{expectedTypeName}}</code>.","inputs.portable-text.invalid-value.missing-child-key.action":"Assign random key","inputs.portable-text.invalid-value.missing-child-key.description":"Child at index <code>{{index}}</code> of block with key <code>{{key}}</code> is missing <code>_key</code> property.","inputs.portable-text.invalid-value.missing-child-type.action":"Remove the object","inputs.portable-text.invalid-value.missing-child-type.description":"Child with key {{childKey}} of block with key <code>{{key}}</code> is missing <code>_type</code> property.","inputs.portable-text.invalid-value.missing-key.action":"Assign random key","inputs.portable-text.invalid-value.missing-key.description":"Block at index <code>{{index}}</code> is missing required <code>_key</code> property.","inputs.portable-text.invalid-value.missing-or-invalid-children.action":"Remove the block","inputs.portable-text.invalid-value.missing-or-invalid-children.description":"Text block with key <code>{{key}}</code> has an invalid or missing `children` property.","inputs.portable-text.invalid-value.missing-or-invalid-markdefs.action":"Add property","inputs.portable-text.invalid-value.missing-or-invalid-markdefs.description":"Text block with key <code>{{key}}</code> has an invalid or missing `markDefs` property.","inputs.portable-text.invalid-value.missing-type.action":"Remove the block","inputs.portable-text.invalid-value.missing-type.description":"Block with key <code>{{key}}</code> is missing a type name.","inputs.portable-text.invalid-value.non-object-child.action":"Remove the item","inputs.portable-text.invalid-value.non-object-child.description":"Child at index <code>{{index}}</code> of block with key <code>{{key}}</code> is not an object.","inputs.portable-text.invalid-value.not-an-array.action":"Unset the value","inputs.portable-text.invalid-value.not-an-array.description":"Value must be an array of Portable Text blocks, or undefined.","inputs.portable-text.invalid-value.not-an-object.action":"Remove item","inputs.portable-text.invalid-value.not-an-object.description":"Item at <code>{{index}}</code> is not an object,.","inputs.portable-text.invalid-value.orphaned-marks.action":"Remove disallowed marks","inputs.portable-text.invalid-value.orphaned-marks.description":"Text block with key <code>{{key}}</code> contains marks <code>({{orphanedMarks, list}})</code> that are not allowed by the schema.","inputs.portable-text.invalid-value.title":"Invalid Portable Text value","inputs.portable-text.list-type.bullet":"Bulleted list","inputs.portable-text.list-type.number":"Numbered list","inputs.portable-text.style.h1":"Heading 1","inputs.portable-text.style.h2":"Heading 2","inputs.portable-text.style.h3":"Heading 3","inputs.portable-text.style.h4":"Heading 4","inputs.portable-text.style.h5":"Heading 5","inputs.portable-text.style.h6":"Heading 6","inputs.portable-text.style.multiple":"Multiple","inputs.portable-text.style.none":"No style","inputs.portable-text.style.normal":"Normal","inputs.portable-text.style.quote":"Quote","inputs.reference.action.clear":"Clear","inputs.reference.action.create-new-document":"Create","inputs.reference.action.create-new-document-select":"Create…","inputs.reference.action.duplicate":"Duplicate","inputs.reference.action.open-in-new-tab":"Open in new tab","inputs.reference.action.remove":"Remove","inputs.reference.action.replace":"Replace","inputs.reference.action.replace-cancel":"Cancel replace","inputs.reference.cross-dataset.feature-disabled-actions":"You can still clear this field's existing reference, but it cannot be changed to a different document as long as the feature is disabled.","inputs.reference.cross-dataset.feature-disabled-description":"This feature has been disabled. Read how to enable it in <DocumentationLink>the documentation</DocumentationLink>.","inputs.reference.cross-dataset.feature-unavailable-title":"Unavailable feature: Cross dataset reference","inputs.reference.cross-dataset.invalid-type":"The referenced document is of invalid type ({{typeName}}) <JsonValue/>","inputs.reference.document-opens-in-new-tab":"This document opens in a new tab","inputs.reference.error.document-unavailable-title":"Document unavailable","inputs.reference.error.failed-to-load-document-title":"Failed to load referenced document","inputs.reference.error.invalid-search-result-type-title":`Search returned a type that's not valid for this reference: "{{returnedType}}"`,"inputs.reference.error.invalid-type-description":"Referenced document (<code>{{documentId}}</code>) is of type <code>{{actualType}}</code>. According to the schema, referenced documents can only be of type <AllowedTypes />.","inputs.reference.error.invalid-type-title":"Document of invalid type","inputs.reference.error.missing-read-permissions-description":"The referenced document could not be accessed due to insufficient permissions","inputs.reference.error.missing-read-permissions-title":"Insufficient permissions","inputs.reference.error.nonexistent-document-description":"The referenced document does not exist (ID: <code>{{documentId}}</code>). You can either remove the reference or replace it with another document.","inputs.reference.error.nonexistent-document-title":"Not found","inputs.reference.error.nonexistent-document.clear-button-label":"Clear","inputs.reference.error.search-failed-title":"Reference search failed","inputs.reference.image-preview-alt-text":"Image preview of referenced document","inputs.reference.incomplete-reference.finalize-action-description":"<strong>{{referencedDocument}}</strong> is published and this reference should now be finalized.","inputs.reference.incomplete-reference.finalize-action-title":"Finalize reference","inputs.reference.incomplete-reference.strengthen-action-description":"<strong>{{referencedDocument}}</strong> is published and this reference should now be converted to a strong reference.","inputs.reference.incomplete-reference.strengthen-action-title":"Convert to strong reference","inputs.reference.incomplete-reference.strengthen-button-label":"Convert to strong reference","inputs.reference.metadata-error.retry-button-label":"Retry","inputs.reference.metadata-error.title":"Unable to load reference metadata","inputs.reference.no-results-for-query":"No results for <strong>“{{searchTerm}}”</strong>","inputs.reference.preview.edited-at-time":"Edited <RelativeTime/>","inputs.reference.preview.has-no-unpublished-changes-aria-label":"No unpublished edits","inputs.reference.preview.has-unpublished-changes-aria-label":"Edited","inputs.reference.preview.is-not-published-aria-label":"Not published","inputs.reference.preview.is-published-aria-label":"Published","inputs.reference.preview.no-unpublished-edits":"No unpublished edits","inputs.reference.preview.not-published":"Not published","inputs.reference.preview.published-at-time":"Published <RelativeTime/>","inputs.reference.referenced-document-does-not-exist":"The referenced document no longer exist and might have been deleted (document ID: <code>{{documentId}}</code>).","inputs.reference.referenced-document-insufficient-permissions":"The referenced document could not be accessed due to insufficient permissions","inputs.reference.resolving-initial-value":"Resolving initial value…","inputs.reference.search-placeholder":"Type to search","inputs.reference.strength-mismatch.is-strong-consquences":"It will not be possible to delete the reference document without first removing this reference or converting it to weak.","inputs.reference.strength-mismatch.is-strong-description":"This reference is <em>strong</em>, but according to the current schema it should be <em>weak</em>.","inputs.reference.strength-mismatch.is-weak-consquences":"This makes it possible to delete the referenced document without first deleting this reference, leaving this field referencing a nonexisting document.","inputs.reference.strength-mismatch.is-weak-description":"This reference is <em>weak</em>, but according to the current schema it should be <em>strong</em>.","inputs.reference.strength-mismatch.strengthen-button-label":"Convert to strong reference","inputs.reference.strength-mismatch.title":"Reference strength mismatch","inputs.reference.strength-mismatch.weaken-button-label":"Convert to weak reference","inputs.slug.action.generate":"Generate","inputs.slug.action.generating":"Generating…","inputs.slug.error.missing-source":"Source is missing. Check source on type {{schemaType}} in schema","inputs.tags.placeholder":"Enter tag and press ENTER…","inputs.tags.placeholder_touch":"Enter tag…","inputs.untyped-value.convert-button.text":"Convert to {{targetType}}","inputs.untyped-value.description":"Encountered an object value without a <code>_type</code> property.","inputs.untyped-value.details.description":"Either remove the <code>name</code> property of the object declaration, or set <code>_type</code> property on items.","inputs.untyped-value.details.json-dump-prefix":"Current value (<code>object</code>):","inputs.untyped-value.details.multi-type-description":"The following types are valid here according to schema:","inputs.untyped-value.details.title":"Developer info","inputs.untyped-value.title":"Property value missing <code>_type</code>","inputs.untyped-value.unset-item-button.text":"Unset value","insufficient-permissions-message.not-authorized-explanation":"You do not have permission to access this feature.","insufficient-permissions-message.not-authorized-explanation_create-any-document":"You do not have permission to create a document.","insufficient-permissions-message.not-authorized-explanation_create-document":"You do not have permission to create this document.","insufficient-permissions-message.not-authorized-explanation_create-document-type":"You do not have permission to create this kind of document.","insufficient-permissions-message.not-authorized-explanation_create-new-reference":"You do not have permission to create a new reference.","insufficient-permissions-message.not-authorized-explanation_delete-document":"You do not have permission to delete this document.","insufficient-permissions-message.not-authorized-explanation_delete-schedules":"You do not have permission to delete schedules.","insufficient-permissions-message.not-authorized-explanation_discard-changes":"You do not have permission to discard changes in this document.","insufficient-permissions-message.not-authorized-explanation_duplicate-document":"You do not have permission to duplicate this document.","insufficient-permissions-message.not-authorized-explanation_edit-schedules":"You do not have permission to edit schedules.","insufficient-permissions-message.not-authorized-explanation_execute-schedules":"You do not have permission to execute schedules.","insufficient-permissions-message.not-authorized-explanation_publish-document":"You do not have permission to publish this document.","insufficient-permissions-message.not-authorized-explanation_unpublish-document":"You do not have permission to unpublish this document.","insufficient-permissions-message.roles":"Your roles: <Roles/>","insufficient-permissions-message.title":"Insufficient permissions","member-field-error.unexpected-error":"Unexpected error: {{error}}","new-document.button":"Create","new-document.create-new-document-label":"New document…","new-document.filter-placeholder":"Search document types","new-document.loading":"Loading…","new-document.new-document-aria-label":"New document","new-document.no-document-types-found":"No document types found","new-document.no-document-types-label":"No document types","new-document.no-results":"No results for <strong>{{searchQuery}}</strong>","new-document.open-dialog-aria-label":"Create new document","new-document.title":"Create new document","package-version.new-package-available.reload-button":"Push to reload","package-version.new-package-available.title":"Sanity Studio is ready to update!","presence.action.manage-members":"Manage members","presence.aria-label":"Global presence","presence.no-one-else-description":"Invite people to the project to see their online status.","presence.no-one-else-title":"No one else is here","presence.not-in-a-document":"Not in a document","presence.tooltip-content":"Who is here","preview.default.title-fallback":"Untitled","preview.fallback.no-value":"(no value)","preview.image.file-is-being-uploaded.alt-text":"The image currently being uploaded","relative-time.just-now":"just now","search.action-open-aria-label":"Open search","search.action.add-filter":"Add filter","search.action.clear-filters":"Clear filters","search.action.clear-recent-searches":"Clear recent searches","search.action.clear-type-filters-aria-label":"Clear checked filters","search.action.clear-type-filters-label":"Clear","search.action.close-search-aria-label":"Close search","search.action.filter-by-document-type-aria-label":"Filter by document type","search.action.remove-filter-aria-label":"Remove filter","search.action.search-all-types":"Search all documents","search.action.search-specific-types":"Search for {{types, list}}","search.action.search-specific-types-truncated":"Search for {{types, list}} +{{count}} more","search.action.select-asset":"Select asset","search.action.select-asset_file":"Select file","search.action.select-asset_image":"Select image","search.action.toggle-filters-aria-label_hide":"Hide filters","search.action.toggle-filters-aria-label_show":"Show filters","search.action.toggle-filters-label_hide":"Hide filters","search.action.toggle-filters-label_show":"Show filters","search.button.tooltip":"Search","search.document-type-list":"{{types, list}}","search.document-type-list-all-types":"All types","search.document-type-list-truncated":"{{types, list}} +{{count}} more","search.document-types-aria-label":"Document types","search.document-types-no-matches-found":"No matches for {{filter}}","search.error.display-filter-description":"This may indicate invalid options defined in your schema.","search.error.display-filter-title":"An error occurred whilst displaying this filter.","search.error.no-valid-asset-source-check-config-description":"Please ensure it's enabled in your studio configuration file.","search.error.no-valid-asset-source-only-default-description":"Currently, only the default asset source is supported.","search.error.no-valid-asset-source-title":"No valid asset sources found.","search.error.unspecified-error-help-description":"Please try again or check your connection","search.error.unspecified-error-title":"Something went wrong while searching","search.filter-all-fields-header":"All fields","search.filter-asset-change_file":"Change file","search.filter-asset-change_image":"Change image","search.filter-asset-clear":"Clear","search.filter-asset-select_file":"Select file","search.filter-asset-select_image":"Select image","search.filter-boolean-false":"False","search.filter-boolean-true":"True","search.filter-by-title-aria-label":"Filter by title","search.filter-date-aria-label":"Date","search.filter-date-range-end-date-aria-label":"End date","search.filter-date-range-start-date-aria-label":"Start date","search.filter-date-unit-aria-label":"Select unit","search.filter-date-unit_days":"Days","search.filter-date-unit_months":"Months","search.filter-date-unit_years":"Years","search.filter-date-value-aria-label":"Unit value","search.filter-field-tooltip-description":"Field description","search.filter-field-tooltip-name":"Field name","search.filter-field-tooltip-used-in-document-types":"Used in document types","search.filter-no-matches-found":"No matches for {{filter}}","search.filter-number-max-value-placeholder":"Max value","search.filter-number-min-value-placeholder":"Min value","search.filter-number-value-placeholder":"Value","search.filter-placeholder":"Filter","search.filter-reference-clear":"Clear","search.filter-shared-fields-header":"Shared fields","search.filter-string-value-placeholder":"Value","search.filter-string-value-select-predefined-value":"Select…","search.filters-aria-label_one":"Filter","search.filters-aria-label_other":"Filters","search.instructions":"Use <ControlsIcon/> to refine your search","search.no-results-help-description":"Try another keyword or adjust your filters","search.no-results-title":"No results found","search.operator.array-count-equal.description_one":"<Field/> <Operator>has</Operator> <Value>{{count}} item</Value>","search.operator.array-count-equal.description_other":"<Field/> <Operator>has</Operator> <Value>{{count}} items</Value>","search.operator.array-count-equal.name":"quantity is","search.operator.array-count-gt.description_one":"<Field/> <Operator>has ></Operator> <Value>{{count}} item</Value>","search.operator.array-count-gt.description_other":"<Field/> <Operator>has ></Operator> <Value>{{count}} items</Value>","search.operator.array-count-gt.name":"quantity greater than","search.operator.array-count-gte.description_one":"<Field/> <Operator>has ≥</Operator> <Value>{{count}} item</Value>","search.operator.array-count-gte.description_other":"<Field/> <Operator>has ≥</Operator> <Value>{{count}} items</Value>","search.operator.array-count-gte.name":"quantity greater than or equal to","search.operator.array-count-lt.description_one":"<Field/> <Operator>has <</Operator> <Value>{{count}} item</Value>","search.operator.array-count-lt.description_other":"<Field/> <Operator>has <</Operator> <Value>{{count}} items</Value>","search.operator.array-count-lt.name":"quantity less than","search.operator.array-count-lte.description_one":"<Field/> <Operator>has ≤</Operator> <Value>{{count}} item</Value>","search.operator.array-count-lte.description_other":"<Field/> <Operator>has ≤</Operator> <Value>{{count}} items</Value>","search.operator.array-count-lte.name":"quantity less than or equal to","search.operator.array-count-not-equal.description_one":"<Field/> <Operator>does not have</Operator> <Value>{{count}} item</Value>","search.operator.array-count-not-equal.description_other":"<Field/> <Operator>does not have</Operator> <Value>{{count}} items</Value>","search.operator.array-count-not-equal.name":"quantity is not","search.operator.array-count-range.description":"<Field/> <Operator>has between</Operator> <Value>{{from}} → {{to}} items</Value>","search.operator.array-count-range.name":"quantity is between","search.operator.array-list-includes.description":"<Field/> <Operator>includes</Operator> <Value>{{value}}</Value>","search.operator.array-list-includes.name":"includes","search.operator.array-list-not-includes.description":"<Field/> <Operator>does not include</Operator> <Value>{{value}}</Value>","search.operator.array-list-not-includes.name":"does not include","search.operator.array-reference-includes.description":"<Field/> <Operator>includes</Operator> <Value>{{value}}</Value>","search.operator.array-reference-includes.name":"includes","search.operator.array-reference-not-includes.description":"<Field/> <Operator>does not include</Operator> <Value>{{value}}</Value>","search.operator.array-reference-not-includes.name":"does not include","search.operator.asset-file-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.asset-file-equal.name":"is","search.operator.asset-file-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.asset-file-not-equal.name":"is not","search.operator.asset-image-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.asset-image-equal.name":"is","search.operator.asset-image-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.asset-image-not-equal.name":"is not","search.operator.boolean-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.boolean-equal.name":"is","search.operator.date-after.description":"<Field/> <Operator>is after</Operator> <Value>{{value}}</Value>","search.operator.date-after.name":"after","search.operator.date-before.description":"<Field/> <Operator>is before</Operator> <Value>{{value}}</Value>","search.operator.date-before.name":"before","search.operator.date-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.date-equal.name":"is","search.operator.date-last.description":"<Field/> <Operator>is in the last</Operator> <Value>{{value}}</Value>","search.operator.date-last.name":"last","search.operator.date-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.date-not-equal.name":"is not","search.operator.date-range.description":"<Field/> <Operator>is between</Operator> <Value/>","search.operator.date-range.name":"is between","search.operator.date-time-after.description":"<Field/> <Operator>is after</Operator> <Value>{{value}}</Value>","search.operator.date-time-after.name":"after","search.operator.date-time-before.description":"<Field/> <Operator>is before</Operator> <Value>{{value}}</Value>","search.operator.date-time-before.name":"before","search.operator.date-time-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.date-time-equal.name":"is","search.operator.date-time-last.description":"<Field/> <Operator>is in the last</Operator> <Value>{{value}}</Value>","search.operator.date-time-last.name":"last","search.operator.date-time-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.date-time-not-equal.name":"is not","search.operator.date-time-range.description":"<Field/> <Operator>is between</Operator> <Value/>","search.operator.date-time-range.name":"is between","search.operator.defined.description":"<Field/> <Operator>is</Operator> <Value>not empty</Value>","search.operator.defined.name":"not empty","search.operator.not-defined.description":"<Field/> <Operator>is</Operator> <Value>empty</Value>","search.operator.not-defined.name":"empty","search.operator.number-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.number-equal.name":"is","search.operator.number-gt.description":"<Field/> <Operator>></Operator> <Value>{{value}}</Value>","search.operator.number-gt.name":"greater than","search.operator.number-gte.description":"<Field/> <Operator>≥</Operator> <Value>{{value}}</Value>","search.operator.number-gte.name":"greater than or equal to","search.operator.number-lt.description":"<Field/> <Operator><</Operator> <Value>{{value}}</Value>","search.operator.number-lt.name":"less than","search.operator.number-lte.description":"<Field/> <Operator>≤</Operator> <Value>{{value}}</Value>","search.operator.number-lte.name":"less than or equal to","search.operator.number-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.number-not-equal.name":"is not","search.operator.number-range.description":"<Field/> <Operator>is between</Operator> <Value>{{from}} → {{to}}</Value>","search.operator.number-range.name":"is between","search.operator.portable-text-contains.description":"<Field/> <Operator>contains</Operator> <Value>{{value}}</Value>","search.operator.portable-text-contains.name":"contains","search.operator.portable-text-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.portable-text-equal.name":"is","search.operator.portable-text-not-contains.description":"<Field/> <Operator>does not contain</Operator> <Value>{{value}}</Value>","search.operator.portable-text-not-contains.name":"does not contain","search.operator.portable-text-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.portable-text-not-equal.name":"is not","search.operator.reference-asset-file.description":"<Field/> <Operator>→</Operator> <Value>{{value}}</Value>","search.operator.reference-asset-file.name":"file","search.operator.reference-asset-image.description":"<Field/> <Operator>→</Operator> <Value>{{value}}</Value>","search.operator.reference-asset-image.name":"image","search.operator.reference-document.description":"<Field/> <Operator>→</Operator> <Value>{{value}}</Value>","search.operator.reference-document.name":"document","search.operator.reference-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.reference-equal.name":"is","search.operator.reference-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.reference-not-equal.name":"is not","search.operator.slug-contains.description":"<Field/> <Operator>contains</Operator> <Value>{{value}}</Value>","search.operator.slug-contains.name":"contains","search.operator.slug-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.slug-equal.name":"is","search.operator.slug-not-contains.description":"<Field/> <Operator>does not contain</Operator> <Value>{{value}}</Value>","search.operator.slug-not-contains.name":"does not contain","search.operator.slug-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.slug-not-equal.name":"is not","search.operator.string-contains.description":"<Field/> <Operator>contains</Operator> <Value>{{value}}</Value>","search.operator.string-contains.name":"contains","search.operator.string-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.string-equal.name":"is","search.operator.string-list-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.string-list-equal.name":"is","search.operator.string-list-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.string-list-not-equal.name":"is not","search.operator.string-not-contains.description":"<Field/> <Operator>does not contain</Operator> <Value>{{value}}</Value>","search.operator.string-not-contains.name":"does not contain","search.operator.string-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.string-not-equal.name":"is not","search.ordering.best-match-label":"Best match","search.ordering.created-ascending-label":"Created: Oldest first","search.ordering.created-descending-label":"Created: Newest first","search.ordering.updated-ascending-label":"Updated: Oldest first","search.ordering.updated-descending-label":"Updated: Newest first","search.placeholder":"Search","search.recent-searches-aria-label":"Recent searches","search.recent-searches-label":"Recent searches","search.search-results-aria-label":"Search results","sheet-list.edit-columns":"Edit columns","sheet-list.hide-field":"Remove from table","sheet-list.reset-columns":"Reset columns","sheet-list.select-fields":"Select up to 5 field types","status-button.aria-label":"Configuration status","timeline.error.load-document-changes-description":"Document history transactions have not been affected.","timeline.error.load-document-changes-title":"An error occurred whilst retrieving document changes.","timeline.error.no-document-history-description":"When changing the content of the document, the document versions will appear in this menu.","timeline.error.no-document-history-title":"No document history","timeline.error.unable-to-load-revision":"Unable to load revision","timeline.latest":"Latest","timeline.latest-revision":"Latest revision","timeline.latest-version":"Latest revision","timeline.list.aria-label":"Document revisions","timeline.loading-history":"Loading history…","timeline.operation.created":"Created","timeline.operation.created-initial":"Created","timeline.operation.created-initial_timestamp":"Created: {{timestamp, datetime}}","timeline.operation.created_timestamp":"Created: {{timestamp, datetime}}","timeline.operation.deleted":"Deleted","timeline.operation.deleted_timestamp":"Deleted: {{timestamp, datetime}}","timeline.operation.draft-discarded":"Discarded draft","timeline.operation.draft-discarded_timestamp":"Discarded draft: {{timestamp, datetime}}","timeline.operation.edited-draft":"Edited","timeline.operation.edited-draft_timestamp":"Edited: {{timestamp, datetime}}","timeline.operation.edited-live":"Live edited","timeline.operation.edited-live_timestamp":"Live edited: {{timestamp, datetime}}","timeline.operation.published":"Published","timeline.operation.published_timestamp":"Published: {{timestamp, datetime}}","timeline.operation.unpublished":"Unpublished","timeline.operation.unpublished_timestamp":"Unpublished: {{timestamp, datetime}}","timeline.since":"Since: {{timestamp, datetime}}","timeline.since-version-missing":"Since: unknown version","toolbar.portable-text.action-button-aria-label":"{{action}}","tree-editing-dialog.breadcrumbs.menu":"Breadcrumb menu","tree-editing-dialog.search-placeholder":"Search","tree-editing-dialog.search.menu-label":"Search menu","tree-editing-dialog.search.no-results-title":"No results found","tree-editing-dialog.sidebar.action.close":"Close sidebar","tree-editing-dialog.sidebar.action.collapse":"Collapse","tree-editing-dialog.sidebar.action.done":"Done","tree-editing-dialog.sidebar.action.expand":"Expand","tree-editing-dialog.sidebar.action.open":"Open sidebar","user-menu.action.free-trial-finished":"Upgrade from free","user-menu.action.free-trial_one":"{{count}} day left in trial","user-menu.action.free-trial_other":"{{count}} days left in trial","user-menu.action.invite-members":"Invite members","user-menu.action.invite-members-aria-label":"Invite members","user-menu.action.manage-project":"Manage project","user-menu.action.manage-project-aria-label":"Manage project","user-menu.action.portable-text.annotation-disabled_empty-block":"Cannot apply {{name}} to empty block","user-menu.action.portable-text.annotation-disabled_multiple-blocks":"Cannot apply {{name}} to multiple blocks","user-menu.action.sign-out":"Sign out","user-menu.appearance-title":"Appearance","user-menu.close-menu":"Close menu","user-menu.color-scheme.dark-description":"Use dark appearance","user-menu.color-scheme.dark-title":"Dark","user-menu.color-scheme.light-description":"Use light appearance","user-menu.color-scheme.light-title":"Light","user-menu.color-scheme.system-description":"Use system appearance","user-menu.color-scheme.system-title":"System","user-menu.locale-title":"Language","user-menu.login-provider":"Signed in with {{providerTitle}}","user-menu.open-menu":"Open menu","workspaces.action.add-workspace":"Add workspace","workspaces.action.choose-another-workspace":"Choose another workspace","workspaces.choose-your-workspace-label":"Choose your workspace","workspaces.select-workspace-aria-label":"Select workspace","workspaces.select-workspace-label":"Select workspace","workspaces.select-workspace-tooltip":"Select workspace","workspaces.title":"Workspaces"}),Xin={locale:"en-US",namespace:jy,resources:Zin},Jin=LG("validation",{"array.exact-length":"Must have exactly {{wantedLength}} items","array.exact-length_blocks":"Must have exactly {{wantedLength}} blocks","array.item-duplicate":"Can't be a duplicate","array.maximum-length":"Must have at most {{maxLength}} items","array.maximum-length_blocks":"Must have at most {{maxLength}} blocks","array.minimum-length":"Must have at least {{minLength}} items","array.minimum-length_blocks":"Must have at least {{minLength}} blocks","date.invalid-format":"Must be a valid ISO-8601 formatted date string","date.maximum":"Must be at or before {{maxDate}}","date.minimum":"Must be at or after {{minDate}}","generic.incorrect-type":'Expected type "{{expectedType}}", got "{{actualType}}"',"generic.not-allowed":"Value did not match any allowed values","generic.not-allowed_hint":'Value "{{hint}}" did not match any allowed values',"generic.required":"Required","number.greater-than":"Must be greater than {{threshold}}","number.less-than":"Must be less than {{threshold}}","number.maximum":"Must be lower than or equal to {{maxNumber}}","number.maximum-precision":"Max precision is {{limit}}","number.minimum":"Must be greater than or equal to {{minNumber}}","number.non-integer":"Must be an integer","object.asset-required":"Asset is required","object.asset-required_file":"File is required","object.asset-required_image":"Image is required","object.not-reference":"Must be a reference to a document","object.reference-not-published":"Referenced document must be published","panel.close-button-aria-label":"Close validation","panel.no-errors-message":"No validation errors","panel.title":"Validation","slug.missing-current":"Slug must have a value","slug.not-object":"Slug must be an object","slug.not-unique":"Slug is already in use","string.email":"Must be a valid email address","string.exact-length":"Must be exactly {{wantedLength}} characters long","string.lowercase":"Must be all lowercase characters","string.maximum-length":"Must be at most {{maxLength}} characters long","string.minimum-length":"Must be at least {{minLength}} characters long","string.regex-does-not-match":'Does not match "{{name}}"-pattern',"string.regex-match":'Should not match "{{name}}"-pattern',"string.uppercase":"Must be all uppercase characters","string.url.disallowed-scheme":"Does not match allowed protocols/schemes","string.url.includes-credentials":"Username/password not allowed","string.url.invalid":"Not a valid URL","string.url.not-absolute":"Relative URLs are not allowed","string.url.not-relative":"Only relative URLs are allowed"}),Qin={locale:"en-US",namespace:Gin,resources:Jin},TIe={id:"en-US",title:"English (US)",bundles:[Xin,Qin,Kin],weekInfo:{firstDay:7,weekend:[6,7],minimalDays:1}},Nl=TIe,Bb=(()=>{const e="__tmp_supports_local_storage";try{return typeof localStorage>"u"?!1:(localStorage.setItem(e,"---"),localStorage.removeItem(e),!0)}catch{return!1}})(),ean="sanity-locale";function tan(e,t){if(!Bb)return;const n=localStorage.getItem(AIe(e,t));return n??void 0}function nan(e,t,n){Bb&&localStorage.setItem(AIe(e,t),n)}function AIe(e,t){return[ean,e,t].join(":")}function ran(e){const{projectId:t,name:n,i18n:{locales:r},__internal:{i18next:i}}=Dn();return u.jsx(ian,{...e,projectId:t,sourceId:n,locales:r,i18next:i})}function ian({projectId:e,sourceId:t,locales:n,i18next:r,children:i}){const a=f.useCallback(l=>(r.on("languageChanged",l),()=>r.off("languageChanged",l)),[r]),o=f.useSyncExternalStore(a,()=>n.find(l=>r.language===l.id)||Nl),s=f.useMemo(()=>({locales:n,currentLocale:o,__internal:{i18next:r},changeLocale:async l=>{nan(e,t,l),await r.changeLanguage(l)}}),[o,r,n,e,t]);return u.jsx(f.Suspense,{fallback:u.jsx(wn,{}),children:u.jsx(Ett,{i18n:r,children:u.jsx(U9.Provider,{value:s,children:i},o.id)})})}function KO(e){const t=Array.isArray(e)?e:[e],n=JSON.stringify(t.flatMap(a=>a!=null&&a.i18n?Object.values(a.i18n).map(({ns:o})=>o):[]).filter(sa).sort()),r=f.useMemo(()=>JSON.parse(n),[n]),{t:i}=Y(r);return f.useCallback(function(a){const{i18n:o}=a;return o?new Proxy(a,{get:(s,l)=>{const c=s[l];if(typeof l=="string"&&l in o){const{key:d,ns:h}=o[l];return i(d,{ns:h,...typeof c=="string"&&{defaultValue:c}})}return c}}):a},[i])}function hd(e){const t=f.useMemo(()=>e.i18n?Array.from(new Set(Object.values(e.i18n).map(({ns:r})=>r))).sort():[],[e.i18n]),{t:n}=Y(t);return f.useMemo(()=>{const{i18n:r}=e;return r?new Proxy(e,{get:(i,a)=>{const o=i[a];if(typeof a=="string"&&a in r){const{key:s,ns:l}=r[a];return n(s,{ns:l,...typeof o=="string"&&{defaultValue:o}})}return o}}):e},[e,n])}function rm(){return BG().currentLocale}function BG(){const e=f.useContext(U9);if(!e)throw new Error("Sanity LocaleContext value missing. Is this hook being used outside LocaleContext.Provider?");return e}const qd=(()=>{const e={dateTimeFormat:Ok(),listFormat:Ok(),numberFormat:Ok(),relativeTimeFormat:Ok()};function t(a,o){const s=Mk(a,o);let l=e.dateTimeFormat[s];return l||(l=new Intl.DateTimeFormat(a,o),e.dateTimeFormat[s]=l,l)}function n(a,o){const s=Mk(a,o);let l=e.listFormat[s];return l||(l=new Intl.ListFormat(a,o),e.listFormat[s]=l,l)}function r(a,o){const s=Mk(a,o);let l=e.numberFormat[s];return l||(l=new Intl.NumberFormat(a,o),e.numberFormat[s]=l,l)}function i(a,o){const s=Mk(a,o);let l=e.relativeTimeFormat[s];return l||(l=new Intl.RelativeTimeFormat(a,o),e.relativeTimeFormat[s]=l,l)}return{dateTimeFormat:t,listFormat:n,numberFormat:r,relativeTimeFormat:i}})();function Ok(){return Object.create(null)}function Mk(e,t){return`${e}-${JSON.stringify(aan(t))}`}function aan(e){const t=[];for(const[n,r]of Object.entries(e))t.push(`${n}=${JSON.stringify(r)}`);return t.sort().join(`
`)}function z0(e={}){var t;const n=(t=f.useContext(U9))==null?void 0:t.currentLocale.id;return n?qd.listFormat(n,e):qd.listFormat("en-US",{...e,style:"narrow"})}const oan=/^<(?<tag>[^\s\d<][^/?><]+)\/?>/,san=/<\/(?<tag>[^>]+)>/,lan=/<[^>]+\/>/,uan=/^[A-Z][A-Za-z0-9]+$/,can=/^[a-z]+$/,dan=/{{\s*?([^}]+)\s*?}}/g;function fan(e){const t=[];let n="",r="",i=e;for(;i.length>0;)if(!r&&i[0]==="<"){const a=man(i);if(a){const o=a.groups.tag;van(o),n&&(t.push(...TF(n)),n=""),pan(a[0])?t.push({type:"tagOpen",selfClosing:!0,name:o}):(t.push({type:"tagOpen",name:o}),r=o),i=i.slice(a[0].length)}else n+=i[0],i=i.slice(1)}else if(r&&i[0]==="<"&&i[1]!=="<"){const a=gan(i);if(a){const o=a.groups.tag;if(i[1]!=="/")throw new Error(`Expected closing tag for <${r}>, but found new opening tag <${o}>. Nested tags is not supported.`);if(o!==r)throw new Error(`Expected closing tag for <${r}>, but found closing tag </${o}> instead. Make sure each opening tag has a matching closing tag.`);n&&(t.push(...TF(n)),n=""),t.push({type:"tagClose",name:o}),r="",i=i.slice(a[0].length)}else n+=i[0],i=i.slice(1)}else n+=i[0],i=i.slice(1);if(r)throw new Error(`No matching closing tag for <${r}> found. Either make it self closing (e.g. "<${r}/>") or close it (e.g "<${r}>...</${r}>").`);return n&&t.push(...TF(n)),t}function TF(e){const t=[],n=e.matchAll(dan);let r=0;for(const i of n){if(typeof i.index>"u")continue;const a=e.slice(r,i.index);a.length>0&&t.push({type:"text",text:a}),t.push(han(i[0])),r+=a.length+i[0].length}return r<e.length&&t.push({type:"text",text:e.slice(r)}),t}function han(e){const[t,...n]=e.replace(/^\{\{|\}\}$/g,"").trim().split(/\s*,\s*/);if(n.length===1&&n[0]==="list")return{type:"interpolation",variable:t,formatters:n};if(n.length>0)throw new Error(`Interpolations with formatters are not supported when using <Translate>. Found "${e}". Utilize "useTranslation" instead, or format the values passed to <Translate> ahead of time.`);return{type:"interpolation",variable:t}}function pan(e){return lan.test(e)}function man(e){return e.match(oan)}function gan(e){return e.match(san)}function van(e){if(!(uan.test(e)||can.test(e)))throw new Error(e.trim()===e?`Invalid tag "<${e}>". Tag names must be lowercase HTML tags or start with an uppercase letter and can only include letters and numbers.`:`Invalid tag "<${e}>". No whitespace allowed in tags.`)}const yan=/^[A-Z]/,ban=["abbr","address","cite","code","del","em","ins","kbd","q","samp","strong","sub","sup"];function ht(e){const t=e.t(e.i18nKey,{context:e.context,skipInterpolation:!0,count:e.values&&"count"in e.values&&typeof e.values.count=="number"?e.values.count:void 0}),n=f.useMemo(()=>fan(t),[t]),r=z0(),i={list:a=>r.format(a)};return u.jsx(u.Fragment,{children:Sh(n,e.values,e.components||{},i)})}function Sh(e,t,n,r){const[i,...a]=e;if(!i)return null;if(i.type==="interpolation"){const o=t?t[i.variable]:void 0;if(typeof o>"u")return`{{${i.variable}}}`;const s=xan(o,i.formatters||[],r);return u.jsxs(u.Fragment,{children:[s,Sh(a,t,n,r)]})}if(i.type==="text")return u.jsxs(u.Fragment,{children:[i.text,Sh(a,t,n,r)]});if(i.type==="tagOpen"&&i.selfClosing){const o=n[i.name];if(!o)throw new Error(`Component not found: ${i.name}`);return u.jsxs(u.Fragment,{children:[u.jsx(o,{}),Sh(a,t,n,r)]})}if(i.type==="tagOpen"&&!i.selfClosing){const o=a.findIndex(h=>h.type==="tagClose"),s=a[o];if(s&&i.name!==s.name)throw new Error("Nested tags is not allowed");const l=n[i.name];if(!l&&yan.test(i.name))throw new Error(`Component not defined: ${i.name}`);if(!l&&!ban.includes(i.name))throw new Error(`HTML tag "${i.name}" is not allowed`);const c=a.slice(0,o),d=a.slice(o+1);return l?u.jsxs(u.Fragment,{children:[u.jsx(l,{children:Sh(c,t,n,r)}),Sh(d,t,n,r)]}):u.jsxs(u.Fragment,{children:[f.createElement(i.name,{},Sh(c,t,n,r)),Sh(d,t,n,r)]})}return null}function xan(e,t,n){let r=e;for(const i of t)if(i==="list")if(Array.isArray(e))r=n.list(e);else throw new Error("List formatter used on non-array value");return`${r}`}const wan=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Can=/_key\s*==\s*['"](.*)['"]/;function qn(e){if(!Array.isArray(e))throw new Error("Path is not an array");return e.reduce((t,n,r)=>{if(Cs(n))return`${t}[${n}]`;if(Pn(n)&&n._key)return`${t}[_key=="${n._key}"]`;if(gp(n)){const[i,a]=n;return`${t}[${i}:${a}]`}if(typeof n=="string")return`${t}${r===0?"":"."}${n}`;throw new Error(`Unsupported path segment \`${JSON.stringify(n)}\``)},"")}function ia(e,t){const n=t[0];if(!n)return e;const r=t.slice(1);if(Cs(n))return ia(Array.isArray(e)?e[n]:void 0,r);if(Pn(n))return ia(Array.isArray(e)?e.find(i=>i._key===n._key):void 0,r);if(typeof n=="string")return ia(yt(e)?e[n]:void 0,r);throw new Error(`Unknown segment type ${JSON.stringify(n)}`)}function San(e,t){return typeof t!="number"&&!Pn(t)?-1:typeof t=="number"?t:e.findIndex(n=>Uu(n)&&n._key===t._key)}function _an(e){const t=e.match(wan);if(!t)throw new Error("Invalid path string");return t.map(Ean)}function Ean(e){return Cs(e)?kan(e):Pn(e)?Tan(e):gp(e)?Aan(e):e}function kan(e){return Number(e.replace(/[^\d]/g,""))}function Tan(e){const t=e.match(Can);if(!t)throw new Error("Invalid key segment");return{_key:t[1]}}function Aan(e){const[t,n]=e.split(":").map(r=>r===""?r:Number(r));return[t,n]}function jIe(e,t){return e.length!==t.length?!1:e.every((n,r)=>{const i=t[r];return Pn(n)&&Pn(i)?n._key===i._key:Cs(n)?Number(n)===Number(i):gp(n)&&gp(i)?n[0]===i[0]&&n[1]===i[1]:n===i})}function IIe(e){return Uu(e)?e._key:void 0}function c7(e){const t=IIe(e);return t?{_key:t}:void 0}function jan(e){return typeof e=="object"&&e!==null&&Object.keys(e).length<=0}function DIe(e,t){return e.get((t==null?void 0:t.author)||null)}function v_(e,t){const n=Array.isArray(t)?t:_an(t);return Ian(e,n)}function Ian(e,t){const n=d7(e,t);if(n&&n.action!=="unchanged")return n.annotation||void 0}function d7(e,t,n=[]){if(t.length===0)return e;const r=t[0],i=t.slice(1);if(gp(r))throw new Error("Index tuples are not supported in diff paths");if(Cs(r)||Pn(r)){const o=Cs(r)?`at index ${r}`:`with key ${r._key}`;if(e.type!=="array"){`${o}${qn(n)}`;return}const s=e.items.find(Cs(r)?l=>l.toIndex===r:l=>Dan(l,r));if(!s){`${o}${qn(n)}`;return}return d7(s.diff,i,n.concat(r))}if(e.type!=="object"){`${r}${qn(n)}`;return}const a=e.fields[r];if(typeof a>"u"){`${r}${qn(n)}`;return}return d7(a,i,n.concat(r))}function Dan(e,t){const n=e.diff;return n.type!=="object"||!n.toValue?!1:n.toValue._key===t}function ZO(e,t,n=[]){if(t(e,n)){if(e.type==="array"){$an(e,t,n);return}if(e.type==="object"){Oan(e,t,n);return}e.type==="string"&&Man(e,t,n)}}function $an(e,t,n){e.action!=="unchanged"&&e.items.forEach(r=>{var i;const a=r.diff.type==="object"&&((i=r.diff.toValue)==null?void 0:i._key),o=a?{_key:a}:Ran(r);ZO(r.diff,t,n.concat(o))})}function Oan(e,t,n){e.action!=="unchanged"&&Object.keys(e.fields).forEach(r=>{const i=e.fields[r];ZO(i,t,n.concat(r))})}function Man(e,t,n){e.action!=="unchanged"&&e.segments.forEach(r=>{ZO(r,t,n)})}function Ran(e){return typeof e.toIndex>"u"?e.fromIndex||0:e.toIndex}function VG(){const e=f.useContext(Dpe);if(!e)throw new Error("UserColorManager: missing context value");return e}function $Ie(e){const t=VG(),n=f.useMemo(()=>e?t.listen(e):nr,[t,e]);return Jr(n,t.get(null))}const Pan="purple",Fan=["green","red","gray"],Nan=W9.filter(e=>!Fan.includes(e)),OIe=e=>{const t=e==="dark";return{background:t?"900":"100",border:t?"700":"300",text:t?"200":"700"}},Lan=e=>{const{background:t,border:n,text:r}=OIe(e);return Nan.reduce((i,a)=>(i[a]={name:a,background:Qe[a][t].hex,border:Qe[a][n].hex,text:Qe[a][r].hex,tints:Qe[a]},i),{})},Ban=e=>{const{background:t,border:n,text:r}=OIe(e);return{name:"gray",background:Qe.gray[t].hex,border:Qe.gray[n].hex,text:Qe.gray[r].hex,tints:Qe.gray}};function Van(e){const{anonymousColor:t,colors:n,currentUserColor:r,scheme:i}=e,a=n||Lan(i),o=t||Ban(i),s=r||Pan;if(!a.hasOwnProperty(s))throw new Error(`'colors' must contain 'currentUserColor' (${s})`);const l=Object.keys(a),c=new Map,d=new Map,h=l.reduce((T,j)=>(T[j]=0,T),{}),p=new Map;let m;return e!=null&&e.userStore&&e.userStore.me.subscribe(T=>E(T?T.id:null)),{get:g,listen:b};function g(T){return T?a[v(T)]:o}function v(T){if(T===m)return s;const j=p.get(T);if(j)return j;const I=d.get(T);if(I&&(h[I]===0||!C()))return y(T,I);const A=k(T);return h[A]===0?y(T,A):y(T,S(I))}function b(T){let j=c.get(T);if(j)return j;const I=v(T);return j=_(T,I),c.set(T,j),j}function y(T,j){return p.set(T,j),d.set(T,j),h[j]++,j}function x(T,j){p.delete(T),h[j]--}function w(){return l.find(T=>h[T]===0)}function C(){return!!w()}function S(T){let j=1/0,I=[];return l.forEach(A=>{const $=h[A];$===j?I.push(A):$<j&&(j=$,I=[A])}),T&&I.includes(T)?T:I[0]}function _(T,j){return new Mt(I=>{const A=a[j];return I.next(A),()=>{c.delete(T),x(T,j)}}).pipe(oa({refCount:!0}))}function E(T){m=T,h[s]+=T?1:-1}function k(T){let j=0;for(let I=0;I<T.length;I++)j=(j<<5)-j+T.charCodeAt(I)|0;return l[Math.abs(j)%l.length]}}function zan({children:e,manager:t}){const n=nh(),r=f.useMemo(()=>t||Van({scheme:n}),[t,n]);return u.jsx(Dpe.Provider,{value:r,children:e})}function MIe(e){const t=VG();return DIe(t,e)}function Iy(e,t=[]){const n=VG(),r=f.useMemo(()=>v_(e,t),[e,t]);return f.useMemo(()=>DIe(n,r),[r,n])}const Gt={apiVersion:"2024-05-28"};function Uan({client:e}){const t=e.withConfig(Gt),n=new MTe(async a=>{const o=(await t.request({uri:`/users/me/keyvalue/${a.join(",")}`,withCredentials:!0}).catch(s=>(console.error("Error fetching data:",s),Array(a.length).fill(null)))).reduce((s,l)=>(l!=null&&l.key&&(s[l.key]=l.value),s),{});return a.map(s=>o[s]||null)}),r=a=>ar(n.loadMany(a)),i=a=>ar(t.request({method:"PUT",uri:"/users/me/keyvalue",body:a,withCredentials:!0})).pipe(de(o=>o.map(s=>(n.clear(s.key),n.prime(s.key,s.value),s.value))),Cn(o=>(console.error("Error setting data:",o),xe(Array(a.length).fill(null)))));return{getKey:a=>r([a]).pipe(de(o=>o[0])),setKey:(a,o)=>i([{key:a,value:o}]).pipe(de(s=>s[0])),getKeys:r,setKeys:i}}function Han({client:e}){const t=Uan({client:e}),n=new Mr,r=n.pipe(mt(i=>t.setKey(i.key,i.value).pipe(de(a=>({key:i.key,value:a})))),oa(1));return{getKey:i=>Mn(t.getKey(i),r.pipe($t(a=>a.key===i),de(a=>a.value))),setKey:(i,a)=>(n.next({key:i,value:a}),r.pipe($t(o=>o.key===i),de(o=>o.value),$a(1)))}}var Wan=Object.defineProperty,Gan=(e,t,n)=>t in e?Wan(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yan=(e,t,n)=>Gan(e,t+"",n);class XO extends Error{constructor({projectId:t}){super("CorsOriginError"),Yan(this,"projectId"),this.name="CorsOriginError",this.projectId=t}}const zG={};function RIe(e,t){Bb?localStorage[e]=t:zG[e]=t}function qan(e){return Bb?localStorage[e]:zG[e]}function PIe(e){Bb?localStorage.removeItem(e):delete zG[e]}function Kan(e){const t=typeof window>"u"?xe():Io(window,"storage"),n=`__studio_local_storage_messaging_${e}`,r=new Mr,i=Mn(r,t.pipe($t(o=>o.key===n),de(o=>o.newValue),$t(sa),de(o=>JSON.parse(o)))).pipe(oa(1));function a(o){try{RIe(n,JSON.stringify(o)),PIe(n),r.next(o)}catch{}}return{messages:i,broadcast:a}}const Zan=R.svg(({theme:e})=>{const{fg:t}=e.sanity.color.base;return ce`
    fill: ${t};
  `}),Xan=R.img`
  height: 19px;
  width: 19px;
  object-fit: contain;
`,Jan=()=>u.jsx(Zan,{width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 438.55 438.55",children:u.jsx("path",{d:"M409.13 114.57a218.32 218.32 0 0 0-79.8-79.8Q278.94 5.36 219.27 5.36T109.21 34.77a218.29 218.29 0 0 0-79.8 79.8Q0 165 0 224.63q0 71.67 41.83 128.91t108.06 79.23q7.71 1.43 11.42-2a11.17 11.17 0 0 0 3.69-8.57q0-.86-.14-15.42t-.14-25.41l-6.57 1.14a83.77 83.77 0 0 1-15.85 1 120.73 120.73 0 0 1-19.84-2 44.34 44.34 0 0 1-19.11-8.51 36.23 36.23 0 0 1-12.56-17.6l-2.86-6.57a71.34 71.34 0 0 0-9-14.56q-6.14-8-12.42-10.85l-2-1.43a21 21 0 0 1-3.71-3.43 15.66 15.66 0 0 1-2.57-4q-.86-2 1.43-3.29C61.2 310.42 64 310 68 310l5.71.85q5.71 1.14 14.13 6.85a46.08 46.08 0 0 1 13.85 14.84q6.57 11.71 15.85 17.85t18.7 6.14a81.19 81.19 0 0 0 16.27-1.42 56.78 56.78 0 0 0 12.85-4.29q2.57-19.14 14-29.41a195.49 195.49 0 0 1-29.36-5.13 116.52 116.52 0 0 1-26.83-11.14 76.86 76.86 0 0 1-23-19.13q-9.14-11.42-15-30t-5.8-42.81q0-34.55 22.56-58.82-10.57-26 2-58.24 8.28-2.57 24.55 3.85t23.84 11q7.57 4.56 12.13 7.71a206.2 206.2 0 0 1 109.64 0l10.85-6.85a153.65 153.65 0 0 1 26.26-12.56q15.13-5.71 23.13-3.14 12.84 32.26 2.28 58.24 22.55 24.27 22.56 58.82 0 24.27-5.85 43t-15.12 30a79.82 79.82 0 0 1-23.13 19 116.74 116.74 0 0 1-26.84 11.14 195.29 195.29 0 0 1-29.23 5.07q14.8 12.84 14.81 40.58v60.2a11.37 11.37 0 0 0 3.57 8.56q3.57 3.42 11.28 2 66.24-22 108.07-79.23t41.83-128.91q-.03-59.62-29.43-110.05z"})}),Qan=()=>u.jsxs("svg",{width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",children:[u.jsx("path",{d:"M11 24a13 13 0 0 1 .66-4.08l-7.4-5.66a22.18 22.18 0 0 0 0 19.49l7.4-5.67A13 13 0 0 1 11 24z",fill:"#fbbc05"}),u.jsx("path",{d:"M24 11a12.72 12.72 0 0 1 8.1 2.9l6.4-6.4a22 22 0 0 0-34.24 6.75l7.4 5.66A13 13 0 0 1 24 11z",fill:"#ea4335"}),u.jsx("path",{d:"M24 37a13 13 0 0 1-12.34-8.92l-7.4 5.66A21.93 21.93 0 0 0 24 46a21 21 0 0 0 14.33-5.48l-7-5.44A13.59 13.59 0 0 1 24 37zm-12.35-8.93l-7.4 5.67 7.4-5.66z",fill:"#34a853"}),u.jsx("path",{d:"M44.5 20H24v8.5h11.8a9.91 9.91 0 0 1-4.49 6.58l7 5.44C42.37 36.76 45 31.17 45 24a18.25 18.25 0 0 0-.5-4z",fill:"#4285f4"})]});function eon(e){const{provider:t}=e;return t.logo?u.jsx(Xan,{src:t.logo,alt:`Logo for ${t.name}`}):void 0}const ton={google:Qan,github:Jan};async function non({client:e,mode:t,providers:n=[]}){if(t==="replace"&&Array.isArray(n))return n;const{providers:r}=await e.request({uri:"/auth/providers"});return typeof n=="function"?n(r):n.length===0?r:t==="replace"?n:r.filter(i=>n.some(a=>a.url!==i.url)).concat(n)}function lle({loginMethod:e="dual",projectId:t,url:n,redirectPath:r}){const i=new URLSearchParams;return i.set("origin",`${window.location.origin}${r}`),i.set("projectId",t),e==="token"?i.set("withSid","true"):i.set("type",e),`${n}?${i}`}function ron({getClient:e,loginMethod:t,redirectOnSingle:n,...r}){const i=nm(e);function a({projectId:o,...s}){const l=s.redirectPath||s.basePath||"/",[c,d]=f.useState(null),[h,p]=f.useState(null);if(h)throw h;const[m]=i();f.useEffect(()=>{m&&non({client:m,...r}).then(d).catch(p)},[m]);const g=n&&(c==null?void 0:c.length)===1&&(c==null?void 0:c[0])&&lle({loginMethod:t,projectId:o,url:c[0].url,redirectPath:l}),v=!c||g;return f.useEffect(()=>{g&&(window.location.href=g)},[g]),v?u.jsx(wn,{showText:!0}):u.jsxs(ee,{space:4,children:[u.jsx(zi,{align:"center",size:1,children:"Choose login provider"}),u.jsx(ee,{space:2,children:c.map((b,y)=>u.jsx(fe,{as:"a",icon:ton[b.name]||u.jsx(eon,{provider:b}),href:lle({loginMethod:t,projectId:o,url:b.url,redirectPath:l}),mode:"ghost",size:"large",text:b.title},`${b.url}_${y}`))})]})}return a}const ule=/sid=([^&]{20,})&?/;function ion(){if(typeof window>"u"||typeof window.location!="object")return null;const e=window.location.hash,[,t]=e.match(ule)||[];if(!t)return null;const n=e.replace(ule,""),r=new URL(window.location.href);return r.hash=n.length>1?n:"",history.replaceState(null,"",r),t}let cle=ion();const aon=()=>{const e=cle;return e&&(cle=null),e};function oon(e){return yt(e)&&"state"in e&&yt(e.state)&&"subscribe"in e.state&&typeof e.state.subscribe=="function"}function son(e){return["dual","token"].includes(e)}const UG=e=>{if(!e)throw new Error("Invalid project id");return`__studio_auth_token_${e}`},AF=e=>{try{const t=qan(UG(e));if(t){const{token:n}=JSON.parse(t);if(n&&typeof n=="string")return n}}catch(t){console.error(t)}return null},FIe=e=>{try{PIe(UG(e))}catch(t){console.error(t)}},lon=({token:e,projectId:t})=>{try{RIe(UG(t),JSON.stringify({token:e,time:new Date().toISOString()}))}catch(n){console.error(n)}},dle=async(e,t)=>{var n;try{const r=await e.request({uri:"/users/me",withCredentials:!0,tag:"users.get-current"});return typeof(r==null?void 0:r.id)=="string"?r:null}catch(r){if(r.statusCode===401)return FIe(e.config().projectId||""),t(null),null;if(await e.request({uri:"/ping",withCredentials:!1,tag:"cors-check"}).then(()=>!0,()=>!1))throw new XO({projectId:(n=e.config())==null?void 0:n.projectId});if(r.isNetworkError&&!r.message&&r.request&&r.request.url){const i=new URL(r.request.url).host;throw new Error(`Unknown network error attempting to reach ${i}`)}throw r}};function uon({clientFactory:e,projectId:t,dataset:n,apiHost:r,loginMethod:i="dual",...a}){const{broadcast:o,messages:s}=Kan(`dual_mode_auth_${t}`),l=e??ZSe,c=s.pipe(Vi(son(i)?AF(t):null)),d={};r&&(d.apiHost=r);const h=c.pipe(de(b=>l({projectId:t,dataset:n,apiVersion:"2021-06-07",useCdn:!1,...b&&{token:b},withCredentials:!0,requestTagPrefix:"sanity.studio",ignoreBrowserTokenWarning:!0,allowReconfigure:!1,...d})),mt(b=>na(async()=>{const y=await dle(b,o);return{currentUser:y,client:b,authenticated:!!y}})),xr((b,y)=>wt(b.currentUser,y.currentUser)),oa(1));async function p(){const b=aon();if(!b){o(i==="cookie"?null:AF(t));return}const y=l({projectId:t,dataset:n,useCdn:!0,withCredentials:!0,apiVersion:"2021-06-07",requestTagPrefix:"sanity.studio",...d});let x;if((i==="dual"||i==="cookie")&&(x=await dle(y,o)),x||i==="cookie"){o(null);return}const w=await m(y,b);o(w??null)}async function m(b,y){const{token:x}=await b.request({method:"GET",uri:"/auth/fetch",query:{sid:y},tag:"auth.fetch-token"});return lon({token:x,projectId:t}),x}async function g(){var b;const y=l({projectId:t,dataset:n,useCdn:!0,withCredentials:!0,token:(b=AF(t))!=null?b:void 0,apiVersion:"2021-06-07",requestTagPrefix:"sanity.studio",...d});FIe(t),await y.request({uri:"/auth/logout",method:"POST"}),o(null)}const v=ron({...a,getClient:()=>h.pipe(de(b=>b.client)),loginMethod:i});return{handleCallbackUrl:p,token:c,state:h,LoginComponent:v,logout:g}}function NIe(e){return typeof e!="object"||e===null?`${e}`:JSON.stringify(Object.fromEntries(Object.entries(e).sort(([t],[n])=>t.localeCompare(n,"en")).map(([t,n])=>[t,NIe(n)])))}const con=h$(uon,NIe);function LIe(e){if(e==="google")return"Google";if(e==="github")return"GitHub";if(e==="sanity")return"Sanity";if(e!=null&&e.startsWith("saml-"))return"SAML/SSO"}function don(e){return t=>{let n=[];const r=Cn((i,a)=>(n.push(i),e(i,n.length,a).pipe(r)));return t.pipe(Qn(()=>{n=[]}),r)}}const fle=typeof window>"u"?xe({}):Io(window,"online"),fon=typeof window>"u"?xe({}):Io(window,"offline"),hon=e=>Math.pow(2,e)*100,pon={type:"connecting"},BIe=XSe(),mon=BIe[0];BIe[1];const gon=({error:e,isOffline:t,attemptNo:n,retryAt:r})=>({type:"error",error:e,attemptNo:n,isOffline:t,retryAt:r});function von({bifur:e}){return{connectionStatus$:Mn(e.heartbeats,fon.pipe(hy(kp(new Error("The browser went offline"))))).pipe(de(t=>({type:"connected",lastHeartbeat:t})),don((t,n,r)=>{const i=Math.min(24e4,hon(n)),a=new Date(new Date().getTime()+i),o=vi(a),s=!navigator.onLine,l=gon({error:t,retryAt:a,isOffline:s,attemptNo:n}),c=bU.pipe(SU(s?fle:Mn(o,fle,mon)));return Ai(xe(l),c.pipe($a(1)),r)}),Vi(pon))}}function JO(e){return e.type?JO(e.type):e.name==="block"}function yon(e){return e.kind==="field"&&e.field.schemaType.jsonType==="array"}const bon=["_key","_type","_weak"];function HG(e){return Object.keys(e).every(t=>bon.includes(t))}function QO(e,t){return f7(e,t,new WeakMap)}function f7(e,t,n){if(e===t)return e;if(n.has(t))return n.get(t);if(e==null||t==null||typeof e!=typeof t)return t;if(Array.isArray(t)){let r=e.length===t.length;const i=[];n.set(t,i);for(let a=0;a<t.length;a++){const o=f7(e[a],t[a],n);o!==e[a]&&(r=!1),i[a]=o}return n.set(t,r?e:i),r?e:i}if(typeof t=="object"){const r=Object.getOwnPropertyNames(t);let i=Object.getOwnPropertyNames(e).length===r.length;const a={};n.set(t,a);for(const o of r){const s=t.propertyIsEnumerable(o)?f7(e[o],t[o],n):t[o];s!==e[o]&&(i=!1),a[o]=s}return n.set(t,i?e:a),i?e:a}return t}function xon(e){return u.jsx(ipe.Provider,{value:e.presence,children:e.children})}function VIe(){const e=f.useContext(ipe);if(!e)throw new Error("Form context not provided");return e}function Vb(e,t){const n=VIe(),r=f.useRef(n),i=QO(r.current,n.filter(a=>Ua(e,a.path)&&t));return r.current=i,i}function pd(){const e=f.useContext(Zhe);if(!e)throw new Error("FormBuilder: missing context value");return e}const won=e=>e==="error"?u.jsx(Ea,{}):e==="warning"?u.jsx(fr,{}):u.jsx(Bf,{}),Con=R(N)(({theme:e})=>ce`
    &[data-info] {
      color: ${e.sanity.color.muted.primary.enabled.fg};
    }

    &[data-warning] {
      color: ${e.sanity.color.muted.caution.enabled.fg};
    }

    &[data-error] {
      color: ${e.sanity.color.muted.critical.enabled.fg};
    }
  `);function zIe(e){const{markers:t,validation:n,renderCustomMarkers:r}=e,{CustomMarkers:i}=pd().__internal.components;return t.length===0&&n.length===0?null:u.jsxs(ee,{space:1,children:[n.length>0&&n.map(({message:a,level:o},s)=>u.jsxs(U,{children:[u.jsx(L,{marginRight:2,marginBottom:s+1===n.length?0:2,children:u.jsx(Con,{size:1,"data-error":o==="error"?"":void 0,"data-warning":o==="warning"?"":void 0,"data-info":o==="info"?"":void 0,children:won(o)})}),u.jsx(L,{children:u.jsx(N,{size:1,children:a||"Error"})})]},`validationItem-${s}`)),t.length>0&&u.jsxs(L,{marginTop:n.length>0?3:0,children:[r&&r(t),!r&&u.jsx(i,{markers:t})]})]})}function Son(e){return u.jsx(spe.Provider,{value:e.validation,children:e.children})}function _on(){const e=f.useContext(spe);if(!e)throw new Error("Form context not provided");return e}function WG(e,t=!1){const n=_on();return f.useMemo(()=>n.filter(r=>Ua(e,r.path)&&(t||!vr(e,r.path))).map(r=>({message:r.message,level:r.level,path:r.path})),[t,e,n])}const Eon=["@@_NONEXISTENT_PATH_@@"];function eM(e){const t=f.useRef(null),n=e!=null&&e.validation&&e.validation.length>0?e.validation:cn,r=WG((e==null?void 0:e.path)||Eon),i=f.useMemo(()=>e!=null&&e.schemaType&&JO(e==null?void 0:e.schemaType)?n:n.concat(r),[r,e,n]),[a,o,s]=f.useMemo(()=>[i.filter(c=>c.level==="error").length>0,i.filter(c=>c.level==="warning").length>0,i.filter(c=>c.level==="info").length>0],[i]),l=QO(t.current,i);return t.current=l,f.useMemo(()=>({validation:l,hasError:a,hasWarning:o,hasInfo:s}),[l,a,o,s])}function tM(e){const t=f.useContext(tpe);if(!t)throw new Error("Form context not provided");return f.useMemo(()=>t.filter(n=>vr(n.path,e)),[t,e])}const kon={placement:"right",fallbackPlacements:["top","bottom"]};function Ton(e){const{group:t}=e,{title:n}=hd(t);return t.expanded?u.jsxs(u.Fragment,{children:[u.jsx(L,{padding:2,paddingTop:3,children:u.jsx(N,{muted:!0,size:1,weight:"medium",children:n})}),t.children.map((r,i)=>{var a;return u.jsx(h7,{action:r,isFirst:i===0,prevIsGroup:((a=t.children[i-1])==null?void 0:a.type)==="group"},i)})]}):u.jsx(Vz,{icon:t.icon,popover:kon,text:n,tone:t.tone,children:t.children.map((r,i)=>{var a;return u.jsx(h7,{action:r,isFirst:i===0,prevIsGroup:((a=t.children[i-1])==null?void 0:a.type)==="group"},i)})})}function Aon(e){const{action:t}=e,{title:n}=hd(t),r=f.useCallback(()=>{t.onAction()},[t]),i=typeof t.disabled=="object"&&u.jsx(N,{size:1,children:t.disabled.reason});return u.jsx(Oq,{content:i,placement:"left",children:u.jsx(We,{disabled:!!t.disabled,icon:t.icon,iconRight:t.iconRight||(t.selected?_a:void 0),onClick:r,pressed:t.selected,text:n,tone:t.tone})})}function h7(e){const{action:t,isFirst:n,prevIsGroup:r}=e;return t.type==="divider"?u.jsx(ur,{}):t.type==="group"?u.jsxs(u.Fragment,{children:[!n&&u.jsx(ur,{}),u.jsx(Ton,{group:t})]}):u.jsxs(u.Fragment,{children:[r&&u.jsx(ur,{}),u.jsx(Aon,{action:t})]})}const UIe={placement:"top"};function hle(e){return"renderAsButton"in e&&e.renderAsButton}const jon=f.memo(function(e){const{nodes:t,onMenuOpenChange:n}=e,[r,i]=f.useState(!1),a=f.useCallback(()=>{n(!0),i(!0)},[n]),o=f.useCallback(()=>{n(!1),i(!1)},[n]),s=f.useMemo(()=>t.filter(hle),[t]),l=f.useMemo(()=>t.filter(h=>!hle(h)),[t]),c=f.useMemo(()=>{const h=l.length;if(h===0||h>1)return l;const p=l[0];return p.type==="group"?[{...p,expanded:!0}]:l},[l]),d=f.useMemo(()=>[...c.length?[{type:"group",children:c,icon:qy,title:"Field actions"}]:[],...s],[s,c]);return u.jsx(u.Fragment,{children:d.map((h,p)=>u.jsx(Ion,{node:h,onOpen:a,onClose:o,open:r},p))})}),Ion=f.memo(function(e){const{node:t,onOpen:n,onClose:r,open:i}=e;return t.type==="divider"?u.jsx(te,{borderLeft:!0,flex:"none"}):t.type==="action"?u.jsx(fe,{icon:t.icon,mode:"bleed",onClick:t.onAction,tooltipProps:{...UIe,content:t.title}}):u.jsx($on,{node:t,onOpen:n,onClose:r,open:i})}),Don={constrainSize:!0,placement:"right",portal:!0,fallbackPlacements:["top","bottom"]};function $on(e){const{node:t,onOpen:n,onClose:r,open:i}=e,{title:a}=hd(t);return u.jsx(Kt,{button:u.jsx(fe,{icon:t.icon,"aria-label":i?void 0:a,"data-testid":"field-actions-trigger",mode:"bleed",tooltipProps:{...UIe,content:t.title}}),id:f.useId(),menu:u.jsx(Ot,{children:t.children.map((o,s)=>{var l;return u.jsx(h7,{action:o,isFirst:s===0,prevIsGroup:((l=t.children[s-1])==null?void 0:l.type)==="group"},s)})}),onOpen:n,onClose:r,popover:Don})}function ple(){return f.useContext(Khe)}function y_(e){const{actions:t,children:n,path:r,focused:i}=e,{onMouseEnter:a,onMouseLeave:o}=ple(),s=ple().hoveredStack[0],l=V0||(s?qn(r)===s:!1),c=f.useCallback(()=>{a(r)},[a,r]),d=f.useCallback(()=>{o(r)},[o,r]),h=f.useMemo(()=>({actions:t,focused:i,hovered:l,onMouseEnter:c,onMouseLeave:d}),[t,i,c,d,l]);return u.jsx(qhe.Provider,{value:h,children:n})}function HIe(e){return e.filter(Boolean).filter(t=>"hidden"in t?t.hidden!==!0:!0).map(t=>t.type==="group"?{...t,children:HIe(t.children)}:t)}const b_=f.memo(function(e){const{actions:t,documentId:n,documentType:r,onActions:i,path:a,schemaType:o}=e,s=t.length,l=f.useRef(s),[c,d]=f.useState(()=>Array.from(new Array(s))),h=f.useRef(c),p=f.useCallback((g,v)=>{d(b=>{const y=[...b];return y[g]=v,y})},[]);f.useEffect(()=>{h.current!==c&&(h.current=c,i(HIe(c)))},[c,i]),f.useEffect(()=>{if(l.current!==s){const g=Array.from(new Array(s));for(let v=0;v<s;v++)g[v]=h.current[v];l.current=s,d(g),h.current=g}},[s]);const m=f.useMemo(()=>t.map((g,v)=>Oon({action:g,documentId:n,documentType:r,index:v,path:a,schemaType:o,setFieldAction:p})),[t,n,r,a,o,p]);return u.jsx(u.Fragment,{children:m.map((g,v)=>u.jsx(g,{},v))})});function Oon({action:e,documentId:t,documentType:n,index:r,path:i,schemaType:a,setFieldAction:o}){const{useAction:s}=e;return f.memo(function(){const l=s({documentId:t,documentType:n,path:i,schemaType:a}),c=Ha(l);return f.useEffect(()=>{o(r,c)},[c]),null})}function GG(){return f.useContext(qhe)}const Mon=f.memo(function(e){const{children:t}=e,[n,r]=f.useState([]),i=f.useCallback(s=>{const l=qn(s);r(c=>c.includes(l)?c:[l,...c])},[]),a=f.useCallback(s=>{const l=qn(s);r(c=>c.includes(l)?c.filter(d=>d!==l):c)},[]),o=f.useMemo(()=>({hoveredStack:n,onMouseEnter:i,onMouseLeave:a}),[i,a,n]);return u.jsx(Khe.Provider,{value:o,children:t})}),Ron={portal:!0},Pon=R.div(e=>{const{space:t}=Ee(e.theme);return ce`
    margin: ${0-t[1]}px;
  `}),mle=e=>{if(e.length===1)return`${e[0].user.displayName} is editing this document`;if(e.length>1)return`${e.length} people are editing this document right now`};function YG(e){const{presence:t}=e,n=f.useMemo(()=>Array.from(new Set(t.map(i=>i.user.id))).map(i=>t.find(a=>a.user.id===i)).filter(sa),[t]),r=f.useMemo(()=>mle(n),[n]);return u.jsx(gt,{content:r,...Ron,children:u.jsx(Pon,{children:u.jsx(A2,{maxLength:2,"aria-label":mle(n),size:0,children:n.map(i=>u.jsx(sl,{size:0,user:i.user},i.user.id))})})})}const Fon=/[^\p{Alpha}\p{White_Space}]/gu,Non=new RegExp("\\p{White_Space}+","u"),Lon={small:0,medium:1,large:2};function Bon(e){const t=e.replace(Fon,"").split(Non);return t.length===1?`${t[0].charAt(0)}`.toUpperCase():`${t[0].charAt(0)}${t[t.length-1].charAt(0)}`}function sl(e){const{user:t,withTooltip:n,...r}=e;return yt(t)?n?u.jsx(Von,{...r,user:t}):u.jsx(WIe,{...r,user:t}):u.jsx(zon,{...e,user:t})}function Von(e){const{user:{displayName:t}}=e;return u.jsx(gt,{content:t,placement:"top",portal:!0,children:u.jsx("div",{style:{display:"inline-block"},children:u.jsx(WIe,{...e})})})}const WIe=f.forwardRef(function(e,t){const{user:n,animateArrowFrom:r,position:i,size:a,status:o,tone:s,...l}=e,[c,d]=f.useState(null),h=$Ie(n.id),p=c||n==null?void 0:n.imageUrl;return u.jsx(Az,{__unstable_hideInnerStroke:!0,animateArrowFrom:r,arrowPosition:i,color:h.name,"data-legacy-tone":s,initials:(n==null?void 0:n.displayName)&&Bon(n.displayName),src:p,onImageLoadError:d,ref:t,size:typeof a=="string"?Lon[a]:a,status:o,title:n==null?void 0:n.displayName,...l})});function zon({user:e,...t}){const[n]=md(e);return n?u.jsx(sl,{...t,user:n}):null}const Uon=3,GIe=3,aI=-4,Dy=25,gle=4,Hon=[0,.25,.75,1],Rk=23,Won=8,Gon=8,YIe=20,qIe=20,jF=!1,KIe=R(U)`
  & > div:first-child {
    flex: 1;
    min-width: 0;
  }
`,Yon=R(U)`
  height: ${Dy}px;
  min-width: 23px;
  vertical-align: top;
`;function qon(e){const{children:t}=e,{store:n,snapshot:r}=gIe();return u.jsx(lpe.Provider,{value:n,children:u.jsx(upe.Provider,{value:r,children:t})})}const Kon=f.memo(qon),Zon=[];function Xon(){const e=f.useContext(upe);return e===null?(console.warn(new Error('No context provided for reporter. Make sure that the component calling "usePresenceReportedValues()", is wrapped inside a <PresenceTracker> element')),Zon):e}const Jon=(e,t,n)=>{const r=f.useContext(lpe);r===null&&console.warn(new Error('No context provided for reporter. Make sure that the component calling "usePresenceReporter()", is wrapped inside a <PresenceTracker> element')),vIe(r,e,t,n)};function Qon(e){const{children:t,items:n}=e,r=f.useMemo(()=>u.jsx(ee,{sizing:"border",children:n.map(i=>u.jsxs(U,{align:"center",gap:2,children:[u.jsx("div",{children:u.jsx(sl,{user:i.user,status:"online"})}),u.jsx(N,{size:1,children:i.user.displayName})]},i.user.id))}),[n]);return u.jsx(gt,{content:r,placement:"top",portal:"documentScrollElement",children:t})}const esn=(e,t)=>{const n=e.length>t?t-1:t,r=Math.max(0,e.length-n);return[e.slice(0,r),e.slice(r)]};function tsn(e){return-aI+(Dy+aI)*e}const ZIe=f.memo(function({presence:e,position:t="inside",animateArrowFrom:n="inside",maxAvatars:r=GIe,stack:i=!0}){const a=Tp(e||[],d=>d.user.id),o=Zp(a,d=>d.lastActiveAt),[s,l]=i?esn(o,r):[[],o],c=[...l.reverse().map(d=>({key:d.user.id,element:u.jsx(sl,{animateArrowFrom:n,position:t,status:"online",user:d.user})})),s.length>=2?{key:"counter",element:u.jsx(SA,{count:s.length})}:null].filter(Boolean);return u.jsxs(KIe,{children:[u.jsx("div",{}),u.jsx(Yon,{direction:"row-reverse",children:c.map((d,h)=>d&&u.jsx("div",{style:{position:"absolute",transform:`translate3d(${-h*(Dy+aI)}px, 0px, 0px)`,transitionProperty:"transform",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.85, 0, 0.15, 1)",zIndex:100-h},children:d.element},d.key))})]})});function x_(e){const t=f.useContext(Z4e),{presence:n=t,maxAvatars:r=GIe}=e,[i,a]=f.useState(null),o=f.useId(),s=f.useCallback(()=>({presence:n,element:i,maxAvatars:r}),[i,r,n]);Jon(i?o:null,s);const l=f.useMemo(()=>Tp(n||[],c=>c.user.id),[n]);return u.jsx(Qon,{items:l,children:u.jsx(KIe,{ref:a,style:{minHeight:Dy,minWidth:Dy}})})}const nsn=e=>{const t=new Mr,n=new IntersectionObserver(r=>{r.forEach(i=>{t.next(i)})},e);return{observe:r=>new Mt(i=>{const a=t.pipe($t(o=>o.target===r)).subscribe(i);return n.observe(r),()=>{a.unsubscribe(),n.unobserve(r)}})}},qG=e=>{const{onIntersection:t,io:n,id:r,...i}=e,a=f.useRef(null);return f.useEffect(()=>{const o=a.current;if(!o)return;const s=n.observe(o).pipe(Qn(l=>t(r,l))).subscribe();return()=>s.unsubscribe()},[n,r,t]),u.jsx("div",{ref:a,...i})},rsn=R.div`
  position: relative;
`,isn=R.div`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: 13;
`,KG=ce`
  overflow: hidden;
  overflow: clip;
  pointer-events: none;
  position: absolute;
`,asn=R(qG)(({$debug:e,margins:t})=>ce`
    ${KG}

    z-index: 100;
    position: sticky;
    height: 1px;
    top: ${t?`${t[0]-1}px`:void 0};
    background-color: ${e?"red":"none"};
  `),osn=R(qG)(({$debug:e})=>ce`
    ${KG}

    visibility: none;

    ${e&&ce`
      background: rgba(255, 0, 0, 0.25);
      outline: 1px solid #00b;
      visibility: visible;
    `}
  `),ssn=R(qG)(({$debug:e})=>ce`
    ${KG}

    position: sticky;
    bottom: -1px;
    height: 1px;
    background-color: ${e?"blue":"transparent"};
  `),lsn=e=>`${e}px`,usn=e=>0-e,csn=f.forwardRef(function(e,t){const{regions:n,render:r,children:i,margins:[a,o,s,l]}=e,c=f.useRef(null),d=f.useMemo(()=>[a,o,s,l],[a,o,s,l]),h=f.useMemo(()=>nsn({rootMargin:d.map(usn).map(lsn).join(" "),threshold:Hon}),[d]),[p,m]=f.useState({}),g=f.useCallback((x,w)=>{m(C=>({...C,[x]:w}))},[]),v=p["::top"],b=p["::bottom"],y=f.useMemo(()=>v&&b?n.filter(x=>{var w;return((w=x.presence)==null?void 0:w.length)>0}).map(x=>{const w=p[x.id];if(!w)return null;const{bottom:C,top:S}=w.boundingClientRect,_=w.boundingClientRect.top<v.boundingClientRect.bottom,E=w.boundingClientRect.top<b.boundingClientRect.top,k=w.isIntersecting?S-(w.intersectionRect.top-Rk):_?-v.boundingClientRect.bottom:b.boundingClientRect.top,T=w.isIntersecting?-(C-(w.intersectionRect.bottom+Rk)):E?b.boundingClientRect.top:-v.boundingClientRect.bottom,j=k<=Won?"top":T<=Gon?"bottom":"inside";return{distanceTop:k,distanceBottom:T,region:x,position:j}}).filter(Boolean):[],[b,p,n,v]);return u.jsxs(rsn,{ref:t,children:[u.jsx(asn,{$debug:jF,io:h,id:"::top",onIntersection:g,margins:d}),u.jsx("div",{children:i}),u.jsx(isn,{ref:c,children:c.current&&r(y,c.current.offsetWidth)}),n.map(x=>{const w=x.rect.width===0;return u.jsx(osn,{$debug:jF,io:h,onIntersection:g,id:x.id,style:{width:w?1:x.rect.width,left:x.rect.left-(w?1:0),top:x.rect.top-Rk,height:x.rect.height+Rk*2}},x.id)}),u.jsx(ssn,{$debug:jF,id:"::bottom",io:h,onIntersection:g})]})}),XIe={transitionProperty:"transform",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.85, 0, 0.15, 1)"},dsn=e=>e.top+e.height;function fsn(e){return e.map((t,n,r)=>{var i;const a=(i=r[n-1])==null?void 0:i.region.rect,o=a?dsn(a):0;return{...t,spacerHeight:t.region.rect.top-o}})}const Pk=e=>Tb(e,t=>t.region.rect.top),hsn=(e,t)=>e+t,vle=e=>e.reduce(hsn,0);function psn(e){const t=fsn(Pk(e)),n={top:[],inside:[],bottom:[],...aH(t,r=>r.position)};return{top:Pk(n.top).map((r,i,a)=>({...r,indent:a.slice(i+1).reduce((o,s)=>o+s.region.rect.width,0)})),inside:Pk(n.inside).map(r=>({...r,indent:0})),bottom:Pk(n.bottom).map((r,i,a)=>({...r,indent:a.slice(0,i).reduce((o,s)=>o+s.region.rect.width,0)}))}}const yle=({height:e,...t})=>u.jsx("div",{style:{height:Math.max(0,e),...t==null?void 0:t.style}}),msn=[0,0,0,0],gsn=(e,t)=>{let n=e,r=-n.scrollTop,i=0;for(;n&&n!==t;)r+=n.offsetTop-n.scrollTop,i+=n.offsetLeft,n=n.offsetParent instanceof HTMLElement?n.offsetParent:null;return{top:r,left:i}};function vsn(e,t){return{...gsn(e,t),width:e.offsetWidth,height:e.offsetHeight}}function ysn(e,t){return e.map(([n,r])=>r.element?{...r,id:n,rect:vsn(r.element,t)}:null).filter(Boolean)}function bsn(e){const{children:t,margins:n=msn}=e,r=Xon(),[i,a]=f.useState(null),o=f.useMemo(()=>i?ysn(r,i):p7,[i,r]),s=f.useCallback((l,c)=>{const d=psn(l.filter(g=>g.region.presence.length>0)),h=vle(d.top.map(g=>g.region.rect.height+g.spacerHeight)),p=vle([...d.inside,...d.bottom].map(g=>g.region.rect.height+g.spacerHeight)),m=d.inside.reduce((g,v)=>{const{distanceTop:b,distanceBottom:y}=v,x=b<=YIe,w=y<=qIe;return{nearTop:g.nearTop+(x?v.region.presence.length:0),nearBottom:g.nearBottom+(w?v.region.presence.length:0)}},{nearTop:0,nearBottom:0});return u.jsxs(u.Fragment,{children:[u.jsx(ble,{closeCount:m.nearTop,margins:n,position:"top",regionsWithIntersectionDetails:d.top}),u.jsx(yle,{height:h}),u.jsx(xsn,{containerWidth:c,regionsWithIntersectionDetails:d.inside}),u.jsx(yle,{height:p}),u.jsx(ble,{closeCount:m.nearBottom,margins:n,position:"bottom",regionsWithIntersectionDetails:d.bottom})]})},[n]);return u.jsx(csn,{ref:a,margins:n,regions:o,render:s,children:t})}const p7=[],ble=f.memo(function(e){const{closeCount:t,margins:n,position:r,regionsWithIntersectionDetails:i}=e,a=r==="top"?1:-1,o=f.useMemo(()=>i.length?cr(Zp(i,g=>g.region.rect.top*a).map(g=>g.region.presence||p7)):p7,[a,i]),[s,l,c,d]=n,h=(d||0)+(o.length>0?-t*(Dy+aI):0)-l,p=r==="top"?s:c,m=f.useMemo(()=>({zIndex:2,position:"sticky",display:"flex",flexDirection:"column",alignItems:"flex-end",...XIe,transform:`translate3d(${h}px, 0px, 0px)`,top:gle+1+p,bottom:gle+1+p}),[h,p]);return u.jsx("div",{"data-dock":r,style:m,children:u.jsx(ZIe,{position:r,maxAvatars:Uon,presence:o})},`sticky-${r}`)});function xsn(e){const{regionsWithIntersectionDetails:t,containerWidth:n}=e;return u.jsx(u.Fragment,{children:t.map(r=>{const i=r.region.rect.left,{distanceTop:a,distanceBottom:o}=r,s=a<=YIe,l=o<=qIe,c=n-i-r.region.rect.width,{presence:d,maxAvatars:h}=r.region;return u.jsx(f.Fragment,{children:u.jsx("div",{style:{zIndex:2,position:"absolute",...XIe,left:i,transform:`translate3d(${s||l?c:0}px, 0px, 0px)`,height:r.region.rect.height,top:r.region.rect.top},children:u.jsx(Csn,{value:()=>`⤒${a} | ${o}⤓`,children:u.jsx(ZIe,{stack:!s&&!l,position:s?"top":l?"bottom":"inside",maxAvatars:h,presence:d})})})},r.region.id)})})}const wsn=e=>e.children,Csn=wsn,Ssn=[0,0,0,0];function zb({children:e,margins:t}){return u.jsx(Kon,{children:u.jsx(bsn,{margins:t||Ssn,children:e})})}const _sn=R(U)(({theme:e,$floatingCardWidth:t,$slotWidth:n,$floatingCardVisible:r})=>{const{space:i}=e.sanity;return ce`
    /* Prevent buttons from taking up extra vertical space */
    line-height: 1;
    width: 100%;
    /* For floating actions menu */
    position: relative;

    [data-ui='PresenceBox'] {
      position: absolute;
      bottom: 0;
      right: ${n+t+i[1]}px;
    }
    @media (hover: hover) {
      // If hover is supported, we hide the floating card by default, so only add space for it when it's visible.
      [data-ui='PresenceBox'] {
        position: absolute;
        bottom: 0;
        right: ${n+(r?t:0)+i[1]}px;
      }
    }
  `}),Esn=R(L)(({theme:e,$presenceMaxWidth:t})=>{const{space:n}=e.sanity;return ce`
    max-width: calc(100% - ${t+n[1]}px);
    min-width: 75%;
  `}),ksn=R(L)(({theme:e,$right:t,$fieldActionsVisible:n})=>{const{space:r}=e.sanity,i=n?t+r[1]:t;return ce`
    position: absolute;
    bottom: 0;
    right: ${i}px;
  `}),Tsn=R(te)`
  align-items: center;
  bottom: 0;
  position: absolute;
  right: 0;
  transition: opacity 150ms ease;
  line-height: 1;

  @media (hover: hover) {
    // If hover is supported, we hide the floating card by default
    // and only show it when it has focus within or when the field is hovered or focused.
    opacity: 0;
    pointer-events: none;

    [data-ui='FieldActionsFlex'] {
      opacity: 0;
    }

    &[data-actions-visible='false']:not(:focus-within) {
      // Remove the shadow when the field actions are not visible
      box-shadow: none;

      // Since the field actions always will be present in the DOM (to make them focusable) –
      // they will always affect the width of the floating card, even when they are not visible.
      // Therefore, we remove the background of the floating card when the field actions are not visible.
      background: transparent;
    }

    // Remove the shadow when the field has comments but no actions
    &[data-has-comments='true']:not([data-has-actions='true']) {
      box-shadow: none;
    }

    // Show the floating card when it has focus within (ie when field actions are focused).
    &:focus-within {
      opacity: 1;
      pointer-events: auto;
      width: max-content;

      [data-ui='FieldActionsFlex'] {
        opacity: 1;
        pointer-events: auto;
        width: max-content;
      }
    }
  }

  &[data-visible='true'] {
    opacity: 1;
    pointer-events: auto;
    width: max-content;
  }

  &[data-actions-visible='true'] {
    [data-ui='FieldActionsFlex'] {
      opacity: 1;
      pointer-events: auto;
      width: max-content;
    }
  }
`,Asn=R(U)`
  gap: inherit;
  transition: opacity 150ms ease;
`,xle=4;function JIe(e){const{__internal_comments:t,__internal_slot:n,actions:r,content:i,fieldFocused:a,fieldHovered:o,presence:s,inputId:l}=e,[c,d]=f.useState(!1),[h,p]=f.useState(!1),[m,g]=f.useState(null),[v,b]=f.useState(0),[y,x]=f.useState(null),[w,C]=f.useState(0),{hasComments:S=!1,button:_=null,isAddingComment:E=!1}=t||{},k=r&&r.length>0,T=a||o||h||E,j=(t==null?void 0:t.button)||k,I=c||T||S,A=f.useCallback(()=>{if(m){const{width:O}=m.getBoundingClientRect();b(O||0)}},[m]),$=f.useCallback(()=>{A(),d(!0)},[A]),D=f.useCallback(()=>{A(),d(!1)},[A]);f.useEffect(()=>{A()},[A,T]),f.useEffect(()=>{if(y){const{width:O}=y.getBoundingClientRect();C(O||0)}},[y]);const M=f.useMemo(()=>n?u.jsx(ksn,{$fieldActionsVisible:!!T,$right:v,ref:x,children:n}):null,[v,T,n]);return u.jsxs(_sn,{align:"flex-end",justify:"space-between",$floatingCardVisible:I,$floatingCardWidth:v,$slotWidth:w,children:[u.jsx(Esn,{"data-ui":"fieldHeaderContentBox",flex:1,paddingY:2,$presenceMaxWidth:tsn(xle),children:i}),s&&s.length>0&&u.jsx(L,{"data-ui":"PresenceBox",flex:"none",children:u.jsx(x_,{maxAvatars:xle,presence:s})}),M,(j||S)&&u.jsx(Xa,{children:u.jsxs(Tsn,{"data-actions-visible":T?"true":"false","data-has-actions":k?"true":"false","data-has-comments":S?"true":"false","data-visible":I?"true":"false",display:"flex",onBlurCapture:D,onFocusCapture:$,ref:g,sizing:"border",children:[k&&u.jsx(Asn,{align:"center","data-ui":"FieldActionsFlex","data-testid":l?`field-actions-menu-${l}`:"field-actions-menu",children:u.jsx(jon,{nodes:r,onMenuOpenChange:p})}),_]})})]})}function im(e,t){if(!(!t||!e))return`desc_${e}`}const jsn=[],QIe={error:Osn,warning:Msn,info:Rsn},Isn=R(ee)`
  max-width: 200px;
`,eDe=R(N)(({$status:e})=>e==="error"?{"--card-icon-color":"var(--card-badge-critical-icon-color)"}:e==="warning"?{"--card-icon-color":"var(--card-badge-caution-icon-color)"}:e==="info"?{"--card-icon-color":"var(--card-badge-primary-icon-color)"}:{});function Ub(e){const{validation:t=jsn,__unstable_showSummary:n,fontSize:r,placement:i}=e,a=t.some(c=>c.level==="error"),o=t.some(c=>c.level==="warning"),s=a?"error":o?"warning":"info",l=QIe[s];return u.jsx(gt,{content:u.jsxs(Isn,{space:3,children:[n&&u.jsx($sn,{validation:t}),!n&&u.jsx(u.Fragment,{children:t.map((c,d)=>u.jsx(Dsn,{validation:c},d))})]}),portal:!0,placement:i,fallbackPlacements:["bottom","right","left"],children:u.jsx("div",{children:u.jsx(eDe,{$status:s,size:r,weight:"medium",children:l&&u.jsx(l,{})})})})}function Dsn(e){const{validation:t}=e,n=QIe[t.level];return u.jsxs(U,{children:[u.jsx(L,{marginRight:2,children:u.jsx(eDe,{$status:t.level,size:1,children:n&&u.jsx(n,{})})}),u.jsx(L,{flex:1,children:u.jsx(N,{size:1,children:t.message})})]})}function $sn({validation:e}){const{t}=Y(),n=z0(),r=e.reduce((c,d)=>d.level==="error"?c+1:c,0),i=e.reduce((c,d)=>d.level==="warning"?c+1:c,0),a=r>0,o=i>0;if(!a&&!o)return null;const s=a&&t("form.validation.summary.errors-count",{count:r}),l=o&&t("form.validation.summary.warnings-count",{count:i});return s&&l?u.jsx(N,{size:1,children:n.format([s,l])}):u.jsx(N,{size:1,children:s||l})}function Osn(){const{t:e}=Y();return u.jsx(Ea,{"data-testid":"input-validation-icon-error","aria-label":e("form.validation.has-error-aria-label"),"aria-hidden":!0,role:"presentation"})}function Msn(){const{t:e}=Y();return u.jsx(fr,{"data-testid":"input-validation-icon-warning","aria-label":e("form.validation.has-warning-aria-label"),"aria-hidden":!0,role:"presentation"})}function Rsn(){const{t:e}=Y();return u.jsx(Bf,{"data-testid":"input-validation-icon-info","aria-label":e("form.validation.has-info-aria-label"),"aria-hidden":!0,role:"presentation"})}const Psn=R(U)`
  /*
   * Prevent the block size of appended elements (such as the deprecated field badge) affecting
   * the intrinsic block size of the label.
   */
  contain: size;
`,Fsn=[],ZG=f.memo(function(e){const{description:t,inputId:n,title:r,deprecated:i,validation:a=Fsn}=e,{t:o}=Y(),s=a.length>0,l=i||s;return u.jsxs(ee,{space:3,children:[u.jsxs(U,{align:"center",paddingY:1,children:[u.jsx(N,{as:"label",htmlFor:n,weight:"medium",size:1,children:r||u.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:o("form.field.untitled-field-label")})}),l&&u.jsxs(Psn,{align:"center",flex:1,children:[i&&u.jsx(L,{marginLeft:2,children:u.jsx(ro,{"data-testid":`deprecated-badge-${r}`,tone:"caution",children:o("form.field.deprecated-label")})}),s&&u.jsx(L,{marginLeft:2,children:u.jsx(Ub,{fontSize:1,placement:"top",validation:a})})]})]}),i&&u.jsx(qr,{"data-testid":`deprecated-message-${r}`,tone:"caution",size:1,children:i.reason}),t&&u.jsx(N,{muted:!0,size:1,id:im(n,t),children:t})]})}),wle=[],U0=f.memo(function(e){const{__unstable_headerActions:t=wle,__unstable_presence:n=wle,__internal_slot:r=null,__internal_comments:i,children:a,description:o,inputId:s,level:l,title:c,validation:d,deprecated:h,...p}=e,{focused:m,hovered:g,onMouseEnter:v,onMouseLeave:b}=GG();return u.jsxs(ee,{...p,"data-level":l,onMouseEnter:v,onMouseLeave:b,space:2,children:[c&&u.jsx(JIe,{__internal_comments:i,__internal_slot:r,actions:t,fieldFocused:!!m,fieldHovered:g,presence:n,inputId:s,content:u.jsx(ZG,{description:o,inputId:s,title:c,validation:d,deprecated:h})}),u.jsx("div",{children:a})]})}),Cle=R.legend`
  /* See: https://thatemil.com/blog/2015/01/03/reset-your-fieldset/ */
  padding: 0;
  display: table;
`,Nsn=R(U).attrs({forwardedAs:"button"})(e=>{const{theme:t}=e,{focusRing:n,radius:r}=t.sanity,{base:i}=t.sanity.color;return ce`
    appearance: none;
    border: 0;
    background: none;
    color: inherit;
    -webkit-font-smoothing: inherit;
    font: inherit;
    outline: none;
    border-radius: ${Se(r[2])};
    position: relative;

    &:not([hidden]) {
      display: flex;
    }

    &:focus {
      box-shadow: ${NG({base:i,focusRing:n})};
    }

    &:focus:not(:focus-visible) {
      box-shadow: none;
    }

    /* Added to increase the hit area of the collapsible fieldset */
    &::after {
      content: '';
      position: absolute;
      top: -10px;
      right: -10px;
      bottom: -10px;
      left: -10px;
    }
  `}),Lsn=R(L)`
  width: 9px;
  height: 9px;
  margin-right: 3px;

  & svg {
    transition: transform 100ms;
  }
`,Bsn=f.memo(function(e){const{collapsed:t,collapsible:n,onClick:r,title:i}=e,a=u.jsx(N,{weight:"medium",size:1,children:i});return n?u.jsx(Cle,{children:u.jsxs(Nsn,{type:"button",onClick:r,children:[u.jsx(Lsn,{children:u.jsx(N,{muted:!0,size:1,children:u.jsx(l2,{style:{transform:`rotate(${t?"0":"90deg"}) translate3d(0, 0, 0)`}})})}),a]})}):u.jsx(Cle,{children:a})});function Vsn(e){return typeof e=="function"?e():e}const zsn=R(ee).attrs({forwardedAs:"fieldset"})`
  border: none;

  /* See: https://thatemil.com/blog/2015/01/03/reset-your-fieldset/ */
  body:not(:-moz-handler-blocked) & {
    display: table-cell;
  }
`,Usn=R(L)(e=>{const{$borderLeft:t,$focused:n,theme:r}=e,{focusRing:i}=r.sanity,{base:a}=r.sanity.color;return ce`
    outline: none;
    border-left: ${t?"1px solid var(--card-border-color)":void 0};
    transition:
      border-color 0.2s ease-in-out,
      box-shadow 0.2s ease-in-out;

    ${t&&n&&`border-left: 1px solid var(--card-focus-ring-color);
    box-shadow: inset 1px 0 0 var(--card-focus-ring-color);`}

    ${t&&!n&&`
      box-shadow: inset 0 0 0 transparent;
    `}

    &:focus {
      box-shadow: ${NG({base:a,focusRing:{...i,offset:2}})};
    }

    &:focus:not(:focus-visible) {
      box-shadow: none;
    }
  `}),IF=[],nM=f.forwardRef(function(e,t){const{__internal_comments:n,__internal_slot:r=null,__unstable_headerActions:i=IF,__unstable_presence:a=IF,children:o,collapsed:s,collapsible:l,columns:c,description:d,level:h=0,onCollapse:p,onExpand:m,onFocus:g,tabIndex:v,title:b,validation:y=IF,inputId:x,deprecated:w,...C}=e,{focused:S,hovered:_,onMouseEnter:E,onMouseLeave:k}=GG(),T=y.length>0,j=f.useRef(null),{t:I}=Y();f.useImperativeHandle(t,()=>j.current);const A=f.useCallback(M=>{j.current===M.target&&g&&g(M)},[g]),$=f.useCallback(()=>s?m==null?void 0:m():p==null?void 0:p(),[s,p,m]),D=f.useMemo(()=>s?null:u.jsx(Cin,{columns:c,gapX:4,gapY:5,children:Vsn(o)}),[o,s,c]);return u.jsxs(zsn,{"data-level":h,...C,onMouseEnter:E,onMouseLeave:k,space:2,children:[u.jsx(JIe,{__internal_comments:n,__internal_slot:r,actions:i,fieldFocused:!!S,fieldHovered:_,presence:a,inputId:x,content:u.jsxs(ee,{space:3,children:[u.jsxs(U,{align:"center",children:[b&&u.jsx(Bsn,{collapsed:!!s,collapsible:l,onClick:l?$:void 0,title:b}),w&&u.jsx(L,{marginLeft:2,children:u.jsx(ro,{"data-testid":`deprecated-badge-${b}`,tone:"caution",children:I("form.field.deprecated-label")})}),T&&u.jsx(L,{marginLeft:2,children:u.jsx(Ub,{fontSize:1,placement:"top",validation:y})})]}),w&&u.jsx(qr,{"data-testid":`deprecated-message-${b}`,tone:"caution",size:1,children:w.reason}),d&&u.jsx(N,{muted:!0,size:1,id:im(x,d),children:d})]})}),u.jsx(Usn,{$borderLeft:h>0,$focused:!!S,hidden:s,paddingLeft:h===0?0:3,onFocus:typeof v=="number"&&v>-1?A:void 0,ref:j,tabIndex:v,children:!s&&D})]})}),Hsn=R.div`
  display: flex;
  justify-content: flex-end;
  box-sizing: border-box;
  min-height: var(--avatar-height);
  width: 77px;
  margin-left: var(--small-padding);

  &[data-max-avatars='1'] {
    max-width: 23px;
  }

  &[data-position='top'] {
    align-self: flex-start;
  }

  &[data-position='bottom'] {
    align-self: flex-end;
  }
`;function Wsn({children:e,maxAvatars:t,position:n="bottom"}){return u.jsx(Hsn,{"data-max-avatars":t,"data-position":n,children:e})}function Gsn(e,t){const n=f.useRef(null);return f.useEffect(()=>{n.current=e},[e]),n.current}function $o(e,t,n=Ap){const r=Gsn(e);f.useEffect(()=>{n(r,e)||t(r,e)},[t,e,r,n])}const s0=Symbol.for("sanity.patch");function Ts(e,t=[]){return{patchType:s0,type:"setIfMissing",path:t,value:e}}function Qh(e,t,n=[]){return{patchType:s0,type:"insert",path:n,position:t,items:e}}function st(e,t=[]){return{patchType:s0,type:"set",path:t,value:e}}function pt(e=[]){return{patchType:s0,type:"unset",path:e}}function Ysn(e,t){return{...e,path:[t,...e.path]}}function tDe(){const e=[];return{publish(t){for(const n of e)n(t)},subscribe(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}}}}var qsn=Object.defineProperty,Ksn=(e,t,n)=>t in e?qsn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zsn=(e,t,n)=>Ksn(e,t+"",n);class jt{constructor(t){Zsn(this,"patches"),this.patches=t}static from(t){return t instanceof jt?t:new jt(Array.isArray(t)?cr(t):[t])}prepend(...t){return jt.from([...cr(t),...this.patches])}append(...t){return jt.from([...this.patches,...cr(t)])}prefixAll(t){return jt.from(this.patches.map(n=>Ysn(n,t)))}}const w_=f.memo(function(e){const t=f.useRef(e);t.current=e;const n=f.useCallback(h=>{var p,m,g;return(g=(m=(p=t.current)==null?void 0:p.transformPatches)==null?void 0:m.call(p,h))!=null?g:[]},[t]),r=f.useCallback(h=>{t.current.onChange(h)},[]),i=f.useCallback((h,p)=>{t.current.onPathFocus(h,p)},[]),a=f.useCallback(h=>{t.current.onPathBlur(h)},[]),o=f.useCallback(h=>{t.current.onPathOpen(h)},[]),s=f.useCallback((h,p)=>{t.current.onSetPathCollapsed(h,p)},[]),l=f.useCallback((h,p)=>{t.current.onSetFieldSetCollapsed(h,p)},[]),c=f.useCallback((h,p)=>{t.current.onFieldGroupSelect(h,p)},[]),d=f.useMemo(()=>({transformPatches:n,onChange:r,onPathFocus:i,onPathBlur:a,onPathOpen:o,onSetPathCollapsed:s,onSetFieldSetCollapsed:l,onFieldGroupSelect:c}),[r,c,a,i,o,l,s,n]);return u.jsx(z9.Provider,{value:d,children:e.children})});function gu(){const e=f.useContext(z9);if(!e)throw new Error("Form context not provided");return e}function XG(e){if(Bi(e))return e.name==="object"?{}:{_type:e.name};if(Is(e))return[];if(e.jsonType==="string")return"";if(e.jsonType==="number")return 0;if(e.jsonType==="boolean")return!1}function Xsn(e=16){const t=new Uint8Array(e);return DH(t),t}const Jsn=(()=>{let e;return()=>{if(e)return e;e=[];for(let t=0;t<256;++t)e[t]=(t+256).toString(16).slice(1);return e}})();function $y(e){const t=Jsn();return Xsn(e).reduce((n,r)=>n+t[r],"").slice(0,e)}function Qsn(e){return e._key!==void 0}function xT(e){return Qsn(e)?e:{...e,_key:$y(12)}}const eln=(e,t)=>{const n=ks(t);return e.of.find(r=>r.name===n)};function tln(e,t){return Object.entries(e).map(([n,r])=>st(r,[...t,n]))}function nDe(e,t,n){return ar(e).pipe(It(r=>{const i={_key:r._key};return xe(eln(t,r)).pipe(It(a=>a?xe(a):nr),It(a=>!HG(r)||!n?nr:Ai(xe({type:"patch",patches:[st(!0,[i,"_resolvingInitialValue"])]}),na(()=>n(a,r)).pipe($t(sa),de(o=>({type:"patch",patches:tln(o,[i])})),Cn(o=>xe({type:"error",error:o,item:r,schemaType:a}))),xe({type:"patch",patches:[pt([i,"_resolvingInitialValue"])]}))))}))}function JG(e){const t=f.useRef(),{member:n,renderAnnotation:r,renderBlock:i,renderField:a,renderInlineBlock:o,renderInput:s,renderItem:l,renderPreview:c}=e,{t:d}=Y(),{onPathBlur:h,onPathFocus:p,onChange:m,onPathOpen:g,onSetPathCollapsed:v,onSetFieldSetCollapsed:b,onFieldGroupSelect:y}=gu(),x=PY();$o(n.item.focused,(K,J)=>{var Q;!K&&J&&((Q=t.current)==null||Q.focus())});const w=f.useCallback(()=>{m(jt.from([pt([{_key:n.key}])]))},[n.key,m]),C=f.useCallback(K=>{g(K),v(K,!1)},[g,v]),S=Pr(),_=f.useCallback(K=>{if(K.items.length===0)throw new Error("Insert event should include at least one item");const J=K.items.map(ne=>xT(ne));m(jt.from([Qh(J,K.position,[{_key:n.key}])]));const Q=J[0]._key,re=[...n.item.path.slice(0,-1),{_key:Q}];p(re);const ae=K.open!==!1;K.skipInitialValue?ae&&C(re):nDe(J,n.parentSchemaType,x).pipe(Qn(ne=>{ne.type==="patch"?m(jt.from(ne.patches)):S.push({title:d("inputs.array.error.cannot-resolve-initial-value-title"),description:d("inputs.array.error.cannot-resolve-initial-value-description",{schemaTypeTitle:ne.schemaType.title,errorMessage:ne.error.message}),status:"error"})})).subscribe({complete:()=>{ae&&C(re)}})},[C,n.item.path,n.key,n.parentSchemaType,m,p,x,S,d]),E=f.useCallback(()=>{h(n.item.path)},[n.item.path,h]),k=f.useCallback(()=>{p(n.item.path)},[n.item.path,p]),T=f.useCallback(K=>{p(n.item.path.concat(K))},[n.item.path,p]),j=f.useCallback(K=>{m(jt.from(K).prepend(Ts(XG(n.item.schemaType))).prefixAll({_key:n.key}))},[m,n.item.schemaType,n.key]),I=f.useCallback(()=>{v(n.item.path,!0)},[v,n.item.path]),A=f.useCallback(()=>{v(n.item.path,!1)},[v,n.item.path]),$=f.useCallback(K=>{v(n.item.path.concat(K),!0)},[v,n.item.path]),D=f.useCallback(K=>{v(n.item.path.concat(K),!1)},[v,n.item.path]),M=f.useCallback(()=>{g(n.item.path)},[g,n.item.path]),O=f.useCallback(K=>{g(n.item.path.concat(K))},[g,n.item.path]),F=f.useCallback(K=>{b(n.item.path.concat(K),!1)},[b,n.item.path]),P=f.useCallback(K=>{b(n.item.path.concat(K),!0)},[b,n.item.path]),V=f.useCallback(()=>{g(n.item.path)},[g,n.item.path]),H=!n.item.value||HG(n.item.value),W=f.useCallback(()=>{H&&w();const K=n.item.path.slice(0,-1);g(K),p(K)},[H,g,n.item.path,p,w]),G=f.useCallback(K=>{y(n.item.path,K)},[y,n.item.path]),X=f.useMemo(()=>({onBlur:E,onFocus:k,id:n.item.id,ref:t,"aria-describedby":im(n.item.id,n.item.schemaType.description)}),[E,k,n.item.id,n.item.schemaType.description]),z=f.useMemo(()=>({changed:n.item.changed,focusPath:n.item.focusPath,focused:n.item.focused,groups:n.item.groups,id:n.item.id,level:n.item.level,members:n.item.members,onChange:j,onFieldClose:M,onFieldCollapse:$,onFieldSetCollapse:P,onFieldExpand:D,onFieldSetExpand:F,onFieldGroupSelect:G,onPathFocus:T,onFieldOpen:O,path:n.item.path,presence:n.item.presence,readOnly:n.item.readOnly,renderAnnotation:r,renderBlock:i,renderField:a,renderInlineBlock:o,renderInput:s,renderItem:l,renderPreview:c,schemaType:n.item.schemaType,validation:n.item.validation,value:n.item.value,elementProps:X}),[X,j,M,$,P,D,F,T,O,G,n.item.changed,n.item.focusPath,n.item.focused,n.item.groups,n.item.id,n.item.level,n.item.members,n.item.path,n.item.presence,n.item.readOnly,n.item.schemaType,n.item.validation,n.item.value,r,i,a,o,s,l,c]),q=f.useMemo(()=>s(z),[z,s]),Z=f.useMemo(()=>({key:n.key,index:n.index,level:n.item.level,value:n.item.value,title:n.item.schemaType.title,description:n.item.schemaType.description,collapsible:n.collapsible,collapsed:n.collapsed,schemaType:n.item.schemaType,parentSchemaType:n.parentSchemaType,onInsert:_,onRemove:w,presence:n.item.presence,validation:n.item.validation,open:n.open,onOpen:V,onClose:W,onExpand:A,onCollapse:I,readOnly:n.item.readOnly,focused:n.item.focused,onFocus:k,onBlur:E,inputId:n.item.id,path:n.item.path,children:q,changed:n.item.changed,inputProps:z}),[n.key,n.index,n.item.level,n.item.value,n.item.schemaType,n.parentSchemaType,n.item.presence,n.item.validation,n.item.readOnly,n.item.focused,n.item.id,n.item.path,n.item.changed,n.collapsible,n.collapsed,n.open,_,w,V,W,A,I,k,E,q,z]);return u.jsx(w_,{onFieldGroupSelect:y,onChange:j,onPathOpen:g,onSetFieldSetCollapsed:b,onSetPathCollapsed:v,onPathBlur:h,onPathFocus:p,children:f.useMemo(()=>l(Z),[Z,l])})}const nln=R(te)`
  max-width: ${({theme:e})=>e.sanity.container[1]}px;
`;function rDe(e){const{value:t,onFocus:n,vertical:r,...i}=e,[a,o]=f.useState(!1),s=f.useRef(null),{t:l}=Y();yn(()=>o(!1),()=>[s.current]);const c=f.useCallback(p=>{(p.key==="Escape"||p.key==="Tab")&&o(!1)},[]),d=f.useCallback(()=>{o(p=>!p)},[]),h=ks(t);return u.jsx(Fn,{open:a,ref:s,onKeyDown:c,portal:!0,constrainSize:!0,tone:"default",content:u.jsx(nln,{margin:1,padding:3,onKeyDown:c,tabIndex:0,overflow:"auto",children:u.jsxs(ee,{space:4,children:[u.jsx(N,{weight:"medium",children:u.jsx(ht,{t:l,i18nKey:"inputs.array.error.type-is-incompatible-prompt",values:{typeName:h}})}),u.jsx(N,{size:1,weight:"medium",children:l("inputs.array.error.type-is-incompatible-title")}),u.jsx(N,{size:1,children:u.jsx(ht,{t:l,i18nKey:"inputs.array.error.current-schema-not-declare-description",values:{typeName:h}})}),u.jsx(L,{children:u.jsxs(N,{size:1,children:[u.jsx(a2,{})," ",l("inputs.array.error.can-delete-but-no-edit-description")]})}),u.jsxs(ee,{space:2,children:[u.jsx(N,{size:1,weight:"medium",children:l("inputs.array.error.json-representation-description")}),u.jsx(te,{padding:2,overflow:"auto",border:!0,children:u.jsx(fi,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:u.jsx(te,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,flex:1,onFocus:n,onClick:d,onKeyDown:c,__unstable_focusRing:!0,...i,children:u.jsxs(U,{align:"center",children:[u.jsx(L,{marginRight:3,children:u.jsx(N,{children:u.jsx(Hl,{})})}),u.jsx(L,{flex:1,children:u.jsx(N,{size:1,textOverflow:"ellipsis",children:u.jsx(ht,{t:l,i18nKey:"inputs.array.error.type-is-incompatible-prompt",values:{typeName:h}})})})]})})})}function rln(e){const{member:t}=e,{t:n}=Y();return t.error.type==="INVALID_ITEM_TYPE"?u.jsx(rDe,{value:t.error.value}):u.jsx("div",{children:n("inputs.array.error.unexpected-error",{error:t.error.type})})}function QG(e){switch(e.jsonType){case"string":return"";case"number":return-0;case"boolean":return!1;default:throw new Error(`Unable to create value from type "${e.jsonType}"`)}}function iDe(e,t,n){return vp(e)&&typeof n=="string"&&Number(n)===t?n:String(t??"")}function iln(e){const t=f.useRef(),{member:n,renderItem:r,renderInput:i}=e,[a,o]=f.useState(),{onPathBlur:s,onPathFocus:l,onChange:c}=gu();$o(n.item.focused,(C,S)=>{var _;!C&&S&&((_=t.current)==null||_.focus())});const d=f.useCallback(C=>{s(n.item.path)},[n.item.path,s]),h=f.useCallback(C=>{l(n.item.path)},[n.item.path,l]),p=f.useCallback(C=>{c(jt.from(C).prefixAll(n.index))},[c,n.index]),m=f.useCallback(C=>{let S=C.currentTarget.value;if(vp(n.item.schemaType)){if(S=C.currentTarget.valueAsNumber,S>Number.MAX_SAFE_INTEGER||S<Number.MIN_SAFE_INTEGER)return}else n2(n.item.schemaType)&&(S=C.currentTarget.checked);const _=S===""||typeof S=="number"&&isNaN(S);vp(n.item.schemaType)&&o(_?void 0:C.currentTarget.value),p(st(_?QG(n.item.schemaType):S))},[p,n.item.schemaType]),g=f.useMemo(()=>({onBlur:d,onFocus:h,id:n.item.id,ref:t,onChange:m,value:aln(n.item.schemaType,n.item.value,a),readOnly:!!n.item.readOnly,placeholder:n.item.schemaType.placeholder,"aria-describedby":im(n.item.id,n.item.schemaType.description)}),[d,h,m,n.item.id,n.item.readOnly,n.item.schemaType,n.item.value,a]),v=f.useMemo(()=>({changed:n.item.changed,level:n.item.level,value:n.item.value,readOnly:n.item.readOnly,schemaType:n.item.schemaType,id:n.item.id,path:n.item.path,focused:n.item.focused,onChange:p,validation:n.item.validation,presence:n.item.presence,elementProps:g}),[n.item.changed,n.item.level,n.item.value,n.item.readOnly,n.item.schemaType,n.item.id,n.item.path,n.item.focused,n.item.validation,n.item.presence,p,g]),b=f.useMemo(()=>i(v),[v,i]),y=f.useCallback(()=>{c(jt.from([pt([n.index])]))},[n.index,c]),x=f.useCallback(C=>{c(jt.from([Qh(C.items,C.position,[n.index])]))},[n.index,c]),w=f.useMemo(()=>({key:n.key,index:n.index,level:n.item.level,value:n.item.value,title:n.item.schemaType.title,description:n.item.schemaType.description,schemaType:n.item.schemaType,parentSchemaType:n.parentSchemaType,onInsert:x,onRemove:y,presence:n.item.presence,validation:n.item.validation,readOnly:n.item.readOnly,focused:n.item.focused,onFocus:h,onBlur:d,inputId:n.item.id,path:n.item.path,children:b}),[n.key,n.index,n.item.level,n.item.value,n.item.schemaType,n.item.presence,n.item.validation,n.item.readOnly,n.item.focused,n.item.id,n.item.path,n.parentSchemaType,x,y,h,d,b]);return u.jsx(u.Fragment,{children:f.useMemo(()=>r(w),[w,r])})}function aln(e,t,n){return Object.is(t,-0)?"":iDe(e,t,n)}function Hb(e){if(!Bi(e))throw new Error(`Invalid item type: "${e.type}". Default array input can only contain objects (for now)`);return{...XG(e),_key:Y2(12)}}const Sle="before",_le="after";function oln(e,t,n,...r){if(t!==Sle&&t!==_le)throw new Error(`Invalid position "${t}", must be either ${Sle} or ${_le}`);const i=Ele(...r);if(e.length===0)return i;const a=e.length,o=Math.abs((a+n)%a)%a,s=t==="after"?o+1:o,l=e.slice();return l.splice(s,0,...Ele(i)),l}function Ele(...e){return e.reduce((t,n)=>t.concat(n),[])}const kle=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);function sln(e,t,n){const r=e.slice(),i=r[t];return r.splice(t,1),r.splice(n,0,i),r}function lln(e,t){if(typeof t=="number")return t;const n=hW(e,t);return n===-1?!1:n}function uln(e,t){const n=e.slice();if(t.path.length===0){if(t.type==="setIfMissing"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return e===void 0?t.value:e}else if(t.type==="set"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return t.value}else{if(t.type==="unset")return;if(t.type==="move"){if(!t.value||!kle(t.value,"from")||!kle(t.value,"to"))throw new Error(`Invalid value of 'move' patch. Expected a value with "from" and "to" indexes, instead got: ${JSON.stringify(t.value)}`);return sln(n,t.value.from,t.value.to)}}throw new Error(`Invalid array operation: ${t.type}`)}const[r,...i]=t.path,a=lln(e,r);if(a===!1)return n;if(i.length===0){if(t.type==="insert"){const{position:o,items:s}=t;return oln(e,o,a,s)}else if(t.type==="unset"){if(typeof a!="number")throw new Error(`Expected array index to be a number, instead got "${a}"`);return n.splice(a,1),n}}return n[a]=tY(n[a],{...t,path:i}),n}function cln(e,t){const n=d5e(e);if(t.path.length===0){if(t.type==="set"){if(!BI(t.value))throw new Error("Cannot set value of an object to a non-object");return t.value}else{if(t.type==="unset")return;if(t.type==="setIfMissing")return e===void 0?t.value:e}throw new Error(`Invalid object operation: ${t.type}`)}const[r,...i]=t.path;if(typeof r!="string")throw new Error(`Expected field name to be a string, instad got: ${r}`);return i.length===0&&t.type==="unset"?Pa(n,r):(n[r]=tY(n[r],{...t,path:i}),n)}const aDe={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},inc(e,t){return e+t},dec(e,t){return e-t}},dln=Object.keys(aDe);function fln(e,t){if(!dln.includes(t.type))throw new Error(`Received patch of unsupported type "${t.type}" for primitives. This is most likely a bug.`);if(t.path.length>0)throw new Error(`Cannot apply deep operations on primitive values. Received patch with type "${t.type}" and path "${t.path.map(n=>JSON.stringify(n)).join(".")} that targeted the value "${JSON.stringify(e)}"`);return aDe[t.type](e,t.value)}const oDe={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},diffMatchPatch(e,t){const[n]=bO(bW(t),e,{allowExceedingIndices:!0});return n}},hln=Object.keys(oDe);function pln(e,t){if(!hln.includes(t.type))throw new Error(`Received patch of unsupported type: "${JSON.stringify(t.type)}" for string. This is most likely a bug.`);if(t.path.length>0)throw new Error(`Cannot apply deep operations on string values. Received patch with type "${t.type}" and path "${t.path.join(".")} that targeted the value "${JSON.stringify(e)}"`);return oDe[t.type](e,t.value)}function eY(e,t){return t.reduce(tY,e)}function mln(e,t){return Array.isArray(e)?uln(e,t):pO(e)?pln(e,t):BI(e)?cln(e,t):fln(e,t)}function tY(e,t){return mln(e,t)}function gln(e){const t=f.useMemo(()=>({actions:e.actions||cn}),[e.actions]);return u.jsx(rpe.Provider,{value:t,children:e.children})}function rM(){const e=f.useContext(rpe);if(!e)throw new Error("useDocumentFieldActions must be used within a DocumentFieldActionsProvider");return e.actions}function Pc(e,t){return t.name===e||!!(t.type&&Pc(e,t.type))}function oI(e,t){if(!e||!t)return!0;const n=Array.isArray(t)?t:t.split(","),r=e.name||"",i=(e.type||"").toLowerCase(),a=i.replace(/\/.*$/,"");return n.some(o=>{const s=o.trim().toLowerCase();return s.charAt(0)==="."?r?r.toLowerCase().endsWith(s):!0:s.endsWith("/*")?a===s.replace(/\/.*$/,""):i===s})}const sDe=4;function Tle(e,t){const n=e.indexOf(t);return n>-1&&e.splice(n,1),e}function vln(e,t=sDe){const n=yln(t);return(...r)=>ar(n(e(...r)))}function yln(e=sDe){const t=[],n=[],r=new Mr;return i;function i(s){return new Mt(l=>{if(t.length>=e)return a(s).pipe(It(i)).subscribe(l);const c=s.subscribe(l);return t.push(c),()=>{Tle(t,c),Tle(n,s),c.unsubscribe(),o()}})}function a(s){return n.push(s),r.asObservable().pipe(XCe(l=>l===s))}function o(){for(;n.length>0&&t.length<e;)r.next(n.shift())}}const bln=4;function xln(e,t,n,r={}){const i=r.metadata,a=r.storeOriginalFilename,{label:o,title:s,description:l,creditLine:c,source:d}=r;return Eln(n).pipe(Cn(()=>xe(null)),It(h=>h?Sln(e,`sanity.${t}Asset`,h):xe(null)),It(h=>h?xe({type:"complete",id:h._id,asset:h}):e.observable.assets.upload(t,n,{tag:"asset.upload",extract:i,preserveFilename:a,label:o,title:s,description:l,creditLine:c,source:d}).pipe(de(p=>p.type==="response"?{type:"complete",id:p.body.document._id,asset:p.body.document}:p))))}const lDe=vln(xln,bln),wln=(e,t,n)=>lDe(e,"image",t,n),Cln=(e,t,n)=>lDe(e,"file",t,n);function uDe(e,t){return e.observePaths({_type:"reference",_ref:t},["originalFilename","url","metadata","label","title","description","creditLine","source","size"]).pipe(mt(n=>{if(n===null)throw new Error(`No asset found in documentPreviewStore with id: ${t}`);return xe(n)}),hht({count:5,delay:1e3}),Cn(n=>(console.error("Final error after retries, asset not found in documentPreviewStore:",n),xe(null))))}function cDe(e,t){return uDe(e,t)}function dDe(e,t){return uDe(e,t)}function Sln(e,t,n){return e.observable.fetch("*[_type == $documentType && sha1hash == $hash][0]",{documentType:t,hash:n},{tag:"asset.find-duplicate"})}function _ln(e){return new Mt(t=>{const n=new FileReader;return n.onload=()=>{t.next(n.result),t.complete()},n.onerror=r=>{t.error(r)},n.readAsArrayBuffer(e),()=>{n.abort()}})}function Eln(e){return!window.crypto||!window.crypto.subtle||!window.FileReader?xe(null):_ln(e).pipe(It(t=>crypto.subtle.digest("SHA-1",t)),de(kln))}function kln(e){return Array.prototype.map.call(new Uint8Array(e),t=>`00${t.toString(16)}`.slice(-2)).join("")}const Iu="_upload",Tln=pt([Iu]);function wg(e=[]){return{type:"uploadProgress",patches:e}}const fDe=wg([Tln]);function hDe(e){const t=new Date().toISOString(),n={progress:2,createdAt:t,updatedAt:t,file:{name:e.name,type:e.type}};return wg([st(n,[Iu])])}function pDe(e,t,n){const r=Cln(e,t,n).pipe(de(i=>i.type==="complete"?wg([st({_type:"reference",_ref:i.asset._id},["asset"]),st(100,[Iu,"progress"]),st(new Date().toISOString(),[Iu,"updated"])]):wg([st(i.percent,[Iu,"progress"]),st(new Date().toISOString(),[Iu,"updated"])])));return Ai(xe(hDe(t)),r,xe(fDe))}function Ale(e){return[5,6,7,8].indexOf(e)>-1}function Aln(e,t){const n=t.x,r=t.y,i=(t.degrees||0)*(Math.PI/180);e==null||e.translate(n,r),e==null||e.rotate(i),e==null||e.translate(-n,-r)}function jle(e,t,n){const r=e.getContext("2d");r==null||r.translate(t?e.width:0,n?e.height:0),r==null||r.scale(t?-1:1,n?-1:1)}const jln=[{op:"none",degrees:0},{op:"flip-x",degrees:0},{op:"none",degrees:180},{op:"flip-y",degrees:0},{op:"flip-x",degrees:90},{op:"none",degrees:90},{op:"flip-x",degrees:-90},{op:"none",degrees:-90}],Iln=["top-left","top-right","bottom-right","bottom-left","left-top","right-top","right-bottom","left-bottom"],Dln="top-left",$ln=120;function Oln(e,t){const n=jln[t-1],r=e.height/e.width;e.width=$ln/r,e.height=e.width*r;const i=document.createElement("canvas"),a=i.getContext("2d");if(Ale(t)?(i.height=e.width,i.width=e.height):(i.width=e.width,i.height=e.height),n.op==="flip-x"&&jle(i,!0,!1),n.op==="flip-y"&&jle(i,!1,!0),n.degrees&&(Aln(a,{degrees:n.degrees,x:i.width/2,y:i.height/2}),Ale(t))){const o=i.width-i.height;a==null||a.translate(o/2,-o/2)}return a==null||a.drawImage(e,0,0,e.width,e.height),i}function Mln(e,t){return new Mt(n=>{const r=Iln.indexOf(t)+1,i=Oln(e,r);n.next(i.toDataURL("image/jpeg",.1)),n.complete()})}function Rln(e,t){return new Mt(n=>{const r=new window.FileReader;return r.onerror=i=>n.error(i),r.onload=()=>{n.next(r.result),n.complete()},r.readAsArrayBuffer(e.slice(0,t)),()=>r.abort()})}const Pln=/(invalid image format)|(No exif data)/i,Fln=128e3;function Nln(e){return ar(Rln(e,Fln)).pipe(de(t=>Unn(t)),Cn(t=>(Pln.test(t.message)||console.warn(`Exif read failed, continuing anyway: ${t.message}`),xe({}))))}function Lln(e){return new Mt(t=>{const n=new window.Image;return n.onerror=()=>{t.error(new Error(`Could not load image from url "${e}". Image may be of an unsupported format`))},n.onload=()=>{t.next(n),t.complete()},n.src=e,()=>{}})}function Bln(e,t){return Lln(window.URL.createObjectURL(e)).pipe(It(n=>Mln(n,t)))}function Vln(e,t,n){const r=wln(e,t,n).pipe($t(a=>a.stage!=="download"),de(a=>({...a,progress:2+a.percent/100*98})),de(a=>a.type==="complete"?wg([st({_type:"reference",_ref:a.asset._id},["asset"]),st(100,[Iu,"progress"]),st(new Date().toISOString(),[Iu,"updatedAt"])]):wg([st(a.percent,[Iu,"progress"]),st(new Date().toISOString(),[Iu,"updatedAt"])]))),i=Nln(t).pipe(It(a=>Bln(t,a.orientation||Dln)),Cn(a=>(console.warn('Image preprocessing failed for "%s" with the error: %s',t.name,a.message),xe(null))),$t(Boolean),de(a=>wg([st(a,[Iu,"previewImage"])])));return Ai(xe(hDe(t)),Mn(r,i),xe(fDe))}const zln={type:"image",accepts:"image/*",upload:(e,t,n,r)=>Vln(e,t,r)},Uln={type:"file",accepts:"",upload:(e,t,n,r)=>pDe(e,t,r)},Hln={type:"string",accepts:"text/*",upload:(e,t,n,r)=>pDe(e,t,r).pipe(de(i=>({type:"uploadProgress",patches:[st(i)]})))},Wln=[zln,Hln,Uln].map((e,t)=>({...e,priority:t}));function nY(e,t){return Wln.find(n=>{var r;return Pc(n.type,e)&&oI(t,n.accepts)&&oI(t,((r=e.options)==null?void 0:r.accept)||"")})||null}function Gln(e){const{onPathBlur:t,onPathFocus:n,onChange:r,onSetPathCollapsed:i,onSetFieldSetCollapsed:a,onPathOpen:o,onFieldGroupSelect:s}=gu(),{member:l,renderAnnotation:c,renderBlock:d,renderField:h,renderInlineBlock:p,renderInput:m,renderItem:g,renderPreview:v}=e,b=rM(),y=f.useRef(),x=f.useRef({});$o(l.field.focused,(ae,ne)=>{var se;!ae&&ne&&((se=y.current)==null||se.focus())});const w=f.useCallback(ae=>{ae.currentTarget===ae.target&&ae.currentTarget===y.current&&n(l.field.path)},[l.field.path,n]),C=f.useCallback(ae=>{ae.currentTarget===ae.target&&ae.currentTarget===y.current&&t(l.field.path)},[l.field.path,t]),S=f.useRef(l.field.value);f.useEffect(()=>{S.current=l.field.value},[l.field.value]);const _=f.useCallback(ae=>{const ne=jt.from(ae).patches;if(ne.some(se=>se.type==="unset"&&se.path.length===1)&&(S.current=eY(S.current||[],ne),Array.isArray(S.current)&&!S.current.length)){r(jt.from(pt([l.name])));return}r(jt.from(ae).prepend(Ts([])).prefixAll(l.name))},[r,l.name,S]),E=PY(),k=Pr(),T=f.useCallback(()=>{i(l.field.path,!0)},[i,l.field.path]),j=f.useCallback(()=>{i(l.field.path,!1)},[i,l.field.path]),I=f.useCallback(ae=>{i(l.field.path.concat({_key:ae}),!0)},[i,l.field.path]),A=f.useCallback(ae=>{i(l.field.path.concat({_key:ae}),!1)},[i,l.field.path]),$=f.useCallback(ae=>{o(ae),i(ae,!1)},[o,i]),D=f.useCallback(()=>{o(l.field.path),i(l.field.path,!0)},[o,l.field.path,i]),M=f.useCallback(ae=>{if(ae.items.length===0)throw new Error("Insert event should include at least one item");const ne=ae.items.map(ge=>xT(ge));_(jt.from([Qh(ne,ae.position,[ae.referenceItem])]));const se=ne[0]._key,le=[...l.field.path,{_key:se}];n(le);const oe=ae.open!==!1;ae.skipInitialValue?oe&&$(le):nDe(ne,l.field.schemaType,E).pipe(Qn(ge=>{ge.type==="patch"?_(ge.patches):k.push({title:"Could not resolve initial value",description:`Unable to resolve initial value for type: ${ge.schemaType.title}: ${ge.error.message}.`,status:"error"})})).subscribe({complete:()=>{oe&&$(le)}})},[_,$,l.field.path,l.field.schemaType,n,E,k]),O=f.useCallback(ae=>{const ne=l.field.value,se=ne==null?void 0:ne[ae.fromIndex],le=ne==null?void 0:ne[ae.toIndex];if(ae.fromIndex!==ae.toIndex){if(!(se!=null&&se._key)||!(le!=null&&le._key)){console.error("Neither the item you are moving nor the item you are moving to have a key. Cannot continue.");return}_([pt([{_key:se._key}]),Qh([se],ae.fromIndex>ae.toIndex?"before":"after",[{_key:le._key}])])}},[_,l.field.value]),F=f.useCallback(ae=>{_([Ts([]),Qh([xT(ae)],"before",[0])])},[_]),P=f.useCallback(ae=>{_([Ts([]),Qh([xT(ae)],"after",[-1])])},[_]),V=f.useCallback(ae=>{x.current[ae]&&(x.current[ae].unsubscribe(),delete x.current[ae]),_([pt([{_key:ae}])])},[_]),H=f.useCallback((ae,ne)=>{n(l.field.path.concat(ae),ne)},[l.field.path,n]),W=f.useMemo(()=>({onBlur:C,onFocus:w,id:l.field.id,ref:y,"aria-describedby":im(l.field.id,l.field.schemaType.description)}),[C,w,l.field.id,l.field.schemaType.description]),G=Zt(Gt),X=pd(),z=X.__internal.image.directUploads,q=X.__internal.file.directUploads,Z=f.useCallback((ae,ne)=>Pc("image",ae)&&!z||Pc("file",ae)&&!q?null:nY(ae,ne),[q,z]),K=f.useCallback(({file:ae,schemaType:ne,uploader:se})=>{const le=Hb(ne),oe=le._key;M({items:[le],position:"after",referenceItem:-1,open:!1});const ge={metadata:Jn(ne,"options.metadata"),storeOriginalFilename:Jn(ne,"options.storeOriginalFilename")},_e=se.upload(G,ae,ne,ge).pipe(de(Me=>jt.from(Me.patches||[]).prefixAll({_key:oe})),Qn(Me=>_(Me.patches)));x.current={...x.current,[oe]:_e.subscribe()}},[G,_,M]),J=f.useMemo(()=>({level:l.field.level,members:l.field.members,value:l.field.value,readOnly:l.field.readOnly,schemaType:l.field.schemaType,changed:l.field.changed,id:l.field.id,onItemExpand:A,onItemCollapse:I,onItemClose:D,onItemOpen:$,focusPath:l.field.focusPath,focused:l.field.focused,path:l.field.path,onChange:_,onInsert:M,onItemMove:O,onItemRemove:V,onItemAppend:P,onItemPrepend:F,onPathFocus:H,resolveInitialValue:E,onUpload:K,resolveUploader:Z,validation:l.field.validation,presence:l.field.presence,renderAnnotation:c,renderBlock:d,renderInlineBlock:p,renderInput:m,renderField:h,renderItem:g,renderPreview:v,elementProps:W}),[l.field.level,l.field.members,l.field.value,l.field.readOnly,l.field.schemaType,l.field.changed,l.field.id,l.field.focusPath,l.field.focused,l.field.path,l.field.validation,l.field.presence,A,I,D,$,_,M,O,V,P,F,H,E,K,Z,c,d,p,m,h,g,v,W]),Q=f.useMemo(()=>m(J),[J,m]),re=f.useMemo(()=>({actions:b,name:l.name,index:l.index,level:l.field.level,value:l.field.value,title:l.field.schemaType.title,description:l.field.schemaType.description,collapsible:l.collapsible,collapsed:l.collapsed,changed:l.field.changed,onCollapse:T,onExpand:j,schemaType:l.field.schemaType,inputId:l.field.id,path:l.field.path,presence:l.field.presence,validation:l.field.validation,children:Q,inputProps:J}),[b,l.name,l.index,l.field.level,l.field.value,l.field.schemaType,l.field.changed,l.field.id,l.field.path,l.field.presence,l.field.validation,l.collapsible,l.collapsed,T,j,Q,J]);return u.jsx(w_,{onFieldGroupSelect:s,onChange:_,onSetFieldSetCollapsed:a,onSetPathCollapsed:i,onPathOpen:o,onPathBlur:t,onPathFocus:n,children:f.useMemo(()=>h(re),[re,h])})}function Yln(e,t){return new Mt(n=>{const r=new FileReader;return r.onerror=i=>n.error(i),r.onload=()=>{n.next(r.result),n.complete()},r.readAsText(e,t),()=>{r.abort()}})}function qln(e,t,n){const r=e.slice(),i=r[t];return r.splice(t,1),r.splice(n,0,i),r}function Kln(e,t,n){const r=t.slice();return r.splice(e+1,0,...n),r}function Zln(e){return/^\d+$/.test(e)}function Xln(e,t){let n=!1,r=!1,i=!1;return t.forEach(a=>{n2(a)&&(n=!0),F9(a)&&(i=!0),vp(a)&&(r=!0)}),n&&(e==="true"||e==="false")?e==="true":r&&Zln(e)?Number(e):i?e:void 0}function Jln(e){return{priority:0,accepts:"text/*",type:"string",upload(t,n){return Yln(n,"utf-8").pipe(de(r=>r==null?void 0:r.split(/[\n\r]/).map(i=>Xln(i,e)).filter(i=>i!==void 0)),$t(r=>Array.isArray(r)),de(r=>({type:"uploadProgress",patches:[Qh(r,"after",[-1])]})))}}}function Qln(e){const{onPathBlur:t,onPathFocus:n,onChange:r,onPathOpen:i,onSetPathCollapsed:a,onSetFieldSetCollapsed:o,onFieldGroupSelect:s}=gu(),{member:l,renderAnnotation:c,renderBlock:d,renderField:h,renderInlineBlock:p,renderInput:m,renderItem:g,renderPreview:v}=e,b=rM(),y=f.useRef(),x=f.useRef(),w=Zt(Gt);$o(l.field.focused,(z,q)=>{var Z;!z&&q&&((Z=y.current)==null||Z.focus())});const C=f.useCallback(z=>{z.currentTarget===z.target&&z.currentTarget===y.current&&n(l.field.path)},[l.field.path,n]),S=f.useCallback(z=>{z.currentTarget===z.target&&z.currentTarget===y.current&&t(l.field.path)},[l.field.path,t]),_=f.useCallback(z=>{const q=jt.from(z).patches;if(q.some(Z=>Z.type==="unset"&&Z.path.length===1)){const Z=eY(l.field.value||[],q);if(Array.isArray(Z)&&!Z.length){r(jt.from(pt([l.name])));return}}r(jt.from(z).prepend(Ts([])).prefixAll(l.name))},[r,l.name,l.field.value]),E=f.useCallback(z=>{a(l.field.path,z)},[a,l.field.path]),k=f.useCallback(()=>{a(l.field.path,!0)},[a,l.field.path]),T=f.useCallback(()=>{a(l.field.path,!1)},[a,l.field.path]),j=f.useCallback(z=>{_(z.length===0?pt():st(z))},[_]),I=f.useCallback(z=>{const{value:q=[]}=l.field;z.fromIndex!==z.toIndex&&j(qln(q,z.fromIndex,z.toIndex))},[l.field,j]),A=f.useCallback(z=>{const{value:q=[]}=l.field;j(q.concat(z))},[l.field,j]),$=f.useCallback(z=>{const{value:q=[]}=l.field;j([z].concat(q||[]))},[l.field,j]),D=f.useCallback(z=>{const{value:q=[]}=l.field,Z=z.referenceIndex+(z.position==="before"?-1:0);j(Kln(Z,q,z.items))},[l.field,j]),M=f.useCallback(z=>{_(pt([z]))},[_]),O=f.useCallback(z=>{n(l.field.path.concat([z]))},[l.field.path,n]),F=f.useMemo(()=>({onBlur:S,onFocus:C,id:l.field.id,ref:y,"aria-describedby":im(l.field.id,l.field.schemaType.description)}),[S,C,l.field.id,l.field.schemaType.description]),P=f.useMemo(()=>Jln(l.field.schemaType.of),[l.field.schemaType.of]),V=f.useCallback((z,q)=>oI(q,"text/*")?P:null,[P]),H=f.useCallback(({file:z,schemaType:q,uploader:Z})=>{const K=Z.upload(w,z,q).pipe(de(J=>jt.from(J.patches||[])),Qn(J=>_(J.patches)));x.current&&x.current.unsubscribe(),x.current=K.subscribe()},[w,_]),W=f.useMemo(()=>({level:l.field.level,members:l.field.members,value:l.field.value,readOnly:l.field.readOnly,onSetCollapsed:E,schemaType:l.field.schemaType,changed:l.field.changed,id:l.field.id,elementProps:F,path:l.field.path,focusPath:l.field.focusPath,focused:l.field.focused,onChange:_,onInsert:D,onMoveItem:I,onItemRemove:M,onItemAppend:A,onItemPrepend:$,validation:l.field.validation,presence:l.field.presence,resolveUploader:V,onUpload:H,renderAnnotation:c,renderBlock:d,renderInlineBlock:p,renderInput:m,renderItem:g,onIndexFocus:O,renderPreview:v}),[l.field.level,l.field.members,l.field.value,l.field.readOnly,l.field.schemaType,l.field.changed,l.field.id,l.field.path,l.field.focusPath,l.field.focused,l.field.validation,l.field.presence,E,F,_,D,I,M,A,$,V,H,c,d,p,m,g,O,v]),G=f.useMemo(()=>m(W),[W,m]),X=f.useMemo(()=>({actions:b,name:l.name,index:l.index,level:l.field.level,value:l.field.value,title:l.field.schemaType.title,description:l.field.schemaType.description,collapsible:l.collapsible,collapsed:l.collapsed,onExpand:T,changed:l.field.changed,onCollapse:k,schemaType:l.field.schemaType,inputId:l.field.id,path:l.field.path,presence:l.field.presence,validation:l.field.validation,children:G,inputProps:W}),[b,l.name,l.index,l.field.level,l.field.value,l.field.schemaType,l.field.changed,l.field.id,l.field.path,l.field.presence,l.field.validation,l.collapsible,l.collapsed,T,k,G,W]);return u.jsx(w_,{onFieldGroupSelect:s,onChange:_,onPathOpen:i,onSetFieldSetCollapsed:o,onSetPathCollapsed:a,onPathBlur:t,onPathFocus:n,children:f.useMemo(()=>h(X),[X,h])})}function mDe(e){return Bi(e.field.schemaType)}function eun(e){return Is(e.field.schemaType)&&e.field.schemaType.of.every(t=>MI(t))}function rY(e){return Is(e.field.schemaType)&&e.field.schemaType.of.every(t=>Bi(t))}const tun=function(e){const{onPathBlur:t,onPathFocus:n,onChange:r,onPathOpen:i,onSetPathCollapsed:a,onSetFieldSetCollapsed:o,onFieldGroupSelect:s}=gu(),{member:l,renderAnnotation:c,renderBlock:d,renderField:h,renderInlineBlock:p,renderInput:m,renderItem:g,renderPreview:v}=e,b=rM(),y=f.useRef(),x=f.useRef(l.field.value);f.useEffect(()=>{x.current=l.field.value},[l.field.value]),$o(l.field.focused,(G,X)=>{var z;!G&&X&&((z=y.current)==null||z.focus())});const w=f.useCallback(()=>{t(l.field.path)},[l.field.path,t]),C=f.useCallback(()=>{n(l.field.path)},[l.field.path,n]),S=f.useCallback(G=>{n(l.field.path.concat(G))},[l.field.path,n]),_=f.useCallback(G=>{if(l.field.path.length!==0){const X=jt.from(G).patches;if(x.current=eY(x.current||{},X),x.current&&q5t(x.current)){r(jt.from(pt([l.name])));return}}r(jt.from(G).prepend(Ts(XG(l.field.schemaType))).prefixAll(l.name))},[r,l,x]),E=f.useCallback(()=>{a(l.field.path,!0)},[a,l.field.path]),k=f.useCallback(()=>{a(l.field.path,!1)},[a,l.field.path]),T=f.useCallback(G=>{a(l.field.path.concat(G),!0)},[a,l.field.path]),j=f.useCallback(G=>{a(l.field.path.concat(G),!1)},[a,l.field.path]),I=f.useCallback(G=>{i(l.field.path.concat(G))},[i,l.field.path]),A=f.useCallback(()=>{i(l.field.path)},[i,l.field.path]),$=f.useCallback(G=>{o(l.field.path.concat(G),!1)},[o,l.field.path]),D=f.useCallback(G=>{o(l.field.path.concat(G),!0)},[o,l.field.path]),M=f.useCallback(()=>{i(l.field.path)},[i,l.field.path]),O=f.useCallback(()=>{i(l.field.path.slice(0,-1))},[i,l.field.path]),F=f.useCallback(G=>{s(l.field.path,G)},[s,l.field.path]),P=f.useMemo(()=>({onBlur:w,onFocus:C,id:l.field.id,ref:y,"aria-describedby":im(l.field.id,l.field.schemaType.description)}),[w,C,l.field.id,l.field.schemaType.description]),V=f.useMemo(()=>({elementProps:P,level:l.field.level,members:l.field.members,value:l.field.value,readOnly:l.field.readOnly,validation:l.field.validation,presence:l.field.presence,schemaType:l.field.schemaType,changed:l.field.changed,id:l.field.id,onFieldGroupSelect:F,onFieldOpen:I,onFieldClose:A,onFieldCollapse:T,onFieldExpand:j,onFieldSetExpand:$,onFieldSetCollapse:D,onPathFocus:S,path:l.field.path,focusPath:l.field.focusPath,focused:l.field.focused,groups:l.field.groups,onChange:_,renderAnnotation:c,renderBlock:d,renderField:h,renderInlineBlock:p,renderInput:m,renderItem:g,renderPreview:v}),[P,l.field.level,l.field.members,l.field.value,l.field.readOnly,l.field.validation,l.field.presence,l.field.schemaType,l.field.changed,l.field.id,l.field.path,l.field.focusPath,l.field.focused,l.field.groups,F,I,A,T,j,$,D,S,_,c,d,h,p,m,g,v]),H=f.useMemo(()=>m(V),[V,m]),W=f.useMemo(()=>({actions:b,name:l.name,index:l.index,level:l.field.level,value:l.field.value,validation:l.field.validation,presence:l.field.presence,title:l.field.schemaType.title,description:l.field.schemaType.description,collapsible:l.collapsible,collapsed:l.collapsed,onCollapse:E,onExpand:k,open:l.open,changed:l.field.changed,onOpen:M,onClose:O,schemaType:l.field.schemaType,inputId:l.field.id,path:l.field.path,children:H,inputProps:V}),[b,l.name,l.index,l.field.level,l.field.value,l.field.validation,l.field.presence,l.field.schemaType,l.field.changed,l.field.id,l.field.path,l.collapsible,l.collapsed,l.open,E,k,M,O,H,V]);return u.jsx(w_,{onFieldGroupSelect:s,onChange:_,onSetFieldSetCollapsed:o,onPathOpen:i,onSetPathCollapsed:a,onPathBlur:t,onPathFocus:n,children:f.useMemo(()=>h(W),[W,h])})};function nun(e){const{member:t,renderInput:n,renderField:r}=e,i=rM(),a=f.useRef(),[o,s]=f.useState(),{onPathBlur:l,onPathFocus:c,onChange:d}=gu();f.useEffect(()=>{var C;t.field.focused&&((C=a.current)==null||C.focus())},[t.field.focused]);const h=f.useCallback(()=>{l(t.field.path)},[t.field.path,l]),p=f.useCallback(()=>{c(t.field.path)},[t.field.path,c]),m=f.useCallback(C=>{d(jt.from(C).prefixAll(t.name))},[d,t.name]),g=f.useCallback(C=>{let S=C.currentTarget.value;if(vp(t.field.schemaType)){if(S=C.currentTarget.valueAsNumber,S>Number.MAX_SAFE_INTEGER||S<Number.MIN_SAFE_INTEGER)return}else n2(t.field.schemaType)&&(S=C.currentTarget.checked);const _=S===""||typeof S=="number"&&isNaN(S);vp(t.field.schemaType)&&s(_?void 0:C.currentTarget.value),d(jt.from(_?pt():st(S)).prefixAll(t.name))},[t.name,t.field.schemaType,d]),v=f.useMemo(()=>t.field.validation.filter(C=>C.level==="error").map(C=>C.message).join(`
`),[t.field.validation])||void 0,b=f.useMemo(()=>({onBlur:h,onFocus:p,id:t.field.id,ref:a,onChange:g,value:iDe(t.field.schemaType,t.field.value,o),readOnly:!!t.field.readOnly,placeholder:t.field.schemaType.placeholder,"aria-describedby":im(t.field.id,t.field.schemaType.description)}),[h,p,g,t.field.id,t.field.readOnly,t.field.schemaType,t.field.value,o]),y=f.useMemo(()=>({value:t.field.value,readOnly:t.field.readOnly,schemaType:t.field.schemaType,changed:t.field.changed,id:t.field.id,path:t.field.path,focused:t.field.focused,level:t.field.level,onChange:m,validation:t.field.validation,presence:t.field.presence,validationError:v,elementProps:b}),[t.field.value,t.field.readOnly,t.field.schemaType,t.field.changed,t.field.id,t.field.path,t.field.focused,t.field.level,t.field.validation,t.field.presence,m,v,b]),x=f.useMemo(()=>n(y),[y,n]),w=f.useMemo(()=>({actions:i,changed:t.field.changed,children:x,description:t.field.schemaType.description,index:t.index,inputId:t.field.id,inputProps:y,level:t.field.level,name:t.name,path:t.field.path,presence:t.field.presence,schemaType:t.field.schemaType,title:t.field.schemaType.title,validation:t.field.validation,value:t.field.value}),[i,t.field.level,t.field.value,t.field.schemaType,t.field.id,t.field.path,t.field.validation,t.field.presence,t.field.changed,t.name,t.index,x,y]);return u.jsx(u.Fragment,{children:r(w)})}const C_=f.memo(function(e){const{member:t,renderAnnotation:n,renderBlock:r,renderField:i,renderInlineBlock:a,renderInput:o,renderItem:s,renderPreview:l}=e;return mDe(t)?u.jsx(tun,{member:t,renderAnnotation:n,renderBlock:r,renderField:i,renderInlineBlock:a,renderInput:o,renderItem:s,renderPreview:l}):eun(t)?u.jsx(Qln,{member:t,renderAnnotation:n,renderBlock:r,renderField:i,renderInput:o,renderInlineBlock:a,renderItem:s,renderPreview:l}):rY(t)?u.jsx(Gln,{member:t,renderAnnotation:n,renderBlock:r,renderField:i,renderInlineBlock:a,renderInput:o,renderItem:s,renderPreview:l}):u.jsx(nun,{member:t,renderField:i,renderInput:o})}),gl=!1,run={warning:"caution",error:"critical"},iun=R(L)`
  border-top: 1px solid var(--card-border-color);
`;function ac(e){const{children:t,status:n="warning",suffix:r,title:i,...a}=e;return u.jsxs(te,{radius:2,tone:run[n],...a,"data-ui":"Alert",children:[u.jsxs(U,{padding:4,children:[u.jsx(L,{children:u.jsxs(N,{size:1,children:[n==="warning"&&u.jsx(fr,{}),n==="error"&&u.jsx(Ea,{})]})}),u.jsxs(L,{flex:1,marginLeft:3,children:[u.jsx(N,{size:1,weight:"medium",children:i}),t&&u.jsx(L,{marginTop:3,children:t})]})]}),r&&u.jsx(iun,{children:r})]})}const aun=R.button`
  display: block;
  -webkit-font-smoothing: inherit;
  appearance: none;
  font: inherit;
  background: none;
  width: 100%;
  text-align: left;
  border: 0;
  margin: 0;
  padding: 0;
  outline: none;
`,oun=R(l2)`
  transform: ${e=>e.open?"rotate(90deg)":""};
`,sun=R(U)`
  cursor: default;
`,lun=R(L)`
  & > div > svg {
    transform: rotate(0);
    transition: transform 100ms;
  }

  &[data-open] > div > svg {
    transform: rotate(90deg);
  }
`;function H0(e){const{children:t,open:n,icon:r,title:i="Details",...a}=e,[o,s]=f.useState(n||!1),l=f.useCallback(()=>s(c=>!c),[]);return f.useEffect(()=>s(n||!1),[n]),u.jsxs(L,{...a,children:[u.jsx(aun,{type:"button",onClick:l,children:u.jsx(sun,{align:"center",children:u.jsxs(An,{children:[u.jsx(lun,{"data-open":o?"":void 0,children:u.jsx(N,{size:1,children:u.jsx(oun,{open:o})})}),r&&u.jsx(L,{marginLeft:1,children:r}),u.jsx(L,{flex:1,marginLeft:1,children:u.jsx(N,{size:1,weight:"medium",children:i})})]})})}),u.jsx(L,{hidden:!o,marginTop:3,children:t})]})}const gDe=["yes","true","1"],vDe=["false","no","false","0","null"],uun=gDe.concat(vDe),Fk=()=>!0,cun=e=>t=>t&&t[e],dun=e=>t=>(t&&t._type)===e;function fun(e){const t=new Date(e.getTime()+e.getTimezoneOffset()*60*1e3),n=e.getTimezoneOffset()/60,r=e.getHours();return t.setHours(r-n),t}function hun(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}return null}const DF={string:{number:{test:Number,convert:Number},boolean:{test:e=>uun.includes(e.toLowerCase()),convert:e=>gDe.includes(e.toLowerCase())||!vDe.includes(e.toLowerCase())},richDate:{test:e=>kf(e),convert:e=>({_type:"richDate",local:fun(new Date(e)).toJSON(),utc:new Date(e).toJSON(),timezone:hun(),offset:new Date().getTimezoneOffset()})}},date:{richDate:{test:dun("date"),convert:e=>Object.assign({},e,{_type:"richDate"})}},richDate:{datetime:{test:cun("utc"),convert:e=>e.utc}},number:{string:{test:Fk,convert:String},boolean:{test:Fk,convert:Number}},boolean:{string:{test:Fk,convert:e=>e?"Yes":"No"},number:{test:Fk,convert:Number}}};function pun({value:e,targetType:t,onChange:n}){const r=f.useMemo(()=>({...e,_type:t}),[t,e]),i=f.useCallback(()=>n(jt.from(Ts(t,["_type"])),r),[r,n,t]),{t:a}=Y();return u.jsx(fe,{onClick:i,text:a("inputs.untyped-value.convert-button.text",{targetType:t})})}function mun({value:e,onChange:t,validTypes:n}){const r=f.useMemo(()=>({...e,_type:n[0]}),[n,e]),i=f.useCallback(()=>t(jt.from(pt()),r),[r,t]),{t:a}=Y();return u.jsx(fe,{onClick:i,tone:"critical",text:a("inputs.untyped-value.unset-item-button.text")})}function gun({validTypes:e,value:t,onChange:n}){const r=en(),i=e.length===1,a=r.has(e[0]),{t:o}=Y();return u.jsx(ac,{status:"warning",title:u.jsx(u.Fragment,{children:u.jsx(ht,{t:o,i18nKey:"inputs.untyped-value.title"})}),children:u.jsx(H0,{open:gl,title:o("inputs.untyped-value.details.title"),children:u.jsxs(ee,{space:3,children:[u.jsx(N,{as:"p",muted:!0,size:1,children:u.jsx(ht,{t:o,i18nKey:"inputs.untyped-value.description"})}),i&&!a&&u.jsx(N,{as:"p",muted:!0,size:1,children:u.jsx(ht,{t:o,i18nKey:"inputs.untyped-value.details.description"})}),!i&&u.jsx(N,{as:"p",muted:!0,size:1,children:o("inputs.untyped-value.details.multi-type-description")}),!i&&u.jsx(ee,{as:"ul",space:2,children:e.map(s=>u.jsx(N,{as:"li",muted:!0,size:1,children:u.jsx("code",{children:s})},s))}),u.jsxs(ee,{space:2,children:[u.jsx(N,{as:"h4",weight:"medium",size:1,children:o("inputs.untyped-value.details.json-dump-prefix")}),u.jsx(te,{border:!0,overflow:"auto",padding:2,radius:2,tone:"inherit",children:u.jsx(fi,{language:"json",children:JSON.stringify(t,null,2)})})]}),u.jsxs(Vn,{columns:[1,2,2],gap:1,children:[i&&u.jsx(pun,{onChange:n,targetType:e[0],value:t}),u.jsx(mun,{onChange:n,validTypes:e,value:t})]})]})})})}function vun(e,t,n){return t in DF?Object.keys(DF[t]).filter(r=>n.includes(r)).map(r=>({from:t,to:r,...DF[t][r]})).filter(r=>r.test(e)):[]}const yDe=f.forwardRef((e,t)=>{const{value:n,actualType:r,validTypes:i,onChange:a}=e;f.useImperativeHandle(t,()=>({focus:()=>{}}));const o=f.useCallback(()=>{a(jt.from(pt()))},[a]),s=f.useCallback(h=>{a(jt.from(st(h)))},[a]),l=f.useMemo(()=>vun(n,r,i),[n,r,i]),{t:c}=Y();if(dr(n)&&!("_type"in n))return u.jsx(gun,{value:n,validTypes:i,onChange:a});const d=u.jsx(ee,{padding:2,children:u.jsx(fe,{onClick:o,tone:"critical",text:c("inputs.invalid-value.reset-button.text")})});return u.jsxs(ac,{status:"error",suffix:d,title:c("inputs.invalid-value.title"),children:[u.jsx(N,{as:"p",muted:!0,size:1,children:c("inputs.invalid-value.description")}),u.jsx(H0,{marginTop:4,open:gl,title:c("inputs.invalid-value.details.title"),children:u.jsxs(ee,{space:3,children:[i.length===1&&u.jsx(N,{as:"p",muted:!0,size:1,children:u.jsx(ht,{t:c,i18nKey:"inputs.invalid-value.details.description",values:{validType:i[0]}})}),i.length===1&&u.jsx(N,{as:"p",muted:!0,size:1,children:c("inputs.invalid-value.details.possible-reason")}),i.length!==1&&u.jsx(N,{as:"p",muted:!0,size:1,children:c("inputs.invalid-value.details.multi-type-description")}),i.length!==1&&u.jsx(ee,{as:"ul",space:2,children:i.map(h=>u.jsx(N,{as:"li",children:u.jsx("code",{children:h})},h))}),u.jsxs(ee,{marginTop:2,space:2,children:[u.jsx(N,{size:1,weight:"medium",children:u.jsx(ht,{t:c,i18nKey:"inputs.invalid-value.current-type",values:{actualType:r}})}),u.jsx(te,{border:!0,padding:2,radius:2,tone:"inherit",children:u.jsx(fi,{language:"json",size:1,children:JSON.stringify(n,null,2)})})]}),l.length>0&&u.jsx(ee,{space:1,children:l.map(h=>u.jsx(yun,{converter:h,onConvert:s,value:n},`${h.from}-${h.to}`))})]})})]})});yDe.displayName="ForwardRef(InvalidValueInput)";function yun({converter:e,onConvert:t,value:n}){const r=f.useCallback(()=>t(e.convert(n)),[e,t,n]),{t:i}=Y();return u.jsx(fe,{onClick:r,text:i("inputs.invalid-value.convert-button.text",{targetType:e.to})})}function bun(e){const{error:t,onChange:n}=e,r=f.useCallback(()=>{n(jt.from((t.duplicates||[]).map(([a,o])=>st(`${o}_deduped_${a}`,[a,"_key"]))))},[t.duplicates,n]),{t:i}=Y();return u.jsx(U0,{title:t.schemaType.title,description:t.schemaType.description,children:u.jsxs(ac,{status:"warning",suffix:u.jsx(ee,{padding:2,children:u.jsx(fe,{onClick:r,text:i("form.error.duplicate-keys-alert.generate-button.text"),tone:"caution"})}),title:i("form.error.duplicate-keys-alert.title"),children:[u.jsx(N,{as:"p",muted:!0,size:1,children:i("form.error.duplicate-keys-alert.summary")}),u.jsx(H0,{marginTop:4,open:gl,title:i("form.error.duplicate-keys-alert.details.title"),children:u.jsxs(ee,{space:3,children:[u.jsx(N,{as:"p",muted:!0,size:1,children:u.jsx(ht,{t:i,i18nKey:"form.error.duplicate-keys-alert.details.description"})}),u.jsx(N,{as:"p",muted:!0,size:1,children:u.jsx(ht,{t:i,i18nKey:"form.error.duplicate-keys-alert.details.additional-description"})})]})})]})})}function xun(e){const{error:t,onChange:n}=e,r=f.useCallback(()=>{n(jt.from((t.value||[]).map((a,o)=>Ts(Y2(),[o,"_key"]))))},[t.value,n]),{t:i}=Y();return u.jsx(U0,{title:t.schemaType.title,description:t.schemaType.description,children:u.jsxs(ac,{status:"warning",suffix:u.jsx(ee,{padding:2,children:u.jsx(fe,{onClick:r,text:i("form.error.missing-keys-alert.add-button.text"),tone:"caution"})}),title:i("form.error.missing-keys-alert.title"),children:[u.jsx(N,{as:"p",muted:!0,size:1,children:i("form.error.missing-keys-alert.summary")}),u.jsx(H0,{marginTop:4,open:gl,title:i("form.error.missing-keys-alert.details.title"),children:u.jsxs(ee,{space:3,children:[u.jsx(N,{as:"p",muted:!0,size:1,children:u.jsx(ht,{t:i,i18nKey:"form.error.missing-keys-alert.details.description"})}),u.jsx(N,{as:"p",muted:!0,size:1,children:u.jsx(ht,{t:i,i18nKey:"form.error.missing-keys-alert.details.additional-description"})})]})})]})})}function wun(e){const{error:t,onChange:n}=e,r=()=>{const a=(t.value||[]).flatMap((o,s)=>dr(o)?[]:[s]).reverse().map(o=>pt([o]));n(jt.from(a))},{t:i}=Y();return u.jsx(U0,{title:t.schemaType.title,description:t.schemaType.description,children:u.jsxs(ac,{status:"error",suffix:u.jsx(ee,{padding:2,children:u.jsx(fe,{onClick:r,text:i("form.error.mixed-array-alert.remove-button.text"),tone:"critical"})}),title:i("form.error.mixed-array-alert.title"),children:[u.jsx(N,{as:"p",muted:!0,size:1,children:i("form.error.mixed-array-alert.summary")}),u.jsx(H0,{marginTop:4,open:gl,title:i("form.error.mixed-array-alert.details.title"),children:u.jsx(ee,{space:3,children:u.jsx(N,{as:"p",muted:!0,size:1,children:i("form.error.mixed-array-alert.details.description")})})})]})})}function iM(e){const{member:t}=e,{onChange:n}=gu(),r=f.useCallback(a=>{n(jt.from(a).prefixAll(t.fieldName))},[n,t.fieldName]),{t:i}=Y();return t.error.type==="INCOMPATIBLE_TYPE"?u.jsx(yDe,{value:t.error.value,onChange:r,actualType:t.error.resolvedValueType,validTypes:[t.error.expectedSchemaType.name]}):t.error.type==="MISSING_KEYS"?u.jsx(xun,{error:t.error,onChange:r}):t.error.type==="DUPLICATE_KEYS"?u.jsx(bun,{error:t.error,onChange:r}):t.error.type==="MIXED_ARRAY"?u.jsx(wun,{onChange:r,error:t.error}):u.jsx(L,{children:i("member-field-error.unexpected-error",{error:e.member.error.type})})}const iY=f.memo(function(e){var t;const{member:n,renderAnnotation:r,renderBlock:i,renderField:a,renderInlineBlock:o,renderInput:s,renderItem:l,renderPreview:c}=e,{onSetFieldSetCollapsed:d}=gu(),h=f.useCallback(()=>{d(n.fieldSet.path,!0)},[n.fieldSet.path,d]),p=f.useCallback(()=>{d(n.fieldSet.path,!1)},[n.fieldSet.path,d]);return u.jsx(nM,{title:n.fieldSet.title||O0(n.fieldSet.name),description:n.fieldSet.description,level:n.fieldSet.level,collapsible:n.fieldSet.collapsible,collapsed:n.fieldSet.collapsed,onCollapse:h,onExpand:p,columns:(t=n==null?void 0:n.fieldSet)==null?void 0:t.columns,"data-testid":`fieldset-${n.fieldSet.name}`,inputId:n.fieldSet.name,children:n.fieldSet.members.map(m=>m.kind==="error"?u.jsx(iM,{member:m},n.key):u.jsx(C_,{member:m,renderAnnotation:r,renderBlock:i,renderField:a,renderInlineBlock:o,renderInput:s,renderItem:l,renderPreview:c},m.key))})}),Cun=f.memo(function(e){const{member:t,renderAnnotation:n,renderBlock:r,renderInput:i,renderInlineBlock:a,renderField:o,renderItem:s,renderPreview:l}=e;return t.kind==="field"?u.jsx(C_,{member:t,renderAnnotation:n,renderBlock:r,renderInlineBlock:a,renderInput:i,renderField:o,renderItem:s,renderPreview:l},t.key):t.kind==="error"?u.jsx(iM,{member:t},t.key):t.kind==="fieldSet"?u.jsx(iY,{member:t,renderAnnotation:n,renderBlock:r,renderInlineBlock:a,renderInput:i,renderField:o,renderItem:s,renderPreview:l},t.key):(console.warn(new Error(`Unhandled member kind ${t.kind}`)),null)});function Sun(e){const{members:t,renderAnnotation:n,renderBlock:r,renderInput:i,renderInlineBlock:a,renderField:o,renderItem:s,renderPreview:l}=e,c=f.useMemo(()=>t.map(d=>u.jsx(Cun,{member:d,renderAnnotation:n,renderBlock:r,renderField:o,renderInlineBlock:a,renderInput:i,renderItem:s,renderPreview:l},d.key)),[t,n,r,o,a,i,s,l]);return u.jsx(u.Fragment,{children:c})}function Ile(e){return Bi(e.schemaType)}function Dle(e){return Is(e.schemaType)}const Xx=({children:e})=>e;function _un(e){return"absolutePath"in e}const aY=f.memo(function(e){const t=f.useMemo(()=>_un(e)?e.absolutePath:e.path.concat(e.relativePath),[e]),n=f.useCallback(()=>u.jsx(u.Fragment,{children:"Missing destination render function"}),[]);return u.jsx(Eun,{...e,absolutePath:t,destinationRenderAnnotation:e.renderAnnotation||n,destinationRenderBlock:e.renderBlock||n,destinationRenderField:e.renderField,destinationRenderInlineBlock:e.renderInlineBlock||n,destinationRenderInput:e.renderInput,destinationRenderItem:e.renderItem,destinationRenderPreview:e.renderPreview})}),Eun=f.memo(function e(t){const{absolutePath:n,destinationRenderAnnotation:r,destinationRenderBlock:i,destinationRenderField:a,destinationRenderInlineBlock:o,destinationRenderInput:s,destinationRenderItem:l,destinationRenderPreview:c}=t,{t:d}=Y(),h=f.useCallback(y=>{if(vr(y.path,n)||Ua(n,y.path))return s(y);if(!Ile(y)&&!Dle(y))throw new Error(`Expected either object input props or array input props for: ${JSON.stringify(y.path)}`);return u.jsx(e,{...y,absolutePath:n,destinationRenderAnnotation:r,destinationRenderBlock:i,destinationRenderInput:s,destinationRenderItem:l,destinationRenderField:a,destinationRenderInlineBlock:o,destinationRenderPreview:c})},[n,r,i,a,o,s,l,c]),p=f.useCallback(y=>Ua(n,y.path)&&(t.includeField||!vr(n,y.path))?a(y):Xx(y),[n,a,t.includeField]),m=f.useCallback(y=>Ua(n,y.path)&&(t.includeItem||!vr(n,y.path))?l(y):Xx(y),[n,l,t.includeItem]),g=f.useCallback(y=>Ua(n,y.path)&&(t.includeItem||!vr(n,y.path))?i(y):Xx(y),[n,i,t.includeItem]),v=f.useCallback(y=>Ua(n,y.path)&&(t.includeItem||!vr(n,y.path))?o(y):Xx(y),[n,o,t.includeItem]),b=f.useCallback(y=>Ua(n,y.path)&&(t.includeItem||!vr(n,y.path))?r(y):Xx(y),[n,r,t.includeItem]);if(Dle(t)){const y=Hw(t.path,n),x=t.members.find(w=>w.kind=="item"&&Pn(y[0])&&w.key===y[0]._key);if(!x){const w=qn(t.path),C=Hw(t.path,n);if(Pn(C[0])){const _=C[0]._key;return u.jsx("div",{children:u.jsx(ht,{t:d,i18nKey:"form.error.no-array-item-at-key",values:{key:_,path:w}})})}const S=Cs(C[0])?C[0]:C[0][0];return u.jsx("div",{children:u.jsx(ht,{t:d,i18nKey:"form.error.no-array-item-at-index",values:{index:S,path:w}})})}return x.kind==="error"?u.jsx(rln,{member:x}):u.jsx(JG,{member:x,renderAnnotation:b,renderBlock:g,renderInput:h,renderField:p,renderInlineBlock:v,renderItem:m,renderPreview:c})}if(Ile(t)){const y=Hw(t.path,n),x=t.members.find(S=>S.kind=="field"&&y[0]===S.name),w=t.members.filter(S=>S.kind==="fieldSet").flatMap(S=>{var _;return S.kind==="fieldSet"&&((_=S.fieldSet)==null?void 0:_.members)||[]}).find(S=>S.kind==="field"&&S.name===y[0]),C=x||w;if(!C){const S=typeof y[0]=="string"?y[0]:JSON.stringify(y[0]);return u.jsx("div",{children:d("form.error.field-not-found",{fieldName:S})})}return u.jsx(C_,{member:C,renderAnnotation:b,renderBlock:g,renderInput:h,renderInlineBlock:v,renderField:p,renderItem:m,renderPreview:c})}throw new Error("FormInput can only be used with arrays or objects")});function aM(e){const t=f.useContext(V9);if(!t)throw new Error("Form context not provided");return t.find(n=>n.key===e)}function kun(){const e=f.useContext(V9);if(!e)throw new Error("Form context not provided");return e}function Tun(e){const{members:t,path:n,schemaType:r,renderAnnotation:i,renderField:a,renderBlock:o,renderInput:s,renderItem:l,renderInlineBlock:c,renderPreview:d,onPathFocus:h}=e,p=f.useRef([]);return f.useMemo(()=>{var m;const g=[];for(const b of t)if(b.kind==="item")if(!JO(b.item.schemaType))g.push({kind:"objectBlock",member:b,node:b.item});else{(b.item.validation.length>0||b.item.changed||(m=b.item.presence)!=null&&m.length||b.open||b.item.focusPath.length||b.item.focused)&&g.push({kind:"textBlock",member:b,node:b.item});const y=b.item.members.find(w=>w.kind==="field"&&w.name==="children");if(y&&y.kind==="field"&&rY(y))for(const w of y.field.members)w.kind==="item"&&w.item.schemaType.name!=="span"&&g.push({kind:"inlineObject",member:w,node:w.item});const x=b.item.members.filter(yon).find(w=>w.name==="markDefs");if(x)for(const w of x.field.members)w.kind==="item"&&w.item.schemaType.jsonType==="object"&&g.push({kind:"annotation",member:w,node:w.item})}const v=g.map(b=>{const y=qn(b.node.path),x=p.current.find(S=>S.key===y),w=b.kind!=="textBlock";let C=null;if(w&&b.member!==(x==null?void 0:x.member)||b.node!==(x==null?void 0:x.node)){const S=j=>({...j.elementProps,onFocus:()=>{}}),_=j=>{const I=b.member.item.path.concat(j);j.length!==0&&h(I.slice(n.length,I.length))},E=j=>I=>{if(I.type==="unset"&&I.path.length===0){j.onChange(st({_type:b.member.item.schemaType.name,_key:b.member.key},I.path));return}j.onChange(I)},k=j=>vr(j.path,b.member.item.path)?s({...j,onChange:E(j),onPathFocus:_,elementProps:S(j)}):s(j),T={absolutePath:Wc(b.node.path),includeField:!1,members:t,path:Wc(n),renderAnnotation:i,renderBlock:o,renderField:a,renderInlineBlock:c,renderInput:k,renderItem:l,renderPreview:d,schemaType:r};C=u.jsx(aY,{...T})}return x?(x.member=b.member,x.node=b.node,x.input=C||x.input,x):{kind:b.kind,key:y,member:b.member,node:b.node,elementRef:f.createRef(),input:C}});return p.current=v,v},[t,h,n,i,o,a,c,s,l,d,r])}const Aun=R.span(e=>{var t,n,r,i;const{$toneKey:a="default",theme:o}=e;return ce`
      text-decoration: none;
      display: inline;
      background-color: ${(t=o.sanity.color.selectable)==null?void 0:t[a].enabled.bg};
      border-bottom: 1px dashed ${(n=o.sanity.color.selectable)==null?void 0:n[a].enabled.fg};
      color: ${(r=o.sanity.color.selectable)==null?void 0:r[a].enabled.fg};

      &[data-link] {
        border-bottom: 1px solid ${(i=o.sanity.color.selectable)==null?void 0:i[a].enabled.fg};
      }

      &[data-custom-markers] {
        background-color: ${o.sanity.color.dark?Qe.purple[950].hex:Qe.purple[50].hex};
      }

      &[data-warning] {
        background-color: ${o.sanity.color.muted.caution.hovered.bg};
      }

      &[data-error] {
        background-color: ${o.sanity.color.muted.critical.hovered.bg};
      }
    `}),jun=R(L).attrs({forwardedAs:"span"})`
  max-width: 250px;
`,Iun=["top","bottom"];function Dun(e){const{annotationOpen:t,floatingBoundary:n,onOpen:r,onRemove:i,referenceBoundary:a,referenceElement:o,selected:s,title:l}=e,[c,d]=f.useState(!1),[h,p]=f.useState(!1),[m,g]=f.useState(null),v=f.useRef(null),{sanity:b}=ib(),{t:y}=Y(),x=f.useRef(null),w=b.color.dark?"light":"dark",C=f.useCallback(j=>{d(j),j?f.startTransition(()=>{p(j)}):p(j)},[]),S=f.useMemo(()=>m?{getBoundingClientRect:()=>m}:null,[m]);Xo(f.useCallback(j=>{h&&j.key==="Escape"&&C(!1)},[C,h]));const _=f.useCallback(()=>{if(t){C(!1),g(null);return}const j=window.getSelection();if(!j||j.rangeCount===0)return;const I=j.getRangeAt(0);if(!(o!=null&&o.contains(I.commonAncestorContainer))){C(!1),g(null);return}const A=I==null?void 0:I.getBoundingClientRect();A&&(g(A),C(!0))},[t,o,C]);f.useEffect(()=>(document.addEventListener("selectionchange",_,{passive:!0}),()=>{document.removeEventListener("selectionchange",_)}),[_]);const E=f.useCallback(()=>{C(!1),r()},[r,C]);f.useEffect(()=>{!t&&s&&m&&C(!0),t&&C(!1)},[t,s,m,C]);const k=f.useCallback(()=>{C(!1),i()},[i,C]),T=f.useCallback(()=>{v.current&&g(v.current.getBoundingClientRect())},[]);return f.useEffect(()=>{const j=window.getSelection();j&&j.rangeCount>0&&(v.current=j.getRangeAt(0))},[h]),f.useEffect(()=>{if(h&&a)return a.addEventListener("scroll",T),()=>a.removeEventListener("scroll",T);if(h)return a==null||a.addEventListener("scroll",T),()=>{a==null||a.removeEventListener("scroll",T)}},[h,a,T]),c?u.jsx(Fn,{open:h,floatingBoundary:n,constrainSize:!0,content:u.jsx(L,{padding:1,"data-testid":"annotation-toolbar-popover",children:u.jsxs(U,{gap:1,children:[u.jsx(L,{padding:2,children:u.jsx(N,{weight:"medium",size:1,children:l})}),u.jsx(fe,{"aria-label":y("inputs.portable-text.action.edit-annotation-aria-label"),"data-testid":"edit-annotation-button",icon:Yc,mode:"bleed",onClick:E,tabIndex:0,tooltipProps:null}),u.jsx(fe,{"aria-label":y("inputs.portable-text.action.remove-annotation-aria-label"),"data-testid":"remove-annotation-button",icon:Kr,mode:"bleed",onClick:k,tabIndex:0,tone:"critical",tooltipProps:null})]})}),fallbackPlacements:Iun,placement:"top",portal:!0,preventOverflow:!0,ref:x,referenceBoundary:a,referenceElement:S,scheme:w}):null}const bDe=e=>Array.isArray(e)?e.flatMap(bDe):typeof e=="number"?[e]:e==="auto"?["auto"]:[],$un=e=>e==="dialog"||e==="popover"?e:void 0;function Oun(e){var t;const n=(t=e.options)==null?void 0:t.modal;return typeof n=="object"&&n!==null?{type:$un(n.type),width:bDe(n.width)}:void 0}function Oy(e){const{scrollElement:t,containerElement:n}=e,r=f.useMemo(()=>({scrollElement:t,containerElement:n}),[n,t]);return u.jsx(Qhe.Provider,{value:r,children:e.children})}function Mun(e){const{onClose:t,children:n,title:r,width:i=1,autoFocus:a}=e,o=f.useId(),[s,l]=f.useState(null),c=f.useRef(null);return u.jsx(Ui,{header:r,id:o,onClickOutside:t,onClose:t,portal:"default",width:i,contentRef:l,"data-testid":"default-edit-object-dialog",__unstable_autoFocus:a,children:u.jsx(zb,{margins:[0,0,1,0],children:u.jsx(Oy,{scrollElement:s,containerElement:c,children:u.jsx(L,{ref:c,children:n})})})})}const Run=R(Fn)`
  & > div {
    overflow: hidden;
    overflow: clip;
  }
`,Pun=R(L)`
  /* Prevent overflow caused by change indicator */
  overflow-x: hidden;
  overflow-y: auto;
`,Fun=R(L)`
  box-shadow: 0 1px 0 var(--card-shadow-outline-color);
  position: relative;
  z-index: 10;
  min-height: auto;
`,Nun=["top","bottom"];function Lun(e){const{floatingBoundary:t,referenceBoundary:n,referenceElement:r,width:i=1}=e,[a,o]=f.useState(!1);return f.useEffect(()=>{o(!0)},[]),u.jsx(Run,{content:u.jsx(Bun,{...e}),constrainSize:!0,"data-testid":"popover-edit-dialog","data-ui":"PopoverEditDialog",fallbackPlacements:Nun,floatingBoundary:t,open:a,overflow:"auto",placement:"bottom",portal:"default",preventOverflow:!0,referenceBoundary:n,referenceElement:r,width:i})}function Bun(e){const{onClose:t,referenceBoundary:n,referenceElement:r,title:i,autoFocus:a}=e;Xo(f.useCallback(c=>{c.key==="Escape"&&t()},[t])),yn(t,()=>[r],()=>n);const[o,s]=f.useState(null),l=f.useRef(null);return u.jsx(Oy,{scrollElement:o,containerElement:l,children:u.jsxs(U,{ref:l,direction:"column",height:"fill",children:[u.jsx(Fun,{flex:"none",padding:1,children:u.jsxs(U,{align:"center",children:[u.jsx(L,{flex:1,padding:2,children:u.jsx(N,{weight:"medium",children:i})}),u.jsx(fe,{autoFocus:!!a,icon:Rr,mode:"bleed",onClick:t,tooltipProps:{content:"Close"}})]})}),u.jsx(Pun,{flex:1,children:u.jsx(zb,{margins:[0,0,1,0],children:u.jsx(L,{padding:3,ref:s,children:e.children})})})]})})}function oY(e){const{autoFocus:t,defaultType:n,floatingBoundary:r,onClose:i,referenceBoundary:a,referenceElement:o,schemaType:s}=e,{t:l}=Y(),c=f.useMemo(()=>Oun(s),[s]),d=(c==null?void 0:c.type)||n,h=s.i18nTitleKey?l(s.i18nTitleKey):s.title||s.name,p=l("inputs.portable-text.annotation-editor.title",{schemaType:h}),m=f.useCallback(()=>{i()},[i]),g=c==null?void 0:c.width;return d==="popover"?u.jsx(Lun,{autoFocus:t,floatingBoundary:r,onClose:m,referenceBoundary:a,referenceElement:o,title:u.jsx(u.Fragment,{children:p}),width:g,children:e.children}):u.jsx(Mun,{onClose:m,title:p,width:g,autoFocus:t,children:e.children})}function Vun(e){var t;const{children:n,editorNodeFocused:r,floatingBoundary:i,focused:a,onItemClose:o,onItemOpen:s,onPathFocus:l,path:c,readOnly:d,referenceBoundary:h,renderAnnotation:p,renderBlock:m,renderCustomMarkers:g,renderField:v,renderInlineBlock:b,renderInput:y,renderItem:x,renderPreview:w,schemaType:C,selected:S,value:_}=e,{Markers:E=zIe}=pd().__internal.components,k=Wi(),T=f.useMemo(()=>c.slice(0,c.length-2).concat(["markDefs",{_key:_._key}]),[c,_._key]),[j,I]=f.useState(null),A=aM(qn(T)),{validation:$}=eM(A==null?void 0:A.node),D=tM(c),M=f.useMemo(()=>u.jsx("span",{"data-annotation":"",children:n}),[n]),O=f.useCallback(()=>{A&&(Ae.blur(k),s(A.node.path))},[k,A,s]),F=f.useCallback(()=>{o(),HG(_)&&Ae.removeAnnotation(k,C),Ae.focus(k)},[k,o,C,_]),P=f.useCallback(()=>{Ae.removeAnnotation(k,C),Ae.focus(k)},[k,C]),V=f.useMemo(()=>$.length>0||D.length>0?u.jsx(gt,{placement:"bottom",portal:"default",content:u.jsx(jun,{children:u.jsx(E,{markers:D,renderCustomMarkers:g,validation:$})}),children:M}):void 0,[E,D,g,M,$]),H=Vb(c,!0),W=f.useMemo(()=>H.filter(Q=>vr(Q.path,c)),[c,H]),G=!!(A!=null&&A.member.open),X=A==null?void 0:A.input,z=(A==null?void 0:A.node.path)||cn,q=j,Z=f.useMemo(()=>({__unstable_floatingBoundary:i,__unstable_referenceBoundary:h,__unstable_referenceElement:q,__unstable_textElementFocus:r,children:X,focused:a,markers:D,onClose:F,onOpen:O,onPathFocus:l,onRemove:P,open:G,parentSchemaType:k.schemaTypes.block,path:z,presence:W,readOnly:!!d,renderAnnotation:p,renderBlock:m,renderField:v,renderInlineBlock:b,renderInput:y,renderPreview:w,renderItem:x,renderDefault:m7,schemaType:C,selected:S,textElement:V||M,validation:$,value:_}),[k.schemaTypes.block,r,i,a,X,G,D,V,z,F,O,l,P,d,h,q,p,m,v,b,y,x,w,W,C,S,M,$,_]),K=(t=C.components)==null?void 0:t.annotation,J=f.useCallback(Q=>{A!=null&&A.elementRef&&(A.elementRef.current=Q),I(Q)},[A]);return f.useMemo(()=>u.jsx("span",{ref:J,style:void 0,children:K?u.jsx(K,{...Z}):u.jsx(m7,{...Z})}),[K,Z,J])}const m7=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:i,focused:a,markers:o,onClose:s,onOpen:l,onRemove:c,open:d,readOnly:h,selected:p,schemaType:m,textElement:g,validation:v}=e,b=m.name==="link",y=v.some(_=>_.level==="error"),x=v.some(_=>_.level==="warning"),w=o.length>0,{t:C}=Y(),S=f.useMemo(()=>y?"critical":x?"caution":b?"primary":"default",[b,y,x]);return u.jsxs(Aun,{$toneKey:S,"aria-label":C("inputs.portable-text.annotation-aria-label"),"data-link":b?"":void 0,"data-error":y?"":void 0,"data-warning":x?"":void 0,"data-markers":w||void 0,onClick:h?l:void 0,children:[g,u.jsx(Dun,{annotationOpen:d,floatingBoundary:t,onOpen:l,onRemove:c,referenceBoundary:n,referenceElement:r,selected:p,title:m.i18nTitleKey?C(m.i18nTitleKey):m.title||m.name}),d&&u.jsx(oY,{defaultType:"popover",floatingBoundary:t,onClose:s,autoFocus:a,referenceBoundary:n,referenceElement:r,schemaType:m,children:i})]})};function xDe(){return f.useContext(ape)}function zun(e){const{children:t,activePath:n,EditReferenceLinkComponent:r,onEditReference:i,initialValueTemplateItems:a}=e,o=f.useMemo(()=>({activePath:n,EditReferenceLinkComponent:r,onEditReference:i,initialValueTemplateItems:a}),[n,r,i,a]);return u.jsx(ape.Provider,{value:o,children:t})}function Uun(e){const t=f.useMemo(()=>({id:e.id}),[e.id]);return u.jsx(Yhe.Provider,{value:t,children:e.children})}function Hun(){const e=f.useContext(Yhe);if(!e)throw new Error("useDocumentId must be used within a DocumentIdProvider");return e.id}function oM(){return fn(Hun())}function sM(e,t){return $o(t,f.useCallback((n,r)=>{e.current&&!n&&r&&Gg(e.current,{scrollMode:"always"})},[e]))}const Wun=R(N)`
  &[data-status='edited'] {
    --card-icon-color: var(--card-badge-caution-dot-color);
  }
  &[data-status='unpublished'] {
    --card-icon-color: var(--card-badge-default-dot-color);
    opacity: 0.5 !important;
  }
`;function Wb({draft:e,published:t}){const n=!!e,r=!!t,i=f.useMemo(()=>n&&!r?"unpublished":"edited",[n,r]);return!n&&!r||!n&&r?null:u.jsx(Wun,{"data-status":i,size:1,children:u.jsx(pB,{})})}function wDe(e){var t,n;const{id:r,layout:i,preview:a,refType:o,renderPreview:s,showTypeLabel:l}=e,c=qb(r),d=((t=a.draft)==null?void 0:t._id)||((n=a.published)==null?void 0:n._id)||r,h=f.useMemo(()=>({_id:d,_type:o.name}),[d,o.name]),{draft:p,published:m}=a,g=f.useMemo(()=>({children:u.jsx(L,{paddingLeft:3,children:u.jsxs(An,{space:3,children:[l&&u.jsx(ro,{mode:"outline",children:o.title}),c&&c.length>0&&u.jsx(YG,{presence:c}),u.jsx(Wb,{draft:a.draft,published:a.published})]})}),layout:i,schemaType:o,tooltip:u.jsx(By,{draft:p,published:m}),value:h}),[c,p,i,a.draft,a.published,h,m,o,l]);return s(g)}function CDe(e){var t,n,r,i,a,o;const{layout:s="default",referenceInfo:l,renderPreview:c,type:d,value:h,showTypeLabel:p}=e,{t:m}=Y();if(l.isLoading||l.error)return u.jsx(to,{isPlaceholder:!0,layout:s});if(((t=l.result)==null?void 0:t.availability.reason)==="NOT_FOUND"&&h._strengthenOnPublish){const w=d.to.find(S=>{var _;return S.name===((_=h==null?void 0:h._strengthenOnPublish)==null?void 0:_.type)});if(!w)return u.jsx(Ole,{documentId:h._ref,actualType:(n=h._strengthenOnPublish)==null?void 0:n.type,declaredTypes:d.to.map(S=>S.name)});const C=(r=h._strengthenOnPublish)!=null&&r.type?{_id:h._ref,_type:(i=h._strengthenOnPublish)==null?void 0:i.type}:h;return u.jsxs(U,{align:"center",children:[u.jsx(L,{flex:1,children:c({layout:s,schemaType:w,value:C,skipVisibilityCheck:!0})}),u.jsx(L,{children:u.jsx(An,{space:4,children:p&&u.jsx(ro,{mode:"outline",children:w.title})})})]})}const g=l.result.availability,v=g.reason==="NOT_FOUND",b=g.reason==="PERMISSION_DENIED";if(b||v)return u.jsxs(An,{space:2,children:[u.jsx(L,{padding:1,children:u.jsx(U,{align:"center",children:u.jsx(L,{flex:1,paddingY:2,children:u.jsx(N,{muted:!0,children:m("inputs.reference.error.document-unavailable-title")})})})}),b||v?u.jsx(L,{children:u.jsx(gt,{portal:!0,content:v?u.jsx($le,{title:m("inputs.reference.error.nonexistent-document-title"),icon:Ag,children:u.jsx(ht,{i18nKey:"inputs.reference.error.nonexistent-document-description",t:m,values:{documentId:h._ref}})}):u.jsx($le,{title:m("inputs.reference.error.missing-read-permissions-title"),icon:gf,children:m("inputs.reference.error.missing-read-permissions-description")}),children:u.jsx(qr,{tone:"default",children:u.jsx(Ag,{})})})}):null]});const y=(a=l.result)==null?void 0:a.type,x=d.to.find(w=>w.name===y);return x?u.jsx(wDe,{id:h._ref,layout:s,preview:(o=l.result)==null?void 0:o.preview,refType:x,renderPreview:c,showTypeLabel:p}):u.jsx(Ole,{documentId:h._ref,actualType:y||"<unknown>",declaredTypes:d.to.map(w=>w.name)})}function $le(e){const t=e.icon;return u.jsxs(U,{children:[u.jsx(N,{size:1,children:u.jsx(t,{})}),u.jsxs(L,{flex:1,marginLeft:3,children:[u.jsx(N,{size:1,weight:"medium",children:e.title}),u.jsx(L,{marginTop:3,children:u.jsx(N,{as:"p",muted:!0,size:1,children:e.children})})]})]})}function Ole({declaredTypes:e,documentId:t,actualType:n}){const{t:r}=Y();return u.jsxs(U,{align:"center",justify:"flex-start",children:[u.jsx(L,{padding:1,children:u.jsx(U,{align:"center",children:u.jsx(L,{flex:1,paddingY:2,children:u.jsx(N,{muted:!0,children:r("inputs.reference.error.invalid-type-title")})})})}),u.jsx(L,{children:u.jsx(gt,{portal:!0,content:u.jsx(ee,{space:3,children:u.jsx(N,{size:1,children:u.jsx(ht,{t:r,i18nKey:"inputs.reference.error.invalid-type-description",values:{documentId:t,actualType:n},components:{AllowedTypes:()=>u.jsx(Gun,{values:e})}})})}),children:u.jsx(L,{padding:2,children:u.jsx(qr,{tone:"default",children:u.jsx(Ag,{})})})})})]})}function Gun(e){const t=z0({type:"disjunction"}).formatToParts(e.values);return u.jsx(f.Fragment,{children:t.map(n=>n.type==="element"?u.jsx("code",{children:n.value},n.value):n.value)})}const Yun={warning:"caution",error:"critical",info:"positive"},qun={warning:u.jsx(fr,{}),error:u.jsx(Ea,{}),info:u.jsx(Bf,{})};function sY(e){const{children:t,status:n="warning",title:r,...i}=e;return u.jsx(te,{radius:2,tone:Yun[n],...i,"data-ui":"Alert",children:u.jsx(U,{padding:1,children:t&&u.jsx(L,{flex:1,children:u.jsx(H0,{icon:qun[n],title:r,children:u.jsx(L,{marginLeft:3,marginTop:3,children:t})})})})})}function SDe({schemaType:e,handleRemoveStrengthenOnPublish:t}){const{t:n}=Y();return u.jsx(sY,{padding:1,title:n(e.weak?"inputs.reference.incomplete-reference.finalize-action-title":"inputs.reference.incomplete-reference.strengthen-action-title"),status:"info","data-testid":"alert-reference-published",children:u.jsxs(ee,{space:3,children:[u.jsx(N,{as:"p",muted:!0,size:1,children:u.jsx(ht,{t:n,i18nKey:e.weak?"inputs.reference.incomplete-reference.finalize-action-description":"inputs.reference.incomplete-reference.strengthen-action-description"})}),u.jsx(fe,{mode:"ghost",onClick:t,size:"large",text:n("inputs.reference.incomplete-reference.strengthen-button-label"),tone:"positive"})]})})}const Kun=R(te)`
  /* this is a hack to avoid layout jumps while previews are loading
     there's probably better ways of solving this */
  min-height: 33px;
  position: relative;

  /* TextWithTone uses its own logic to set color, and we therefore need */
  /* to override this logic in order to set the correct color in different states */
  &[data-selected],
  &[data-pressed],
  &:active {
    [data-ui='TextWithTone'] {
      color: inherit;
    }
  }
`,_De=f.forwardRef(function(e,t){const{as:n,documentId:r,documentType:i,...a}=e;return u.jsx(Kun,{...a,...r&&i&&{"data-as":"a",forwardedAs:n,documentId:r,documentType:i},"data-ui":"ReferenceLinkCard",ref:t})});function lY({errorMessage:e,onHandleRetry:t}){const{t:n}=Y();return u.jsx(sY,{padding:1,title:n("inputs.reference.metadata-error.title"),status:"warning","data-testid":"alert-reference-info-failed",children:u.jsxs(ee,{space:3,children:[u.jsx(N,{as:"p",muted:!0,size:1,children:e}),u.jsx(fe,{mode:"ghost",onClick:t,size:"large",text:n("inputs.reference.metadata-error.retry-button-label"),tone:"primary"})]})})}function uY({actualStrength:e,handleFixStrengthMismatch:t}){const n=e==="weak"?"strong":"weak",{t:r}=Y();return u.jsx(sY,{padding:1,title:r("inputs.reference.strength-mismatch.title"),status:"warning","data-testid":"alert-reference-strength-mismatch",children:u.jsxs(ee,{space:3,children:[u.jsx(N,{as:"p",muted:!0,size:1,children:u.jsx(ht,{t:r,i18nKey:e==="weak"?"inputs.reference.strength-mismatch.is-weak-description":"inputs.reference.strength-mismatch.is-strong-description"})}),u.jsx(N,{as:"p",muted:!0,size:1,children:r(n==="weak"?"inputs.reference.strength-mismatch.is-strong-consquences":"inputs.reference.strength-mismatch.is-weak-consquences")}),u.jsx(fe,{mode:"ghost",onClick:t,size:"large",text:r(n==="weak"?"inputs.reference.strength-mismatch.weaken-button-label":"inputs.reference.strength-mismatch.strengthen-button-label"),tone:"caution"})]})})}const EDe=()=>{},Mle={isLoading:!0,result:void 0,error:void 0,retry:EDe},Zun={isLoading:!1,result:void 0,error:void 0,retry:EDe};function lM(e,t){const n=f.useMemo(()=>new Mr,[]),r=f.useMemo(()=>n.asObservable(),[n]),i=f.useCallback(()=>{n.next({type:"retry"})},[n]),a=f.useMemo(()=>Ai(xe(null),r).pipe(de(()=>e),mg(o=>o?t(o).pipe(de(s=>({isLoading:!1,result:s,error:void 0,retry:i})),Vi(Mle),Cn(s=>(console.error(s),xe({isLoading:!1,result:void 0,error:s,retry:i})))):xe(Zun))),[t,e,r,i]);return Jr(a,Mle)}function Xun(e){const t=f.useMemo(()=>({value:e.value}),[e.value]);return u.jsx(Xhe.Provider,{value:t,children:e.children})}function S_(e){const t=Wc(e),n=f.useContext(Xhe);if(!n)throw new Error("useFormValue must be used within a FormValueProvider");return ia(n==null?void 0:n.value,t)}const Rle=new WeakMap,Ple={title:10,subtitle:5,description:1.5},Jun={_id:{weight:1,type:"string"},_type:{weight:1,type:"string"}},Qun=["reference","crossDatasetReference"],__=e=>e?[e,...__(e.type)]:[],Fle=e=>(e==null?void 0:e.jsonType)==="array"&&e.of.some(t=>__(t).some(({name:n})=>n==="block")),ecn=e=>e?(e==null?void 0:e.jsonType)==="string":!1,tcn=e=>yt(e)&&"search"in e&&yt(e.search);function kDe(e){return typeof e<"u"&&"name"in e}function kC(e,t,n){function r(i,a,o){if(!i)return[];if(o>t)return[];const s=__(i);if(ecn(i)||Fle(i)){const h=n(i,a);return typeof h!="number"?[]:[{path:a,weight:h,type:Fle(i)?"pt":"string"}]}const l=[],c=s.filter(h=>{var p;return h.jsonType==="object"&&!!((p=h.fields)!=null&&p.length)&&!Qun.includes(h.name)});for(const h of c)for(const p of h.fields){const m=qt([a,p.name].filter(Boolean));l.push(...r(p.type,m,o+1))}const d=s.filter(h=>{var p;return h.jsonType==="array"&&!!((p=h.of)!=null&&p.length)});for(const h of d)for(const p of h.of){const m=`${a}[]`;l.push(...r(p,m,o+1))}return l}return kDe(e)?r(e,"",0).reduce((i,{path:a,weight:o,type:s})=>(i[a]={weight:o,type:s,path:a},i),{}):{}}const TDe=e=>{var t;const n=__(e).map(r=>r.options).find(tcn);return typeof((t=n==null?void 0:n.search)==null?void 0:t.weight)=="number"?n.search.weight:null},ADe=e=>__(e).some(t=>t.hidden)?0:null,jDe=e=>{var t;return typeof((t=TDe(e))!=null?t:ADe(e))=="number"?null:1},ncn=(e,t,n)=>{var r;const i=(r=e==null?void 0:e.preview)==null?void 0:r.select;if(!i)return null;const a=Object.fromEntries(Object.entries(i).map(([l,c])=>[c.replace(/\.\d+/g,"[]"),l])),o=kC(e,t,jDe),s=Object.fromEntries(Object.entries(o).map(([l,{type:c}])=>({path:l,type:c})).filter(({path:l})=>a[l]).map(({path:l,type:c})=>[l,{type:c,weight:Ple[a[l]]}]));return n?Object.fromEntries(Object.entries(a).map(([l,c])=>[l,{path:l,type:"string",weight:Ple[c]}])):kC(e,t,(l,c)=>{const d=s[c];return d?d.weight:null})};function IDe({schemaType:e,maxDepth:t,isCrossDataset:n,processPaths:r=i=>i}){const i=Rle.get(e);if(i)return i;const a=kC(e,t,TDe),o=kC(e,t,ADe),s=kC(e,t,jDe),l=ncn(e,t,n),c={...Jun,...s,...o,...l,...a},d={typeName:kDe(e)?e.name:e.type,paths:r(Object.entries(c).map(([h,{type:p,weight:m}])=>({path:h,weight:m,...p==="pt"&&{mapWith:"pt::text"}})))};return Rle.set(e,d),d}const rcn=e=>!!(e.type&&e.type.name==="document"),icn=e=>e.jsonType==="object",acn=e=>e.name.startsWith("sanity.")&&e.name!=="sanity.previewUrlSecret",DDe=(e,t=[])=>e.getTypeNames().map(n=>e.get(n)).filter(sa).filter(n=>rcn(n)&&!acn(n)||t.includes(n.name)).filter(icn),ocn=1e3,g7="*",scn="-",lcn=/(?:[^\s"]+|"[^"]*")+/g;function ucn(e,t){return typeof e=="string"?{query:e,types:t}:{...e,types:e.types.length?e.types:t}}function ccn(e){return e.filter(t=>t.weight!==1)}function dcn(e,t){return t.types.map(n=>IDe({schemaType:n,maxDepth:e.maxDepth||Hg,processPaths:ccn})).filter(({paths:n})=>n.length).reduce((n,r)=>({...n,[r.typeName]:r.paths.reduce((i,{path:a,weight:o})=>({...i,weights:{...i.weights,[a]:o}}),{})}),{})}function fcn(e=[]){return e.map(({field:t,direction:n})=>({attribute:t,direction:n}),{})}function hcn(e){return typeof e<"u"&&e.trim().at(0)===scn}function pcn(e){return typeof e<"u"&&e.trim().at(-1)===g7}function mcn(e){var t;const n=((t=e.match(lcn))!=null?t:[]).map(o=>o.trim()),r=n.findLastIndex(o=>!hcn(o)),i=n[r];if(n.length===0)return g7;if(pcn(i)||typeof i>"u")return n.join(" ");const a=[...n];return a.splice(r,1,`${i}${g7}`),a.join(" ")}function gcn(e,{queryType:t="prefixLast"}){return t==="prefixLast"?mcn(e):e}const vcn=(e,t,n)=>function(r,i={}){var a;const o=ucn(r,e),s=["_type in $__types",i.includeDrafts===!1&&"!(_id in path('drafts.**'))",n.filter?`(${n.filter})`:!1,o.filter?`(${o.filter})`:!1].filter(c=>!!c),l={query:{string:gcn(o.query,i)},filter:s.join(" && "),params:{__types:o.types.map(c=>"name"in c?c.name:c.type),...n.params,...o.params},types:dcn(i,o),...i.sort?{order:fcn(i.sort)}:{},includeAttributes:["_id","_type"],fromCursor:i.cursor,limit:(a=i.limit)!=null?a:ocn};return t.observable.request({uri:`/data/textsearch/${t.config().dataset}`,method:"POST",json:!0,body:l,tag:n.tag}).pipe(de(c=>{let d=c.hits.map(h=>h.attributes);return n.unique&&(d=bIe(d)),{type:"text",hits:d.map(h=>({hit:h})),nextCursor:c.nextCursor}}))},ycn=(e,t)=>{const{phrases:n,words:r}=Scn(e),[i,a]=wcn(n,t),[o,s]=Ccn(r,t);return[i+o,[s,a].join(", ")]},bcn=e=>typeof e=="string"?e:JSON.stringify(e);function xcn(e,t,n=[]){const r=wG(e,i=>i.typeName);return t.map((i,a)=>{var o;const s=(o=r[i._type].paths||[])==null?void 0:o.map((c,d)=>{const h=bcn(i[`w${d}`]);if(!h)return{path:c.path,score:0,why:"No match"};const[p,m]=ycn(n,h);return{path:c.path,score:p*c.weight,why:`${m} (*${c.weight})`}}),l=s.reduce((c,d)=>c+d.score,0);return{hit:i,resultIndex:t.length-a,score:l,stories:s}})}function wcn(e,t){const n=t.toLowerCase().trim();let r=0,i=0;return e.forEach(a=>{n.includes(a)&&(r+=a.length/n.length,i+=a.length)}),r===1?[1,"[Phrase] Exact match"]:[r/2,`[Phrase] Matched ${i} of ${n.length} characters`]}function Ccn(e,t){const n=ra(Y$(fEe(M1(t)))),r=cj(e,n),i=X_e(n,e),a=r.length/i.length;return a===1?[1,"[Word] Exact match"]:[a/2,`[Word] Matched ${r.length} of ${i.length} terms: [${r.join(", ")}]`]}function Scn(e){const t=ra(e.map(M1)),[n,r]=fH(t,i=>/^".*"$/.test(i));return{phrases:ra(n).map(M1).map(_cn),words:ra(r.map(M1))}}function _cn(e){return e.replace(/^"(.*)"$/,"$1")}const Ecn=4,kcn=1e3,Tcn=ukt([cr,X_e,Y$]),$De=({mapWith:e,path:t})=>e?`${e}(${t})`:t;function Acn(e,t){const n=Tcn(t.map(r=>(r.paths||[]).map(i=>$De(i))));return e.map((r,i)=>n.map(a=>`${a} match $t${i}`)).filter(r=>r.length>0).map(r=>`(${r.join(" || ")})`)}const jcn=/([^!@#$%^&*(),\\/?";:{}|[\]+<>\s-])+/g,Icn=/(^[.]+)|([.]+$)/;function Dcn(e){return(e.match(jcn)||[]).map(t=>t.replace(Icn,""))}function $cn(e){const t=[],n=e.replace(/("[^"]*")/g,a=>fEe(a).length>1?(t.push(a),""):a),r=t.map(a=>i5t(M1(a))),i=ra(Y$(Dcn(M1(n))));return[...r,...i]}function Ocn(e){function t(n){return n.mapWith?`${n.mapWith}(${n.field})`:n.field}return(e||[]).map(n=>[t(n),(n.direction||"").toLowerCase()].map(r=>r.trim()).filter(Boolean).join(" ")).join(",")}function Mcn(e,t={}){var n;const{filter:r,params:i,tag:a}=t,o=e.types.map(x=>IDe({schemaType:x,maxDepth:t.maxDepth||Hg,isCrossDataset:t.isCrossDataset})).filter(({paths:x})=>x.length),s=$cn(e.query),l=["_type in $__types",t.includeDrafts===!1&&"!(_id in path('drafts.**'))",...Acn(s,o),r?`(${r})`:"",e.filter?`(${e.filter})`:""].filter(Boolean),c=o.map(x=>{const w=`_type == "${x.typeName}" => `,C=`{ ${x.paths.map((S,_)=>`"w${_}": ${$De(S)}`)} }`;return`${w}${C}`}),d=Ocn((t==null?void 0:t.sort)||[{field:"_id",direction:"asc"}]),h=["_type","_id"],p=c.length>0?`...select(${c.join(`,
`)})`:"",m=h.join(", ")+(p?`, ${p}`:"");let g=`*[${l.join(" && ")}]| order(${d})[0...$__limit]{${m}}`;if(t!=null&&t.__unstable_extendedProjection){const x=t==null?void 0:t.__unstable_extendedProjection,w=h.concat(x).join(", ");g=[`*[${l.join(" && ")}]{${w}}`,`order(${d})[0...$__limit]{${m}}`].join("|")}const v=[`findability-mvi:${Ecn}`].concat((t==null?void 0:t.comments)||[]).map(x=>`// ${x}`).join(`
`),b=v?`${v}
${g}`:g,y=(n=t==null?void 0:t.limit)!=null?n:kcn;return{query:b,params:{...Rcn(s),__types:o.map(x=>x.typeName),__limit:y,...i||{}},options:{tag:a},searchSpec:o,terms:s}}const Rcn=e=>{const t={};return e.reduce((n,r,i)=>(n[`t${i}`]=`${r}*`,n),t)};function Pcn(e,t){return typeof e=="string"?{query:e,types:t}:e.types.length?e:{...e,types:t}}const Fcn=(e,t,n)=>function(r,i={}){const a=Pcn(r,e),{query:o,params:s,options:l,searchSpec:c,terms:d}=Mcn(a,{...n,...i});return t.observable.fetch(o,s,l).pipe(n.unique?de(bIe):Qn(),de(h=>xcn(c,h,d)),i!=null&&i.skipSortByScore?Qn():de(h=>Zp(h,p=>-p.score)),de(h=>({type:"weighted",hits:h})))},uM=(e,t,n)=>(n.enableLegacySearch?Fcn:vcn)(e,t,n),Ncn={available:!0,reason:"READABLE"},Nle={available:!1,reason:"PERMISSION_DENIED"},Lle={available:!1,reason:"NOT_FOUND"};function ODe(e,t,n){const{publishedId:r,draftId:i}=FG(t);return e.unstable_observeDocumentPairAvailability(t).pipe(mt(a=>{if(!a.draft.available&&!a.published.available){const l=a.draft.reason==="PERMISSION_DENIED"||a.published.reason==="PERMISSION_DENIED"?Nle:Lle;return xe({id:t,type:void 0,availability:l,preview:{draft:void 0,published:void 0}})}const o={_type:"reference",_ref:i},s={_type:"reference",_ref:r};return aa([e.observeDocumentTypeFromId(i),e.observeDocumentTypeFromId(r)]).pipe(de(([l,c])=>l||c)).pipe(mt(l=>{if(!l)return xe({id:t,type:void 0,availability:{available:!0,reason:"READABLE"},preview:{draft:void 0,published:void 0}});const c=n.to.find(m=>m.name===l);if(!c)return xe({id:t,type:l,availability:{available:!0,reason:"READABLE"},preview:{draft:void 0,published:void 0}});const d=TY(c==null?void 0:c.preview)||[],h=e.observePaths(o,d).pipe(de(m=>m?{_id:i,...dI(m,c)}:void 0),Vi(void 0)),p=e.observePaths(s,d).pipe(de(m=>m?{_id:r,...dI(m,c)}:void 0),Vi(void 0));return aa([h,p]).pipe(de(([m,g])=>({draft:m,published:g}))).pipe(de(m=>{const g=a.draft.available||a.published.available?Ncn:a.draft.reason==="PERMISSION_DENIED"||a.published.reason==="PERMISSION_DENIED"?Nle:Lle;return{type:l,id:r,availability:g,preview:{draft:yt(m.draft)?m.draft:void 0,published:yt(m.published)?m.published:void 0}}}))}))}))}function Lcn(e){return e.filter(t=>!t.draft||!t.published).map(t=>t.draft?t.id:la(t.id))}function Bcn(e,t){return t.length===0?xe([]):e.observable.fetch("*[_id in $ids]._id",{ids:t},{tag:"get-counterpart-ids"})}function Vcn(e,t,n,r,i){return uM(n.to,e,{...r,enableLegacySearch:i,maxDepth:r.maxFieldDepth||Hg})(t,{includeDrafts:!0}).pipe(de(({hits:a})=>a.map(({hit:o})=>o)),de(YO),de(a=>a.slice(0,100)),It(a=>Bcn(e,Lcn(a)).pipe(de(o=>a.map(s=>{const l=la(s.id);return{id:s.id,type:s.type,draft:s.draft||o.includes(l)?{_id:l,_type:s.type}:void 0,published:s.published||o.includes(s.id)?{_id:s.id,_type:s.type}:void 0}})))))}function zcn(e){const t=f.useRef(e);return t.current=e,t}function cY(e){var t,n,r,i;const{path:a,schemaType:o}=e,s=en(),l=ua(),{EditReferenceLinkComponent:c,onEditReference:d,activePath:h,initialValueTemplateItems:p}=xDe(),m=S_([]),g=(t=zcn(m).current)==null?void 0:t._type,v=f.useMemo(()=>{var E;return(E=s.get(g))==null?void 0:E.liveEdit},[g,s]),b=((n=o.options)==null?void 0:n.disableNew)===!0,y=(i=(r=e.value)==null?void 0:r._strengthenOnPublish)==null?void 0:i.template,x=f.useMemo(()=>f.forwardRef(function(E,k){return c?u.jsx(c,{...E,ref:k,parentRefPath:a,template:y}):null}),[c,a,y]),w=f.useCallback(E=>{d==null||d({parentRefPath:a,id:E.id,type:E.type,template:E.template})},[d,a]),C=Ua(a,(h==null?void 0:h.path)||[])?h==null?void 0:h.state:"none",S=f.useMemo(()=>b?[]:(p||[]).filter(E=>o.to.some(k=>{var T;return k.name===((T=E.template)==null?void 0:T.schemaType)})).map(E=>{var k;return(k=E.template)!=null&&k.schemaType?{id:E.id,title:E.title||`${E.template.schemaType} from template ${E.template.id}`,type:E.template.schemaType,icon:E.icon,template:{id:E.template.id,params:E.parameters},permission:{granted:E.granted,reason:E.reason}}:void 0}).filter(sa),[b,p,o.to]),_=f.useCallback(E=>ODe(l,E,o),[l,o]);return{selectedState:C,isCurrentDocumentLiveEdit:v,handleEditReference:w,EditReferenceLink:x,createOptions:S,getReferenceInfo:_}}function Ucn({readOnly:e,hasErrors:t,hasWarnings:n}){return e?"transparent":t?"critical":n?"caution":"default"}const Hcn={portal:!0,tone:"default"};function Wcn(e){var t,n,r,i,a,o;const s=f.useRef(null),{schemaType:l,path:c,open:d,inputId:h,children:p,inputProps:m}=e,{readOnly:g,focused:v,renderPreview:b,onChange:y}=e.inputProps,[x,w]=f.useState([]),C=oM(),S=f.useCallback(()=>m.onChange(pt()),[m]),_=e.value,{EditReferenceLink:E,getReferenceInfo:k,selectedState:T,isCurrentDocumentLiveEdit:j}=cY({path:c,schemaType:l,value:_});sM(s,d),$o(v,(oe,ge)=>{!oe&&ge&&s.current&&s.current.focus()});const I=e.validation.some(oe=>oe.level==="error"),A=e.validation.some(oe=>oe.level==="warning"),$=lM(_==null?void 0:_._ref,k),D=((t=$.result)==null?void 0:t.type)||((n=_==null?void 0:_._strengthenOnPublish)==null?void 0:n.type),M=D?l.to.find(oe=>oe.name===D):void 0,O=T==="pressed",F=T==="selected",P=_==null?void 0:_._ref,V=P&&((a=(i=(r=$.result)==null?void 0:r.preview)==null?void 0:i.published)==null?void 0:a._id),H=f.useCallback(()=>{y([l.weak===!0?st(!0,["_weak"]):pt(["_weak"]),pt(["_strengthenOnPublish"])])},[y,l.weak]),W=f.useCallback(()=>{y(l.weak===!0?st(!0,["_weak"]):pt(["_weak"]))},[y,l]),G=f.useCallback(()=>{m.onPathFocus(["_ref"])},[m]),X=_!=null&&_._weak?"weak":"strong",z=l.weak===!0?"weak":"strong",q=P&&!$.isLoading&&(_==null?void 0:_._strengthenOnPublish),Z=!$.isLoading&&((o=$.result)==null?void 0:o.availability.available)&&P&&X!==z&&!q,K=Ucn({readOnly:g,hasErrors:I,hasWarnings:A}),J=!(_!=null&&_._ref)||m.focusPath[0]==="_ref",{t:Q}=Y(),re=u.jsxs(u.Fragment,{children:[j&&V&&_._strengthenOnPublish&&u.jsx(SDe,{schemaType:l,handleRemoveStrengthenOnPublish:H}),Z&&u.jsx(uY,{actualStrength:X,handleFixStrengthMismatch:W}),$.error&&u.jsx(lY,{errorMessage:$.error.message,onHandleRetry:$.retry})]}),ae=f.useMemo(()=>f.forwardRef(function(oe,ge){return u.jsx(pu,{...oe,intent:"edit",params:{id:_==null?void 0:_._ref,type:M==null?void 0:M.name},target:"_blank",rel:"noopener noreferrer",ref:ge})}),[M==null?void 0:M.name,_==null?void 0:_._ref]),ne=f.useMemo(()=>g?null:u.jsx(L,{flex:"none",children:u.jsx(Kt,{button:u.jsx(wi,{}),id:`${h}-menuButton`,menu:u.jsxs(Ot,{children:[!g&&u.jsxs(u.Fragment,{children:[u.jsx(We,{text:Q("inputs.reference.action.clear"),tone:"critical",icon:Kr,onClick:S}),u.jsx(We,{text:Q("inputs.reference.action.replace"),icon:g0,onClick:G})]}),!g&&(_==null?void 0:_._ref)&&u.jsx(ur,{}),(_==null?void 0:_._ref)&&u.jsx(We,{as:ae,"data-as":"a",text:Q("inputs.reference.action.open-in-new-tab"),icon:Qc})]}),popover:Hcn})}),[S,G,h,ae,g,Q,_==null?void 0:_._ref]),se=f.useCallback(()=>m.onPathFocus([]),[m]),le=f.useCallback(oe=>m.elementProps.onBlur(oe),[m.elementProps]);return u.jsxs(u.Fragment,{children:[C&&e.actions&&e.actions.length>0&&u.jsx(b_,{actions:e.actions,documentId:C,documentType:l.name,onActions:w,path:c,schemaType:l}),u.jsx(y_,{actions:x,focused:!!e.inputProps.focused,path:c,children:u.jsx(U0,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:x,__unstable_presence:e.presence,description:e.description,level:e.level,title:e.title,validation:e.validation,deprecated:e.schemaType.deprecated,children:J?u.jsx(L,{children:p}):u.jsx(te,{border:!0,radius:2,padding:1,tone:K,children:u.jsxs(ee,{space:1,children:[u.jsx(U,{gap:1,align:"center",style:{lineHeight:0},children:u.jsxs(Xa,{children:[u.jsx(_De,{__unstable_focusRing:!0,as:E,"data-pressed":O?!0:void 0,"data-selected":F?!0:void 0,documentId:_==null?void 0:_._ref,documentType:M==null?void 0:M.name,flex:1,pressed:O,radius:2,ref:s,selected:F,tone:"inherit",onFocus:se,onBlur:le,children:u.jsx(CDe,{value:_,referenceInfo:$,renderPreview:b,type:l})}),u.jsx(L,{children:ne})]})}),re]})})})})]})}function MDe(e,t){return Jn(e.options,t)}const Ble=["array","file","image","reference","slug"],Gcn=["asset","crop","hotspot","_ref","_weak"],Ycn=["tags"],qcn=["slug"];function dY(e,t){if(!e)return[];if(t.has(e))return[];t.add(e);const n=e.type?dY(e.type,t):[];return[e,...n]}function Kcn(e,t){return Is(e)?Xcn(e,t):Zcn(e,t)}function Zcn(e,t){var n,r,i;const{type:a,options:o}=e,s=RDe(a,Ble),l=(e==null?void 0:e.jsonType)==="object"?e.fields:void 0,c=(s==null?void 0:s.name)||"";if(qcn.includes(c))return 0;const d=Ble.includes(c),h=((n=l==null?void 0:l.filter(m=>!Gcn.includes(m.name)).length)!=null?n:0)>0,p=((i=(r=o==null?void 0:o.list)==null?void 0:r.length)!=null?i:0)>0;return h||p||!d?t:0}function Xcn(e,t){var n;const{options:r}=e,i=((n=(r==null?void 0:r.list)||[])==null?void 0:n.length)>0,a=Ycn.includes((r==null?void 0:r.layout)||"");return i&&!a?t:0}function RDe(e,t){if(e!=null&&e.name&&t.includes(e==null?void 0:e.name))return e;if(e)return RDe(e.type,t)}const sI=[];function Jcn(e){return u.jsx(eo,{hasFocus:!!e.inputProps.focused,isChanged:e.inputProps.changed,path:e.path,children:e.children})}function Vle(e){const[t,n]=f.useState(sI),r=oM(),i=!!e.inputProps.focused;return u.jsxs(u.Fragment,{children:[r&&e.actions&&e.actions.length>0&&u.jsx(b_,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),u.jsx(y_,{actions:t,focused:i,path:e.path,children:u.jsx(U0,{__internal_slot:e.__internal_slot,__internal_comments:e.__internal_comments,__unstable_headerActions:t,__unstable_presence:e.presence,"data-testid":`field-${e.inputId}`,description:e.description,inputId:e.inputId,level:e.level,title:e.title,validation:e.validation,deprecated:e.schemaType.deprecated,children:u.jsx(eo,{hasFocus:i,isChanged:e.inputProps.changed,path:e.path,children:e.children})})})]})}function Qcn(e){const[t,n]=f.useState(sI),r=oM(),i=!!e.inputProps.focused;return u.jsxs(u.Fragment,{children:[r&&e.actions&&e.actions.length>0&&u.jsx(b_,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),u.jsx(y_,{actions:t,focused:i,path:e.path,children:u.jsx(nM,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:t,__unstable_presence:e.presence,collapsed:e.collapsed,collapsible:e.collapsible,"data-testid":`field-${e.inputId}`,description:e.description,level:e.level,onCollapse:e.onCollapse,onExpand:e.onExpand,title:e.title,validation:e.validation,inputId:e.inputId,deprecated:e.schemaType.deprecated,children:e.children})})]})}function edn(e){const[t,n]=f.useState(sI),r=oM(),i=!!e.inputProps.focused,a=e.inputProps.members.find(s=>s.kind==="field"&&s.name==="hotspot"),o=a!=null&&a.open?e.presence:e.presence.concat((a==null?void 0:a.field.presence)||sI);return u.jsxs(u.Fragment,{children:[r&&e.actions&&e.actions.length>0&&u.jsx(b_,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),u.jsx(y_,{actions:t,focused:i,path:e.path,children:u.jsx(nM,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:t,__unstable_presence:o,collapsed:e.collapsed,collapsible:e.collapsible,description:e.description,level:e.level,onCollapse:e.onCollapse,onExpand:e.onExpand,title:e.title,validation:e.validation,inputId:e.inputId,deprecated:e.schemaType.deprecated,children:e.children})})]})}function tdn(e){var t;if((t=e.components)!=null&&t.field)return e.components.field;if(n2(e))return Jcn;const n=dY(e,new Set);return n.some(r=>r.name==="image"||r.name==="file")?edn:n.some(r=>N9(r))||n.some(r=>r.name==="slug")?Vle:n.some(r=>Zs(r))?Wcn:e.jsonType!=="object"&&e.jsonType!=="array"?Vle:Qcn}function PDe({children:e,workspace:t}){return u.jsx(Spe.Provider,{value:t,children:e})}function Fr(){const e=f.useContext(Spe);if(!e)throw new Error("Workspace: missing context value");return e}const FDe=0,$F={isLoading:!0,settings:{partialIndexSettings:{maxFieldDepth:FDe}}};function ndn({client:e}){const{projectId:t,dataset:n}=e.config();return e.observable.request({uri:`/projects/${t}/datasets/${n}/settings/indexing`,tag:"search.getPartialIndexSettings"})}const Nk=new Map;function cM(e){var t,n,r,i;const a=(n=(t=Fr().search)==null?void 0:t.unstable_partialIndexing)==null?void 0:n.enabled,o=Zt(Gt),s=f.useMemo(()=>e||o,[e,o]),l=f.useMemo(()=>s.config().dataset,[s]);a||Nk.set(l,xe($F.settings)),Nk.has(l)||Nk.set(l,ndn({client:s}).pipe(oa()));const c=f.useMemo(()=>Nk.get(l).pipe(de(p=>({isLoading:!1,settings:p})),Vi($F),Cn(p=>(console.error(p),xe({isLoading:!1,enabled:!0,settings:{partialIndexSettings:{maxFieldDepth:FDe}}})))),[l]),d=Jr(c,$F),h=(i=(r=d==null?void 0:d.settings)==null?void 0:r.partialIndexSettings)==null?void 0:i.maxFieldDepth;return n_e(h)?Math.min(h,Hg):Hg}const rdn=ce`
  grid-template-columns: minmax(0px, 1fr);
`,idn=ce`
  grid-template-columns: 1fr min-content;
`,adn=R(Vn)(e=>e.$narrow?rdn:idn),odn=f.forwardRef(function(e,t){const[n,r]=f.useState(null),i=f.useCallback(o=>{sdn(t,o),r(o)},[t]),a=Ng(n);return u.jsx(adn,{ref:i,gap:1,$narrow:((a==null?void 0:a.width)||0)<480,children:e.children})});function sdn(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const ldn={display:"inline-flex"},udn={width:"100%"},cdn={portal:!0,tone:"default",constrainSize:!0,fallbackPlacements:["bottom","left","top"],placement:"right",preventOverflow:!0};function ddn(e){const{createOptions:t,onCreate:n,id:r,menuRef:i,...a}=e,o=Kn(),{t:s}=Y(),l=KO(t);return t.some(c=>c.permission.granted)?t.length>1?u.jsx(Kt,{button:u.jsx(fe,{...a,disabled:e.readOnly,text:s("inputs.reference.action.create-new-document-select"),mode:"ghost",icon:wa,size:"large"}),id:r,menu:u.jsx(Ot,{ref:i,children:t.map(c=>u.jsx(gt,{disabled:c.permission.granted,content:u.jsx(ou,{currentUser:o,context:"create-document-type"}),portal:!0,children:u.jsx("div",{children:u.jsx(We,{disabled:!c.permission.granted,icon:c.icon,text:l(c).title,onClick:()=>n(c)})})},c.id))}),popover:cdn}):u.jsx(fe,{...a,text:s("inputs.reference.action.create-new-document-select"),mode:"ghost",disabled:!t[0].permission.granted||e.readOnly,onClick:()=>n(t[0]),icon:wa,size:"large"}):u.jsx(gt,{content:u.jsx(ou,{currentUser:o,context:"create-new-reference"}),children:u.jsx("div",{style:ldn,children:u.jsx(fe,{text:s("inputs.reference.action.create-new-document"),mode:"ghost",disabled:!0,icon:wa,style:udn})})})}function fdn(e){const{getReferenceInfo:t,id:n,renderPreview:r}=e,{isLoading:i,result:a,error:o}=lM(n,t),{t:s}=Y();if(i)return u.jsxs(ee,{space:2,padding:1,children:[u.jsx(ir,{style:{maxWidth:320},radius:1,animated:!0}),u.jsx(ir,{style:{maxWidth:200},radius:1,size:1,animated:!0})]});if(o)return u.jsx(ee,{space:2,padding:1,children:u.jsx(ac,{title:s("inputs.reference.error.failed-to-load-document-title"),children:u.jsx(N,{muted:!0,size:1,children:o.message})})});if(!a)return null;if(a.availability.reason==="PERMISSION_DENIED")return u.jsx(ee,{space:2,padding:1,children:s("inputs.reference.error.missing-read-permissions-description")});const l=e.type.to.find(c=>c.name===a.type);return l?a&&l&&u.jsx(wDe,{id:a.id,layout:"default",preview:a.preview,refType:l,renderPreview:r,showTypeLabel:e.type.to.length>1}):u.jsx(ee,{space:2,padding:1,children:s("inputs.reference.error.invalid-search-result-type-title",{returnedType:a.type})})}const hdn=R(Fn)`
  & > div {
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
`,pdn=R(N)`
  word-break: break-word;
`,mdn=["top-start","bottom-start"],gdn=f.forwardRef(function(e,t){const{searchString:n,loading:r,portalRef:i,referenceElement:a,...o}=e,{t:s}=Y(),l=e.options&&e.options.length>0,c=f.useCallback(({content:d,hidden:h,inputElement:p,onMouseEnter:m,onMouseLeave:g},v)=>u.jsx(hdn,{placement:"bottom-start",fallbackPlacements:mdn,arrow:!1,constrainSize:!0,onMouseEnter:m,onMouseLeave:g,content:u.jsx("div",{ref:v,children:l?d:u.jsx(L,{padding:4,children:u.jsx(U,{align:"center",height:"fill",justify:"center",children:u.jsx(pdn,{align:"center",muted:!0,children:u.jsx(ht,{t:s,i18nKey:"inputs.reference.no-results-for-query",values:{searchTerm:n||""}})})})})}),open:!r&&!h,ref:i,portal:!0,referenceElement:a||p,matchReferenceWidth:!0}),[l,s,n,r,i,a]);return u.jsx(qD,{...o,loading:r,ref:t,renderPopover:c})});function vdn(){return f.useContext(npe)||{menuRef:{current:null},menuButtonRef:{current:null},containerRef:{current:null}}}const zle={hits:[],isLoading:!1},ydn=()=>!0;function bdn(e){return e!==null}function xdn(e){var t,n,r,i,a,o;const{createOptions:s,onChange:l,onEditReference:c,onSearch:d,schemaType:h,readOnly:p,id:m,onPathFocus:g,value:v,renderPreview:b,path:y,elementProps:x,focusPath:w}=e,{getReferenceInfo:C}=cY({path:y,schemaType:h,value:v}),[S,_]=f.useState(zle),E=f.useCallback(ae=>{const ne=qa(),se=[Ts({}),st(h.name,["_type"]),st(ne,["_ref"]),st(!0,["_weak"]),st({type:ae.type,weak:h.weak,template:ae.template},["_strengthenOnPublish"])].filter(sa);l(se),c({id:ne,type:ae.type,template:ae.template}),g([])},[l,c,g,h]),k=f.useCallback(ae=>{if(!ae){l(pt()),g([]);return}const ne=S.hits.find(le=>le.id===ae);if(!ne)throw new Error("Selected an item that wasnt part of the result set");const se=[Ts({}),st(h.name,["_type"]),st(fn(ae),["_ref"]),ne.published&&!h.weak?pt(["_weak"]):st(!0,["_weak"]),ne.published?pt(["_strengthenOnPublish"]):st({type:ne==null?void 0:ne.type,weak:h.weak},["_strengthenOnPublish"])].filter(sa);l(se),g([])},[l,g,h.name,h.weak,S.hits]),T=f.useCallback(()=>{l(pt())},[l]),j=f.useCallback(ae=>{ae.key==="Escape"&&g([])},[g]),I=lM(v==null?void 0:v._ref,C),A=f.useRef(null),{push:$}=Pr(),{t:D}=Y(),M=A$(ae=>ae.pipe($t(bdn),mt(ne=>Ai(xe({isLoading:!0}),d(ne).pipe(de(se=>({hits:se,searchString:ne,isLoading:!1})),Cn(se=>($({title:D("inputs.reference.error.search-failed-title"),description:se.message,status:"error",id:`reference-search-fail-${m}`}),console.error(se),xe({hits:[]})))))),il((ne,se)=>({...ne,...se}),zle),Qn(_))),O=f.useCallback(()=>{M("")},[M]),F=f.useCallback(ae=>{ae.key==="Escape"&&g([])},[g]),P=f.useCallback(ae=>{var ne,se;const le=((ne=ae.hit.draft)==null?void 0:ne._id)||((se=ae.hit.published)==null?void 0:se._id)||ae.value;return u.jsx(fNn,{forwardedAs:"button",type:"button",radius:2,tone:"inherit",children:u.jsx(fdn,{getReferenceInfo:C,id:le,renderPreview:b,type:h})})},[h,C,b]),V=f.useCallback(()=>{var ae,ne,se,le;return((ne=(ae=I.result)==null?void 0:ae.preview.draft)==null?void 0:ne.title)||((le=(se=I.result)==null?void 0:se.preview.published)==null?void 0:le.title)||""},[(n=(t=I.result)==null?void 0:t.preview.draft)==null?void 0:n.title,(i=(r=I.result)==null?void 0:r.preview.published)==null?void 0:i.title]),H=f.useCallback(()=>g(["_ref"]),[g]),W=f.useCallback(ae=>{var ne;(ne=A.current)!=null&&ne.contains(ae.relatedTarget)||e.elementProps.onBlur(ae)},[e.elementProps]),G=((o=(a=I==null?void 0:I.result)==null?void 0:a.availability)==null?void 0:o.reason)==="NOT_FOUND"&&!(v!=null&&v._strengthenOnPublish)&&(v==null?void 0:v._weak);$o((w==null?void 0:w[0])==="_ref",(ae,ne)=>{var se;!ae&&ne&&((se=x.ref.current)==null||se.focus())});const X=f.useMemo(()=>S.hits.map(ae=>({value:ae.id,hit:ae})),[S.hits]),z=w.length===1&&w[0]==="_ref",{menuRef:q,menuButtonRef:Z,containerRef:K}=vdn(),J=f.useRef(null),Q=f.useRef(null),re=f.useRef(null);return yn(!(v!=null&&v._ref)&&(()=>{(z||document.activeElement===Z.current)&&T()}),()=>[q.current,Z.current,K.current,J.current,Q.current,re.current]),u.jsx(ee,{space:1,"data-testid":"reference-input",ref:J,children:u.jsxs(ee,{space:2,children:[G?u.jsx(ac,{"data-testid":"alert-nonexistent-document",title:D("inputs.reference.error.nonexistent-document-title"),suffix:u.jsx(ee,{padding:2,children:u.jsx(fe,{text:D("inputs.reference.error.nonexistent-document.clear-button-label"),onClick:T})}),children:u.jsx(N,{size:1,children:u.jsx(ht,{i18nKey:"inputs.reference.error.nonexistent-document-description",t:D,values:{documentId:v._ref}})})}):null,u.jsxs(odn,{ref:A,children:[u.jsx(gdn,{...x,onFocus:H,onBlur:W,"data-testid":"autocomplete",loading:S.isLoading,referenceElement:A.current,options:X,radius:2,placeholder:D("inputs.reference.search-placeholder"),onKeyDown:j,readOnly:I.isLoading||p,onQueryChange:M,searchString:S.searchString,onChange:k,filterOption:ydn,renderOption:P,renderValue:V,openButton:{onClick:O},portalRef:Q,value:v==null?void 0:v._ref}),s.length>0&&u.jsx(ddn,{id:`${m}-selectTypeMenuButton`,readOnly:p,createOptions:s,onCreate:E,onKeyDown:F,menuRef:re})]})]})})}async function NDe(e,t,n,r){if(!e)return{};if(typeof e.filter=="function"){const i=n.slice(0,-1),a=Uy(t,i);return await e.filter({document:t,parentPath:i,parent:a,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function wdn(e){const t=f.useRef(e);return t.current=e,t}function Cdn(e){var t,n,r,i;const a=Dn(),o=a.getClient(Gt),s=en(),l=cM(),c=ua(),{path:d,schemaType:h}=e,{EditReferenceLinkComponent:p,onEditReference:m,activePath:g,initialValueTemplateItems:v}=xDe(),{enableLegacySearch:b=!1}=a.search,y=S_([]),x=wdn(y),w=(t=x.current)==null?void 0:t._type,C=s.get(w),S=f.useMemo(()=>C==null?void 0:C.liveEdit,[C]),_=((n=h.options)==null?void 0:n.disableNew)===!0,E=a.getClient,k=f.useCallback(M=>ar(NDe(h.options,x.current,d,E)).pipe(It(({filter:O,params:F})=>Vcn(o,M,h,{...h.options,filter:O,params:F,tag:"search.reference",maxFieldDepth:l},b)),Cn(O=>{var F;const P=O.details&&O.details.type==="queryParseError";return(F=h.options)!=null&&F.filter&&P&&(O.message='Invalid reference filter, please check the custom "filter" option'),kp(O)})),[h,x,d,E,o,l,b]),T=(i=(r=e.value)==null?void 0:r._strengthenOnPublish)==null?void 0:i.template,j=f.useMemo(()=>f.forwardRef(function(M,O){return p?u.jsx(p,{...M,ref:O,parentRefPath:d,template:T}):null}),[p,d,T]),I=f.useCallback(M=>{m==null||m({parentRefPath:d,id:M.id,type:M.type,template:M.template})},[m,d]),A=Ua(d,(g==null?void 0:g.path)||[])?g==null?void 0:g.state:"none",$=f.useMemo(()=>_?[]:(v||[]).filter(M=>h.to.some(O=>{var F;return O.name===((F=M.template)==null?void 0:F.schemaType)})).map(M=>{var O,F,P;return(O=M.template)!=null&&O.schemaType?{id:M.id,title:M.title||`${M.template.schemaType} from template ${(F=M.template)==null?void 0:F.id}`,i18n:M.i18n,type:M.template.schemaType,icon:M.icon,template:{id:(P=M.template)==null?void 0:P.id,params:M.parameters},permission:{granted:M.granted,reason:M.reason}}:void 0}).filter(sa),[_,v,h.to]),D=f.useCallback((M,O)=>ODe(c,M,O),[c]);return u.jsx(xdn,{...e,onSearch:k,liveEdit:S,getReferenceInfo:D,selectedState:A,editReferenceLinkComponent:j,createOptions:$,onEditReference:I})}function Sdn(e){return Fp(e.schemaType)}function _dn(e){return OI(e.schemaType)}function Edn(e,t,n,r){const i={...e},a=r.y||0,o=r.x||0;return t.top+i.y<=n.top+a?i.y=n.top-t.top+a:t.bottom+i.y>=n.top+n.height-a&&(i.y=n.top+n.height-t.bottom-a),t.left+i.x<=n.left-o?i.x=n.left-t.left+o:t.right+i.x>=n.left+n.width+o&&(i.x=n.left+n.width-t.right+o),i}const kdn=e=>({containerNodeRect:t,draggingNodeRect:n,transform:r})=>!n||!t?r:Edn(r,n,t,e),fY="moving",LDe=R(L)`
  ${e=>e.$moving&&ce`
      z-index: 10000;
      /* prevents hover-effects etc on the dragged element  */
      pointer-events: none;
    `}
`,Tdn={threshold:{x:0,y:.02}},Adn={coordinateGetter:rIt},jdn={duration:200,easing:"ease"};function Idn(e){return e==="x"?Ljt:Bjt}function Ddn(e){return e==="x"?Hjt:Gjt}const $dn=f.memo(function(e){const{items:t,axis:n,onItemMove:r,onItemMoveStart:i,onItemMoveEnd:a,children:o,...s}=e,l=jAt(Vte(zH),Vte(BH,Adn)),c=f.useCallback(h=>{var p,m,g,v;const{active:b,over:y}=h;b.id!==(y==null?void 0:y.id)&&(r==null||r({fromIndex:(m=(p=b.data.current)==null?void 0:p.sortable)==null?void 0:m.index,toIndex:(v=(g=y==null?void 0:y.data.current)==null?void 0:g.sortable)==null?void 0:v.index})),a==null||a()},[r,a]),d=f.useMemo(()=>[kdn({y:4}),...n?[Idn(n)]:[]],[n]);return u.jsx(Djt,{sensors:l,autoScroll:Tdn,modifiers:d,collisionDetection:DAt,onDragEnd:c,onDragStart:i,children:u.jsx(qjt,{items:t,strategy:n?Ddn(n):void 0,children:u.jsx(Vn,{...s,children:o})})})}),Odn=f.forwardRef(function(e,t){const{id:n,children:r,disableTransition:i}=e,{setNodeRef:a,transform:o,transition:s,active:l}=VEe({id:n,transition:i?null:jdn}),c=n===(l==null?void 0:l.id),d=f.useMemo(()=>({transform:wS.Translate.toString(o),transition:s,pointerEvents:l?"none":void 0}),[o,s,l]),h=f.useCallback(p=>{a(p),typeof t=="function"?t(p):t&&(t.current=p)},[t,a]);return u.jsx(LDe,{ref:h,style:d,$moving:c,className:c?fY:"","data-index":e["data-index"],children:r})});function hY(e){const{onItemMove:t,onItemMoveEnd:n,onItemMoveStart:r,sortable:i,...a}=e,o=f.useCallback(s=>{t==null||t(s)},[t]);return i?u.jsx($dn,{onItemMove:o,onItemMoveStart:r,onItemMoveEnd:n,...a}):u.jsx(Vn,{...a})}const pY=f.forwardRef(function(e,t){const{sortable:n,...r}=e;return u.jsx(epe.Provider,{value:e.id,children:n?u.jsx(Odn,{ref:t,...r}):u.jsx(LDe,{ref:t,...r})})});function mY(e){return`inset 0 0 0 ${e.width}px ${e.color}`}function dM(e){const{base:t,border:n,focusRing:r}=e,i=r.offset+r.width,a=0-r.offset,o=t?t.bg:"var(--card-bg-color)";return[a>0&&`inset 0 0 0 ${a}px var(--card-focus-ring-color)`,n&&mY(n),a<0&&`0 0 0 ${0-a}px ${o}`,i>0&&`0 0 0 ${i}px var(--card-focus-ring-color)`].filter(Boolean).join(",")}function BDe(e){return R(e)(t=>{const{$border:n,$radius:r}=t,{card:i,color:a,radius:o}=Ee(t.theme),s={width:n?1:0,color:"var(--card-border-color)"};return ce`
        --card-focus-box-shadow: ${mY(s)};

        border-radius: ${Se(o[r??1])};
        outline: none;
        box-shadow: var(--card-focus-box-shadow);

        &:focus {
          --card-focus-box-shadow: ${dM({border:s,base:a,focusRing:{...i.focusRing,offset:0}})};
        }
      `})}function VDe(e){return e.files&&e.files.length>0?Promise.resolve(Array.from(e.files||[])):zDe(Array.from(e.items||[])).then(cr)}function Mdn(e){const t=Array.from(e.files||[]),n=Array.from(e.items||[]);return t&&t.length>0?Promise.resolve(t):zDe(n).then(cr)}function Ule(e){return e===null?[]:[e]}function zDe(e){return Promise.all(e.map(t=>{if(t.kind==="file"&&t.webkitGetAsEntry){let n;try{n=t.webkitGetAsEntry()}catch{return Ule(t.getAsFile())}return n?n.isDirectory?UDe(n):Ule(t.getAsFile()):[]}if(t.kind==="file"){const n=t.getAsFile();return Promise.resolve(n?[n]:[])}return t.kind==="string"?(console.warn('DataTransfer with kind="string" is currently not supported'),Promise.resolve([])):(console.warn("Unknown DataTransferItem.kind: %s",t.kind),Promise.resolve([]))}))}function UDe(e){if(e.isFile)return new Promise((t,n)=>e.file(t,n)).then(t=>[t]);if(e.isDirectory){const t=e.createReader();return new Promise((n,r)=>t.readEntries(n,r)).then(n=>n.filter(r=>!r.name.startsWith("."))).then(n=>Promise.all(n.map(UDe)).then(cr))}return Promise.resolve([])}function Rdn(e){return e.type==="application/portable-text"}function Pdn(e,t="image/jpeg",n=1){return e.match(/^webkit-fake-url:\/\//)?Promise.reject(new Error("Cannot read image contents from webkit fake url")):new Promise((r,i)=>{const a=new Image;a.crossOrigin="anonymous",a.referrerPolicy="strict-origin-when-cross-origin",a.onload=()=>{const o=document.createElement("canvas");o.width=a.width,o.height=a.height;const s=o.getContext("2d");s==null||s.drawImage(a,0,0,o.width,o.height);try{o.toBlob(r,t,n)}catch(l){i(l)}},a.src=e})}const Fdn="isFileTarget",Ndn={"data-is-file-target":"true"},Ldn=e=>{var t;return((t=e==null?void 0:e.dataset)==null?void 0:t[Fdn])==="true"},Bdn={opacity:0,position:"absolute"};function HDe(e){return f.forwardRef(function(t,n){const{onFiles:r,onFilesOver:i,onFilesOut:a,disabled:o,...s}=t,[l,c]=f.useState(!1),d=f.useRef(null),h=f.useRef(null);f.useImperativeHandle(n,()=>h.current);const p=f.useRef([]),m=f.useCallback(S=>{r==null||r(S)},[r]),g=f.useCallback(S=>{S.target===h.current&&(S.ctrlKey||S.metaKey)&&S.key==="v"&&c(!0)},[]),v=f.useCallback(S=>{VDe(S.clipboardData).then(_=>d.current?_.length>0?_:Vdn(d.current,"image/jpeg"):[]).then(_=>{var E;m(_),c(!1),(E=h.current)==null||E.focus()})},[m]),b=f.useCallback(S=>{p.current=[],S.preventDefault(),S.stopPropagation();const _=S.nativeEvent.dataTransfer;r&&_&&Mdn(_).then(E=>{E&&m(E)}),a==null||a()},[m,r,a]),y=f.useCallback(S=>{r&&(S.preventDefault(),S.stopPropagation())},[r]),x=f.useCallback(S=>{const _=Array.from(S.dataTransfer.items).map(E=>({type:E.type,kind:E.kind}));_.some(E=>Rdn(E))||(S.stopPropagation(),i&&h.current===S.currentTarget&&(p.current=[...new Set(p.current),S.currentTarget],i(_)))},[i]),w=f.useCallback(S=>{S.stopPropagation();const _=p.current.indexOf(S.currentTarget);_>-1&&p.current.splice(_,1),p.current.length===0&&(a==null||a())},[a]),C=f.useRef(!1);return f.useEffect(()=>{var S;!C.current&&l&&d.current?(d.current.focus(),zdn(d.current)):C.current&&!l&&((S=d.current)==null||S.focus()),C.current=l},[l]),u.jsxs(u.Fragment,{children:[u.jsx(e,{...s,ref:h,onKeyDown:o?void 0:g,onDragOver:o?void 0:y,onDragEnter:o?void 0:x,onDragLeave:o?void 0:w,onDrop:o?void 0:b,"data-test-id":"file-target",...Ndn}),!o&&l&&u.jsx("div",{contentEditable:!0,onPaste:v,ref:d,style:Bdn})]})})}function Vdn(e,t="image/jpeg"){return e.isContentEditable?new Promise(n=>setTimeout(n,10)).then(()=>Array.from(e.querySelectorAll("img"))).then(n=>(e.innerHTML="",n)).then(n=>Promise.all(n.map(r=>Pdn(r.src)))).then(n=>n.map(r=>new File([r],"pasted-image.jpg",{type:t}))):Promise.reject(new Error(`Expected element to be contentEditable="true". Instead found a non contenteditable ${e.tagName}`))}function zdn(e){const t=document.createRange();t.selectNodeContents(e);const n=window.getSelection();n==null||n.removeAllRanges(),n==null||n.addRange(t)}function Udn(e){const{hoveringFiles:t,types:n,resolveUploader:r}=e,i=t.filter(l=>n.some(c=>r(c,l))),a=t.length-i.length,o=n.length>1,{t:s}=Y();return u.jsx(u.Fragment,{children:i.length>0?u.jsxs(u.Fragment,{children:[u.jsxs(An,{space:2,children:[u.jsx(N,{children:u.jsx(u2,{})}),o?s("inputs.files.common.drop-message.drop-to-upload-multi",{count:i.length}):s("inputs.files.common.drop-message.drop-to-upload"),u.jsx(N,{})]}),a>0&&u.jsx(L,{marginTop:4,children:u.jsxs(An,{space:2,children:[u.jsx(N,{muted:!0,size:1,children:u.jsx(gf,{})}),u.jsx(N,{muted:!0,size:1,children:s("inputs.files.common.drop-message.drop-to-upload.rejected-file-message",{count:a})})]})})]}):u.jsxs(An,{space:2,children:[u.jsx(N,{children:u.jsx(gf,{})}),u.jsx(N,{children:s("inputs.files.common.drop-message.drop-to-upload.no-accepted-file-message",{count:t.length})})]})})}const Hdn=R(Jo)`
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  background-color: var(--card-bg-color);
  opacity: 0.8;
`,Wdn=R.div`
  position: relative;
`;function Gdn(e,t,n){return e.map(r=>({type:r,uploader:t(r,n)})).filter(r=>r.uploader)}function Ydn(e){const t=HDe(e);return f.forwardRef(function(n,r){const{children:i,resolveUploader:a,onUpload:o,types:s,...l}=n,{push:c}=Pr(),{t:d}=Y(),h=f.useCallback((b,y)=>{const{type:x,uploader:w}=y;o==null||o({file:b,schemaType:x,uploader:w})},[o]),p=f.useCallback(b=>{if(!a)return;const y=b.map(C=>({file:C,uploaderCandidates:Gdn(s,a,C)})),x=y.filter(C=>C.uploaderCandidates.length>0),w=y.filter(C=>C.uploaderCandidates.length===0);w.length>0&&c({closable:!0,status:"warning",title:d("inputs.array.error.cannot-upload-unable-to-convert",{count:w.length}),description:w.map((C,S)=>u.jsxs(U,{gap:2,padding:2,children:[u.jsx(L,{children:u.jsx(N,{weight:"medium",children:C.file.name})}),u.jsx(L,{children:u.jsxs(N,{size:1,children:["(",C.file.type,")"]})})]},S))}),x.forEach(C=>{h(C.file,Zp(C.uploaderCandidates,S=>S.uploader.priority)[0])})},[c,a,s,h,d]),[m,g]=f.useState([]),v=f.useCallback(()=>g([]),[]);return u.jsx(Wdn,{children:u.jsxs(t,{...l,ref:r,onFiles:p,onFilesOver:g,onFilesOut:v,children:[a&&m.length>0&&u.jsx(Hdn,{zOffset:10,children:u.jsx(Udn,{hoveringFiles:m,types:s,resolveUploader:a})}),i]})})})}const qdn=R(te)`
  height: 100%;
`,fM=BDe(Ydn(qdn));function Kdn(e,t){return t.type==="toggle"?{open:!e.open}:{open:!1}}function v7(e){var t;const[n,r]=f.useReducer(Kdn,{open:!1}),i=f.useRef(null),a=(t=e.popoverProps.referenceElement)!=null?t:null;yn(()=>r({type:"close"}),()=>[i.current,a]),Xo(f.useCallback(c=>{c.key==="Escape"&&n.open&&(r({type:"close"}),a==null||a.focus())},[n,a]));const{onSelect:o,...s}=e.insertMenuProps,l=f.useCallback(c=>{o(c),r({type:"close"})},[o]);return{popover:f.useMemo(()=>u.jsx(Fn,{ref:i,open:n.open,constrainSize:!0,overflow:"hidden",portal:!0,content:u.jsx(Zdn,{...s,onSelect:l}),...e.popoverProps}),[l,s,e.popoverProps,n]),state:n,send:r}}function Zdn(e){const{t}=Y();return u.jsx(Inn,{...e,labels:{"insert-menu.filter.all-items":t("inputs.array.insert-menu.filter.all-items"),"insert-menu.search.no-results":t("inputs.array.insert-menu.search.no-results"),"insert-menu.search.placeholder":t("inputs.array.insert-menu.search.placeholder"),"insert-menu.toggle-grid-view.tooltip":t("inputs.array.insert-menu.toggle-grid-view.tooltip"),"insert-menu.toggle-list-view.tooltip":t("inputs.array.insert-menu.toggle-list-view.tooltip")}})}function gY(e){var t,n,r,i;const{schemaType:a,readOnly:o,children:s,onValueCreate:l,onItemAppend:c}=e,{t:d}=Y(),[h,p]=f.useState(null),[m,g]=f.useState(null),v=f.useCallback(C=>{const S=l(C);c(S)},[l,c]),b=f.useCallback(()=>{v(a.of[0])},[a,v]),y=a.of.length>1?"inputs.array.action.add-item-select-type":"inputs.array.action.add-item",x={icon:wa,mode:"ghost",size:"large",text:d(y)},w=v7({insertMenuProps:{...(t=e.schemaType.options)==null?void 0:t.insertMenu,schemaTypes:e.schemaType.of,onSelect:v},popoverProps:{placement:"bottom",fallbackPlacements:["top"],matchReferenceWidth:(i=(r=(n=e.schemaType.options)==null?void 0:n.insertMenu)==null?void 0:r.views)==null?void 0:i.some(C=>C.name==="grid"),referenceBoundary:h,referenceElement:m}});return o?u.jsx(gt,{portal:!0,content:d("inputs.array.read-only-label"),children:u.jsx(Vn,{children:u.jsx(fe,{...x,"data-testid":"add-read-object-button",disabled:!0})})}):u.jsxs(Vn,{ref:p,gap:1,style:{gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))"},children:[a.of.length===1?u.jsx(fe,{...x,onClick:b,"data-testid":"add-single-object-button"}):u.jsxs(u.Fragment,{children:[u.jsx(fe,{...x,"data-testid":"add-multiple-object-button",selected:w.state.open,onClick:()=>{w.send({type:"toggle"})},ref:g}),w.popover]}),s]})}const Xdn=R(fe)(e=>{const{$grid:t,disabled:n}=e;return n?ce``:ce`
    cursor: ${t?"move":"ns-resize"};
  `}),WDe=function(e){const t=f.useContext(epe),{mode:n="bleed",readOnly:r,...i}=e,{listeners:a,attributes:o}=VEe({id:t,disabled:r}),{t:s}=Y();return u.jsx(Xdn,{icon:gB,tooltipProps:{content:s("inputs.array.action.drag.tooltip"),delay:{open:1e3},disabled:!!r},mode:n,"data-ui":"DragHandleButton",...i,...o,...a,disabled:r})},Jdn=R(U)`
  min-height: 33px;
`,Qdn=R(U)`
  position: absolute;
  top: 0;
  right: 0;
  height: 33px;
`,y7=R(te)`
  position: absolute;
  top: 0;
  left: 0;
`,efn=R(te)`
  transition: border-color 250ms;
  box-sizing: border-box;
  position: relative;

  @media (hover: hover) {
    ${y7} {
      opacity: 0;
    }

    &:hover,
    &:focus-within {
      ${y7} {
        opacity: 1;
      }
    }
  }

  .${fY} & {
    box-shadow:
      0 0 0 0,
      0 8px 17px 2px var(--card-shadow-umbra-color),
      0 3px 14px 2px var(--card-shadow-penumbra-color),
      0 5px 5px -3px var(--card-shadow-ambient-color);
  }

  &[aria-selected='true'] {
    box-shadow: 0 0 0 2px var(--card-focus-ring-color);
  }
`;function GDe(e){const{validation:t,selected:n,tone:r,presence:i,children:a,dragHandle:o,menu:s,footer:l,readOnly:c,...d}=e;return u.jsxs(efn,{forwardedAs:U,direction:"column",border:!0,selected:n,"aria-selected":n,radius:1,tone:r,...d,children:[a,o&&u.jsx(y7,{margin:1,radius:2,display:"flex",tone:"inherit","data-ui":"DragHandleCard",children:u.jsx(WDe,{$grid:!0,mode:"ghost",readOnly:!!c})}),i&&u.jsx(Qdn,{align:"center",marginX:1,children:i}),u.jsxs(Jdn,{align:"center",paddingX:1,sizing:"border",justify:"space-between",children:[u.jsx(U,{children:t}),u.jsx(L,{children:l}),s]})]})}const tfn=R(te)`
  max-width: ${({theme:e})=>e.sanity.container[1]}px;
`;function nfn(e){const{value:t,onFocus:n,vertical:r,...i}=e,[a,o]=f.useState(!1),s=f.useRef(null),{t:l}=Y();yn(()=>o(!1),()=>[s.current]);const c=f.useCallback(p=>{(p.key==="Escape"||p.key==="Tab")&&o(!1)},[]),d=f.useCallback(()=>{o(p=>!p)},[]),h=ks(t);return u.jsx(Fn,{open:a,ref:s,onKeyDown:c,portal:!0,constrainSize:!0,tone:"default",content:u.jsx(tfn,{margin:1,padding:3,onKeyDown:c,tabIndex:0,overflow:"auto",children:u.jsxs(ee,{space:4,children:[u.jsx(L,{children:u.jsx(N,{weight:"medium",children:l("inputs.array.error.type-is-incompatible-title")})}),u.jsx(N,{size:1,children:u.jsx(ht,{t:l,i18nKey:"inputs.array.error.current-schema-not-declare-description",values:{typeName:h}})}),u.jsx(L,{children:u.jsxs(N,{size:1,children:[u.jsx(a2,{})," ",l("inputs.array.error.can-delete-but-no-edit-description")]})}),u.jsxs(ee,{space:2,children:[u.jsx(N,{size:1,weight:"medium",children:l("inputs.array.error.json-representation-description")}),u.jsx(te,{padding:2,overflow:"auto",border:!0,children:u.jsx(fi,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:u.jsx(te,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,style:{height:"100%"},onFocus:n,onClick:d,onKeyDown:c,__unstable_focusRing:!0,...i,children:u.jsxs(ee,{space:4,marginTop:2,children:[u.jsx(L,{margin:1,children:u.jsx(N,{align:"center",size:4,children:u.jsx(Hl,{})})}),u.jsx(N,{align:"center",size:1,children:u.jsx(ht,{t:l,i18nKey:"inputs.array.error.type-is-incompatible-prompt",values:{typeName:h}})})]})})})}const rfn={portal:!0,tone:"default"};function ifn(e){const{member:t,sortable:n,readOnly:r}=e,i=f.useId(),{onChange:a}=gu(),{t:o}=Y(),s=f.useCallback(()=>{a(jt.from([pt([{_key:t.key}])]))},[a,t.key]);return u.jsx(GDe,{dragHandle:n,readOnly:r,tone:"caution",style:{height:"100%"},menu:u.jsx(Kt,{button:u.jsx(wi,{}),id:`${i}-menuButton`,menu:u.jsx(Ot,{children:u.jsx(We,{text:o("inputs.array.action.remove-invalid-item"),tone:"critical",icon:Kr,onClick:s})}),popover:rfn}),children:t.error.type==="INVALID_ITEM_TYPE"?u.jsx(nfn,{value:t.error.value,vertical:!0}):u.jsx("div",{children:o("inputs.array.error.unexpected-error",{error:t.error.type})})})}function vY(e=[]){return e.reduce((t,n,r)=>{const i=typeof n;if(i==="number")return`${t}[${n}]`;if(i==="string")return`${t}${r===0?"":"."}${n}`;if(Uu(n))return`${t}[_key=="${n._key}"]`;throw new Error(`Unsupported path segment "${n}"`)},"")}function afn(e){return e!==null||e!==void 0}function lI(e,t,n){if(!n)throw new Error("missing context");if(e===!0)return[];if(Array.isArray(e))return e.flatMap(a=>lI(a,t,n)).filter(afn);if(typeof e=="string")return lI({message:e},t,n);if(typeof e.message!="string")throw new Error(`${vY(n.path)}: Validator must return 'true' if valid or an error message as a string on errors`);const{message:r}=e,i=[];e.path&&i.push(e.path);for(const a of e.paths||[])i.push(a);return i.length?i.map(a=>({path:(n.path||[]).concat(a),level:t||"error",item:{message:r},message:r})):[{level:t||"error",item:{message:r},message:r,path:n.path||[]}]}function ofn(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}function YDe(e,t){const{currentLocale:n}=t,r=n.id;if(e[r])return e[r];if(r.includes("-")){const i=r.split("-",1)[0];if(e[i])return e[i]}return e["en-US"]||e["en-GB"]||e.en||"Unknown validation error (not localized)"}function qDe(e){return e!==!0&&typeof e<"u"&&typeof e!="string"&&dr(e)&&!("message"in e)}function zS(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!zS(e[n],t[n]))return!1;return!0}if(Array.isArray(e)!=Array.isArray(t))return!1;if(e&&t&&typeof e=="object"&&typeof t=="object"){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(e instanceof Date!=t instanceof Date)return!1;if(e instanceof RegExp&&t instanceof RegExp)return e.toString()==t.toString();if(e instanceof RegExp!=t instanceof RegExp)return!1;for(let r=0;r<n.length;r++)if(n[r]!=="_key"&&!Object.prototype.hasOwnProperty.call(t,n[r]))return!1;for(let r=0;r<n.length;r++){const i=n[r];if(i!=="_key"&&!zS(e[i],t[i]))return!1}return!0}return!1}const sfn={}.toString,Hle=[Object,Function,Array,String,Boolean,Number,Date,RegExp,Error];function lfn(e){for(let t=0;t<Hle.length;t++)if(Hle[t]===e)return!0;return!1}function KDe(e){const t=sfn.call(e).slice(8,-1);if(e==null)return t.toLowerCase();const n=e.constructor;return n&&!lfn(n)?n.name:t}const Wle=5e3,Gle=e=>{var t;return e.message?e.message:e.results.length===1?(t=e.results[0])==null?void 0:t.message:e.i18n.t("{{messages, list}}",{messages:e.results.map(n=>{var r;return n.message||((r=n.item)==null?void 0:r.message)}),formatParams:{messages:{style:"long",type:e.operation}}})},W0={type:(e,t,n,{i18n:r})=>{const i=KDe(t);return i!==e&&i!=="undefined"?n||r.t("validation:generic.incorrect-type",{actualType:i,expectedType:e}):!0},presence:(e,t,n,{i18n:r})=>t===void 0&&e==="required"?n||r.t("validation:generic.required"):!0,all:async(e,t,n,r)=>{const i=(await Promise.all(e.map(a=>a.validate(t,r)))).flat();return i.length===0?!0:Gle({message:n,results:i,operation:"conjunction",i18n:r.i18n})},either:async(e,t,n,r)=>{const i=await Promise.all(e.map(o=>o.validate(t,r))),a=i.flat();return i.find(o=>!o.length)?!0:Gle({message:n,results:a,operation:"disjunction",i18n:r.i18n})},valid:(e,t,n,{i18n:r})=>{const i=typeof t;if(i==="undefined")return!0;const a=(i==="number"||i==="string")&&`${t}`,o=a&&a.length>30?`${a.slice(0,30)}…`:a;return e.some(s=>zS(s,t))?!0:n||r.t("validation:generic.not-allowed",a?{context:"hint",replace:{hint:o}}:{})},custom:async(e,t,n,r)=>{const i=setTimeout(()=>{r.environment==="studio"&&console.warn(`Custom validator at ${vY(r.path)} has taken more than ${Wle}ms to respond`)},Wle);let a;try{a=await e(t,r)}finally{clearTimeout(i)}return qDe(a)?YDe(a,r.i18n):typeof a=="string"&&n||a}},ufn={...W0,min:(e,t,n,{i18n:r,type:i})=>{if(!t||t.length>=e)return!0;const a=ng(i)?"blocks":void 0;return n||r.t("validation:array.minimum-length",{minLength:e,context:a})},max:(e,t,n,{i18n:r,type:i})=>{if(!t||t.length<=e)return!0;const a=ng(i)?"blocks":void 0;return n||r.t("validation:array.maximum-length",{maxLength:e,context:a})},length:(e,t,n,{i18n:r,type:i})=>{if(!t||t.length===e)return!0;const a=ng(i)?"blocks":void 0;return n||r.t("validation:array.exact-length",{wantedLength:e,context:a})},presence:(e,t,n,{i18n:r})=>e==="required"&&!t?n||r.t("validation:generic.required",{context:"array"}):!0,valid:(e,t,n,{i18n:r})=>{if(typeof t>"u")return!0;const i=[];for(let o=0;o<t.length;o++){const s=t[o];if(e.some(c=>zS(c,s)))continue;const l=s&&s._key?{_key:s._key}:o;i.push([l])}const a=n||r.t("validation:generic.not-allowed");return i.map(o=>({message:a,path:o}))},unique:(e,t,n,{i18n:r})=>{const i=[];if(!t)return!0;for(let s=0;s<t.length;s++)for(let l=s+1;l<t.length;l++){const c=t[s],d=t[l];zS(c,d)&&(i.indexOf(s)===-1&&i.push(s),i.indexOf(l)===-1&&i.push(l))}const a=i.map(s=>{const l=t[s];return[l&&l._key?{_key:l._key}:s]}),o=n||r.t("validation:array.item-duplicate");return a.map(s=>({message:o,path:s}))}},cfn={...W0,presence:(e,t,n,{i18n:r})=>e==="required"&&typeof t!="boolean"?n||r.t("validation:generic.required",{context:"boolean"}):!0};function Yle(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const dfn=/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/,qle=(e="",t,n)=>{const r=(n==null?void 0:n.dateFormat)||Xp,i=(n==null?void 0:n.timeFormat)||JU;return Eb(t,e==="date"?r:`${r} ${i}`,e==="date")};function Lk(e,t=!1){if(!e)return null;if(e==="now")return new Date;const n=new Date(e),r=isNaN(n.getTime());if(r&&t)throw new Error(`Unable to parse "${e}" to a date`);return r?null:n}const ffn={...W0,type:(e,t,n,{i18n:r})=>typeof t>"u"||dfn.test(`${t}`)?!0:n||r.t("validation:date.invalid-format"),min:(e,t,n,{type:r,i18n:i})=>{const a=Lk(t),o=Lk(e,!0);if(!a||!t||a>=o)return!0;if(!r)throw new Error("`type` was not provided in validation context.");const s=Yle(r.options)?r.options:{};return n||i.t("validation:date.minimum",{minDate:qle(r.name,o,s),providedMinDate:e})},max:(e,t,n,{type:r,i18n:i})=>{const a=Lk(t),o=Lk(e,!0);if(!a||!t||a<=o)return!0;if(!r)throw new Error("`type` was not provided in validation context.");const s=Yle(r.options)?r.options:{};return n||i.t("validation:date.maximum",{maxDate:qle(r.name,o,s),providedMaxDate:e})}},hfn=/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,pfn={...W0,integer:(e,t,n,{i18n:r})=>Number.isInteger(t)?!0:n||r.t("validation:number.non-integer"),precision:(e,t,n,{i18n:r})=>{if(t===void 0)return!0;const i=t.toString().match(hfn);return Math.max((i[1]?i[1].length:0)-(i[2]?parseInt(i[2],10):0),0)>e?n||r.t("validation:number.maximum-precision",{limit:e}):!0},min:(e,t,n,{i18n:r})=>t>=e?!0:n||r.t("validation:number.minimum",{minNumber:e}),max:(e,t,n,{i18n:r})=>t<=e?!0:n||r.t("validation:number.maximum",{maxNumber:e}),greaterThan:(e,t,n,{i18n:r})=>t>e?!0:n||r.t("validation:number.greater-than",{threshold:e}),lessThan:(e,t,n,{i18n:r})=>t<e?!0:n||r.t("validation:number.less-than",{threshold:e})},mfn=["_key","_type","_weak"],gfn={...W0,presence:(e,t,n,{i18n:r})=>{if(e!=="required")return!0;const i=t&&Object.keys(t).filter(a=>!mfn.includes(a));return t===void 0||i&&i.length===0?n||r.t("validation:generic.required",{context:"object"}):!0},reference:async(e,t,n,r)=>{if(!t)return!0;const{type:i,getDocumentExists:a,i18n:o}=r;if(!qs(t))return n||o.t("validation:object.not-reference");if(!i)throw new Error("`type` was not provided in validation context");if("weak"in i&&i.weak)return!0;if(!a)throw new Error("`getDocumentExists` was not provided in validation context");return await a({id:t._ref})?!0:o.t("validation:object.reference-not-published",{documentId:t._ref})},assetRequired:(e,t,n,{i18n:r})=>!t||!t.asset||!t.asset._ref?n||r.t("validation:object.asset-required",{context:e.assetType||""}):!0},OF="http://sanity",vfn=e=>/^\.*\//.test(e),yfn=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,bfn={...W0,min:(e,t,n,{i18n:r})=>!t||t.length>=e?!0:n||r.t("validation:string.minimum-length",{minLength:e}),max:(e,t,n,{i18n:r})=>!t||t.length<=e?!0:n||r.t("validation:string.maximum-length",{maxLength:e}),length:(e,t,n,{i18n:r})=>(t||"").length===e?!0:n||r.t("validation:string.exact-length",{wantedLength:e}),uri:(e,t,n,{i18n:r})=>{const i=t||"";if(!i)return!0;const{options:a}=e,{allowCredentials:o,relativeOnly:s}=a,l=a.allowRelative||s;let c;try{c=l?new URL(i,OF):new URL(i)}catch{return n||r.t("validation:string.url.invalid")}if(s&&c.origin!==OF)return n||r.t("validation:string.url.not-relative");if(!l&&c.origin===OF&&vfn(i))return n||r.t("validation:string.url.not-absolute");if(!o&&(c.username||c.password))return n||r.t("validation:string.url.includes-credentials");const d=c.protocol.replace(/:$/,"");return a.scheme.some(h=>h.test(d))?!0:n||r.t("validation:string.url.disallowed-scheme",{scheme:d})},stringCasing:(e,t,n,{i18n:r})=>{const i=t||"";return e==="uppercase"&&i!==i.toLocaleUpperCase()?n||r.t("validation:string.uppercase"):e==="lowercase"&&i!==i.toLocaleLowerCase()?n||r.t("validation:string.lowercase"):!0},presence:(e,t,n,{i18n:r})=>e==="required"&&!t?n||r.t("validation:generic.required",{context:"string"}):!0,regex:(e,t,n,{i18n:r})=>{const{pattern:i,name:a,invert:o}=e,s=a||`${i.toString()}`,l=t||"";i.lastIndex=0;const c=i.test(l);return!o&&!c||o&&c?n||(o?r.t("validation:string.regex-match",{name:s}):r.t("validation:string.regex-does-not-match",{name:s})):!0},email:(e,t,n,{i18n:r})=>{const i=`${t||""}`.trim();return!i||yfn.test(i)?!0:n||r.t("validation:string.email")}};var xfn=Object.defineProperty,wfn=(e,t,n)=>t in e?xfn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uo=(e,t,n)=>wfn(e,typeof t!="symbol"?t+"":t,n);const Cfn={Boolean:cfn,Number:pfn,String:bfn,Array:ufn,Object:gfn,Date:ffn},ZDe=e=>e&&e.type?ZDe(e.type):e,Sfn=e=>typeof e!="object"||!e?!1:e.type===XDe.FIELD_REF,_fn=[],Kle=Symbol("FIELD_REF"),Efn=["Array","Boolean","Date","Number","Object","String"];var da;const XDe=(da=class{constructor(e){uo(this,"_type"),uo(this,"_level"),uo(this,"_required"),uo(this,"_typeDef"),uo(this,"_message"),uo(this,"_rules",[]),uo(this,"_fieldRules"),uo(this,"valueOfField",da.valueOfField.bind(da)),this._typeDef=e,this.reset()}_mergeRequired(e){if(this._required==="required"||e._required==="required")return"required";if(this._required==="optional"||e._required==="optional")return"optional"}error(e){const t=this.clone();return t._level="error",t._message=e||void 0,t}warning(e){const t=this.clone();return t._level="warning",t._message=e||void 0,t}info(e){const t=this.clone();return t._level="info",t._message=e||void 0,t}reset(){return this._type=this._type||void 0,this._rules=(this._rules||[]).filter(e=>e.flag==="type"),this._message=void 0,this._required=void 0,this._level="error",this._fieldRules=void 0,this}isRequired(){return this._required==="required"}clone(){const e=new da;return e._type=this._type,e._message=this._message,e._required=this._required,e._rules=OBt(this._rules),e._level=this._level,e._fieldRules=this._fieldRules,e._typeDef=this._typeDef,e}cloneWithRules(e){const t=this.clone(),n=new Set;return e.forEach(r=>{r.flag==="type"&&(t._type=r.constraint),n.add(r.flag)}),t._rules=t._rules.filter(r=>{const i=["type","uri","email"].includes(r.flag),a=n.has(r.flag);return!(i&&a)}).concat(e),t}merge(e){if(this._type&&e._type&&this._type!==e._type)throw new Error("merge() failed: conflicting types");const t=this.cloneWithRules(e._rules);return t._type=this._type||e._type,t._message=this._message||e._message,t._required=this._mergeRequired(e),t._level=this._level==="error"?e._level:this._level,t}type(e){const t=`${e.slice(0,1).toUpperCase()}${e.slice(1)}`;if(!Efn.includes(t))throw new Error(`Unknown type "${e}"`);const n=this.cloneWithRules([{flag:"type",constraint:t}]);return n._type=t,n}all(e){return this.cloneWithRules([{flag:"all",constraint:e}])}either(e){return this.cloneWithRules([{flag:"either",constraint:e}])}optional(){const e=this.cloneWithRules([{flag:"presence",constraint:"optional"}]);return e._required="optional",e}required(){const e=this.cloneWithRules([{flag:"presence",constraint:"required"}]);return e._required="required",e}custom(e,t={}){return t.bypassConcurrencyLimit&&Object.assign(e,{bypassConcurrencyLimit:!0}),this.cloneWithRules([{flag:"custom",constraint:e}])}min(e){return this.cloneWithRules([{flag:"min",constraint:e}])}max(e){return this.cloneWithRules([{flag:"max",constraint:e}])}length(e){return this.cloneWithRules([{flag:"length",constraint:e}])}valid(e){const t=Array.isArray(e)?e:[e];return this.cloneWithRules([{flag:"valid",constraint:t}])}integer(){return this.cloneWithRules([{flag:"integer"}])}precision(e){return this.cloneWithRules([{flag:"precision",constraint:e}])}positive(){return this.cloneWithRules([{flag:"min",constraint:0}])}negative(){return this.cloneWithRules([{flag:"lessThan",constraint:0}])}greaterThan(e){return this.cloneWithRules([{flag:"greaterThan",constraint:e}])}lessThan(e){return this.cloneWithRules([{flag:"lessThan",constraint:e}])}uppercase(){return this.cloneWithRules([{flag:"stringCasing",constraint:"uppercase"}])}lowercase(){return this.cloneWithRules([{flag:"stringCasing",constraint:"lowercase"}])}regex(e,t,n){var r,i;const a=typeof t=="string"?t:(r=t==null?void 0:t.name)!=null?r:n==null?void 0:n.name,o=typeof t=="string"?!1:(i=t==null?void 0:t.invert)!=null?i:n==null?void 0:n.invert,s={pattern:e,name:a,invert:o||!1};return this.cloneWithRules([{flag:"regex",constraint:s}])}email(){return this.cloneWithRules([{flag:"email"}])}uri(e){const t=(e==null?void 0:e.scheme)||["http","https"],n=Array.isArray(t)?t:[t];if(!n.length)throw new Error("scheme must have at least 1 scheme specified");const r={options:{scheme:n.map(i=>{if(!(i instanceof RegExp)&&typeof i!="string")throw new Error("scheme must be a RegExp or a String");return typeof i=="string"?new RegExp(`^${ofn(i)}$`):i}),allowRelative:(e==null?void 0:e.allowRelative)||!1,relativeOnly:(e==null?void 0:e.relativeOnly)||!1,allowCredentials:(e==null?void 0:e.allowCredentials)||!1}};return this.cloneWithRules([{flag:"uri",constraint:r}])}unique(){return this.cloneWithRules([{flag:"unique"}])}reference(){return this.cloneWithRules([{flag:"reference"}])}fields(e){if(this._type!=="Object")throw new Error("fields() can only be called on an object type");const t=this.cloneWithRules([]);return t._fieldRules=e,t}assetRequired(){const e=ZDe(this._typeDef);let t;return e&&["image","file"].includes(e.name)?t=e.name==="image"?"image":"file":t="asset",this.cloneWithRules([{flag:"assetRequired",constraint:{assetType:t}}])}async validate(e,{__internal:t={},...n}){const{customValidationConcurrencyLimiter:r}=t,i=e==null;if(i&&this._required==="optional")return _fn;const a=this._required===void 0&&i?this._rules.filter(s=>s.flag==="custom"):this._rules,o=this._type&&Cfn[this._type]||W0;return(await Promise.all(a.map(async s=>{if(s.flag===void 0)throw new Error('Invalid rule, did not contain "flag"-property');const l=o[s.flag];if(!l){const h=this._type?`type "${this._type}"`:"rule without declared type";throw new Error(`Validator for flag "${s.flag}" not found for ${h}`)}let c="constraint"in s?s.constraint:null;if(Sfn(c)&&(c=Jn(n.parent,c.path)),s.flag==="custom"&&r&&!(c!=null&&c.bypassConcurrencyLimit)){const h=c;c=async(...p)=>{await r.ready();try{return await h(...p)}finally{r.release()}}}const d=qDe(this._message)?YDe(this._message,n.i18n):this._message;try{const h=await l(c,e,d,n);return lI(h,this._level,n)}catch(h){const p=`${vY(n.path)}: Exception occurred while validating value: ${h.message}`;return lI({message:p},"error",n)}}))).flat()}},uo(da,"FIELD_REF",Kle),uo(da,"array",e=>new da(e).type("Array")),uo(da,"object",e=>new da(e).type("Object")),uo(da,"string",e=>new da(e).type("String")),uo(da,"number",e=>new da(e).type("Number")),uo(da,"boolean",e=>new da(e).type("Boolean")),uo(da,"dateTime",e=>new da(e).type("Date")),uo(da,"valueOfField",e=>({type:Kle,path:e})),da),kfn=h$(Afn);function Tfn(e){const t=e.indexOf("drafts.")===0;return{published:t?e.slice(7):e,draft:t?e:`drafts.${e}`}}function Zle(e){return e.reduce((t,n,r)=>{const i=typeof n=="number",a=Uu(n),o=i||a?"[]":`${r===0?"":"."}${n}`;return`${t}${o}`},"")}const Xle=(e,t)=>{const{getClient:n,document:r,path:i,type:a}=t,o=a==null?void 0:a.options;if(!r)throw new Error("`document` was not provided in validation context.");if(!i)throw new Error("`path` was not provided in validation context.");const s=(o==null?void 0:o.disableArrayWarning)||!1,{published:l,draft:c}=Tfn(r._id),d=r._type,h=Zle(i.concat("current"));!s&&h.includes("[]")&&t.environment==="studio"&&kfn(Zle(i));const p=["_type == $docType","!(_id in [$draft, $published])",`${h} == $slug`].join(" && ");return n({apiVersion:"2023-11-13"}).fetch(`!defined(*[${p}][0]._id)`,{docType:d,draft:c,published:l,slug:e},{tag:"validation.slug-is-unique"})};function Afn(e){console.warn([`Slug field at path ${e} is within an array and cannot be automatically checked for uniqueness`,'If you need to check for uniqueness, provide your own "isUnique" method',"To disable this message, set `disableArrayWarning: true` on the slug `options` field"].join(`
`))}const jfn=async(e,t)=>{var n;if(!e)return!0;const{i18n:r}=t;if(typeof e!="object"||Array.isArray(e))return r.t("validation:slug.not-object");if(!A4e(e)||e.current.trim().length===0)return r.t("validation:slug.missing-current");const i=(n=t==null?void 0:t.type)==null?void 0:n.options,a=(i==null?void 0:i.isUnique)||Xle,o={...t,parent:t.parent,type:t.type,defaultIsUnique:Xle};return await a(e.current,o)?!0:r.t("validation:slug.not-unique",{slug:e.current})},Ifn={array:!0,boolean:!0,date:!0,number:!0,object:!0,string:!0},Dfn=e=>e in Ifn;function yY(e,t=new Set){return e?t.has(e)?[]:(t.add(e),[...e.type?yY(e.type,t):[],e]):[]}function $fn(e,t){let n=e;Dfn(t.jsonType)&&(n=n.type(t.jsonType));const r=(t==null?void 0:t.options)&&typeof t.options=="object"&&"list"in t.options&&t.options.list;return Array.isArray(r)&&(n=n.valid(r.map(i=>Ofn(i,t)))),t.name==="datetime"||t.name==="date"?n.type("Date"):t.name==="url"?n.uri():t.name==="slug"?n.custom(jfn,{bypassConcurrencyLimit:!0}):t.name==="reference"?n.reference():t.name==="email"?n.email():n}function JDe(e){return e?!("fields"in e)&&e.type?JDe(e.type):!("fields"in e)||!Array.isArray(e.fields)?!1:e.fields.some(t=>t.name==="value"):!1}function Ofn(e,t){return t.jsonType==="object"&&JDe(t)||e.value===void 0?e:e.value}function US(e){if(!e)return[];const t=e.validation;if(Array.isArray(t))return t.flatMap(r=>US({...e,validation:r}));if(t&&typeof t=="object")return[t];const n=Object.values(yY(e).reduce((r,i)=>(r[i.name]=i,r),{})).reduce($fn,new XDe(e));return t?US({...e,validation:t(n)}):[n]}function Mfn(e){return wT(e,new Set),e}function wT(e,t){if(!t.has(e)){if(t.add(e),e.validation=US(e),"fields"in e)for(const n of e.fields)wT(n.type,t);if("of"in e)for(const n of e.of)wT(n,t);if(e.annotations)for(const n of e.annotations)wT(n,t)}}function Rfn(e){return e.getTypeNames().forEach(t=>{const n=e.get(t);n&&Mfn(n)}),e}const Pfn=typeof window>"u"||typeof document>"u",Ffn=[Nl],Nfn=h$(function(){const e=Lfn();return e.init(),{currentLocale:Nl,locales:Ffn,loadNamespaces:e.loadNamespaces,t:e.t}});function Lfn(){var e;const t={[Nl.id]:{}},n=((e=TIe.bundles)==null?void 0:e.filter(Win))||[],r=new Set;for(const i of n)t[Nl.id][i.namespace]=i.resources,r.add(i.namespace);return uTe({ns:Array.from(r),defaultNS:jy,initImmediate:!0,partialBundledLanguages:!0,fallbackLng:Nl.id,lng:Nl.id,supportedLngs:[Nl.id],debug:!1,load:"currentOnly",resources:t,interpolation:{escapeValue:Pfn}})}const Bfn=function(e,t){const n=Date.now();return window.setTimeout(()=>{e({didTimeout:!1,timeRemaining(){return Math.max(0,Date.now()-n)}})},0)},Vfn=function(e){return window.clearTimeout(e)},uI=typeof window>"u"?void 0:window,zfn=(uI==null?void 0:uI.requestIdleCallback)||Bfn,Ufn=(uI==null?void 0:uI.cancelIdleCallback)||Vfn,Hfn=e=>t=>{var n;if(typeof t!="object"||!t)return!0;const r=new Set((n=e.fields)==null?void 0:n.map(i=>i.name));return Object.keys(t).filter(i=>!i.startsWith("_")).filter(i=>!r.has(i)).map(i=>({message:`Field '${i}' does not exist on type '${e.name}'`,path:[i]}))},Wfn=10;PBt(Wfn);const Jle=e=>typeof e=="object"&&e!==null&&!Array.isArray(e),Gfn=e=>e!=null;function Yfn(e,t){if(t.length===1)return t[0];const n=$C(e)&&e._type,r=e==null||!n&&KDe(e).toLowerCase();return r&&r!=="object"?t.find(i=>i.jsonType===r):t.find(i=>{var a;return((a=i.type)==null?void 0:a.name)===n})||t.find(i=>i.name===n)||t.find(i=>i.name==="object"&&r==="object")}const Qle=new WeakMap;function qfn({document:e,getClient:t,i18n:n=Nfn(),schema:r,getDocumentExists:i,environment:a,maxCustomValidationConcurrency:o}){if(typeof(e==null?void 0:e._type)!="string")throw new Error("Tried to validated a value without a '_type'");const s=r.get(e._type);if(!s)return a==="studio"?(console.warn('Schema type for object type "%s" not found, skipping validation',e._type),xe([])):xe([{level:"warning",message:`Could not find schema type for type '${e._type}', skipping validation`,path:[]}]);let l=Qle.get(r);!l&&o&&(l=new oTe(o),Qle.set(r,l));const c={getClient:t,schema:r,parent:void 0,value:e,path:[],document:e,type:s,i18n:n,getDocumentExists:i,environment:a,customValidationConcurrencyLimiter:l};return ar(n.loadNamespaces(["validation"])).pipe(mt(()=>b7(c)),Cn(d=>{console.error(d);const h=(d==null?void 0:d.message)||"Unknown error";return xe([{level:"error",message:h,item:{message:h},path:[]}])}))}function b7({value:e,type:t,path:n=[],parent:r,customValidationConcurrencyLimiter:i,environment:a,...o}){const s=p=>(t==null?void 0:t.jsonType)==="object"&&yY(t).find(m=>["object","document","file","image"].includes(m.name))&&a!=="studio"?p.custom(Hfn(t),{bypassConcurrencyLimit:!0}).warning():p,l=US(t),c=l.map(s).map(p=>na(()=>p.validate(e,{...o,environment:a,parent:r,path:n,type:t,__internal:{customValidationConcurrencyLimiter:i}})));let d=[];const h=l.some(p=>p.isRequired());if((t==null?void 0:t.jsonType)==="object"&&(e||e==null&&h)){const p=t.fields.reduce((m,g)=>(m[g.name]=g.type,m),{});d=d.concat(l.map(m=>m._fieldRules).filter(Gfn).flatMap(m=>Object.entries(m)).flatMap(([m,g])=>{const v=p[m];return US({...v,validation:g}).map(s).map(b=>{const y=Jle(e)?e[m]:void 0;return na(()=>b.validate(y,{...o,parent:e,path:n.concat(m),type:v,environment:a,__internal:{customValidationConcurrencyLimiter:i}}))})})),d=d.concat(t.fields.map(m=>b7({...o,parent:e,value:Jle(e)?e[m.name]:void 0,path:n.concat(m.name),type:m.type,environment:a,customValidationConcurrencyLimiter:i})))}return(t==null?void 0:t.jsonType)==="array"&&Array.isArray(e)&&(d=d.concat(e.map((p,m)=>b7({...o,parent:e,value:p,path:n.concat(Uu(p)?{_key:p._key}:m),type:Yfn(p,t.of),environment:a,customValidationConcurrencyLimiter:i})))),na(()=>Mn([...c,...d])).pipe(It(p=>Ai(Kfn(),p),40),_$(),HCe(),de(cr),de(p=>l.some(m=>m._fieldRules)?Tp(p,m=>JSON.stringify(m)):p))}function Kfn(e){return new Mt(t=>{const n=zfn(()=>{t.complete()},void 0);return()=>Ufn(n)})}var Zfn={name:"sanity.assetSourceData",title:"Asset Source Data",type:"object",fields:[{name:"name",title:"Source name",description:"A canonical name for the source this asset is originating from",type:"string"},{name:"id",title:"Asset Source ID",description:"The unique ID for the asset within the originating source so you can programatically find back to it",type:"string"},{name:"url",title:"Asset information URL",description:"A URL to find more information about this asset in the originating source",type:"string"}]},Xfn={name:"sanity.fileAsset",title:"File",type:"document",fieldsets:[{name:"system",title:"System fields",description:"These fields are managed by the system and not editable"}],fields:[{name:"originalFilename",type:"string",title:"Original file name",readOnly:!0},{name:"label",type:"string",title:"Label"},{name:"title",type:"string",title:"Title"},{name:"description",type:"string",title:"Description"},{name:"altText",type:"string",title:"Alternative text"},{name:"sha1hash",type:"string",title:"SHA1 hash",readOnly:!0,fieldset:"system"},{name:"extension",type:"string",title:"File extension",readOnly:!0,fieldset:"system"},{name:"mimeType",type:"string",title:"Mime type",readOnly:!0,fieldset:"system"},{name:"size",type:"number",title:"File size in bytes",readOnly:!0,fieldset:"system"},{name:"assetId",type:"string",title:"Asset ID",readOnly:!0,fieldset:"system"},{name:"uploadId",type:"string",readOnly:!0,hidden:!0,fieldset:"system"},{name:"path",type:"string",title:"Path",readOnly:!0,fieldset:"system"},{name:"url",type:"string",title:"Url",readOnly:!0,fieldset:"system"},{name:"source",type:"sanity.assetSourceData",title:"Source",readOnly:!0,fieldset:"system"}],preview:{select:{title:"originalFilename",path:"path",mimeType:"mimeType",size:"size"},prepare(e){return{title:e.title||e.path.split("/").slice(-1)[0],subtitle:`${e.mimeType} (${(e.size/1024/1024).toFixed(2)} MB)`}}},orderings:[{title:"File size",name:"fileSizeDesc",by:[{field:"size",direction:"desc"}]}]},Jfn={title:"Geographical Point",name:"geopoint",type:"object",fields:[{name:"lat",type:"number",title:"Latitude"},{name:"lng",type:"number",title:"Longitude"},{name:"alt",type:"number",title:"Altitude"}]},Qfn={name:"sanity.imageAsset",title:"Image",type:"document",fieldsets:[{name:"system",title:"System fields",description:"These fields are managed by the system and not editable"}],fields:[{name:"originalFilename",type:"string",title:"Original file name",readOnly:!0},{name:"label",type:"string",title:"Label"},{name:"title",type:"string",title:"Title"},{name:"description",type:"string",title:"Description"},{name:"altText",type:"string",title:"Alternative text"},{name:"sha1hash",type:"string",title:"SHA1 hash",readOnly:!0,fieldset:"system"},{name:"extension",type:"string",readOnly:!0,title:"File extension",fieldset:"system"},{name:"mimeType",type:"string",readOnly:!0,title:"Mime type",fieldset:"system"},{name:"size",type:"number",title:"File size in bytes",readOnly:!0,fieldset:"system"},{name:"assetId",type:"string",title:"Asset ID",readOnly:!0,fieldset:"system"},{name:"uploadId",type:"string",readOnly:!0,hidden:!0,fieldset:"system"},{name:"path",type:"string",title:"Path",readOnly:!0,fieldset:"system"},{name:"url",type:"string",title:"Url",readOnly:!0,fieldset:"system"},{name:"metadata",type:"sanity.imageMetadata",title:"Metadata"},{name:"source",type:"sanity.assetSourceData",title:"Source",readOnly:!0,fieldset:"system"}],preview:{select:{id:"_id",title:"originalFilename",mimeType:"mimeType",size:"size"},prepare(e){return{title:e.title||typeof e.path=="string"&&e.path.split("/").slice(-1)[0],media:{asset:{_ref:e.id}},subtitle:`${e.mimeType} (${(Number(e.size)/1024/1024).toFixed(2)} MB)`}}},orderings:[{title:"File size",name:"fileSizeDesc",by:[{field:"size",direction:"desc"}]}]},ehn={name:"sanity.imageCrop",title:"Image crop",type:"object",fields:[{name:"top",type:"number"},{name:"bottom",type:"number"},{name:"left",type:"number"},{name:"right",type:"number"}]},thn={name:"sanity.imageDimensions",type:"object",title:"Image dimensions",fields:[{name:"height",type:"number",title:"Height",readOnly:!0},{name:"width",type:"number",title:"Width",readOnly:!0},{name:"aspectRatio",type:"number",title:"Aspect ratio",readOnly:!0}]},nhn={name:"sanity.imageHotspot",title:"Image hotspot",type:"object",fields:[{name:"x",type:"number"},{name:"y",type:"number"},{name:"height",type:"number"},{name:"width",type:"number"}]},rhn={name:"sanity.imageMetadata",title:"Image metadata",type:"object",fieldsets:[{name:"extra",title:"Extra metadata…",options:{collapsable:!0}}],fields:[{name:"location",type:"geopoint"},{name:"dimensions",title:"Dimensions",type:"sanity.imageDimensions",fieldset:"extra"},{name:"palette",type:"sanity.imagePalette",title:"Palette",fieldset:"extra"},{name:"lqip",title:"LQIP (Low-Quality Image Placeholder)",type:"string",readOnly:!0},{name:"blurHash",title:"BlurHash",type:"string",readOnly:!0},{name:"hasAlpha",title:"Has alpha channel",type:"boolean",readOnly:!0},{name:"isOpaque",title:"Is opaque",type:"boolean",readOnly:!0}]},ihn={name:"sanity.imagePalette",title:"Image palette",type:"object",fields:[{name:"darkMuted",type:"sanity.imagePaletteSwatch",title:"Dark Muted"},{name:"lightVibrant",type:"sanity.imagePaletteSwatch",title:"Light Vibrant"},{name:"darkVibrant",type:"sanity.imagePaletteSwatch",title:"Dark Vibrant"},{name:"vibrant",type:"sanity.imagePaletteSwatch",title:"Vibrant"},{name:"dominant",type:"sanity.imagePaletteSwatch",title:"Dominant"},{name:"lightMuted",type:"sanity.imagePaletteSwatch",title:"Light Muted"},{name:"muted",type:"sanity.imagePaletteSwatch",title:"Muted"}]},ahn={name:"sanity.imagePaletteSwatch",title:"Image palette swatch",type:"object",fields:[{name:"background",type:"string",title:"Background",readOnly:!0},{name:"foreground",type:"string",title:"Foreground",readOnly:!0},{name:"population",type:"number",title:"Population",readOnly:!0},{name:"title",type:"string",title:"String",readOnly:!0}]},ohn={title:"Slug",name:"slug",type:"object",fields:[{name:"current",title:"Current slug",type:"string",validation:e=>e.required()},{name:"source",title:"Source field",type:"string",hidden:!0}]};const shn=e=>e.severity==="error",lhn=[Zfn,ohn,Jfn,Qfn,Xfn,ehn,nhn,rhn,thn,ihn,ahn];function uhn(e){const t=hEt(e.types).getTypes(),n=h_t(t),r=n.some(a=>a.problems.some(shn)),i=fW.compile({name:e.name,types:r?[]:[...e.types,...lhn].filter(Boolean)});return i._validation=n,Rfn(i)}function Vu(e){return typeof e.title=="string"?e.title:e.type?Vu(e.type):e.name||e.jsonType}const chn=[0,0,1,0];function dhn(e){return e.stopPropagation()}function fhn(e){return e.stopPropagation()}function QDe(e){const{children:t,header:n,id:r,legacy_referenceElement:i,onClose:a,type:o,width:s,autofocus:l}=e,[c,d]=f.useState(null),h=f.useRef(null),p=u.jsx(zb,{margins:chn,children:u.jsx(L,{ref:h,children:t})});return o==="dialog"?u.jsx(Oy,{scrollElement:c,containerElement:h,children:u.jsx(Ui,{__unstable_autoFocus:l,contentRef:d,"data-testid":"edit-portal-dialog",header:n,id:r||"",onClickOutside:a,onClose:a,onDragEnter:dhn,onDrop:fhn,width:s,children:p})}):u.jsx(cNn,{header:n,onClose:a,referenceElement:i,width:s,containerRef:d,children:u.jsx(Oy,{scrollElement:c,containerElement:h,children:p})})}function bY(e){return e.reduce((t,n)=>n!=null&&n.children?[...t,n,...bY(n.children)]:[...t,n],[]).map(({children:t,...n})=>n)}function hhn(e,t){var n;const r=bY(e),i=gy(t).toLocaleLowerCase();return(n=r==null?void 0:r.filter(a=>gy(a.title||"").toLocaleLowerCase().includes(i)))==null?void 0:n.sort((a,o)=>{var s,l;const c=(s=a.title)==null?void 0:s.startsWith(i),d=(l=o.title)==null?void 0:l.startsWith(i);return c&&!d?-1:!c&&d?1:0})}function phn(e){const[t,n]=f.useState([]),{observeForPreview:r}=ua(),i=f.useMemo(()=>bY(e),[e]),a=f.useCallback(o=>{const s=o.path;n(l=>l.some(c=>wt(c.path,s))?l.map(c=>wt(c.path,s)?{...o,title:o==null?void 0:o.title}:c):l.concat(o))},[n]);return f.useEffect(()=>{n([]),i.forEach(o=>{r(o.value,o.schemaType).pipe(de(s=>{var l;return{...o,title:(l=s.snapshot)==null?void 0:l.title}})).subscribe(a).unsubscribe()})},[i,a,r]),t}function hM(e){const t=E_(e),{t:n}=Y();return f.useMemo(()=>{var r;return{...t,value:{...(t==null?void 0:t.value)||{},title:((r=t==null?void 0:t.value)==null?void 0:r.title)||n("preview.default.title-fallback")}}},[t,n])}const e$e=33,mhn=50;function ghn(e){const{item:t,onPathSelect:n,selected:r,isFirst:i,renderMenuItemTitle:a}=e,{value:o}=hM({schemaType:t.schemaType,value:t.value}),{title:s}=o;return u.jsx(ee,{marginTop:i?void 0:1,children:u.jsx(St,{mode:"bleed",onClick:()=>n(t.path),selected:r,title:s,padding:2,children:u.jsxs(U,{align:"center",gap:3,justify:"space-between",children:[u.jsx(U,{flex:1,children:a(o)}),r&&u.jsx(N,{size:1,children:u.jsx(_a,{})})]})})})}function vhn(e){const{items:t,onPathSelect:n,selectedPath:r,collapsed:i=!1}=e,{t:a}=Y(),o=f.useCallback(c=>{const d=t[c];return wt(d.path,r)},[t,r]),s=f.useCallback(c=>{const{title:d,media:h}=c;return i?u.jsxs(U,{align:"center",gap:1,children:[u.jsx(N,{size:1,muted:!0,children:"/"}),u.jsx(to,{title:d,media:h,layout:"inline"})]}):u.jsx(to,{title:d,media:h,layout:"inline"})},[i]),l=f.useCallback(c=>{const d=wt(c.path,r),h=wt(c.path,t[0].path);return u.jsx(ghn,{isFirst:h,item:c,onPathSelect:n,renderMenuItemTitle:s,selected:d})},[s,t,n,r]);return u.jsx(fd,{activeItemDataAttr:"data-hovered",ariaLabel:a("tree-editing-dialog.breadcrumbs.menu"),autoFocus:V0?void 0:"input","data-testid":"tree-editing-breadcrumbs-menu",getItemDisabled:o,itemHeight:e$e,items:t,overscan:5,padding:1,renderItem:l})}const yhn=["bottom-start"],bhn=R(U)``,xhn=R(te)`
  min-height: max-content;
`,whn=R(U)(e=>{const{$maxDisplayedItems:t,$itemHeight:n}=e;return ce`
    --item-height: ${n}px;
    --max-items: ${t};
    --list-padding: 0.5rem;

    position: relative;
    max-height: calc(var(--item-height) * var(--max-items) + var(--list-padding));
    min-height: calc((var(--item-height) * 1));
  `}),Chn=R(nd)(()=>ce`
    [data-ui='Popover__wrapper'] {
      width: 250px;
      display: flex;
      flex-direction: column;
      border-radius: ${({theme:e})=>e.sanity.radius[3]}px;
      position: relative;
      overflow: hidden;
      overflow: clip;
    }
  `);function eue(e){const{button:t,collapsed:n=!1,items:r,menuTitle:i,onPathSelect:a,parentElement:o,selectedPath:s}=e,[l,c]=f.useState(!1),d=f.useRef(null),[h,p]=f.useState(null),m=f.useCallback(()=>{l&&(c(!1),h==null||h.focus())},[h,l]),g=f.useCallback(w=>{const{key:C,shiftKey:S}=w;(S&&C==="Tab"||C==="Escape"||C==="Tab")&&m()},[m]),v=f.useCallback(()=>{c(!l)},[l]),b=f.useCallback(w=>{a(w),c(!1)},[a]);yn(()=>c(!1),()=>[d.current,h]);const y=u.jsx(bhn,{direction:"column",flex:1,forwardedAs:ec,height:"fill",returnFocus:!0,children:u.jsxs(whn,{$itemHeight:e$e,$maxDisplayedItems:mhn,direction:"column",overflow:"hidden",children:[i&&u.jsx(xhn,{borderBottom:!0,padding:3,sizing:"border",children:u.jsx(L,{paddingX:1,sizing:"border",children:u.jsx(N,{muted:!0,size:1,textOverflow:"ellipsis",weight:"semibold",title:i,children:i})})}),u.jsx(vhn,{collapsed:n,items:r,onPathSelect:b,selectedPath:s})]})}),x=f.cloneElement(t,{"aria-expanded":l,"aria-haspopup":"true","data-testid":"tree-editing-breadcrumb-menu-button",id:"tree-breadcrumb-menu-button",onClick:v,ref:p,selected:l});return u.jsx(Chn,{animate:!0,constrainSize:!0,content:y,"data-testid":"tree-editing-breadcrumbs-menu-popover",fallbackPlacements:yhn,onKeyDown:g,open:l,placement:"bottom-start",portal:!0,ref:d,referenceBoundary:o,children:x})}const tue=5,nue=[],rue="/",t$e=R(St)(({theme:e})=>{var t,n;const{bold:r}=((n=(t=Ee(e))==null?void 0:t.font.text)==null?void 0:n.weights)||{};return ce`
    max-height: 1rem;
    overflow: hidden;
    min-width: 2ch;

    &[data-active='true'] {
      [data-ui='Text']:first-child {
        font-weight: ${r};
      }
    }
  `}),Shn=R(N)`
  overflow: hidden;
  padding: 8px 0;
`,_hn=f.forwardRef(function(e,t){var n;const{item:r,onPathSelect:i,isSelected:a,...o}=e,{value:s}=hM({schemaType:r.schemaType,value:r.value}),l=s.title,c=r.children&&((n=r.children)==null?void 0:n.length)>1;return u.jsx(t$e,{"data-active":a?"true":"false",mode:"bleed",onClick:()=>i(r.path),padding:1,ref:t,space:2,title:l,...o,children:u.jsxs(U,{flex:1,align:"center",justify:"flex-start",gap:1,overflow:"hidden",children:[u.jsx(to,{title:l,media:s.media,layout:"inline"}),c&&u.jsx(N,{size:0,children:u.jsx(Ii,{})})]})})}),iue=f.forwardRef(function(e,t){const{children:n}=e;return u.jsx(L,{ref:t,children:u.jsx(N,{size:1,children:n})})});function Ehn(e){const{items:t=nue,onPathSelect:n,selectedPath:r}=e,[i,a]=f.useState(null),o=T2(i),s=f.useMemo(()=>{const d=o==null?void 0:o.border.width;return d?d<500?3:d<700?4:tue:tue},[o==null?void 0:o.border.width]),l=f.useMemo(()=>{const d=t.length,h=Math.ceil(s/2),p=Math.floor(s/2);return s&&d>s?[...t.slice(0,h-1),t.slice(h-1,d-p),...t.slice(d-p)]:t},[t,s]),c=f.useMemo(()=>l.map((d,h)=>{var p;const m=`${d}-${h}`,g=h<l.length-1;if(Array.isArray(d))return u.jsxs(f.Fragment,{children:[u.jsx(eue,{button:u.jsx(t$e,{mode:"bleed",padding:1,children:u.jsx(U,{overflow:"hidden",children:u.jsx(Shn,{size:1,weight:"medium",textOverflow:"ellipsis",children:"..."})})}),collapsed:!0,items:d,onPathSelect:n,parentElement:i,selectedPath:r}),g&&u.jsx(iue,{children:rue})]},m);const v=d.children&&((p=d.children)==null?void 0:p.length)>1,b=wt(d.path,r),y=u.jsx(_hn,{item:d,isSelected:b,onPathSelect:n});return u.jsxs(f.Fragment,{children:[!v&&y,v&&u.jsx(eue,{button:y,items:d.children||nue,onPathSelect:n,menuTitle:Vu(d.schemaType),parentElement:i,selectedPath:d.path}),g&&u.jsx(iue,{children:rue})]},m)}),[l,r,n,i]);return u.jsx(U,{align:"center",as:"ol",gap:2,ref:a,children:c})}const n$e=R(U).attrs({padding:2,align:"center",sizing:"border"})`
  height: 40px;
  min-height: 40px;
`,r$e=51,khn=10;function Thn(e){const{item:t,onPathSelect:n,isFirst:r}=e,{value:i}=hM({value:t.value,schemaType:t.schemaType}),a=i.title;return u.jsx(ee,{marginTop:r?void 0:1,children:u.jsx(St,{mode:"bleed",onClick:()=>n(t.path),children:u.jsxs(ee,{space:2,flex:1,children:[u.jsx(to,{title:a,media:i.media,layout:"inline"}),u.jsx(L,{children:u.jsx(N,{muted:!0,size:0,textOverflow:"ellipsis",children:Vu(t.parentSchemaType)})})]})})})}function Ahn(e){const{items:t,onPathSelect:n,textInputElement:r}=e,{t:i}=Y(),a=f.useCallback(o=>{const s=wt(o.path,t[0].path);return u.jsx(Thn,{isFirst:s,item:o,onPathSelect:n})},[t,n]);return u.jsx(fd,{activeItemDataAttr:"data-hovered",ariaLabel:i("tree-editing-dialog.search.menu-label"),autoFocus:V0?void 0:"input",inputElement:r,itemHeight:r$e,items:t,overscan:5,padding:1,renderItem:a})}const jhn=["bottom-start"],Ihn=R(U)``,Dhn=R(U)(e=>{const{$maxDisplayedItems:t,$itemHeight:n}=e;return ce`
    --item-height: ${n}px;
    --max-items: ${t};
    --list-padding: 0.5rem;

    position: relative;
    max-height: calc(var(--item-height) * var(--max-items) + var(--list-padding));
    min-height: calc((var(--item-height) * 1));
    width: 100%;
  `}),$hn=R(nd)(()=>ce`
    [data-ui='Popover__wrapper'] {
      min-width: 250px;
      display: flex;
      flex-direction: column;
      border-radius: ${({theme:e})=>e.sanity.radius[3]}px;
      position: relative;
      overflow: hidden;
      overflow: clip;
    }
  `),Ohn=R(Zr)`
  border-radius: inherit;
`;function Mhn(e){const{items:t,onPathSelect:n}=e,[r,i]=f.useState(null),[a,o]=f.useState(""),{t:s}=Y(),l=a.length>0,c=phn(t),d=f.useMemo(()=>hhn(c,a),[a,c]),h=f.useCallback(()=>o(""),[]),p=f.useCallback(y=>{o(y.target.value)},[]),m=f.useCallback(y=>{n(y),h()},[n,h]),g=f.useCallback(y=>{y.key==="Escape"&&(h(),r==null||r.focus())},[h,r]),v=f.useCallback(()=>{requestAnimationFrame(()=>{h()})},[h]),b=f.useMemo(()=>d.length===0?u.jsx(te,{children:u.jsx(ee,{padding:4,sizing:"border",space:3,children:u.jsx(N,{align:"center",muted:!0,size:1,weight:"medium",children:s("tree-editing-dialog.search.no-results-title")})})}):u.jsx(Ihn,{direction:"column",flex:1,height:"fill",children:u.jsx(te,{children:u.jsx(Dhn,{$itemHeight:r$e,$maxDisplayedItems:khn,direction:"column",overflow:"hidden",children:u.jsx(Ahn,{items:d,onPathSelect:m,textInputElement:r})})})}),[d,m,r,s]);return u.jsx($hn,{animate:!0,constrainSize:!0,content:b,fallbackPlacements:jhn,matchReferenceWidth:!0,open:l,placement:"bottom-start",portal:!0,children:u.jsx(te,{radius:3,children:u.jsx(Ohn,{fontSize:1,icon:Ca,onBlur:v,onChange:p,onKeyDown:g,placeholder:s("tree-editing-dialog.search-placeholder"),ref:i,value:a})})})}function CT(e,t){return JSON.stringify(e)===JSON.stringify(t)}function HS(e){return e.length===0?!1:e[e.length-1].hasOwnProperty("_key")}function aue(e,t){return e.every((n,r)=>CT(t[r],n))&&HS(e)}function Bk(e){return HS(e)?e:e.slice(0,e.length-1)}function i$e(e){return e.some(t=>t.children&&t.children.length>0)}function a$e(e,t){var n;return((n=e.children)==null?void 0:n.some(r=>wt(r.path,t)||a$e(r,t)))||!1}const Rhn={block:"center",behavior:"smooth",scrollMode:"if-needed"},Phn=R(no)`
  transition: transform 0.2s ease;

  &[data-expanded='true'] {
    transform: rotate(90deg);
  }
`,Fhn=R.div`
  min-width: 23px;
  max-width: 23px;
`,Nhn=R(ee)(({theme:e})=>{var t,n;const r=((t=Ee(e))==null?void 0:t.space[3])||0,i=(n=Ee(e))==null?void 0:n.color._dark,a=Qe.gray[i?900:200].hex;return ce`
    margin-left: ${r+2}px;
    box-sizing: border-box;
    border-left: 1px solid ${a};
  `}),Lhn=R(U)(({theme:e})=>{var t,n,r;const i=(t=Ee(e))==null?void 0:t.color.button.bleed.default.hovered.bg,a=(n=Ee(e))==null?void 0:n.color.button.bleed.default.pressed.bg,o=(r=Ee(e))==null?void 0:r.color.button.bleed.default.selected.bg;return ce`
    padding: 2px;
    padding-right: 3px;
    box-sizing: border-box;
    transition: inherit;
    border-radius: ${Ee(e).radius[2]}px;

    &[data-selected='true'] {
      background-color: ${o};
    }

    [data-ui='ExpandButton'],
    [data-ui='NavigateButton'] {
      transition: inherit;
      background-color: inherit;
      box-shadow: unset;
    }

    @media (hover: hover) {
      &:hover {
        &[data-selected='false'] {
          background-color: ${i};
          border-radius: ${Ee(e).radius[2]}px;

          [data-ui='ExpandButton']:hover {
            background-color: ${a};
          }
        }

        [data-ui='ExpandButton']:hover {
          background-color: ${i};
        }
      }
    }
  `});function o$e(e){const{item:t,onPathSelect:n,selectedPath:r,siblingHasChildren:i}=e,{children:a}=t,o=a&&a.length>0,[s,l]=f.useState(!1),[c,d]=f.useState(null),{t:h}=cb(),{value:p}=hM({schemaType:t.schemaType,value:t.value}),m=f.useMemo(()=>wt(t.path,r),[t.path,r]),g=f.useMemo(()=>!HS(t.path),[t.path]),v=f.useMemo(()=>qt(t.path),[t.path]),b=f.useMemo(()=>g?Vu(t.schemaType):p.title,[g,t.schemaType,p.title]),y=f.useMemo(()=>o?u.jsx(Phn,{"data-expanded":s?"true":"false"}):null,[o,s]),x=f.useMemo(()=>g?u.jsx(yD,{}):p.media,[g,p.media]),w=f.useCallback(()=>n(t.path),[t.path,n]),C=f.useCallback(()=>l(S=>!S),[]);return f.useEffect(()=>{a$e(t,r)&&l(!0)},[t,r]),f.useEffect(()=>{!c||!m||Gg(c,Rhn)},[c,m]),u.jsxs(ee,{"aria-expanded":s,as:"li",ref:d,role:"treeitem",space:1,children:[u.jsx(te,{"data-as":"button","data-testid":"tree-editing-menu-item",overflow:"hidden",radius:2,tone:"inherit",children:u.jsxs(Lhn,{align:"center","data-selected":m,"data-testid":"tree-editing-menu-item-content",children:[y&&u.jsx(St,{"aria-label":`${h(s?"tree-editing-dialog.sidebar.action.collapse":"tree-editing-dialog.sidebar.action.expand")} ${b}`,"data-testid":`tree-editing-menu-expand-button-${v}`,"data-ui":"ExpandButton",mode:"bleed",onClick:C,padding:2,children:u.jsx(N,{size:0,muted:!0,children:y})}),!y&&i&&u.jsx(Fhn,{}),u.jsx(ee,{flex:1,children:u.jsx(St,{"data-testid":`tree-editing-menu-navigate-button-${v}`,"data-ui":"NavigateButton",mode:"bleed",onClick:w,padding:1,title:b,children:u.jsx(U,{align:"center",children:u.jsx(to,{layout:"inline",media:x,title:b})})})})]})}),s&&o&&u.jsx(Nhn,{flex:1,forwardedAs:"ul",paddingLeft:1,role:"group",space:1,children:a.map(S=>{const _=i$e(a);return u.jsx(o$e,{item:S,onPathSelect:n,selectedPath:r,siblingHasChildren:_},qt(S.path))})})]},v)}const Bhn=f.memo(function(e){const{items:t,onPathSelect:n,selectedPath:r}=e;return u.jsx(ee,{as:"ul","data-testid":"tree-editing-menu",role:"tree",space:2,children:t.map(i=>{const a=i$e(t);return u.jsx(o$e,{item:i,onPathSelect:n,selectedPath:r,siblingHasChildren:a},qt(i.path))})})}),Vhn=R.div`
  position: absolute;
  top: 0;
  bottom: 0;
  width: 9px;
  z-index: 201;
  cursor: ew-resize;

  ${({position:e})=>e==="right"?ce`
          right: -4px;
        `:ce`
          left: -4px;
        `}

  /* Border */
  & > span:nth-child(1) {
    display: block;
    border-left: 1px solid var(--card-border-color);
    position: absolute;
    top: 0;
    ${({position:e})=>e==="right"?ce`
            right: 4px;
          `:ce`
            left: 4px;
          `}
    bottom: 0;
    transition: opacity 200ms;
  }

  /* Hover effect */
  & > span:nth-child(2) {
    display: block;
    position: absolute;
    top: 0;
    ${({position:e})=>e==="right"?ce`
            right: 0px;
          `:ce`
            left: 0px;
          `}
    width: 9px;
    bottom: 0;
    background-color: var(--card-border-color);
    opacity: 0;
    transition: opacity 150ms;
  }

  @media (hover: hover) {
    &:hover > span:nth-child(2) {
      opacity: 0.2;
    }
  }
`;function zhn(e){const{onResize:t,onResizeStart:n,position:r}=e,i=f.useRef(0),a=f.useCallback(o=>{o.preventDefault(),i.current=o.pageX,n();const s=c=>{c.preventDefault(),t(i.current-c.pageX)},l=()=>{window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",l)};window.addEventListener("mousemove",s),window.addEventListener("mouseup",l)},[t,n]);return u.jsxs(Vhn,{onMouseDown:a,position:r,children:[u.jsx("span",{}),u.jsx("span",{})]})}const Uhn=R(L)`
  position: relative;
  flex: 1;
  padding-left: 1px;
`;function Hhn(e){const{as:t,children:n,minWidth:r,maxWidth:i,initialWidth:a,...o}=e,[s,l]=f.useState(null),c=f.useRef(),[d,h]=f.useState(a),p=f.useCallback(()=>{c.current=s==null?void 0:s.offsetWidth},[s]),m=f.useCallback(v=>{const b=c.current;b&&h(Math.min(Math.max(b-v,r),i))},[r,i]),g=f.useMemo(()=>d?{flex:"none",width:d}:{minWidth:r,maxWidth:i},[r,i,d]);return u.jsxs(Uhn,{as:t,...o,ref:l,style:g,children:[n,u.jsx(zhn,{onResize:m,onResizeStart:p,position:"right"})]})}const Whn={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},Ghn=R(te)`
  flex-direction: column;
`,Yhn=R(Di(ee))`
  overflow-x: hidden;
`,qhn=R(ee)`
  min-height: max-content;
`,Khn=f.memo(function(e){const{items:t,onPathSelect:n,selectedPath:r,onOpenToggle:i,open:a,title:o}=e,{t:s}=cb(),l=f.useMemo(()=>({content:s(a?"tree-editing-dialog.sidebar.action.close":"tree-editing-dialog.sidebar.action.open")}),[a,s]),c=u.jsxs(Ghn,{borderRight:!a,"data-testid":"tree-editing-sidebar","data-ui":"SidebarCard",display:"flex",forwardedAs:"aside",height:"fill",overflow:"hidden",tone:"transparent",children:[u.jsxs(n$e,{align:"center",gap:2,children:[u.jsx(fe,{"data-testid":"tree-editing-sidebar-toggle",icon:AB,mode:"bleed",onClick:i,selected:a,tooltipProps:l}),a&&u.jsx(L,{flex:1,children:u.jsx(N,{size:1,muted:!0,weight:"medium",textOverflow:"ellipsis",children:o})})]}),a&&u.jsx(qhn,{padding:2,sizing:"border",children:u.jsx(Mhn,{items:t,onPathSelect:n})}),u.jsx(hl,{mode:"wait",children:a&&u.jsx(Yhn,{animate:"animate",exit:"exit",initial:"initial",overflow:"auto",padding:3,sizing:"border",variants:Whn,children:u.jsx(Bhn,{items:t,onPathSelect:n,selectedPath:r})})})]});return a?u.jsx(Hhn,{maxWidth:450,minWidth:150,initialWidth:250,children:c}):c}),Zhn=[0,0,1,0],Xhn=f.memo(function(e){const{breadcrumbs:t,children:n,footer:r,items:i,onPathSelect:a,selectedPath:o,setScrollElement:s,title:l}=e,c=f.useRef(null),d=f.useRef(null),[h,p]=f.useState(!1),m=f.useCallback(()=>p(v=>!v),[]),g=f.useCallback(v=>{c.current=v,s==null||s(v)},[s]);return u.jsxs(U,{height:"fill",overflow:"hidden",children:[u.jsx(Khn,{items:i,onOpenToggle:m,onPathSelect:a,open:h,selectedPath:o,title:l}),u.jsxs(U,{direction:"column",flex:1,overflow:"hidden",children:[u.jsx(n$e,{align:"center",sizing:"border",gap:2,paddingX:4,children:u.jsx(U,{flex:1,children:u.jsx(Ehn,{items:t,onPathSelect:a,selectedPath:o})})}),u.jsx(te,{flex:1,id:"tree-editing-form",overflow:"auto",ref:g,children:n&&u.jsx(Oy,{containerElement:d,scrollElement:c.current,children:u.jsx(si,{width:1,ref:d,paddingX:5,paddingY:5,sizing:"border",children:u.jsx(zb,{margins:Zhn,children:n})})})}),r]})]})});function s$e(e){const t=e.findIndex(n=>n==null?void 0:n.hasOwnProperty("_key"));return t===-1?e:e.slice(0,t)}function pM(e,t){var n;if(!t)return;const r=el(t),i=r[0];if(i&&Bi(e)){const a=(n=e==null?void 0:e.fields)==null?void 0:n.find(o=>o.name===i);if(a){const o=qt(r.slice(1));return o?pM(a.type,o):a}}}function mM(e,t){const n=ks(t);return n==="object"&&e.of.length===1?e.of[0]:e.of.find(r=>r.name===n)}function Jhn(e,t){const n=ks(t);return e==null?void 0:e.of.find(r=>r.name===n||r.jsonType===n)}function Qhn(e){const t=[];let n=[];function r(i){i.forEach(a=>{const o=[...n,a.name];Fp(a.type)&&!ng(a.type)&&t.push(o),Bi(a.type)&&(n=o,r(a.type.fields),n=n.slice(0,-1))})}return r(e),t}function oue(e){const{arraySchemaType:t,arrayValue:n,itemPath:r,parentPath:i}=e,a=n.map(s=>{const l=[...i,{_key:s._key}],c=mM(t,s);return Zs(c)||!c?null:{children:cn,parentSchemaType:t,path:l,schemaType:c,value:s}}).filter(Boolean),o=a.find(s=>wt(s.path,r));return{children:a,parentSchemaType:t,path:r,schemaType:o.schemaType,value:o.value}}function epn(e){var t;const{arraySchemaType:n,arrayValue:r,documentValue:i,openPath:a,rootPath:o,recursive:s}=e;let l=[];const c=[],d=[];return((t=n.options)==null?void 0:t.treeEditing)===!1?{breadcrumbs:d,menuItems:c,relativePath:l,rootTitle:""}:(r.forEach(h=>{var p;const m=[...o,{_key:h._key}],g=mM(n,h);if(!g||Zs(g)||((p=g==null?void 0:g.options)==null?void 0:p.treeEditing)===!1)return;const v=(g==null?void 0:g.fields)||[],b=[];if(aue(m,a)){const y=oue({arraySchemaType:n,arrayValue:r,itemPath:m,parentPath:o});d.push(y)}v.forEach(y=>{var x,w;if(((w=(x=y==null?void 0:y.type)==null?void 0:x.options)==null?void 0:w.treeEditing)===!1)return;const C=[...m,y.name],S=ia(i,C);if(CT(C,a)&&(l=Bk(C)),Bi(y.type)){const E=Qhn(y.type.fields);if(E.length===0)return;E.forEach(k=>{var T;const j=[...C,...k],I=pM(y.type,qt(k)),A=ia(i,j),$=Array.isArray(A)?A:[];if(!$.length||((T=I.type.options)==null?void 0:T.treeEditing)===!1)return;CT(j,a)&&(l=Bk(j));const D=s({documentValue:i,path:j,schemaType:I});b.push({children:D.menuItems,parentSchemaType:y.type,path:j,schemaType:I.type,value:$})})}const _=ng(y.type);if(Fp(y.type)&&S&&!_){if(aue(C,a)){const k=oue({arraySchemaType:y.type,arrayValue:S,itemPath:C,parentPath:m});d.push(k)}const E=s({documentValue:i,path:C,schemaType:y});b.push({children:(E==null?void 0:E.menuItems)||cn,parentSchemaType:g,path:C,schemaType:y,value:S});return}_&&qt(a).startsWith(qt(C))&&(l=Bk(C))}),CT(m,a)&&(l=Bk(m)),MI(g==null?void 0:g.type)||c.push({children:b,parentSchemaType:n,path:m,schemaType:g,value:h})}),{breadcrumbs:d,menuItems:c,relativePath:l,rootTitle:""})}const ST=[],x7={breadcrumbs:ST,menuItems:ST,relativePath:ST,rootTitle:""};function tpn(e){var t;const{openPath:n}=e,r=s$e(n),i=pM(e.schemaType,qt(r)),a=Vu(i==null?void 0:i.type);if(!Fp(i==null?void 0:i.type)||((t=i==null?void 0:i.options)==null?void 0:t.treeEditing)===!1)return x7;let o=[];const s=[],l=c({schemaType:i,documentValue:e.documentValue,path:r});function c(d){const{schemaType:h,path:p,documentValue:m}=d,g=ia(m,p),v=Array.isArray(g)?g:ST,b=h==null?void 0:h.type,y=epn({arraySchemaType:b,arrayValue:v,documentValue:m,openPath:n,recursive:c,rootPath:p});return y.relativePath.length>0&&(o=y.relativePath),s.unshift(...y.breadcrumbs),y}return{relativePath:o,breadcrumbs:s,menuItems:l.menuItems,rootTitle:a}}function l$e(e,t){if(t.length===0)return!1;const n=s$e(t),r=pM(e,qt(n));if(Fp(r==null?void 0:r.type)){const i=r.type.of.every(o=>o==null?void 0:o.hasOwnProperty("to")),a=ng(r.type);return!(i||a)}return!1}const npn=[],rpn={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},ipn={duration:.2,ease:"easeInOut"};function apn(e){return e.renderDefault(e)}const opn=R(KD)(({theme:e})=>{var t;const n=(t=Ee(e))==null?void 0:t.space[4];return ce`
    [data-ui='DialogCard'] {
      padding: ${n}px;
      box-sizing: border-box;

      // Make the dialog full height
      & > [data-ui='Card']:first-child {
        flex: 1;
      }
    }
  `}),spn=Di(U);function lpn(e){const{onPathFocus:t,onPathOpen:n,openPath:r,rootInputProps:i,schemaType:a}=e,{value:o}=i,{t:s}=Y(),[l,c]=f.useState(x7),[d,h]=f.useState(null),p=f.useRef(void 0),m=f.useRef(void 0),g=f.useCallback(()=>{d==null||d.scrollTo(0,0)},[d]),v=f.useCallback(w=>{const C=tpn(w);if(wt(C,l))return;const S=C.relativePath,_=S.length===0||!HS(S)?l.relativePath:S;c({...C,relativePath:_})},[l]),b=f.useMemo(()=>m0(v,1e3),[v]),y=f.useCallback(()=>{b.cancel(),n(npn),c(x7),m.current=void 0,p.current=void 0;const w=r.findIndex(Pn),C=r.slice(0,w+1);t(C)},[b,t,n,r]),x=f.useCallback(w=>{b.cancel(),n(w),HS(w)||t(w)},[b,t,n]);return f.useEffect(()=>{const w=!wt(o,m.current),C=!wt(r,p.current);if(m.current===void 0&&p.current===void 0||C){v({schemaType:a,documentValue:o,openPath:r}),p.current=r;return}if(!(!w&&!C))return m.current=o,p.current=r,b({schemaType:a,documentValue:o,openPath:r}),()=>{b.cancel()}},[a,o,b,r,v]),l.relativePath.length===0?null:u.jsx(opn,{__unstable_hideCloseButton:!0,animate:!0,"data-testid":"tree-editing-dialog",id:"tree-editing-dialog",onClickOutside:y,onClose:y,padding:0,width:3,children:u.jsx(Xhn,{breadcrumbs:l.breadcrumbs,items:l.menuItems,onPathSelect:x,selectedPath:l.relativePath,title:l.rootTitle,setScrollElement:h,footer:u.jsx(te,{borderTop:!0,children:u.jsx(U,{align:"center",justify:"flex-end",paddingX:3,paddingY:2,sizing:"border",children:u.jsx(St,{"data-testid":"tree-editing-done",text:s("tree-editing-dialog.sidebar.action.done"),onClick:y})})}),children:u.jsx(hl,{initial:!1,mode:"wait",onExitComplete:g,children:u.jsx(spn,{animate:"animate","data-testid":"tree-editing-dialog-content",direction:"column",exit:"exit",height:"fill",initial:"initial",overflow:"hidden",padding:1,sizing:"border",transition:ipn,variants:rpn,children:u.jsx(aY,{...i,relativePath:l.relativePath,renderDefault:apn})},qt(l.relativePath))})})})}function gM({children:e,...t}){const n=f.useContext(u5),{unstable_sources:r}=Fr();if("source"in t){const{source:i}=t;return u.jsx(u5.Provider,{value:i,children:e})}if("name"in t){const{name:i}=t,a=r.find(o=>o.name===i);if(!a)throw new Error(`Could not find source with name \`${i}\` in current workspace`);return n===a?u.jsx(u.Fragment,{children:e}):u.jsx(u5.Provider,{value:a,children:e})}throw new Error("Invalid props passed into SourceProvider. A `name` or a `source` object is required.")}function Dn(){const e=f.useContext(u5);if(!e)throw new Error("Could not find `source` context");return e}function vM(){return f.useContext(ope)}function yM(e){var t;const{children:n,legacyEditing:r}=e,{beta:i}=Dn(),a=vM(),o=f.useMemo(()=>{var s;const l=a.legacyEditing||r;return{enabled:((s=i==null?void 0:i.treeArrayEditing)==null?void 0:s.enabled)===!0,legacyEditing:!!l}},[(t=i==null?void 0:i.treeArrayEditing)==null?void 0:t.enabled,r,a.legacyEditing]);return u.jsx(ope.Provider,{value:o,children:n})}function xY(e){var t,n;const{t:r}=Y(),{onInsert:i,schemaTypes:a}=e,o=v7({insertMenuProps:{...e.insertMenuOptions,schemaTypes:(t=e.schemaTypes)!=null?t:[],onSelect:p=>{e.onInsert("before",p)}},popoverProps:{referenceElement:e.referenceElement,placement:"top-end",fallbackPlacements:["bottom-end"]}}),s=v7({insertMenuProps:{...e.insertMenuOptions,schemaTypes:(n=e.schemaTypes)!=null?n:[],onSelect:p=>{e.onInsert("after",p)}},popoverProps:{referenceElement:e.referenceElement,placement:"bottom-end",fallbackPlacements:["top-end"]}}),l=f.useCallback(()=>{a&&(a.length===1?i("before",a[0]):o.send({type:"toggle"}))},[o,i,a]),c=f.useCallback(()=>{a&&(a.length===1?i("after",a[0]):s.send({type:"toggle"}))},[s,i,a]),d=f.useMemo(()=>a?u.jsx(We,{text:a.length===1?r("inputs.array.action.add-before"):`${r("inputs.array.action.add-before")}...`,icon:hD,onClick:l}):null,[l,r,a]),h=f.useMemo(()=>a?u.jsx(We,{text:a.length===1?r("inputs.array.action.add-after"):`${r("inputs.array.action.add-after")}...`,icon:pD,onClick:c}):null,[c,r,a]);return{insertBefore:{...o,menuItem:d},insertAfter:{...s,menuItem:h}}}const upn=R(te)`
  border-top-right-radius: inherit;
  border-top-left-radius: inherit;
  height: 100%;
  position: relative;

  @media (hover: hover) {
    &:hover {
      filter: brightness(95%);
    }
  }

  &:focus:focus-visible {
    box-shadow: 0 0 0 2px var(--card-focus-ring-color);
  }
`;function cpn({readOnly:e,hasErrors:t,hasWarnings:n}){return e?"transparent":t?"critical":n?"caution":"default"}const dpn={portal:!0,tone:"default"};function fpn(e){var t,n,r,i,a,o,s,l;const{schemaType:c,parentSchemaType:d,path:h,readOnly:p,onRemove:m,value:g,open:v,onInsert:b,onFocus:y,onOpen:x,onClose:w,changed:C,focused:S,children:_,inputProps:{renderPreview:E}}=e,{t:k}=Y(),T=vM(),j=((t=d==null?void 0:d.options)==null?void 0:t.treeEditing)===!1,I=j||T.legacyEditing,A=v&&(!T.enabled||I),$=((n=d.options)==null?void 0:n.sortable)!==!1,D=d.of,M=f.useRef(null);sM(M,v),$o(S,(se,le)=>{var oe;!se&&le&&M.current&&((oe=M.current)==null||oe.focus())});const O=g._resolvingInitialValue,F=f.useCallback(()=>{b({items:[{...g,_key:$y()}],position:"after"})},[b,g]),P=f.useCallback((se,le)=>{b({items:[Hb(le)],position:se})},[b]),V=Vb(h,!0),H=f.useMemo(()=>V.length===0?null:u.jsx(x_,{presence:V,maxAvatars:1}),[V]),W=WG(h,!0),G=f.useMemo(()=>W.length===0?null:u.jsx(L,{paddingX:1,paddingY:3,children:u.jsx(Ub,{validation:W,__unstable_showSummary:!0})}),[W]),X=W.some(se=>se.level==="error"),z=W.some(se=>se.level==="warning"),[q,Z]=f.useState(null),{insertBefore:K,insertAfter:J}=xY({schemaTypes:D,insertMenuOptions:(r=d.options)==null?void 0:r.insertMenu,onInsert:P,referenceElement:q}),Q=f.useMemo(()=>p?null:u.jsxs(u.Fragment,{children:[u.jsx(Kt,{ref:Z,onOpen:()=>{K.send({type:"close"}),J.send({type:"close"})},button:u.jsx(wi,{selected:K.state.open||J.state.open?!0:void 0}),id:`${e.inputId}-menuButton`,menu:u.jsxs(Ot,{children:[u.jsx(We,{text:k("inputs.array.action.remove"),tone:"critical",icon:Kr,onClick:m}),u.jsx(We,{text:k("inputs.array.action.duplicate"),icon:Ql,onClick:F}),K.menuItem,J.menuItem]}),popover:dpn}),K.popover,J.popover]}),[K,J,F,m,e.inputId,p,k]),re=cpn({readOnly:p,hasErrors:X,hasWarnings:z}),ae=u.jsx(GDe,{menu:Q,presence:H,validation:G,tone:re,radius:2,border:!0,dragHandle:$,selected:A,readOnly:p,children:u.jsxs(upn,{tone:"inherit",overflow:"auto",forwardedAs:"button","data-ui":"PreviewCard","data-as":"button",type:"button",flex:1,tabIndex:0,disabled:O,onClick:x,ref:M,onFocus:y,__unstable_focusRing:!0,children:[E({schemaType:c,value:g,layout:"media",withBorder:!1,withShadow:!1}),O&&u.jsx(wn,{fill:!0})]})}),ne=Vu(c);return u.jsxs(yM,{legacyEditing:j,children:[u.jsx(eo,{path:h,isChanged:C,hasFocus:!!S,children:ae}),A&&u.jsx(QDe,{header:p?k("inputs.array.action.view",{itemTypeTitle:ne}):k("inputs.array.action.edit",{itemTypeTitle:ne}),type:((a=(i=d==null?void 0:d.options)==null?void 0:i.modal)==null?void 0:a.type)||"dialog",width:(l=(s=(o=d==null?void 0:d.options)==null?void 0:o.modal)==null?void 0:s.width)!=null?l:1,id:g._key,onClose:w,autofocus:S,legacy_referenceElement:M.current,children:_})]})}const hpn=[];function ppn(e){var t;const{arrayFunctions:n=gY,elementProps:r,members:i,onChange:a,onInsert:o,onItemMove:s,onUpload:l,readOnly:c,renderAnnotation:d,renderBlock:h,renderField:p,renderInlineBlock:m,renderInput:g,renderPreview:v,resolveUploader:b,schemaType:y,value:x=hpn}=e,{t:w}=Y(),C=f.useCallback(T=>{o({items:[T],position:"before",referenceItem:0})},[o]),S=f.useCallback(T=>{o({items:[T],position:"after",referenceItem:-1})},[o]),_=((t=y.options)==null?void 0:t.sortable)!==!1,E=f.useCallback(({key:T,...j})=>u.jsx(fpn,{...j},T),[]),k=f.useMemo(()=>i.map(T=>T.key),[i]);return u.jsxs(ee,{space:2,children:[u.jsx(fM,{types:y.of,resolveUploader:b,onUpload:l,...r,tabIndex:0,children:u.jsxs(ee,{"data-ui":"ArrayInput__content",space:2,children:[(i==null?void 0:i.length)===0&&u.jsx(te,{padding:3,border:!0,radius:2,children:u.jsx(N,{align:"center",muted:!0,size:1,children:y.placeholder||u.jsx(u.Fragment,{children:w("inputs.array.no-items-label")})})}),(i==null?void 0:i.length)>0&&u.jsx(te,{border:!0,radius:1,children:u.jsx(hY,{columns:[2,3,4],gap:3,padding:1,margin:1,items:k,onItemMove:s,sortable:_,children:i.map(T=>u.jsxs(pY,{sortable:_,id:T.key,flex:1,children:[T.kind==="item"&&u.jsx(JG,{member:T,renderAnnotation:d,renderBlock:h,renderInlineBlock:m,renderItem:E,renderField:p,renderInput:g,renderPreview:v}),T.kind==="error"&&u.jsx(ifn,{sortable:_,member:T,readOnly:c})]},T.key))})})]})}),u.jsx(n,{onChange:a,onItemAppend:S,onItemPrepend:C,onValueCreate:Hb,readOnly:c,schemaType:y,value:x})]})}const mpn=R(te)`
  position: relative;
  border: 1px solid transparent;
  transition: border-color 250ms;

  .${fY} & {
    border-color: var(--card-shadow-umbra-color);
    box-shadow:
      0 0 0 0,
      0 8px 17px 2px var(--card-shadow-umbra-color),
      0 3px 14px 2px var(--card-shadow-penumbra-color),
      0 5px 5px -3px var(--card-shadow-ambient-color);
  }

  &:hover {
    border-color: var(--card-shadow-umbra-color);
  }

  &[aria-selected='true'] {
    border-color: var(--card-focus-ring-color);
  }
`;function bM(e){const{validation:t,selected:n,tone:r,presence:i,focused:a,children:o,dragHandle:s,menu:l,footer:c,readOnly:d}=e,h=f.useRef(null);return $o(a,(p,m)=>{var g;!p&&m&&((g=h.current)==null||g.focus())}),u.jsx(mpn,{ref:h,selected:n,"aria-selected":n,radius:1,padding:1,tone:r,children:u.jsxs(ee,{space:1,children:[u.jsxs(U,{align:"center",gap:1,children:[s&&u.jsx(WDe,{paddingY:3,readOnly:d}),u.jsx(L,{flex:1,children:o}),(i||t||l)&&u.jsxs(U,{align:"center",flex:"none",gap:2,style:{lineHeight:0},children:[i&&u.jsx(L,{flex:"none",children:i}),t&&u.jsx(L,{flex:"none",children:t}),l]})]}),c]})})}const gpn=R(te)`
  max-width: ${({theme:e})=>e.sanity.container[1]}px;
`;function u$e(e){const{value:t,onFocus:n,vertical:r,...i}=e,[a,o]=f.useState(!1),s=f.useRef(null),{t:l}=Y();yn(()=>o(!1),()=>[s.current]);const c=f.useCallback(p=>{(p.key==="Escape"||p.key==="Tab")&&o(!1)},[]),d=f.useCallback(()=>{o(p=>!p)},[]),h=ks(t);return u.jsx(Fn,{open:a,ref:s,onKeyDown:c,portal:!0,constrainSize:!0,tone:"default",content:u.jsx(gpn,{margin:1,padding:3,onKeyDown:c,tabIndex:0,overflow:"auto",children:u.jsxs(ee,{space:4,children:[u.jsx(L,{children:u.jsx(N,{weight:"medium",children:l("inputs.array.error.type-is-incompatible-title")})}),u.jsx(N,{size:1,children:u.jsx(ht,{t:l,i18nKey:"inputs.array.error.current-schema-not-declare-description",values:{typeName:h}})}),u.jsx(L,{children:u.jsxs(N,{size:1,children:[u.jsx(a2,{})," ",l("inputs.array.error.can-delete-but-no-edit-description")]})}),u.jsxs(ee,{space:2,children:[u.jsx(N,{size:1,weight:"medium",children:l("inputs.array.error.json-representation-description")}),u.jsx(te,{padding:2,overflow:"auto",border:!0,children:u.jsx(fi,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:u.jsx(te,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,flex:1,onFocus:n,onClick:d,onKeyDown:c,__unstable_focusRing:!0,...i,children:u.jsxs(U,{align:"center",children:[u.jsx(L,{marginRight:3,children:u.jsx(N,{children:u.jsx(Hl,{})})}),u.jsx(L,{flex:1,children:u.jsx(N,{size:1,textOverflow:"ellipsis",children:u.jsx(ht,{t:l,i18nKey:"inputs.array.error.type-is-incompatible-prompt",values:{typeName:h}})})})]})})})}const vpn={portal:!0,tone:"default"};function c$e(e){const{member:t,sortable:n,onRemove:r,readOnly:i}=e,a=f.useId(),{t:o}=Y();return u.jsx(L,{paddingX:1,children:u.jsx(bM,{dragHandle:n,readOnly:!!i,tone:"caution",menu:u.jsx(Kt,{button:u.jsx(wi,{}),id:`${a}-menuButton`,menu:u.jsx(Ot,{children:u.jsx(We,{text:o("inputs.array.action.remove-invalid-item"),tone:"critical",icon:Kr,onClick:r})}),popover:vpn}),children:t.error.type==="INVALID_ITEM_TYPE"?u.jsx(u$e,{value:t.error.value}):u.jsx("div",{children:o("inputs.array.error.unexpected-error",{error:t.error.type})})})})}function ypn(e,t){const n=f.useRef(e),r=n.current,i=t(r,e);return f.useEffect(()=>{i||(n.current=e)}),i?r:e}function bpn(){const e=f.useContext(Qhe);if(!e)throw new Error("VirtualizerScrollInstance: missing context value");return e}const xpn=[];function wpn(e){var t;const{arrayFunctions:n=gY,elementProps:r,members:i,onChange:a,onInsert:o,onItemMove:s,onUpload:l,focusPath:c,readOnly:d,renderAnnotation:h,renderBlock:p,renderField:m,renderInlineBlock:g,renderInput:v,renderItem:b,renderPreview:y,resolveUploader:x,schemaType:w,value:C=xpn}=e,{t:S}=Y(),[_,E]=f.useState(null),{space:k}=ib().sanity,T=f.useCallback(K=>{o({items:[K],position:"before",referenceItem:0})},[o]),j=f.useCallback(K=>{o({items:[K],position:"after",referenceItem:-1})},[o]),I=ypn(f.useMemo(()=>i.map(K=>K.key),[i]),Ap),{scrollElement:A,containerElement:$}=bpn(),D=f.useRef(null),M=f.useMemo(()=>Pn(c[0])?c[0]._key:c[0],[c]),O=f.useCallback(K=>{const J={...K};if(_!==null&&(J.startIndex=Math.min(K.startIndex,_),J.endIndex=Math.max(K.endIndex,_)),M){const Q=I.findIndex(re=>re===M);Q!==-1&&(J.startIndex=Math.min(J.startIndex,Q),J.endIndex=Math.max(J.endIndex,Q))}return Mwe(J)},[_,M,I]),F=f.useCallback((K,J)=>{if(!K.scrollElement)return;const Q=K.scrollElement,re=()=>{var ae,ne,se,le;const oe=(ne=(ae=$.current)==null?void 0:ae.getBoundingClientRect().top)!=null?ne:0,ge=(le=(se=D.current)==null?void 0:se.getBoundingClientRect().top)!=null?le:0,_e=Math.floor(ge-oe);J(Q.scrollTop-_e)};return re(),K.scrollElement.addEventListener("scroll",re,{capture:!1,passive:!0}),()=>{Q.removeEventListener("scroll",re)}},[$]),P=f.useCallback(()=>53,[]),V=tU({count:i.length,estimateSize:P,getScrollElement:f.useCallback(()=>A,[A]),observeElementOffset:F,rangeExtractor:O,getItemKey:f.useCallback(K=>I[K],[I]),scrollToFn:(K,J,Q)=>{K!==Q.scrollOffset&&Rwe(K,J,Q)}}),H=V.getVirtualItems(),W=f.useCallback(K=>{var J,Q;const{active:re}=K;E((Q=(J=re.data.current)==null?void 0:J.sortable)==null?void 0:Q.index)},[]),G=f.useCallback(()=>{E(null)},[]),X=((t=w.options)==null?void 0:t.sortable)!==!1,z=1,q=1,Z=2;return u.jsxs(ee,{space:2,ref:D,children:[u.jsx(fM,{$radius:Z,types:w.of,resolveUploader:x,onUpload:l,...r,tabIndex:0,children:u.jsx(ee,{"data-ui":"ArrayInput__content",space:2,children:i.length===0?u.jsx(te,{padding:3,border:!0,radius:2,children:u.jsx(N,{align:"center",muted:!0,size:1,children:w.placeholder||u.jsx(u.Fragment,{children:S("inputs.array.no-items-label")})})}):u.jsx(te,{border:!0,radius:Z,style:{boxSizing:"border-box",height:`${V.getTotalSize()+H.length*k[z]+k[q]}px`,width:"100%",position:"relative"},children:u.jsx(hY,{axis:"y",gap:z,paddingY:q,items:I,onItemMove:s,onItemMoveStart:W,onItemMoveEnd:G,sortable:X,style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${H[0].start}px)`},children:H.map(K=>{const J=i[K.index];return u.jsxs(pY,{ref:V.measureElement,sortable:X,"data-index":K.index,id:J.key,children:[J.kind==="item"&&u.jsx(JG,{member:J,renderAnnotation:h,renderBlock:p,renderField:m,renderInlineBlock:g,renderInput:v,renderItem:b,renderPreview:y}),J.kind==="error"&&u.jsx(c$e,{readOnly:d,sortable:X,member:J,onRemove:()=>e.onItemRemove(J.key)})]},K.key)})})})})}),u.jsx(n,{onChange:a,onItemAppend:j,onItemPrepend:T,onValueCreate:Hb,readOnly:d,schemaType:w,value:C})]})}function d$e(e){var t;return((t=e.schemaType.options)==null?void 0:t.layout)==="grid"?u.jsx(ppn,{...e}):u.jsx(wpn,{...e})}function cI(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e!="object"&&!Array.isArray(e))return e===t;if(e._key&&e._key===t._key)return!0;if(Array.isArray(e))return!e.length!==t.length?!1:e.every((i,a)=>cI(e[a],t[a]));const n=Object.keys(e),r=Object.keys(e);return n.length!==r.length?!1:n.every(i=>cI(e[i],t[i]))}function sue(e,t){return e?e.some(n=>cI(n,t)):!1}function Cpn(e,t){return e.of.find(n=>n.name===ks(t))}const Spn=[];function _pn(e){var t,n;const{renderPreview:r,schemaType:i,onChange:a,onPathFocus:o,value:s=[],readOnly:l,elementProps:c,path:d,changed:h}=e,p=f.useMemo(()=>{var b;return(((b=i.options)==null?void 0:b.list)||Spn).map((y,x)=>Uu(y)?y:{...y,_key:`auto-generated-${x}`})},[(t=i.options)==null?void 0:t.list]),m=f.useCallback((b,y)=>{if(!b&&Uu(y)){a(pt([{_key:y._key}]));return}const x=p.filter(w=>cI(y,w)?b:sue(s,w));a(x.length>0?st(x):pt())},[a,p,s]),g=f.useCallback(b=>{o([b])},[o]),v=((n=i.options)==null?void 0:n.layout)==="grid";return u.jsx(eo,{path:d,isChanged:h,hasFocus:!1,children:u.jsx(Vn,{gap:2,columns:v?Math.min(p.length,4):1,tabIndex:0,...c,children:p.map((b,y)=>{const x=Cpn(i,b),w=sue(s,b),C=!x;return u.jsxs(U,{align:"center",as:"label",muted:C,children:[u.jsx(Gp,{disabled:C,checked:w,onChange:S=>m(S.currentTarget.checked,b),onFocus:()=>g(y),readOnly:l}),u.jsx(L,{flex:1,marginLeft:2,children:x?r({layout:"default",schemaType:x,value:b}):u.jsx(te,{tone:"caution",radius:2,children:u.jsx(rDe,{value:b,onFocus:()=>g(y)})})})]},y)})})})}function Epn(e){return!!(e&&typeof e=="object"&&"title"in e&&"value"in e)}function kpn(e){return e.map(t=>Epn(t)?{title:t.title||Rn(String(t.value)),value:t.value}:{title:Rn(String(t)),value:t})}function Tpn(e,t){return e.of.find(n=>n.name===ks(t.value))}function Apn(e){var t,n;const{schemaType:r,onChange:i,value:a=[],readOnly:o,path:s,changed:l,onIndexFocus:c,elementProps:d}=e,h=f.useMemo(()=>{var g;return kpn(((g=r.options)==null?void 0:g.list)||[])},[(t=r.options)==null?void 0:t.list]),p=(g,v)=>{const b=h.map(y=>y.value).filter(y=>y===v?g:a.includes(y));i(b.length>0?st(b):pt())},m=((n=r.options)==null?void 0:n.layout)==="grid";return u.jsx(eo,{path:s,isChanged:l,hasFocus:!1,children:u.jsx(Vn,{gap:2,columns:m?Math.min(h.length,4):1,...d,children:h.map((g,v)=>{const b=Tpn(r,g),y=a.includes(g.value),x=!b;return u.jsxs(U,{align:"center",as:"label",muted:x,children:[u.jsx(Gp,{disabled:x,checked:y,onChange:w=>p(w.currentTarget.checked,g.value),onFocus:()=>c(v),readOnly:o}),u.jsx(L,{padding:2,children:u.jsx(N,{children:g.title})}),!b&&u.jsx(u$e,{value:g,onFocus:()=>c(v)})]},v)})})})}function f$e(e){return Sdn(e)?u.jsx(_pn,{...e}):u.jsx(Apn,{...e})}function jpn(e){const{schemaType:t,readOnly:n,children:r,onValueCreate:i,onItemAppend:a}=e,o=f.useId(),{t:s}=Y(),l=f.useCallback(p=>{a(i(p))},[i,a]),c=f.useCallback(()=>{l(t.of[0])},[t,l]),d=f.useMemo(()=>({constrainSize:!0,portal:!0}),[]),h=t.of.length>1?"inputs.array.action.add-item-select-type":"inputs.array.action.add-item";return n?u.jsx(gt,{portal:!0,content:s("inputs.array.read-only-label"),children:u.jsx(Vn,{children:u.jsx(fe,{icon:wa,mode:"ghost",disabled:!0,size:"large",text:s(h)})})}):u.jsxs(Vn,{gap:1,style:{gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))"},children:[t.of.length===1?u.jsx(fe,{icon:wa,mode:"ghost",onClick:c,size:"large",text:s(h)}):u.jsx(Kt,{button:u.jsx(fe,{icon:wa,mode:"ghost",size:"large",text:s(h)}),id:o||"",menu:u.jsx(Ot,{children:t.of.map((p,m)=>{var g,v;const b=Zs(p)&&(p.to||[]).length===1&&p.to[0].icon,y=p.icon||((g=p.type)==null?void 0:g.icon)||b;return u.jsx(We,{text:p.title||((v=p.type)==null?void 0:v.name),onClick:()=>l(p),icon:y},m)})}),popover:d}),r]})}const Ipn={portal:!0,tone:"default",placement:"left",constrainSize:!0},Dpn=f.memo(function(e){const{types:t,onInsert:n}=e,{t:r}=Y();return u.jsxs(u.Fragment,{children:[u.jsx(lue,{pos:"before",types:t,onInsert:n,text:r("inputs.array.action.add-before"),icon:hD}),u.jsx(lue,{pos:"after",types:t,onInsert:n,text:r("inputs.array.action.add-after"),icon:pD})]})});function lue(e){const{types:t,onInsert:n,pos:r,text:i,icon:a}=e;return(t==null?void 0:t.length)===1?u.jsx(We,{text:i,icon:a,onClick:()=>n(r,t[0])},r):u.jsx(Vz,{text:i,popover:Ipn,children:t==null?void 0:t.map(o=>u.jsx(We,{icon:o.icon,text:o.title,onClick:()=>n(r,o)},o.name))},r)}const $pn={portal:!0,tone:"default"},Opn=f.forwardRef(function(e,t){const{sortable:n,value:r,insertableTypes:i,onInsert:a,onRemove:o,readOnly:s,inputId:l,validation:c,children:d,presence:h,schemaType:p}=e,m=c.filter(C=>C.level==="error").length>0,g=c.filter(C=>C.level==="warning").length>0,v=f.useCallback((C,S)=>{a({position:C,items:[QG(S)]})},[a]),b=f.useCallback(()=>{r&&a({position:"after",items:[r]})},[a,r]),y=f.useMemo(()=>{if(m)return"critical";if(g)return"caution"},[m,g]),{t:x}=Y(),w=u.jsx(Kt,{button:u.jsx(wi,{}),id:`${l}-menuButton`,popover:$pn,menu:u.jsxs(Ot,{children:[u.jsx(We,{text:x("inputs.array.action.remove"),tone:"critical",icon:Kr,onClick:o}),u.jsx(We,{text:x("inputs.array.action.duplicate"),icon:Ql,onClick:b}),u.jsx(Dpn,{types:i,onInsert:v})]})});return u.jsx(bM,{tone:y,readOnly:!!s,menu:!s&&w,dragHandle:n,presence:h.length===0?null:u.jsx(x_,{presence:h,maxAvatars:1}),validation:c.length>0?u.jsx(L,{paddingX:1,paddingY:3,children:u.jsx(Ub,{validation:c})}):null,children:u.jsx(U,{align:p?"flex-end":"center",ref:t,children:u.jsx(U,{align:"flex-end",flex:1,children:u.jsx(L,{flex:1,marginRight:2,children:d})})})})});function Mpn({schemaType:e}){const{t}=Y();return u.jsx(te,{padding:3,border:!0,radius:2,children:u.jsx(N,{align:"center",muted:!0,size:1,children:e.placeholder||t("inputs.array.no-items-label")})})}function Rpn(e,t,n){return Ppn(e,t,r=>r===n)}function Ppn(e,t,n){let r=t-1,i=t;const a=e.length;for(;r>-1||i<a;){const o=e[i];if(i<a&&n(o,i))return i;const s=e[r];if(r>-1&&n(s,r))return r;r--,i++}return-1}var Fpn=Object.defineProperty,Npn=(e,t,n)=>t in e?Fpn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gm=(e,t,n)=>Npn(e,typeof t!="symbol"?t+"":t,n);class h$e extends f.PureComponent{constructor(t){super(t),gm(this,"_element",null),gm(this,"handleAppend",n=>{const{value:r=[],onIndexFocus:i,onItemAppend:a}=this.props;a(n),i(r.length)}),gm(this,"handlePrepend",n=>{const{onIndexFocus:r,value:i=[],onItemPrepend:a}=this.props;a(n),r(i.length)}),gm(this,"handleSortEnd",n=>{const{onIndexFocus:r,onMoveItem:i,value:a}=this.props;a&&i(n),r(n.toIndex)}),gm(this,"handleItemMoveStart",()=>{this.setState({disableTransition:!1})}),gm(this,"handleItemMoveEnd",()=>{this.setState({disableTransition:!0})}),gm(this,"renderArrayItem",n=>{var r;const{schemaType:i}=this.props,{key:a,...o}=n,s=((r=i.options)==null?void 0:r.sortable)!==!1;return u.jsx(Opn,{...o,sortable:s,insertableTypes:i.of},a)}),this.state={disableTransition:!1}}focus(){this._element&&this._element.focus()}getSnapshotBeforeUpdate(t){var n;const{focusPath:r=[],value:i=[]}=t,{focusPath:a=[],value:o=[]}=this.props;if(r[0]===a[0]&&i.length!==o.length){const s=a[0],l=window.getSelection();if(!((l==null?void 0:l.focusNode)instanceof HTMLElement))return null;const c=(n=l.focusNode)==null?void 0:n.querySelector("input,textarea");return c instanceof HTMLInputElement?{prevFocusedIndex:s,restoreSelection:{text:l.toString(),start:c.selectionStart,end:c.selectionEnd,value:c.value}}:{}}return null}componentDidUpdate(t,n,r){var i;const{onIndexFocus:a}=this.props;if(r!=null&&r.restoreSelection&&t.value){const o=t.value[r.prevFocusedIndex],s=Rpn(this.props.value||[],r.prevFocusedIndex,o);if(s===-1)return;const l=(i=this._element)==null?void 0:i.querySelector(`[data-item-index='${s}'] input,textarea`);if(l instanceof HTMLInputElement){l.focus();try{l.setSelectionRange(r.restoreSelection.start,r.restoreSelection.end)}catch{}}a(s)}}render(){const{schemaType:t,members:n,readOnly:r,renderInput:i,onUpload:a,onItemRemove:o,resolveUploader:s,elementProps:l,arrayFunctions:c=jpn,changed:d}=this.props,h=!r&&Jn(t,"options.sortable")!==!1,p=n.map(m=>({id:`${m.key}-${m.kind==="item"?m.item.value:"error"}`,member:m}));return u.jsxs(ee,{space:2,"data-testid":"array-primitives-input",children:[u.jsx(fM,{types:t.of,resolveUploader:s,onUpload:a,...l,tabIndex:0,children:u.jsx(ee,{space:1,children:p.length===0?u.jsx(Mpn,{schemaType:t}):u.jsx(te,{padding:1,border:!0,children:u.jsx(hY,{onItemMove:this.handleSortEnd,onItemMoveStart:this.handleItemMoveStart,onItemMoveEnd:this.handleItemMoveEnd,items:p.map(m=>m.id),sortable:h,gap:1,children:p.map(({member:m,id:g},v)=>u.jsxs(pY,{id:g,sortable:h,disableTransition:this.state.disableTransition,children:[m.kind==="item"&&u.jsx(eo,{path:m.item.path,isChanged:d,hasFocus:!1,children:u.jsx(iln,{member:m,renderItem:this.renderArrayItem,renderInput:i})}),m.kind==="error"&&u.jsx(c$e,{readOnly:r,sortable:h,member:m,onRemove:()=>o(v)})]},m.key))})})})}),u.jsx(c,{onChange:this.props.onChange,onItemAppend:this.handleAppend,onItemPrepend:this.handlePrepend,onValueCreate:QG,readOnly:this.props.readOnly,schemaType:this.props.schemaType,value:this.props.value})]})}}function Lpn(e){return f.useMemo(()=>{var t;return Array.isArray((t=e.schemaType.options)==null?void 0:t.list)},[e.schemaType])?u.jsx(f$e,{...e}):_dn(e)?u.jsx(h$e,{...e}):u.jsx(d$e,{...e})}const Bpn=R(te)`
  line-height: 1;
`,Vpn=R(L)`
  align-self: center;
`,zpn=R(L)`
  line-height: 0;
`;function Upn(e){var t;const{t:n}=Y(),{id:r,value:i,schemaType:a,readOnly:o,elementProps:s,validation:l}=e,c=((t=a.options)==null?void 0:t.layout)||"switch",d=typeof i!="boolean",h=i||!1,p=c==="checkbox"?Gp:YD,m=o?"transparent":void 0,g=u.jsx(zpn,{padding:3,children:u.jsx(p,{label:a.title,...s,checked:h,readOnly:o,indeterminate:d,style:{margin:-4}})});return u.jsx(Bpn,{border:!0,"data-testid":"boolean-input",radius:2,tone:m,children:u.jsxs(U,{children:[o?u.jsx(gt,{content:n("inputs.boolean.disabled"),children:g}):g,u.jsx(L,{flex:1,paddingY:2,children:u.jsx(ZG,{deprecated:a.deprecated,description:a.description,inputId:r,validation:l,title:a.title})}),u.jsx(Vpn,{paddingX:3,paddingY:1,children:u.jsx(Wsn,{maxAvatars:1,position:"top"})})]})})}function Hpn(e){const{date:t,focused:n,isCurrentMonth:r,isToday:i,onSelect:a,selected:o}=e,s=f.useCallback(()=>{a(t)},[t,a]);return u.jsx("div",{"aria-selected":o,"data-ui":"CalendarDay",children:u.jsx(te,{"aria-label":t.toDateString(),"aria-pressed":o,as:"button",__unstable_focusRing:!0,"data-weekday":!0,"data-focused":n?"true":"",role:"button",tabIndex:-1,onClick:s,padding:2,radius:2,selected:o,tone:i||o?"primary":"default",children:u.jsx(N,{muted:!o&&!r,size:1,style:{textAlign:"center"},weight:r?"medium":"regular",children:t.getDate()})})})}const Wpn=J2(0,24),Gpn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ypn=[1,2,3,4,5,6],qpn=(e,t)=>{const n=nO(e);return tO({start:n,end:iO(n)},{weekStartsOn:t===7?0:t})},Kpn=e=>e.map(t=>[t,...Ypn.map(n=>Hr(t,n))]),Zpn=e=>{const{weekInfo:t}=rm();return Kpn(qpn(e,t.firstDay)).map(n=>({number:rO(n[0]),days:n}))};function Xpn(e){const{weekInfo:{firstDay:t}}=rm(),n=t===1?e.weekDayNames:[e.weekDayNames[6],...e.weekDayNames.slice(0,6)];return u.jsx(L,{"aria-hidden":e.hidden||!1,"data-ui":"CalendarMonth",children:u.jsxs(Vn,{gap:1,style:{gridTemplateColumns:"repeat(7, minmax(44px, 46px))"},children:[n.map(r=>u.jsx(L,{paddingY:2,children:u.jsx(N,{size:1,weight:"medium",style:{textAlign:"center"},children:r})},r)),Zpn(e.date).map((r,i)=>r.days.map((a,o)=>{const s=e.focused&&Eo(a,e.focused),l=e.selected&&Eo(a,e.selected),c=Eo(a,new Date),d=e.focused&&aO(a,e.focused);return u.jsx(Hpn,{date:a,focused:s,isCurrentMonth:d,isToday:c,onSelect:e.onSelect,selected:l},`${i}-${o}`)}))]})})}const uue={dayPresets:!1,timePresets:!1},xM=f.forwardRef(function({onChange:e,onBlur:t,onKeyPress:n,value:r,...i},a){const[o,s]=f.useState(),l=f.useCallback(p=>{s(p.currentTarget.value)},[]),c=f.useCallback(p=>{p.currentTarget.value!==`${r}`&&e&&e(p),s(void 0)},[e,r]),d=f.useCallback(p=>{c(p),t&&t(p)},[c,t]),h=f.useCallback(p=>{p.key==="Enter"&&c(p),n&&n(p)},[c,n]);return u.jsx(Zr,{...i,"data-testid":"date-input",ref:a,value:o===void 0?r:o,onChange:l,onBlur:d,onKeyPress:h})}),Jpn=e=>{const{onChange:t,...n}=e,r=f.useCallback(i=>{const a=parseInt(i.currentTarget.value,10);isNaN(a)||t(a)},[t]);return u.jsx(xM,{...n,fontSize:1,onChange:r,inputMode:"numeric",padding:2,radius:2})},Qpn=u.jsx("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1}),cue={padding:2},emn=f.forwardRef(function(e,t){const{selectTime:n,onFocusedDateChange:r,selectedDate:i=new Date,focusedDate:a=i,timeStep:o=1,onSelect:s,labels:l,...c}=e,d=f.useCallback(_=>r(_),[r]),h=f.useCallback(_=>d(lke(ZH(a,_),1)),[a,d]),p=f.useCallback(_=>h(Number(_.currentTarget.value)),[h]),m=f.useCallback(_=>d(X2(a,_)),[a,d]),g=f.useCallback(_=>d(uke(a,_)),[a,d]),v=f.useCallback(_=>{s(df(vg(_,i.getHours()),i.getMinutes()))},[s,i]),b=f.useCallback(_=>{const E=Number(_.currentTarget.value);s(df(i,E))},[s,i]),y=f.useCallback(_=>{const E=Number(_.currentTarget.value);s(vg(i,E))},[s,i]);f.useCallback((_,E)=>{s(vg(df(i,E),_))},[s,i]);const x=f.useRef(null);f.useImperativeHandle(t,()=>x.current);const w=f.useCallback(()=>{var _,E;(E=(_=x.current)==null?void 0:_.querySelector('[data-focused="true"]'))==null||E.focus()},[x]),C=f.useCallback(_=>{var E,k;if(!Gpn.includes(_.key))return;const T=_.currentTarget;if(_.preventDefault(),T.hasAttribute("data-calendar-grid")){w();return}_.key==="ArrowUp"&&r(Hr(a,-7)),_.key==="ArrowDown"&&r(Hr(a,7)),_.key==="ArrowLeft"&&r(Hr(a,-1)),_.key==="ArrowRight"&&r(Hr(a,1)),(k=(E=x.current)==null?void 0:E.querySelector("[data-preserve-focus]"))==null||k.focus()},[x,w,r,a]);f.useEffect(()=>{w()},[w]),f.useEffect(()=>{var _;(_=document.activeElement)!=null&&_.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]")&&w()},[x,w,a]),f.useCallback(()=>v(Hr(new Date,-1)),[v]),f.useCallback(()=>v(new Date),[v]),f.useCallback(()=>v(Hr(new Date,1)),[v]);const S=f.useCallback(()=>s(new Date),[s]);return u.jsxs(L,{"data-ui":"Calendar",...c,ref:x,children:[u.jsxs(L,{padding:2,children:[uue.dayPresets,u.jsxs(U,{children:[u.jsx(L,{flex:1,children:u.jsx(tmn,{onChange:p,monthNames:l.monthNames,value:a==null?void 0:a.getMonth()})}),u.jsx(L,{marginLeft:2,children:u.jsx(nmn,{moveFocusedDate:m,labels:{goToNextYear:l.goToNextYear,goToPreviousYear:l.goToPreviousYear},onChange:g,value:a.getFullYear()})})]}),u.jsxs(L,{"data-calendar-grid":!0,onKeyDown:C,marginTop:2,overflow:"hidden",tabIndex:0,children:[u.jsx(Xpn,{weekDayNames:l.weekDayNamesShort,date:a,focused:a,onSelect:v,selected:i}),Qpn]})]}),n&&u.jsxs(L,{padding:2,style:{borderTop:"1px solid var(--card-border-color)"},children:[u.jsxs(U,{align:"center",children:[u.jsxs(U,{align:"center",flex:1,children:[u.jsx(L,{children:u.jsx(iu,{"aria-label":l.selectHour,fontSize:1,padding:2,radius:2,value:i==null?void 0:i.getHours(),onChange:y,children:Wpn.map(_=>u.jsx("option",{value:_,children:`${_}`.padStart(2,"0")},_))})}),u.jsx(L,{paddingX:1,children:u.jsx(N,{size:1,children:":"})}),u.jsx(L,{children:u.jsx(iu,{"aria-label":l.selectMinute,fontSize:1,padding:2,radius:2,value:i==null?void 0:i.getMinutes(),onChange:b,children:J2(0,60,o).map(_=>u.jsx("option",{value:_,children:`${_}`.padStart(2,"0")},_))})})]}),u.jsx(L,{marginLeft:2,children:u.jsx(fe,{text:l.setToCurrentTime,mode:"bleed",onClick:S})})]}),uue.timePresets]})]})});function tmn(e){const{onChange:t,value:n,monthNames:r}=e;return u.jsx(U,{flex:1,gap:1,children:u.jsx(L,{flex:1,children:u.jsx(iu,{fontSize:1,radius:2,value:n,onChange:t,padding:2,children:r.map((i,a)=>u.jsx("option",{value:a,children:i},a))})})})}function nmn(e){const{moveFocusedDate:t,onChange:n,value:r,labels:i}=e,a=f.useCallback(()=>t(-12),[t]),o=f.useCallback(()=>t(12),[t]);return u.jsxs(U,{gap:1,children:[u.jsx(fe,{"aria-label":i.goToPreviousYear,onClick:a,mode:"bleed",icon:Lf,tooltipProps:{content:"Previous year"},...cue}),u.jsx(Jpn,{value:r,onChange:n,radius:0,style:{width:48}}),u.jsx(fe,{"aria-label":i.goToNextYear,onClick:o,mode:"bleed",icon:no,tooltipProps:{content:"Next year"},...cue})]})}const p$e=f.forwardRef(function(e,t){const{value:n=new Date,onChange:r,calendarLabels:i,...a}=e,[o,s]=f.useState(),l=f.useCallback(c=>{r(c),s(void 0)},[r]);return u.jsx(emn,{...a,labels:i,ref:t,selectedDate:n,onSelect:l,focusedDate:o||n,onFocusedDateChange:s})}),rmn=f.forwardRef(function(e,t){const{value:n,inputValue:r,onInputChange:i,onChange:a,selectTime:o,timeStep:s,calendarLabels:l,...c}=e,d=f.useRef(null),h=f.useRef(null),p=f.useRef(null);f.useImperativeHandle(t,()=>h.current);const[m,g]=f.useState(!1);yn(()=>g(!1),()=>[d.current]);const v=f.useCallback(()=>{var w,C;(w=h.current)==null||w.focus(),(C=h.current)==null||C.select()},[]),b=f.useCallback(w=>{w.key==="Escape"&&g(!1)},[]),y=f.useCallback(()=>g(!0),[]),x=u.jsx(U,{style:{padding:"5px"},children:u.jsx(fe,{"aria-label":l.ariaLabel,ref:p,icon:Ma,mode:"bleed",onClick:y,style:{display:"block"},"data-testid":"select-date-button",tooltipProps:{content:l.tooltipText}})});return u.jsx(xM,{ref:h,...c,value:r,onChange:i,suffix:m?u.jsx(ru,{zOffset:1e3,children:u.jsx(Fn,{constrainSize:!0,"data-testid":"date-input-dialog",portal:!0,content:u.jsx(L,{overflow:"auto",children:u.jsx(ec,{onDeactivation:v,children:u.jsx(p$e,{calendarLabels:l,selectTime:o,timeStep:s,onKeyUp:b,value:n,onChange:a})})}),open:!0,placement:"bottom",ref:d,children:x})}):x})}),imn=new Date,m$e=f.forwardRef(function(e,t){const{id:n,deserialize:r,formatInputValue:i,onChange:a,parseInputValue:o,placeholder:s,readOnly:l,selectTime:c,serialize:d,timeStep:h,value:p,...m}=e,[g,v]=f.useState(null),{t:b}=Y();f.useEffect(()=>{v(null)},[p]);const y=f.useCallback(_=>{const E=_.currentTarget.value,k=E===""?null:o(E);k===null?(a(null),typeof p>"u"&&g&&v(null)):k.isValid?a(d(k.date)):v(E)},[o,a,p,g,d]),x=f.useCallback(_=>{a(_?d(_):null)},[d,a]),w=f.useRef(null);f.useImperativeHandle(t,()=>w.current);const C=g?o(g):p?r(p):null,S=g||(C!=null&&C.isValid?i(C.date):p);return l?u.jsx(Zr,{value:S,readOnly:!0}):u.jsx(rmn,{...m,calendarLabels:e.calendarLabels,id:n,selectTime:c,timeStep:h,placeholder:s||b("inputs.datetime.placeholder",{example:i(imn)}),ref:w,value:C==null?void 0:C.date,inputValue:S||"",readOnly:!!l,onInputChange:y,onChange:x,customValidity:C==null?void 0:C.error})});function amn(e){return e instanceof Date&&!isNaN(e.valueOf())}function wY(e){return{ariaLabel:e("calendar.button.aria-label"),goToTomorrow:e("calendar.action.go-to-tomorrow"),goToToday:e("calendar.action.go-to-today"),goToYesterday:e("calendar.action.go-to-yesterday"),goToNextMonth:e("calendar.action.go-to-next-month"),goToPreviousMonth:e("calendar.action.go-to-previous-month"),goToNextYear:e("calendar.action.go-to-next-year"),goToPreviousYear:e("calendar.action.go-to-previous-year"),setToCurrentTime:e("calendar.action.set-to-current-time"),selectHour:e("calendar.action.select-hour"),selectMinute:e("calendar.action.select-minute"),tooltipText:e("calendar.button.tooltip-text"),monthNames:[e("calendar.month-names.january"),e("calendar.month-names.february"),e("calendar.month-names.march"),e("calendar.month-names.april"),e("calendar.month-names.may"),e("calendar.month-names.june"),e("calendar.month-names.july"),e("calendar.month-names.august"),e("calendar.month-names.september"),e("calendar.month-names.october"),e("calendar.month-names.november"),e("calendar.month-names.december")],weekDayNamesShort:[e("calendar.weekday-names.short.monday"),e("calendar.weekday-names.short.tuesday"),e("calendar.weekday-names.short.wednesday"),e("calendar.weekday-names.short.thursday"),e("calendar.weekday-names.short.friday"),e("calendar.weekday-names.short.saturday"),e("calendar.weekday-names.short.sunday")],setToTimePreset:(t,n)=>e("calendar.action.set-to-time-preset",{time:t,date:n})}}const omn=e=>B$(e,Xp),smn=e=>Eb(e,Xp);function lmn(e){var t;const{readOnly:n,onChange:r,schemaType:i,elementProps:a,value:o}=e,s=((t=i.options)==null?void 0:t.dateFormat)||Xp,{t:l}=Y(),c=f.useCallback(m=>{r(m===null?pt():st(m))},[r]),d=f.useCallback(m=>Eb(m,s),[s]),h=f.useCallback(m=>B$(m,s),[s]),p=f.useMemo(()=>wY(l),[l]);return u.jsx(m$e,{...a,deserialize:omn,formatInputValue:d,onChange:c,parseInputValue:h,placeholder:i.placeholder,calendarLabels:p,readOnly:n,selectTime:!1,serialize:smn,value:o})}function umn(e={}){return{dateFormat:e.dateFormat||Xp,timeFormat:e.timeFormat||JU,timeStep:"timeStep"in e&&Number(e.timeStep)||1}}function g$e(e){return e.toISOString()}function cmn(e){const t=new Date(e);return amn(t)?{isValid:!0,date:t}:{isValid:!1,error:`Invalid date value: "${e}"`}}function dmn(e,t){if(!t||t===1)return e;const n=oke(e),r=QEe(n),i=r%t;return g$e(i!==0?df(n,r-i):n)}function fmn(e){const{onChange:t,schemaType:n,value:r,elementProps:i}=e,{dateFormat:a,timeFormat:o,timeStep:s}=umn(n.options),{t:l}=Y(),c=f.useCallback(m=>{let g=m;g!==null&&s>1&&(g=dmn(g,s)),t(g===null?pt():st(g))},[t,s]),d=f.useCallback(m=>Eb(m,`${a} ${o}`),[a,o]),h=f.useCallback(m=>B$(m,`${a} ${o}`),[a,o]),p=f.useMemo(()=>wY(l),[l]);return u.jsx(m$e,{...i,calendarLabels:p,onChange:c,deserialize:cmn,formatInputValue:d,parseInputValue:h,placeholder:n.placeholder,selectTime:!0,serialize:g$e,timeStep:s,value:r})}function hmn(e){const{validationError:t,elementProps:n}=e;return u.jsx(Zr,{...n,type:"email",inputMode:"email",customValidity:t})}const pmn=(e,t)=>{if(typeof e=="function")throw new Error(`Schema type "${(t==null?void 0:t.name)||"<not-found>"}"'s \`validation\` was not run though \`inferFromSchema\``);return e?Array.isArray(e)?e:[e]:[]};function _T(e,t){for(const n of pmn(e==null?void 0:e.validation,e))for(const r of n._rules)if(r.flag===t)return r;return null}function v$e(e){const{schemaType:t,validationError:n,elementProps:r}=e,i=_T(t,"min"),a=_T(t,"integer"),o=_T(t,"precision"),s=typeof(i==null?void 0:i.constraint)=="number"&&(i==null?void 0:i.constraint)>=0,l=a||(o==null?void 0:o.constraint)===0;return u.jsx(Zr,{...r,type:"number",step:"any",inputMode:s?l?"numeric":"decimal":"text",customValidity:n,placeholder:t.placeholder,pattern:s?"[d]*":void 0,max:Number.MAX_SAFE_INTEGER,min:Number.MIN_SAFE_INTEGER,"data-testid":"number-input"})}const mmn=f.forwardRef(function(e,t){const{onClick:n}=e,r=f.useCallback(()=>{n==null||n(e.name)},[e.name,n]);return u.jsx(uS,{"data-testid":`group-tab-${e.name}`,id:`${e.name}-tab`,label:e.title,ref:t,...e,onClick:r})}),gmn=e=>{const{name:t,title:n,...r}=e,{selected:i}=e;return u.jsx("option",{title:n,value:t,id:`${t}-tab`,"aria-controls":r["aria-controls"],"data-testid":`group-select-${t}`,"aria-selected":i?"true":"false",children:n||t})},vmn=R(GD)`
  /* Hide on small screens */
  &[data-eq-max~='0'] [data-ui='TabList'] {
    display: none;
  }

  /* Hide on medium to large screens */
  [data-ui='Select'] {
    display: none;
  }

  /* Show on small screens */
  &[data-eq-max~='0'] [data-ui='Select'] {
    display: block;
  }
`,ymn=({inputId:e,groups:t,onClick:n,shouldAutoFocus:r=!0,disabled:i})=>{const{t:a}=Y();return u.jsx(ub,{space:2,"data-testid":"field-group-tabs",children:t.map(o=>{var s;const l=(s=o.i18n)!=null&&s.title?a(o.i18n.title.key,{ns:o.i18n.title.ns}):o.title||o.name;return u.jsx(mmn,{"aria-controls":`${e}-field-group-fields`,autoFocus:r&&o.selected,disabled:i||o.disabled,icon:o==null?void 0:o.icon,name:o.name,onClick:n,selected:!!o.selected,title:l},`${e}-${o.name}-tab`)})})},bmn=({disabled:e,groups:t,inputId:n,onSelect:r,shouldAutoFocus:i=!0})=>{var a;const o=f.useCallback(l=>{r(l.currentTarget.value)},[r]),{t:s}=Y();return u.jsx(iu,{"aria-label":s("inputs.object.field-group-tabs.aria-label"),autoFocus:i,"data-testid":"field-group-select",disabled:e,fontSize:2,muted:!0,onChange:o,value:(a=t.find(l=>l.selected))==null?void 0:a.name,children:t.map(l=>{var c;const d=(c=l.i18n)!=null&&c.title?s(l.i18n.title.key,{ns:l.i18n.title.ns}):l.title||l.name;return u.jsx(gmn,{"aria-controls":`${n}-field-group-fields`,disabled:l.disabled,name:l.name,selected:!!l.selected,title:d},`${n}-${l.name}-tab`)})})},xmn=f.memo(function({disabled:e=!1,onClick:t,...n}){const r=f.useCallback(i=>{t==null||t(i)},[t]);return u.jsxs(vmn,{"data-testid":"field-group-root",children:[u.jsx(ymn,{...n,disabled:e,onClick:r}),u.jsx(bmn,{...n,disabled:e,onSelect:r})]})}),wmn=R(te)`
  margin-bottom: ${({$level:e,theme:t})=>e===0?0:t.sanity.space[5]*-1}px;
  padding-bottom: ${({$level:e,theme:t})=>t.sanity.space[4]}px;
`,Cmn=R(Vn)`
  align-items: flex-end;
`;function Smn(e){const{fieldNames:t,onChange:n,readOnly:r,value:i}=e,a=t.length,o=f.useCallback(l=>{n(pt([l]))},[n]),{t:s}=Y();return u.jsxs(ac,{status:"warning",title:u.jsx(u.Fragment,{children:s("inputs.object.unknown-fields.warning.title",{count:a})}),children:[u.jsx(N,{as:"p",muted:!0,size:1,children:u.jsx(u.Fragment,{children:s("inputs.object.unknown-fields.warning.description",{count:a})})}),u.jsxs(H0,{marginTop:4,open:gl,title:s("inputs.object.unknown-fields.warning.details.title"),children:[u.jsx(L,{marginBottom:3,children:u.jsx(N,{as:"p",muted:!0,size:1,children:u.jsx(u.Fragment,{children:s("inputs.object.unknown-fields.warning.details.description",{count:a})})})}),u.jsx(ee,{as:"ul",space:3,children:t.map(l=>u.jsx(_mn,{fieldName:l,onUnsetClick:o,readOnly:r,value:i==null?void 0:i[l]},l))})]})]})}function _mn({fieldName:e,onUnsetClick:t,readOnly:n,value:r}){const i=f.useCallback(()=>{t(e)},[e,t]),{t:a}=Y();return u.jsxs(te,{as:"li",overflow:"hidden",radius:2,shadow:1,tone:"caution",children:[u.jsx(te,{padding:3,shadow:1,tone:"inherit",children:u.jsx(fi,{size:1,children:e})}),u.jsx(L,{overflow:"auto",padding:3,children:u.jsx(fi,{language:"json",size:1,children:JSON.stringify(r,null,2)})}),n&&u.jsx(L,{padding:3,children:u.jsx(N,{as:"p",muted:!0,size:1,children:u.jsx(ht,{t:a,i18nKey:"inputs.object.unknown-fields.read-only.description"})})}),!n&&u.jsx(te,{padding:3,shadow:1,tone:"inherit",children:u.jsx(fe,{icon:Kr,mode:"ghost",onClick:i,size:"large",tone:"critical",text:a("inputs.object.unknown-fields.remove-field-button.text")})})]})}const Emn=R(ee)`
  // Disable focus ring for the object block. We instead highlight the left border on the fieldset
  // for level > 0 to signal that you have focused on the object
  &:focus {
    outline: none;
  }
`,due=f.memo(function(e){const{__internal_arrayEditingModal:t=null,groups:n,id:r,members:i,onChange:a,onFieldGroupSelect:o,renderAnnotation:s,renderBlock:l,renderField:c,renderInlineBlock:d,renderInput:h,renderItem:p,renderPreview:m,schemaType:g,path:v,level:b,value:y,onPathFocus:x}=e,w=f.useRef(null),{columns:C}=g.options||{},S=f.useMemo(()=>r!=="root"&&!(v.length>0&&Pn(QSt(v))),[r,v]),_=f.useMemo(()=>{if(!g.fields)return null;const j=g.fields.map(A=>A.name),I=Object.keys(y||{}).filter(A=>!A.startsWith("_")&&!j.includes(A));return I.length===0?null:u.jsx(Smn,{fieldNames:I,value:y,onChange:a})},[a,g.fields,y]),E=f.useMemo(()=>n.find(({selected:j})=>j),[n]),k=f.useCallback(j=>{S&&j.target===w.current&&x(cn)},[S,x]),T=f.useCallback(()=>u.jsx(Sun,{members:i,renderAnnotation:s,renderBlock:l,renderField:c,renderInlineBlock:d,renderInput:h,renderItem:p,renderPreview:m}),[i,s,l,c,d,h,p,m]);return i.length===0?null:u.jsxs(u.Fragment,{children:[t,u.jsxs(Emn,{space:6,tabIndex:S?0:void 0,onFocus:k,ref:w,children:[n.length>0?u.jsx(wmn,{$level:b,"data-testid":"field-groups",children:u.jsx(xmn,{groups:n,inputId:r,onClick:o,shouldAutoFocus:!1})}):null,u.jsx(f.Fragment,{children:C?u.jsx(Cmn,{columns:C,gap:4,marginTop:1,children:T()}):T()},E==null?void 0:E.name),_]})]})}),kmn=(e,t)=>{var n;const r=(n=t.options)==null?void 0:n.maxLength;return e?cIe(e,{truncate:typeof r=="number"?r:200,symbols:!0}):""};async function Tmn(e,t,n){var r;return e&&(((r=t.options)==null?void 0:r.slugify)||kmn)(e,t,n)}function Amn(e){const[t,n]=f.useState(null),r=f.useRef(0),i=f.useCallback(a=>{const o=++r.current;n({status:"pending"}),Promise.resolve().then(()=>e(a)).then(s=>{o===r.current&&n({status:"complete",result:s})},s=>{o===r.current&&n({status:"error",error:s})})},[e]);return[t,i]}function jmn(){const{getClient:e}=Dn(),t=en(),n=Kn(),r=O_(),i=YPe();return f.useMemo(()=>({projectId:r,dataset:i,getClient:e,schema:t,currentUser:n}),[e,t,n,r,i])}function Imn(e,t,n){const r=e.slice(0,-1),i=Uy(t,r);return{parentPath:r,parent:i,...n}}async function Dmn(e,t,n){return typeof e=="function"?e(t,n):Uy(t,e)}function $mn(e){var t;const n=JY(),{path:r,value:i,schemaType:a,validation:o,onChange:s,readOnly:l,elementProps:c}=e,d=(t=a.options)==null?void 0:t.source,h=f.useMemo(()=>o.filter(C=>C.level==="error"),[o]),p=jmn(),{t:m}=Y(),g=f.useCallback(C=>{if(!C){s(jt.from(pt([])));return}s(jt.from([Ts({_type:a.name}),st(C,["current"])]))},[s,a.name]),v=f.useCallback(()=>{if(!d)return Promise.reject(new Error(m("inputs.slug.error.missing-source",{schemaType:a.name})));const C=n([])||{_type:a.name},S=Imn(r,C,p);return Dmn(d,C,S).then(_=>Tmn(_||"",a,S)).then(_=>g(_))},[d,n,a,r,p,g,m]),[b,y]=Amn(v),x=(b==null?void 0:b.status)==="pending",w=f.useCallback(C=>g(C.currentTarget.value),[g]);return u.jsx(ee,{space:3,children:u.jsxs(U,{gap:1,children:[u.jsxs(L,{flex:1,children:[u.jsx(Zr,{customValidity:h.length>0?h[0].message:"",disabled:x,onChange:w,value:(i==null?void 0:i.current)||"",readOnly:l,...c}),(b==null?void 0:b.status)==="error"&&u.jsx(te,{padding:2,tone:"critical",children:b.error.message})]}),d&&u.jsx(fe,{mode:"ghost",type:"button",disabled:l||x,onClick:y,size:"large",text:(b==null?void 0:b.status)==="pending"?m("inputs.slug.action.generating"):m("inputs.slug.action.generate")})]})})}function y$e(e){const{validationError:t,elementProps:n}=e;return u.jsx(Zr,{...n,customValidity:t,"data-testid":"string-input"})}const Omn=R(_xe)`
  &[data-as='textarea'] {
    resize: vertical;
  }
`;function Mmn(e){const{schemaType:t,validationError:n,value:r,elementProps:i}=e;return u.jsx(Omn,{customValidity:n,value:r||"",placeholder:t.placeholder,rows:typeof t.rows=="number"?t.rows:10,...i})}function Rmn(e){var t,n;const{schemaType:r,validationError:i,elementProps:a}=e,o=_T(r,"uri"),s=(n=(t=o==null?void 0:o.constraint)==null?void 0:t.options)!=null&&n.allowRelative?"text":"url";return u.jsx(Zr,{type:s,inputMode:"url",customValidity:i,...a})}function Pmn({value:e,onClearValue:t}){const n=f.useMemo(()=>!!(e!=null&&e._ref),[e==null?void 0:e._ref]),{t:r}=Y(),i=u.jsx(ht,{t:r,i18nKey:"inputs.reference.cross-dataset.feature-disabled-description",components:{DocumentationLink:({children:a})=>u.jsx("a",{href:"https://www.sanity.io/docs/cross-dataset-references",target:"_blank",rel:"noreferrer",children:a})}});return u.jsxs(te,{tone:"caution",padding:4,border:!0,radius:2,"data-testid":"alert-cross-dataset-reference-feature-disabled",children:[u.jsxs(U,{gap:4,marginBottom:n?4:void 0,children:[u.jsx(L,{children:u.jsx(N,{size:1,children:u.jsx(fr,{})})}),u.jsxs(ee,{space:3,children:[u.jsx(N,{as:"h2",size:1,weight:"medium",children:r("inputs.reference.cross-dataset.feature-unavailable-title")}),n&&u.jsxs(ee,{space:3,children:[u.jsx(N,{as:"p",size:1,children:i}),u.jsx(N,{as:"p",size:1,children:r("inputs.reference.cross-dataset.feature-disabled-actions")})]}),!n&&u.jsx(N,{as:"p",size:1,children:i})]})]}),t&&n&&u.jsx(fe,{icon:qc,mode:"ghost",onClick:t,text:r("inputs.reference.action.clear"),width:"fill"})]})}const Fmn=R(U)`
  /* this is a hack to avoid layout jumps while previews are loading
  or the message is not tall enough to fill the card
  there's probably better ways of solving this */
  min-height: 36px;
`;function b$e(e){var t,n,r;const{refType:i,showStudioUrlIcon:a,hasStudioUrl:o,showTypeLabel:s,availability:l,preview:c,id:d,dataset:h,projectId:p}=e,m=(l==null?void 0:l.reason)==="NOT_FOUND",g=(l==null?void 0:l.reason)==="PERMISSION_DENIED",v=(t=c.published)==null?void 0:t.media,{t:b}=Y(),y=f.useMemo(()=>{if(v){const x=typeof(v==null?void 0:v.asset)<"u"&&kb(v),w=f.isValidElement(v);return!x&&!w?null:function({dimensions:C}){return w?v:u.jsx("img",{src:z2({dataset:h,projectId:p}).image(v).withOptions(C).url(),alt:b("inputs.reference.image-preview-alt-text"),referrerPolicy:"strict-origin-when-cross-origin"})}}return i!=null&&i.icon?f.createElement(i.icon):null},[v,h,p,i==null?void 0:i.icon,b]);return u.jsxs(Fmn,{align:"center",justify:"center",flex:1,"data-testid":"preview",children:[l!=null&&l.available?u.jsx(L,{flex:1,children:u.jsx(a3e,{title:(n=c.published)==null?void 0:n.title,subtitle:(r=c.published)==null?void 0:r.subtitle,media:y||!1})}):u.jsx(L,{flex:1,children:u.jsx(U,{align:"center",children:u.jsx(L,{flex:1,paddingY:2,children:u.jsx(N,{muted:!0,children:b("inputs.reference.error.document-unavailable-title")})})})}),u.jsx(L,{paddingLeft:3,children:u.jsxs(An,{space:4,children:[i&&s&&u.jsx(ro,{mode:"outline",children:i.title||i.type}),(g||m)&&u.jsx(L,{children:u.jsx(gt,{portal:!0,content:b(m?"inputs.reference.referenced-document-does-not-exist":"inputs.reference.referenced-document-insufficient-permissions",{documentId:d}),children:u.jsx(qr,{tone:"default",children:g?u.jsx(gf,{}):u.jsx(Ag,{})})})}),!(m||g)&&a&&u.jsx(L,{children:u.jsx(gt,{portal:!0,content:b(o?"inputs.reference.document-opens-in-new-tab":"input.reference.document-cannot-be-opened.failed-to-resolve-url"),children:u.jsx(qr,{size:1,tone:"default",muted:!o,children:u.jsx(Qc,{})})})})]})})]})}const x$e=()=>{},fue={isLoading:!0,result:void 0,error:void 0,retry:x$e},Nmn={isLoading:!1,result:void 0,error:void 0,retry:x$e};function w$e(e,t){const[n,r]=f.useState(0),i=f.useCallback(()=>{r(s=>s+1)},[]),a=f.useMemo(()=>({_id:e._id,_type:e._type}),[e._id,e._type]),o=f.useMemo(()=>a._id?t(a).pipe(de(s=>({isLoading:!1,result:s,error:void 0,retry:i,retryAttempt:n})),Vi(fue),Cn(s=>(console.error(s),xe({isLoading:!1,result:void 0,error:s,retry:i,retryAttempt:n})))):xe(Nmn),[a,t,i,n]);return Jr(o,fue)}function CY(){return Zt(Gt).config().projectId}function Lmn(e){var t;const{isLoading:n,result:r,error:i}=w$e(e.document,e.getReferenceInfo),{t:a}=Y(),o=CY();if(n)return u.jsxs(ee,{space:2,padding:1,children:[u.jsx(ir,{style:{maxWidth:320},radius:1,animated:!0}),u.jsx(ir,{style:{maxWidth:200},radius:1,size:1,animated:!0})]});if(i)return u.jsx(ee,{space:2,padding:1,children:u.jsx(ac,{title:a("inputs.reference.error.failed-to-load-document-title"),children:u.jsx(N,{muted:!0,size:1,children:i.message})})});if(!r)return null;if(((t=r.availability)==null?void 0:t.reason)==="PERMISSION_DENIED")return u.jsx(ee,{space:2,padding:1,children:a("inputs.reference.error.missing-read-permissions-description")});const s=e.referenceType.to.find(l=>l.type===r.type);return s?r&&s&&u.jsx(b$e,{id:r.id,availability:r.availability,preview:r.preview,refType:s,dataset:e.referenceType.dataset,projectId:o,showTypeLabel:e.referenceType.to.length>1}):u.jsx(ee,{space:2,padding:1,children:a("inputs.reference.error.invalid-search-result-type-title",{returnedType:r.type})})}function hue(e){var t,n;const{value:r,type:i,showStudioUrlIcon:a,hasStudioUrl:o,referenceInfo:s}=e,{t:l}=Y(),c=CY();if(s.isLoading||s.error)return u.jsxs(ee,{space:2,padding:1,children:[u.jsx(ir,{style:{maxWidth:320},radius:1,animated:!s.error}),u.jsx(ir,{style:{maxWidth:200},radius:1,size:1,animated:!s.error})]});const d=i.to.length>1,h=(t=s.result)==null?void 0:t.type,p=i.to.find(m=>m.type===h);return(n=s.result.availability)!=null&&n.available&&!p?u.jsx(ee,{space:2,padding:2,children:u.jsx(N,{as:"p",children:u.jsx(ht,{t:l,i18nKey:"inputs.reference.cross-dataset.invalid-type",values:{typeName:h||"unknown"},components:{JsonValue:()=>u.jsx("pre",{children:JSON.stringify(r,null,2)})}})})}):u.jsx(b$e,{availability:s.result.availability,hasStudioUrl:o,showStudioUrlIcon:a,preview:s.result.preview,refType:p,projectId:c,dataset:i.dataset,id:r._ref,showTypeLabel:d})}const Bmn=R(Fn)`
  & > div {
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
`,Vmn=R(N)`
  word-break: break-word;
`,zmn=["top-start","bottom-start"],Umn=f.forwardRef(function(e,t){const{searchString:n,loading:r,portalRef:i,referenceElement:a,...o}=e,{t:s}=Y(),l=e.options&&e.options.length>0,c=f.useCallback(({content:d,hidden:h,inputElement:p,onMouseEnter:m,onMouseLeave:g},v)=>u.jsx(Bmn,{"data-testid":"autocomplete-popover",placement:"bottom-start",fallbackPlacements:zmn,arrow:!1,constrainSize:!0,onMouseEnter:m,onMouseLeave:g,content:u.jsx("div",{ref:v,children:l?d:u.jsx(L,{padding:4,children:u.jsx(U,{align:"center",height:"fill",justify:"center",children:u.jsx(Vmn,{align:"center",muted:!0,children:u.jsx(ht,{t:s,i18nKey:"inputs.reference.no-results-for-query",values:{searchTerm:n||""}})})})})}),open:!r&&!h,ref:i,portal:!0,referenceElement:a||p,matchReferenceWidth:!0}),[l,s,n,r,i,a]);return u.jsx(qD,{...o,ref:t,renderPopover:c})}),pue={hits:[],isLoading:!1},Hmn=()=>!0,mue=["_ref"],Wmn="crossDatasetReferences";function Gmn(e){var t,n;const{changed:r,focused:i,focusPath:a,getReferenceInfo:o,onChange:s,onPathFocus:l,onSearch:c,path:d,readOnly:h,schemaType:p,validation:m,value:g,elementProps:v}=e,{t:b}=Y(),y=CY(),[x,w]=f.useState(pue),C=f.useCallback(se=>{if(!se){s(pt()),l([]);return}if(!x.hits.find(le=>le.id===se))throw new Error("Selected an item that wasnt part of the result set");s(st({_type:p.name,_ref:fn(se),_projectId:y,_dataset:p.dataset,_weak:p.weak,_key:g==null?void 0:g._key})),l([])},[g==null?void 0:g._key,x.hits,p.name,p.dataset,p.weak,y,s,l]),S=f.useCallback(()=>{s(pt())},[s]),_=f.useCallback(se=>{se.key==="Escape"&&(l==null||l([]))},[l]),E=f.useCallback(se=>o(se,p),[o,p]),k=f.useMemo(()=>({_id:g==null?void 0:g._ref}),[g==null?void 0:g._ref]),T=w$e(k,E),j=P_(Wmn),I=f.useRef(null),A=a.length===1&&a[0]==="_ref",$=v.ref;$o({hasFocusAt:A,ref:g==null?void 0:g._ref},(se,le)=>{var oe;const ge=(se==null?void 0:se.ref)!==le.ref;((se==null?void 0:se.hasFocusAt)!==le.hasFocusAt||ge)&&le.hasFocusAt&&((oe=$.current)==null||oe.focus())});const D=g!=null&&g._weak?"weak":"strong",M=p.weak===!0?"weak":"strong",O=!!(g!=null&&g._ref),F=f.useCallback(()=>{s(p.weak===!0?st(!0,["_weak"]):pt(["_weak"]))},[s,p]),{push:P}=Pr(),V=f.useMemo(()=>m.filter(se=>se.level==="error"),[m]),H=f.useCallback(se=>{se.currentTarget===v.ref.current&&(l==null||l([]))},[v.ref,l]),W=f.useCallback(se=>v.onBlur(se),[v]),G=f.useCallback(se=>{se.currentTarget===v.ref.current&&(l==null||l(mue))},[v.ref,l]),X=f.useCallback(()=>{l==null||l(mue)},[l]),z=f.useId(),q=A$(se=>se.pipe($t(sa),xr(),mt(le=>Ai(xe({isLoading:!0}),c(le).pipe(de(oe=>({hits:oe,searchString:le,isLoading:!1})),Cn(oe=>(P({title:"Reference search failed",description:oe.message,status:"error",id:`reference-search-fail-${z}`}),console.error(oe),xe({hits:[]})))))),il((le,oe)=>({...le,...oe}),pue),Qn(w))),Z=f.useCallback(()=>{q("")},[q]),K=!T.isLoading&&O&&D!==M,J=(g==null?void 0:g._ref)&&((n=p.studioUrl)==null?void 0:n.call(p,{id:g==null?void 0:g._ref,type:(t=T==null?void 0:T.result)==null?void 0:t.type}))||null,Q=f.useCallback(se=>u.jsx(Cg,{as:"button",type:"button",radius:2,children:u.jsx(L,{paddingX:3,paddingY:1,children:u.jsx(Lmn,{referenceType:p,document:se.hit.published,getReferenceInfo:E})})}),[p,E]),re=A||!(g!=null&&g._ref),ae=f.useRef(null),ne=f.useRef(null);return yn(A&&(()=>l([])),()=>[ae.current,ne.current]),u.jsxs(u.Fragment,{children:[!j.isLoading&&!j.enabled&&u.jsx(Pmn,{value:g,onClearValue:S}),(j.isLoading||j.enabled)&&u.jsx(ee,{space:1,children:re?u.jsx(ee,{space:2,ref:ae,children:u.jsx(eo,{path:d,isChanged:r,hasFocus:!!i,children:u.jsx("div",{ref:I,children:u.jsx(Umn,{...v,"data-testid":"autocomplete",loading:x.isLoading,referenceElement:I.current,portalRef:ne,id:z||"",options:x.hits.map(se=>({value:se.id,hit:se})),onFocus:G,radius:2,placeholder:b("inputs.reference.search-placeholder"),onKeyDown:_,readOnly:h,disabled:T.isLoading,onQueryChange:q,searchString:x.searchString,onChange:C,filterOption:Hmn,renderOption:Q,openButton:{onClick:Z}})})})}):u.jsx(eo,{path:d,isChanged:r,hasFocus:!!i,children:u.jsxs(te,{padding:0,border:!0,flex:1,radius:1,tone:h?"transparent":T.error||V.length>0?"critical":"default",children:[u.jsxs(U,{align:"center",padding:1,children:[J?u.jsx(Cg,{as:"a",target:"_blank",rel:"noopener noreferrer",href:J,"data-as":"a",flex:1,padding:1,paddingRight:3,radius:2,tone:"inherit",__unstable_focusRing:!0,tabIndex:0,onFocus:H,onBlur:W,ref:v.ref,children:u.jsx(hue,{value:g,referenceInfo:T,showStudioUrlIcon:!0,hasStudioUrl:!!J,type:p})}):u.jsx(Cg,{flex:1,padding:1,paddingRight:3,radius:2,tone:"inherit",__unstable_focusRing:!0,tabIndex:0,onFocus:H,onBlur:W,ref:v.ref,children:u.jsx(hue,{value:g,referenceInfo:T,showStudioUrlIcon:!0,type:p})}),u.jsx(An,{paddingX:1,children:u.jsx(Kt,{button:u.jsx(wi,{"data-testid":"menu-button"}),id:`${z}-menuButton`,menu:u.jsx(Ot,{children:!h&&u.jsxs(u.Fragment,{children:[u.jsx(We,{text:b("inputs.reference.action.clear"),tone:"critical",icon:qc,"data-testid":"menu-item-clear",onClick:S}),u.jsx(We,{text:b("inputs.reference.action.replace"),icon:g0,"data-testid":"menu-item-replace",onClick:X})]})}),placement:"right",popover:{portal:!0,tone:"default"}})})]}),K&&u.jsx(uY,{actualStrength:D,handleFixStrengthMismatch:F}),T.error&&u.jsx(lY,{errorMessage:T.error.message,onHandleRetry:T.retry})]})})})]})}const Ymn="cross-dataset-refs",C$e={available:!0,reason:"READABLE"},qmn={available:!1,reason:"PERMISSION_DENIED"},Kmn={available:!1,reason:"NOT_FOUND"};function Zmn(e){const{client:t,documentPreviewStore:n}=e,{dataset:r,projectId:i}=t.config(),a=r&&i?{dataset:r,projectId:i}:void 0;return function(o,s){return(o._type?xe(o):n.observeDocumentTypeFromId(o._id,a).pipe(de(l=>({_id:o._id,_type:l})))).pipe(mt(l=>{if(!l._type)return Xmn(t,o._id).pipe(de(p=>({id:o._id,type:void 0,availability:p,preview:{published:void 0}})));const c=s.to.find(p=>p.type===l._type),d=TY(c==null?void 0:c.preview)||[],h=n.observePaths(o,d,a).pipe(de(p=>p&&dI(p,c)));return aa([h]).pipe(de(([p])=>({type:l._type,id:o._id,availability:C$e,preview:{published:yt(p)?p:void 0}})))}))}}function Xmn(e,t){const n={uri:e.getDataUrl("doc",t),json:!0,query:{excludeContent:"true"},tag:`${Ymn}.availability`};return e.observable.request(n).pipe(de(r=>{const i=wG(r.omitted||[],a=>a.id)[t];return i?i.reason==="existence"?Kmn:i.reason==="permission"?qmn:null:C$e}))}function Jmn(e,t,n,r){return uM(n.to,e,{...r,maxDepth:r.maxFieldDepth})(t,{includeDrafts:!1,isCrossDataset:!0}).pipe(de(({hits:i})=>i.map(({hit:a})=>a)),de(YO),de(i=>i.map(a=>({id:a.id,type:a.type,published:a.published}))))}async function Qmn(e,t,n,r){if(!e)return{};if(typeof e.filter=="function"){const i=n.slice(0,-1),a=Uy(t,i);return await e.filter({document:t,parentPath:i,parent:a,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function egn(e){const t=f.useRef(e);return t.current=e,t}function tgn(e){const{path:t,schemaType:n}=e,r=Dn(),i=r.getClient(Gt),a=ua(),o=r.getClient,{enableLegacySearch:s=!1}=r.search,l=f.useMemo(()=>i.withConfig({dataset:n.dataset,apiVersion:"2023-11-13",ignoreBrowserTokenWarning:!0}).clone(),[i,n.dataset]),c=cM(l),d=S_([]),h=egn(d),p=f.useCallback(g=>ar(Qmn(n.options,h.current,t,o)).pipe(It(({filter:v,params:b})=>Jmn(l,g,n,{...n.options,filter:v,params:b,tag:"search.cross-dataset-reference",maxFieldDepth:c,enableLegacySearch:s})),Cn(v=>{var b;const y=v.details&&v.details.type==="queryParseError";return(b=n.options)!=null&&b.filter&&y&&(v.message='Invalid reference filter, please check the custom "filter" option'),kp(v)})),[n,h,t,o,l,c,s]),m=f.useMemo(()=>Zmn({client:l,documentPreviewStore:a}),[l,a]);return u.jsx(Gmn,{...e,getReferenceInfo:m,onSearch:p})}function WS(e){const{reference:t,children:n,observeAsset:r,waitPlaceholder:i}=e,a=t==null?void 0:t._ref,o=f.useMemo(()=>r(a),[a,r]),s=Jr(o);return u.jsx(u.Fragment,{children:a&&s?n(s):i})}const ngn=R(We)`
  position: relative;

  & input {
    overflow: hidden;
    overflow: clip;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    position: absolute;
    min-width: 0;
    display: block;
    appearance: none;
    padding: 0;
    margin: 0;
    border: 0;
    opacity: 0;
  }
`,rgn=f.forwardRef(function(e,t){const{icon:n,id:r,accept:i,capture:a,multiple:o,onSelect:s,text:l,disabled:c,...d}=e,h=`${r||""}-${f.useId()}`,p=f.useCallback(g=>{s&&g.target.files&&s(Array.from(g.target.files))},[s]),m=f.useCallback(g=>u.jsxs("div",{children:[g,u.jsx("input",{"data-testid":"file-menuitem-input",accept:i,capture:a,id:h,multiple:o,onChange:p,type:"file",value:"",disabled:c})]}),[i,a,c,p,h,o]);return u.jsx(ngn,{...d,htmlFor:h,disabled:c,ref:t,icon:n,text:l,renderMenuItem:m})});function S$e(e){const{onUpload:t,onReset:n,readOnly:r,accept:i,directUploads:a,browse:o,downloadUrl:s,copyUrl:l}=e,{push:c}=Pr(),{t:d}=Y(),h=f.useCallback(()=>{navigator.clipboard.writeText(l||""),c({closable:!0,status:"success",title:d("inputs.files.common.actions-menu.notification.url-copied")})},[l,c,d]);return u.jsxs(u.Fragment,{children:[u.jsx(rgn,{icon:u2,onSelect:t,accept:i,text:d("inputs.files.common.actions-menu.upload.label"),"data-testid":"file-input-upload-button",disabled:r||!a}),o,(s||l)&&u.jsx(ur,{}),s&&u.jsx(We,{as:"a",icon:dD,text:d("inputs.files.common.actions-menu.download.label"),href:s}),l&&u.jsx(We,{icon:Ql,text:d("inputs.files.common.actions-menu.copy-url.label"),onClick:h}),u.jsx(ur,{}),u.jsx(We,{tone:"critical",icon:qc,text:d("inputs.files.common.actions-menu.clear-field.label"),onClick:n,disabled:r,"data-testid":"file-input-clear"})]})}function ign(e,t){return new Promise((n,r)=>{const i=new XMLHttpRequest;i.onload=()=>{const a=new FileReader;a.onloadend=()=>{var o;const s=(o=a.result)==null?void 0:o.toString(),l=s==null?void 0:s.indexOf(";base64");if(!s||l===-1){r(new Error("Could not convert URL to file"));return}const c=s.slice(11,l);if(!c&&!t){r(new Error("Could not find mime type for image"));return}n(_$e(a.result,t||`${qa()}.${c}`))},a.readAsDataURL(i.response)},i.onerror=a=>{r(a)},i.open("GET",e),i.responseType="blob",i.send()})}function agn(e,t){return new Promise((n,r)=>{const i=e.toString(),a=i.indexOf(";base64");if(!i||a===-1){r(new Error("Could not convert base64 to file"));return}const o=i.slice(11,a);if(!o&&!t){r(new Error("Could not find mime type for image"));return}n(_$e(e,t||`${qa()}.${o}`))})}function _$e(e,t){var n;const r=e.split(","),i=(n=r[0].match(/:(.*?);/))==null?void 0:n[1],a=atob(r[1]);let o=a.length;const s=new Uint8Array(o);for(;o--;)s[o]=a.charCodeAt(o);return new File([s],t,{type:i})}function E$e({assetFromSource:e,onChange:t,type:n,resolveUploader:r,uploadWith:i,isImage:a}){if(!e)throw new Error("No asset given");if(!Array.isArray(e)||e.length===0)throw new Error("Returned value must be an array with at least one item (asset)");const o=e[0],s=o.assetDocumentProps,l=s==null?void 0:s.originalFilename,c=s==null?void 0:s.label,d=s==null?void 0:s.title,h=s==null?void 0:s.description,p=s==null?void 0:s.creditLine,m=s==null?void 0:s.source,g=a?[pt(["hotspot"]),pt(["crop"])]:[];switch(o.kind){case"assetDocumentId":t([Ts({_type:n.name}),...g,st({_type:"reference",_ref:o.value},["asset"])]);break;case"file":{const v=r(n,o.value);v&&i(v,o.value,{label:c,title:d,description:h,creditLine:p,source:m});break}case"base64":agn(o.value,l).then(v=>{const b=r(n,v);b&&i(b,v,{label:c,title:d,description:h,creditLine:p,source:m})});break;case"url":ign(o.value,l).then(v=>{const b=r(n,v);b&&i(b,v,{label:c,title:d,description:h,creditLine:p,source:m})});break;default:throw new Error("Invalid value returned from asset source plugin")}}const ogn=R(U)`
  pointer-events: none;
`;function k$e(e){const{hoveringFiles:t,type:n,readOnly:r,acceptedFiles:i,rejectedFilesCount:a,directUploads:o}=e,s=n==="file",{t:l}=Y(),c=f.useMemo(()=>r?u.jsx(Ky,{}):t&&a>0||!o?u.jsx(gf,{}):s?u.jsx(Yy,{}):u.jsx(eu,{}),[o,t,s,r,a]),d=f.useMemo(()=>{if(!o)return l("inputs.files.common.placeholder.upload-not-supported");if(r)return l("inputs.files.common.placeholder.read-only");if(t&&o&&!r){if(i.length>0)return l("inputs.files.common.placeholder.drop-to-upload",{context:n});if(a>0)return l("inputs.files.common.placeholder.cannot-upload-some-files",{count:a})}return l("inputs.files.common.placeholder.drag-or-paste-to-upload",{context:n})},[i.length,o,t,r,a,l,n]);return u.jsxs(ogn,{align:"center",gap:3,justify:"center",paddingLeft:1,children:[u.jsx(N,{muted:!0,size:1,children:c}),u.jsx(N,{size:1,muted:!0,children:d})]})}const T$e=BDe(HDe(te)),sgn=R(fe).attrs({forwardedAs:"label"})(({theme:e})=>{const{focusRing:t}=e.sanity,n=e.sanity.color.base;return ce`
      &:not([data-disabled='true']) {
        &:focus-within {
          box-shadow: ${dM({base:n,border:{width:1,color:"var(--card-border-color)"},focusRing:t})};
        }
      }

      // The underlying file input is rendered as children within a Sanity UI <Button> component.
      // The below visibly hides it by targeting the input's parent <span> element, which is
      // added by the <Button> component.
      // TODO: refactor, avoid nth-child selector usage
      & > span:nth-child(2) {
        overflow: hidden;
        overflow: clip;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        position: absolute;
        min-width: 0;
        display: block;
        appearance: none;
        padding: 0;
        margin: 0;
        border: 0;
        opacity: 0;
      }
    `}),lgn=f.forwardRef(function(e,t){const{icon:n,id:r,accept:i,capture:a,multiple:o,onSelect:s,text:l,disabled:c,...d}=e,h=`${r||""}-${f.useId()}`,p=f.useCallback(m=>{s&&m.target.files&&s(Array.from(m.target.files))},[s]);return u.jsx(sgn,{...d,icon:n,text:l,htmlFor:h,disabled:c,children:u.jsx("input",{"data-testid":"file-button-input",accept:i,capture:a,id:h,multiple:o,onChange:p,ref:t,type:"file",value:"",disabled:c})})});function ugn(e){const{accept:t,acceptedFiles:n,browse:r,directUploads:i,hoveringFiles:a,onUpload:o,readOnly:s,rejectedFilesCount:l,type:c}=e,[d,h]=f.useState(null),p=T2(d),m=(p==null?void 0:p.border)&&p.border.width<440,{t:g}=Y();return u.jsxs(U,{align:m?void 0:"center",direction:m?"column":"row",gap:4,justify:"space-between",paddingY:m?1:void 0,ref:h,children:[u.jsx(U,{flex:1,children:u.jsx(k$e,{acceptedFiles:n,directUploads:i,hoveringFiles:a,readOnly:s,rejectedFilesCount:l,type:c})}),u.jsxs(U,{align:"center",gap:1,justify:"center",wrap:"wrap",children:[u.jsx(lgn,{accept:t,"data-testid":"file-input-upload-button",disabled:s||!i,icon:u2,mode:"bleed",onSelect:o,text:g("input.files.common.upload-placeholder.file-input-button.text")}),r]})]})}const A$e=f.memo(ugn),j$e=12e4,cgn=R(te)`
  min-height: 82px;
  box-sizing: border-box;
`,dgn=R(U)`
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`,fgn=R(ee)`
  position: relative;
  width: 60%;
`,hgn=R(fi)`
  position: relative;
  width: 100%;

  code {
    overflow: hidden;
    overflow: clip;
    text-overflow: ellipsis;
    position: relative;
    max-width: 200px;
  }
`,pgn=e=>new Date().getTime()-new Date(e).getTime();function I$e({uploadState:e,onCancel:t,onStale:n,height:r}){const i=e.file.name;f.useEffect(()=>{pgn(e.updatedAt)>j$e&&(n==null||n())},[e.updatedAt,n]);const{t:a}=Y();return u.jsx(cgn,{tone:"primary",padding:4,border:!0,style:{height:r?`${r}px`:void 0},children:u.jsxs(dgn,{align:"center",justify:"space-between",height:"fill",direction:"row",gap:2,children:[u.jsxs(fgn,{children:[u.jsx(U,{justify:"center",gap:[3,3,2,2],direction:["column","column","row"],children:u.jsx(N,{size:1,children:u.jsx(An,{space:2,children:u.jsx(ht,{t:a,i18nKey:"input.files.common.upload-progress",components:{FileName:()=>u.jsx(hgn,{size:1,children:i||"…"})}})})})}),u.jsx(te,{border:!0,marginTop:3,radius:5,children:u.jsx(PNn,{value:e.progress})})]}),t?u.jsx(fe,{mode:"ghost",onClick:t,text:a("input.files.common.cancel-upload"),tone:"critical"}):null]})})}function D$e({onClearStale:e}){const{t}=Y();return u.jsxs(te,{tone:"caution",padding:4,border:!0,radius:2,children:[u.jsxs(U,{gap:4,marginBottom:4,children:[u.jsx(L,{children:u.jsx(N,{size:1,children:u.jsx(fr,{})})}),u.jsxs(ee,{space:3,children:[u.jsx(N,{size:1,weight:"medium",children:t("inputs.files.common.stale-upload-warning.title")}),u.jsx(N,{size:1,children:t("inputs.files.common.stale-upload-warning.description",{staleThresholdMinutes:Math.ceil(j$e/1e3/60)})})]})]}),u.jsx(fe,{icon:qc,mode:"ghost",onClick:e,text:t("inputs.files.common.stale-upload-warning.clear"),width:"fill"})]})}function $$e(e,t=2){if(e===0)return"0 Bytes";const n=1024,r=t<0?0:t,i=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.floor(Math.log(e)/Math.log(n));return`${parseFloat((e/Math.pow(n,a)).toFixed(r))} ${i[a]}`}function mgn(e){const{originalFilename:t,size:n,children:r,muted:i,disabled:a,onClick:o,isMenuOpen:s,onMenuOpen:l,setMenuButtonElement:c}=e,[d,h]=f.useState(null),[p,m]=f.useState(null),g=f.useCallback(()=>l(!0),[l]);Xo(f.useCallback(y=>{s&&(y.key==="Escape"||y.key==="Tab")&&(l(!1),p==null||p.focus())},[s,l,p])),yn(y=>{p!=null&&p.contains(y.target)||l(!1)},()=>[d]);const v=f.useCallback(y=>{c(y),m(y)},[c]);f.useEffect(()=>{s&&(d==null||d.focus())},[s,d]);const{t:b}=Y();return u.jsxs(U,{wrap:"nowrap",justify:"space-between",align:"center",children:[u.jsx(te,{as:i||a?void 0:"button",radius:2,padding:2,tone:"inherit",onClick:o,flex:1,children:u.jsxs(U,{wrap:"nowrap",align:"center",children:[u.jsx(te,{padding:3,tone:"transparent",shadow:1,radius:1,children:u.jsx(N,{muted:i,children:u.jsx(Yy,{})})}),u.jsxs(ee,{flex:1,space:2,marginLeft:3,children:[u.jsx(N,{size:1,textOverflow:"ellipsis",muted:i,"data-testid":"file-name",weight:"medium",children:t}),u.jsx(N,{size:1,muted:!0,"data-testid":"file-size",children:$$e(n)})]})]})}),u.jsx(L,{padding:2,children:u.jsx(U,{justify:"center",children:u.jsx(Fn,{content:u.jsx(Ot,{ref:h,children:r}),id:"file-actions-menu",portal:!0,open:s,constrainSize:!0,children:u.jsx(wi,{"aria-label":b("inputs.file.actions-menu.file-options.aria-label"),"data-testid":"options-menu-button",onClick:g,ref:v})})})})]})}function gue(){return u.jsxs(U,{align:"center",justify:"flex-start",padding:2,children:[u.jsx(rd,{padding:3,radius:1,animated:!0}),u.jsxs(ee,{flex:1,space:2,marginLeft:3,children:[u.jsx(ir,{style:{width:"100%"},radius:1,animated:!0}),u.jsx(ir,{style:{width:"100%"},radius:1,animated:!0})]})]})}function ggn({onClearValue:e}){const{t}=Y();return u.jsxs(te,{tone:"caution",padding:4,border:!0,radius:2,children:[u.jsxs(U,{gap:4,marginBottom:4,children:[u.jsx(L,{children:u.jsx(N,{size:1,children:u.jsx(fr,{})})}),u.jsxs(ee,{space:3,children:[u.jsx(N,{size:1,weight:"medium",children:t("inputs.file.invalid-file-warning.title")}),u.jsx(N,{size:1,children:t("inputs.file.invalid-file-warning.description")})]})]}),u.jsx(fe,{icon:qc,mode:"ghost",onClick:e,text:t("inputs.file.invalid-file-warning.reset-button.text"),width:"fill"})]})}const vgn=R(te)`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`,ygn=R(U)`
  height: 100%;
`;var bgn=Object.defineProperty,xgn=(e,t,n)=>t in e?bgn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$i=(e,t,n)=>xgn(e,typeof t!="symbol"?t+"":t,n);function wgn({children:e}){return e}const Cgn=["asset"];class Sgn extends f.PureComponent{constructor(t){super(t),$i(this,"_assetFieldPath"),$i(this,"uploadSubscription",null),$i(this,"browseButtonElement",null),$i(this,"state",{isUploading:!1,selectedAssetSource:null,hoveringFiles:[],isStale:!1,isMenuOpen:!1}),$i(this,"toast",null),$i(this,"handleRemoveButtonClick",()=>{const{path:n,value:r}=this.props,i=typeof n.slice(-1)[0]!="string",a=Object.keys(r||{}),o=a.filter(l=>!["_type","_key","_upload","asset"].includes(l)).length===0,s=["asset"].concat(a.filter(l=>["_upload"].includes(l))).map(l=>pt([l]));this.props.onChange(jt.from(o&&!i?pt():s))}),$i(this,"handleCancelUpload",()=>{this.cancelUpload()}),$i(this,"handleClearUploadState",()=>{this.setState({isStale:!1}),this.clearUploadStatus()}),$i(this,"handleStaleUpload",()=>{this.setState({isStale:!0})}),$i(this,"handleClearField",()=>{this.props.onChange(pt(["asset"]))}),$i(this,"handleSelectFiles",n=>{const{directUploads:r,readOnly:i}=this.props,{hoveringFiles:a}=this.state;r&&!i?this.uploadFirstAccepted(n):a.length>0&&this.handleFilesOut()}),$i(this,"handleSelectFileFromAssetSource",n=>{this.setState({selectedAssetSource:n})}),$i(this,"handleAssetSourceClosed",()=>{var n;this.setState({selectedAssetSource:null}),(n=this.browseButtonElement)==null||n.focus()}),$i(this,"setBrowseButtonElement",n=>{this.browseButtonElement=n}),$i(this,"uploadWith",(n,r,i={})=>{const{schemaType:a,onChange:o,client:s,t:l}=this.props,{source:c}=i,d={metadata:Jn(a,"options.metadata"),storeOriginalFilename:Jn(a,"options.storeOriginalFilename"),source:c};this.cancelUpload(),this.setState({isUploading:!0}),o(jt.from([Ts({_type:a.name})])),this.uploadSubscription=n.upload(s,r,a,d).subscribe({next:h=>{h.patches&&o(jt.from(h.patches))},error:h=>{var p;console.error(h),(p=this.toast)==null||p.push({status:"error",description:l("inputs.file.upload-failed.description"),title:l("inputs.file.upload-failed.title")}),this.clearUploadStatus()},complete:()=>{this.setState({isUploading:!1})}})}),$i(this,"handleSelectAssetFromSource",n=>{const{onChange:r,schemaType:i,resolveUploader:a}=this.props;E$e({assetFromSource:n,onChange:r,type:i,resolveUploader:a,uploadWith:this.uploadWith}),this.setState({selectedAssetSource:null})}),$i(this,"handleFileTargetFocus",n=>{var r;n.currentTarget===n.target&&n.currentTarget===((r=this.props.elementProps.ref)==null?void 0:r.current)&&this.props.elementProps.onFocus(n)}),$i(this,"handleFilesOver",n=>{this.setState({hoveringFiles:n})}),$i(this,"handleFilesOut",()=>{this.setState({hoveringFiles:[]})}),$i(this,"handleUpload",({file:n,uploader:r})=>{this.uploadWith(r,n)}),$i(this,"setToast",n=>{this.toast=n}),this._assetFieldPath=t.path.concat(Cgn)}clearUploadStatus(){var t;(t=this.props.value)!=null&&t._upload&&this.props.onChange(jt.from([pt(["_upload"])]))}cancelUpload(){this.uploadSubscription&&(this.uploadSubscription.unsubscribe(),this.clearUploadStatus())}uploadFirstAccepted(t){const{schemaType:n}=this.props,r=t.map(i=>{var a,o;return{file:i,uploader:(o=(a=this.props).resolveUploader)==null?void 0:o.call(a,n,i)}}).find(i=>i.uploader);r&&this.uploadWith(r.uploader,r.file),this.setState({isMenuOpen:!1})}renderUploadState(t){const{isUploading:n}=this.state;return u.jsx(I$e,{uploadState:t,onCancel:n?this.handleCancelUpload:void 0,onStale:this.handleStaleUpload})}renderAssetSource(){const{selectedAssetSource:t}=this.state,{value:n,schemaType:r,observeAsset:i,t:a}=this.props;if(!t)return null;const o=Jn(r,"options.accept",""),s=t.component;return n&&n.asset?u.jsx(WS,{observeAsset:i,reference:n.asset,waitPlaceholder:u.jsx(gue,{}),children:l=>u.jsx(s,{selectedAssets:[l],selectionType:"single",assetType:"file",accept:o,dialogHeaderTitle:a("inputs.file.dialog.title"),onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}):u.jsx(s,{selectedAssets:[],selectionType:"single",assetType:"file",accept:o,dialogHeaderTitle:a("inputs.file.dialog.title"),onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}renderAsset(){const{value:t,changed:n,readOnly:r,elementProps:i}=this.props,{hoveringFiles:a,isStale:o}=this.state,s=!!(t!=null&&t._upload||t!=null&&t.asset);return t&&typeof t.asset<"u"&&!(t!=null&&t._upload)&&!Fee(t)?()=>u.jsx(ggn,{onClearValue:this.handleClearField}):l=>u.jsxs(u.Fragment,{children:[o&&u.jsx(L,{marginBottom:2,children:u.jsx(D$e,{onClearStale:this.handleClearUploadState})}),u.jsx(eo,{path:this._assetFieldPath,hasFocus:!!l.focused,isChanged:n,children:t!=null&&t._upload?this.renderUploadState(t._upload):u.jsx(T$e,{...i,onFocus:this.handleFileTargetFocus,tabIndex:0,disabled:!!r,onFiles:this.handleSelectFiles,onFilesOver:this.handleFilesOver,onFilesOut:this.handleFilesOut,tone:this.getFileTone(),$border:s||a.length>0,style:{padding:1},sizing:"border",radius:2,children:u.jsxs("div",{style:{position:"relative"},children:[!(t!=null&&t.asset)&&this.renderUploadPlaceholder(),t!=null&&t.asset&&a.length>0?this.renderAssetMenu(this.getFileTone()):null,!(t!=null&&t._upload)&&(t==null?void 0:t.asset)&&this.renderPreview()]})})})]})}renderPreview(){const{value:t,readOnly:n,assetSources:r,schemaType:i,directUploads:a,observeAsset:o,t:s}=this.props,{isMenuOpen:l}=this.state,c=t==null?void 0:t.asset;if(!c)return null;const d=Jn(i,"options.accept","");let h=r&&(r==null?void 0:r.length)===0?null:u.jsx(We,{icon:Ca,text:s("inputs.file.browse-button.text"),onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(r[0])},disabled:n,"data-testid":"file-input-browse-button"});return r.length>1&&(h=r.map(p=>u.jsx(We,{text:(p.i18nKey?s(p.i18nKey):p.title)||Rn(p.name),onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(p)},icon:p.icon||eu,disabled:n,"data-testid":`file-input-browse-button-${p.name}`},p.name))),u.jsx(WS,{reference:c,observeAsset:o,waitPlaceholder:u.jsx(gue,{}),children:({originalFilename:p,extension:m,url:g,size:v})=>{const b=p||`download.${m}`;let y,x;return Fee(t)&&(x=`${g}?dl`,y=g),u.jsx(mgn,{size:v,originalFilename:b,muted:!n,onMenuOpen:w=>this.setState({isMenuOpen:w}),isMenuOpen:l,setMenuButtonElement:this.setBrowseButtonElement,children:u.jsx(S$e,{onUpload:this.handleSelectFiles,browse:h,onReset:this.handleRemoveButtonClick,downloadUrl:x,copyUrl:y,readOnly:n,accept:d,directUploads:a})})}})}renderAssetMenu(t){const{schemaType:n,readOnly:r,directUploads:i,resolveUploader:a}=this.props,{hoveringFiles:o}=this.state,s=o.filter(c=>a==null?void 0:a(n,c)),l=o.length-s.length;return u.jsx(vgn,{radius:2,tone:t,children:u.jsx(ygn,{align:"center",justify:"center",gap:2,flex:1,children:u.jsx(k$e,{readOnly:r,hoveringFiles:o,acceptedFiles:s,rejectedFilesCount:l,directUploads:i,type:"file"})})})}renderBrowser(){const{assetSources:t,readOnly:n,directUploads:r,id:i,t:a}=this.props;return t.length===0?null:t.length>1&&!n&&r?u.jsx(Kt,{id:`${i}_assetFileButton`,ref:this.setBrowseButtonElement,button:u.jsx(fe,{mode:"bleed",text:a("inputs.file.multi-browse-button.text"),"data-testid":"file-input-multi-browse-button",icon:Ca}),"data-testid":"input-select-button",menu:u.jsx(Ot,{children:t.map(o=>u.jsx(We,{text:o.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(o)},icon:o.icon||eu,disabled:n,"data-testid":`file-input-browse-button-${o.name}`},o.name))})}):u.jsx(fe,{text:a("inputs.file.browse-button.text"),icon:Ca,mode:"bleed",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(t[0])},"data-testid":"file-input-browse-button",disabled:n,ref:this.setBrowseButtonElement})}renderUploadPlaceholder(){const{readOnly:t,schemaType:n,directUploads:r,resolveUploader:i}=this.props,{hoveringFiles:a}=this.state,o=a.filter(c=>i==null?void 0:i(n,c)),s=a.length-o.length,l=Jn(n,"options.accept","");return u.jsx(u.Fragment,{children:u.jsx(te,{tone:t?"transparent":"inherit",border:!0,paddingX:3,paddingY:2,radius:2,style:a.length===0?{borderStyle:"dashed"}:{borderStyle:"dashed",borderColor:"transparent"},children:u.jsx(A$e,{browse:this.renderBrowser(),onUpload:this.handleSelectFiles,readOnly:t,hoveringFiles:a,acceptedFiles:o,rejectedFilesCount:s,type:"file",accept:l,directUploads:r})})})}getFileTone(){const{directUploads:t,schemaType:n,value:r,readOnly:i,resolveUploader:a}=this.props,{hoveringFiles:o}=this.state,s=o.filter(c=>a==null?void 0:a(n,c)),l=o.length-s.length;return o.length>0&&(l>0||!t)?"critical":!(r!=null&&r._upload)&&!i&&o.length>0?"primary":r!=null&&r._upload&&r!=null&&r.asset&&i?"transparent":"default"}render(){const{members:t,renderAnnotation:n,renderBlock:r,renderInlineBlock:i,renderItem:a,renderInput:o,renderField:s,renderPreview:l,t:c}=this.props,{selectedAssetSource:d}=this.state;return u.jsxs(u.Fragment,{children:[u.jsx(s3e,{ref:this.setToast}),t.map(h=>h.kind==="field"&&(h.name==="crop"||h.name==="hotspot")?null:h.kind==="field"?u.jsx(C_,{member:h,renderAnnotation:n,renderInlineBlock:i,renderBlock:r,renderInput:h.name==="asset"?this.renderAsset():o,renderField:h.name==="asset"?wgn:s,renderItem:a,renderPreview:l},h.key):h.kind==="fieldSet"?u.jsx(iY,{member:h,renderAnnotation:n,renderBlock:r,renderField:s,renderInlineBlock:i,renderInput:o,renderItem:a,renderPreview:l},h.key):h.kind==="error"?u.jsx(iM,{member:h},h.key):u.jsx(u.Fragment,{children:c("inputs.file.error.unknown-member-kind",{kind:h.kind})})),d&&this.renderAssetSource()]})}}function _gn(e){var t;const n=(t=e.schemaType.options)==null?void 0:t.sources,r=ua(),{file:i}=pd().__internal,a=Zt(Gt),{t:o}=Y(),s=f.useCallback((d,h)=>i.directUploads?nY(d,h):null,[i.directUploads]),l=f.useMemo(()=>n||i.assetSources,[i,n]),c=f.useCallback(d=>dDe(r,d),[r]);return u.jsx(Sgn,{...e,t:o,client:a,assetSources:l,directUploads:i.directUploads,observeAsset:c,resolveUploader:s})}const Egn=["asset"];function kgn(e,t){const{elementProps:n,handleClearUploadState:r,handleFilesOut:i,handleFilesOver:a,handleFileTargetFocus:o,handleSelectFiles:s,hoveringFiles:l,inputProps:c,isStale:d,readOnly:h,renderAssetMenu:p,renderPreview:m,renderUploadPlaceholder:g,renderUploadState:v,tone:b,value:y}=e,x=!!(y!=null&&y._upload||y!=null&&y.asset),w=f.useMemo(()=>c.path.concat(Egn),[c.path]);return u.jsxs(u.Fragment,{children:[d&&u.jsx(L,{marginBottom:2,children:u.jsx(D$e,{onClearStale:r})}),u.jsx(eo,{path:w,hasFocus:!!c.focused,isChanged:c.changed,children:y!=null&&y._upload?v(y._upload):u.jsxs(T$e,{...n,onFocus:o,tabIndex:0,disabled:!!h,onFiles:s,onFilesOver:a,onFilesOut:i,tone:b,$border:x||l.length>0,sizing:"border",radius:2,children:[!(y!=null&&y.asset)&&g(),!(y!=null&&y._upload)&&(y==null?void 0:y.asset)&&u.jsxs("div",{style:{position:"relative"},ref:t,children:[m(),p()]})]})})]})}const Tgn=f.memo(f.forwardRef(kgn)),O$e=R(An)`
  position: absolute;
  top: 0;
  right: 0;
`,Agn=()=>u.jsx(O$e,{padding:2,children:u.jsx(rd,{style:{width:"25px",height:"25px"},animated:!0})});function jgn(e){const{onEdit:t,children:n,showEdit:r,setHotspotButtonElement:i,setMenuButtonElement:a,onMenuOpen:o,isMenuOpen:s}=e,[l,c]=f.useState(null),[d,h]=f.useState(null),p=f.useCallback(()=>o(!s),[o,s]);Xo(f.useCallback(v=>{s&&(v.key==="Escape"||v.key==="Tab")&&(o(!1),d==null||d.focus())},[s,o,d])),yn(v=>{d!=null&&d.contains(v.target)||o(!1)},()=>[l]);const m=f.useCallback(v=>{a(v),h(v)},[a]);f.useEffect(()=>{s&&(l==null||l.focus())},[s,l]);const{t:g}=Y();return u.jsx(Xa,{children:u.jsxs(O$e,{"data-buttons":!0,space:1,padding:2,children:[r&&u.jsx(fe,{"aria-label":g("inputs.image.actions-menu.edit-details.aria-label"),"data-testid":"options-menu-edit-details",icon:fB,mode:"ghost",onClick:t,ref:i,tooltipProps:{content:g("inputs.image.actions-menu.crop-image-tooltip")}}),u.jsx(Fn,{id:"image-actions-menu",content:u.jsx(Ot,{ref:c,children:n}),portal:!0,open:s,constrainSize:!0,children:u.jsx(wi,{"aria-label":g("inputs.image.actions-menu.options.aria-label"),"data-testid":"options-menu-button",mode:"ghost",onClick:p,ref:m})})]})})}function Ign(e){const{assetSources:t,directUploads:n,handleOpenDialog:r,handleRemoveButtonClick:i,handleSelectFiles:a,handleSelectImageFromAssetSource:o,imageUrlBuilder:s,isImageToolEnabled:l,isMenuOpen:c,observeAsset:d,readOnly:h,schemaType:p,setHotspotButtonElement:m,setMenuButtonElement:g,setMenuOpen:v,value:b}=e,{t:y}=Y(),x=f.useMemo(()=>Jn(p,"options.accept","image/*"),[p]),w=b==null?void 0:b.asset,C=b&&w&&l;if(!w)return null;let S=t&&t.length===0?null:u.jsx(We,{icon:Ca,text:y("inputs.image.browse-menu.text"),onClick:()=>{v(!1),o(t[0])},disabled:h,"data-testid":"file-input-browse-button"});return t&&t.length>1&&(S=t.map(_=>u.jsx(We,{text:(_.i18nKey?y(_.i18nKey):_.title)||Rn(_.name),onClick:()=>{v(!1),o(_)},icon:_.icon||eu,"data-testid":`file-input-browse-button-${_.name}`,disabled:h},_.name))),u.jsx(Ogn,{accept:x,browseMenuItem:S,directUploads:n,handleOpenDialog:r,handleRemoveButtonClick:i,handleSelectFiles:a,imageUrlBuilder:s,isMenuOpen:c,observeAsset:d,readOnly:h,reference:w,schemaType:p,setHotspotButtonElement:m,setMenuButtonElement:g,setMenuOpen:v,showAdvancedEditButton:!!C,value:b})}const Dgn=f.memo(Ign);function $gn(e){const{accept:t,browseMenuItem:n,directUploads:r,handleOpenDialog:i,handleRemoveButtonClick:a,handleSelectFiles:o,imageUrlBuilder:s,isMenuOpen:l,observeAsset:c,readOnly:d,reference:h,setHotspotButtonElement:p,setMenuButtonElement:m,setMenuOpen:g,showAdvancedEditButton:v,value:b}=e,y=h==null?void 0:h._ref,x=f.useMemo(()=>c(y),[y,c]),w=Jr(x);if(!y||!w)return u.jsx(Agn,{});const{_id:C,originalFilename:S,extension:_}=w;let E,k;if(kb(b)){const T=S||`download.${_}`;k=s.image(C).forceDownload(T).url(),E=s.image(C).url()}return u.jsx(jgn,{isMenuOpen:l,onEdit:i,onMenuOpen:g,setHotspotButtonElement:p,setMenuButtonElement:m,showEdit:!!v,children:u.jsx(S$e,{onUpload:o,browse:n,onReset:a,downloadUrl:k,copyUrl:E,readOnly:d,directUploads:r,accept:t})})}const Ogn=f.memo($gn);function Mgn(e){const{handleAssetSourceClosed:t,handleSelectAssetFromSource:n,observeAsset:r,schemaType:i,selectedAssetSource:a,value:o}=e,s=f.useMemo(()=>Jn(i,"options.accept","image/*"),[i]);if(!a)return null;const{component:l}=a;return o&&o.asset?u.jsx(WS,{observeAsset:r,reference:o.asset,children:c=>u.jsx(l,{selectedAssets:[c],assetType:"image",accept:s,selectionType:"single",onClose:t,onSelect:n})}):u.jsx(l,{selectedAssets:[],selectionType:"single",assetType:"image",accept:s,onClose:t,onSelect:n})}const Rgn=f.memo(Mgn),Pgn={portal:!0};function Fgn(e,t){const{assetSources:n,readOnly:r,directUploads:i,id:a,setMenuOpen:o,handleSelectImageFromAssetSource:s}=e,{t:l}=Y();return n&&n.length===0?null:n&&n.length>1&&!r&&i?u.jsx(Kt,{id:`${a}_assetImageButton`,ref:t,button:u.jsx(fe,{"data-testid":"file-input-multi-browse-button",icon:Ca,iconRight:Ii,mode:"bleed",text:l("inputs.image.browse-menu.text")}),menu:u.jsx(Ot,{children:n.map(c=>u.jsx(We,{text:(c.i18nKey?l(c.i18nKey):c.title)||Rn(c.name),onClick:()=>{o(!1),s(c)},icon:c.icon||eu,disabled:r,"data-testid":`file-input-browse-button-${c.name}`},c.name))}),popover:Pgn}):u.jsx(fe,{text:l("inputs.image.browse-menu.text"),icon:Ca,mode:"bleed",onClick:()=>{o(!1),s(n[0])},"data-testid":"file-input-browse-button",disabled:r})}const Ngn=f.memo(f.forwardRef(Fgn)),vue=R(L)`
  position: relative;
  padding-bottom: calc(${({ratio:e=3/2})=>1/e} * 100%);

  & > div {
    position: absolute;
    top: ${({padding:e=0})=>e}px;
    left: ${({padding:e=0})=>e}px;
    right: ${({padding:e=0})=>e}px;
    bottom: ${({padding:e=0})=>e}px;
  }
`,Df={x:.5,y:.5,height:1,width:1},$f={top:0,left:0,right:0,bottom:0};function Lgn(e={}){const t=yue(e.image)||1,n=e.hotspot||Df,r=e.crop||$f,i=yue(e.container)||t*Vgn(r),a=e.align||{x:"center",y:"center"},o=Bgn(t,{hotspot:n,crop:r},{aspect:i,align:a}),s=R$e(M$e(100/i));return{debug:{result:o},container:{overflow:"hidden",position:"relative",width:"100%",height:s},padding:{marginTop:s},crop:{position:"absolute",overflow:"hidden",height:uh(o.crop.height),width:uh(o.crop.width),top:uh(o.crop.top),left:uh(o.crop.left)},image:{position:"absolute",height:uh(o.image.height),width:uh(o.image.width),top:uh(o.image.top),left:uh(o.image.left)}}}function yue(e){if(!e)return null;if("aspectRatio"in e)return e.aspectRatio;if("height"in e||"width"in e){if(typeof e.height!="number"&&typeof e.width!="number")throw new Error(`Height and width must be numbers, got ${JSON.stringify(e)}`);return e.width/e.height}return null}function M$e(e,t=2){const n=Math.pow(10,t);return Math.round(e*n)/n}function Bgn(e,t,n){const r=t.crop,i=n.aspect,a=n.align,o=1-r.left-r.right,s=1-r.top-r.bottom,l={top:-r.top/s,left:-r.left/o,width:1/o,height:1/s},c=o/s*e,d={x:(t.hotspot.x-r.left)/o,y:(t.hotspot.y-r.top)/s,height:t.hotspot.height/s,width:t.hotspot.width/o},h=1/d.width,p=1/d.height*c/i,m=Math.min(h,p);let g;const v=c<=i;v?g=1:g=c/i;let b,y;if(g>m){b="letterbox";let x;const w=g-m;v?x=1-w:x=m,y={width:x,height:x/c*i,left:0,top:0};const C=d.x*y.width-d.width*y.width/2;switch(a.x){case"left":y.left=v?0:-C;break;case"right":y.left=v?1-y.width:C;break;case"center":y.left=v?(1-y.width)/2:-C;break;default:throw new Error(`Invalid x alignment: '${a.x}'. Must be either 'left', 'right' or 'center'`)}const S=d.y*y.height-d.height*y.height/2;switch(a.y){case"top":y.top=v?-S:0;break;case"bottom":y.top=S;break;case"center":y.top=v?-S:(1-y.height)/2;break;default:throw new Error(`Invalid y alignment: '${a.y}'. Must be either 'top', 'bottom' or 'center'`)}}else if(v){b="full_width";let x=-d.y/c*i+.5;const w=g/c*i;x>0?x=0:-x>w-1&&(x=-(w-1)),y={width:g,height:w,left:0,top:x}}else{b="full_height";const x=g;let w=.5-d.x*g;w>0?w=0:-w>x-1&&(w=-(x-1)),y={width:x,height:g/c*i,top:0,left:w}}return{method:b,crop:y,image:l}}function Vgn(e){const t=1-e.top-e.bottom;return(1-e.left-e.right)/t}function R$e(e){return e===0?0:`${e}%`}function uh(e){return R$e(M$e(e*100))}const zgn=R.div`
  position: relative;
  width: 100%;
`,Ugn=hi("sanity-imagetool");function Hgn(e,t){const n=1/t,r=t*n,i=r-(e.left+e.right)*r,a=n-(e.top+e.bottom)*n;return i/a}const Wgn=f.memo(function(e){const{alignX:t="center",alignY:n="center",alt:r,aspectRatio:i="none",className:a="",crop:o=$f,hotspot:s=Df,onError:l,onLoad:c,src:d,srcAspectRatio:h,srcSet:p,style:m}=e,[g,v]=f.useState(null),b=f.useRef(null),y=f.useRef(null),x=f.useCallback(()=>{if(b.current)if(i==="auto"){const S=b.current.parentNode;f.startTransition(()=>v(S.offsetWidth/S.offsetHeight))}else v(null)},[i]);f.useEffect(()=>{const S=y.current;return S&&S.src&&S.complete&&S.naturalWidth!==void 0&&(Ugn("Image '%s' already loaded, refreshing (from cache) to trigger onLoad / onError",d),S.src=S.src),x(),window.addEventListener("resize",x),()=>{window.removeEventListener("resize",x)}},[d,x]);const w=f.useMemo(()=>i==="none"?o?Hgn(o,h):h:i==="auto"?g:i||null,[i,g,o,h]),C=f.useMemo(()=>Lgn({container:{aspectRatio:w||h},image:{aspectRatio:h},hotspot:s,crop:o,align:{x:t,y:n}}),[t,n,o,s,h,w]);return u.jsx(zgn,{className:`${a}`,style:m,ref:b,children:u.jsxs("div",{style:C.container,children:[u.jsx("div",{style:C.padding}),u.jsx("div",{style:C.crop,children:u.jsx("img",{ref:y,src:d,alt:r,srcSet:p,onLoad:c,onError:l,style:C.image})})]})})});function Ggn(e){const{src:t,children:n}=e,[r,i]=f.useState(!0),[a,o]=f.useState(null),[s,l]=f.useState(null);return f.useEffect(()=>{o(null),l(null),i(!0);const c=new Image;c.onload=()=>{o(c),l(null),i(!1)},c.onerror=()=>{l(new Error(`Could not load image from ${JSON.stringify(t)}`)),i(!1)},c.referrerPolicy="strict-origin-when-cross-origin",c.src=t},[t]),n({image:a,error:s,isLoading:r})}function Ygn(e){const{image:t,maxHeight:n,maxWidth:r,children:i}=e,a=f.useRef(null),[o,s]=f.useState(!1);return f.useLayoutEffect(()=>{if(!a.current){const b=document.createElement("canvas");b.style.display="none",a.current=b,s(!0)}const l=t.width/t.height,c=Math.min(t.width,r),d=Math.min(t.height,n),h=t.width>t.height,p=h?c:d*l,m=h?c/l:d;a.current.width=p,a.current.height=m;const g=a.current.getContext("2d");g&&g.drawImage(t,0,0,t.width,t.height,0,0,p,m);const v=a.current;return document.body.appendChild(v),()=>{document.body.removeChild(v)}},[t,n,r]),!a.current||!o?null:i(a.current)}var qgn=Object.defineProperty,Kgn=(e,t,n)=>t in e?qgn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fc=(e,t,n)=>Kgn(e,typeof t!="symbol"?t+"":t,n);class w7{constructor(t,n){Fc(this,"x"),Fc(this,"y"),this.x=t,this.y=n}}class bue{constructor(t,n,r){Fc(this,"y"),Fc(this,"_left"),Fc(this,"_right"),this.y=t,this._left=n,this._right=r}get right(){return new w7(this._right,this.y)}get left(){return new w7(this._left,this.y)}get length(){return this._right-this._left}}class Zgn{constructor(t){Fc(this,"rect"),this.rect=t}get top(){return new bue(this.rect.top,this.rect.left,this.rect.right)}get bottom(){return new bue(this.rect.bottom,this.rect.left,this.rect.right)}}class Zi{constructor(t=0,n=0,r=0,i=0){Fc(this,"left"),Fc(this,"top"),Fc(this,"width"),Fc(this,"height"),this.left=t,this.top=n,this.width=r,this.height=i}static fromEdges({left:t,right:n,top:r,bottom:i}){return new Zi(t,r,1-t-n,1-r-i)}setTopLeft(t,n){return new Zi(t,n,this.width||0,this.height||0)}setSize(t,n){return new Zi(this.left||0,this.top||0,t,n)}setCenter(t,n){const r=this.width||0,i=this.height||0;return new Zi(t-r/2,n-i/2,r||0,i||0)}get center(){return new w7(this.left+this.width/2,this.top+this.height/2)}get corners(){return new Zgn(this)}get right(){return this.left+this.width}get bottom(){return this.top+this.height}multiply(t){return new Zi((this.left||0)+this.width*t.left,(this.top||0)+this.height*t.top,this.width*t.width,this.height*t.height)}grow(t){return new Zi(this.left-t,this.top-t,this.width+t*2,this.height+t*2)}shrink(t){return this.grow(-t)}cropRelative(t){const n=this.top+t.top*this.height,r=this.left+t.left*this.width,i=this.height*t.height,a=this.width*t.width;return new Zi(r,n,a,i)}clamp(t){let{left:n,top:r,width:i,height:a}=this;return t.width<i&&(i=t.width,n=t.left),t.height<a&&(a=t.height,r=t.top),n+i>t.left+t.width&&(n=t.right-i),r+a>t.top+t.height&&(r=t.bottom-a),new Zi(Math.max(n,t.left),Math.max(r,t.top),i,a)}}function xue(e,t){const n={x:t.center.x,y:t.center.y},r=t.width/2,i=t.height/2;if(r<=0||i<=0)return!1;const a={x:e.x-n.x,y:e.y-n.y};return Math.pow(a.x,2)/Math.pow(r,2)+Math.pow(a.y,2)/Math.pow(i,2)<=1}function wue({x:e,y:t},n){return Math.pow(e-n.x,2)+Math.pow(t-n.y,2)<Math.pow(n.radius,2)}function MF(e,t){return e.x>=t.left&&e.x<=t.left+t.width&&e.y>=t.top&&e.y<=t.top+t.height}function P$e(e,t){return{x:t.center.x-t.width/2*Math.cos(e),y:t.center.y-t.height/2*Math.sin(e)}}const Xgn="data:image/png;base64,AAACAAEAICACAAcABQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAEAAAAAAAAAAAAAAgAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD8AAAA/AAAAfwAAAP+AAAH/gAAB/8AAA//AAAd/wAAGf+AAAH9gAADbYAAA2yAAAZsAAAGbAAAAGAAAAAAAAA//////////////////////////////////////////////////////////////////////////////////////gH///4B///8Af//+AD///AA///wAH//4AB//8AAf//AAD//5AA///gAP//4AD//8AF///AB///5A////5///8=",Jgn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAABdSURBVEjH7ZA7DsAwCEMN6v2vTCdESpLKQRl5gxfzMQDNRQyWlEK83QAIRh3cH/QbIhQwMDl8gORl7A16WD/xxAdq6N6SgycKUblf41+wbFBT44RiCi11NU3TLHgBxRUUD4ITqnIAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTUtMDEtMjFUMDA6MTM6NDMrMDE6MDC74T7AAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDEyLTA0LTAyVDA0OjEzOjM3KzAyOjAwQJ35wQAAAABJRU5ErkJggg==",Qgn=f.forwardRef(function(e,t){const{readOnly:n,onDragStart:r,onDragEnd:i,onDrag:a,...o}=e,s=f.useRef(null),l=f.useRef(null),c=f.useRef(!1),d=f.useCallback(v=>{if(n||!s.current)return;if(c.current){Vk("Start cancelled, already a drag in progress");return}c.current=!0;const b=PF(v);Vk("Drag started %o",b),r(RF(b.x,b.y,s.current.getBoundingClientRect())),l.current=b},[r,n]),h=f.useCallback(v=>{if(!c.current||n||!l.current)return;const b=PF(v),y=n0n(b,l.current);a(y),Vk("moving by %o",y),l.current=b},[a,n]),p=f.useCallback(()=>{!c.current||n||!l.current||!s.current||(c.current=!1,i(RF(l.current.x,l.current.y,s.current.getBoundingClientRect())),l.current=null)},[i,n]),m=f.useCallback(v=>{if(!c.current||n||!s.current)return;const b=PF(v);i(RF(b.x,b.y,s.current.getBoundingClientRect())),c.current=!1,l.current=null,Vk("Done moving %o",b)},[i,n]);f.useEffect(()=>(document.body.addEventListener("pointermove",h),document.body.addEventListener("pointerup",m),document.body.addEventListener("pointerleave",p),document.body.addEventListener("pointercancel",p),()=>{document.body.removeEventListener("pointermove",h),document.body.removeEventListener("pointerup",m),document.body.removeEventListener("pointerleave",p),document.body.removeEventListener("pointercancel",p)}),[h,p,m]);const g=f.useCallback(v=>{s.current=v,typeof t=="function"?t(v):t&&(t.current=v)},[t]);return u.jsx(t0n,{ref:g,onPointerDown:n?void 0:d,...o})}),e0n=f.memo(Qgn),Vk=hi("sanity-imagetool"),t0n=R.canvas`
  display: block;
  position: relative;
  max-width: calc(100% - 0.5em); /* to prevent overlap with change bar */
  max-height: calc(100% + 1em);
  user-select: none;
  // Enable only multi-finger panning and zooming within this element.
  // This prevents single finger panning when manipulating drag handles,
  // which can cause unwanted scrolling in the underlying document body.
  touch-action: pinch-zoom;
`;function RF(e,t,n){return{x:e-n.left,y:t-n.top}}function PF(e){return{x:e.clientX,y:e.clientY}}function n0n(e,t){return{x:e.x-t.x,y:e.y-t.y}}function r0n({context:e,image:t,MARGIN_PX:n,scale:r}){const i=new Zi().setSize(t.width,t.height).shrink(n*r);e.save(),e.fillStyle="white",e.clearRect(0,0,t.width,t.height),e.globalAlpha=.3,e.drawImage(t,i.left,i.top,i.width,i.height),e.restore()}function i0n({clampedValue:e,context:t,HOTSPOT_HANDLE_SIZE:n,image:r,MARGIN_PX:i,opacity:a,readOnly:o,scale:s}){const l=new Zi().setSize(r.width,r.height),{hotspot:c,crop:d}=e,h=i*s;t.save(),v(),p(),t.clip(),g(),t.restore(),o||b(Math.PI*1.25);function p(){t.save();const y=l.shrink(h).multiply(c),x=y.height/y.width;t.scale(1,x),t.beginPath(),t.globalAlpha=a,t.arc(y.center.x,y.center.y/x,Math.abs(y.width/2),0,2*Math.PI,!1),t.strokeStyle="white",t.lineWidth=1.5*s,t.stroke(),t.closePath(),t.restore()}function m(y,x,w,C,S,_,E,k){t.save(),t.drawImage(r,y,x,w,C,S,_,E,k),t.restore()}function g(){const y=l.multiply(c),x=l.shrink(h).multiply(c);m(y.left,y.top,y.width,y.height,x.left,x.top,x.width,x.height)}function v(){const y=l.cropRelative(d),x=l.shrink(h).cropRelative(d);t.save(),m(y.left,y.top,y.width,y.height,x.left,x.top,x.width,x.height),t.globalAlpha=.5,t.fillStyle="black",t.fillRect(x.left,x.top,x.width,x.height),t.restore()}function b(y){t.save();const x=n*s,w=l.shrink(h).multiply(c),C=P$e(y,w);t.beginPath(),t.arc(C.x,C.y,x,0,2*Math.PI,!1),t.fillStyle="rgb(255,255,255)",t.fill(),t.closePath(),t.restore(),t.beginPath(),t.arc(C.x,C.y,x,0,2*Math.PI,!1),t.strokeStyle="rgb(0, 0, 0)",t.lineWidth=.5*s,t.stroke(),t.closePath()}}function a0n({context:e,hotspotRect:t,image:n,MARGIN_PX:r,scale:i}){e.save();const a=r*i;e.setLineDash&&e.setLineDash([2*i,2*i]),e.lineWidth=.5*i,e.strokeStyle="rgba(200, 200, 200, 0.5)",o(t.center.x),s(t.center.y),e.strokeStyle="rgba(150, 150, 150, 0.5)",s(t.top),s(t.bottom),o(t.left),o(t.right),e.restore();function o(c){l(c,a,c,n.height-a)}function s(c){l(a,c,n.width-a,c)}function l(c,d,h,p){e.beginPath(),e.moveTo(c,d),e.lineTo(h,p),e.stroke(),e.closePath()}}function o0n({context:e,cropRect:t}){e.save(),e.beginPath(),e.fillStyle="rgba(66, 66, 66, 0.9)",e.lineWidth=1,e.rect(t.left,t.top,t.width,t.height),e.stroke(),e.closePath(),e.restore()}function s0n({context:e,cropHandles:t,cropping:n,opacity:r}){e.save(),F$e.forEach(i=>{e.fillStyle=n===i?`rgba(202, 54, 53, ${r})`:`rgba(230, 230, 230, ${r+.4})`;const{left:a,top:o,height:s,width:l}=t[i];e.fillRect(a,o,l,s),e.beginPath(),e.fillStyle=`rgba(66, 66, 66, ${r})`,e.rect(a,o,l,s),e.closePath(),e.stroke()}),e.restore()}const F$e=["left","right","top","topLeft","topRight","bottom","bottomLeft","bottomRight"];function l0n({clampedValue:e,context:t,cropHandles:n,cropping:r,cropRect:i,HOTSPOT_HANDLE_SIZE:a,hotspotRect:o,image:s,MARGIN_PX:l,pointerPosition:c,ratio:d,readOnly:h,scale:p}){t.save(),t.scale(d,d);const m=!h&&c?.8:.2;r0n({context:t,image:s,MARGIN_PX:l,scale:p}),i0n({clampedValue:e,context:t,HOTSPOT_HANDLE_SIZE:a,image:s,MARGIN_PX:l,opacity:m,readOnly:h,scale:p}),a0n({context:t,hotspotRect:o,image:s,MARGIN_PX:l,scale:p}),o0n({context:t,cropRect:i}),h||s0n({context:t,cropHandles:n,cropping:r,opacity:m}),t.restore()}const u0n=R.div`
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
`;function c0n(){const[e,t]=f.useState(null),[n,r]=f.useState(0),[i,a]=f.useState(0),o=f.useMemo(()=>({height:n,width:i}),[n,i]);return f.useEffect(()=>{if(e)return r(e.clientHeight),a(e.clientWidth),VS.observe(e,s=>{r(Math.round(s.contentRect.height)),a(Math.round(s.contentRect.width))}),()=>{VS.unobserve(e)}},[e]),[o,t]}var d0n=Object.defineProperty,f0n=(e,t,n)=>t in e?d0n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ch=(e,t,n)=>f0n(e,typeof t!="symbol"?t+"":t,n);const C7=8,h0n=12,p0n=10;function m0n(e){const t=e.top>e.bottom,n=e.left>e.right;return{top:t?e.bottom:e.top,bottom:t?e.top:e.bottom,left:n?e.right:e.left,right:n?e.left:e.right}}function g0n(e,t){return!(!e||!e.crop||e.crop.top+t.top<0||e.crop.left+t.left<0||e.crop.right+t.right<0||e.crop.bottom+t.bottom<0)}function Cue(e,t){const{top:n,right:r,bottom:i,left:a}=e.crop||$f,o={hotspot:e.hotspot,crop:{top:n+(t.top||0)>0?n:0,right:r+(t.right||0)>0?r:0,bottom:i+(t.bottom||0)>0?i:0,left:a+(t.left||0)>0?a:0}},s={top:n+(t.top||0)>0&&t.top||0,right:r+(t.right||0)>0&&t.right||0,bottom:i+(t.bottom||0)>0&&t.bottom||0,left:a+(t.left||0)>0&&t.left||0};return{value:o,delta:s}}function v0n(e){switch(e){case"left":case"right":return"col-resize";case"top":case"bottom":return"row-resize";case"topRight":case"bottomLeft":return"nesw-resize";case"topLeft":case"bottomRight":return"nwse-resize";default:return null}}function y0n(e){const{image:t,readOnly:n,onChange:r,onChangeEnd:i,value:a}=e,o=fCe(),[s,l]=c0n(),c=f.useMemo(()=>t.width/s.width,[s.width,t.width]),d=f.useMemo(()=>{const g=a.hotspot||Df,v=new Zi().setSize(g.width,g.height).setCenter(g.x,g.y);return new Zi().setSize(t.width,t.height).shrink(C7*c).multiply(v)},[t.height,t.width,c,a.hotspot]),h=f.useMemo(()=>new Zi().setSize(t.width,t.height).shrink(C7*c).cropRelative(Zi.fromEdges(a.crop||$f).clamp(new Zi(0,0,1,1))),[t.height,t.width,c,a.crop]),p=f.useMemo(()=>{const g=h,v=h0n*c,b=v/2,y=new Zi(0,0,v,v);return{left:y.setTopLeft(g.left-b,g.center.y-b),right:y.setTopLeft(g.right-b,g.center.y-b),top:y.setTopLeft(g.center.x-b,g.top-b),topLeft:y.setTopLeft(g.left-b,g.top-b),topRight:y.setTopLeft(g.right-b,g.top-b),bottom:y.setTopLeft(g.center.x-b,g.bottom-b),bottomLeft:y.setTopLeft(g.left-b,g.bottom-b),bottomRight:y.setTopLeft(g.right-b,g.bottom-b)}},[h,c]),m=f.useMemo(()=>{const g=Zi.fromEdges(a.crop||$f).clamp(new Zi(0,0,1,1)),v=a.hotspot||Df,b=new Zi(0,0,1,1).setSize(v.width,v.height).setCenter(v.x,v.y).clamp(g);return{crop:g,hotspot:b}},[a.crop,a.hotspot]);return u.jsx(x0n,{actualSize:s,hotspotRect:d,cropRect:h,cropHandles:p,clampedValue:m,image:t,onChange:r,onChangeEnd:i,ratio:o,readOnly:n,scale:c,setCanvasObserver:l,value:a})}const b0n=f.memo(y0n);class x0n extends f.PureComponent{constructor(){super(...arguments),ch(this,"state",{cropping:!1,cropMoving:!1,moving:!1,resizing:!1,pointerPosition:null}),ch(this,"canvas"),ch(this,"handleDragStart",({x:t,y:n})=>{const r={x:t*this.props.scale,y:n*this.props.scale},i=xue(r,this.props.hotspotRect),a=wue(r,this.getDragHandleCoords()),o=this.getActiveCropHandleFor(r),s=MF(r,this.props.cropRect);o?this.setState({cropping:o}):a?this.setState({resizing:!0}):i?this.setState({moving:!0}):s&&this.setState({cropMoving:!0})}),ch(this,"handleDrag",t=>{this.state.cropping?this.emitCrop(this.state.cropping,t):this.state.cropMoving?this.emitCropMove(t):this.state.moving?this.emitMove(t):this.state.resizing&&this.emitResize(t)}),ch(this,"handleDragEnd",()=>{const{onChange:t,onChangeEnd:n}=this.props;this.setState({moving:!1,resizing:!1,cropping:!1,cropMoving:!1});const{hotspot:r,crop:i}=this.props.clampedValue,a=m0n(i),o={crop:{top:a.top,bottom:1-a.bottom,left:a.left,right:1-a.right},hotspot:{x:r.center.x,y:r.center.y,height:Math.abs(r.height),width:Math.abs(r.width)}};t(o),n&&n(o)}),ch(this,"handlePointerOut",()=>{this.setState({pointerPosition:null})}),ch(this,"handlePointerMove",t=>{const n=t.currentTarget.getBoundingClientRect();this.setState({pointerPosition:{x:(t.clientX-n.left)*this.props.scale,y:(t.clientY-n.top)*this.props.scale}})}),ch(this,"setCanvas",t=>{t&&(this.canvas=t),this.props.setCanvasObserver(t)})}getActiveCropHandleFor({x:t,y:n}){const r=this.props.cropHandles;for(const i of F$e)if(MF({x:t,y:n},r[i]))return i;return!1}emitMove(t){const{image:n,value:r,onChange:i}=this.props,a=this.props.scale,o={x:t.x*a/n.width,y:t.y*a/n.height};i(w0n(r,o))}emitCropMove(t){const{image:n,onChange:r,value:i}=this.props,a=this.props.scale,o=t.x*a/n.width,s=-t.x*a/n.width,l=t.y*a/n.height,c=-t.y*a/n.height,d={left:o,right:s,top:l,bottom:c};g0n(i,d)&&r(Sue(i,d))}emitCrop(t,n){const{image:r,onChange:i,value:a}=this.props,o=this.props.scale;let s=0,l=0,c=0,d=0;t=="left"||t==="topLeft"||t==="bottomLeft"?s=n.x*o/r.width:(t=="right"||t==="topRight"||t==="bottomRight")&&(l=-n.x*o/r.width),t=="top"||t==="topLeft"||t==="topRight"?c=n.y*o/r.height:(t=="bottom"||t==="bottomLeft"||t==="bottomRight")&&(d=-n.y*o/r.height);const h={left:s,right:l,top:c,bottom:d},p=Cue(a,h).value,m=Cue(a,h).delta;i(Sue(p,m))}emitResize(t){const{image:n,onChange:r,value:i}=this.props,a=this.props.scale,o={x:t.x*a*2/n.width,y:t.y*a*2/n.height};r(C0n(i,{height:o.y,width:o.x}))}getDragHandleCoords(){const t=this.props.hotspotRect,n=P$e(Math.PI*1.25,t);return{x:n.x,y:n.y,radius:8*this.props.scale}}getCursor(){const{pointerPosition:t}=this.state,{readOnly:n}=this.props;if(!t||n)return"auto";const r=this.state.cropping||this.getActiveCropHandleFor(t);if(r)return v0n(r)||"auto";const i=wue(t,this.getDragHandleCoords());if(this.state.resizing||i)return"move";if(this.state.moving||this.state.cropMoving)return`url(${Jgn}), move`;const a=xue(t,this.props.hotspotRect),o=MF(t,this.props.cropRect);return a||o?`url(${Xgn}), move`:"auto"}componentDidMount(){const{canvas:t}=this;t&&this.draw({canvas:t})}componentDidUpdate(){const{canvas:t}=this;t&&this.draw({canvas:t})}draw({canvas:t}){const n=t.getContext("2d");if(!n)return;const{clampedValue:r,cropHandles:i,cropRect:a,hotspotRect:o,image:s,ratio:l,readOnly:c,scale:d}=this.props,{cropping:h,pointerPosition:p}=this.state;l0n({clampedValue:r,context:n,cropHandles:i,cropping:h,cropRect:a,HOTSPOT_HANDLE_SIZE:p0n,hotspotRect:o,image:s,MARGIN_PX:C7,pointerPosition:p,ratio:l,readOnly:c,scale:d});const m=t.style.cursor,g=this.getCursor();m!==g&&(t.style.cursor=g)}render(){const{image:t,readOnly:n,ratio:r}=this.props;return u.jsx(u0n,{children:u.jsx(e0n,{readOnly:n,ref:this.setCanvas,onDrag:this.handleDrag,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onPointerMove:this.handlePointerMove,onPointerOut:this.handlePointerOut,height:t.height*r,width:t.width*r})})}}function w0n(e,t){const n=e&&e.hotspot||Df;return{...e,hotspot:{...n,x:n.x+t.x,y:n.y+t.y}}}function C0n(e,t){const n=e&&e.hotspot||Df;return{...e,hotspot:{...n,height:n.height+t.height,width:n.width+t.width}}}function Sue(e,t){const n=e&&e.crop||$f;return{...e,crop:{left:n.left+(t.left||0),right:n.right+(t.right||0),top:n.top+(t.top||0),bottom:n.bottom+(t.bottom||0)}}}function GS(e){return u.jsx(Ggn,{src:e.src,children:({isLoading:t,image:n,error:r})=>t?u.jsx(wn,{showText:!0}):r?u.jsx("div",{children:r.message}):n?u.jsx(Ygn,{image:n,maxHeight:GS.maxHeight,maxWidth:GS.maxWidth,children:i=>u.jsx(b0n,{image:i,...e})}):null})}GS.maxHeight=500;GS.maxWidth=1e3;const S0n="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function _0n(e){return e.startsWith("blob:")}function E0n(e){return new Mt(t=>{const n=document.createElement("img");let r=!1;const i=()=>{r=!0,t.next(n),t.complete()},a=()=>{r=!0,t.error(new Error(`Could not load image from ${_0n(e)?"blob":e}`))};return n.onload=i,n.onerror=a,n.src=e,()=>{n.onload=null,n.onerror=null,r||(n.src=S0n)}})}const _ue={isLoading:!0};function k0n(e){const[t,n]=f.useState(_ue);return f.useEffect(()=>{n(_ue);const r=E0n(e).subscribe({error:i=>{n({isLoading:!1,error:i})},next:i=>{n({image:i,isLoading:!1})}});return()=>{r.unsubscribe()}},[e]),t}const Eue=["hotspot"],kue=[["3:4",3/4],["Square",1/1],["16:9",16/9],["Panorama",4/1]],Tue={crop:$f,hotspot:Df},T0n=R.div`
  min-height: 6em;
`;function A0n(e){return u.jsx(U,{align:"center",justify:"center",padding:4,style:{overflowWrap:"break-word"},children:e.children})}function j0n(e){const{imageUrl:t,value:n,changed:r,level:i,path:a,focusPath:o=cn,presence:s,onChange:l,schemaType:c,onPathFocus:d,readOnly:h,elementProps:p}=e,[m,g]=f.useState(n||Tue),{image:v,isLoading:b,error:y}=k0n(t),x=f.useCallback(()=>{d(Eue)},[d]);f.useEffect(()=>{g(n||Tue)},[n]);const w=o[0]==="hotspot";$o(w,_=>{var E;!_&&w&&((E=p.ref.current)==null||E.focus())});const C=f.useCallback(_=>{if(h)return;const E=c.fields.find(I=>I.name==="crop"&&I.type.name!=="object"),k=c.fields.find(I=>I.type.name!=="object"&&I.name==="hotspot"),T=E?{_type:E.type.name,..._.crop||$f}:_.crop,j=k?{_type:k.type.name,..._.hotspot||Df}:_.hotspot;l([st(T,["crop"]),st(j,["hotspot"])])},[l,h,c.fields]),{t:S}=Y();return u.jsx(U0,{title:S("inputs.imagetool.title"),level:i,description:S("inputs.imagetool.description"),deprecated:c.deprecated,__unstable_presence:s,children:u.jsxs("div",{children:[u.jsx(te,{__unstable_checkered:!0,__unstable_focusRing:!0,tabIndex:0,ref:p.ref,onFocus:x,children:u.jsx(eo,{path:a.concat(Eue),hasFocus:o[0]==="hotspot",isChanged:r,children:u.jsxs(vue,{ratio:3/2,children:[(b||y)&&u.jsx(A0n,{children:y?u.jsx(te,{padding:4,radius:2,tone:"critical",border:!0,children:u.jsx(N,{children:S("inputs.imagetool.load-error",{errorMessage:y.message})})}):u.jsx(wn,{showText:!0})}),!b&&v&&u.jsx(L,{margin:1,children:u.jsx(GS,{value:m,src:v.src,readOnly:!!h,onChangeEnd:C,onChange:g})})]})})}),u.jsx(L,{marginTop:3,children:u.jsx(Vn,{columns:kue.length,gap:1,children:kue.map(([_,E])=>u.jsxs("div",{children:[u.jsx(zi,{as:"h4",size:0,children:_}),u.jsx(L,{marginTop:2,children:u.jsx(vue,{ratio:E,children:u.jsx(te,{__unstable_checkered:!0,children:!b&&v?u.jsx(Wgn,{aspectRatio:E,src:v.src,srcAspectRatio:v.width/v.height,hotspot:m.hotspot||Df,crop:m.crop||$f}):u.jsx(T0n,{})})})})]},E))})})]})})}const I0n=f.memo(function(e){const{handleCloseDialog:t,inputProps:n,imageInputProps:r,isImageToolEnabled:i}=e,{t:a}=Y(),{changed:o,id:s,imageUrlBuilder:l,value:c}=r,d=i&&c&&c.asset,h=f.useMemo(()=>c!=null&&c.asset?l.image(c.asset).url():"",[l,c==null?void 0:c.asset]);return u.jsx(Ui,{__unstable_autoFocus:!1,header:a("inputs.image.hotspot-dialog.title"),id:`${s}_dialog`,onClickOutside:t,onClose:t,width:1,children:u.jsx(zb,{children:u.jsx(ee,{space:5,children:d&&(c==null?void 0:c.asset)&&u.jsx(j0n,{...r,imageUrl:h,value:c,presence:n.presence,changed:o})})})})}),Aue=30,D0n=R(te)`
  position: relative;
  width: 100%;
  overflow: hidden;
  overflow: clip;
  min-height: 3.75rem;
  max-height: 20rem;

  & > div[data-container] {
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex !important;
    align-items: center;
    justify-content: center;
  }

  & img {
    max-width: 100%;
    max-height: 100%;
  }
`,$0n=R(U)(({$drag:e,$tone:t})=>{const n=Fg.color.light[t].card.enabled.fg,r=Sz(Fg.color.light[t].card.enabled.bg,.8);return ce`
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    backdrop-filter: ${e?"blur(10px)":""};
    color: ${t?n:""};
    background-color: ${e?r:"transparent"};
  `}),O0n=R(U)`
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
`,M0n=e=>{const t=new URLSearchParams(e.split("?")[1]).get("rect");return t?[t.split(",")[2],t.split(",")[3]].map(Number):e.split("-")[1].split(".")[0].split("x").map(Number)};function R0n(e){const{drag:t,readOnly:n,isRejected:r,src:i,initialHeight:a,...o}=e,[s,l]=f.useState(!1),[c,d]=f.useState(null),h=Ng(c),p=(h==null?void 0:h.width)||0,m=t?r||n?"critical":"primary":"default",g=Aue*document.documentElement.clientHeight/100,[v,b]=M0n(i),y=v/b,x=(v>p?p/y:b)<g?null:`${Aue}vh`;f.useEffect(()=>{l(!1)},[i]);const w=f.useCallback(()=>{l(!0)},[]),{t:C}=Y();return u.jsxs(D0n,{...o,ref:d,style:{height:a&&!s?a:x},tone:"transparent",children:[u.jsxs(te,{"data-container":!0,tone:"inherit",children:[!s&&u.jsx(jue,{cardTone:"transparent",drag:!0,content:u.jsx(wn,{showText:!0})}),u.jsx("img",{src:i,"data-testid":"hotspot-image-input",alt:e.alt,onLoad:w,referrerPolicy:"strict-origin-when-cross-origin"})]}),t&&u.jsx(jue,{cardTone:m,drag:t,content:u.jsxs(u.Fragment,{children:[u.jsx(L,{marginBottom:3,children:u.jsx(zi,{children:u.jsx(P0n,{isRejected:r,readOnly:n})})}),u.jsx(N,{size:1,children:C(F0n({isRejected:r,readOnly:n}))})]})})]})}function P0n({isRejected:e,readOnly:t}){return e?u.jsx(gf,{}):t?u.jsx(Ky,{}):u.jsx(eu,{})}function F0n({isRejected:e,readOnly:t}){return e?"inputs.image.drag-overlay.this-field-is-read-only":t?"inputs.image.drag-overlay.cannot-upload-here":"inputs.image.drag-overlay.drop-to-upload-image"}function jue({cardTone:e,drag:t,content:n}){return u.jsx($0n,{justify:"flex-end",padding:3,$drag:t,$tone:e,children:u.jsx(O0n,{direction:"column",align:"center",justify:"center",children:n})})}const N0n=f.memo(function(e){const{directUploads:t,handleOpenDialog:n,hoveringFiles:r,imageUrlBuilder:i,initialHeight:a,readOnly:o,resolveUploader:s,schemaType:l,value:c}=e,d=f.useMemo(()=>kb(c),[c]);return!c||!d?null:u.jsx(L0n,{directUploads:t,handleOpenDialog:n,hoveringFiles:r,imageUrlBuilder:i,initialHeight:a,readOnly:o,resolveUploader:s,schemaType:l,value:c})});function L0n(e){const{directUploads:t,handleOpenDialog:n,hoveringFiles:r,imageUrlBuilder:i,initialHeight:a,readOnly:o,resolveUploader:s,schemaType:l,value:c}=e,{t:d}=Y(),h=f.useMemo(()=>r.filter(v=>s(l,v)),[r,s,l]),p=f.useMemo(()=>r.length-h.length,[h,r]),m=fCe(),g=f.useMemo(()=>i.width(2e3).fit("max").image(c).dpr(m).auto("format").url(),[m,i,c]);return u.jsx(R0n,{alt:d("inputs.image.preview-uploaded-image"),drag:!(c!=null&&c._upload)&&r.length>0,initialHeight:a,isRejected:p>0||!t,onDoubleClick:n,readOnly:o,src:g})}function B0n(e){const{directUploads:t,handleSelectFiles:n,hoveringFiles:r,readOnly:i,renderBrowser:a,resolveUploader:o,schemaType:s}=e,l=f.useMemo(()=>r.filter(h=>o(s,h)),[r,o,s]),c=f.useMemo(()=>Jn(s,"options.accept","image/*"),[s]),d=r.length-l.length;return u.jsx("div",{style:{padding:1},children:u.jsx(te,{tone:i?"transparent":"inherit",border:!0,paddingX:3,paddingY:2,radius:2,style:r.length===0?{}:{borderColor:"transparent"},children:u.jsx(A$e,{browse:a(),onUpload:n,readOnly:i,hoveringFiles:r,acceptedFiles:l,rejectedFilesCount:d,type:"image",accept:c,directUploads:t})})})}const V0n=f.memo(B0n);function z0n({onClearValue:e}){const{t}=Y();return u.jsxs(te,{tone:"caution",padding:4,border:!0,radius:2,children:[u.jsxs(U,{gap:4,marginBottom:4,children:[u.jsx(L,{children:u.jsx(N,{size:1,children:u.jsx(fr,{})})}),u.jsxs(ee,{space:3,children:[u.jsx(N,{size:1,weight:"medium",children:t("inputs.image.invalid-image-warning.title")}),u.jsx(N,{size:1,children:t("inputs.image.invalid-image-warning.description")})]})]}),u.jsx(fe,{icon:qc,mode:"ghost",onClick:e,text:t("inputs.image.invalid-image-warning.reset-button.text"),width:"fill"})]})}function U0n(e){const{assetSources:t,client:n,directUploads:r,elementProps:i,focusPath:a,id:o,imageUrlBuilder:s,members:l,observeAsset:c,onChange:d,onPathFocus:h,path:p,readOnly:m,renderAnnotation:g,renderBlock:v,renderField:b,renderInlineBlock:y,renderInput:x,renderItem:w,renderPreview:C,resolveUploader:S,schemaType:_,value:E}=e,{push:k}=Pr(),{t:T}=Y(),[j,I]=f.useState(null),[A,$]=f.useState(!1),[D,M]=f.useState([]),[O,F]=f.useState(!1),[P,V]=f.useState(null),[H,W]=f.useState(null),[G,X]=f.useState(!1),z=f.useRef(null),q=f.useRef({el:null,height:0}),Z=f.useCallback(Ke=>{var rn;Ke?(q.current.el=Ke,q.current.height=Ke.offsetHeight):(q.current.height=((rn=q.current.el)==null?void 0:rn.offsetHeight)||0,q.current.el=null)},[]),K=f.useCallback(()=>{const Ke=D.filter(Nr=>S(_,Nr)),rn=D.length-Ke.length;return D.length>0&&(rn>0||!r)?"critical":!(E!=null&&E._upload)&&!m&&D.length>0?"primary":m||E!=null&&E._upload&&E!=null&&E.asset?"transparent":"default"},[r,D,m,S,_,E==null?void 0:E._upload,E==null?void 0:E.asset]),J=f.useCallback(()=>Jn(_,"options.hotspot")===!0,[_]),Q=f.useCallback(()=>typeof p.slice(-1)[0]!="string",[p]),re=f.useCallback(()=>{E!=null&&E._upload&&d(pt(["_upload"]))},[d,E==null?void 0:E._upload]),ae=f.useCallback(()=>{z.current&&(z.current.unsubscribe(),re())},[re]),ne=f.useCallback((Ke,rn,Nr={})=>{const{label:Sr,title:bn,description:_t,creditLine:ze,source:Lt}=Nr,hn={metadata:Jn(_,"options.metadata"),storeOriginalFilename:Jn(_,"options.storeOriginalFilename"),label:Sr,title:bn,description:_t,creditLine:ze,source:Lt};ae(),$(!0),d(Ts({_type:_.name})),z.current=Ke.upload(n,rn,_,hn).subscribe({next:an=>{an.patches&&d(an.patches)},error:an=>{console.error(an),k({status:"error",description:T("inputs.image.upload-error.description"),title:T("inputs.image.upload-error.title")}),re()},complete:()=>{d([pt(["hotspot"]),pt(["crop"])]),$(!1)}})},[ae,re,n,d,k,_,T]),se=f.useCallback(Ke=>{const rn=Ke.map(Nr=>({file:Nr,uploader:S(_,Nr)})).find(Nr=>Nr.uploader);rn&&ne(rn.uploader,rn.file),X(!1)},[S,_,ne]),le=f.useCallback(()=>{d([pt(["asset"]),pt(["crop"]),pt(["hotspot"])]),q.current.el=null,q.current.height=0},[d]),oe=f.useCallback(()=>{const Ke=Object.keys(E||{}),rn=Ke.filter(Sr=>!["_type","_key","_upload","asset","crop","hotspot"].includes(Sr)).length===0,Nr=["asset"].concat(Ke.filter(Sr=>["crop","hotspot","_upload"].includes(Sr))).map(Sr=>pt([Sr]));d(rn&&!Q()?pt():Nr),q.current.el=null,q.current.height=0},[d,E,Q]),ge=f.useCallback(()=>{h(["hotspot"])},[h]),_e=f.useCallback(()=>{h([]),P==null||P.focus()},[P,h]),Me=f.useCallback(Ke=>{E$e({assetFromSource:Ke,onChange:d,type:_,resolveUploader:S,uploadWith:ne,isImage:!0}),I(null)},[d,S,_,ne]),me=f.useCallback(Ke=>{var rn;Ke.currentTarget===Ke.target&&Ke.currentTarget===((rn=i.ref)==null?void 0:rn.current)&&i.onFocus(Ke)},[i]),ye=f.useCallback(Ke=>{M(Ke.filter(rn=>rn.kind!=="string"))},[]),De=f.useCallback(()=>{M([])},[]),be=f.useCallback(()=>{ae()},[ae]),he=f.useCallback(()=>{F(!1),re()},[re]),ve=f.useCallback(()=>{F(!0)},[]),Ce=f.useCallback(Ke=>{r&&!m?se(Ke):D.length>0&&De()},[r,De,D.length,m,se]),Te=f.useCallback(Ke=>{I(Ke)},[]),Ge=f.useCallback(()=>{I(null),H==null||H.focus()},[H]),Je=f.useCallback(()=>u.jsx(N0n,{directUploads:r,handleOpenDialog:ge,hoveringFiles:D,imageUrlBuilder:s,initialHeight:q.current.height,readOnly:m,resolveUploader:S,schemaType:_,value:E}),[r,ge,D,s,m,S,_,E]),tt=f.useCallback(()=>u.jsx(Dgn,{assetSources:t,directUploads:r,handleOpenDialog:ge,handleRemoveButtonClick:oe,handleSelectFiles:Ce,handleSelectImageFromAssetSource:Te,imageUrlBuilder:s,isImageToolEnabled:J(),isMenuOpen:G,observeAsset:c,readOnly:m,schemaType:_,setHotspotButtonElement:V,setMenuButtonElement:W,setMenuOpen:X,value:E}),[t,r,ge,oe,Ce,Te,s,J,G,c,m,_,E]),Ne=f.useCallback(()=>u.jsx(Ngn,{assetSources:t,readOnly:m,directUploads:r,id:o,setMenuOpen:X,handleSelectImageFromAssetSource:Te}),[t,r,Te,o,m]),Fe=f.useCallback(()=>u.jsx(V0n,{directUploads:r,handleSelectFiles:Ce,hoveringFiles:D,readOnly:m,renderBrowser:Ne,resolveUploader:S,schemaType:_}),[r,Ce,D,m,Ne,S,_]),lt=f.useCallback(Ke=>u.jsx(I$e,{uploadState:Ke,onCancel:A?be:void 0,onStale:ve,height:q.current.height}),[be,ve,A]),Dt=f.useCallback(()=>E&&typeof E.asset<"u"&&!(E!=null&&E._upload)&&!kb(E)?()=>u.jsx(z0n,{onClearValue:le}):Ke=>u.jsx(Tgn,{ref:Z,elementProps:i,handleClearUploadState:he,handleFilesOut:De,handleFilesOver:ye,handleFileTargetFocus:me,handleSelectFiles:Ce,hoveringFiles:D,inputProps:Ke,isStale:O,readOnly:m,renderAssetMenu:tt,renderPreview:Je,renderUploadPlaceholder:Fe,renderUploadState:lt,tone:K(),value:E}),[i,K,le,he,me,De,ye,Ce,D,O,m,tt,Je,Fe,lt,Z,E]),Be=f.useCallback(Ke=>u.jsx(I0n,{isImageToolEnabled:J(),handleCloseDialog:_e,imageInputProps:e,inputProps:Ke}),[_e,J,e]),ct=f.useCallback(()=>u.jsx(Rgn,{handleAssetSourceClosed:Ge,handleSelectAssetFromSource:Me,observeAsset:c,schemaType:_,selectedAssetSource:j,value:E}),[Ge,Me,c,_,j,E]),Ct=f.useMemo(()=>l.find(Ke=>Ke.kind==="field"&&Ke.name==="hotspot"),[l]);return u.jsxs(ee,{space:5,"data-testid":"image-input",children:[l.map(Ke=>Ke.kind==="field"&&(Ke.name==="crop"||Ke.name==="hotspot")?null:Ke.kind==="field"?u.jsx(C_,{member:Ke,renderAnnotation:g,renderBlock:v,renderInlineBlock:y,renderInput:Ke.name==="asset"?Dt():x,renderField:Ke.name==="asset"?W0n:b,renderItem:w,renderPreview:C},Ke.key):Ke.kind==="fieldSet"?u.jsx(iY,{member:Ke,renderAnnotation:g,renderBlock:v,renderField:b,renderInlineBlock:y,renderInput:x,renderItem:w,renderPreview:C},Ke.key):Ke.kind==="error"?u.jsx(iM,{member:Ke},Ke.key):u.jsx(u.Fragment,{children:T("inputs.image.error.unknown-member-kind",{kind:Ke.kind})})),Ct&&a[0]==="hotspot"&&u.jsx(aY,{...e,absolutePath:Ct.field.path,renderInput:Be}),j&&ct()]})}const H0n=f.memo(U0n);function W0n({children:e}){return e}function G0n(e){var t;const n=(t=e.schemaType.options)==null?void 0:t.sources,{image:r}=pd().__internal,i=ua(),a=Zt(Gt),o=r.directUploads,s=f.useCallback((p,m)=>o?nY(p,m):null,[o]),l=f.useMemo(()=>n||r.assetSources,[r,n]),c=f.useMemo(()=>z2(a),[a]),d=f.useCallback(p=>cDe(i,p),[i]),{t:h}=Y();return u.jsx(H0n,{...e,t:h,client:a,assetSources:l,directUploads:o,imageUrlBuilder:c,observeAsset:d,resolveUploader:s})}const Iue={document:due,object:due,array:Lpn,boolean:Upn,number:v$e,text:Mmn,email:hmn,datetime:fmn,date:lmn,url:Rmn,image:G0n,file:_gn,string:y$e,slug:$mn,crossDatasetReference:tgn},Y0n=bi({version:1,name:"Portable Text Editor Expanded",description:"The portable text editor was expanded"}),q0n=bi({version:1,name:"Portable Text Editor Collapsed",description:"The portable text editor was collapsed"}),K0n=bi({version:1,name:"Portable Text Editor Invalid Value Ignored",description:"The portable text got an invalid value from the form and pressed button to ignore it"}),Z0n=bi({version:1,name:"Portable Text Editor Invalid Value Resolved",description:"The portable text got an invalid value from the form and pressed button to resolve it."}),X0n=R.div`
  position: relative;
`,N$e=R.div`
  z-index: 13;
  opacity: 0;
  transition: opacity 300ms linear;
`,L$e=R(te)`
  border: 1px solid var(--card-border-color);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 12;
  transition: opacity 150ms ease-in-out;
  opacity: 0;
  box-sizing: border-box;
`,J0n=R(U)`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;

  &:hover,
  &:focus {
    & ${L$e} {
      opacity: 0.9;
    }

    & ${N$e} {
      opacity: 1;
    }
  }
`,Q0n=()=>typeof window<"u"&&"ontouchstart"in window||typeof navigator<"u"&&navigator.maxTouchPoints>0;function evn(e){const{children:t,message:n,onActivate:r,isOverlayActive:i}=e,[a,o]=f.useState(!1),{t:s}=Y(),l=f.useCallback(()=>{r&&r()},[r]),c=f.useCallback(g=>{i&&g.code==="Space"&&r&&(g.preventDefault(),r())},[i,r]),d=f.useCallback(()=>{i&&r&&r()},[i,r]),h=f.useCallback(()=>{o(!0)},[]),p=f.useCallback(()=>{o(!1)},[]),m=f.useMemo(()=>{const g=Q0n();let v;g?v="tap":a?v="click-focused":v="click";const b=n||s("inputs.portable-text.activate-on-focus-message",{context:v});return u.jsx(N,{weight:"medium",children:b})},[a,n,s]);return u.jsxs(X0n,{onBlur:p,onClick:l,onFocus:h,onKeyDown:c,onDragEnter:d,children:[i&&u.jsxs(J0n,{"data-testid":"activate-overlay",tabIndex:0,align:"center",justify:"center",children:[u.jsx(L$e,{radius:2}),u.jsx(N$e,{children:m})]}),t]})}const tvn=R.div(e=>{const{color:t,input:n,radius:r}=Ee(e.theme),i={color:t.input.default.enabled.border,width:n.border.width};return ce`
    --input-box-shadow: ${mY(i)};

    position: relative;

    & [data-wrapper] {
      overflow: hidden;
      overflow: clip;
      position: relative;
      z-index: 1;
      padding: ${n.border.width}px;
    }

    & [data-border] {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      box-shadow: var(--input-box-shadow);
      z-index: 2;
      border-radius: ${r[2]}px;
      pointer-events: none;
    }

    &:not([data-read-only])[data-focused] [data-border] {
      --input-box-shadow: ${dM({base:t,border:i,focusRing:n.text.focusRing})};
    }
  `}),nvn=R(Jo)`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;

  & > div {
    height: 100%;
  }
`,Jx=[1,2,3,4,5,6,7,8,9],Due=["●","○","■"],$ue=["number","lower-alpha","lower-roman"],rvn={em:"em","strike-through":"s",underline:"u",strong:"strong",code:"code"},ivn={h1:{paddingTop:5,paddingBottom:4},h2:{paddingTop:4,paddingBottom:4},h3:{paddingTop:4,paddingBottom:3},h4:{paddingTop:4,paddingBottom:3},h5:{paddingTop:4,paddingBottom:3},h6:{paddingTop:4,paddingBottom:2},normal:{paddingTop:2,paddingBottom:3},blockquote:{paddingTop:2,paddingBottom:3}},avn=R.span(({theme:e})=>{const t=e.sanity.color.dark;return ce`
    /* Make sure the annotation styling is visible */
    &[data-mark='code'] {
      color: inherit;
      mix-blend-mode: ${t?"screen":"multiply"};
    }
  `});function ovn(e){const{value:t,focused:n,selected:r,children:i,schemaType:a}=e,o=rvn[t],s=a.component,l=f.useCallback(c=>u.jsx(avn,{as:o,"data-mark":t,children:c.children}),[o,t]);return f.useMemo(()=>{const c={focused:n,renderDefault:l,schemaType:a,selected:r,title:a.title,value:t};return s?u.jsx(s,{...c,children:i}):u.jsx(l,{...c,children:i})},[s,l,i,n,a,r,t])}function Um(e){return`list-level-${e}`}const B$e=R.div(({theme:e})=>{const{radius:t,space:n,color:r}=e.sanity,i=Sz(r.spot.yellow,.2);return ce`
    position: absolute;
    border-radius: ${t[3]}px;
    top: -${n[2]}px;
    bottom: -${n[1]+n[1]}px;
    left: ${n[4]+n[1]}px;
    right: ${n[1]}px;
    background-color: ${i};
    pointer-events: none;
  `}),V$e=R(eo)(()=>ce`
    width: 1px;
    height: 100%;

    & > div {
      height: 100%;
    }
  `);function svn(e){const{allowedDecorators:t,block:n,onChange:r}=e;let i;return a=>{i=Array.isArray(a)?a:[a],i=i.map(s=>DS(s,{allowedDecorators:t}));const o=[Qh(i,"after",[{_key:n._key}])];return r(jt.from(o))}}function lvn(e){const{allowedDecorators:t,block:n,onChange:r}=e;return i=>{const a=[st(DS(i,{allowedDecorators:t}),[{_key:n._key}])];return r(jt.from(a))}}function uvn(e){const{block:t,onChange:n}=e;return()=>{const r=[pt([{_key:t._key}])];return n(jt.from(r))}}const cvn=R.div`
  display: flex;
  pointer-events: all;
`;function z$e(e){const t=Wi(),{block:n,onChange:r,renderBlockActions:i}=e,a=f.useMemo(()=>t.schemaTypes.decorators.map(s=>s.value),[t]),o=f.useMemo(()=>{if(i){const s={block:n,value:Ae.getValue(t),set:lvn({allowedDecorators:a,block:n,onChange:r}),unset:uvn({block:n,onChange:r}),insert:svn({allowedDecorators:a,block:n,onChange:r})};return i(s)}},[i,n,t,r,a]);return o?u.jsx(cvn,{contentEditable:!1,children:o}):null}function dvn(e){const{$level:t}=e,{color:n,font:r,radius:i,space:a}=Ee(e.theme),o=$ue[(t-1)%$ue.length],s=Due[(t-1)%Due.length];return ce`
    --marker-bg-color: transparent;

    mix-blend-mode: ${n._dark?"screen":"multiply"};
    position: relative;

    & > [data-ui='TextBlock_inner'] {
      position: relative;
      flex: 1;
    }

    & > div:before {
      content: '';
      position: absolute;
      top: -${a[1]}px;
      bottom: -${a[1]}px;
      left: -${a[1]}px;
      right: -${a[1]}px;
      border-radius: ${i[2]}px;
      background-color: var(--marker-bg-color);
      // This is to make sure the marker is always behind the text
      z-index: -1;
      pointer-events: none;
    }

    &[data-markers] {
      --marker-bg-color: ${n._dark?Qe.purple[950].hex:Qe.purple[50].hex};
    }

    &[data-warning] {
      --card-border-color: ${n.button.ghost.caution.enabled.border};
      --marker-bg-color: ${n.button.ghost.caution.hovered.bg};
    }

    &[data-error] {
      --card-border-color: ${n.button.ghost.critical.enabled.border};
      --marker-bg-color: ${n.button.ghost.critical.hovered.bg};
    }

    & [data-list-prefix] {
      position: absolute;
      margin-left: -4.5rem;
      width: 3.75rem;
      text-align: right;
      box-sizing: border-box;
    }

    &[data-list-item='number'] [data-list-prefix] {
      font-variant-numeric: tabular-nums;

      & > span:before {
        content: counter(${Um(t)}) '.';
        content: counter(${Um(t)}, ${o}) '.';
      }
    }

    &[data-list-item='bullet'] [data-list-prefix] {
      & > span {
        position: relative;
        top: -0.1875em;

        &:before {
          content: '${s}';
          font-size: 0.46666em;
        }
      }
    }

    & [data-text] {
      overflow-wrap: anywhere;
      text-transform: none;
      white-space: pre-wrap;
      font-family: ${r.text.family};
      flex: 1;

      *::selection {
        background-color: ${VI(n.focusRing,.3)};
      }
    }
  `}const fvn=R.div(dvn),hvn=R(L)`
  position: relative;
  display: flex;
`,pvn=R.div`
  user-select: none;
  white-space: nowrap;
`,mvn=R(L)`
  line-height: 0;
  width: 25px;
  position: relative;
`,gvn=R(U)(({theme:e})=>{const{fonts:t,space:n}=e.sanity,r=t.text.sizes[1],i=t.text.sizes[2],a=r.lineHeight-r.ascenderHeight-r.descenderHeight,o=i.lineHeight-i.ascenderHeight-i.descenderHeight,s=0-(a+n[2]+n[2]-o)/2;return ce`
    user-select: none;
    position: absolute;
    right: 0;
    top: ${s}px;
  `}),vvn=R(L)`
  max-width: 250px;
`,yvn=R(U)`
  position: relative;
  padding-left: ${({$level:e})=>e?e*32:0}px;
`,bvn=R.div(({theme:e,$hasChanges:t})=>{const{space:n}=e.sanity;return ce`
      position: absolute;
      width: ${n[2]}px;
      right: 0;
      top: 0;
      bottom: 0;
      padding-left: ${n[1]}px;
      padding-right: ${n[2]}px;
      user-select: none;

      ${!t&&ce`
        display: none;
      `}
    `}),Qf=R.div`
  display: block;
`,SY=({children:e,...t})=>u.jsx(N,{"data-testid":"text-style--normal",...t,children:u.jsx(Qf,{children:e})}),U$e=({children:e,...t})=>u.jsx(zi,{as:"h1","data-testid":"text-style--h1",size:5,...t,children:u.jsx(Qf,{children:e})}),H$e=({children:e,...t})=>u.jsx(zi,{as:"h2","data-testid":"text-style--h2",size:4,...t,children:u.jsx(Qf,{children:e})}),W$e=({children:e,...t})=>u.jsx(zi,{as:"h3","data-testid":"text-style--h3",size:3,...t,children:u.jsx(Qf,{children:e})}),G$e=({children:e,...t})=>u.jsx(zi,{as:"h4","data-testid":"text-style--h4",size:2,...t,children:u.jsx(Qf,{children:e})}),Y$e=({children:e,...t})=>u.jsx(zi,{as:"h5","data-testid":"text-style--h5",size:1,...t,children:u.jsx(Qf,{children:e})}),q$e=({children:e,...t})=>u.jsx(zi,{as:"h6","data-testid":"text-style--h6",size:0,...t,children:u.jsx(Qf,{children:e})}),xvn=R.blockquote`
  position: relative;
  display: block;
  margin: 0;
  padding-left: ${({theme:e})=>e.sanity.space[3]}px;

  &::before {
    content: '';
    position: absolute;
    left: 0;
    top: -4px;
    bottom: -4px;
    width: 3px;
    background: var(--card-border-color);
  }
`,K$e=({children:e,...t})=>u.jsx(xvn,{"data-testid":"text-style--blockquote",...t,children:u.jsx(N,{as:"p",children:e})}),FF={normal:SY,h1:U$e,h2:H$e,h3:W$e,h4:G$e,h5:Y$e,h6:q$e,blockquote:K$e};function wvn(e){const{children:t,floatingBoundary:n,focused:r,isFullscreen:i,onItemClose:a,onItemOpen:o,onPathFocus:s,path:l,readOnly:c,referenceBoundary:d,renderBlock:h,renderAnnotation:p,renderBlockActions:m,renderCustomMarkers:g,renderField:v,renderInlineBlock:b,renderInput:y,renderItem:x,renderPreview:w,schemaType:C,selected:S,spellCheck:_,value:E}=e,{Markers:k}=pd().__internal.components,[T,j]=f.useState(!1),I=tM(l),A=aM(qn(l)),$=Wi(),{onChange:D}=gu(),M=Vb(l,!0),O=f.useMemo(()=>M.filter(ge=>vr(ge.path,l)||ge.path.slice(-3)[1]==="children"&&ge.path.length-l.length===2),[l,M]),F=f.useCallback(()=>j(!0),[]),P=f.useCallback(()=>j(!1),[]),{validation:V,hasError:H,hasWarning:W,hasInfo:G}=eM(A==null?void 0:A.node),X=!!g&&I.length>0,z=H||W||X||G,q=f.useCallback(()=>{A&&o(A.node.path)},[o,A]),Z=f.useCallback(()=>{const ge={path:l.slice(-1),offset:0},_e={focus:ge,anchor:ge};Ae.delete($,_e,{mode:"blocks"}),Ae.focus($)},[l,$]),K=f.useMemo(()=>u.jsxs(yvn,{align:"flex-start",$level:E==null?void 0:E.level,children:[E.listItem&&u.jsx(pvn,{contentEditable:!1,children:u.jsx(N,{"data-list-prefix":"",children:u.jsx(Qf,{})})}),u.jsx("div",{"data-text":"",style:void 0,children:t})]}),[E.listItem,E.level,t]),J=f.useMemo(()=>i&&!m?{paddingX:5}:i&&m?{paddingLeft:5,paddingRight:2}:m?{paddingLeft:3,paddingRight:2}:{paddingX:3},[i,m]),Q=f.useMemo(()=>E.listItem?{paddingY:2}:ivn[E.style||"normal"]||{paddingY:2},[E]),re=!!(A!=null&&A.member.open),ae=$.schemaTypes.portableText,ne=f.useMemo(()=>{var ge;return{__unstable_floatingBoundary:n,__unstable_referenceBoundary:d,__unstable_referenceElement:((ge=A==null?void 0:A.elementRef)==null?void 0:ge.current)||null,children:K,focused:r,markers:I,onClose:a,onOpen:q,onPathFocus:s,onRemove:Z,open:re,parentSchemaType:ae,path:(A==null?void 0:A.node.path)||cn,presence:O,readOnly:!!c,renderAnnotation:p,renderBlock:h,renderDefault:Z$e,renderField:v,renderInput:y,renderInlineBlock:b,renderItem:x,renderPreview:w,schemaType:C,selected:S,validation:V,value:E}},[n,r,re,I,A==null?void 0:A.elementRef,A==null?void 0:A.node.path,a,q,s,Z,ae,c,d,p,h,v,b,y,x,w,C,S,K,O,V,E]),se=f.useMemo(()=>z&&u.jsx(vvn,{children:u.jsx(k,{markers:I,renderCustomMarkers:g,validation:V})})||null,[k,I,g,z,V]),le=m&&!c,oe=i&&A;return f.useMemo(()=>u.jsx(L,{...Q,"data-testid":"text-block","data-text-block":"",ref:A==null?void 0:A.elementRef,style:void 0,children:u.jsx(hvn,{"data-testid":"text-block__wrapper",children:u.jsxs(U,{"data-text-block-inner":"",flex:1,...J,children:[u.jsx(L,{flex:1,children:u.jsx(gt,{content:se,disabled:!z,placement:"top",portal:"editor",children:u.jsx(fvn,{$level:E.level||1,"data-error":H?"":void 0,"data-list-item":E.listItem,"data-markers":X?"":void 0,"data-read-only":c,"data-testid":"text-block__text","data-warning":W?"":void 0,spellCheck:_,children:h&&h(ne)})})}),le&&u.jsx(mvn,{contentEditable:!1,marginRight:3,children:u.jsx(gvn,{children:r&&u.jsx(z$e,{block:E,onChange:D,renderBlockActions:m})})}),oe&&u.jsx(bvn,{$hasChanges:A.member.item.changed,contentEditable:!1,onMouseEnter:F,onMouseLeave:P,children:u.jsx(V$e,{hasFocus:r,isChanged:A.member.item.changed,path:A.member.item.path,withHoverEffect:!1})}),T&&u.jsx(B$e,{})]})})}),[le,oe,ne,r,F,P,H,X,W,J,A,D,Q,c,h,m,T,_,se,z,E])}const Z$e=e=>u.jsx(u.Fragment,{children:e.children}),Cvn=R(te)`
  &[data-fullscreen='true'] {
    height: 100%;
  }

  &[data-fullscreen='false'] {
    min-height: 5em;
    resize: vertical;
    overflow: auto;
    height: 19em;
  }

  &:not([hidden]) {
    display: flex;
  }

  flex-direction: column;
`,Svn=R(te)`
  z-index: 10;
  line-height: 0;
`,_vn=R(te)`
  position: relative;
  overflow: hidden;
  overflow: clip;

  & > [data-portal] {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;

    & > * {
      pointer-events: initial;
    }
  }

  &::selection,
  *::selection {
    background-color: transparent;
  }
`,Evn=R(qO)`
  position: relative;
  overflow: auto;
  height: 100%;
  display: flex;
  flex-direction: column;

  & > * {
    flex: 1;
    min-height: auto;
  }
`,kvn=R(te)`
  height: 100%;
  width: 100%;
  counter-reset: ${Jx.map(e=>Um(e)).join(" ")};
  overflow: hidden;
  overflow: clip;

  & > div {
    height: 100%;
  }

  & .pt-editable {
    display: block;
    width: 100%;
    height: 100%;

    ${Jx.map(e=>ce`
        & > .pt-list-item-number[class~='pt-list-item-level-${e}'] {
          counter-increment: ${Um(e)};
        }
      `)}

    & > .pt-list-item-bullet + .pt-list-item-number,
    & > .pt-list-item-number + .pt-list-item-bullet {
      margin-top: ${({theme:e})=>e.sanity.space[3]}px;
      counter-reset: ${Jx.map(e=>Um(e)).join(" ")};
    }

    & > :not(.pt-list-item) + .pt-list-item {
      margin-top: ${({theme:e})=>e.sanity.space[2]}px;
    }

    /* Reset the list count if the element is not a numbered list item */
    & > :not(.pt-list-item-number) {
      counter-reset: ${Jx.map(e=>Um(e)).join(" ")};
    }

    ${Jx.slice(1).map(e=>ce`
        & > .pt-list-item-level-${e} + .pt-list-item-level-${e-1} {
          counter-reset: ${Um(e)};
        }
      `)}

    & > .pt-list-item + :not(.pt-list-item) {
      margin-top: ${({theme:e})=>e.sanity.space[3]}px;
    }

    & > :first-child {
      padding-top: ${({$isFullscreen:e,theme:t})=>t.sanity.space[e?5:3]}px;
    }

    padding-bottom: ${({$isFullscreen:e,theme:t})=>t.sanity.space[e?9:5]}px;

    & > .pt-block {
      margin: 0 auto;
      max-width: ${e=>Ee(e.theme).container[1]}px;
    }

    /* & > .pt-block {
      & .pt-inline-object {
      }
    } */

    & .pt-drop-indicator {
      pointer-events: none;
      border: 1px solid var(--card-focus-ring-color) !important;
      height: 0px !important;
      border-radius: ${e=>Ee(e.theme).radius[2]}px;
      margin-top: -3px;
      left: calc(
        ${({$isFullscreen:e,theme:t})=>Se(e?t.sanity.space[5]:t.sanity.space[3])} - 1px
      );
      right: calc(
        ${({$isFullscreen:e,theme:t})=>Se(e?t.sanity.space[5]:t.sanity.space[3])} - 1px
      );
      width: calc(
        100% -
          ${({$isFullscreen:e,theme:t})=>Se(e?t.sanity.space[5]*2:t.sanity.space[3]*2)} + 2px
      ) !important;
    }
  }
`;function Tvn(e){return f.useMemo(()=>(t,n)=>{if(Ae.getSelection(t)){const r=n.startContainer.parentElement;if(!r)return;Gg(r,{scrollMode:"if-needed",boundary:e,block:"nearest",inline:"nearest"})}},[e])}function Avn(){const e=Wi();return f.useMemo(()=>{var t;const n=(t=e.schemaTypes.block.options)==null?void 0:t.spellCheck,r=typeof navigator>"u"?!1:/Chrome\/96/.test(navigator.userAgent);return n===void 0&&r===!0?!1:n},[e])}const Oue=e=>u.jsx(u.Fragment,{children:e.children}),jvn=e=>{const{block:t,children:n,schemaType:r,selected:i,focused:a,level:o,value:s}=e,{title:l,component:c}=r;return f.useMemo(()=>{const d={block:t,focused:a,level:o,renderDefault:Oue,schemaType:r,selected:i,title:l,value:s};return c?u.jsx(c,{...d,children:n}):u.jsx(Oue,{...d,children:n})},[c,t,n,a,o,r,i,l,s])},Ivn=e=>{const{block:t,focused:n,children:r,selected:i,schemaType:a}=e,o=f.useMemo(()=>(t.style&&FF[t.style]?FF[t.style]:FF[0])||SY,[t.style]),s=f.useCallback(l=>u.jsx(o,{children:u.jsx(Qf,{"data-testid":`text-style--${t.style}`,children:l.children})}),[o,t.style]);return f.useMemo(()=>{const l=a.component,{title:c,value:d}=a,h={block:t,focused:n,renderDefault:s,schemaType:a,selected:i,title:c,value:d};return l?u.jsx(l,{...h,children:r}):u.jsx(s,{...h,children:r})},[s,t,r,n,a,i])},Dvn=R.div`
  border-right: 1px solid var(--card-border-color);
  height: auto;

  &[data-hidden] {
    opacity: 0;
  }
`;function X$e(e){const{hidden:t,...n}=e;return u.jsx(Dvn,{"data-ui":"CollapseMenuDivider","data-hidden":t?"":void 0,...n})}const $vn={portal:!0,constrainSize:!0},_Y=f.forwardRef(function(e,t){const{disableRestoreFocusOnClose:n,menuButton:r,menuButtonProps:i,menuOptions:a,onMenuClose:o}=e;return u.jsx(Kt,{__unstable_disableRestoreFocusOnClose:n,id:"menu-button",ref:t,onClose:o,popover:$vn,...i,button:r,menu:u.jsx(Ot,{children:a.map((s,l)=>{const{collapsedProps:c={},expandedProps:d={},tooltipProps:h={},tooltipText:p,dividerBefore:m,fontSize:g,padding:v,text:b,icon:y,selected:x,...w}=s.props;return u.jsxs(f.Fragment,{children:[m&&l!==0&&u.jsx(ur,{}),u.jsx(We,{text:b,icon:y,pressed:x,...w})]},s.key)})})})});function J$e(e){const{onIntersectionChange:t,children:n,options:r,...i}=e,[a,o]=f.useState(null);return f.useEffect(()=>{const s=a==null?void 0:a.closest('[data-ui="Flex"]');if(!s)return;const l=new IntersectionObserver(t,r);return l.observe(s),()=>{l.unobserve(s),l.disconnect()}},[a,t,r]),u.jsxs(U,{...i,children:[n,u.jsx("span",{hidden:!0,ref:o})]})}const Mue=3,Ovn=ce`
  list-style: none;
  display: flex;
  white-space: nowrap;

  &[data-hidden='true'] {
    opacity: 0;
    visibility: hidden;
  }
`,Mvn=R(U)`
  padding: ${Mue}px;
  margin: -${Mue}px;
  box-sizing: border-box;
`,Rvn=R(U)`
  border-radius: inherit;
  position: relative;
`,Q$e=R(U)`
  width: max-content;
  &[data-hidden='true'] {
    visibility: hidden;
    position: relative;
    margin-top: -1px;
    height: 1px;
  }
`,Pvn=R(J$e)`
  ${Ovn}
`;function Fvn(e){return!!e}const eOe=f.forwardRef(function(e,t){const{children:n,collapsed:r,disableRestoreFocusOnClose:i,onMenuClose:a,menuButtonProps:o,...s}=e,l=f.useMemo(()=>f.Children.toArray(n).filter(Fvn),[n]),c=f.useMemo(()=>(o==null?void 0:o.button)||u.jsx(wi,{}),[o]);return r?u.jsx(_Y,{ref:t,disableRestoreFocusOnClose:i,menuButton:c,menuButtonProps:o,menuOptions:l,onMenuClose:a}):u.jsx(Nvn,{...s,ref:t,disableRestoreFocusOnClose:i,menuButtonProps:o,menuOptions:l,onMenuClose:a})}),Nvn=f.forwardRef(function(e,t){const{collapseText:n=!0,disableRestoreFocusOnClose:r,gap:i,menuOptions:a,menuButtonProps:o,onMenuClose:s,...l}=e,[c,d]=f.useState(null),[h,p]=f.useState({}),[m,g]=f.useState({}),v=f.useMemo(()=>({root:c,threshold:.99,rootMargin:"2px"}),[c]),b=f.useMemo(()=>a.map(T=>T.key),[a]),y=f.useMemo(()=>[...Ug(b,Object.keys(h)),...Ug(b,Object.keys(m))],[b,h,m]),x=f.useMemo(()=>a.filter(T=>{const j=h[T.key];return j&&!j.intersects}),[h,a]),w=f.useCallback((T,j)=>{p(I=>{const A=j.key;if(A===null)throw new Error("Expected element to have a non-null key");const $={intersects:T.isIntersecting,element:j},D=I[A];return!D||D.intersects!==$.intersects?{...I,[A]:$}:I})},[]),C=f.useCallback((T,j)=>{g(I=>{const A=j.key;if(A===null)throw new Error("Expected child element to have a non-null key");const $=I[A],D={intersects:T.isIntersecting,element:j};return($==null?void 0:$.intersects)===D.intersects?I:{...I,[A]:D}})},[]),S=f.useMemo(()=>a.map(T=>{const{collapsedProps:j}=T.props,I=j,A=n?void 0:T.props.text;return f.cloneElement(T,{...I,text:A})}),[a,n]),_=f.useMemo(()=>a.filter(T=>{const j=m[T.key];return(j==null?void 0:j.intersects)===!1}),[a,m]),E=x.length>0?S.filter(T=>{const j=m[T.key];return(j==null?void 0:j.intersects)===!0}):a,k=f.useMemo(()=>(o==null?void 0:o.button)||u.jsx(wi,{}),[o]);return u.jsxs(Mvn,{align:"center","data-ui":"CollapseMenu",overflow:"hidden",sizing:"border",ref:t,...l,children:[u.jsxs(Rvn,{direction:"column",flex:1,justify:"center",ref:d,children:[u.jsx(Q$e,{gap:i,children:y.length===0&&E.map((T,j)=>{const{dividerBefore:I,tooltipText:A="",tooltipProps:$={}}=T.props,D=!T.key||!(T.key in h)||_.includes(T);return u.jsxs(f.Fragment,{children:[I&&j!==0&&u.jsx(X$e,{hidden:D}),u.jsx(gt,{portal:!0,disabled:!A,content:A,...$,children:u.jsx(U,{children:f.cloneElement(T,{disabled:T.props.disabled||D,"aria-hidden":D})})})]},T.key)})}),u.jsx(Rue,{gap:i,elements:a,intersectionOptions:v,onIntersectionChange:w}),u.jsx(Rue,{gap:i,elements:S,intersectionOptions:v,onIntersectionChange:C})]}),_.length>0&&u.jsx(U,{marginLeft:i,children:u.jsx(_Y,{disableRestoreFocusOnClose:r,menuButton:k,menuButtonProps:o,menuOptions:_,onMenuClose:s})})]})}),Rue=f.memo(function(e){const{elements:t,gap:n,intersectionOptions:r,onIntersectionChange:i}=e;return u.jsx(Q$e,{"data-hidden":!0,"aria-hidden":"true",gap:n,overflow:"hidden",children:t.map((a,o)=>{const{dividerBefore:s}=a.props;return u.jsxs(f.Fragment,{children:[s&&o!==0&&u.jsx(X$e,{hidden:!0}),u.jsx(Pvn,{options:r,onIntersectionChange:l=>i(l[0],a),children:u.jsx(U,{children:f.cloneElement(a,{disabled:!0,"aria-hidden":!0})})})]},a.key)})})}),tOe=f.forwardRef(function(e,t){const{collapsedProps:n={},expandedProps:r={},tooltipProps:i={},tooltipText:a,dividerBefore:o,...s}=e;return u.jsx(fe,{"data-ui":"CollapseMenuButton",...s,ref:t})}),Lvn=R.div`
  width: 1em;
  height: 1em;
  border-radius: inherit;
  background-origin: content-box;
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;
  transform: scale(0.7);
`;function Bvn(e){const{icon:t,active:n}=e,r=f.useMemo(()=>({backgroundImage:`url(${t})`,filter:n?"invert(100%)":"invert(0%)"}),[n,t]);return u.jsx(Lvn,{style:r})}function Vvn(e,t,n,r){return e.schemaTypes.decorators.map(i=>{const a=Object.keys(n.marks||{}).find(s=>{var l;return((l=n.marks)==null?void 0:l[s])===i.value});let o=[];return a&&(o=[a]),{type:"format",disabled:t,icon:i==null?void 0:i.icon,key:i.value,handle:()=>{Ae.toggleMark(e,i.value),Ae.focus(e)},hotkeys:o,title:i.i18nTitleKey&&r?r(i.i18nTitleKey):i.title}})}function zvn(e,t,n){return e.schemaTypes.lists.map(r=>({type:"listStyle",key:r.value,disabled:t,icon:r==null?void 0:r.icon,handle:()=>{Ae.toggleList(e,r.value)},title:r.i18nTitleKey&&n?n(r.i18nTitleKey):r.title}))}function Uvn(e){return Jn(e,"icon")||Jn(e,"type.icon")||Jn(e,"type.to.icon")||Jn(e,"type.to[0].icon")}function Hvn(e,t,n,r){const i=e.schemaTypes,a=Ae.focusChild(e),o=a&&a.text;return i.annotations.map(s=>({type:"annotation",disabled:!o||t,icon:Uvn(s),key:s.name,handle:l=>{l?(Ae.removeAnnotation(e,s),Ae.focus(e)):n(s)},title:s.i18nTitleKey&&r?r(s.i18nTitleKey):s.title||O0(s.name)}))}function Wvn(e,t,n,r,i){return[{name:"format",actions:Vvn(e,t,r,i)},{name:"list",actions:zvn(e,t,i)},{name:"annotation",actions:Hvn(e,t,n,i)}]}function Gvn(e){return e.styles.map(t=>({key:`style-${t.value}`,style:t.value,styleComponent:t&&t.component,title:t.title,i18nTitleKey:t.i18nTitleKey}))}function Pue(e,t){const n=Jn(e,"to[0].icon");return e.icon||e.type&&e.type.icon||n||t}function Yvn(e,t,n,r){const i=e.blockObjects.map((o,s)=>({handle:()=>n(o),icon:Pue(o,oB),inline:!1,key:`block-${s}`,type:o})),a=e.inlineObjects.map((o,s)=>({handle:()=>r(o),icon:Pue(o,bB),inline:!0,key:`inline-${s}`,type:o}));return i.concat(a).filter(o=>{var s;return!((s=o.type)!=null&&s.hidden)})}const qvn={link:tl},Kvn={strong:sB,em:xB,"strike-through":MB,underline:FB,code:cB},Zvn={number:TB,bullet:ag};function Xvn(e,t){return e.icon?typeof e.icon=="string"?u.jsx(Bvn,{active:t,icon:e.icon}):e.icon:e.type==="annotation"?qvn[e.key]||Hl:e.type==="listStyle"?Zvn[e.key]||Hl:Kvn[e.key]||Hl}function wM(){const e=Wi(),t=M0();return f.useMemo(()=>Ae.focusBlock(e),[e,t])}function Jvn({hotkeys:e,onMemberOpen:t,resolveInitialValue:n,disabled:r}){const i=Wi(),{t:a}=Y(),o=f.useCallback(async s=>{const l=await n(s),c=Ae.addAnnotation(i,s,l);c&&c.markDefPath&&t(c.markDefPath)},[i,t,n]);return f.useMemo(()=>i?Wvn(i,r,o,e,a):[],[r,i,o,e,a])}function Qvn({actions:e}){const t=Wi(),n=M0();return Ha(f.useMemo(()=>e.filter(r=>r.type==="annotation"?Ae.isAnnotationActive(t,r.key):r.type==="listStyle"?Ae.hasListStyle(t,r.key):Ae.isMarkActive(t,r.key)).map(r=>r.key),[t,n]))}function e1n({items:e}){const t=Wi(),n=wM(),r=M0();return Ha(f.useMemo(()=>e.filter(i=>Ae.hasBlockStyle(t,i.style)).map(i=>i.style),[n,r]))}const t1n=f.memo(eOe),n1n={constrainSize:!0,portal:!0},r1n=f.memo(function(e){const{disabled:t,groups:n,isFullscreen:r,collapsed:i}=e,a=wM(),o=Wi(),s=M0(),{t:l}=Y(),c=s&&Pn(s.anchor.path[0])&&Pn(s.focus.path[0])?s.anchor.path[0]._key!==(s==null?void 0:s.focus.path[0]._key):(s==null?void 0:s.anchor.path[0])!==(s==null?void 0:s.focus.path[0]),d=(a==null?void 0:a._type)!==o.schemaTypes.block.name,h=!d&&Array.isArray(a.children)&&a.children.length===1&&(a==null?void 0:a.children[0].text)==="",p=t||d,m=f.useMemo(()=>n.reduce((w,C)=>w.concat(C.actions.map((S,_)=>_===0?{...S,firstInGroup:!0}:S)),[]),[n]),g=Qvn({actions:m}),v=f.useCallback(()=>{Ae.focus(o)},[o]),b=r?"bottom":"top",y=f.useMemo(()=>m.map(w=>{const C=w.type==="annotation"&&(h||c),S=h?l("user-menu.action.portable-text.annotation-disabled_empty-block",{name:w.title||w.key}):l("user-menu.action.portable-text.annotation-disabled_multiple-blocks",{name:w.title||w.key}),_=g.includes(w.key);return u.jsx(tOe,{"aria-label":l("toolbar.portable-text.action-button-aria-label",{action:w.title||w.key}),"data-testid":`action-button-${w.key}`,disabled:p||C,mode:"bleed",dividerBefore:w.firstInGroup,icon:Xvn(w,_),onClick:()=>w.handle(_),selected:_,text:w.title||w.key,tooltipText:C?S:w.title||w.key,tooltipProps:{disabled:p,placement:b,portal:"default"}},w.key)}),[m,g,p,h,c,l,b]),x=f.useMemo(()=>({button:u.jsx(wi,{"data-testid":"action-menu-button",disabled:p,tooltipProps:{placement:b}}),popover:n1n}),[p,b]);return u.jsx(t1n,{"data-testid":"action-menu-auto-collapse-menu",collapsed:i,disableRestoreFocusOnClose:!0,gap:1,menuButtonProps:x,onMenuClose:v,children:y})}),i1n=f.memo(Kt),a1n=R(S0)`
  // Change the border color variable used by BlockQuote
  // to make the border visible when the MenuItem is selected
  &[data-selected] {
    [data-option='blockquote'] {
      --card-border-color: var(--card-muted-fg-color);
    }
  }
`,o1n={h1:e=>u.jsx(U$e,{children:e}),h2:e=>u.jsx(H$e,{children:e}),h3:e=>u.jsx(W$e,{children:e}),h4:e=>u.jsx(G$e,{children:e}),h5:e=>u.jsx(Y$e,{children:e}),h6:e=>u.jsx(q$e,{children:e}),normal:e=>u.jsx(SY,{children:e}),blockquote:e=>u.jsx(K$e,{"data-option":"blockquote",children:e})},s1n=e=>e.preventDefault(),Qx={key:"style-none",style:"",title:"No style",i18nTitleKey:"inputs.portable-text.style.none"},l1n=f.memo(function(e){const{disabled:t,items:n,boundaryElement:r}=e,i=Wi(),a=wM(),{t:o}=Y(),s={constrainSize:!0,placement:"bottom-start",portal:"default",referenceBoundary:r},l=t||(a?i.schemaTypes.block.name!==a._type:!1),c=e1n({items:n}),{activeItems:d,items:h}=f.useMemo(()=>{const y=n.filter(w=>c.includes(w.style));let x=n;return y.length===0&&x.length>1&&(x=x.concat([Qx]),y.push(Qx)),{activeItems:y,items:x}},[c,n]),p=f.useMemo(()=>d.length>1?o("inputs.portable-text.style.multiple"):d.length!==1?Qx.i18nTitleKey?o(Qx.i18nTitleKey):Qx.title:d[0].i18nTitleKey?o(d[0].i18nTitleKey):d[0].title,[d,o]),m=f.useCallback(y=>{a&&y.style!==a.style&&(Ae.toggleBlockStyle(i,y.style),Ae.focus(i))},[i,a]),g=f.useCallback(y=>{const{style:x,styleComponent:w}=y,C=o1n[x],S=y.i18nTitleKey?o(y.i18nTitleKey):(y==null?void 0:y.title)||y.style,_=typeof w=="function"?w:void 0;return C&&!_?C(S):_?u.jsx(_,{children:S}):u.jsx(N,{children:S})},[o]),v=f.useMemo(()=>u.jsx(fe,{disabled:l,iconRight:Ii,justify:"space-between",mode:"bleed",onClick:s1n,text:p,width:"fill"}),[l,p]),b=f.useMemo(()=>u.jsx(Ot,{disabled:l,children:h.map(y=>u.jsx(a1n,{pressed:d.includes(y),onClick:l?void 0:()=>m(y),children:g(y)},y.key))}),[l,d,m,h,g]);return u.jsx(i1n,{popover:s,id:"block-style-select",button:v,menu:b})}),u1n=f.memo(eOe),c1n={constrainSize:!0,portal:!0},d1n=f.memo(function(e){const{disabled:t,items:n,isFullscreen:r,collapsed:i}=e,{t:a}=Y(),o=wM(),s=Wi(),l=o&&o._type!==s.schemaTypes.block.name,c=f.useCallback(()=>{Ae.focus(s)},[s]),d=r?"bottom":"top",h=f.useMemo(()=>n.map(m=>{const g=m.type.title||gEe(m.type.name);return u.jsx(tOe,{"aria-label":a(m.inline?"inputs.portable-text.action.insert-inline-object-aria-label":"inputs.portable-text.action.insert-block-aria-label",{typeName:g}),mode:"bleed",disabled:t||l&&m.inline===!0,icon:m.icon,onClick:m.handle,text:g,tooltipText:a(m.inline?"inputs.portable-text.action.insert-inline-object":"inputs.portable-text.action.insert-block",{typeName:g}),tooltipProps:{disabled:t,placement:d,portal:"default"}},m.key)}),[t,l,n,a,d]),p=f.useMemo(()=>({button:u.jsx(wi,{"data-testid":"insert-menu-button",disabled:t,tooltipProps:{placement:d}}),popover:c1n}),[t,d]);return u.jsx(u1n,{"data-testid":"insert-menu-auto-collapse-menu",collapsed:i,collapseText:!1,disableRestoreFocusOnClose:!0,gap:1,menuButtonProps:p,onMenuClose:c,children:h})}),f1n=R(U)`
  width: 100%;
`,h1n=R(L)`
  width: 8em;
`,p1n=R(U)`
  border-right: 1px solid var(--card-border-color);
`,m1n=R(L)`
  ${({$withInsertMenu:e})=>e&&ce`
      max-width: max-content;
      border-right: 1px solid var(--card-border-color);
    `}
`,g1n=R(L)`
  border-left: 1px solid var(--card-border-color);
`,v1n=300,y1n=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),b1n=f.memo(function({actionGroups:e,blockStyles:t,collapsible:n,disabled:r,insertMenuItems:i,isFullscreen:a,onToggleFullscreen:o}){const{t:s}=Y(),l=e.reduce((b,y)=>b+y.actions.length,0)>0,c=i.length>0,[d,h]=f.useState(null),p=Ng(d),m=n&&p?(p==null?void 0:p.width)<400:!1,g=t.length>1;o3e({rootElement:d});const v=f.useCallback(b=>{b.preventDefault()},[]);return u.jsxs(f1n,{align:"center",ref:h,onMouseDown:v,children:[g&&u.jsx(p1n,{flex:m?1:void 0,children:u.jsx(h1n,{padding:a?2:1,"data-testid":"block-style-select",children:u.jsx(l1n,{disabled:r,items:t,boundaryElement:d})})}),u.jsxs(U,{flex:1,children:[l&&u.jsx(m1n,{flex:m?void 0:1,padding:a?2:1,$withInsertMenu:c,children:u.jsx(r1n,{disabled:r,collapsed:m,groups:e,isFullscreen:a})}),c&&u.jsx(L,{flex:m?void 0:1,padding:a?2:1,children:u.jsx(d1n,{disabled:r,collapsed:m,items:i,isFullscreen:a})})]}),u.jsx(g1n,{padding:a?2:1,children:u.jsx(fe,{"aria-label":s("inputs.portable-text.action.expand-editor"),icon:a?dB:vB,mode:"bleed",onClick:o,tooltipProps:{content:s(a?"inputs.portable-text.action.collapse-editor":"inputs.portable-text.action.expand-editor"),hotkeys:[`${y1n?"Cmd":"Ctrl"}`,"Enter"],placement:a?"bottom":"top",portal:"default"}})})]})});function x1n(e){const{collapsible:t,hotkeys:n,isFullscreen:r,readOnly:i,onMemberOpen:a,onToggleFullscreen:o}=e,s=Wi(),l=M0(),c=PY(),d=i||!l,{push:h}=Pr(),p=f.useCallback(x=>{let w=!1;const C=setTimeout(()=>{w=!0,h({id:"resolving-initial-value",status:"info",title:"Resolving initial value…"})},v1n);return c(x,{}).then(S=>(w&&h({id:"resolving-initial-value",status:"info",duration:500,title:"Initial value resolved"}),S)).catch(S=>{h({title:"Could not resolve initial value",id:"resolving-initial-value",description:`Unable to resolve initial value for type: ${x.name}: ${S.message}.`,status:"error"})}).finally(()=>clearTimeout(C))},[h,c]),m=f.useCallback(async x=>{const w=await p(x),C=Ae.insertBlock(s,x,w);C&&a(C)},[s,a,p]),g=f.useCallback(async x=>{const w=await p(x),C=Ae.insertChild(s,x,w);C&&a(C)},[s,a,p]),v=Jvn({hotkeys:n,onMemberOpen:a,resolveInitialValue:p,disabled:!0}),b=f.useMemo(()=>Gvn(s.schemaTypes),[s]),y=f.useMemo(()=>Yvn(s.schemaTypes,d,m,g),[d,s,m,g]);return u.jsx(b1n,{actionGroups:v,blockStyles:b,collapsible:t,disabled:d,insertMenuItems:y,isFullscreen:r,onToggleFullscreen:o})}const w1n={outline:"none"},C1n="root",S1n=R.span(e=>{const{color:t}=Ee(e.theme);return ce`
    color: ${t.input.default.enabled.placeholder};
  `}),_1n=e=>u.jsx(ovn,{...e}),E1n=e=>u.jsx(Ivn,{...e}),k1n=e=>u.jsx(jvn,{...e});function T1n(e){const{elementRef:t,hideToolbar:n,hotkeys:r,initialSelection:i,isActive:a,isFullscreen:o,onCopy:s,onItemOpen:l,onPaste:c,onToggleFullscreen:d,path:h,readOnly:p,rangeDecorations:m,renderAnnotation:g,renderBlock:v,renderChild:b,renderEditable:y,scrollElement:x,setPortalElement:w,setScrollElement:C,ariaDescribedBy:S}=e,{id:_}=pd(),{t:E}=Y(),{isTopLayer:k}=Ds(),{element:T}=C0();Xo(f.useCallback(M=>{!k||!o||M.key==="Escape"&&d()},[d,o,k]));const j=f.useCallback(()=>u.jsx(S1n,{"data-testid":"pt-input-placeholder",children:E("inputs.portable-text.empty-placeholder")}),[E]),I=Avn(),A=Tvn(x),$=f.useMemo(()=>{const M={"aria-describedby":S,hotkeys:r,onCopy:s,onPaste:c,rangeDecorations:m,ref:t,renderAnnotation:g,renderBlock:v,renderChild:b,renderDecorator:_1n,renderListItem:k1n,renderPlaceholder:j,renderStyle:E1n,scrollSelectionIntoView:A,selection:i,spellCheck:I,style:w1n},O=F=>u.jsx(Y5e,{...M,...Pa(F,["renderDefault"])});return y?y({...M,renderDefault:O}):O(M)},[S,t,r,i,s,c,m,g,v,b,y,j,A,I]),D=f.useCallback(M=>{l(h.concat(M))},[l,h]);return u.jsxs(Cvn,{"data-fullscreen":o,"data-testid":"pt-editor",children:[a&&!n&&u.jsx(Xa,{children:u.jsx(Svn,{"data-testid":"pt-editor__toolbar-card",shadow:1,children:u.jsx(x1n,{collapsible:_===C1n,hotkeys:r,isFullscreen:o,onMemberOpen:D,onToggleFullscreen:d,readOnly:p})})}),u.jsxs(_vn,{flex:1,tone:p?"transparent":"default",children:[u.jsx(Evn,{ref:C,children:u.jsx("div",{children:u.jsx(kvn,{$isFullscreen:o,tone:p?"transparent":"default",children:u.jsx(Cf,{element:o?x:T,children:$})})})}),u.jsx("div",{"data-portal":"",ref:w})]})]})}function A1n(e){const t=Wi(),[n]=f.useState(()=>e);return n!==e&&console.warn("Make sure that hotkeys are a stable object across renders, or there will be issues with key handling in the Portable Text Editor."),f.useMemo(()=>{const r={marks:{}};return t.schemaTypes.decorators.forEach(i=>{switch(i.value){case"strong":r.marks["mod+b"]=i.value;break;case"em":r.marks["mod+i"]=i.value;break;case"underline":r.marks["mod+u"]=i.value;break;case"code":r.marks["mod+'"]=i.value;break}}),{marks:{...r.marks,...(n||{}).marks},custom:n.custom}},[t,n])}function j1n(e){const{focusPath:t,boundaryElement:n,onItemClose:r}=e,i=kun(),a=Wi(),o=M0();f.useLayoutEffect(()=>{var s,l,c,d,h;if(t.length===0||o!=null&&o.focus.path&&vr(o.focus.path,t.slice(0,o.focus.path.length)))return;const p=i.find(v=>v.member.item.focused),m=i.find(v=>v.member.open),g=p||m;if(g&&(s=g.elementRef)!=null&&s.current){n&&(Gg(n,{scrollMode:"if-needed",block:"start",inline:"start"}),Gg(g.elementRef.current,{scrollMode:"if-needed",boundary:n,block:"nearest",inline:"start"}));const v=g.kind==="textBlock",b=t.length===1;if(v||b){const y=v&&Uu(t[2])?t[2]._key:void 0,x=y&&Array.isArray((l=g.node.value)==null?void 0:l.children)?(c=g.node.value)==null?void 0:c.children.find(_=>_._key===y):void 0,w=x&&x._type==="span"&&t.length===4&&t[1]==="children"&&t[3]==="text"||!1,C=v&&(t.length===3&&t[1]==="children"||w);let S=[];C?S=t.slice(0,3):v&&b&&Array.isArray((d=g.node.value)==null?void 0:d.children)?S=[t[0],"children",{_key:(h=g.node.value)==null?void 0:h.children[0]._key}]:b&&(S=[{_key:g.key}]),S.length&&(Ae.select(a,{anchor:{path:S,offset:0},focus:{path:S,offset:0}}),v&&Ae.focus(a))}}},[n,a,t,r,i,o==null?void 0:o.focus.path])}const I1n=R(te)(O1n),D1n=R.span`
  display: block;
  max-width: calc(5em + 80px);
  position: relative;
`,$1n=R(L)`
  max-width: 250px;
`;function O1n({theme:e}){var t,n,r;const{color:i,radius:a}=e.sanity;return ce`
    line-height: 0;
    border-radius: ${a[2]}px;
    padding: 2px;
    box-shadow: inset 0 0 0 1px var(--card-border-color);
    height: calc(1em - 1px);
    margin-top: 0.0625em;
    cursor: default;

    &:not([hidden]) {
      display: inline-flex;
      align-items: center;
      vertical-align: top;
    }

    &[data-ready-only] {
      cursor: default;
    }

    &[data-focused] {
      box-shadow: inset 0 0 0 1px ${(t=i.selectable)==null?void 0:t.primary.selected.border};
      color: ${(n=i.selectable)==null?void 0:n.primary.pressed.fg};
    }

    &[data-selected] {
      background-color: ${(r=i.selectable)==null?void 0:r.primary.pressed.bg};
    }

    &:not([data-focused]):not([data-selected]) {
      @media (hover: hover) {
        &:hover {
          --card-border-color: ${i.input.default.hovered.border};
        }
      }
    }

    &[data-markers] {
      --card-bg-color: ${i.dark?Qe.purple[950].hex:Qe.purple[50].hex};
    }

    &[data-warning] {
      --card-bg-color: ${i.muted.caution.hovered.bg};

      @media (hover: hover) {
        &:hover {
          --card-border-color: ${i.muted.caution.hovered.border};
        }
      }
    }

    &[data-invalid] {
      --card-bg-color: ${i.input.invalid.enabled.bg};
      --card-border-color: ${i.input.invalid.enabled.border};

      @media (hover: hover) {
        &:hover {
          --card-border-color: ${i.input.invalid.hovered.border};
        }
      }
    }
  `}const M1n=["top","bottom"];function R1n(e){const{floatingBoundary:t,onClosePopover:n,onEdit:r,onDelete:i,referenceBoundary:a,referenceElement:o,title:s,open:l}=e,{sanity:c}=ib(),{t:d}=Y(),h=f.useRef(null),p=f.useRef(null),m=c.color.dark?"light":"dark";Xo(f.useCallback(b=>{b.key==="Escape"&&(b.preventDefault(),b.stopPropagation(),n())},[n]));const g=f.useCallback(b=>{var y;if(!((y=p.current)!=null&&y.disabled)){b.preventDefault(),b.stopPropagation();try{i(b)}catch(x){console.error(x)}finally{p.current&&(p.current.disabled=!0)}}},[i]),v=f.useMemo(()=>u.jsx(L,{padding:1,children:u.jsxs(An,{space:1,children:[u.jsx(L,{padding:2,children:u.jsx(N,{weight:"medium",size:1,children:s})}),u.jsx(fe,{"aria-label":d("inputs.portable-text.inline-object.edit-aria-label"),icon:Yc,mode:"bleed",onClick:r,ref:h,tooltipProps:{content:d("inputs.portable-text.inline-object.edit")}}),u.jsx(fe,{"aria-label":d("inputs.portable-text.inline-object.remove-aria-label"),ref:p,icon:Kr,mode:"bleed",onClick:g,tone:"critical",tooltipProps:{content:d("inputs.portable-text.inline-object.remove")}})]})}),[g,r,s,d]);return u.jsx(Fn,{constrainSize:!0,content:v,fallbackPlacements:M1n,floatingBoundary:t,open:l,placement:"top",portal:!0,referenceBoundary:a,referenceElement:o,scheme:m})}const P1n=e=>{var t;const{floatingBoundary:n,focused:r,onItemClose:i,onItemOpen:a,onPathFocus:o,path:s,readOnly:l,referenceBoundary:c,relativePath:d,renderAnnotation:h,renderBlock:p,renderCustomMarkers:m,renderField:g,renderItem:v,renderInlineBlock:b,renderInput:y,renderPreview:x,schemaType:w,selected:C,value:S}=e,{Markers:_}=pd().__internal.components,E=Wi(),k=tM(s),T=aM(qn(s)),{validation:j,hasError:I,hasInfo:A,hasWarning:$}=eM(T==null?void 0:T.node),D=E.schemaTypes.block,M=k.length>0,O=f.useMemo(()=>({anchor:{path:d,offset:0},focus:{path:d,offset:0}}),[d]),F=f.useCallback(()=>{Ae.delete(E,O,{mode:"children"}),Ae.focus(E)},[O,E]),P=f.useCallback(()=>{T&&(Ae.blur(E),a(T.node.path))},[E,a,T]),V=f.useCallback(()=>{i(),Ae.select(E,O),Ae.focus(E)},[i,E,O]),H=!!(T!=null&&T.member.open),W=T==null?void 0:T.input,G=(T==null?void 0:T.node.path)||cn,X=(t=T==null?void 0:T.elementRef)==null?void 0:t.current,z=Vb(s,!0),q=f.useMemo(()=>z.filter(Q=>vr(Q.path,s)),[s,z]),Z=f.useMemo(()=>({__unstable_floatingBoundary:n,__unstable_referenceBoundary:c,__unstable_referenceElement:X,children:W,focused:r,onClose:V,onOpen:P,onPathFocus:o,onRemove:F,open:H,markers:k,member:T==null?void 0:T.member,parentSchemaType:D,path:G,presence:q,readOnly:!!l,renderAnnotation:h,renderBlock:p,renderDefault:nOe,renderField:g,renderInlineBlock:b,renderInput:y,renderItem:v,renderPreview:x,schemaType:w,selected:C,value:S,validation:j}),[n,r,W,H,k,T==null?void 0:T.member,G,V,P,o,F,D,l,c,X,h,p,g,b,y,v,x,q,w,C,j,S]),K=I||$||A||M,J=f.useMemo(()=>K&&u.jsx($1n,{children:u.jsx(_,{markers:k,validation:j,renderCustomMarkers:m})})||null,[_,k,m,K,j]);return f.useMemo(()=>u.jsx("span",{ref:T==null?void 0:T.elementRef,contentEditable:!1,children:u.jsx(gt,{placement:"bottom",portal:"editor",disabled:H?!0:!K,content:J,children:b&&u.jsx("span",{style:{position:"relative"},children:b(Z)})})}),[Z,T==null?void 0:T.elementRef,b,J,K,H])},nOe=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:i,focused:a,markers:o,onClose:s,onOpen:l,onRemove:c,open:d,readOnly:h,renderPreview:p,schemaType:m,selected:g,validation:v,value:b}=e,{t:y}=Y(),x=o.length>0,[w,C]=f.useState(!1),S=(m==null?void 0:m.title)||m.name,_=v.filter(I=>I.level==="error").length>0,E=v.filter(I=>I.level==="warning").length>0,k=f.useCallback(()=>{C(!1),l()},[l]);f.useEffect(()=>{C(d?!1:!!a)},[a,d]);const T=f.useMemo(()=>{if(_)return"critical";if(E)return"caution";if(g||a)return"primary"},[a,_,E,g]),j=f.useCallback(()=>{C(!1)},[]);return u.jsxs(u.Fragment,{children:[u.jsx(I1n,{"aria-label":y("inputs.portable-text.inline-block.aria-label"),"data-focused":a||void 0,"data-invalid":_||void 0,"data-markers":x||void 0,"data-read-only":h||void 0,"data-selected":g||void 0,"data-warning":E||void 0,forwardedAs:"span",onClick:h?k:void 0,onDoubleClick:k,tone:T,children:u.jsx(D1n,{children:p({layout:"inline",schemaType:m,skipVisibilityCheck:!0,value:b,fallbackTitle:"Click to edit"})})}),r&&u.jsx(R1n,{floatingBoundary:t,onClosePopover:j,onDelete:c,onEdit:k,open:w,referenceBoundary:n,referenceElement:r,title:S}),d&&u.jsx(oY,{defaultType:"popover",onClose:s,autoFocus:a,floatingBoundary:t,referenceBoundary:n,referenceElement:r,schemaType:m,children:i})]})};function F1n(e){const{changed:t,elementRef:n,focused:r,focusPath:i=cn,elementProps:a,hasFocusWithin:o,hideToolbar:s,hotkeys:l,isActive:c,isFullscreen:d,onActivate:h,onCopy:p,onItemClose:m,onItemOpen:g,onItemRemove:v,onPaste:b,onPathFocus:y,onToggleFullscreen:x,onUpload:w,path:C,rangeDecorations:S,readOnly:_,renderAnnotation:E,renderBlock:k,renderBlockActions:T,renderCustomMarkers:j,renderEditable:I,renderField:A,renderInlineBlock:$,renderInput:D,renderItem:M,renderPreview:O,resolveUploader:F,value:P}=e,V=Wi(),H=C0().element,[W,G]=f.useState(null),[X,z]=f.useState(null),q=f.useCallback(()=>{x()},[x]),Z=f.useMemo(()=>({...l,custom:{"mod+enter":x,...(l==null?void 0:l.custom)||{}}}),[l,x]),K=A1n(Z),J=P&&T?T:void 0,Q=P&&j?j:void 0,[re,ae]=f.useState(null),ne=f.useCallback(he=>{const{children:ve,focused:Ce,path:Te,selected:Ge,schemaType:Je,value:tt}=he;return u.jsx(wvn,{floatingBoundary:H,focused:Ce,isFullscreen:d,onItemClose:m,onItemOpen:g,onItemRemove:v,onPathFocus:y,path:C.concat(Te),readOnly:_,referenceBoundary:X,renderAnnotation:E,renderField:A,renderInlineBlock:$,renderInput:D,renderItem:M,renderBlockActions:J,renderCustomMarkers:Q,renderPreview:O,renderBlock:k,schemaType:Je,selected:Ge,value:tt,children:ve})},[J,Q,H,d,m,g,v,y,C,_,E,k,A,$,D,M,O,X]),se=f.useCallback(he=>{const{focused:ve,path:Ce,selected:Te,schemaType:Ge,value:Je}=he;return u.jsx(cbn,{floatingBoundary:H,focused:ve,isFullscreen:d,onItemClose:m,onItemOpen:g,onItemRemove:v,onPathFocus:y,path:C.concat(Ce),readOnly:_,referenceBoundary:X,relativePath:Ce,renderAnnotation:E,renderBlock:k,renderBlockActions:J,renderCustomMarkers:Q,renderField:A,renderInlineBlock:$,renderInput:D,renderItem:M,renderPreview:O,schemaType:Ge,selected:Te,value:Je})},[H,X,d,m,g,v,y,C,_,E,k,J,Q,A,$,D,M,O]),le=f.useCallback(he=>{const{value:ve}=he;return ve._type===V.schemaTypes.block.name?ne(he):se(he)},[V.schemaTypes.block.name,se,ne]),oe=f.useCallback(he=>{const{children:ve,focused:Ce,path:Te,selected:Ge,schemaType:Je,value:tt}=he;return tt._type===V.schemaTypes.span.name?ve:u.jsx(P1n,{floatingBoundary:H,focused:Ce,onItemClose:m,onItemOpen:g,onPathFocus:y,path:C.concat(Te),readOnly:_,referenceBoundary:X,relativePath:Te,renderAnnotation:E,renderBlock:k,renderCustomMarkers:j,renderField:A,renderInlineBlock:$,renderInput:D,renderItem:M,renderPreview:O,schemaType:Je,selected:Ge,value:tt})},[V.schemaTypes.span.name,H,m,g,y,C,_,X,E,k,j,A,$,D,M,O]),ge=f.useCallback(he=>{const{children:ve,focused:Ce,path:Te,selected:Ge,schemaType:Je,value:tt}=he;return u.jsx(Vun,{editorNodeFocused:Ce,floatingBoundary:H,focused:!!r,onItemClose:m,onItemOpen:g,onPathFocus:y,path:C.concat(Te),readOnly:_,referenceBoundary:X,renderAnnotation:E,renderBlock:k,renderCustomMarkers:j,renderField:A,renderInlineBlock:$,renderInput:D,renderItem:M,renderPreview:O,schemaType:Je,selected:Ge,value:tt,children:ve})},[H,X,r,m,g,y,C,_,E,k,j,A,$,D,M,O]),_e=a["aria-describedby"],[Me]=f.useState(()=>{if(o)return{anchor:{path:i,offset:0},focus:{path:i,offset:0}}}),me=f.useMemo(()=>u.jsx(fM,{types:V.schemaTypes.portableText.of,resolveUploader:F,onUpload:w,tabIndex:-1,children:u.jsx(T1n,{ariaDescribedBy:_e,elementRef:n,initialSelection:Me,hideToolbar:s,hotkeys:K,isActive:c,isFullscreen:d,onItemOpen:g,onCopy:p,onPaste:b,onToggleFullscreen:q,path:C,rangeDecorations:S,readOnly:_,renderAnnotation:ge,renderBlock:le,renderChild:oe,renderEditable:I,setPortalElement:ae,scrollElement:X,setScrollElement:z})}),[_e,V.schemaTypes.portableText.of,K,ge,le,oe,n,q,s,Me,c,d,p,g,b,C,w,F,S,_,I,X]),ye=Gf(),De=f.useMemo(()=>({collapsed:W,default:ye.element,editor:re,expanded:ye.element}),[ye.element,re,W]);j1n({focusPath:i,boundaryElement:X,onItemClose:m});const be=r||o;return u.jsx(yM,{legacyEditing:!0,children:u.jsx(lb,{__unstable_elements:De,element:ye.element,children:u.jsx(evn,{onActivate:h,isOverlayActive:!c,children:u.jsx(eo,{disabled:d,hasFocus:!!r,isChanged:t,path:C,children:u.jsxs(tvn,{"data-focused":be?"":void 0,"data-read-only":_?"":void 0,children:[u.jsx(L,{"data-wrapper":"",ref:G,children:u.jsx(Yp,{__unstable_name:d?"expanded":"collapsed",children:d?u.jsx(nvn,{children:me}):me})}),u.jsx("div",{"data-border":""})]})})})})})}function N1n(e){return u.jsx(tpe.Provider,{value:e.markers,children:e.children})}function L1n(e){return u.jsx(V9.Provider,{value:e.memberItems,children:e.children})}function B1n(e){const{onChange:t,onIgnore:n,resolution:r,readOnly:i}=e,a=Os(),{t:o}=Y(),s=f.useCallback(()=>{r&&(t({type:"mutation",patches:r.patches}),a.log(Z0n,{PTEInvalidValueId:r.i18n.description,PTEInvalidValueDescription:r.description}))},[t,r,a]),l=f.useCallback(()=>{a.log(K0n),n()},[n,a]);return r?u.jsx(ac,{title:u.jsx(u.Fragment,{children:o("inputs.portable-text.invalid-value.title")}),suffix:u.jsxs(ee,{padding:2,children:[r.action&&u.jsxs(Vn,{columns:[1,2],gap:1,children:[u.jsx(St,{mode:"ghost",onClick:l,text:o("inputs.portable-text.invalid-value.ignore-button.text")}),!i&&u.jsx(St,{onClick:s,text:u.jsx(ht,{t:o,i18nKey:r.i18n.action,values:r.i18n.values}),tone:"caution"})]}),u.jsx(L,{padding:3,children:r.action&&u.jsx(N,{as:"p",muted:!0,size:1,children:o("inputs.portable-text.invalid-value.action-disclaimer")})})]}),children:u.jsxs(ee,{space:3,children:[u.jsx(N,{as:"p",muted:!0,size:1,children:u.jsx(ht,{t:o,i18nKey:r.i18n.description,values:r.i18n.values})}),u.jsx(te,{border:!0,overflow:"auto",padding:2,tone:"inherit",children:u.jsx(fi,{language:"json",children:JSON.stringify(r.item,null,2)})})]})}):null}const Mh=6,V1n={animate:{opacity:1,scaleX:1,scaleY:1},exit:{opacity:0,scaleX:0,scaleY:.5},initial:{opacity:0,scaleX:0,scaleY:.5}},z1n={duration:.3,ease:"easeInOut",type:"spring",bounce:0},U1n={animate:{opacity:1},exit:{opacity:0},initial:{opacity:0}},H1n={duration:.2,delay:.15},W1n=R.span(({theme:e,$tints:t})=>{var n;const r=(n=Ee(e))==null?void 0:n.color._dark,i=t[r?400:500].hex,a=t[r?900:50].hex;return ce`
    --presence-cursor-bg: ${i};
    --presence-cursor-fg: ${a};

    border-left: 1px solid transparent;
    border-color: var(--presence-cursor-bg);
    margin-left: -1px;
    position: relative;
    word-break: normal;
    white-space: normal;
    mix-blend-mode: unset;
    pointer-events: none;
  `}),G1n=R.div`
  background-color: var(--presence-cursor-bg);
  border-radius: 50%;
  width: ${Mh}px;
  height: ${Mh}px;
  position: absolute;
  top: -${Mh-1}px;
  left: -0.5px;
  transform: translateX(-50%);
  mix-blend-mode: unset;
  z-index: 0;
  pointer-events: all;

  // Increase the hit area of the cursor dot
  &:before {
    content: '';
    position: absolute;
    top: -${Mh/2}px;
    left: 50%;
    transform: translateX(-50%);
    width: ${Mh*2}px;
    height: ${Mh*3}px;
    opacity: 0.5;
  }
`,Y1n=R(Di(L))(({theme:e})=>{var t;const n=(t=Ee(e))==null?void 0:t.radius[4];return ce`
    position: absolute;
    top: -${Mh*1.5}px;
    left: -${Mh*.75}px;
    transform-origin: left;
    white-space: nowrap;
    padding: 3px 6px;
    box-sizing: border-box;
    border-radius: ${n}px;
    background-color: var(--presence-cursor-bg);
    z-index: 1;
    mix-blend-mode: unset;
    user-select: none;
  `}),q1n=R(Di(N))`
  color: var(--presence-cursor-fg);
  mix-blend-mode: unset;
`;function K1n(e){const{children:t,user:n}=e,{tints:r}=$Ie(n.id),[i,a]=f.useState(!1),o=f.useCallback(()=>a(!0),[]),s=f.useCallback(()=>a(!1),[]),l=f.useMemo(()=>{var c;return`presence-cursor-${(c=n.displayName)==null?void 0:c.split(" ").join("-")}`},[n.displayName]);return u.jsxs(u.Fragment,{children:[u.jsxs(W1n,{$tints:r,contentEditable:!1,"data-testid":l,onMouseEnter:o,onMouseLeave:s,children:[u.jsx(hl,{children:i&&u.jsx(Y1n,{animate:"animate",exit:"exit",flex:1,initial:"initial",transition:z1n,variants:V1n,children:u.jsx(q1n,{animate:"animate",exit:"exit",initial:"initial",size:0,transition:H1n,variants:U1n,weight:"medium",children:n.displayName})})}),u.jsx(G1n,{})]}),t]})}function Z1n(e){const{path:t}=e,n=VIe(),[r,i]=f.useState([]),[a,o]=f.useState([]),s=f.useRef(r),l=f.useCallback(c=>{const{rangeDecoration:d,newSelection:h}=c;o(p=>p.map(m=>{var g,v;return((g=m.payload)==null?void 0:g.sessionId)===((v=d.payload)==null?void 0:v.sessionId)?{...d,selection:h}:m}))},[]);return f.useEffect(()=>{const c=n.filter(p=>Ua(t,p.path)&&!wt(t,p.path)),d=c.map(p=>({...p.selection,sessionId:p.sessionId})),h=s.current.map(p=>({...p.selection,sessionId:p.sessionId}));if(!wt(d,h)){const p=c.length>0?c:cn;i(p),s.current=p}},[n,t]),f.useEffect(()=>{const c=r.map(d=>{if(!d.selection)return null;const h={focus:d.selection.focus,anchor:d.selection.focus};return{component:({children:p})=>u.jsx(K1n,{user:d.user,children:p}),selection:h,onMoved:l,payload:{sessionId:d.sessionId}}});o(c.filter(Boolean))},[r,l]),a}function X1n(e,t,n){return e.map(r=>({type:r,uploader:t(r,n),parentType:r})).filter(r=>r.uploader)}function J1n(e){const{path:t}=e,{patchChannel:n}=pd().__internal;return{subscribe:f.useCallback(r=>n.subscribe(({snapshot:i,patches:a})=>{const o=a.filter(s=>S7(s.path,t)).map(s=>({...s,path:s.path.slice(t.length)}));o.length&&r({shouldReset:tyn(t,a),snapshot:yt(i)?nyn(i,t):{},patches:o})}),[t,n])}}function Q1n(e,t){const n=typeof e;return n!==typeof t?!1:n==="object"?Ap(e,t):e===t}function S7(e,t){if(e===t)return!0;if(!Array.isArray(e)||!Array.isArray(t)||e.length<t.length)return!1;for(let n=0,r=t.length;n<r;n++)if(!Q1n(t[n],e[n]))return!1;return!0}function eyn(e,t){return e.length===0||S7(t,e)&&!S7(e,t)}function tyn(e,t){return t.some(n=>eyn(n.path,e)&&(n.type==="set"||n.type==="unset"))}function nyn(e,t){return t.reduce((n,r)=>typeof r=="object"?fIe(n,r):Jn(n,r),e)}function ryn(e){const{editorRef:t,elementProps:n,hotkeys:r,initialActive:i,initialFullscreen:a,markers:o=cn,onChange:s,onCopy:l,onEditorChange:c,onFullScreenChange:d,onInsert:h,onItemRemove:p,onPaste:m,onPathFocus:g,path:v,readOnly:b,rangeDecorations:y,renderBlockActions:x,renderCustomMarkers:w,renderEditable:C,schemaType:S,value:_,resolveUploader:E,onUpload:k}=e,{onBlur:T,ref:j}=n,I=f.useRef(null),A=t||I,$=Z1n(f.useMemo(()=>({path:e.path}),[e.path])),{subscribe:D}=J1n({path:v}),{t:M}=Y(),[O,F]=f.useState(!1),[P,V]=f.useState(null),[H,W]=f.useState(a??!1),[G,X]=f.useState(i??!1),[z,q]=f.useState(!1),[Z,K]=f.useState(!1),J=Os(),Q=Pr(),re=f.useMemo(()=>new Mr,[]),ae=f.useMemo(()=>re.asObservable(),[re]),ne=f.useCallback(()=>{W(Ce=>{const Te=!Ce;return Te?J.log(Y0n):J.log(q0n),d==null||d(Te),Te})},[d,J]);f.useEffect(()=>{P&&_!==P.value&&V(null)},[P,_]),f.useEffect(()=>D(({patches:Ce,snapshot:Te})=>{re.next({patches:Ce,snapshot:Te})}),[re,D]);const se=Tun(e);f.useEffect(()=>{Z&&X(!0)},[Z]);const le=f.useCallback(()=>{const Ce=oe.current,Te=Ce==null?void 0:Ce.focus.path;if(!Te)return;const Ge=Te.length===3&&Te[1]==="children"&&Pn(Te[2])&&!se.some(Je=>Pn(Te[2])&&Je.member.key===Te[2]._key)?Te.concat(["text"]):Te;f.startTransition(()=>{g(Ge,{selection:Ce})})},[g,se]),oe=f.useRef(null),ge=f.useCallback(Ce=>{switch(Ce.type){case"mutation":s(Fue(Ce.patches));break;case"connection":Ce.value==="offline"?q(!0):Ce.value==="online"&&q(!1);break;case"selection":oe.current=Ce.selection,le();break;case"focus":X(!0),K(!0);break;case"blur":T(Ce.event),K(!1);break;case"undo":case"redo":s(Fue(Ce.patches));break;case"invalidValue":V(Ce);break;case"error":Q.push({status:Ce.level,description:Ce.description});break}A.current&&c&&c(Ce,A.current)},[A,c,s,le,T,Q]);f.useEffect(()=>{F(!1)},[_]);const _e=f.useCallback(()=>{F(!0)},[]),Me=f.useMemo(()=>P&&P.resolution?u.jsx(L,{marginBottom:2,children:u.jsx(B1n,{onChange:ge,onIgnore:_e,resolution:P.resolution,readOnly:z||b})}):null,[ge,_e,P,z,b]),me=f.useCallback(()=>{G||(X(!0),A.current&&Ae.focus(A.current))},[A,G]),ye=f.useRef([]),De=f.useMemo(()=>{const Ce=[...y||[],...$],Te=QO(ye.current,Ce);return ye.current=Te,Te},[$,y]),be=f.useCallback((Ce,Te)=>{const{type:Ge,uploader:Je}=Te;k==null||k({file:Ce,schemaType:Ge,uploader:Je})},[k]),he=f.useCallback(Ce=>{if(!E)return;const Te=Ce.map(tt=>({file:tt,uploaderCandidates:X1n(S.of,E,tt)})),Ge=Te.filter(tt=>tt.uploaderCandidates.length>0),Je=Te.filter(tt=>tt.uploaderCandidates.length===0);Je.length>0&&Q.push({closable:!0,status:"warning",title:M("inputs.array.error.cannot-upload-unable-to-convert",{count:Je.length}),description:Je.map((tt,Ne)=>u.jsxs(U,{gap:2,padding:2,children:[u.jsx(L,{children:u.jsx(N,{weight:"medium",children:tt.file.name})}),u.jsx(L,{children:u.jsxs(N,{size:1,children:["(",tt.file.type,")"]})})]},Ne))}),Ge.forEach(tt=>{be(tt.file,Zp(tt.uploaderCandidates,Ne=>Ne.uploader.priority)[0])})},[Q,E,S,be,M]),ve=f.useCallback(Ce=>{const{event:Te}=Ce,Ge=Te.type==="paste"?"paste":"drop",Je=!!Te.clipboardData.getData("text/html"),tt=!!Te.clipboardData.getData("text/plain");return Ge==="paste"&&Je&&tt||VDe(Te.clipboardData).then(Ne=>Ne.length>0?Ne:[]).then(Ne=>{he(Ne)}),m==null?void 0:m(Ce)},[he,m]);return u.jsxs(L,{children:[!O&&Me,(!P||O)&&u.jsx(N1n,{markers:o,children:u.jsx(L1n,{memberItems:se,children:u.jsx(Ae,{patches$:ae,onChange:ge,maxBlocks:void 0,ref:A,readOnly:z||b,schemaType:S,value:_,children:u.jsx(F1n,{...e,elementRef:j,hasFocusWithin:Z,hotkeys:r,isActive:G,isFullscreen:H,onActivate:me,onItemRemove:p,onCopy:l,onInsert:h,onPaste:ve,onToggleFullscreen:ne,rangeDecorations:De,renderBlockActions:x,renderCustomMarkers:w,renderEditable:C})})})})]})}function Fue(e){return e.map(t=>({...t,patchType:s0}))}function _7(e){return`inset 0 0 0 ${e.width}px ${e.color}`}function iyn(e){const{base:t,border:n,focusRing:r}=e,i=r.offset+r.width,a=0-r.offset,o=t?t.bg:"var(--card-bg-color)";return[a>0&&`inset 0 0 0 ${a}px var(--card-focus-ring-color)`,n&&_7(n),a<0&&`0 0 0 ${0-a}px ${o}`,i>0&&`0 0 0 ${i}px var(--card-focus-ring-color)`].filter(Boolean).join(",")}const ayn=R(te)(e=>{const{theme:t}=e,{focusRing:n,input:r,radius:i}=t.sanity,a=t.sanity.color.input,o=Se(t.sanity.space[1]);return{position:"relative",borderRadius:`${i[1]}px`,color:a.default.enabled.fg,boxShadow:_7({color:a.default.enabled.border,width:r.border.width}),"& > .content":{position:"relative",lineHeight:0,margin:`-${o} 0 0 -${o}`},"& > .content > div":{display:"inline-block",verticalAlign:"top",padding:`${o} 0 0 ${o}`},"&:not([data-read-only])":{cursor:"text"},"@media(hover:hover):not([data-disabled]):not([data-read-only]):hover":{borderColor:a.default.hovered.border},"&:not([data-disabled]):not([data-read-only])[data-focused]":{boxShadow:iyn({border:{color:a.default.enabled.border,width:r.border.width},focusRing:n})},"*:disabled + &":{color:a.default.disabled.fg,backgroundColor:a.default.disabled.bg,boxShadow:_7({color:a.default.disabled.border,width:r.border.width})}}}),oyn=R.input(e=>{const{theme:t}=e,n=t.sanity.fonts.text,r=t.sanity.color.input,i=t.sanity.space[2],a=t.sanity.fonts.text.sizes[2];return{appearance:"none",background:"none",border:0,borderRadius:0,outline:"none",fontSize:Se(a.fontSize),lineHeight:a.lineHeight/a.fontSize,fontFamily:n.family,fontWeight:n.weights.regular,margin:0,display:"block",minWidth:"1px",maxWidth:"100%",boxSizing:"border-box",paddingTop:Se(i-a.ascenderHeight),paddingRight:Se(i),paddingBottom:Se(i-a.descenderHeight),paddingLeft:Se(i),"&:not(:invalid):not(:disabled)":{color:r.default.enabled.fg},"&:not(:invalid):disabled":{color:r.default.disabled.fg}}}),syn=R(L)(e=>{const{theme:t}=e,n=t.sanity.color.input;return ce`
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    pointer-events: none;
    --card-fg-color: ${n.default.enabled.placeholder};
  `}),lyn=R(L)`
  // This is needed to make textOverflow="ellipsis" work properly for the Text primitive
  max-width: 100%;
`,rOe=f.forwardRef((e,t)=>{const{disabled:n,onChange:r,onFocus:i,placeholder:a,readOnly:o,value:s=[],...l}=e,{t:c}=Y(jy),[d,h]=f.useState(""),p=!n&&!o,[m,g]=f.useState(!1),v=f.useRef(null),b=f.useRef(null);f.useImperativeHandle(t,()=>v.current);const y=f.useCallback(E=>{if(td(E.target)&&E.target.closest('[data-ui="Tag"]'))return;const k=v.current;k&&setTimeout(()=>k.focus(),0)},[]),x=f.useCallback(()=>{g(!1)},[]),w=f.useCallback(E=>{h(E.currentTarget.value)},[]),C=f.useCallback(E=>{g(!0),i&&i(E)},[i]),S=f.useCallback(E=>{if(E.key==="Enter"&&(E.preventDefault(),E.stopPropagation(),r&&d)){const k=s.concat([{value:d}]);h(""),r&&r(k)}},[d,r,s]),_=f.useCallback(E=>{if(!r)return;const k=s.slice(0);k.splice(E,1),r(k)},[r,s]);return f.useEffect(()=>{const E=v.current;E&&(E.style.width="0",E.style.width=`${E.scrollWidth}px`)},[d]),u.jsxs(ayn,{"data-disabled":n?"":void 0,"data-focused":m?"":void 0,"data-read-only":o?"":void 0,"data-ui":"TagInput",onPointerDown:y,overflow:"auto",padding:1,ref:b,children:[p&&u.jsx(syn,{hidden:!!(d||s.length),padding:3,children:u.jsx(N,{textOverflow:"ellipsis",children:a||c("inputs.tags.placeholder",{context:typeof window<"u"&&"ontouchstart"in window?"touch":void 0})})}),u.jsxs("div",{className:"content",children:[s.map((E,k)=>u.jsx(lyn,{children:u.jsx(uyn,{enabled:p,index:k,muted:!p,onRemove:_,tag:E})},`tag-${k}`)),u.jsx("div",{children:u.jsx(oyn,{...l,disabled:!p,onBlur:x,onChange:w,onFocus:C,onKeyDown:S,ref:v,type:"text",value:d})},"tag-input")]})]})});rOe.displayName="ForwardRef(TagInput)";function uyn(e){const{enabled:t,index:n,muted:r,onRemove:i,tag:a}=e,o=f.useCallback(()=>{i(n)},[n,i]);return u.jsx(te,{"data-ui":"Tag",radius:2,tone:"transparent",children:u.jsxs(U,{align:"center",gap:1,children:[u.jsx(L,{flex:1,paddingY:2,paddingLeft:2,children:u.jsx(N,{muted:r,textOverflow:"ellipsis",children:a.value})}),t&&u.jsx(fe,{icon:Rr,mode:"bleed",onClick:o,tooltipProps:{content:"Remove"}})]})})}function cyn(e){const{onChange:t,readOnly:n,value:r=[],elementProps:i,path:a,changed:o}=e,s=f.useMemo(()=>r==null?void 0:r.map(c=>({value:c})),[r]),l=f.useCallback(c=>{t(c.length===0?pt():st(c.map(d=>d.value)))},[t]);return u.jsx(eo,{path:a,isChanged:o,hasFocus:!1,children:u.jsx(rOe,{onChange:l,readOnly:n,value:s,...i})})}const dyn=["string","number","boolean"];function fyn(e){return e.of.every(t=>dyn.includes(t.jsonType))}function hyn(e){return e.of.length===1&&Pc("string",e.of[0])}function pyn(e){var t;return((t=e.options)==null?void 0:t.layout)==="tags"}function myn(e){return e.of.some(t=>Pc("block",t))}function gyn(e){var t;return!!((t=e.options)!=null&&t.list)}function vyn(e){return hyn(e)&&pyn(e)?cyn:gyn(e)?f$e:fyn(e)?h$e:myn(e)?ryn:d$e}function yyn(e){return RI(e)?e:{title:O0(`${e}`),value:e}}const Nue={title:"",value:void 0};function iOe(e){var t,n;const{value:r,readOnly:i,validationError:a,schemaType:o,onChange:s,path:l,changed:c,focused:d,elementProps:h}=e,p=f.useMemo(()=>{var S;return(((S=o.options)==null?void 0:S.list)||[]).map(yyn)},[(t=o.options)==null?void 0:t.list]),m=p.find(S=>S.value===r),g=o.options&&o.options.layout==="radio",v=f.useCallback(S=>{const _=Number(S);return p[_]},[p]),b=f.useCallback(S=>String(p.indexOf(S)),[p]),y=f.useId(),x=f.useCallback(S=>{s(jt.from(typeof(S==null?void 0:S.value)>"u"?pt():st(S.value)))},[s]),w=f.useCallback(S=>{const _=v(S.currentTarget.value);if(!_){x(Nue);return}x(_)},[x,v]),C=g?u.jsx(byn,{...h,value:m,inputId:y,items:p,direction:((n=o.options)==null?void 0:n.direction)||"vertical",customValidity:a,onChange:x,readOnly:i}):u.jsx(iu,{...h,customValidity:a,value:b(m),readOnly:i,onChange:w,children:[Nue,...p].map((S,_)=>u.jsx("option",{value:_-1,children:S.title},`${_-1}`))});return u.jsx(eo,{path:l,isChanged:c,hasFocus:!!d,children:C})}const byn=f.forwardRef(function(e,t){const{items:n,value:r,onChange:i,onFocus:a,readOnly:o,customValidity:s,direction:l,inputId:c}=e;return u.jsx(te,{border:!0,padding:3,radius:2,children:u.jsx(l==="horizontal"?An:ee,{space:3,role:"group",children:n.map((d,h)=>u.jsx(xyn,{customValidity:s,inputId:c,item:d,onChange:i,onFocus:a,readOnly:o,ref:h===0?t:null,value:r},h))})})}),xyn=f.forwardRef(function(e,t){const{customValidity:n,inputId:r,item:i,onChange:a,onFocus:o,readOnly:s,value:l}=e,c=f.useCallback(()=>{a(i)},[i,a]);return u.jsxs(U,{as:"label",align:"center",children:[u.jsx(Sxe,{ref:t,checked:l===i,onChange:c,onFocus:o,readOnly:s,customValidity:n,name:r}),u.jsx(L,{marginLeft:2,children:u.jsx(N,{size:1,weight:"medium",children:i.title})})]})});function wyn(e){return MDe(e,"list")?iOe:v$e}function Cyn(e){return MDe(e,"list")?iOe:y$e}function Syn(e){if(Pc("array",e))return vyn(e);if(Pc("reference",e))return Cdn;if(Pc("string",e))return Cyn(e);if(Pc("number",e))return wyn(e)}function _yn(e){var t;if((t=e.components)!=null&&t.input)return e.components.input;const n=Syn(e);if(n)return n;const r=dY(e,new Set).reduce((a,o)=>(a[o.name]=o,a),{}),i=Object.values(r).find(a=>Iue[a.name]);if(i)return Iue[i.name];throw new Error(`Could not find input component for schema type \`${e.name}\``)}function Eyn(e){var t;return(t=e.components)!=null&&t.preview?e.components.preview:to}function kyn({readOnly:e,hasErrors:t,hasWarnings:n}){return e?"transparent":t?"critical":n?"caution":"default"}const Tyn={portal:!0,tone:"default"},Ayn={position:"relative"};function jyn(e){var t,n,r,i,a,o,s,l;const{schemaType:c,parentSchemaType:d,path:h,readOnly:p,onRemove:m,value:g,open:v,onInsert:b,onFocus:y,onOpen:x,onClose:w,changed:C,focused:S,children:_,inputProps:{renderPreview:E}}=e,{t:k}=Y(),T=vM(),j=((t=d==null?void 0:d.options)==null?void 0:t.treeEditing)===!1,I=j||T.legacyEditing,A=v&&(!T.enabled||I),$=((n=d.options)==null?void 0:n.sortable)!==!1,D=d.of,M=f.useRef(null);sM(M,v),$o(S,(se,le)=>{var oe;!se&&le&&M.current&&((oe=M.current)==null||oe.focus())});const O=g._resolvingInitialValue,F=f.useCallback(()=>{b({items:[{...g,_key:$y()}],position:"after"})},[b,g]),P=f.useCallback((se,le)=>{b({items:[Hb(le)],position:se})},[b]),V=Vb(h,!0),H=f.useMemo(()=>V.length===0?null:u.jsx(x_,{presence:V,maxAvatars:1}),[V]),W=WG(h,!0),G=f.useMemo(()=>W.length===0?null:u.jsx(L,{paddingX:1,paddingY:3,children:u.jsx(Ub,{validation:W,__unstable_showSummary:!0})}),[W]),X=W.some(se=>se.level==="error"),z=W.some(se=>se.level==="warning"),[q,Z]=f.useState(null),{insertBefore:K,insertAfter:J}=xY({schemaTypes:D,insertMenuOptions:(r=d.options)==null?void 0:r.insertMenu,onInsert:P,referenceElement:q}),Q=f.useMemo(()=>p?null:u.jsxs(u.Fragment,{children:[u.jsx(Kt,{ref:Z,onOpen:()=>{K.send({type:"close"}),J.send({type:"close"})},button:u.jsx(wi,{selected:K.state.open||J.state.open?!0:void 0}),id:`${e.inputId}-menuButton`,menu:u.jsxs(Ot,{children:[u.jsx(We,{text:k("inputs.array.action.remove"),tone:"critical",icon:Kr,onClick:m}),u.jsx(We,{text:k("inputs.array.action.duplicate"),icon:Ql,onClick:F}),K.menuItem,J.menuItem]}),popover:Tyn}),K.popover,J.popover]}),[K,J,F,m,e.inputId,p,k]),re=kyn({readOnly:p,hasErrors:X,hasWarnings:z}),ae=u.jsx(bM,{menu:Q,presence:H,validation:G,tone:re,focused:S,dragHandle:$,selected:v,readOnly:!!p,children:u.jsxs(te,{as:"button",type:"button",tone:"inherit",radius:1,disabled:O,onClick:x,ref:M,onFocus:y,__unstable_focusRing:!0,style:Ayn,children:[E({schemaType:e.schemaType,value:e.value,layout:"default",skipVisibilityCheck:!0}),O&&u.jsx(wn,{fill:!0})]})}),ne=Vu(c);return u.jsxs(yM,{legacyEditing:j,children:[u.jsx(eo,{path:h,isChanged:C,hasFocus:!!S,children:u.jsx(L,{paddingX:1,children:ae})}),A&&u.jsx(QDe,{header:p?k("inputs.array.action.view",{itemTypeTitle:ne}):k("inputs.array.action.edit",{itemTypeTitle:ne}),type:((a=(i=d==null?void 0:d.options)==null?void 0:i.modal)==null?void 0:a.type)||"dialog",width:(l=(s=(o=d==null?void 0:d.options)==null?void 0:o.modal)==null?void 0:s.width)!=null?l:1,id:g._key,onClose:w,autofocus:S,legacy_referenceElement:M.current,children:_})]})}function Iyn(e){const{menuRef:t,menuButtonRef:n,containerRef:r}=e,i=f.useMemo(()=>({menuRef:t,menuButtonRef:n,containerRef:r}),[r,n,t]);return u.jsx(npe.Provider,{value:i,children:e.children})}function Dyn({readOnly:e,hasErrors:t,hasWarnings:n}){return e?"transparent":t?"critical":n?"caution":"default"}const $yn={portal:!0,tone:"default"};function Oyn(e){var t,n,r,i,a,o,s,l;const{schemaType:c,parentSchemaType:d,path:h,readOnly:p,onRemove:m,value:g,open:v,onInsert:b,presence:y,validation:x,inputId:w,changed:C,focused:S,children:_,inputProps:{onChange:E,focusPath:k,onPathFocus:T,renderPreview:j,elementProps:I}}=e,A=((t=d.options)==null?void 0:t.sortable)!==!1,$=d.of,D=f.useRef(null),M=f.useRef(null),O=f.useRef(null),F=f.useRef(null),{EditReferenceLink:P,getReferenceInfo:V,selectedState:H,isCurrentDocumentLiveEdit:W}=cY({path:h,schemaType:c,value:g});sM(D,v),$o(S,(Dt,Be)=>{var ct;!Dt&&Be&&D.current&&((ct=D.current)==null||ct.focus())});const G=e.validation.some(Dt=>Dt.level==="error"),X=e.validation.some(Dt=>Dt.level==="warning"),z=g._resolvingInitialValue,q=f.useCallback(()=>{b({items:[{...g,_key:$y()}],position:"after"})},[b,g]),Z=f.useCallback((Dt,Be)=>{b({items:[{...Hb(Be),_key:$y()}],position:Dt})},[b]),K=lM(g==null?void 0:g._ref,V),J=g._ref,Q=((n=K.result)==null?void 0:n.type)||((r=g==null?void 0:g._strengthenOnPublish)==null?void 0:r.type),re=J&&((o=(a=(i=K.result)==null?void 0:i.preview)==null?void 0:a.published)==null?void 0:o._id),ae=f.useCallback(()=>{E([c.weak===!0?st(!0,["_weak"]):pt(["_weak"]),pt(["_strengthenOnPublish"])])},[E,c.weak]),ne=Q?c.to.find(Dt=>Dt.name===Q):void 0,se=H==="pressed",le=H==="selected",oe=Dyn({readOnly:p,hasErrors:G,hasWarnings:X}),ge=!J||k[0]==="_ref",{t:_e}=Y(),Me=f.useMemo(()=>f.forwardRef(function(Dt,Be){return u.jsx(pu,{...Dt,intent:"edit",params:{id:g==null?void 0:g._ref,type:ne==null?void 0:ne.name},target:"_blank",rel:"noopener noreferrer",ref:Be})}),[ne==null?void 0:ne.name,g==null?void 0:g._ref]),me=f.useCallback(()=>{T(J&&ge?[]:["_ref"])},[J,ge,T]),[ye,De]=f.useState(null),be=f.useCallback(Dt=>{De(Dt),O.current=Dt},[]),{insertBefore:he,insertAfter:ve}=xY({schemaTypes:$,insertMenuOptions:(s=d.options)==null?void 0:s.insertMenu,onInsert:Z,referenceElement:ye}),Ce=f.useMemo(()=>p?null:u.jsxs(u.Fragment,{children:[u.jsx(Kt,{ref:be,onOpen:()=>{he.send({type:"close"}),ve.send({type:"close"})},button:u.jsx(wi,{selected:he.state.open||ve.state.open?!0:void 0}),id:`${w}-menuButton`,menu:u.jsxs(Ot,{ref:M,children:[!p&&u.jsxs(u.Fragment,{children:[u.jsx(We,{text:_e("inputs.reference.action.remove"),tone:"critical",icon:Kr,onClick:m}),u.jsx(We,{text:_e(J&&ge?"inputs.reference.action.replace-cancel":"inputs.reference.action.replace"),icon:J&&ge?Rr:g0,onClick:me}),u.jsx(We,{text:_e("inputs.reference.action.duplicate"),icon:Ql,onClick:q}),he.menuItem,ve.menuItem]}),!p&&!ge&&J&&u.jsx(ur,{}),!ge&&J&&u.jsx(We,{as:Me,"data-as":"a",text:_e("inputs.reference.action.open-in-new-tab"),icon:Qc})]}),popover:$yn}),he.popover,ve.popover]}),[Me,q,me,J,w,ve,he,ge,m,p,be,_e]),Te=f.useCallback(()=>{E(c.weak===!0?st(!0,["_weak"]):pt(["_weak"]))},[E,c]),Ge=g!=null&&g._weak?"weak":"strong",Je=c.weak===!0?"weak":"strong",tt=J&&!K.isLoading&&(g==null?void 0:g._strengthenOnPublish),Ne=!K.isLoading&&((l=K.result)==null?void 0:l.availability.available)&&J&&Ge!==Je&&!tt,Fe=u.jsxs(u.Fragment,{children:[W&&re&&g._strengthenOnPublish&&u.jsx(SDe,{schemaType:c,handleRemoveStrengthenOnPublish:ae}),Ne&&u.jsx(uY,{actualStrength:Ge,handleFixStrengthMismatch:Te}),K.error&&u.jsx(lY,{errorMessage:K.error.message,onHandleRetry:K.retry})]}),lt=u.jsx(Iyn,{menuRef:M,menuButtonRef:O,containerRef:F,children:u.jsx(bM,{dragHandle:A,readOnly:!!p,presence:!ge&&y.length>0&&u.jsx(x_,{presence:y,maxAvatars:1}),validation:!ge&&x.length>0&&u.jsx(Ub,{validation:x}),menu:Ce,footer:ge?void 0:Fe,tone:ge?void 0:oe,focused:S,children:ge?u.jsx(L,{padding:1,ref:F,children:u.jsx(nM,{title:c.title,description:c.description,__unstable_presence:y,validation:x,inputId:w,deprecated:c.deprecated,children:_})}):u.jsxs(_De,{as:P,tone:"inherit",radius:2,documentId:g==null?void 0:g._ref,documentType:ne==null?void 0:ne.name,disabled:z,__unstable_focusRing:!0,selected:le,pressed:se,"data-selected":le?!0:void 0,"data-pressed":se?!0:void 0,...I,children:[u.jsx(CDe,{value:g,referenceInfo:K,renderPreview:j,type:c}),z&&u.jsx(wn,{fill:!0})]})})});return u.jsx(eo,{path:h,isChanged:C,hasFocus:!!S,children:u.jsx(L,{paddingX:1,children:lt})})}function Myn(e){var t;return(t=e.components)!=null&&t.item?e.components.item:Zs(e)?Oyn:jyn}function Ryn(e){const{children:t}=e,[{error:n,info:r},i]=f.useState({error:null,info:{}}),a=f.useCallback(()=>i({error:null,info:{}}),[]);return n?u.jsx(Pyn,{error:n,info:r,onRetry:a}):u.jsx(sb,{onCatch:i,children:t})}function Pyn(e){const{error:t,info:n,onRetry:r}=e;if(t instanceof XO||t instanceof VM)throw t;const{t:i}=Y(),a=f.useMemo(()=>yt(t)&&typeof t.message=="string"&&t.message,[t]),o=f.useMemo(()=>yt(t)&&typeof t.stack=="string"&&t.stack,[t]);return f.useMemo(()=>typeof(n==null?void 0:n.componentStack)=="string"&&n.componentStack,[n==null?void 0:n.componentStack]),LAe(r),u.jsx(ac,{status:"error",title:u.jsx(u.Fragment,{children:i("form.error.unhandled-runtime-error.title")}),children:u.jsxs(ee,{space:4,children:[u.jsx(N,{as:"p",muted:!0,size:1,children:u.jsx(u.Fragment,{children:i("form.error.unhandled-runtime-error.error-message",{message:a})})}),o&&u.jsx(L,{children:u.jsxs(ee,{space:2,children:[u.jsx(N,{as:"p",size:1,children:u.jsx(u.Fragment,{children:i("form.error.unhandled-runtime-error.call-stack.title")})}),u.jsx(te,{border:!0,radius:2,overflow:"auto",padding:4,tone:"inherit",children:o&&u.jsx(fi,{size:1,style:{maxHeight:"40vh"},children:o})})]})},"call-stack"),gl]})})}const Fyn={isLoading:!0},Nyn={isLoading:!1};function E_(e){const{enabled:t=!0,ordering:n,schemaType:r,value:i}=e||{},{observeForPreview:a}=ua(),o=f.useMemo(()=>!t||!i||!r?xe(Nyn):a(i,r,{ordering:n}).pipe(de(s=>({isLoading:!1,value:s.snapshot||void 0})),Cn(s=>xe({isLoading:!1,error:s}))),[t,a,n,i,r]);return Jr(o,Fyn)}const Lyn=typeof window>"u"?nr:Io(window,"orientationchange").pipe(oa(1)),Byn=typeof window>"u"?nr:Io(window,"resize").pipe(oa(1)),Vyn=typeof window>"u"?nr:Io(window,"scroll",{passive:!0,capture:!0}).pipe(oa(1)),aOe=150;function zyn(){return typeof window<"u"&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in IntersectionObserverEntry.prototype?("isIntersecting"in IntersectionObserverEntry.prototype||Object.defineProperty(IntersectionObserverEntry.prototype,"isIntersecting",{get(){return this.intersectionRatio>0}}),!0):!1}const Uyn=zyn()?Hyn():Wyn();function Hyn(){const e=new Mr,t=new IntersectionObserver(n=>{n.forEach(r=>{e.next(r)})},{threshold:0,rootMargin:`${aOe}px`});return function(n){return new Mt(r=>(t.observe(n),r.next(),()=>t.unobserve(n))).pipe(It(()=>e.asObservable()),$t(r=>r.target===n),de(r=>({isIntersecting:r.isIntersecting})))}}function Wyn(){function e(){return{left:0,right:window.innerWidth,top:0,bottom:window.innerHeight}}function t(r,i,a){return r.left<=i.right+a&&r.right>=i.left-a&&r.top<=i.bottom+a&&r.bottom>=i.top-a}function n(r){return()=>t(r.getBoundingClientRect(),e(),aOe)}return function(r){const i=n(r);return Mn(xe(i()),Byn,Vyn,Lyn).pipe(de(i),de(a=>({isIntersecting:a})))}}const Gyn=typeof window>"u"?nr:Io(document,"visibilitychange").pipe(oa(1));function Yyn(e){const{element:t,hideDelay:n=0}=e,[r,i]=f.useState(!1);return f.useEffect(()=>{if(!t)return;const a=Ai(xe(!document.hidden),Gyn.pipe(de(l=>{var c;return l.target instanceof Document?!((c=l==null?void 0:l.target)!=null&&c.hidden):!1}))).pipe(xr()),o=Uyn(t).pipe(de(l=>l.isIntersecting)),s=a.pipe(mt(l=>l?o:xe(!1)),mt(l=>l?xe(!0):xe(!1).pipe(qCe(n))),xr()).subscribe(i);return()=>s.unsubscribe()},[t,n]),r}const qyn=2e3;function Kyn(e){return Zyn(e==null?void 0:e._upload)}function ew(e){return xg(e)?e:void 0}function Zyn(e){var t,n;if(!yt(e))return;const r=typeof e.progress=="number"?e.progress:0,i=ew(e.initiated||e.createdAt),a=ew(e.updated||e.updatedAt),o=ew((t=e==null?void 0:e.file)==null?void 0:t.name),s=ew((n=e==null?void 0:e.file)==null?void 0:n.type),l=ew(e.previewImage);if(i&&a&&o&&s)return{progress:r,createdAt:i,updatedAt:a,file:{name:o,type:s},previewImage:l}}function EY(e){const{layout:t,value:n,component:r,style:i,schemaType:a,skipVisibilityCheck:o,...s}=e,{t:l}=Y(),[c,d]=f.useState(null),h=Yyn({element:o?null:c,hideDelay:qyn}),p=E_({enabled:o||h,schemaType:a,value:n}),m=f.useMemo(()=>({...i,minWidth:(i==null?void 0:i.minWidth)||1,minHeight:(i==null?void 0:i.minHeight)||1}),[i]),g=f.useMemo(()=>Kyn(n),[n]),v=f.useMemo(()=>{var b,y;return g!=null&&g.previewImage?u.jsx("img",{alt:l("preview.image.file-is-being-uploaded.alt-text"),src:g.previewImage}):(b=p==null?void 0:p.value)!=null&&b.media?(y=p==null?void 0:p.value)==null?void 0:y.media:a.icon},[p,a,g,l]);return u.jsx("div",{ref:d,style:m,children:f.createElement(r,{...s,...(p==null?void 0:p.value)||{},media:v,error:p==null?void 0:p.error,isPlaceholder:p==null?void 0:p.isLoading,layout:t,schemaType:a})})}function Xyn(){return u.jsxs(N,{size:1,children:["This is a example custom marker, please implement ",u.jsx("code",{children:"renderCustomMarkers"})," function."]})}const Jyn={publish:()=>{},subscribe:()=>(console.warn("No patch channel provided to form-builder. If you need input based patch updates, please provide one"),()=>{})};function Qyn(e){const{__internal_fieldActions:t=cn,__internal_patchChannel:n=Jyn,autoFocus:r,changesOpen:i,children:a,collapsedFieldSets:o,collapsedPaths:s,file:l,filterField:c,focusPath:d,focused:h,groups:p,id:m,image:g,onChange:v,onFieldGroupSelect:b,onPathBlur:y,onPathFocus:x,onPathOpen:w,onSetFieldSetCollapsed:C,onSetPathCollapsed:S,presence:_,readOnly:E,renderAnnotation:k,renderBlock:T,renderField:j,renderInlineBlock:I,renderInput:A,renderItem:$,renderPreview:D,schemaType:M,unstable:O,validation:F}=e,P=f.useMemo(()=>({patchChannel:n,components:{ArrayFunctions:gY,CustomMarkers:(O==null?void 0:O.CustomMarkers)||Xyn,Markers:(O==null?void 0:O.Markers)||zIe},field:{actions:t},file:{assetSources:l.assetSources,directUploads:(l==null?void 0:l.directUploads)!==!1},filterField:c||(()=>!0),image:{assetSources:g.assetSources,directUploads:(g==null?void 0:g.directUploads)!==!1},onChange:v}),[t,l.assetSources,l==null?void 0:l.directUploads,c,g.assetSources,g==null?void 0:g.directUploads,v,n,O==null?void 0:O.CustomMarkers,O==null?void 0:O.Markers]),V=f.useMemo(()=>({__internal:P,autoFocus:r,changesOpen:i,collapsedFieldSets:o,collapsedPaths:s,focusPath:d,focused:h,groups:p,id:m,readOnly:E,renderAnnotation:k,renderBlock:T,renderField:j,renderInlineBlock:I,renderInput:A,renderItem:$,renderPreview:D,schemaType:M}),[P,r,i,o,s,d,h,p,m,E,k,T,j,I,A,$,D,M]);return u.jsx(Zhe.Provider,{value:V,children:u.jsx(w_,{onChange:v,onFieldGroupSelect:b,onPathBlur:y,onPathFocus:x,onPathOpen:w,onSetPathCollapsed:S,onSetFieldSetCollapsed:C,children:u.jsx(Uun,{id:m,children:u.jsx(xon,{presence:_,children:u.jsx(Son,{validation:F,children:u.jsx(Mon,{children:a})})})})})})}function ebn(e){const{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:i,children:a,collapsedFieldSets:o,collapsedPaths:s,focusPath:l,focused:c,groups:d,id:h,onChange:p,onPathBlur:m,onPathFocus:g,onPathOpen:v,onFieldGroupSelect:b,onSetPathCollapsed:y,onSetFieldSetCollapsed:x,presence:w,readOnly:C,schemaType:S,validation:_}=e,{file:E,image:k}=Dn().form,T=lOe(),j=uOe(),I=kY(),A=cOe(),$=dOe(),D=fOe(),M=hOe(),O=f.useCallback(X=>u.jsx(T,{...X}),[T]),F=f.useCallback(X=>u.jsx(j,{...X}),[j]),P=f.useCallback(({key:X,...z})=>u.jsx(A,{...z},X),[A]),V=f.useCallback(X=>u.jsx(EY,{component:I,...X}),[I]),H=f.useCallback(X=>u.jsx($,{...X}),[$]),W=f.useCallback(X=>u.jsx(D,{...X}),[D]),G=f.useCallback(X=>u.jsx(M,{...X}),[M]);return u.jsx(Qyn,{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:i,collapsedFieldSets:o,collapsedPaths:s,file:E,focusPath:l,focused:c,groups:d,id:h,image:k,onChange:p,onPathBlur:m,onPathFocus:g,onPathOpen:v,onFieldGroupSelect:b,onSetPathCollapsed:y,onSetFieldSetCollapsed:x,presence:w,readOnly:C,renderAnnotation:G,renderBlock:H,renderField:F,renderInlineBlock:W,renderInput:O,renderItem:P,renderPreview:V,schemaType:S,validation:_,children:a})}function oOe(e){const{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:i,collapsedFieldSets:a,collapsedPaths:o,focused:s,focusPath:l,groups:c,id:d,members:h,onChange:p,onFieldGroupSelect:m,onPathBlur:g,onPathFocus:v,onPathOpen:b,onSetFieldSetCollapsed:y,onSetPathCollapsed:x,openPath:w=cn,presence:C,readOnly:S,schemaType:_,validation:E,value:k}=e,T=f.useCallback(oe=>x([oe],!0),[x]),j=f.useCallback(oe=>x([oe],!1),[x]),I=f.useCallback(()=>g(cn),[g]),A=f.useCallback(()=>v(cn),[v]),$=f.useCallback(oe=>p(jt.from(oe)),[p]),D=f.useRef(null),M=f.useCallback(oe=>m(cn,oe),[m]),O=f.useCallback(oe=>b([oe]),[b]),F=f.useCallback(()=>b([]),[b]),P=f.useCallback(oe=>y([oe],!0),[y]),V=f.useCallback(oe=>y([oe],!1),[y]),H=lOe(),W=uOe(),G=kY(),X=cOe(),z=dOe(),q=fOe(),Z=hOe(),K=f.useCallback(oe=>u.jsx(Ryn,{children:u.jsx(H,{...oe})}),[H]),J=f.useCallback(oe=>u.jsx(W,{...oe}),[W]),Q=f.useCallback(({key:oe,...ge})=>u.jsx(X,{...ge},oe),[X]),re=f.useCallback(oe=>u.jsx(EY,{component:G,...oe}),[G]),ae=f.useCallback(oe=>u.jsx(z,{...oe}),[z]),ne=f.useCallback(oe=>u.jsx(q,{...oe}),[q]),se=f.useCallback(oe=>u.jsx(Z,{...oe}),[Z]),le=f.useMemo(()=>({focusPath:l,elementProps:{ref:D,id:d,onBlur:I,onFocus:A,"aria-describedby":void 0},changed:h.some(oe=>oe.kind==="field"&&oe.field.changed),focused:s,groups:c,id:d,level:0,members:h,onChange:$,onFieldClose:F,onFieldCollapse:T,onFieldSetCollapse:P,onFieldExpand:j,onFieldSetExpand:V,onPathFocus:v,onFieldOpen:O,onFieldGroupSelect:M,path:cn,presence:cn,readOnly:S,renderAnnotation:se,renderBlock:ae,renderField:J,renderInlineBlock:ne,renderInput:K,renderItem:Q,renderPreview:re,schemaType:_,validation:cn,value:k}),[l,s,c,I,$,F,T,P,j,V,A,O,M,d,h,v,S,se,ae,J,ne,K,Q,re,_,k]);return u.jsx(ebn,{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:i,collapsedFieldSets:a,collapsedPaths:o,focusPath:l,focused:s,groups:c,id:d,onChange:p,onPathBlur:g,onPathFocus:v,onPathOpen:b,onFieldGroupSelect:m,onSetPathCollapsed:x,onSetFieldSetCollapsed:y,presence:C,validation:E,readOnly:S,schemaType:_,children:u.jsx(vMe,{value:k,children:u.jsx(Xun,{value:k,children:u.jsx(gln,{actions:t,children:u.jsx(yM,{children:u.jsx(tbn,{rootInputProps:le,onPathOpen:b,openPath:w,renderInput:K})})})})})})}function tbn(e){const{rootInputProps:t,onPathOpen:n,openPath:r,renderInput:i}=e,a=vM(),o=f.useMemo(()=>l$e(t.schemaType,r),[r,t.schemaType]),s=t.id==="root",l=a.enabled&&s&&o&&u.jsx(lpn,{onPathFocus:t.onPathFocus,onPathOpen:n,openPath:r,rootInputProps:t,schemaType:t.schemaType});return i({...t,__internal_arrayEditingModal:l})}const nbn=R(te)(e=>{const{color:t,radius:n,space:r}=e.theme.sanity,i=ce`
    pointer-events: none;
    content: '';
    position: absolute;
    top: -${r[1]}px;
    bottom: -${r[1]}px;
    left: -${r[1]}px;
    right: -${r[1]}px;
    border-radius: ${n[2]}px;
    mix-blend-mode: ${t.dark?"screen":"multiply"};
  `;return ce`
    box-shadow: 0 0 0 1px var(--card-border-color);
    border-radius: ${n[1]}px;
    pointer-events: all;
    position: relative;

    &[data-focused] {
      --card-border-color: var(--card-focus-ring-color);
    }

    &:not([data-focused]):not([data-selected]) {
      @media (hover: hover) {
        &:hover {
          --card-border-color: ${t.input.default.hovered.border};
        }
      }
    }

    &[data-markers] {
      &:after {
        ${i}
        background-color: ${t.dark?Qe.purple[950].hex:Qe.purple[50].hex};
      }
    }

    &[data-warning] {
      &:after {
        ${i}
        background-color: ${t.muted.caution.hovered.bg};
      }

      @media (hover: hover) {
        &:hover {
          --card-border-color: ${t.muted.caution.hovered.border};
        }
      }
    }

    &[data-invalid] {
      &:after {
        ${i}
        background-color: ${t.input.invalid.enabled.bg};
      }

      @media (hover: hover) {
        &:hover {
          --card-border-color: ${t.input.invalid.hovered.border};
        }
      }
    }
  `}),rbn=R(U)`
  display: block;
  position: relative;
  width: 100%;
  user-select: none;
  pointer-events: all;
`,ibn=R.div(({theme:e,$hasChanges:t})=>{const{space:n}=e.sanity;return ce`
      position: absolute;
      width: ${n[2]}px;
      right: 0;
      top: 0;
      bottom: 0;
      padding-left: ${n[1]}px;
      padding-right: ${n[2]}px;
      user-select: none;

      ${!t&&ce`
        display: none;
      `}

      [data-dragged] & {
        visibility: hidden;
      }
    `});R(U)`
  position: relative;

  [data-dragged] > & {
    opacity: 0.5;
  }
`;const abn=R(L)`
  width: 25px;
  position: relative;
  flex-shrink: 0;
  user-select: none;

  [data-dragged] & {
    visibility: hidden;
  }
`,obn=R(U)`
  position: absolute;
  right: 0;
  [data-dragged] & {
    visibility: hidden;
  }
`,sbn=R(L)`
  max-width: 250px;
`,lbn={constrainSize:!0,placement:"bottom",portal:"default",tone:"default"};function ubn(e){const{children:t,focused:n,isOpen:r,onOpen:i,onRemove:a,readOnly:o,value:s}=e,{t:l}=Y(),c=f.useId(),d=f.useRef(null),h=f.useRef(!1),p=f.useMemo(()=>qs(s)?f.forwardRef(function(g,v){return u.jsx(pu,{...g,intent:"edit",params:{id:s._ref},ref:v})}):void 0,[s]);f.useEffect(()=>{r&&(h.current=!1)},[r]),Xo(f.useCallback(g=>{n&&g.key==="Tab"&&d.current&&!h.current&&!r&&(g.preventDefault(),g.stopPropagation(),d.current.focus(),h.current=!0)},[n,r]));const m=f.useCallback(g=>{g.preventDefault(),g.stopPropagation(),a()},[a]);return u.jsxs(U,{children:[u.jsx(L,{flex:1,children:t}),u.jsx(L,{children:u.jsx(Kt,{button:u.jsx(fe,{"aria-label":l("inputs.portable-text.block.open-menu-aria-label"),icon:qy,mode:"bleed",paddingY:3,tabIndex:n?0:1,tooltipProps:{content:"Open menu"}}),ref:d,id:c,menu:u.jsx(Ot,{children:u.jsxs(u.Fragment,{children:["_ref"in s&&s._ref&&u.jsx(We,{as:p,"data-as":"a",icon:tl,text:l("inputs.portable-text.block.open-reference")}),o&&u.jsx(We,{icon:fD,onClick:i,text:l("inputs.portable-text.block.view")}),!o&&u.jsx(We,{icon:Yc,onClick:i,text:l("inputs.portable-text.block.edit")}),!o&&u.jsx(We,{icon:Kr,onClick:m,text:l("inputs.portable-text.block.remove"),tone:"critical"})]})}),popover:lbn})})]})}function cbn(e){var t;const{floatingBoundary:n,focused:r,isFullscreen:i,onItemClose:a,onItemOpen:o,onPathFocus:s,path:l,readOnly:c,referenceBoundary:d,relativePath:h,renderAnnotation:p,renderBlock:m,renderBlockActions:g,renderCustomMarkers:v,renderField:b,renderInlineBlock:y,renderInput:x,renderItem:w,renderPreview:C,schemaType:S,selected:_,value:E}=e,{onChange:k}=gu(),{Markers:T}=pd().__internal.components,[j,I]=f.useState(!1),A=tM(l),$=Wi(),D=aM(qn(l)),M=f.useRef(!1),O=f.useMemo(()=>({anchor:{path:h,offset:0},focus:{path:h,offset:0}}),[h]),F=f.useCallback(()=>I(!0),[]),P=f.useCallback(()=>I(!1),[]),V=f.useCallback(()=>{D&&(Ae.blur($),o(D.node.path))},[$,D,o]),H=f.useCallback(()=>{a(),Ae.select($,O),Ae.focus($)},[a,$,O]),W=f.useCallback(()=>{if(!M.current)try{Ae.delete($,O,{mode:"blocks"})}catch(ye){console.error(ye)}finally{M.current=!0}},[$,O]);f.useEffect(()=>()=>{M.current&&Ae.focus($)},[$]);const G=f.useMemo(()=>i&&!g?{paddingX:5}:i&&g?{paddingLeft:5,paddingRight:2}:g?{paddingLeft:3,paddingRight:2}:{paddingX:3},[i,g]),{validation:X,hasError:z,hasWarning:q,hasInfo:Z}=eM(D==null?void 0:D.node),K=$.schemaTypes.portableText,J=A.length>0,Q=Vb(l,!0),re=f.useMemo(()=>Q.filter(ye=>vr(ye.path,l)),[l,Q]),ae=z||q||Z||J,ne=f.useMemo(()=>ae&&u.jsx(sbn,{children:u.jsx(T,{markers:A,validation:X,renderCustomMarkers:v})})||null,[T,A,v,ae,X]),se=!!(D!=null&&D.member.open),le=D==null?void 0:D.input,oe=(D==null?void 0:D.node.path)||cn,ge=(t=D==null?void 0:D.elementRef)==null?void 0:t.current,_e=f.useMemo(()=>({__unstable_floatingBoundary:n,__unstable_referenceBoundary:d,__unstable_referenceElement:ge||null,children:le,focused:r,markers:A,onClose:H,onOpen:V,onPathFocus:s,onRemove:W,open:se,parentSchemaType:K,path:oe,presence:re,readOnly:!!c,renderAnnotation:p,renderBlock:m,renderDefault:sOe,renderField:b,renderInlineBlock:y,renderInput:x,renderItem:w,renderPreview:C,schemaType:S,selected:_,validation:X,value:E}),[n,ge,le,r,A,H,V,s,W,se,K,oe,re,c,d,p,m,b,y,x,w,C,S,_,X,E]),Me=g&&E&&!c,me=i&&D;return f.useMemo(()=>u.jsx(L,{ref:D==null?void 0:D.elementRef,contentEditable:!1,children:u.jsx(U,{"data-object-block":"",paddingBottom:1,marginY:3,style:void 0,children:u.jsxs(rbn,{"data-object-block-inner":"",...G,children:[u.jsx(L,{flex:1,children:u.jsx(gt,{placement:"top",portal:"editor",disabled:se?!0:!ae,content:ne,children:u.jsx("div",{children:m&&m(_e)})})}),Me&&u.jsx(abn,{contentEditable:!1,marginRight:3,children:u.jsx(obn,{children:r&&u.jsx(z$e,{block:E,onChange:k,renderBlockActions:g})})}),me&&u.jsx(ibn,{$hasChanges:D.member.item.changed,contentEditable:!1,onMouseEnter:F,onMouseLeave:P,children:u.jsx(V$e,{hasFocus:r,isChanged:D.member.item.changed,path:D.member.item.path,withHoverEffect:!1})}),j&&u.jsx(B$e,{})]})})}),[Me,me,_e,r,P,F,G,D,k,m,g,j,ne,ae,E,se])}const sOe=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:i,focused:a,markers:o,onClose:s,onOpen:l,onRemove:c,open:d,readOnly:h,renderPreview:p,schemaType:m,selected:g,value:v,validation:b}=e,{t:y}=Y(),x=b4e(v),w=b.filter(k=>k.level==="error").length>0,C=b.filter(k=>k.level==="warning").length>0,S=o.length>0,_=g||a?"primary":"default",E=f.useCallback(k=>{k.preventDefault(),k.stopPropagation(),l()},[l]);return u.jsxs(u.Fragment,{children:[u.jsx(nbn,{"aria-label":y("inputs.portable-text.block.aria-label"),"data-focused":a?"":void 0,"data-image-preview":x?"":void 0,"data-invalid":w?"":void 0,"data-markers":S?"":void 0,"data-read-only":h?"":void 0,"data-selected":g?"":void 0,"data-testid":"pte-block-object","data-warning":C?"":void 0,flex:1,onDoubleClick:E,padding:x?0:1,tone:_,children:p({actions:u.jsx(ubn,{isOpen:d,focused:a,onOpen:l,onRemove:c,readOnly:h,value:v}),layout:x?"blockImage":"block",schemaType:m,skipVisibilityCheck:!0,value:v})}),d&&u.jsx(oY,{floatingBoundary:t,defaultType:"dialog",onClose:s,autoFocus:a,schemaType:m,referenceBoundary:n,referenceElement:r,children:i})]})};function dbn(e){var t;return(t=e.components)!=null&&t.block?e.components.block:JO(e)?Z$e:sOe}function fbn(e){var t;return(t=e.components)!=null&&t.inlineBlock?e.components.inlineBlock:nOe}function hbn(e){var t;return(t=e.components)!=null&&t.annotation?e.components.annotation:m7}function G0(e){const{componentResolver:t,componentProps:n}=e;if(!n.schemaType)throw new Error("the `schemaType` property must be defined");const r=t(n.schemaType),i=f.useCallback(a=>{var o;if(!((o=a.schemaType)!=null&&o.type))throw new Error("Attempted to render form component of non-existent parent type");const{components:s,...l}=a.schemaType,c=t(l);return f.createElement(c,a)},[t]);return f.createElement(r,{...n,renderDefault:i})}function pbn(e){return G0({componentProps:e,componentResolver:_yn})}function mbn(e){return G0({componentProps:e,componentResolver:tdn})}function gbn(e){return G0({componentProps:e,componentResolver:Myn})}function vbn(e){return G0({componentProps:e,componentResolver:Eyn})}function ybn(e){return G0({componentProps:e,componentResolver:dbn})}function bbn(e){return G0({componentProps:e,componentResolver:fbn})}function xbn(e){return G0({componentProps:e,componentResolver:hbn})}function wbn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.input}function Cbn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.field}function Sbn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.preview}function _bn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.item}function Ebn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.block}function kbn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.inlineBlock}function Tbn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.annotation}function lOe(){return mu({defaultComponent:pbn,pick:wbn})}function uOe(){return mu({defaultComponent:mbn,pick:Cbn})}function kY(){return mu({defaultComponent:vbn,pick:Sbn})}function cOe(){return mu({defaultComponent:gbn,pick:_bn})}function dOe(){return mu({defaultComponent:ybn,pick:Ebn})}function fOe(){return mu({defaultComponent:bbn,pick:kbn})}function hOe(){return mu({defaultComponent:xbn,pick:Tbn})}function Gb(e){const t=kY();return u.jsx(EY,{...e,component:t})}const Abn={block:JNn,blockImage:KNn,compact:vNn,default:a3e,detail:ANn,inline:rLn,media:UNn};function jbn(){return u.jsx(Hu,{className:"sanity-studio__preview-fallback-icon"})}function to(e){const{icon:t,layout:n,media:r,imageUrl:i,title:a,tooltip:o,...s}=e,l=Zt(Gt),c=f.useMemo(()=>z2(l),[l]),d=f.useCallback(b=>{const{dimensions:y}=b;return u.jsx("img",{alt:xg(a)?a:void 0,referrerPolicy:"strict-origin-when-cross-origin",src:c.image(r).width(y.width||100).height(y.height||100).fit(y.fit).dpr(y.dpr||1).url()||""})},[c,r,a]),h=f.useCallback(()=>f.createElement(t||jbn),[t]),p=f.useMemo(()=>t===!1?!1:Sf.isValidElementType(r)||f.isValidElement(r)?r:kb(r)?d:xg(i)?u.jsx("img",{src:i,alt:xg(a)?a:void 0,referrerPolicy:"strict-origin-when-cross-origin"}):h,[t,i,r,h,d,a]),m=f.useMemo(()=>({...s,media:p,title:a}),[p,s,a]),g=Abn[n||"default"],v=f.createElement(g,m);return o?u.jsx(gt,{content:o,disabled:!o,fallbackPlacements:["top-end"],placement:"bottom-end",children:u.jsx("div",{children:v})}):v}const pOe=["_id","_rev","_type"],Ibn=[...pOe,"_key"],Lue={available:!0,reason:"READABLE"},Dbn={available:!1,reason:"PERMISSION_DENIED"},$bn={available:!1,reason:"NOT_FOUND"},Obn={title:"Invalid preview config",subtitle:"Check the error log in the console",media:u.jsx(fr,{})};function ET(e,t){let n,r={},i=0;return function(...o){return new Mt(s=>{clearTimeout(n),n=setTimeout(a,t);const l={args:o,observer:s,completed:!1},c=i++;return r[c]=l,()=>{l.completed=!0}})};function a(){const o=r;r={};const s=Object.keys(o).filter(c=>{const d=o[c];return d&&!d.completed});if(s.length===0)return;const l=s.map(c=>{const d=o[c];return d&&d.args}).filter(sa);e(l).subscribe({next(c){c.forEach((d,h)=>{const p=o[s[h]];p&&!p.completed&&p.observer.next(c[h])})},complete(){s.forEach(c=>{const d=o[c];d&&!d.completed&&d.observer.complete()})},error(c){s.forEach(d=>{const h=o[d];h&&!h.completed&&h.observer.error(c)})}})}}const Mbn=11164;function Rbn(e){let t=[],n=0;const r=[];for(const i of e)n+i.length+1>=Mbn&&(r.push(t),t=[],n=0),n+=i.length+1,t.push(i);return r.includes(t)||r.push(t),r}function Pbn(e,t){return e.push(...t),e}function mOe(e,t){function n(o){const s=la(o),l=fn(o);return aa([r(s),r(l)]).pipe(xr(Ap),de(([c,d])=>({draft:c,published:d})))}function r(o){return t({_ref:o},[["_rev"]]).pipe(de(s=>yt(s)&&!!("_rev"in s&&s!=null&&s._rev)),xr(),mt(s=>s?xe(Lue):i(o)))}const i=ET(function(o){const s=[...new Set(cr(o))];return ar(Rbn(s)).pipe(It(a,10),UCe(Pbn,[]),de(l=>o.map(([c])=>l[s.indexOf(c)])))},1);function a(o){return na(()=>{const s={uri:e.getDataUrl("doc",o.join(",")),json:!0,query:{excludeContent:"true"},tag:"preview.documents-availability"};return e.observable.request(s).pipe(de(l=>{const c=wG(l.omitted||[],d=>d.id);return o.map(d=>{const h=c[d];if(!h)return Lue;if(h.reason==="existence")return $bn;if(h.reason==="permission")return Dbn;throw new Error(`Unexpected reason for omission: "${h.reason}"`)})}))})}return{observeDocumentPairAvailability:n}}function gOe(e){return Object.keys(e)}function Bue(e,t,n){return{...e,[t]:n}}function Fbn(e={}){return t=>new Mt(n=>t.subscribe(n)).pipe(mt(n=>{const r=gOe(n).map(i=>{const a=n[i];return Eft(a)?ar(a).pipe(de(o=>[i,o])):xe([i,a])});return e.wait?aa(r).pipe(de(i=>i.reduce((a,[o,s])=>Bue(a,o,s),{}))):ar(r).pipe(_$(),il((i,[a,o])=>Bue(i,a,o),{}))}))}function Nbn(e){return e.reduce((t,n)=>(t[n]=void 0,t),{})}function Lbn(e,t){return t.filter(n=>!(n[0]in e))}function Bbn(e){return qs(e)?e._ref:"_id"in e?e._id:void 0}function E7(e,t,n,r){if(!e||typeof e!="object")return xe(e);const i=Bbn(e),a=i?{...e,_id:i}:{...e};a._type==="reference"&&(delete a._type,delete a._ref,delete a._weak,delete a._dataset,delete a._projectId,delete a._strengthenOnPublish);const o=Lbn(a,t);if(i&&o.length>0){const c=ra(o.map(h=>h[0])),d=Lhe(e)?{projectId:e._projectId,dataset:e._dataset}:r;return n(i,c,d).pipe(mt(h=>h===null?xe(null):E7({...Nbn(c),...qs(e)?{...e,...d}:e,...h},t,n,d)))}const s={};t.forEach(c=>{const[d,...h]=c;s[d]||(s[d]=[]),s[d].push(h)});const l=Object.keys(s).reduce((c,d)=>{const h=s[d].filter(p=>p.length>0);return h.length===0?c[d]=yt(e)?e[d]:void 0:c[d]=E7(e[d],h,n,r),c},a);return xe(l).pipe(Fbn({wait:!0}))}function Vbn(e){return e.map(t=>typeof t=="string"?t.split("."):t)}function zbn(e){const{observeFields:t}=e;return{observePaths(n,r,i){return E7(n,Vbn(r),t,i)}}}const Ubn=[["_createdAt"],["_updatedAt"]];function TY(e){const t=e==null?void 0:e.select;return t?(Object.values(t).map(n=>String(n).split("."))||[]).concat(Ubn):void 0}function Hbn(e){return Array.isArray(e)&&(e.length===0||e.some(yr))}function Wbn(e){const t=Array.isArray(e)&&e.find(yr);return!t||!t.children?"":t.children.filter(Ti).map(n=>n.text).join("")}const Gbn=["_id","_type","_upload","_createdAt","_updatedAt"],My=[],k7=(()=>{let e={};return{add:(t,n,r)=>{e[t.name]||(e[t.name]=[]),e[t.name].push({error:r,type:t,value:n})},getAll(){return e},clear(){e={}}}})(),Ybn=m0(()=>{const e=k7.getAll(),t=cr(Object.keys(e).map(n=>{const r=e[n];return Tp(r,i=>i.error.message)})).length;t!==0&&(console.groupCollapsed(`%cHeads up! Got ${t===1?"error":`${t} errors`} while preparing data for preview. Click for details.`,"color: #ff7e7c"),Object.keys(e).forEach(n=>{const r=e[n],i=r[0];console.group(`Check the preview config for schema type "${n}": %o`,i.type.preview),Tp(r,a=>a.error.message).forEach(a=>{var o;if(a.error.type==="returnValueError"){const s=typeof((o=a.type.preview)==null?void 0:o.prepare)=="function",{value:l,error:c}=a;console.log(`Encountered an invalid ${s?"return value when calling prepare(%o)":"value targeted by preview.select"}:`,l),console.error(c)}if(a.error.type==="prepareError"){const{value:s,error:l}=a;console.log("Encountered an error when calling prepare(%o):",s),console.error(l)}}),console.groupEnd()}),console.groupEnd(),k7.clear())},1e3),tw=e=>t=>{const n=typeof t;return t===null||n==="undefined"||n==="string"||n==="number"||n==="boolean"?My:[jY("returnValueError",new Error(`The "${e}" field should be a string, number, boolean, undefined or null, instead saw ${AY(t)}`))]},qbn={media:()=>My,title:tw("title"),subtitle:tw("subtitle"),description:tw("description"),imageUrl:tw("imageUrl"),date:tw("date")};function AY(e,t=!0){if(yt(e)){const n=Object.keys(e),r=n.length>3?"...":"";return`${t?"object with keys ":""}{${n.slice(0,3).join(", ")}${r}}`}if(Array.isArray(e)){const n=e.length>3?"...":"";return`${t?"array with ":""}[${e.map(r=>AY(r,!1))}${n}]`}return`the ${typeof e} ${e}`}function Kbn(e,t){if(typeof t>"u")return My;const n=qbn[e];return n&&n(t)||My}function jY(e,t){return Object.assign(t,{type:e})}function Zbn(e){return!dr(e)||e===null?[jY("returnValueError",new Error(`Invalid return value. Expected a plain object with at least a 'title' field, instead saw ${AY(e)}`))]:Object.entries(e).reduce((t,[n,r])=>[...t,...Kbn(n,r)],My)}function Xbn(e){return{...e,errors:[...e.errors||[],...Zbn(e.returnValue)]}}function Jbn(e){return gOe(e).reduce((t,n)=>{const r=e[n];return{...t,[n]:Hbn(r)?Wbn(r):r}},{})}function vOe(e,t,n={}){var r;const i=(r=e.preview)==null?void 0:r.prepare;try{return{returnValue:i?i(t,n):Jbn(t),errors:My}}catch(a){return{returnValue:null,errors:[jY("prepareError",a)]}}}function Vue(e,t,n){return e.errors.forEach(r=>k7.add(t,n,r)),Ybn(),Obn}function Qbn(e){const t=e.options&&typeof e.options=="object"?e.options:!1;if(!t||!("list"in t))return!1;const n=t.list;return Array.isArray(n)}function exn(e){return Qbn(e)?e.options.list.map(t=>RI(t)?t:{title:t,value:t}):void 0}function dI(e,t,n={}){var r,i;const a=typeof((r=t.preview)==null?void 0:r.prepare)=="function",o=((i=t.preview)==null?void 0:i.select)||{},s=Object.keys(o).reduce((d,h)=>{var p;const m="fields"in t?t:null,g=o[h],v=(p=m==null?void 0:m.fields)==null?void 0:p.find(y=>y.name===g),b=v&&exn(v.type);if(!a&&b){const y=b&&b.find(x=>x.value===Jn(e,o[h]));d[h]=y?y.value:Jn(e,o[h])}else d[h]=Jn(e,o[h]);return d},{}),l=vOe(t,s,n);if(l.errors.length>0)return Vue(l,t,s);const c=Xbn(l);return c.errors.length>0?Vue(c,t,s):{...Ht(e,Gbn),...l.returnValue}}function txn(e){return dr(e)}function nxn(e){return dr(e)}function rxn(e){const{observeDocumentTypeFromId:t,observePaths:n}=e;return function r(i,a,o,s){if(N9(a)){if(!Lhe(i))return xe({snapshot:void 0});const c={projectId:i._projectId,dataset:i._dataset};return t(i._ref,c).pipe(mt(d=>{if(d){const h=a.to.find(p=>p.type===d);return r(i,h,{},c)}return xe({snapshot:void 0})}))}if(Zs(a))return nxn(i)?t(i._ref).pipe(mt(c=>{if(c){const d=a.to.find(h=>h.name===c);return r(i,d)}return xe({snapshot:void 0})})):xe({snapshot:void 0});const l=TY(a.preview);return l?n(i,l,s).pipe(de(c=>({type:a,snapshot:c&&dI(c,a,o)}))):xe({type:a,snapshot:i&&txn(i)?vOe(a,i,o).returnValue:null})}}function ixn(e,t){const{observeDocumentPairAvailability:n}=mOe(e,t),r=[["_updatedAt"],["_createdAt"],["_type"]];return{observePathsDocumentPair:i};function i(a,o){const{draftId:s,publishedId:l}=FG(a);return n(s).pipe(mt(c=>{if(!c.draft.available&&!c.published.available)return xe({id:l,type:null,draft:{availability:c.draft,snapshot:void 0},published:{availability:c.published,snapshot:void 0}});const d=[...o,...r];return aa([t({_type:"reference",_ref:s},d),t({_type:"reference",_ref:l},d)]).pipe(de(([h,p])=>{const m=yt(h)&&"_type"in h&&h._type||yt(p)&&"_type"in p&&p._type||null;return{id:l,type:typeof m=="string"?m:null,draft:{availability:c.draft,snapshot:h},published:{availability:c.published,snapshot:p}}}))}))}}function axn(e){return(t,n)=>t===n?!0:!t||!n||typeof t!="object"||typeof n!="object"?!1:e.every(r=>t[r]===n[r])}const oxn=e=>e;function sxn(e,t=oxn){let n,r;for(let i=0;i<e.length;i++){if(i===0){n=t(e[i]);continue}if(r=t(e[i]),n!==r)return!1;n=r}return!0}function lxn(e){return oWt(e.reduce((t,[n,r],i)=>{const a=Zp(r.join(","),kwe).join(".");t[a]||(t[a]={fields:r,ids:[],map:[]});const o=t[a].ids.length;return t[a].ids[o]=n,t[a].map[o]=i,t},{}))}function uxn(e){return JSON.stringify(e)}const cxn=e=>Lrn(e)?`"${e}": @${Brn(e)}`:e;function dxn({ids:e,fields:t}){const n=[...pOe,...t];return`*[_id in [${e.map(uxn).join(",")}]][0...${e.length}]{${n.map(cxn).join(",")}}`}function fxn(e){return`[${e.map(dxn).join(",")}][0...${e.length}]`}function hxn(e,t){return e.reduce((n,r,i)=>(t[i].map.forEach((a,o)=>{const s=t[i].ids[o],l=r.find(c=>c._id===s);n[a]=l||null}),n),[])}function pxn(e){const{observePaths:t,versionedClient:n}=e;let r;const i=()=>{if(!r){const w=ar(n.listen('*[!(_id in path("_.**"))]',{},{events:["welcome","mutation"],includeResult:!1,visibility:"query",tag:"preview.global"})).pipe(Yo()),C=w.pipe($t(_=>_.type==="welcome"),oa({refCount:!0,bufferSize:1}));C.subscribe();const S=w.pipe($t(_=>_.type==="mutation"));r={welcome$:C,mutations$:S}}return r};function a(w){const C=i();return Mn(C.welcome$,C.mutations$.pipe($t(S=>S.documentId===w)))}function o(w){return function(C){const S=lxn(C);return w.observable.fetch(fxn(S),{},{tag:"preview.document-paths"}).pipe(de(_=>hxn(_,S)))}}const s=ET(o(n),100),l=ET(o(n),1e3);function c(w,C){return a(w).pipe(mt(S=>S.type==="welcome"||S.visibility==="query"?s(w,C).pipe(It(_=>Ai(xe(_),_===void 0?l(w,C):[]))):l(w,C)))}const d={},h=h$(function(w){const C=n.withConfig(w),S=o(C);return ET(S,10)},w=>w.dataset+w.projectId),p=1e4,m=Io(document,"visibilitychange").pipe(Vi(0),de(()=>document.visibilityState==="visible"),mt(w=>w?vi(0,p):nr),Yo());function g(w,C,S){return m.pipe(Vi(0)).pipe(mt(()=>h(S)(w,C)))}function v(w,C,S){let _=null;const E=Mn(na(()=>_===null?nr:xe(_)),S?g(w,C,S):c(w,C)).pipe(Qn(k=>_=k),oa({refCount:!0,bufferSize:1}));return{id:w,fields:C,changes$:E}}function b(w,C,S){const _=S?`${S.projectId}:${S.dataset}:${w}`:`$current$-${w}`;_ in d||(d[_]=[]);const E=d[_];Ug(C,cr(E.map(T=>T.fields))).length>0&&E.push(v(w,C,S));const k=E.filter(T=>T.fields.some(j=>C.includes(j))).map(T=>T.changes$);return aa(k).pipe(de(T=>T.filter(Boolean)),$t(T=>sxn(T,j=>j._rev)),de(T=>T.length===0?null:y(T,C)),xr(axn(C)))}return{observeFields:b};function y(w,C){return[...Ibn,...C].reduce((S,_)=>{const E=x(w,_);return E!==void 0&&(S[_]=E),S},{})}function x(w,C){let S;return w.some(_=>C in _?(S=_[C],!0):!1),S}}function mxn({client:e}){const t=e.withConfig({apiVersion:"1"}),n=(c,d,h)=>i(c,d,h),{observeFields:r}=pxn({observePaths:n,versionedClient:t}),{observePaths:i}=zbn({observeFields:r});function a(c,d){return i({_type:"reference",_ref:c},["_type"],d).pipe(de(h=>yt(h)&&typeof h._type=="string"?h._type:void 0),xr())}const o=rxn({observeDocumentTypeFromId:a,observePaths:i}),{observeDocumentPairAvailability:s}=mOe(t,i),{observePathsDocumentPair:l}=ixn(t,i);return{observePaths:i,observeForPreview:o,observeDocumentTypeFromId:a,unstable_observeDocumentPairAvailability:s,unstable_observePathsDocumentPair:l}}const gxn=e=>e.liveEdit===!0;function Yb(e,t,n,r){const i=gxn(t)?xe({snapshot:null}):e.observeForPreview({_type:"reference",_ref:la(n)},t),a=e.observeForPreview({_type:"reference",_ref:fn(n)},t);return aa([i,a]).pipe(de(([o,s])=>({draft:o.snapshot?{title:r,...o.snapshot||{}}:null,isLoading:!1,published:s.snapshot?{title:r,...s.snapshot||{}}:null})),Vi({draft:null,isLoading:!0,published:null}))}const vxn=e=>({title:u.jsx("em",{children:e.title?String(e.title):"Missing document"}),subtitle:u.jsx("em",{children:e.title?`Missing document ID: ${e._id}`:`Document ID: ${e._id}`}),media:()=>u.jsx(fr,{})}),IY=({value:e,draft:t,published:n})=>{const r=t||n;return r?Ren({},r,e,(i,a)=>typeof a>"u"?i:a):vxn(e)},yxn=nm(([e,t])=>ar(e.getUser(t).catch(n=>(console.error(n),null))));function md(e){const t=LY();return yxn(f.useMemo(()=>[t,e],[e,t]))}function Kn(){const{currentUser:e}=Dn();return e}const zue=e=>{const t=e.LOCAL,n=e.document.HEAD;return t&&{...t,_type:(n||t)._type,_rev:(n||t)._rev,_updatedAt:new Date().toISOString()}},Uue=e=>({type:"snapshot",document:e}),Hue=e=>e.document,bxn=e=>{const t=new Mr,n=new w$(!0),r=new Mr,i=new Mr,a=new Mr,o=new Mr,s=y=>{const x=new TBt(y);return x.onMutation=({mutation:w,remote:C})=>{r.next({type:"mutation",document:zue(x),mutations:w.mutations,origin:C?"remote":"local"})},x.onRemoteMutation=w=>{a.next({type:"remoteMutation",head:x.document.HEAD,transactionId:w.transactionId,timestamp:w.timestamp,author:w.identity,effects:w.effects})},x.onRebase=(w,C,S)=>{i.next({type:"rebase",document:w,remoteMutations:C,localMutations:S})},x.onConsistencyChanged=w=>{n.next(w)},x.commitHandler=w=>o.next(w),x},l=e.pipe(il((y,x)=>x.type==="snapshot"?(y&&y.commit(),s(x.document||null)):y===null?(console.warn('Ignoring event of type "%s" since buffered document has not yet been set up with snapshot',x.type),null):y,null),$t(y=>y!==null),xr(),Ou(1),$u()),c=e.pipe($t(y=>y.type==="mutation"),lC(l),de(([y,x])=>(x.arrive(new Hc(y)),zue(x)))),d=t.pipe(lC(l),Qn(([y,x])=>{y.type==="mutation"&&x.add(new Hc({mutations:y.mutations})),y.type==="commit"&&x.commit()}),hy(nr),Yo()),h=y=>t.next(y),p=y=>h({type:"mutation",mutations:y}),m=y=>p([y]),g=()=>{l.pipe($a(1),Qn(y=>y.commit())).subscribe()},v=Mn(l.pipe(de(y=>y.LOCAL)),r.pipe(de(Hue)),i.pipe(de(Hue)),c).pipe(de(Uue),Ou(1),$u()),b=Mn(l.pipe(de(y=>y.document.HEAD),de(Uue)),a).pipe(Ou(1),$u());return{updates$:Mn(v,d,r,i),consistency$:n.pipe(xr(),Ou(1),$u()),remoteSnapshot$:b,commitRequest$:o,addMutation:m,addMutations:p,commit:g}},xxn=e=>t=>{const{_id:n,_rev:r,_updatedAt:i,...a}=t;return{_id:e,...a}},Wue=(e,t)=>{const n=bxn(t),r=xxn(e),i={delete:{id:e}};return{events:n.updates$,consistency$:n.consistency$,remoteSnapshot$:n.remoteSnapshot$,commitRequest$:n.commitRequest$,patch:a=>a.map(o=>({patch:{...o,id:e}})),create:a=>({create:r(a)}),createIfNotExists:a=>({createIfNotExists:r(a)}),createOrReplace:a=>({createOrReplace:r(a)}),delete:()=>i,mutate:a=>n.addMutations(a),commit:()=>n.commit()}},wxn={type:"pending",phase:"begin"},Cxn={type:"pending",phase:"end"};function Sxn(e){return e.type==="mutation"}function _xn(e){return e.transactionTotalEvents>1}function Exn(e){const t=aH(e.filter(n=>n.type==="mutation"),n=>n.transactionId);return Object.values(t).every(n=>n.length===n[0].transactionTotalEvents)}function kxn(e,t,n={}){const{publishedId:r,draftId:i}=t;return na(()=>e.observable.listen("*[_id == $publishedId || _id == $draftId]",{publishedId:r,draftId:i},{includeResult:!1,events:["welcome","mutation","reconnect"],effectFormat:"mendoza",tag:n.tag||"document.pair-listener"})).pipe(mg(o=>o.type==="welcome"?a().pipe(mg(s=>[Gue(i,s.draft),Gue(r,s.published)])):xe(o)),il((o,s)=>{if(!Sxn(s))return{next:[s],buffer:[]};const l=o.buffer.length>0,c=_xn(s);if(!c&&!l)return{next:[s],buffer:[]};if(!c)return{next:[],buffer:o.buffer.concat(s)};const d=o.buffer.concat(s);return Exn(d)?{next:d.concat(Cxn),buffer:[]}:{next:d.length===1?[wxn]:[],buffer:d}},{next:[],buffer:[]}),It(o=>o.next),mg(o=>window.SLOW?vi(1e4).pipe(de(()=>o)):xe(o)));function a(){return e.observable.getDocuments([i,r],{tag:"document.snapshots"}).pipe(de(([o,s])=>({draft:o,published:s})))}}function Gue(e,t){return{type:"snapshot",documentId:e,document:t}}const Txn="2024-05-23";function l0(e){return e.withConfig({apiVersion:Txn})}const Yue=e=>t=>t.type!=="reconnect"&&t.type!=="pending"&&t.documentId===e;function zk(e){return t=>({...t,version:e})}function Axn(e){if(!e._id)throw new Error("Expected document to have an _id")}function jxn(e,t){const{resultRev:n,...r}=e;return r.mutations.flatMap(i=>{const a=Object.values(i);if(a.length>1)throw new Error("Did not expect multiple mutations in the same payload");return a[0].id||a[0]._id}).every(i=>i===t)}function Ixn(e,t){return t.mutations.flatMap(n=>{if(n.createIfNotExists)return[];if(n.create)return Axn(n.create),{actionType:"sanity.action.document.create",publishedId:e.publishedId,attributes:n.create,ifExists:"fail"};if(n.patch)return{actionType:"sanity.action.document.edit",draftId:e.draftId,publishedId:e.publishedId,patch:Pa(n.patch,"id")};throw new Error("Cannot map mutation to action")})}function Dxn(e,t,n){return jxn(n,t.publishedId)?yOe(e,n):l0(e).observable.action(Ixn(t,n),{tag:"document.commit",transactionId:n.transactionId})}function yOe(e,t){const{resultRev:n,...r}=t;return e.dataRequest("mutate",r,{visibility:"async",returnDocuments:!1,tag:"document.commit",skipCrossDatasetReferenceValidation:!0})}function $xn(e,t,n,r){return ar(r?Dxn(e,t,n.mutation.params):yOe(e,n.mutation.params)).pipe(Qn({error:i=>{"statusCode"in i&&typeof i.statusCode=="number"&&i.statusCode>=400&&i.statusCode<=500?n.cancel(i):n.failure(i)},next:()=>n.success()}))}function bOe(e,t,n){const{publishedId:r,draftId:i}=t,a=new Mr,o=kxn(e,t).pipe(Yo({connector:()=>a})),s=o.pipe($t(p=>p.type==="reconnect")),l=Wue(i,o.pipe($t(Yue(i)))),c=Wue(r,o.pipe($t(Yue(r)))),d=o.pipe($t(p=>p.type==="pending")),h=Mn(l.commitRequest$,c.commitRequest$).pipe(It(p=>n.pipe($a(1),It(m=>$xn(e,t,p,m)))),It(()=>nr),Yo());return{transactionsPendingEvents$:d,draft:{...l,events:Mn(h,s,l.events).pipe(de(zk("draft"))),consistency$:l.consistency$,remoteSnapshot$:l.remoteSnapshot$.pipe(de(zk("draft")))},published:{...c,events:Mn(h,s,c.events).pipe(de(zk("published"))),consistency$:c.consistency$,remoteSnapshot$:c.remoteSnapshot$.pipe(de(zk("published")))},complete:()=>a.complete()}}function gd(e,t){const n=Object.create(null);return(...r)=>{const i=t(...r);return i in n||(n[i]=e(...r)),n[i]}}function eh(e,t,n){var r,i;const a=e.config();return`${(r=a.dataset)!=null?r:""}-${(i=a.projectId)!=null?i:""}-${t.publishedId}-${n}`}const CM=gd((e,t,n,r)=>new Mt(i=>{const a=bOe(e,t,r);return i.next(a),a.complete}).pipe(Ou(1),$u()),eh);function Oxn(e){return e.type==="snapshot"}function que(e){return{snapshots$:e.events.pipe($t(Oxn),de(t=>t.document),Ou(1),$u()),patch:e.patch,create:e.create,createIfNotExists:e.createIfNotExists,createOrReplace:e.createOrReplace,delete:e.delete,mutate:e.mutate,commit:e.commit}}const DY=gd((e,t,n,r)=>CM(e,t,n,r).pipe(de(({published:i,draft:a,transactionsPendingEvents$:o})=>({transactionsPendingEvents$:o,published:que(i),draft:que(a)})),Ou(1),$u()),eh),vu=(e,t)=>{var n;return((n=e.get(t))==null?void 0:n.liveEdit)===!0},Mxn={enabled:!0},Kue={enabled:!1},xOe=gd((e,t,n)=>{const r=vu(e.schema,n);return DY(e.client,t,n,e.serverActionsEnabled).pipe(mt(i=>aa([i.draft.snapshots$,i.published.snapshots$,i.transactionsPendingEvents$.pipe(de(a=>a.phase==="begin"?Mxn:Kue),Vi(Kue))])),de(([i,a,o])=>({id:t.publishedId,type:n,draft:i,published:a,liveEdit:r,ready:!0,transactionSyncLock:o})),Vi({id:t.publishedId,type:n,draft:null,published:null,liveEdit:r,ready:!1,transactionSyncLock:null}),Ou(1),$u())},(e,t,n)=>eh(e.client,t,n)),wOe=gd((e,t,n,r)=>CM(e,t,n,r).pipe(mt(({draft:i,published:a})=>aa([i.consistency$,a.consistency$])),de(([i,a])=>i&&a),xr(),Ou(1),$u()),eh),COe=gd((e,t,n)=>DY(e.client,t,n,e.serverActionsEnabled).pipe(mt(r=>aa([r.draft.snapshots$,r.published.snapshots$,e.serverActionsEnabled]).pipe(de(([i,a,o])=>({...e,serverActionsEnabled:o,idPair:t,typeName:n,snapshots:{draft:i,published:a},draft:r.draft,published:r.published})))),Ou(1),$u()),(e,t,n)=>eh(e.client,t,n)),SOe={disabled:()=>!1,execute:({draft:e,published:t})=>(e.commit(),t.commit(),nr)},fI={disabled:({snapshots:e})=>e.draft||e.published?!1:"NOTHING_TO_DELETE",execute:({client:e,schema:t,idPair:n,typeName:r})=>{const i=e.observable.transaction().delete(n.publishedId);return vu(t,r)?i.commit({tag:"document.delete"}):i.delete(n.draftId).commit({tag:"document.delete",skipCrossDatasetReferenceValidation:!0})}},_Oe={disabled:({snapshots:e})=>e.draft?e.published?!1:"NOT_PUBLISHED":"NO_CHANGES",execute:({client:e,idPair:t})=>e.observable.transaction().delete(t.draftId).commit({tag:"document.discard-changes"})},Rxn=["_createdAt","_updatedAt"],EOe={disabled:({snapshots:e})=>e.published||e.draft?!1:"NOTHING_TO_DUPLICATE",execute:({schema:e,client:t,snapshots:n,typeName:r},i)=>{const a=n.draft||n.published;if(!a)throw new Error("cannot execute on empty document");return t.observable.create({...Pa(a,Rxn),_id:vu(e,r)?i:la(i),_type:a._type},{tag:"document.duplicate"})}},kOe={disabled:()=>!1,execute:({schema:e,snapshots:t,idPair:n,draft:r,published:i,typeName:a},o=[],s)=>{vu(e,a)?i.mutate([i.createIfNotExists({_type:a,...s}),...i.patch(o)]):r.mutate([r.createIfNotExists({...s,...t.published,_id:n.draftId,_type:a}),...r.patch(o)])}};function T7(e){return qs(e)?e._strengthenOnPublish?Pa(e,["_strengthenOnPublish"].concat(e._strengthenOnPublish.weak?[]:["_weak"])):e:typeof e!="object"||!e?e:Array.isArray(e)?e.map(T7):Object.fromEntries(Object.entries(e).map(([t,n])=>[t,T7(n)]))}const TOe={disabled:({schema:e,typeName:t,snapshots:n})=>vu(e,t)?"LIVE_EDIT_ENABLED":n.draft?!1:n.published?"ALREADY_PUBLISHED":"NO_CHANGES",execute:({client:e,idPair:t,snapshots:n})=>{if(!n.draft)throw new Error('cannot execute "publish" when draft is missing');const r=T7(Pa(n.draft,"_updatedAt")),i=e.observable.transaction();if(!n.draft)throw new Error('cannot execute "publish" when draft is missing');return n.published?(i.patch(t.publishedId,{unset:["_revision_lock_pseudo_field_"],ifRevisionID:n.published._rev}),i.createOrReplace({...r,_id:t.publishedId,_type:n.draft._type})):i.create({...r,_id:t.publishedId,_type:n.draft._type}),i.delete(t.draftId),i.commit({tag:"document.publish",visibility:"async"})}},AOe={disabled:()=>!1,execute:({historyStore:e,schema:t,idPair:n,typeName:r},i)=>{const a=vu(t,r)?n.publishedId:n.draftId;return e.restore(n.publishedId,a,i)}},jOe={disabled:({schema:e,snapshots:t,typeName:n})=>vu(e,n)?"LIVE_EDIT_ENABLED":t.published?!1:"NOT_PUBLISHED",execute:({client:e,idPair:t,snapshots:n})=>{let r=e.observable.transaction().delete(t.publishedId);return n.published&&(r=r.createIfNotExists({...Pa(n.published,"_updatedAt"),_id:t.draftId,_type:n.published._type})),r.commit({tag:"document.unpublish",visibility:"async",skipCrossDatasetReferenceValidation:!0})}},hI={disabled:({snapshots:e})=>e.draft||e.published?!1:"NOTHING_TO_DELETE",execute:({client:e,schema:t,idPair:n,typeName:r,snapshots:i})=>vu(t,r)?e.observable.transaction().delete(n.publishedId).commit({tag:"document.delete"}):i.published?l0(e).observable.action({actionType:"sanity.action.document.delete",includeDrafts:i.draft?[n.draftId]:[],publishedId:n.publishedId},{tag:"document.delete",skipCrossDatasetReferenceValidation:!0}):l0(e).observable.action({actionType:"sanity.action.document.discard",draftId:n.draftId},{tag:"document.delete"})},IOe={disabled:({snapshots:e})=>e.draft?e.published?!1:"NOT_PUBLISHED":"NO_CHANGES",execute:({client:e,idPair:t})=>l0(e).observable.action({actionType:"sanity.action.document.discard",draftId:t.draftId},{tag:"document.discard-changes"})},DOe={disabled:()=>!1,execute:({schema:e,snapshots:t,idPair:n,draft:r,published:i,typeName:a},o=[],s)=>{if(vu(e,a)){const d=i.patch(o),h=t.published?d:[i.createIfNotExists({_type:a,...s})];i.mutate(h);return}const l=r.patch(o);if(t.published){r.mutate([r.createIfNotExists({...s,...t.published,_id:n.draftId,_type:a}),...l]);return}const c=t.draft?[]:[r.create({...s,_id:n.draftId,_type:a})];r.mutate([...c,...l])}},$Oe={disabled:({schema:e,typeName:t,snapshots:n})=>vu(e,t)?"LIVE_EDIT_ENABLED":n.draft?!1:n.published?"ALREADY_PUBLISHED":"NO_CHANGES",execute:({client:e,idPair:t,snapshots:n})=>{var r;if(!n.draft)throw new Error('cannot execute "publish" when draft is missing');return l0(e).observable.action({actionType:"sanity.action.document.publish",draftId:t.draftId,publishedId:t.publishedId,ifPublishedRevisionId:(r=n.published)==null?void 0:r._rev},{tag:"document.publish"})}},OOe={disabled:()=>!1,execute:({snapshots:e,historyStore:t,schema:n,idPair:r,typeName:i},a)=>{const o=vu(n,i)?r.publishedId:r.draftId;return t.restore(r.publishedId,o,a,{fromDeleted:!e.draft&&!e.published,useServerDocumentActions:!0})}},MOe={disabled:({schema:e,snapshots:t,typeName:n})=>vu(e,n)?"LIVE_EDIT_ENABLED":t.published?!1:"NOT_PUBLISHED",execute:({client:e,idPair:t})=>l0(e).observable.action({actionType:"sanity.action.document.unpublish",draftId:t.draftId,publishedId:t.publishedId},{tag:"document.unpublish",skipCrossDatasetReferenceValidation:!0})};function Pxn(e){return typeof e>"u"?xe(null):e}const ROe={del:fI,delete:fI,publish:TOe,patch:kOe,commit:SOe,discardChanges:_Oe,unpublish:jOe,duplicate:EOe,restore:AOe},Fxn={...ROe,del:hI,delete:hI,discardChanges:IOe,patch:DOe,publish:$Oe,unpublish:MOe,restore:OOe},Nxn=(e,t,n,r)=>{const i=r?Fxn[e]:ROe[e];return na(()=>Mn(xe(null),Pxn(i.execute(t,...n)))).pipe(cht())},POe=new Mr;function FOe(e,t,n,r){POe.next({operationName:e,idPair:t,typeName:n,extraArgs:r})}const Lxn=["publish","unpublish","discardChanges","delete"],NOe=gd(e=>{const t=POe.pipe(JCe(r=>r.idPair.publishedId),It(r=>r.pipe(mt(i=>COe(e,i.idPair,i.typeName).pipe($a(1),mt(a=>{const o=Lxn.includes(i.operationName);o&&(a.published.commit(),a.draft.commit());const s=wOe(e.client,i.idPair,i.typeName,e.serverActionsEnabled).pipe($t(Boolean));return(o?s.pipe($a(1)):xe(!0)).pipe(mt(()=>Nxn(i.operationName,a,i.extraArgs,a.serverActionsEnabled)))}),de(()=>({type:"success",args:i})),Cn(a=>xe({type:"error",args:i,error:a})))))),Yo()),n=t.pipe($t(r=>r.type==="success"&&r.args.operationName==="patch"),fS(1e3,au,{leading:!0,trailing:!0}),mg(r=>window.SLOW?vi(1e4).pipe(de(()=>r)):xe(r)),Qn(r=>{FOe("commit",r.args.idPair,r.args.typeName,[])}));return Mn(t,n.pipe(hy(nr)))},e=>{var t,n;const r=e.client.config();return`${(t=r.dataset)!=null?t:""}-${(n=r.projectId)!=null?n:""}${e.serverActionsEnabled?"-serverActionsEnabled":""}`}),Bxn=gd((e,t,n,r)=>CM(e,t,n,r).pipe(mt(({published:i,draft:a})=>Mn(i.remoteSnapshot$,a.remoteSnapshot$))),eh),Vxn={isValidating:!0,validation:[]};function zxn(e){return Vje(e,(t,n)=>(qs(n)&&t.add(n._ref),t),new Set)}const Uxn=[],Hxn=(e,t)=>e(t).pipe(de(({published:n})=>n.available)),Wxn=200,Gxn=1e3;function NF(){return oa({bufferSize:1,refCount:!0})}const Yxn=gd((e,{draftId:t,publishedId:n},r)=>{const i=xOe(e,{draftId:t,publishedId:n},r).pipe(de(({draft:l,published:c})=>l||c),fS(Wxn,au,{trailing:!0}),xr((l,c)=>(l==null?void 0:l._rev)===(c==null?void 0:c._rev)?!0:Ap(Pa(l,"_rev","_updatedAt"),Pa(c,"_rev","_updatedAt"))),NF()),a=i.pipe(de(l=>zxn(l)),It(l=>ar(l))).pipe(JCe(l=>l,{duration:()=>vi(1e3*60*30)}),It(l=>l.pipe(oht(),It(c=>Hxn(e.observeDocumentPairAvailability,c).pipe(de(d=>[c,d]))))),il((l,[c,d])=>l[c]===d?l:{...l,[c]:d},{}),xr(Ap),NF()),o=({id:l})=>Ri(a.pipe(XCe(c=>l in c),de(c=>c[l]))),s=a.pipe(QCe(1),fS(Gxn,au,{leading:!0,trailing:!0}));return aa([i,Ai(xe(null),s)]).pipe(de(([l])=>l),kG(l=>na(()=>l!=null&&l._type?Ai(xe({isValidating:!0,revision:l._rev}),qfn({document:l,getClient:e.getClient,getDocumentExists:o,i18n:e.i18n,schema:e.schema,environment:"studio"}).pipe(de(c=>({validation:c,isValidating:!1})))):xe({validation:Uxn,isValidating:!1}))),il((l,c)=>({...l,...c}),Vxn),NF())},(e,t,n)=>eh(e.client,t,n)),qxn=gd((e,t,n,r)=>CM(e,t,n,r).pipe(mt(({draft:i,published:a})=>Mn(i.events,a.events))),eh);function $d(e){return{disabled:"NOT_READY",execute:()=>{throw new Error(`Called ${e} before it was ready.`)}}}const Kxn={commit:$d("commit"),delete:$d("delete"),del:$d("del"),publish:$d("publish"),patch:$d("patch"),discardChanges:$d("discardChanges"),unpublish:$d("unpublish"),duplicate:$d("duplicate"),restore:$d("restore")},Zxn=(e,t,n)=>(...r)=>FOe(e,t,n,r);function co(e,t,n){return{disabled:t.disabled(n),execute:Zxn(e,n.idPair,n.typeName)}}function Xxn(e){const t={commit:co("commit",SOe,e),delete:co("delete",fI,e),del:co("delete",fI,e),publish:co("publish",TOe,e),patch:co("patch",kOe,e),discardChanges:co("discardChanges",_Oe,e),unpublish:co("unpublish",jOe,e),duplicate:co("duplicate",EOe,e),restore:co("restore",AOe,e)};return e.serverActionsEnabled?{...t,delete:co("delete",hI,e),del:co("delete",hI,e),discardChanges:co("discardChanges",IOe,e),patch:co("patch",DOe,e),publish:co("publish",$Oe,e),unpublish:co("unpublish",MOe,e),restore:co("restore",OOe,e)}:t}const Jxn=gd((e,t,n)=>{const r=NOe(e),i=COe(e,t,n).pipe(de(Xxn));return Ai(xe(Kxn),Mn(r.pipe(It(()=>nr)),i)).pipe(oa({refCount:!0,bufferSize:1}))},(e,t,n)=>eh(e.client,t,n));function u0(e){return dr(e)}function $Y(e,t){const n={...e,...t};return Object.keys(n).forEach(r=>{const i=t[r],a=e[r];u0(i)&&u0(a)&&(n[r]=$Y(a,i))}),n}const Qxn=["_dataset","_projectId","_strengthenOnPublish","_key","_ref","_type","_weak"];function ewn(e){return e&&e.length>0?`"${e}"`:e}function Zue(e,t){const n=r=>`Template "${t.id}" initial value: ${r}`;if(!u0(e))throw new Error(n("resolved to a non-object"));if(e._type&&t.schemaType!==e._type)throw new Error(n(`includes "_type"-property (${e._type}) that does not match template (${t.schemaType})`));try{return A7(e)}catch(r){throw r.message=n(r.message),r}}function A7(e,t=[],n=!1){if(Array.isArray(e))return e.map((i,a)=>{if(Array.isArray(i))throw new Error(`multidimensional arrays are not supported (at path "${qt(t)}")`);return A7(i,t.concat(a),!0)});if(!u0(e))return e;const r=n&&!e._key?{_key:Y2()}:{};return t.length>0&&!e._type&&e._ref&&(r._type="reference"),e._ref&&twn(e,t),Object.keys(e).reduce((i,a)=>(i[a]=A7(e[a],t.concat([a])),i),r)}function twn(e,t=[]){if(!e._type&&e.type)throw new Error(`Reference is missing "_type", but has a "type" property at path "${qt(t)}"`);const n=Object.keys(e).filter(r=>!Qxn.includes(r));if(n.length>0){const r=n.length>1?"properties":"property";throw new Error(`Disallowed ${r} found in reference: ${n.map(ewn).join(", ")} at path "${qt(t)}"`)}}function nwn(e){return u0(e)&&typeof e.serialize=="function"}const Xue=new WeakMap;async function SM(e,t,n,r){var i;const a=r==null?void 0:r.useCache;if(typeof e=="function"){const o=Xue.get(e),s=JSON.stringify([t,n.projectId,n.dataset,(i=n.currentUser)==null?void 0:i.id]);if(a&&o!=null&&o[s])return o[s];const l=e(t,n);return a&&Xue.set(e,{...o,[s]:l}),l}return e}async function OY(e,t,n={},r,i){if(nwn(t))return OY(e,t.serialize(),n,r,i);const{id:a,schemaType:o,value:s}=t;if(!s)throw new Error(`Template "${a}" has invalid "value" property`);let l=await SM(s,n,r,i);if(!u0(l))throw new Error(`Template "${a}" has invalid "value" property - must be a plain object or a resolver function returning a plain object`);u0(l)&&!Object.keys(l).length&&(l={_type:o}),l=Zue(l,t);const c=e.get(o);if(!c)throw new Error(`Could not find schema type with name "${o}".`);const d=$Y(await _M(c,n,MY,r,i)||{},l);return Zue(d,t)}function rwn(e,t){const n=ks(t);return n==="object"&&e.of.length===1?e.of[0]:e.of.find(r=>r.name===n)}const MY=10;function _M(e,t,n=MY,r,i){return n<=0?Promise.resolve(void 0):Bi(e)?awn(e,t,n,r,i):Is(e)?iwn(e,t,n,r,i):SM(e.initialValue,t,r,i)}async function iwn(e,t,n,r,i){const a=await SM(e.initialValue,void 0,r,i);if(Array.isArray(a))return Promise.all(a.map(async o=>{const s=rwn(e,o);return Bi(s)?{...o,...await _M(s,t,n-1,r,i),_key:Y2()}:o}))}async function awn(e,t,n,r,i){const a={...await SM(e.initialValue,t,r,i)||{}},o={};await Promise.all(e.fields.map(async l=>{const c=await _M(l.type,t,n-1,r,i);c!=null&&(o[l.name]=c)}));const s=$Y(o,a);if(!$H(s))return e.name!=="object"&&(s._type=e.name),s}const Jue={type:"loading"};function own(e,t,n,r,i){const a=n.observePaths({_type:"reference",_ref:la(r.documentId)},["_type"]),o=n.observePaths({_type:"reference",_ref:fn(r.documentId)},["_type"]);return Mn(a.pipe(de(s=>({draft:s}))),o.pipe(de(s=>({published:s})))).pipe(il((s,l)=>({...s,...l}),{}),$t(s=>"draft"in s&&"published"in s),de(s=>s.draft||s.published),xr((s,l)=>!!s!=!!l),CU(25)).pipe(mt(s=>{if(s)return xe({type:"success",value:null});if(!r.templateName)return xe({isResolving:!1,initialValue:void 0});const l=t.find(d=>d.id===r.templateName);if(!l)return console.warn('Template "%s" not defined, using empty initial value',r.templateName),xe({isResolving:!1,initialValue:void 0});const c=ar(OY(e,l,r.templateParams,i)).pipe(de(d=>({isResolving:!1,initialValue:d}))).pipe(Cn(d=>(console.group("Failed to resolve initial value"),console.error(d),console.error("Template ID: %s",r.templateName),console.error("Parameters: %o",r.templateParams),console.groupEnd(),xe({type:"error",error:d}))));return Mn(xe({isResolving:!0}),c).pipe(mt(({isResolving:d,initialValue:h,resolveError:p})=>xe(p?{type:"error",message:"Failed to resolve initial value"}:d?Jue:{type:"success",value:h})))}),Vi(Jue),xr())}const swn=(e,t,n,r)=>na(()=>e.observable.fetch(t,n,{tag:r.tag,filterResponse:!0,perspective:r.perspective})),lwn=(e,t,n,r)=>na(()=>e.listen(t,n,{events:["welcome","mutation","reconnect"],includeResult:!1,visibility:"query",tag:r.tag}));function Que(e){return e.type==="welcome"}function uwn(e,t,n={},r={}){const i=typeof t=="string"?t:t.fetch,a=typeof t=="string"?t:t.listen,o=lwn(e,a,n,r).pipe(It((h,p)=>p===0&&!Que(h)?kp(()=>new Error(h.type==="reconnect"?"Could not establish EventSource connection":`Received unexpected type of first event "${h.type}"`)):xe(h)),Yo()),[s,l]=xU(o,Que),c=h=>!r.transitions||h.type!=="mutation"?!0:r.transitions.includes(h.transition),d=()=>swn(e,i,n,r);return Mn(s.pipe($a(1)),l.pipe($t(c),fS(r.throttleTime||1e3,au,{leading:!0,trailing:!0}))).pipe(kG(h=>h.type==="mutation"&&h.visibility!=="query"?vi(1200).pipe(It(d)):d()))}function cwn(e,t,n="*"){if(n&&n!=="*")return xe(n);const r="*[_id in [$documentId, $draftId]]._type",i=fn(t),a=la(i);return e.observable.fetch(r,{documentId:i,draftId:a}).pipe(de(o=>o[0]))}function nw(e){if(PG(e))throw new Error("editOpsOf does not expect a draft id.");return{publishedId:e,draftId:la(e)}}function dwn({getClient:e,documentPreviewStore:t,historyStore:n,initialValueTemplates:r,schema:i,i18n:a,serverActionsEnabled:o}){const s=t.unstable_observeDocumentPairAvailability,l=e(Gt),c={client:l,getClient:e,observeDocumentPairAvailability:s,historyStore:n,schema:i,i18n:a,serverActionsEnabled:o};return{checkoutPair(d){return bOe(l,d,o)},initialValue(d,h){return own(i,r,t,d,h)},listenQuery(d,h,p){return uwn(l,d,h,p)},resolveTypeForDocument(d,h){return cwn(l,d,h)},pair:{consistencyStatus(d,h){return wOe(c.client,nw(d),h,o)},documentEvents(d,h){return qxn(c.client,nw(d),h,o)},editOperations(d,h){return Jxn(c,nw(d),h)},editState(d,h){return xOe(c,nw(d),h)},operationEvents(d,h){return NOe({client:l,historyStore:n,schema:i,serverActionsEnabled:o}).pipe($t(p=>p.args.idPair.publishedId===d&&p.args.typeName===h),de(p=>{const{operationName:m,idPair:g}=p.args;return p.type==="success"?{type:"success",op:m,id:g.publishedId}:{type:"error",op:m,id:g.publishedId,error:p.error}}))},validation(d,h){return Yxn(c,nw(d),h)}}}}const ece={isLoaded:!1,documentType:void 0};function fwn(e,t="*"){const n=vl(),r=fn(e),i=!!(t&&t!=="*"),a=f.useMemo(()=>({documentType:t,isLoaded:!0}),[t]),[o,s]=f.useState(i?a:ece);return f.useEffect(()=>s(ece),[r,t]),f.useEffect(()=>{if(i)return;const l=n.resolveTypeForDocument(r,t).subscribe(c=>s({documentType:c,isLoaded:!0}));return()=>l.unsubscribe()},[n,r,t,i]),i?a:o}function hwn(e,t){const n=ua(),r=f.useMemo(()=>e?n.observePaths({_type:"reference",_ref:e},t):xe(void 0),[e,n,t]);return wIe(r)}function pwn(e){const{documentId:t,documentType:n,templateName:r,templateParams:i}=e,a=Ha(i),o=vl(),s=RY(),l=f.useMemo(()=>({_id:t,_type:n}),[t,n]),[c,d]=f.useState({loading:!1,error:null,value:l});return f.useEffect(()=>{const h={documentId:t,documentType:n,templateName:r,templateParams:a};if(!r){d({loading:!0,error:null,value:l});return}const p=o.initialValue(h,s).subscribe(m=>{m.type==="loading"&&d({loading:!0,error:null,value:l}),m.type==="success"&&d({loading:!1,error:null,value:m.value?{...l,...m.value}:l}),m.type==="error"&&d({loading:!1,error:m.error,value:l})});return d({loading:!0,error:null,value:l}),()=>p.unsubscribe()},[l,t,o,n,r,a,s]),c}function RY(){const e=Dn(),t=en(),n=Kn(),r=O_(),i=YPe(),a=e.getClient;return f.useMemo(()=>({projectId:r,dataset:i,getClient:a,schema:t,currentUser:n}),[a,t,n,r,i])}function PY(){const e=RY();return f.useCallback((t,n)=>_M(t,n,MY,e),[e])}const LF=new WeakMap,LOe=1e3*120,tce=vi(LOe);function mwn(e){const{dataset:t}=e.config();return vi(0,LOe).pipe(mg(()=>e.observable.request({uri:`/data/actions/${t}`,withCredentials:!0}).pipe(gwn(),Aft({first:2e3,with:()=>xe(!1)}),Cn(()=>xe(!1)))),Yo({connector:()=>new gU(1),resetOnComplete:()=>tce,resetOnRefCountZero:()=>tce}))}function gwn(){return de(e=>e.enabled&&vTe.satisfies(Pl,e.compatibleStudioVersions,{includePrerelease:!0}))}const FY=e=>(LF.has(e)||LF.set(e,mwn(e)),LF.get(e));function vwn(e,t){const n=e.get(t);if(!n)throw new Error(`No such schema type: ${t}`);return n}function ywn({grantsStore:e,permission:t,draft:n,published:r,liveEdit:i}){const a=n||r,o=a===n?"draft":"published",{checkDocumentPermission:s}=e;switch(t){case"delete":return i?[["delete published document (live-edit)",s("update",r)]]:[["delete draft document",s("update",n)],["delete published document",s("update",r)]];case"discardDraft":return i?[]:[["delete draft document",s("update",n)]];case"publish":return i?[]:[["update published document at its current state",s("update",r)],["delete draft document",s("update",n)],["create published document from draft",s("create",n&&{...n,_id:fn(n._id)})]];case"unpublish":return i?[]:[["update draft document at its current state",s("create",n)],["delete published document",s("update",r)],["create draft document from published version",s("create",r&&{...r,_id:la(r._id)})]];case"update":return i?[["update published document (live-edit)",s("update",r)]]:[[`update ${o} document`,s("update",a)]];case"duplicate":return i?[["create new published document from existing document (live-edit)",s("create",{...r,_id:"dummy-id"})]]:[[`create new draft document from existing ${o} document`,s("create",{...a,_id:la("dummy-id")})]];default:throw new Error(`Could not match permission: ${t}`)}}function bwn({client:e,grantsStore:t,schema:n,id:r,permission:i,type:a,serverActionsEnabled:o}){if(a==="*")return xe({granted:!1,reason:"Type specified was `*`"});const s=!!vwn(n,a).liveEdit;return DY(e,{draftId:la(r),publishedId:fn(r)},a,o).pipe(mt(l=>aa([l.draft.snapshots$,l.published.snapshots$]).pipe(de(([c,d])=>({draft:c,published:d})))),mt(({draft:l,published:c})=>{const d=ywn({grantsStore:t,permission:i,draft:l,published:c,liveEdit:s}).map(([h,p])=>p.pipe(de(({granted:m,reason:g})=>({granted:m,reason:m?"":`not allowed to ${h}: ${g}`,label:h,permission:i}))));return d.length?aa(d).pipe(de(h=>{const p=h.every(g=>g.granted),m=p?"":`Unable to ${i}:
	${h.filter(g=>!g.granted).map(g=>g.reason).join(`
	`)}`;return{granted:p,reason:m}})):xe({granted:!0,reason:""})}))}const xwn=nm(bwn);function vd({id:e,type:t,permission:n,client:r,schema:i,grantsStore:a}){var o;const s=Zt(Gt),l=en(),c=BY(),d=Fr(),h=f.useMemo(()=>r||s,[s,r]),p=f.useMemo(()=>i||l,[l,i]),m=f.useMemo(()=>a||c,[c,a]),g=f.useMemo(()=>{var v;const b=(v=d.__internal_serverDocumentActions)==null?void 0:v.enabled;return typeof b=="boolean"?xe(b):FY(h)},[h,(o=d.__internal_serverDocumentActions)==null?void 0:o.enabled]);return xwn(f.useMemo(()=>({client:h,schema:p,grantsStore:m,id:e,permission:n,type:t,serverActionsEnabled:g}),[h,m,e,n,p,t,g]))}function BOe({grantsStore:e,document:t,permission:n}){const{checkDocumentPermission:r}=e;return r(n,t)}const wwn=nm(BOe);function Cwn({document:e,permission:t,...n}){const r=BY();return wwn({grantsStore:n.grantsStore||r,document:e,permission:t})}function Swn(e,t=cft){return n=>{const r=n;let i=null,a=null;const o=new Mr,s=o.pipe(il((l,c)=>l+c,0),mt(l=>l===0?vi(e,t).pipe(Qn(()=>{i&&(i.unsubscribe(),i=null),a&&(a.unsubscribe(),a=null)})):!i&&l>0?vi(0,t).pipe(Qn(()=>{i||(i=r.connect())})):bU));return Xft(()=>(a||(a=s.subscribe()),o.next(1),{unsubscribe:()=>o.next(-1)}),()=>n)}}const nce="_debug_",_wn=typeof window>"u"?xe({}):Io(window,"hashchange"),VOe=Ai(xe(0),_wn).pipe(de(()=>typeof document>"u"?"#":document.location.hash),xr(),de(e=>e.slice(1).split(";").filter(t=>t.toLowerCase().startsWith(nce)).map(t=>t.slice(nce.length)))),Ewn=VOe.pipe(de(e=>e.find(t=>t.startsWith("roles="))),de(e=>(e==null?void 0:e.split("roles=")[1].split(",").map(t=>t.trim()))||[])),kwn=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],rce=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],Twn=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],Awn=[{filter:'_id in path("**")',permissions:["read"]},{filter:'_id in path("drafts.**")',permissions:["create","history","update"]}],ice=[{filter:'_id in path("**")',permissions:["read","history"]}],jwn=[{filter:"!locked",permissions:["read","create","update"]}],Iwn=[{filter:'_id in path("drafts.**") && _type in ["stringsTest", "book", "author", "referenceTest"]',permissions:["read","create","history","update"]},{filter:'_id in path("**")',permissions:["read"]}],ace={administrator:kwn,editor:rce,developer:Twn,contributor:Awn,viewer:ice,restricted:Iwn,requiresApproval:jwn,read:ice,write:rce},Dwn=Ewn.pipe(de(e=>e.length?e.filter(t=>!!t&&t in ace).flatMap(t=>ace[t]||[]):null));async function $wn(e,t,n){return await e.request({uri:`/projects/${t}/datasets/${n}/acl`,tag:"acl.get",withCredentials:!0})}function Own(e){const t={};return e!==null&&(t.identity=e),t}const BF=new Map;async function Mwn(e,t,n){BF.has(t)||BF.set(t,dH(`*[${t}]`));const r=BF.get(t),i=Own(e),{identity:a}=i,o={...i},s=await(await f_e(r,{dataset:[n],identity:a,params:o})).get();return(s==null?void 0:s.length)===1}function Rwn(e){var t;const{client:n}=e,r=n.withConfig({apiVersion:"2021-06-07"}),i="userId"in e?e.userId:((t=e==null?void 0:e.currentUser)==null?void 0:t.id)||null,a=na(()=>xe(r.config())).pipe(mt(({projectId:s,dataset:l})=>{if(!s||!l)throw new Error("Missing projectId or dataset");return $wn(r,s,l)})),o=Dwn.pipe(mt(s=>s?xe(s):a),Ou(1),Swn(1e3));return{checkDocumentPermission(s,l){return o.pipe(mt(c=>zOe(i,c,s,l)),xr(Ap))}}}async function zOe(e,t,n,r){if(!r)return{granted:!0,reason:"Null document, nothing to check"};if(!t.length)return{granted:!1,reason:"No document grants"};const i=[];for(const o of t)await Mwn(e,o.filter,r)&&i.push(o);const a=i.some(o=>o.permissions.some(s=>s===n));return{granted:a,reason:a?"Matching grant":"No matching grants found"}}function UOe(e){return typeof e=="object"&&e!==null&&"serialize"in e?UOe(e.serialize()):e}function Pwn({grantsStore:e,templateItems:t,templates:n,schema:r,context:i}){return t!=null&&t.length?aa(t.map(UOe).map(async a=>{const o=n.find(l=>l.id===a.templateId);if(!o)throw new Error(`template not found: "${a.templateId}"`);const s=await OY(r,o,a.parameters,i,{useCache:!0});return{template:o,item:a,resolvedInitialValue:s}}).map(a=>ar(a).pipe(mt(({item:o,resolvedInitialValue:s,template:l})=>{const c=r.get(l.schemaType);if(!c)throw new Error(`schema type not found: "${l.schemaType}"`);const d=c==null?void 0:c.liveEdit,{initialDocumentId:h="dummy-id"}=o;return BOe({grantsStore:e,permission:"create",document:{_id:d?fn(h):la(h),...s}}).pipe(de(({granted:p,reason:m})=>{const g=o.title||l.title;return{...o,i18n:o.i18n||l.i18n,granted:p,reason:m,resolvedInitialValue:s,template:l,title:g,subtitle:c.title===g?void 0:c.title,description:o.description||l.description,icon:o.icon||l.icon}}))})))):xe([])}const Fwn=nm(Pwn);function NY({templateItems:e,...t}){const n=en(),r=nx(),i=BY(),a=RY();return Fwn({templateItems:e,grantsStore:t.grantsStore||i,schema:t.schema||n,templates:t.templates||r,context:a})}function Nwn(e){return e==="create"||e==="editDraft"}const Lwn=5*60*1e3;function Bwn(e,t){return Date.parse(t)-Date.parse(e)<Lwn}function oce(e,t){if(e.end!==t.start)throw new Error("chunks are not next to each other");const n=lce(e.draftState,t.draftState),r=lce(e.publishedState,t.publishedState);if(e.type==="delete"&&t.type==="editDraft")return[e,{...t,type:"create",draftState:n,publishedState:r}];if(t.type==="delete"){if(n==="missing"&&r==="present")return[e,{...t,type:"discardDraft",draftState:n,publishedState:r}];if(n==="present"&&r==="missing")return[e,{...t,type:"unpublish",draftState:n,publishedState:r}]}if(Nwn(e.type)&&t.type==="editDraft"&&Bwn(e.endTimestamp,t.startTimestamp)){const i=new Set;for(const a of e.authors)i.add(a);for(const a of t.authors)i.add(a);return{index:0,id:t.id,type:e.type,start:e.start,end:t.end,startTimestamp:e.startTimestamp,endTimestamp:t.endTimestamp,authors:i,draftState:n,publishedState:r}}return[e,{...t,draftState:n,publishedState:r}]}function sce(e){const t=!!e;return e&&j7(e==null?void 0:e.apply)?"deleted":t?"upsert":"unedited"}function Vwn(e){const t=sce(e.draftEffect),n=sce(e.publishedEffect);if(n==="unedited"){if(t==="deleted")return"delete";if(t==="upsert")return"editDraft"}if(n==="deleted")return"delete";if(n==="upsert"){if(t==="unedited")return"editLive";if(t==="deleted")return"publish";if(t==="upsert")return"editLive"}return"editLive"}function VF(e){const t=!!e.draftEffect,n=!!e.publishedEffect,r=e.draftEffect&&j7(e.draftEffect.apply),i=e.publishedEffect&&j7(e.publishedEffect.apply),a=Vwn(e);return{index:0,id:e.id,type:a,start:e.index,end:e.index+1,startTimestamp:e.timestamp,endTimestamp:e.timestamp,authors:new Set([e.author]),draftState:t?r?"missing":"present":"unknown",publishedState:n?i?"missing":"present":"unknown"}}function lce(e,t){return t==="unknown"?e:t}function j7(e){return e[0]===0&&e[1]===null}function zwn(e,t){return e&&t?e.author===t.author&&e.chunk===t.chunk:!e&&!t}function uce(e){return e.draft||e.published}var Uwn=Object.defineProperty,Hwn=(e,t,n)=>t in e?Uwn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ga=(e,t,n)=>Hwn(e,typeof t!="symbol"?t+"":t,n);class Wwn{constructor(t,n,r,i){ga(this,"type","array"),ga(this,"value"),ga(this,"length"),ga(this,"annotation"),ga(this,"extractor"),ga(this,"content"),ga(this,"elements",[]),this.content=t,this.value=n,this.annotation=r,this.extractor=i,this.length=t.elements.length}at(t){if(t>=this.length)throw new Error("out of bounds");return this.elements[t]||(this.elements[t]=pI(this.content.elements[t],this.value[t],this.extractor))}annotationAt(t){const n=this.content.metas[t];return this.extractor.fromMeta(n)}}class Gwn{constructor(t,n,r,i){ga(this,"type","object"),ga(this,"value"),ga(this,"keys"),ga(this,"annotation"),ga(this,"extractor"),ga(this,"content"),ga(this,"fields",{}),this.content=t,this.value=n,this.annotation=r,this.extractor=i,this.keys=Object.keys(t.fields)}get(t){const n=this.fields[t];if(n)return n;const r=this.content.fields[t];if(r)return this.fields[t]=pI(r,this.value[t],this.extractor)}}class Ywn{constructor(t,n,r,i){ga(this,"type","string"),ga(this,"value"),ga(this,"annotation"),ga(this,"extractor"),ga(this,"content"),this.content=t,this.value=n,this.annotation=r,this.extractor=i}sliceAnnotation(t,n){const r=[];let i=0;function a(o,s){if(r.length>0){const l=r[r.length-1];if(zwn(l.annotation,s)){l.text+=o;return}}r.push({text:o,annotation:s})}for(const o of this.content.parts){const s=o.value.length,l=Math.max(0,t-i);if(l<s){const c=Math.min(s,n-i);if(c<=0)break;a(o.value.slice(l,c),this.extractor.fromValue(o))}i+=s}return r}}function pI(e,t,n){const r=n.fromValue(e);if(e.content)switch(e.content.type){case"array":return new Wwn(e.content,t,r,n);case"object":return new Gwn(e.content,t,r,n);case"string":return new Ywn(e.content,t,r,n)}return AG(t,r)}function cce(e,t,n){return n?I7(e,n.transactionIndex+1,n.chunk.index):t?I7(e,t.start,t.index):null}function dce(e,t){return t?I7(e,t.transactionIndex,t.chunk.index):null}function I7(e,t,n){const r=e.transactionByIndex(t);if(!r)return null;const i=e.chunkByTransactionIndex(t,n);return i?{chunk:i,timestamp:r.timestamp,author:r.author}:null}function qwn(e,t,n,r,i,a){const o=pI(n,r,{fromValue(l){return cce(e,t,l.endMeta)},fromMeta(l){return cce(e,t,l)}}),s=pI(i,a,{fromValue(l){return dce(e,l.startMeta)},fromMeta(l){return dce(e,l)}});return UO(o,s)}var Kwn=Object.defineProperty,Zwn=(e,t,n)=>t in e?Kwn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fce=(e,t,n)=>Zwn(e,typeof t!="symbol"?t+"":t,n);class Uk{constructor(){fce(this,"_postive",[]),fce(this,"_negative",[])}addToEnd(t){t.index=this._postive.length,this._postive.push(t)}addToBeginning(t){if(this.length==0){this.addToEnd(t);return}t.index=-(this._negative.length+1),this._negative.push(t)}mergeAtEnd(t,n){if(this.length===0){this.addToEnd(t);return}const r=this.lastIdx,i=n(this.get(r),t);Array.isArray(i)?(this.set(r,i[0]),this.addToEnd(i[1])):this.set(r,i)}mergeAtBeginning(t,n){if(this.length===0){this.addToEnd(t);return}const r=this.firstIdx,i=n(t,this.get(r));Array.isArray(i)?(this.set(r,i[1]),this.addToBeginning(i[0])):this.set(r,i)}removeFromEnd(){this._postive.length===0?this._negative.shift():this._postive.pop()}has(t){return t>=0?t<this._postive.length:-(t+1)<this._negative.length}get(t){return t>=0?this._postive[t]:this._negative[-(t+1)]}set(t,n){t>=0?(n.index=t,this._postive[t]=n):(n.index=t,this._negative[-(t+1)]=n)}get lastIdx(){return this._postive.length-1}get last(){return this.get(this.lastIdx)}get firstIdx(){return-this._negative.length}get first(){return this.get(this.firstIdx)}get length(){return this._postive.length+this._negative.length}}var Xwn=Object.defineProperty,Jwn=(e,t,n)=>t in e?Xwn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dh=(e,t,n)=>Jwn(e,typeof t!="symbol"?t+"":t,n);let Qwn=class{constructor(t){dh(this,"reachedEarliestEntry",!1),dh(this,"publishedId"),dh(this,"draftId"),dh(this,"_transactions",new Uk),dh(this,"_chunks",new Uk),dh(this,"_possiblePendingTransactions",new Map),dh(this,"_recreateTransactionsFrom"),dh(this,"_trace"),this.publishedId=t.publishedId,this.draftId=`drafts.${t.publishedId}`,t.enableTrace&&(this._trace=[],this._trace.push({type:"initial",publishedId:t.publishedId}),window.__sanityTimelineTrace=this._trace)}get chunkCount(){return this._chunks.length}mapChunks(t){const n=[],r=this._chunks.firstIdx,i=this._chunks.lastIdx;for(let a=i;a>=r;a--)n.push(t(this._chunks.get(a),a));return n}reset(){this._transactions=new Uk,this._chunks=new Uk,this._possiblePendingTransactions=new Map,this._recreateTransactionsFrom=void 0,this.reachedEarliestEntry=!1}addRemoteMutation(t){this._trace&&this._trace.push({type:"addRemoteMutation",event:t});const n=this._possiblePendingTransactions.get(t.transactionId),r=n?n.transaction:{index:0,id:t.transactionId,timestamp:t.timestamp.toISOString(),author:t.author};t.version==="draft"?r.draftEffect=t.effects:r.publishedEffect=t.effects,n?(this._possiblePendingTransactions.delete(t.transactionId),this._invalidateTransactionFrom(n.idx)):(this._transactions.addToEnd(r),this._possiblePendingTransactions.set(t.transactionId,{transaction:r,idx:this._transactions.lastIdx}))}addTranslogEntry(t){this._trace&&this._trace.push({type:"addTranslogEntry",event:t}),this._transactions.addToBeginning({index:0,id:t.id,author:t.author,timestamp:t.timestamp,draftEffect:t.effects[this.draftId],publishedEffect:t.effects[this.publishedId]})}didReachEarliestEntry(){this._trace&&this._trace.push({type:"didReachEarliestEntry"}),this.reachedEarliestEntry=!0}updateChunks(){this._trace&&this._trace.push({type:"updateChunks"}),this._removeInvalidatedChunks(),this._addChunksFromTransactions(),this._createInitialChunk()}_removeInvalidatedChunks(){if(this._recreateTransactionsFrom){for(;this._chunks.length>0;){const t=this._chunks.last;if(this._recreateTransactionsFrom<t.end)this._chunks.removeFromEnd();else break}this._recreateTransactionsFrom=void 0}}_addChunksFromTransactions(){const t=this._transactions.firstIdx,n=this._transactions.lastIdx,r=this._chunks.length>0?this._chunks.last.end:t;for(let a=r;a<=n;a++){const o=this._transactions.get(a);this._chunks.mergeAtEnd(VF(o),oce)}if(this._chunks.length==0)return;const i=this._chunks.first.start;for(let a=i-1;a>=t;a--){const o=this._transactions.get(a);this._chunks.mergeAtBeginning(VF(o),oce)}}_invalidateTransactionFrom(t){(this._recreateTransactionsFrom===void 0||t<this._recreateTransactionsFrom)&&(this._recreateTransactionsFrom=t)}_createInitialChunk(){var t;if(this.reachedEarliestEntry){if(((t=this._chunks.first)==null?void 0:t.type)==="initial")return;const n=this._transactions.first;if(!n)return;const r=VF(n);r.type="initial",r.id="@initial",r.end=r.start,this._chunks.addToBeginning(r)}}parseTimeId(t){if(this._chunks.length===0)return this.reachedEarliestEntry?"invalid":"loading";const n=t.split("/",3),r=n.shift(),i=n.shift(),a=Number(r);for(let o=this._chunks.lastIdx;o>=this._chunks.firstIdx;o--){const s=this._chunks.get(o);if(s.id===i)return s;if(Date.parse(s.endTimestamp)+60*60*1e3<a)return"invalid"}return this.reachedEarliestEntry?"invalid":"loading"}findLastPublishedBefore(t){for(let n=t?t.index-1:this._chunks.lastIdx;n>=this._chunks.firstIdx;n--){const r=this._chunks.get(n);if(r.type==="publish"||r.type==="initial")return r}return this.reachedEarliestEntry?this._chunks.first:"loading"}isLatestChunk(t){return t===this._chunks.last}createTimeId(t){return`${t.endTimestamp.valueOf()}/${t.id}`}lastChunk(){return this._chunks.last}transactionByIndex(t){return this._transactions.has(t)?this._transactions.get(t):null}chunkByTransactionIndex(t,n=0){let r=n;for(;;){const i=this._chunks.get(r);if(!i)throw new Error("transaction does not belong in any chunk");if(t>=i.end)r++;else if(t<i.start)r--;else return i}}replayBackwardsBetween(t,n,r){let i=r.draft,a=r.published;for(let o=n;o>=t;o--){const s=this._transactions.get(o);s.draftEffect&&(i=rI(i,s.draftEffect.revert)),s.publishedEffect&&(a=rI(a,s.publishedEffect.revert))}return{draft:i,published:a}}replayBackwardsUntil(t,n){return this.replayBackwardsBetween(t,this._transactions.lastIdx,n)}calculateDiff(t,n,r,i){let a=_u.wrap(t.draft,null),o=_u.wrap(t.published,null);const s=eCn(a,o),l=uce(t);let c=null;for(let p=r;p<=i;p++){const m=this._chunks.get(p);c||(c=m);for(let g=m.start;g<m.end;g++){const v=this._transactions.get(g),b={chunk:m,transactionIndex:g},y=a,x=o;v.draftEffect&&(a=_u.applyPatch(a,v.draftEffect.apply,b)),v.publishedEffect&&(o=_u.applyPatch(o,v.publishedEffect.apply,b));const w=_u.getType(y)!=="null",C=_u.getType(a)!=="null";_u.getType(o)!=="null"&&!C&&(o=_u.rebaseValue(y,o)),C&&!w&&(a=_u.rebaseValue(x,a))}}const d=_u.getType(a)==="null"?o:a,h=uce(n);return qwn(this,c,s,l,d,h)}};function eCn(e,t){return _u.getType(e)==="null"?t:e}var tCn=Object.defineProperty,nCn=(e,t,n)=>t in e?tCn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zF=(e,t,n)=>nCn(e,typeof t!="symbol"?t+"":t,n);function hce(e){return{id:e,hasAttrs:!1,attrs:null,rev:null,events:[],aligned:!1}}function rCn(e,t){const n=t.events.findIndex(r=>e.id===r.transactionId);return n>=0?n+1:t.rev?t.rev===e.id?0:-1:0}function pce(e,t){if(e.hasAttrs=!0,t){if(e.attrs={...t},typeof e.attrs._rev!="string")throw new Error("snapshot has no _rev");e.rev=e.attrs._rev,delete e.attrs._rev}else e.attrs=null,e.rev=null;e.events=[]}class iCn{constructor(t){zF(this,"timeline"),zF(this,"earliestTransactionId",null),zF(this,"_states"),this.timeline=t,this._states={draft:hce(t.draftId),published:hce(t.publishedId)}}appendRemoteSnapshotEvent(t){const n=this._states[t.version];if(t.type==="snapshot"){this._maybeInvalidateHistory(),pce(n,t.document);return}t.type==="remoteMutation"&&(n.aligned?(this._apply(n,t),this.timeline.addRemoteMutation(t)):n.hasAttrs?n.events.push(t):pce(n,t.head))}prependHistoryEvent(t){if(!this.acceptsHistory)throw new Error("cannot prepend history at this point");for(const n of Object.values(this._states))if(!n.aligned){const r=rCn(t,n);r>=0&&this._alignAtIndex(n,r)}this.timeline.addTranslogEntry(t),this.earliestTransactionId=t.id}didReachEarliestEntry(){for(const t of Object.values(this._states))if(!t.aligned){if(t.attrs!==null)throw new Error("unable to find translog entry to align to");this._alignAtIndex(t,0)}this.timeline.didReachEarliestEntry()}get isAligned(){return Object.values(this._states).every(t=>t.aligned)}get acceptsHistory(){return this._isComplete}get currentDocument(){return{draft:this._states.draft.attrs,published:this._states.published.attrs}}_alignAtIndex(t,n){for(const r of t.events.slice(0,n))this._apply(t,r);for(const r of t.events.slice(n))this._apply(t,r),this.timeline.addRemoteMutation(r);t.events=[],t.aligned=!0}get _isComplete(){return Object.values(this._states).every(t=>t.hasAttrs)}_apply(t,n){t.attrs=rI(t.attrs,n.effects.apply),t.rev=n.transactionId}_maybeInvalidateHistory(){if(this._isComplete){for(const t of Object.values(this._states))t.aligned=!1;this.earliestTransactionId=null,this.timeline.reset()}}}async function HOe(e,t){const n=t?{headers:{Authorization:`Bearer ${t}`}}:{credentials:"include"},r=await fetch(e,n);return aCn(r)}function aCn(e){const t=e.body;if(!t)throw new Error("Failed to read body from response");let n,r=!1;return new ReadableStream({start(i){n=t.getReader();const a=new TextDecoder;let o="";n.read().then(function s(l){if(l.done){if(r)return;if(o=o.trim(),o.length===0){i.close();return}i.enqueue(JSON.parse(o)),i.close();return}o+=a.decode(l.value,{stream:!0});const c=o.split(`
`);for(let d=0;d<c.length-1;++d){const h=c[d].trim();if(h.length!==0)try{i.enqueue(JSON.parse(h))}catch(p){i.error(p),r=!0,n.cancel();return}}return o=c[c.length-1],n.read().then(s).catch(d=>i.error(d))}).catch(s=>i.error(s))},cancel(){r=!0,n.cancel()}})}var oCn=Object.defineProperty,sCn=(e,t,n)=>t in e?oCn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vm=(e,t,n)=>sCn(e,typeof t!="symbol"?t+"":t,n);class lCn{constructor(t,n,r,i){vm(this,"timeline"),vm(this,"start"),vm(this,"end"),vm(this,"doc"),vm(this,"_startDocument"),vm(this,"_endDocument"),vm(this,"_diff"),this.timeline=t,this.start=r,this.end=i,this.doc=n}same(t,n){return this.start===t&&this.end===n}endAttributes(){return mce(this.endDocument())}endDocument(){return this._endDocument||(this._endDocument=this.timeline.replayBackwardsUntil(this.end.end,this.doc)),this._endDocument}startAttributes(){return mce(this.startDocument())}startDocument(){if(!this.start)throw new Error("start required");return this._startDocument||(this._startDocument=this.timeline.replayBackwardsBetween(this.start.end,this.end.end-1,this.endDocument())),this._startDocument}diff(){if(!this._diff){if(!this.start)throw new Error("start required");this._diff=this.timeline.calculateDiff(this.startDocument(),this.endDocument(),this.start.index+1,this.end.index)}return this._diff}}function mce(e){return e.draft||e.published}var uCn=Object.defineProperty,cCn=(e,t,n)=>t in e?uCn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fo=(e,t,n)=>cCn(e,typeof t!="symbol"?t+"":t,n);const dCn=50;class fCn{constructor(t){fo(this,"timeline"),fo(this,"client"),fo(this,"handler"),fo(this,"version",0),fo(this,"selectionState","inactive"),fo(this,"_aligner"),fo(this,"_fetchMore",!1),fo(this,"_fetchAtLeast",0),fo(this,"_isRunning",!1),fo(this,"_isSuspended",!1),fo(this,"_didErr",!1),fo(this,"_since",null),fo(this,"_sinceTime",null),fo(this,"_rev",null),fo(this,"_revTime",null),fo(this,"_reconstruction"),this.timeline=t.timeline,this.client=t.client,this.handler=t.handler,this._aligner=new iCn(this.timeline),this.markChange()}clearRange(){this.setRange(null,null)}setRange(t,n){n!==this._rev&&this.setRevTime(n),t!==this._since&&this.setSinceTime(t);let r=10;if(this._sinceTime==="loading"||this._revTime==="loading"||!this._aligner.isAligned)this.selectionState="loading";else if(this._sinceTime==="invalid"||this._revTime==="invalid")this.selectionState="invalid";else if(this._sinceTime){this.selectionState="range";const i=this._revTime||this.timeline.lastChunk();this._sinceTime.index>i.index?(this._revTime="invalid",this.selectionState="invalid"):this.setReconstruction(this._sinceTime,i)}else this._revTime?(this.selectionState="rev",this.setReconstruction(null,this._revTime)):(this.selectionState="inactive",r=0);this._fetchAtLeast=r,this.start()}setLoadMore(t){this._fetchMore=t,this.start()}get sinceTime(){return this._sinceTime&&typeof this._sinceTime=="object"?this._sinceTime:null}get revTime(){return this._revTime&&typeof this._revTime=="object"?this._revTime:null}get realRevChunk(){return this.revTime||this.timeline.lastChunk()}onOlderRevision(){return!!this._rev&&(this.selectionState==="range"||this.selectionState==="rev")}findRangeForNewRev(t){const n=this.timeline.isLatestChunk(t)?null:this.timeline.createTimeId(t);if(!this._since)return[null,n];const r=this.sinceTime;return r&&r.index<t.index?[this._since,n]:["@lastPublished",n]}findRangeForNewSince(t){const n=this.revTime;return n&&t.index<n.index?[this.timeline.createTimeId(t),this._rev]:[this.timeline.createTimeId(t),null]}setRevTime(t){this._rev=t,this._revTime=t?this.timeline.parseTimeId(t):null,this._since==="@lastPublished"&&(this._since=null,this._sinceTime=null)}setSinceTime(t){t==="@lastPublished"?typeof this._revTime=="string"?this._sinceTime=this._revTime:this._sinceTime=this.timeline.findLastPublishedBefore(this._revTime):this._sinceTime=t?this.timeline.parseTimeId(t):null,this._since=t}sinceAttributes(){return this._sinceTime&&this._reconstruction?this._reconstruction.startAttributes():null}displayed(){return this._revTime&&this._reconstruction?this._reconstruction.endAttributes():null}setReconstruction(t,n){this._reconstruction&&this._reconstruction.same(t,n)||(this._reconstruction=new lCn(this.timeline,this._aligner.currentDocument,t,n))}currentDiff(){return this._reconstruction?this._reconstruction.diff():null}currentObjectDiff(){const t=this.currentDiff();if(t){if(t.type==="null")return null;if(t.type!=="object")throw new Error(`ObjectDiff expected, got ${t.type}`)}return t}handleRemoteMutation(t){this._aligner.appendRemoteSnapshotEvent(t),this.markChange(),this._aligner.acceptsHistory&&this.start()}start(){this._didErr||this._isRunning||(this._isRunning=!0,this.tick().then(()=>{this._isRunning=!1}))}resume(){this._isSuspended=!1}suspend(){this._isSuspended=!0}async tick(){var t;if(this._aligner.acceptsHistory&&!this.timeline.reachedEarliestEntry&&(this.selectionState==="loading"||this._fetchMore||this.timeline.chunkCount<=this._fetchAtLeast)&&!this._isSuspended){try{await this.fetchMoreTransactions()}catch(n){this._didErr=!0,(t=this.handler)==null||t.call(this,n,this);return}await this.tick()}}async fetchMoreTransactions(){const t=this.timeline.publishedId,n=this.timeline.draftId,r=this.client.config(),i=dCn;let a=`tag=sanity.studio.structure.history&effectFormat=mendoza&excludeContent=true&excludeMutations=true&includeIdentifiedDocumentsOnly=true&reverse=true&limit=${i}`,o=this._aligner.earliestTransactionId;o&&(a+=`&toTransaction=${o}`);const s=this.client.getUrl(`/data/history/${r.dataset}/transactions/${t},${n}?${a}`),l=(await HOe(s,r.token)).getReader();let c=0;for(;;){const d=await l.read();if(d.done)break;if("error"in d.value)throw new Error(d.value.error.description||d.value.error.type);if(c++,d.value.id!==o){if(this._aligner.earliestTransactionId!==o||!this._aligner.acceptsHistory)return;this._aligner.prependHistoryEvent(d.value),o=this._aligner.earliestTransactionId}}this._aligner.earliestTransactionId!==o||!this._aligner.acceptsHistory||(c<i&&this._aligner.didReachEarliestEntry(),this.markChange())}markChange(){var t;this.timeline.updateChunks(),this.setRevTime(this._rev),this.setSinceTime(this._rev),this.version++,(t=this.handler)==null||t.call(this,null,this)}}const gce=Object.create(null),hCn=(e,t,n={})=>{const r=Array.isArray(t)?t:[t],{time:i,revision:a}=n;if(i&&a)throw new Error("getHistory can't handle both time and revision parameters");let o=`/data/history/${e.config().dataset}/documents/${r.join(",")}`;if(a)o=`${o}?revision=${a}`;else{const s=i||new Date().toISOString();o=`${o}?time=${s}`}return e.request({url:o})},WOe=(e,t,n)=>{const r=fn(t),i=la(t),a=`${r}@${n}`,o=gce[a];if(o)return o;const s=`/data/history/${e.config().dataset}/documents/${r},${i}?revision=${n}`,l=e.request({url:s}).then(c=>{const d=c.documents||[],h=d.find(p=>p._id===r);return d.find(p=>p._id===i)||h});return gce[a]=l,l},pCn=({client:e,documentId:t,documentType:n})=>{const r=new Qwn({enableTrace:gl,publishedId:t});return new fCn({client:e,documentId:t,documentType:n,timeline:r})},mCn=async(e,t)=>{const n=Array.isArray(t)?t:[t],r=e.config().dataset,i={excludeContent:"true",includeIdentifiedDocumentsOnly:"true"},a=`/data/history/${r}/transactions/${n.join(",")}`;return(await e.request({url:a,query:i})).toString("utf8").split(`
`).filter(Boolean).map(o=>JSON.parse(o))},gCn=e=>Vje(e,(t,n)=>qs(n)&&!t.includes(n._ref)?[...t,n._ref]:t,[]);function D7(e,t){return Array.isArray(e)?t(e.map(n=>D7(n,t)).filter(n=>typeof n<"u")):yt(e)?t(Object.keys(e).reduce((n,r)=>{const i=D7(e[r],t);return typeof i<"u"&&(n[r]=i),n},{})):t(e)}const vCn=(e,t)=>D7(e,n=>qs(n)?t(n):n),yCn=(e,t)=>vCn(e,n=>t[n._ref]?n:void 0);function bCn(e,t,n,r,i){return ar(WOe(e,t,r)).pipe(It(a=>{if(!a)throw new Error(`Unable to find document with ID ${t} at revision ${r}`);const o=gCn(a).map(s=>`"${s}": defined(*[_id=="${s}"]._id)`).join(",");return e.observable.fetch(`{${o}}`).pipe(de(s=>yCn(a,s)))}),de(a=>{const{_updatedAt:o,...s}=a;return{...s,_id:n}}),It(a=>{if(i!=null&&i.useServerDocumentActions){const o={actionType:"sanity.action.document.replaceDraft",publishedId:t,attributes:a};return l0(e).observable.action(i.fromDeleted?[{actionType:"sanity.action.document.create",publishedId:t,attributes:a,ifExists:"fail"},o]:o)}return e.observable.createOrReplace(a,{visibility:"async"})}),de(()=>{}))}function xCn({client:e}){return{getDocumentAtRevision:(t,n)=>WOe(e,t,n),getHistory:(t,n)=>hCn(e,t,n),getTransactions:t=>mCn(e,t),restore:(t,n,r,i)=>bCn(e,t,n,r,i),getTimelineController:pCn}}function va(e,t){return tG.useSyncExternalStoreWithSelector(e.subscribe,e.getSnapshot,null,t)}const vce={chunks:[],diff:null,hasMoreChunks:null,isLoading:!1,isPristine:null,lastNonDeletedRevId:null,onOlderRevision:!1,realRevChunk:null,revTime:null,selectionState:"inactive",sinceAttributes:null,sinceTime:null,timelineDisplayed:null,timelineReady:!1};function wCn({documentId:e,documentType:t,onError:n,rev:r,since:i}){var a;const o=qOe(),s=f.useRef(null),l=f.useRef(vce),c=Zt(Gt),d=Fr(),h=f.useMemo(()=>o.getTimelineController({client:c,documentId:e,documentType:t}),[c,e,t,o]),p=f.useMemo(()=>new w$(h),[h]);f.useEffect(()=>(h.setRange(i||null,r||null),p.next(h),h.handler=(g,v)=>{g?p.error(g):setTimeout(()=>{v.setRange(i||null,r||null),p.next(v)},0)},h.resume(),()=>h.suspend()),[r,i,h,p]);const m=f.useMemo(()=>{var g;const v=(g=d.__internal_serverDocumentActions)==null?void 0:g.enabled;return typeof v=="boolean"?xe(v):FY(c)},[c,(a=d.__internal_serverDocumentActions)==null?void 0:a.enabled]);return f.useEffect(()=>(s.current||(s.current=Bxn(c,{draftId:`drafts.${e}`,publishedId:e},t,m).subscribe(g=>{h.handleRemoteMutation(g)})),()=>{s.current&&(s.current.unsubscribe(),s.current=null)}),[c,h,e,t,m]),f.useMemo(()=>({findRangeForRev:g=>h.findRangeForNewRev(g),findRangeForSince:g=>h.findRangeForNewSince(g),loadMore:()=>{h.setLoadMore(!0),l.current.isLoading=!0},getSnapshot:()=>l.current,subscribe:g=>{const v=p.pipe(de(b=>{var y;const x=b.timeline.mapChunks(_=>_),w=x.filter(_=>!["delete","initial"].includes(_.type)),C=!b.timeline.reachedEarliestEntry;C&&x.length>16&&b.setLoadMore(!1);const S=!["invalid","loading"].includes(b.selectionState);return{chunks:x,diff:b.sinceTime?b.currentObjectDiff():null,isLoading:!1,isPristine:S?x.length===0&&C===!1:null,hasMoreChunks:!b.timeline.reachedEarliestEntry,lastNonDeletedRevId:(y=w==null?void 0:w[0])==null?void 0:y.id,onOlderRevision:b.onOlderRevision(),realRevChunk:b.realRevChunk,revTime:b.revTime,selectionState:b.selectionState,sinceAttributes:b.sinceAttributes(),sinceTime:b.sinceTime,timelineDisplayed:b.displayed(),timelineReady:S}}),xr(_g),Cn(b=>(n==null||n(b),xe(vce))),Qn(b=>{l.current=b}),Qn(g)).subscribe();return()=>v.unsubscribe()}}),[h,n,p])}const CCn=e=>{if(e.type==="rollCall")return{type:"rollCall",userId:e.i,sessionId:e.session};if(e.type==="state"){const{sessionId:t,locations:n}=e.m;return{type:"state",userId:e.i,sessionId:t,timestamp:new Date().toISOString(),locations:n}}if(e.type==="disconnect")return{type:"disconnect",userId:e.i,sessionId:e.m.session,timestamp:new Date().toISOString()};throw new Error(`Got unknown presence event: ${JSON.stringify(e)}`)},SCn=(e,t)=>{const n=e.listen("presence").pipe(de(CCn)),r=i=>i.type==="rollCall"?e.request("presence_rollcall",{session:t}):i.type==="state"?e.request("presence_announce",{data:{locations:i.locations,sessionId:t}}):i.type==="disconnect"?e.request("presence_disconnect",{session:t}):nr;return[n.pipe(Yo()),r]},_Cn=["pqSMwf6hH","pnLYqNfv5","priDVVmy8","p0NFOU0j8","pTDl2jw8d","pHMeQnTse","pDQYzJbyS","pZyoPHKUs","p4Tyi2Be5","pb9vii060","pE8yhOisw","p7Fd2C6Cj","p3exSgYCx","pbIQRYViC","p8GJaTEhN","p27ewL8aM","pYg97z75S","pdLr4quHv","pkJXiDgg6","pkl4UAKcA","pNoExists"],ECn=[["nested","first"],["nested","second"],["nestedArray",{_key:"565c867c8dac"},"arrayNo1",{_key:"a645548a8f01"},"arrayNo1",{_key:"1685e372c40f"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"arrayNo19",{_key:"a02e7a93e2a2"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"arrayNo19",{_key:"a02e7a93e2a2"},"fieldNo19"],["address","country"],["address","street"],["customInputWithDefaultPresence","row3","cell3"]],kCn=na(()=>vi(0,1e4)).pipe(hy(_Cn),de((e,t)=>({type:"state",userId:e,sessionId:e+t,timestamp:new Date().toISOString(),locations:[{type:"document",documentId:"presence-debug",lastActiveAt:new Date().toISOString(),path:gWt(ECn)}]})),oa()),GOe="presence_session_id",TCn=()=>qHt(16);function ACn(){try{return window.sessionStorage.getItem(GOe)}catch{}return null}function jCn(e){try{window.sessionStorage.setItem(GOe,e)}catch{}return e}const Hk=ACn()||jCn(TCn());function ICn(e){const{bifur:t,connectionStatusStore:n,userStore:r}=e,[i,a]=SCn(t,Hk),o=new w$([]),s=o.pipe(xr()),l=T=>{o.next(T)},c=T=>a({type:"state",locations:T}),d=()=>a({type:"rollCall"}),h=i.pipe($t(T=>T.type==="rollCall"),$t(T=>T.sessionId!==Hk)),p=vi(0,3e4),m=na(()=>Mn(s,h)).pipe(mt(()=>p),lC(o),de(([,T])=>T),Qft(200),mt(T=>c(T)),hy(nr),Yo()),g=na(()=>d()).pipe(hy(nr)),v=n.connectionStatus$.pipe(de(T=>T.type),$t(T=>T==="connected"||T==="error"),xr()),b=VOe.pipe(de(T=>T.find(j=>j.startsWith("presence="))),de(T=>(T==null?void 0:T.split("presence=")[1].split(",").map(j=>j.trim()))||[])),y=b.pipe($t(T=>T.includes("fake_others")),Qn(()=>{console.log('Faking other users present in the studio. They will hang out in the document with _type: "presence" and _id: "presence-debug"')}),pht(kCn)),x=b.pipe(de(T=>T.includes("show_own"))),w=Mn(g,i).pipe($t(T=>T.type==="state"||T.type==="disconnect")),C=T=>({lastActiveAt:T.timestamp,locations:T.locations,sessionId:T.sessionId,userId:T.userId}),S=Mn(w,y).pipe(il((T,j)=>j.type==="disconnect"?Pa(T,j.sessionId):{...T,[j.sessionId]:C(j)},{})),_=v.pipe(mt(T=>T==="connected"?Mn(S,m):bU),de(T=>Object.values(T)),mt(T=>{const j=ra(T.map(I=>I.userId));return ar(r.getUsers(j)).pipe(de(I=>T.map(A=>({user:I.find($=>$.id===A.userId),session:A})).filter(E)))}),SU(Io(window,"beforeunload").pipe(mt(()=>a({type:"disconnect"})))),oa({refCount:!0,bufferSize:1}));function E(T){return!!(T.user&&T.session)}const k=_.pipe(de(T=>{const j=aH(T.map(I=>I.session),I=>I.userId);return Object.keys(j).map(I=>{var A;return{user:(A=T.find($=>$.user.id===I))==null?void 0:A.user,sessions:j[I]}})}),lC(x),de(([T,j])=>T.filter(I=>j?!0:!I.sessions.some(A=>A.sessionId===Hk))),de(T=>T.map(j=>{var I;return{user:j.user,status:"online",lastActiveAt:(I=j.sessions.sort()[0])==null?void 0:I.lastActiveAt,locations:cr((j.sessions||[]).map(A=>A.locations||[])).map(A=>({type:A.type,documentId:A.documentId,path:A.path,lastActiveAt:A.lastActiveAt})).reduce((A,$)=>A.concat($),[])}})));return{setLocation:l,reportLocations:c,debugPresenceParam$:b,globalPresence$:k,documentPresence:T=>_.pipe(lC(x),mt(([j,I])=>ar(j).pipe($t(A=>I||A.session.sessionId!==Hk),dht(A=>(A.session.locations||[]).filter($=>$.documentId===T).map($=>({user:A.user,lastActiveAt:A.session.lastActiveAt,path:$.path||[],sessionId:A.session.sessionId,selection:$==null?void 0:$.selection}))),HCe())))}}function DCn(e){const{client:t}=e,n=t.config().projectId,r=t.withConfig({apiVersion:"2021-12-15"});function i(){return r.observable.request({url:`/projects/${n}`})}function a(){return r.observable.request({url:`/projects/${n}/datasets`})}return{get:i,getDatasets:a}}function $Cn(){const e=new WeakMap,t=new WeakMap;function n(){return Array.from({length:10}).map(()=>Math.floor(Math.random()*255).toString(16).padStart(2,"0")).join("")}function r(c){const d=t.get(c);if(d)return d;const h=n();return t.set(c,h),h}function i(c){return Array.from(new Set(c)).map(d=>[r(d),d]).sort(([d],[h])=>d.localeCompare(h,"en")).map(([,d])=>d)}function a(c,d){if(!c.length)return;const[h,...p]=c,m=d.get(h);if(m)return p.length?a(p,m.next):m.value}function o(c,d,h){if(!c.length)return;const[p,...m]=c,g=d.get(p)||{type:"multi-key-weak-map-node",value:void 0,next:new WeakMap};if(d.set(p,g),!m.length){g.value=h;return}o(m,g.next,h)}function s(c){return a(i(c),e)}function l(c,d){o(i(c),e,d)}return{get:s,set:l}}function YOe({children:e}){const t=f.useMemo(()=>{const n=new Map,r={};return{get:({namespace:i,dependencies:a})=>{const o=a.map(l=>l===null?r:l),s=n.get(i);return s==null?void 0:s.get(o)},set:({namespace:i,dependencies:a,value:o})=>{const s=n.get(i)||$Cn(),l=a.map(c=>c===null?r:c);n.set(i,s),s.set(l,o)}}},[]);return u.jsx(ppe.Provider,{value:t,children:e})}function th(){const e=f.useContext(ppe);if(!e)throw new Error("Could not find `cache` context");return e}const OCn=[{id:"<system>",displayName:"Sanity",imageUrl:"https://public.sanity.io/logos/favicon-192.png"}];function MCn({client:e,currentUser:t}){const n=e.withConfig({apiVersion:"2021-06-07"}),r=new MTe(async a=>{const o=await n.request({uri:`/users/${a.join(",")}`,withCredentials:!0,tag:"users.get"}),s=(Array.isArray(o)?o:[o]).reduce((l,c)=>(c!=null&&c.id&&(l[c.id]=c),l),{});return a.map(l=>s[l]||null)},{batchScheduleFn:a=>$tn(a),maxBatchSize:400}),i=t&&{id:t.id,displayName:t.name,imageUrl:t.profileImage};return r.prime("me",i),i!=null&&i.id&&r.prime(i.id,i),OCn.forEach(a=>r.prime(a.id,a)),{getUser:async a=>{if(!a)return Promise.resolve(null);try{return await r.load(a)}catch(o){if(o.statusCode===403)return Promise.resolve(null);throw o}},getUsers:async a=>(await r.loadMany(a)).filter(o=>yt(o)&&typeof o.id=="string")}}function LY(){const{getClient:e,currentUser:t}=Dn(),n=th(),r=e(Gt);return f.useMemo(()=>{const i=n.get({namespace:"userStore",dependencies:[r,t]})||MCn({client:r,currentUser:t});return n.set({namespace:"userStore",dependencies:[r,t],value:i}),i},[r,t,n])}function BY(){const{getClient:e}=Dn(),t=e(Gt),n=Kn(),r=th();return f.useMemo(()=>{const i=r.get({namespace:"grantsStore",dependencies:[t,n]})||Rwn({client:t,userId:(n==null?void 0:n.id)||null});return r.set({namespace:"grantsStore",dependencies:[t,n],value:i}),i},[t,n,r])}function qOe(){const e=Zt(Gt),t=th();return f.useMemo(()=>{const n=t.get({namespace:"historyStore",dependencies:[e]})||xCn({client:e});return t.set({namespace:"historyStore",dependencies:[e],value:n}),n},[e,t])}function ua(){const e=Zt(Gt),t=th();return f.useMemo(()=>{const n=t.get({namespace:"documentPreviewStore",dependencies:[e]})||mxn({client:e});return t.set({namespace:"documentPreviewStore",dependencies:[e],value:n}),n},[e,t])}function vl(){var e;const{getClient:t,i18n:n}=Dn(),r=en(),i=nx(),a=th(),o=qOe(),s=ua(),l=Fr(),c=f.useMemo(()=>{var d;const h=(d=l.__internal_serverDocumentActions)==null?void 0:d.enabled;return typeof h=="boolean"?xe(h):FY(t(Gt))},[t,(e=l.__internal_serverDocumentActions)==null?void 0:e.enabled]);return f.useMemo(()=>{const d=a.get({namespace:"documentStore",dependencies:[t,s,o,r,n,l]})||dwn({getClient:t,documentPreviewStore:s,historyStore:o,initialValueTemplates:i,schema:r,i18n:n,serverActionsEnabled:c});return a.set({namespace:"documentStore",dependencies:[t,s,o,r,n],value:d}),d},[a,t,s,o,r,n,l,i,c])}function RCn(){const{bifur:e}=Dn().__internal,t=th();return f.useMemo(()=>{const n=t.get({namespace:"connectionStatusStore",dependencies:[e]})||von({bifur:e});return t.set({namespace:"connectionStatusStore",dependencies:[e],value:n}),n},[e,t])}function VY(){const{__internal:{bifur:e}}=Dn(),t=th(),n=LY(),r=RCn();return f.useMemo(()=>{const i=t.get({namespace:"presenceStore",dependencies:[e,r,n]})||ICn({bifur:e,connectionStatusStore:r,userStore:n});return t.set({namespace:"presenceStore",dependencies:[e,r,n],value:i}),i},[e,r,t,n])}function PCn(){const e=Zt(Gt),t=th();return f.useMemo(()=>{const n=t.get({namespace:"projectStore",dependencies:[e]})||DCn({client:e});return t.set({namespace:"projectStore",dependencies:[e],value:n}),n},[e,t])}function KOe(){const e=th(),t=Fr(),n=Zt(Gt);return f.useMemo(()=>{const r=e.get({dependencies:[t],namespace:"KeyValueStore"})||Han({client:n});return e.set({dependencies:[t],namespace:"KeyValueStore",value:r}),r},[n,e,t])}function qb(e){const t=VY(),[n,r]=f.useState([]);return f.useEffect(()=>{const i=t.documentPresence(e).subscribe(r);return()=>{i.unsubscribe()}},[e,t]),n}function FCn(){const[e,t]=f.useState([]),n=VY();return f.useEffect(()=>{const r=n.globalPresence$.subscribe(t);return()=>{r.unsubscribe()}},[n]),e}function Wo(e){if(!("diff"in e))return u.jsx(yce,{...e});const{diff:t,path:n=[],...r}=e,i=v_(t,n);return u.jsx(yce,{...r,annotations:i?[i]:[]})}function yce(e){const{annotations:t,children:n,description:r,...i}=e,{t:a}=Y();if(!t)return n;const o=u.jsxs(ee,{space:2,children:[u.jsx(N,{muted:!0,size:1,weight:"medium",children:r||a("changes.changed-label")}),u.jsx(ee,{space:2,children:t.map((s,l)=>u.jsx(NCn,{annotation:s},l))})]});return u.jsx(Mf,{zOffset:"paneFooter",children:u.jsx(gt,{content:o,portal:!0,...i,children:n})})}function NCn({annotation:e}){const{author:t,timestamp:n}=e,[r]=md(t),i=MIe(e),a=d0(n,{minimal:!0}),{t:o}=Y();return u.jsxs(An,{space:2,children:[u.jsxs(U,{align:"center",paddingRight:3,style:{backgroundColor:i.background,color:i.text,borderRadius:"calc(23px / 2)"},children:[u.jsx(sl,{user:t}),u.jsx(An,{paddingLeft:2,children:u.jsx(N,{muted:!0,size:1,style:{color:i.text},children:r?r.displayName:o("changes.loading-author")})})]}),u.jsx(N,{as:"time",muted:!0,size:1,dateTime:n,children:a})]})}const LCn=R(te)`
  --diff-card-radius: ${({theme:e})=>Se(e.sanity.radius[2])};
  --diff-card-bg-color: ${({theme:e})=>e.sanity.color.card.enabled.bg};

  max-width: 100%;
  position: relative;
  border-radius: var(--diff-card-radius);

  &:not(del) {
    text-decoration: none;
  }

  &[data-hover] {
    &::after {
      content: '';
      display: block;
      position: absolute;
      left: 0;
      right: 0;
      bottom: 0;
    }

    &:hover {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;

      &::after {
        bottom: -3px;
        border-top: 1px solid var(---diff-card-bg-color);
        border-bottom: 2px solid currentColor;
        border-bottom-left-radius: var(--diff-card-radius);
        border-bottom-right-radius: var(--diff-card-radius);
      }
    }

    [data-from-to-layout]:hover & {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;

      &::after {
        bottom: -3px;
        border-top: 1px solid var(---diff-card-bg-color);
        border-bottom: 2px solid currentColor;
        border-bottom-left-radius: var(--diff-card-radius);
        border-bottom-right-radius: var(--diff-card-radius);
      }
    }
  }
`,BCn=[],Ao=f.forwardRef(function(e,t){const{annotation:n,as:r="div",children:i,className:a,diff:o,disableHoverEffect:s,path:l=BCn,style:c={},tooltip:d,...h}=e,p=f.useMemo(()=>n||v_(o,l),[n,o,l]),m=MIe(p),g=u.jsx(LCn,{...h,as:r,className:a,"data-hover":s||!p?void 0:"",ref:t,radius:1,style:{...c,backgroundColor:m.background,color:m.text},children:i});return d&&p?u.jsx(Wo,{annotations:[p],description:d&&typeof d=="object"&&d.description,children:g}):g}),zY=R.div`
  border-radius: ${({theme:e})=>Se(e.sanity.radius[2])};
  padding: ${({theme:e})=>Se(e.sanity.space[1])};
`,mI=R(N)`
  &:not([hidden]) {
    color: inherit;
  }
`;function VCn(e){const{change:t,segment:n}=e;if(typeof n=="string")return u.jsx(L,{children:u.jsx(N,{title:n,size:1,weight:"medium",textOverflow:"ellipsis",children:n})});const{hasMoved:r,fromIndex:i,toIndex:a,annotation:o}=n,s=typeof i>"u",l=typeof a>"u";if(s)return u.jsx(zCn,{annotation:o,change:t,toIndex:a});if(l)return u.jsx(UCn,{annotation:o,fromIndex:i});if(r&&typeof a<"u"&&typeof i<"u")return u.jsx(HCn,{annotation:o,fromIndex:i,toIndex:a});const c=(a||0)+1;return u.jsx(L,{padding:1,children:u.jsxs(N,{size:1,weight:"medium",children:["#",c]})})}function zCn(e){const{annotation:t,change:n,toIndex:r=0}=e,{t:i}=Y(),a=r+1,o=i("changes.array.item-added-in-position",{position:a}),s=u.jsxs(u.Fragment,{children:["#",a]}),l=(n!=null&&n.diff?v_(n.diff,[]):void 0)||t;return l?u.jsx(Ao,{annotation:l,tooltip:{description:o},as:zY,children:u.jsx(mI,{size:1,weight:"medium",forwardedAs:"ins",style:{textDecoration:"none"},children:s})}):u.jsx(N,{size:1,weight:"medium",children:s})}function UCn(e){const{annotation:t,fromIndex:n=0}=e,{t:r}=Y(),i=n+1,a=r("changes.array.item-removed-from-position",{position:i});return u.jsx(Ao,{annotation:t||null,as:zY,tooltip:{description:a},children:u.jsxs(mI,{size:1,weight:"medium",forwardedAs:"del",children:["#",i]})})}function HCn(e){const{annotation:t,fromIndex:n,toIndex:r}=e,{t:i}=Y(),a=r-n,o=a<0?"↑":"↓",s=Math.abs(a),l=a<0?"up":"down",c=i("changes.array.item-moved",{count:s,context:l});return u.jsxs(u.Fragment,{children:[u.jsx(L,{padding:1,children:u.jsxs(mI,{size:1,weight:"medium",children:["#",r+1]})}),u.jsx(Ao,{annotation:t,as:zY,tooltip:{description:c},children:u.jsxs(mI,{size:1,weight:"medium",children:[o,Math.abs(a)]})})]})}function ZOe(e){const{change:t,titlePath:n}=e;return u.jsx(Mz,{maxLength:4,separator:u.jsx(N,{muted:!0,size:1,children:u.jsx(no,{})}),children:n.map((r,i)=>typeof r=="string"||!t||t.showIndex?u.jsx(VCn,{change:t,segment:r},i):null)})}function WCn(e){return yt(e)&&typeof(e==null?void 0:e.then)=="function"}function GCn(e,t,n){const{currentUser:r,document:i,parent:a,value:o}=n,s=f.useRef(!1);return f.useMemo(()=>{let l=!1;if(typeof e=="boolean"||e===void 0)return e||!1;try{l=e({document:i,parent:a,value:o,currentUser:r})}catch(c){return console.error(`An error occurred while running the callback from \`${t}\`: ${c.message}`),!1}return WCn(l)&&!s.current?(console.warn(`The \`${t}\` option is either a promise or a promise returning function. Async callbacks for \`${t}\` option is not currently supported.`),!1):(typeof l>"u"&&console.warn(`The \`${t}\` option is or returned \`undefined\`. \`${t}\` should return a boolean.`),l)},[e,i,a,o,r,t])}const $7=e=>{const{checkProperty:t=!1,checkPropertyKey:n,document:r,parent:i,value:a}=e,o=Ha(a),s=Kn();return GCn(t,n,{currentUser:s,document:r,parent:i,value:o})};function YCn(e){return $C(e)?e._type:KCn(e)}function qCn(e,t){return e.action==="added"?{toType:rw(t,e.toValue)}:e.action==="changed"?{fromType:rw(t,e.fromValue),toType:rw(t,e.toValue)}:e.action==="removed"?{fromType:rw(t,e.fromValue)}:{toType:rw(t,e.toValue)}}function rw(e,t){const n=YCn(t);return e.of.find(r=>r.name===n)||(e.of.length===1?e.of[0]:void 0)}function KCn(e){return Array.isArray(e)?"array":e===null?"null":typeof e}const Kb=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],EM="",Zb=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],ZCn="↲",gI=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],XCn=" ",XOe="⁠";function JCn(e){return e.of.some(QOe)}const QCn=Zb.map(e=>e[0]).concat(Kb.map(e=>e[0])),eSn=Zb.map(e=>e[1]).concat(Kb.map(e=>e[1])),JOe=QCn.concat(eSn).concat(gI).concat(EM).concat(XOe),bce=new RegExp(`${JOe.join("|")}`,"g"),tSn=new RegExp(`${JOe.join("|")}|
`,"g");function QOe(e){return e.jsonType==="object"&&e.name==="block"}function nSn(e){return yr(e)&&!!e.style&&["h1","h2","h3","h4","h5","h6"].includes(e.style)}function xce(e,t){return e.fields.children.items.filter(n=>n.diff.isChanged&&(n.diff.toValue===t||n.diff.fromValue===t)).map(n=>n.diff).map(n=>n)[0]}function O7(e,t){const n=e.find(r=>r.name==="children");return n&&n.type&&n.type.jsonType==="array"&&n.type.of.find(r=>r.name===t._type)||void 0}function UY(e){return e.decorators?Tb(e.decorators,["value"],["asc"]):[]}function eMe(e,t){return UY(t).some(n=>n.value===e)}function wce(e,t,n,r,i){return t?t.children.map(a=>{var o;let s=Ti(a)?(o=a.text)==null?void 0:o.replace(bce,""):"";if(Ti(a)){const l=HY(e,a),c=l==null?void 0:l.fields.text;c&&c.toValue===a.text&&c.type==="string"&&c.action!=="unchanged"&&(s=c.segments.filter(d=>d.action!=="removed").map(d=>d.text.replace(bce,"")).join(XOe)),a.marks&&a.marks.forEach(d=>{n[d]?s=`${n[d][0]}${s}${n[d][1]}`:r[d]&&(s=`${r[d][0]}${s}${r[d][1]}`)})}else s=i[a._key];return`${EM}${s}`}).join(""):""}function rSn(e,t){const n=e.action==="removed"?e.fromValue:e.toValue,r={...e,origin:e,displayValue:n};if(n){const i={},a={},o={},s=O7(t.fields,{_key:"bogus",_type:"span"});s&&UY(s).forEach((p,m)=>{a[p.value]=Zb[m]}),rMe(r.origin).forEach((p,m)=>{i[p._key]=Kb[m]}),tMe(r.origin).forEach((p,m)=>{o[p._key]=gI[m]});const l=wce(r.origin,r.fromValue,a,i,o),c=wce(r.origin,r.toValue,a,i,o),d={...n,children:[{_type:"span",_key:"pseudoSpanKey",text:c,marks:[]}]},h={displayValue:n,children:[{_type:"span",_key:"pseudoSpanKey",text:l,marks:[]}]};return{origin:e,action:"changed",type:"object",displayValue:d,fromValue:h,toValue:d,isChanged:!0,fields:{children:{action:"changed",type:"array",isChanged:!0,items:[{diff:{action:"changed",type:"object",isChanged:!0,fields:{text:{type:"string",action:"changed",isChanged:!0,fromValue:l,toValue:c,segments:iSn(l,c).map(p=>({...p,...r.action!=="unchanged"&&r.annotation?{annotation:r.annotation}:{}}))}},fromValue:h.children[0],toValue:d.children[0]},annotation:null,fromIndex:0,toIndex:0,hasMoved:!1}],fromValue:h.children,toValue:d.children}}}}throw new Error("Can not display this diff")}function iSn(e,t){const n=[],r=vO(Ob(e,t));let i=0,a=0;for(const[o,s]of r)switch(o){case Ut:n.push({type:"stringSegment",action:"unchanged",text:s}),i+=s.length,a+=s.length;break;case er:n.push({type:"stringSegment",action:"removed",text:e.slice(i,i+s.length),annotation:null}),i+=s.length;break;case br:n.push({type:"stringSegment",action:"added",text:t.slice(a,a+s.length),annotation:null}),a+=s.length;break}return cr(n.map(o=>{const s=[];if(o.text.length>1){const l=[...o.text.matchAll(tSn)];let c=-1;l.forEach(d=>{const h=d.index||0;h>c&&(s.push({...o,text:o.text.slice(c+1,h)}),s.push({...o,text:d[0]})),d===l[l.length-1]&&s.push({...o,text:o.text.slice(Math.max(0,h+1))}),c=h}),l.length===0&&s.push(o)}else s.push(o);return s}))}function tMe(e){const t=[...e.toValue?e.toValue.children.filter(n=>n._type!=="span"):[]];return(e.fromValue?e.fromValue.children.filter(n=>n._type!=="span"):[]).forEach(n=>{t.some(r=>n._key===r._key)||t.push(n)}),Tb(t,["_key"],["asc"])}function HY(e,t){const n=e.fields.children&&e.fields.children.action!=="unchanged"&&e.fields.children.type==="array"&&e.fields.children.items.find(r=>r.diff&&r.diff.type==="object"&&(r.diff.action==="removed"?r.diff.fromValue&&r.diff.fromValue._key===t._key:(r.diff.toValue&&r.diff.toValue._key)===t._key));if(n)return n.diff}function aSn(e,t){var n;return e.fields.markDefs&&e.fields.markDefs.isChanged&&e.fields.markDefs.type==="array"&&((n=e.fields.markDefs.items.find(r=>r.diff&&r.diff.type==="object"&&(r.diff.toValue&&r.diff.toValue._key&&r.diff.toValue._key===t||r.diff.fromValue&&r.diff.fromValue._key&&r.diff.fromValue._key===t)))==null?void 0:n.diff)||void 0}function nMe(e){return e&&wt(Object.keys(e),["_key","_type"])||!1}function oSn(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function rMe(e){const t=[...e.toValue&&e.toValue.markDefs?e.toValue.markDefs:[]];return(e.fromValue&&e.fromValue.markDefs?e.fromValue.markDefs:[]).forEach(n=>{t.some(r=>n._key===r._key)||t.push(n)}),Tb(t,["_key"],["asc"])}function Oo(e){const t=typeof e;if(t==="object"){if(e===null)return"null";if(Array.isArray(e))return"array";if(e instanceof Object&&e.constructor.name!=="Object")return e.constructor.name}return t}function M7(e,t){const{jsonType:n}=t,r=Array.isArray(e)?"array":typeof e;if(!(e===null||r==="undefined")){if(r!==n)return{messageKey:"changes.error.incorrect-type-message",value:e,expectedType:n,actualType:Oo(e)};if(sSn(t)&&lSn(e))for(const i of t.fields){const a=M7(e[i.name],i.type);if(a)return a}}}function sSn(e){return e.jsonType==="object"}function lSn(e){return e!==null&&!Array.isArray(e)&&typeof e=="object"}function iMe(e){return e.type==="field"}const uSn=[];function cSn({checked:e,color:t}){return u.jsxs("svg",{width:"17",height:"17",viewBox:"0 0 17 17",xmlns:"http://www.w3.org/2000/svg",fill:t==null?void 0:t.background,children:[u.jsx("rect",{x:"0",y:"0",width:"17",height:"17",rx:"2.5"}),typeof e>"u"&&u.jsx("path",{d:"M4.07996 8.5H12.92",stroke:t==null?void 0:t.text,strokeWidth:"2"}),e&&u.jsx("path",{d:"M3.5 8L7 11.5L13.5 5",stroke:t==null?void 0:t.text,strokeWidth:"2"})]})}function dSn({checked:e,color:t}){return u.jsxs("svg",{width:"38",height:"22",viewBox:"0 0 38 22",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("rect",{width:"38",height:"22",rx:"11",fill:e?t==null?void 0:t.border:t==null?void 0:t.background}),typeof e>"u"&&u.jsx("rect",{x:"11",y:"3",width:"16",height:"16",rx:"8",fill:"white"}),e&&u.jsx("rect",{x:"18",y:"3",width:"16",height:"16",rx:"8",fill:"white"}),typeof e=="boolean"&&!e&&u.jsx("rect",{x:"4",y:"3",width:"16",height:"16",rx:"8",fill:"white"})]})}const fSn=({diff:e,schemaType:t})=>{const{fromValue:n,toValue:r}=e,{title:i,options:a}=t,o=(a==null?void 0:a.layout)==="checkbox"?cSn:dSn,s=Iy(e,[]),l=r!=null;return u.jsxs(U,{align:"center",children:[u.jsx(Wo,{diff:e,children:u.jsxs(U,{align:"center",children:[u.jsx(o,{checked:n,color:s}),l&&u.jsxs(u.Fragment,{children:[u.jsx(L,{marginX:2,children:u.jsx(ZY,{})}),u.jsx(o,{checked:r,color:s})]})]})}),l&&i&&u.jsx(L,{marginLeft:2,children:u.jsx(N,{size:1,weight:"medium",children:i})})]})},hSn=R.div`
  display: inline-block;
  word-wrap: break-word;
`,pSn=function({value:e,schemaType:t}){return u.jsx(L,{as:hSn,paddingX:2,paddingY:1,children:mSn(e,t)})};function mSn(e,t){const{options:n,name:r}=t,i=(n==null?void 0:n.dateFormat)||Xp,a=(n==null?void 0:n.timeFormat)||JU;return Eb(new Date(e),r==="date"?i:`${i} ${a}`)}const Cce=({diff:e,schemaType:t})=>u.jsx(k_,{align:"center",diff:e,layout:"grid",previewComponent:pSn,schemaType:t});function kM(){const e=f.useContext(Ghe);if(!e)throw new Error("DocumentChange: missing context value");return e}function Sce(e){const[t,n]=f.useState(void 0),r=Zt(Gt);return f.useEffect(()=>{if(!e)return;const i=r.observable.getDocument(e).subscribe(n);return()=>{i.unsubscribe()}},[r,e]),e?t:void 0}function gSn(e,t){if(!e||!t)return 0;const n=t-e;return Math.round(n/e*100)}function R7(e,t){return e<1e3?t(e,"byte"):e<1e3*1e3?t(e/1e3,"kilobyte"):e<1e3*1e3*1e3?t(e/(1e3*1e3),"megabyte"):e<1e3*1e3*1e3*1e3?t(e/(1e3*1e3*1e3),"gigabyte"):t(e/(1e3*1e3*1e3*1e3),"terabyte")}const vSn=R.div`
  ${({theme:e})=>`
    --size-diff-positive: ${e.sanity.color.solid.positive.enabled.bg};
    --size-diff-negative: ${e.sanity.color.solid.critical.enabled.bg};
  `}
  &:not([hidden]) {
    display: inline-block;
  }

  [data-number='positive'] {
    color: var(--size-diff-positive);
  }

  [data-number='negative'] {
    color: var(--size-diff-negative);
  }
`,ySn=({diff:e,schemaType:t})=>{const{fromValue:n,toValue:r,fields:i}=e,a=n==null?void 0:n.asset,o=r==null?void 0:r.asset,{t:s}=Y(),l=Sce(a==null?void 0:a._ref),c=Sce(o==null?void 0:o._ref),d=QY({unitDisplay:"short",maximumFractionDigits:2}),h=Object.entries(i).filter(([S,_])=>_.isChanged&&S!=="_type").map(([S])=>S),p=h.includes("asset"),m=t.fields.filter(S=>S.name!=="asset"&&h.includes(S.name)).map(S=>S.name),g=gSn(l==null?void 0:l.size,c==null?void 0:c.size),v=(l==null?void 0:l.size)&&R7(l.size,d),b=(c==null?void 0:c.size)&&R7(c.size,d),y=f.useMemo(()=>({display:"block",flex:1}),[]),x=l&&u.jsx(Ao,{as:"del",diff:e,path:"asset._ref",style:y,children:u.jsx(B7,{title:l.originalFilename||s("changes.file.meta-info-fallback-title"),icon:Hu,children:u.jsx(N,{size:0,style:{color:"inherit"},children:v})})}),w=c&&u.jsx(Ao,{as:"ins",diff:e,path:"asset._ref",style:y,children:u.jsx(B7,{title:c.originalFilename||s("changes.file.meta-info-fallback-title"),icon:Hu,children:u.jsxs(U,{align:"center",children:[u.jsx(N,{size:0,style:{color:"inherit"},children:b}),g!==0&&u.jsx(te,{radius:2,padding:1,as:vSn,marginLeft:2,children:u.jsxs(N,{size:0,"data-number":g>0?"positive":"negative",children:[g>0?"+":"-",g,"%"]})})]})})}),C=u.jsxs(u.Fragment,{children:[x&&!w&&u.jsx(Wo,{diff:e,path:"asset._ref",description:s("changes.removed-label"),children:x}),x&&w&&u.jsx(Wo,{diff:e,path:"asset._ref",children:u.jsx(XY,{from:x,layout:"grid",to:w})}),!x&&w&&u.jsx(Wo,{diff:e,path:"asset._ref",description:s("changes.added-label"),children:w})]});return u.jsxs(u.Fragment,{children:[p&&C,m.length>0&&u.jsx(L,{marginTop:p?4:3,children:u.jsx(T_,{diff:e,schemaType:t,fields:m})})]})};function _ce(e,t){return`rgba(${(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e)||[]).slice(1).map(n=>parseInt(n,16)).concat(t).join(", ")})`}function bSn(e){let t=0;if(e.length==0)return t.toString();for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return t.toString()}function xSn(){const e=Math.ceil(window.devicePixelRatio||1);return Math.min(3,Math.max(1,e))}function wSn(e){const{crop:t,diff:n,hash:r,hotspot:i,width:a=100,height:o=100,...s}=e,{t:l}=Y(),c=Iy(n,"crop"),d=Iy(n,"hotspot");return u.jsxs("svg",{...s,fill:"none",width:a,height:o,viewBox:`0 0 ${a} ${o}`,children:[u.jsx("defs",{children:t&&i&&u.jsxs("mask",{id:`mask-hotspot-${r}`,children:[u.jsx("rect",{x:0,y:0,width:a,height:o,fill:"#fff"}),u.jsx(Ece,{hotspot:i,fill:"#000",offset:1,width:a,height:o,stroke:"#000",strokeWidth:3})]})}),t&&u.jsx(Wo,{diff:n,path:"crop",description:l("changes.image.crop-changed"),children:u.jsx("g",{children:u.jsx(CSn,{crop:t,fill:_ce(c.border,.25),mask:i?`url(#mask-hotspot-${r})`:void 0,stroke:c.border,strokeWidth:1,width:a,height:o})})}),i&&u.jsx(Wo,{diff:n,path:"hotspot",description:l("changes.image.crop-changed"),children:u.jsx("g",{children:u.jsx(Ece,{hotspot:i,fill:_ce(d.border,.25),stroke:d.border,strokeWidth:1,width:a,height:o})})})]})}function CSn({crop:e,width:t,height:n,...r}){const i={x:e.left*t,y:e.top*n,width:(1-e.right-e.left)*t,height:(1-e.bottom-e.top)*n};return u.jsx("rect",{...r,...i,style:{vectorEffect:"non-scaling-stroke"}})}function Ece({hotspot:e,offset:t=0,width:n,height:r,...i}){const a={cx:e.x*n,cy:e.y*r,rx:e.width/2*n+t,ry:e.height/2*r+t};return u.jsx("ellipse",{...i,...a,style:{vectorEffect:"non-scaling-stroke"}})}const SSn=["originalFilename"],kce=()=>{const{t:e}=Y();return u.jsx(te,{flex:1,tone:"transparent",padding:4,radius:2,height:"stretch",children:u.jsx(U,{align:"center",justify:"center",height:"fill",children:u.jsx(N,{size:1,muted:!0,children:e("changes.image.no-image-placeholder")})})})},_Sn=R.div`
  height: 100%;
  max-height: 190px;
  position: relative;

  /* Ideally the checkerboard component currently in the form builder should be made available and used here */
  background-color: ${Qe.gray[100].hex};
  background-image: linear-gradient(45deg, ${Qe.gray[50].hex} 25%, transparent 25%),
    linear-gradient(-45deg, ${Qe.gray[50].hex} 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, ${Qe.gray[50].hex} 75%),
    linear-gradient(-45deg, transparent 75%, ${Qe.gray[50].hex} 75%);
  background-size: 16px 16px;
  background-position:
    0 0,
    0 8px,
    8px -8px,
    -8px 0;

  &::after {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    box-shadow: inset 0 0 0 1px var(--card-border-color);
    pointer-events: none;
  }

  &[data-changed] {
    opacity: 0.45;
  }
`,ESn=R.img`
  display: block;
  flex: 1;
  min-height: 0;
  object-fit: contain;
  width: 100%;
  height: 100%;

  &[data-action='removed'] {
    opacity: 0.45;
  }
`,kSn=R.div`
  svg {
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
`;function UF(e){var t,n,r,i;const{id:a,action:o,diff:s,hotspot:l,crop:c,is:d}=e,{t:h}=Y(),p=Zt(Gt),[m,g]=f.useState(),{value:v}=hwn(a,SSn),b=wyt(a),y=f.useMemo(()=>z2(p),[p]),x=v===null,w=v&&v.originalFilename,C=y.image(a).height(190).dpr(xSn()).fit("max"),S=((n=(t=s.fromValue)==null?void 0:t.asset)==null?void 0:n._ref)!==((i=(r=s.toValue)==null?void 0:r.asset)==null?void 0:i._ref);let _;o&&o!=="changed"&&(_=h(o==="added"?"changes.added-label":"changes.removed-label"));const E=o==="changed"?void 0:o;return u.jsxs(U,{direction:"column",height:"fill",flex:1,children:[u.jsx(L,{flex:1,padding:2,paddingBottom:0,children:u.jsxs(U,{as:_Sn,direction:"column","data-changed":d==="from"&&S?"":void 0,"data-error":m?"":void 0,children:[!x&&!m&&u.jsx(ESn,{src:C.toString()||"",alt:w,"data-action":E,onError:g,width:b.width,height:b.height}),(x||m)&&u.jsx(L,{paddingY:5,children:u.jsx(N,{size:1,muted:!0,align:"center",children:h(x?"changes.image.deleted":"changes.image.error-loading-image")})}),u.jsx(kSn,{children:u.jsx(wSn,{crop:c&&!iyt(c)?c:void 0,diff:s,hash:bSn(`${C.toString()||""}-${d}`),hotspot:l&&!ayt(l)?l:void 0,width:b.width,height:b.height})})]})}),u.jsx(B7,{title:w||h("changes.image.meta-info-fallback-title"),icon:eu,markRemoved:S&&d==="from",children:_?u.jsx("div",{children:_}):u.jsxs("div",{children:[b.width," × ",b.height]})})]})}const TSn=["crop","hotspot"],ASn=["asset",...TSn],HF={flex:1},jSn=({diff:e,schemaType:t})=>{var n,r;const{t:i}=Y(),{fromValue:a,toValue:o,fields:s,isChanged:l}=e,c=(n=a==null?void 0:a.asset)==null?void 0:n._ref,d=(r=o==null?void 0:o.asset)==null?void 0:r._ref,h=v_(e,["asset","_ref"]),p=Object.keys(s).filter(k=>s[k].isChanged&&k!=="_type"),m=t.fields.filter(k=>!ASn.includes(k.name)&&p.includes(k.name)).map(k=>k.name);let g="changed";!c&&d?g="added":!d&&c&&(g="removed");const v=p.includes("asset"),b=p.includes("crop"),y=p.includes("hotspot"),x=b||y,w=v||x,C=x&&!v,S=a&&c?u.jsx(Ao,{annotation:h,style:HF,children:u.jsx(UF,{is:"from",id:c,diff:e,action:g,hotspot:C&&y?a.hotspot:void 0,crop:C&&b?a.crop:void 0})}):u.jsx(kce,{}),_=o&&d?u.jsx(Ao,{annotation:h,style:HF,children:u.jsx(UF,{is:"to",id:d,diff:e,hotspot:C&&y?o.hotspot:void 0,crop:C&&b?o.crop:void 0})}):u.jsx(kce,{});if(!S&&!_)return u.jsx(te,{padding:4,radius:2,tone:"transparent",children:u.jsx(N,{muted:!0,size:1,align:"center",children:i("changes.image.no-asset-set")})});if(!l)return d?u.jsx(Ao,{annotation:h,style:HF,children:u.jsx(UF,{id:d,is:"to",diff:e})}):null;const E=u.jsx(XY,{align:"center",from:S,layout:"grid",to:_});return u.jsxs(u.Fragment,{children:[w&&(v?u.jsx(Wo,{annotations:h?[h]:[],description:ISn(g,i),children:E}):E),m.length>0&&u.jsx(L,{marginTop:w?4:3,children:u.jsx(T_,{diff:e,schemaType:t,fields:m})})]})};function ISn(e,t){switch(e){case"changed":return t("changes.changed-label");case"added":return t("changes.added-label");case"removed":return t("changes.removed-label");default:return"Unknown change"}}const DSn=R.div`
  display: inline-block;
  word-break: break-all;
`,$Sn=e=>{const{value:t}=e;return u.jsx(L,{as:DSn,paddingX:2,paddingY:1,children:t})},OSn=({diff:e,schemaType:t})=>u.jsx(k_,{diff:e,schemaType:t,previewComponent:$Sn,layout:"inline"}),Xb=R(L)`
  &:not([hidden]) {
    display: inline;
    align-items: center;

    &[data-changed] {
      cursor: pointer;
    }
  }
`,aMe=R(N)`
  &:not([hidden]) {
    display: inline;
    color: inherit;
  }
`,WY=R(L)`
  &:not([hidden]) {
    display: inline-flex;
    align-items: center;

    ${Xb} [data-ui="Text"] {
      opacity: 0.5;
    }
  }
`,oMe=R(L)`
  min-width: 160px;
  max-height: 40vh;
  overflow-y: auto;
`,P7=R.div`
  text-decoration: none;
  display: inline;
  position: relative;
  border: 0;
  padding: 0;
  border-bottom: 2px dotted currentColor;
  box-shadow: inset 0 0 0 1px var(--card-border-color);
  white-space: nowrap;
  align-items: center;
  background-color: color(var(--card-fg-color) a(10%));

  &[data-changed] {
    cursor: pointer;
  }

  &[data-removed] {
    text-decoration: line-through;
  }

  &:hover ${WY} {
    opacity: 1;
  }
`;function MSn({children:e,diff:t,object:n,schemaType:r,path:i,...a}){const{t:o}=Y();return r?t&&t.action!=="unchanged"?u.jsx(RSn,{...a,diff:t,object:n,schemaType:r,path:i,children:e}):u.jsx(P7,{children:e}):u.jsx(P7,{...a,children:o("changes.portable-text.unknown-annotation-schema-type")})}function RSn({diff:e,children:t,object:n,schemaType:r,path:i,...a}){const{onSetFocus:o}=f.useContext(h0),{path:s}=f.useContext(mf),l=f.useRef(null),{t:c}=Y(),d=Iy(e,[]),h=f.useMemo(()=>d?{background:d.background,color:d.text}:{},[d]),p=e.action==="removed",[m,g]=f.useState(!1),v=n&&nMe(n),b=f.useMemo(()=>[i[0]].concat(["markDefs",{_key:n._key}]),[n._key,i]),y=f.useMemo(()=>s.slice(0,s.findIndex(A=>Pn(A)&&A._key===n._key)),[s,n._key]),x=f.useMemo(()=>y.concat(i),[i,y]),w=f.useMemo(()=>y.concat(b),[b,y]),C=`field-${qt(w)}`,S=MG(),_=f.useMemo(()=>S.filter(([A])=>A.startsWith(C)).length>0,[C,S]);f.useEffect(()=>{!m&&_&&(g(!0),o(w))},[_,w,o,m]);const E=f.useCallback(A=>{A.stopPropagation(),g(!0),p||(A.preventDefault(),o(x),setTimeout(()=>o(w),10))},[x,p,w,o]);yn(!_&&(()=>g(!1)),()=>[l.current]);const k=e.action!=="unchanged"&&e.annotation||null,T=f.useMemo(()=>k?[k]:[],[k]),j=f.useMemo(()=>({path:w}),[w]),I=u.jsx(mf.Provider,{value:j,children:u.jsx(oMe,{padding:3,children:u.jsxs("div",{children:[v&&u.jsx(N,{muted:!0,size:1,weight:"medium",children:c("changes.portable-text.empty-object-annotation",{annotationType:r.title||r.name})}),!v&&u.jsx(T_,{diff:e,schemaType:r})]})})});return u.jsx(P7,{...a,onClick:E,style:h,"data-changed":"","data-removed":e.action==="removed"?"":void 0,children:u.jsx(Fn,{content:I,open:m,ref:l,portal:!0,children:u.jsx(WY,{paddingLeft:1,children:u.jsx(Wo,{annotations:T,description:c("changes.portable-text.annotation",{context:e.action}),children:u.jsxs(Xb,{style:{display:"inline-flex"},children:[u.jsx("span",{children:t}),u.jsx(U,{align:"center",paddingX:1,children:u.jsx(aMe,{size:0,children:u.jsx(Ii,{})})})]})})})})})}const PSn=R.blockquote`
  margin: 0;
`;function FSn({children:e}){return u.jsx("div",{children:u.jsx(PSn,{children:e})})}const NSn={h1:2,h2:1,h3:0,h4:0,h5:0,h6:0},LSn=R(zi)`
  &:not([hidden]) {
    display: inline;
    text-transform: none;
    margin: 0;

    &::before,
    &::after {
      content: unset;
    }
  }
`;function BSn({style:e,children:t}){return u.jsx(LSn,{size:NSn[e],children:t})}const VSn=R.div`
  text-transform: none;
  white-space: wrap;
  overflow-wrap: break-word;
  margin: 0;
`;function zSn({children:e}){return u.jsx(VSn,{children:e})}const USn=[];function HSn(e){var t,n,r;const{diff:i,block:a,children:o}=e,s=Iy(i,USn),{path:l}=f.useContext(mf),{onSetFocus:c}=f.useContext(h0),{t:d}=Y(),h=i.action==="removed";let p=o;const m=f.useCallback(v=>{v.stopPropagation(),h||c(l)},[l,h,c]);a.style==="blockquote"?p=u.jsx(FSn,{children:p}):a.style&&nSn(a)?p=u.jsx(BSn,{style:a.style,children:p}):p=u.jsx(zSn,{children:p});let g;if(i.origin.action==="changed"&&i.origin.fields.style&&i.origin.fields.style.action==="changed"&&i.origin.fields.style.annotation){g=(n=(t=i==null?void 0:i.origin)==null?void 0:t.fromValue)==null?void 0:n.style;const v=s?{background:s.background,color:s.text}:{};p=u.jsx(te,{padding:3,border:!0,radius:2,style:{borderStyle:"dotted"},"diff-block-action":i.action,"data-block-note":`changed_from_style_${g||"undefined"}`,children:u.jsxs(ee,{space:2,children:[u.jsx(Wo,{annotations:[(r=i.origin.fields.style)==null?void 0:r.annotation],diff:i.origin.fields.style,children:u.jsx(N,{size:0,children:d("changes.portable-text.block-style-changed",{fromStyle:g,toStyle:a.style})})}),u.jsx(L,{style:v,children:p})]})})}return u.jsx("div",{onClick:m,"data-diff-block-action":i.action,"data-block-note":`changed_from_style_${g||"undefined"}`,children:p})}const WSn=R.span`
  display: inline;
  ${({theme:e,decoration:t})=>{switch(t){case"strong":return"font-weight: bold;";case"em":return"font-style: italic;";case"underline":return"text-decoration: underline;";case"overline":return"text-decoration: overline;";case"strike-through":return"text-decoration: line-through;";case"code":return`
          font-family: ${e.sanity.fonts.code.family};
          background: ${e.sanity.color.muted.default.enabled.bg};
        `;default:return""}}}
`;function GSn({mark:e,children:t}){return u.jsx(WSn,{decoration:e,children:t})}const F7=R(te)`
  &:not([hidden]) {
    display: inline;
    cursor: pointer;
    white-space: nowrap;
    align-items: center;

    &[data-removed] {
      text-decoration: line-through;
    }

    ${Xb} {
      display: inline-flex;
    }
  }
`;function YSn({diff:e,object:t,schemaType:n,...r}){const{t:i}=Y();return n?e?u.jsx(qSn,{...r,diff:e,object:t,schemaType:n}):u.jsx(F7,{children:u.jsx(Gb,{schemaType:n,value:t,layout:"inline"})}):u.jsx(F7,{...r,border:!0,radius:1,children:i("changes.portable-text.unknown-inline-object-schema-type",{schemaType:t._type})})}function qSn({diff:e,object:t,path:n,schemaType:r,...i}){const{path:a}=f.useContext(mf),{onSetFocus:o}=f.useContext(h0),{t:s}=Y(),l=Iy(e,[]),c=f.useMemo(()=>l?{background:l.background,color:l.text}:{},[l]),[d,h]=f.useState(!1),p=t&&nMe(t),m=e.action==="removed",g=a.slice(0,a.findIndex(k=>Pn(k)&&k._key===t._key)).concat(n),v=`field-${qt(g)}`,b=MG().filter(([k])=>k.startsWith(v)).length>0,y=a.slice(0,-1).concat(n).concat([O4e]);f.useEffect(()=>{b&&(h(!0),o(y))},[y,b,o]);const x=f.useCallback(k=>{if(k.stopPropagation(),h(!0),!m){o(y);return}k.preventDefault()},[y,m,o]),w=f.useCallback(()=>{h(!1)},[]),C=f.useMemo(()=>({path:g}),[g]),S=u.jsx(mf.Provider,{value:C,children:u.jsx(KSn,{diff:e,emptyObject:p,onClose:w,schemaType:r})}),_=e.action!=="unchanged"&&e.annotation||null,E=_?[_]:[];return u.jsx(F7,{...i,onClick:x,style:c,"data-removed":e.action==="removed"?"":void 0,border:!0,radius:2,children:u.jsx(Fn,{content:S,open:d,portal:!0,children:u.jsx(WY,{children:u.jsx(Wo,{annotations:E,description:s("changes.portable-text.inline-object",{context:e.action}),children:u.jsxs(Xb,{children:[u.jsx(Gb,{schemaType:r,value:t,layout:"inline"}),u.jsx(U,{align:"center",paddingX:1,children:u.jsx(aMe,{size:0,children:u.jsx(Ii,{})})})]})})})})})}function KSn({diff:e,emptyObject:t,onClose:n,schemaType:r}){const{t:i}=Y(),a=f.useRef(null);return yn(n,()=>[a.current]),u.jsxs(oMe,{ref:a,padding:3,children:[t&&u.jsx(N,{muted:!0,size:1,weight:"medium",children:i("changes.portable-text.empty-inline-object",{inlineObjectType:r.title||r.name})}),!t&&u.jsx(T_,{diff:e,schemaType:r})]})}function ZSn({diff:e,childDiff:t,children:n,path:r,segment:i,...a}){const o=e||t;return o&&o.action!=="unchanged"&&i.action!=="unchanged"?u.jsx(XSn,{...a,childDiff:t,diff:e,segment:i,path:r,children:n}):u.jsx(Xb,{children:n})}function XSn({diff:e,childDiff:t,children:n,path:r,segment:i,...a}){const{onSetFocus:o}=f.useContext(h0),{path:s}=f.useContext(mf),l=f.useMemo(()=>r.slice(-2,1)[0],[r]),{t:c}=Y(),d=e&&e.action==="removed",h=s.slice(0,s.findIndex(b=>Pn(b)&&Pn(l)&&b._key===l._key)).concat(r),p=f.useCallback(b=>{b.stopPropagation(),d||(b.preventDefault(),o(h))},[h,d,o]),m=e&&e.segments.find(b=>b.text===i.text)||e||t,g=m&&m.action!=="unchanged"&&m.annotation||null,v=g&&i.action!=="unchanged"?u.jsx(Ao,{annotation:g,as:i.action==="removed"?"del":"ins",tooltip:{description:c("changes.portable-text.text",{context:i.action})},children:n}):null;return u.jsx(Xb,{...a,onClick:p,"data-changed":"",children:u.jsx("span",{children:u.jsx(u.Fragment,{children:v||n})})})}const GY=Zb.map(e=>e[0]),YY=Zb.map(e=>e[1]),kT=Kb.map(e=>e[0]),N7=Kb.map(e=>e[1]),JSn=GY.concat(kT),sMe=YY.concat(N7),QSn=GY.concat(YY),e2n=new RegExp(`${QSn.concat(sMe).join("|")}`,"g");function t2n(e){const{diff:t,schemaType:n}=e,r=t.origin.toValue||t.origin.fromValue,{t:i}=Y(),a=f.useMemo(()=>t.origin.toValue?tMe(t.origin):[],[t.origin]),o=f.useCallback(s=>{const l=O7(n.fields,s);let c=[];if(l){c=UY(l);const d=t.fields.children,h=d.items[0].diff&&d.items[0].diff.type==="object"&&d.items[0].diff.fields.text.type==="string"&&d.items[0].diff.fields.text.segments||[],p=[],m={};if(i2n(r,t)&&(t.origin.action==="added"||t.origin.action==="removed")){const w=xce(t.origin,r.children[0])||t.origin;if(w&&w.action!=="unchanged")return u.jsx(Ao,{annotation:w.annotation,as:w.action==="removed"?"del":"ins",tooltip:{description:i("changes.portable-text.empty-text",{context:w.action})},children:u.jsx("span",{children:ZCn})},`empty-block-${r._key}`)}let g=-1,v=-1;const b=[];let y;const x=rMe(t.origin);return h.forEach(w=>{var C,S,_;v++;const E=gI.includes(w.text),k=JSn.includes(w.text),T=sMe.includes(w.text),j=w.text===EM,I=w.action==="removed";if(j)I||g++;else if(k||T){if(k&&kT.includes(w.text)){const A=x[kT.indexOf(w.text)];A&&b.push({mark:A._key,symbols:[w.text,N7[kT.indexOf(w.text)]],object:A})}T&&N7.includes(w.text)&&(y=b.pop())}else if(E){const A=gI.findIndex(M=>M===w.text),$=(C=a[A])==null?void 0:C._key,D=a[A];if($){const M=O7(n.fields,D),O=xce(t.origin,D);p.push(u.jsx(YSn,{object:D,path:[{_key:r._key},"children",{_key:D._key}],diff:O,schemaType:M},`inline-object-${D._key}`))}}else if(w.text){const A=()=>{var F;return(F=t.origin.fromValue)==null?void 0:F.children.find(P=>P.text&&P.text.match(oSn(w.text)))},$=r.children[g]||A(),D=$&&HY(t.origin,$);if(!$)throw new Error("Could not find child");const M=(S=D==null?void 0:D.fields)!=null&&S.text?(_=D==null?void 0:D.fields)==null?void 0:_.text:void 0,O=u.jsx(ZSn,{diff:M,path:[{_key:r._key},"children",{_key:$._key}],childDiff:D,segment:w,children:n2n({diff:t,child:$,decoratorTypes:c,seg:w,segIndex:v,spanSchemaType:l,t:i})},`text-${$._key}-${v}`);if(b.length>0&&b.forEach(F=>{m[F.mark]=m[F.mark]||[],m[F.mark].push(O)}),y){const F=`annotation-${y.object._key}`,P=p[p.length-1];if(P&&P.key!==F){const V=aSn(t.origin,y.mark),H=y&&l.annotations&&l.annotations.find(W=>y&&y.object&&W.name===y.object._type);p.push(u.jsx(MSn,{object:y.object,diff:V,path:[{_key:r._key},"children",{_key:$._key}],schemaType:H,children:u.jsx(u.Fragment,{children:m[y.mark]})},F))}y=void 0}b.length===0&&p.push(O)}}),f.createElement("div",{key:r._key},...p)}throw new Error("'span' schemaType not found")},[r,t,a,n,i]);return u.jsx(HSn,{block:t.displayValue,diff:t,children:u.jsx(u.Fragment,{children:(t.displayValue.children||[]).map(s=>o(s))})})}function n2n({diff:e,child:t,decoratorTypes:n,seg:r,segIndex:i,spanSchemaType:a,t:o}){if(r.text===`
`)return u.jsx("br",{});let s=u.jsx("span",{children:r.text.replace(/ /g,XCn)},`text-${i}`);const l=t&&HY(e.origin,t),c=Ti(t)?t.marks||[]:[];return l&&(s=r2n({activeMarks:c,decoratorTypes:n,diff:e,children:s,seg:r,segIndex:i,spanDiff:l,spanSchemaType:a,t:o})),c&&c.length>0&&c.forEach(d=>{eMe(d,a)&&(s=u.jsx(GSn,{mark:d,children:s},`decorator-${d}-${t._key}-${i}`))}),s}function r2n({activeMarks:e,decoratorTypes:t,diff:n,children:r,seg:i,segIndex:a,spanDiff:o,spanSchemaType:s,t:l}){var c;let d=u.jsx("span",{children:r},`text-segment-${a}`);const h=n.origin.fromValue&&n.fromValue&&n.fromValue.children[0].text||"",p=o&&o.action!=="unchanged"&&o.annotation||void 0,m=(c=o==null?void 0:o.fields)==null?void 0:c.marks,g=m&&m.action!=="unchanged"&&m.annotation||p;let v=[];const b=h.split(EM).filter(C=>!!C).join(""),y=b.slice(0,Math.max(0,b.indexOf(i.text)+i.text.length)),x=y.slice(0,Math.max(0,y.indexOf(i.text))),w=[];return[...x.matchAll(e2n)].forEach(C=>{var S;const _=C[0],E=Zb.concat(Kb).find(k=>k.indexOf(_)>-1);if(E){const k=_===E[0],T=((S=t[k?GY.indexOf(_):YY.indexOf(_)])==null?void 0:S.value)||_;x.lastIndexOf(_)>x.lastIndexOf(E[1])&&w.push(T)}}),v=urn(e,ra(w)),g&&v.length>0&&v.some(C=>eMe(C,s))&&(d=u.jsx(Ao,{annotation:g,as:"ins",tooltip:{description:l("changes.portable-text.changed-formatting")},children:d},`diffcard-annotation-${a}-${v.join("-")}`)),d}function i2n(e,t){return e.children.length===1&&e.children[0]._type==="span"&&typeof e.children[0].text=="string"&&e.children[0].text===""&&t.origin.action!=="unchanged"}const a2n=e=>{const{diff:t,schemaType:n}=e,r=f.useMemo(()=>rSn(t,n),[t,n]);return u.jsx("div",{"data-diff-action":t.action,children:u.jsx(t2n,{diff:r,schemaType:n})})},o2n=R.div`
  word-wrap: break-word;
`,s2n=({value:e,schemaType:t})=>u.jsx(L,{as:o2n,padding:2,children:u.jsx(Gb,{schemaType:t,value:e,layout:"default"})}),l2n=({diff:e,schemaType:t})=>u.jsx(k_,{align:"center",diff:e,layout:"grid",path:"_ref",previewComponent:s2n,schemaType:t}),u2n=R.div`
  display: inline-block;
  word-break: break-all;
  white-space: pre-wrap;
`,c2n=e=>{const{value:t}=e;return u.jsx(L,{as:u2n,paddingX:2,paddingY:1,children:t})},d2n=R.div`
  white-space: pre-wrap;
  word-wrap: break-word;
`,f2n=({diff:e,schemaType:t})=>{const{options:n}=t;return n!=null&&n.list?u.jsx(k_,{diff:e,previewComponent:c2n,schemaType:t}):u.jsx(d2n,{children:u.jsx(X2n,{diff:e})})},Tce={block:a2n,boolean:{component:fSn,showHeader:!1},date:Cce,datetime:Cce,file:ySn,image:jSn,number:OSn,reference:l2n,string:f2n};function lMe(e,t){var n;let r=e;for(;r;){const a=((n=r==null?void 0:r.components)==null?void 0:n.diff)||h2n(r,t)||Tce[r.name];if(a)return a;r=r.type}const i=["date","datetime"].includes(e.name)?e.name:e.jsonType;return Tce[i]}function h2n(e,t){const n=uSn;let r;for(const i of n){if(typeof i!="function"){console.error("Diff component resolver is not a function: ",i);continue}if(r=i({schemaType:e,parentSchemaType:t}),r)return r}}function qY(e,t,n=[],r=[],i={}){if(!lMe(e,i.parentSchema)){if(e.jsonType==="object"&&t.type==="object")return uMe(e,t,n,r,i);if(e.jsonType==="array"&&t.type==="array")return g2n(e,t,n,r)}return cMe(e,t,n,r,i)}function uMe(e,t,n=[],r=[],i={}){const a=[],o={...i,parentSchema:e},s=e.fieldsets||e.fields.map(l=>({single:!0,field:l}));for(const l of s)l.single?a.push(...p2n(l.field,t,n,r,o)):a.push(...m2n(l,t,n,r,o));return a.length<2?a:[{type:"group",key:qn(n)||"root",path:n,titlePath:r,changes:KY(a,r.length),schemaType:e}]}function p2n(e,t,n,r,i={}){const{fieldFilter:a,...o}=i,s=t.fields[e.name];if(!s||!s.isChanged||a&&!a.includes(e.name))return[];const l=n.concat([e.name]),c=r.concat([e.type.title||e.name]);return qY(e.type,s,l,c,o)}function m2n(e,t,n,r,i={}){const{fields:a,name:o,title:s,readOnly:l,hidden:c}=e,{fieldFilter:d,...h}=i,p=c,m=l,g=r.concat([s||o]),v=[];for(const b of a){const y=t.fields[b.name];if(!y||!y.isChanged||d&&!d.includes(b.name))continue;const x=n.concat([b.name]),w=g.concat([b.type.title||b.name]);v.push(...qY({readOnly:m,hidden:p,...b.type},y,x,w,h))}return v.length<2?v:[{type:"group",key:qn(n)||"root",fieldsetName:o,path:n,titlePath:g,changes:KY(v,g.length),readOnly:m,hidden:p}]}function g2n(e,t,n=[],r=[]){const i=t.items.filter(l=>l.hasMoved&&l.fromIndex!==l.toIndex||l.diff.action!=="unchanged");if(i.length===0)return[];const a=JCn(e),o=[],s=i.reduce((l,c)=>{const d=qCn(c.diff,e),h=d.toType||d.fromType;if(!h)return console.warn("Could not determine schema type for item at %s",qn(n)),l;const p=c7(c.diff.fromValue)||c7(c.diff.toValue)||t.items.indexOf(c),m=n.concat(p),g={itemDiff:c,parentDiff:t,parentSchema:e},v=r.concat({hasMoved:c.hasMoved,toIndex:c.toIndex,fromIndex:c.fromIndex,annotation:c.diff.action==="unchanged"?c.annotation:c.diff.annotation}),b=x=>(x.type==="field"&&jIe(m,x.path)&&(x.itemDiff=c),x),y=qY(h,c.diff,m,v,g).map(b);return a&&y.filter(iMe).forEach((x,w,C)=>{x.showHeader=C.length===1,x.showIndex=c.fromIndex!==c.toIndex&&c.hasMoved}),y.length===0?l.push(...cMe(h,c.diff,m,v,g)):l.push(...y),l},o);return s.length>1?[{type:"group",key:qn(n)||"root",path:n,titlePath:r,changes:KY(s,r.length),schemaType:e}]:s}function cMe(e,t,n,r,{itemDiff:i,parentDiff:a,parentSchema:o}={}){const{fromValue:s,toValue:l,type:c}=t;if(c==="array"&&Ace(s)&&Ace(l))return[];let d;typeof s<"u"&&(d=M7(s,e)),!d&&typeof l<"u"&&(d=M7(l,e));let h=!0,p;const m=lMe(e,o);return m&&typeof m=="function"?p=m:m&&(p=m.component,h=typeof m.showHeader>"u"?h:m.showHeader),[{type:"field",diff:t,path:n,error:d,itemDiff:i,parentDiff:a,titlePath:r,schemaType:e,showHeader:h,showIndex:!0,key:qn(n)||"root",diffComponent:d?void 0:p,parentSchema:o}]}function KY(e,t=1){return e.map(n=>(n.titlePath=n.titlePath.slice(t),n))}function Ace(e){return Array.isArray(e)&&e.length===0||e===null||typeof e>"u"}const jce=e=>e.type==="field"&&e.diff.action==="added",dMe=e=>{if(e.type!=="group")return[e];const t=[];return e.changes.forEach(n=>{t.push(...dMe(n))}),t},fMe=(e,t)=>{if(t.length>=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},v2n=(e,t)=>{const n=e[t],r=IIe(n);return r?{_key:r}:Array.isArray(e)?parseInt(t,10):t},y2n={diffMatchPatch:{enabled:!1,lengthThresholdAbsolute:30,lengthThresholdRelative:1.2}};function TM(e,t,n){if(!t)return;const r=[];if(e.type==="group"){const i=dMe(e),a=i.filter(jce);i.filter(o=>!jce(o)).forEach(o=>TM(o,t,n)),r.push(...Ice(t,a.map(o=>o.path).reverse()))}else e.diff.action==="added"?r.push(...Ice(t,[e.path])):e.type==="field"&&e.itemDiff&&e.parentDiff&&e.parentDiff.type==="array"&&e.itemDiff.hasMoved?r.push(...x2n(e.itemDiff,e.parentDiff,e.path)):r.push(...w2n(e.diff,t,e.path));n.patch.execute(r)}function b2n(e,t,n){const r=e.toValue;return hMe(r,t,n)}function Ice(e,t){const n=[];for(let r=0;r<t.length;r++)n.some(i=>fMe(t[r],i))||n.push(b2n(e,t[r],t));return[{unset:[...new Set(n.map(qn))]}]}function hMe(e,t,n=[],r){if(t.length<=0)throw new Error("Root has no ancestor");const i=t.slice(0,-1),a=ia(e,i),o=[i,...n.filter(s=>!fMe(s,i))];return pMe(a,i,n)?hMe(e,i,o):t}function x2n(e,t,n){const r=n.slice(0,-1),{parentValue:i,fromIndex:a,fromValue:o}=_2n(t,e);let s;if(a===0)s={before:qn([...r,0])};else{const l=a-1,c=c7(i[l])||l;s={after:qn([...r,c])}}return[{unset:[qn(n)]},{insert:{...s,items:[o]}}]}function w2n(e,t,n){const r=GO(e.toValue,e.fromValue,y2n,n),i=r.filter(d=>d.op==="insert").map(({after:d,items:h})=>({insert:{after:qn(d),items:h}})),a=r.filter(d=>d.op==="unset").reduce((d,h)=>d.concat(qn(h.path)),[]),o=new Set,s=[];let l=!1;const c=r.filter(d=>d.op==="set").reduce((d,h)=>(l=!0,s.push(...C2n(h.path,t,o)),d[qn(h.path)]=h.value,d),{});return[...s,...i,...a.length>0?[{unset:a}]:[],...l?[{set:c}]:[]]}function C2n(e,t,n){const r=t.fromValue,i=t.toValue,a=[];for(let o=1;o<=e.length;o++){const s=e.slice(0,o),l=qn(s);if(n.has(l))continue;const c=e[o],d=Pn(c)||Cs(c),h=ia(r,s),p=Dce(h);if(d&&Array.isArray(h)&&!ia(i,e.slice(0,o+1))){const m=San(h,c),g=h[m-1],v=ia(r,s.concat(c)),b=Uu(g)?{_key:g._key}:m-1,y=qn(s.concat(m<1?0:b));a.push({setIfMissing:{[l]:[]}}),a.push({insert:{after:y,items:[Dce(v)]}}),o++;continue}typeof p>"u"||(n.add(l),a.push({setIfMissing:{[l]:p}}))}return a}function S2n(e,t,n){if(!yt(e)||!Array.isArray(e))return!1;for(const r in e){if(!Object.prototype.hasOwnProperty.call(e,r)||r==="_type"||r==="_key")continue;const i=[...t,v2n(e,r)];if(!pMe(e[r],i,n))return!1}return!0}function pMe(e,t,n){const r=n==null?void 0:n.some(a=>qn(a)===qn(t)),i=Array.isArray(e)&&e.length<=0;return r||e===void 0||e===null||i||jan(e)||S2n(e,t,n)}function Dce(e){if(Array.isArray(e))return[];if(typeof e!="object"||e===null)return;const t={};return Uu(e)&&(t._key=e._key),$C(e)&&(t._type=e._type),t}function _2n(e,t){if(e.fromValue&&typeof t.fromIndex=="number"){const n=e.fromValue[t.fromIndex];return{parentValue:e.fromValue,fromIndex:t.fromIndex,fromValue:n}}throw new Error(`Failed to find item at index ${t.fromIndex}`)}const E2n=R.div`
  display: grid;
  grid-template-columns: minmax(0, 1fr);
`;var k2n=Object.defineProperty,T2n=(e,t,n)=>t in e?k2n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,A2n=(e,t,n)=>T2n(e,t+"",n);class j2n extends f.Component{constructor(){super(...arguments),A2n(this,"state",{})}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t){console.error("Error rendering diff component: "),console.error(t)}render(){const{t}=this.props,{error:n}=this.state;return n?u.jsx(te,{padding:3,radius:2,tone:"critical",children:u.jsxs(U,{children:[u.jsx(N,{size:1,children:u.jsx(Ea,{})}),u.jsxs(L,{paddingLeft:3,children:[u.jsx(N,{as:"h3",size:1,weight:"medium",children:t("changes.error-boundary.title")}),gl]})]})}):this.props.children}}const I2n={down:rB,right:iB};function ZY(e){const{direction:t="right",...n}=e,r=I2n[t];return u.jsx(N,{muted:!0,size:1,...n,children:f.createElement(r)})}const WF=R.pre`
  overflow-x: auto;
  position: relative;
`,D2n=R.div`
  position: absolute;
  top: 0;
  right: 0;
`;function $2n(e){const{children:t,as:n,change:r,...i}=e,a=f.useRef(!1),[o,s]=f.useState(!1),l=f.useCallback(()=>s(h=>!h),[s]),c=f.useCallback(()=>a.current=!0,[]),d=f.useCallback(()=>a.current=!1,[a]);return f.useEffect(()=>{function h(p){const{metaKey:m,key:g}=p;m&&g==="i"&&a.current&&l()}return window.addEventListener("keydown",h,!1),()=>window.removeEventListener("keydown",h,!1)},[l]),u.jsx(L,{as:n,onMouseEnter:c,onMouseLeave:d,...i,children:o?u.jsx(O2n,{change:r}):t})}const GF=({title:e})=>u.jsx(L,{padding:3,display:"inline-block",as:D2n,children:u.jsx(N,{muted:!0,size:1,weight:"medium",children:e})});function O2n({change:e}){var t,n,r;const{t:i}=Y();return u.jsxs(ee,{space:3,children:[u.jsxs(te,{padding:3,tone:"transparent",as:WF,radius:1,children:[u.jsx(GF,{title:i("changes.inspector.meta-label")}),u.jsx(fi,{language:"json",size:1,children:M2n({path:qn(e.path),fromIndex:(t=e.itemDiff)==null?void 0:t.fromIndex,toIndex:(n=e.itemDiff)==null?void 0:n.toIndex,hasMoved:(r=e.itemDiff)==null?void 0:r.hasMoved,action:e.diff.action,isChanged:e.diff.isChanged})})]}),u.jsxs(te,{as:WF,tone:"critical",padding:3,radius:1,children:[u.jsx(GF,{title:i("changes.inspector.from-label")}),u.jsx(fi,{language:"json",size:1,children:$ce(e.diff.fromValue)})]}),u.jsx(te,{children:u.jsx(ZY,{direction:"down",align:"center"})}),u.jsxs(te,{as:WF,tone:"positive",padding:3,radius:1,children:[u.jsx(GF,{title:i("changes.inspector.to-label")}),u.jsx(fi,{language:"json",size:1,children:$ce(e.diff.toValue)})]})]})}function $ce(e){return typeof e>"u"?"undefined":JSON.stringify(e,null,2)}function M2n(e){const t=[];return Object.entries(e).forEach(([n,r])=>{typeof r<"u"&&r!==null&&t.push(`${n}: ${r}`)}),t.join(`
`)}function R2n(e){const{t}=Y(),n=Oce(e.fromValue),r=Oce(e.toValue);return t(!n&&r?"changes.added-label":!r&&n?"changes.removed-label":"changes.changed-label")}function Oce(e){return e!==null&&typeof e<"u"&&e!==""}const P2n={flexShrink:0},F2n={alignItems:"stretch"},Mce={top:"flex-start",center:"center",bottom:"flex-end",default:"flex-start"},XY=f.forwardRef(function(e,t){const{align:n="top",layout:r="inline",from:i,to:a,style:o,...s}=e,l=ib(),c=r==="inline"?U:Vn,d=f.useMemo(()=>({...o,...r==="inline"?{maxWidth:"100%",display:"inline-flex"}:{gridTemplateColumns:`minmax(0, 1fr) ${Se(l.sanity.space[5])} minmax(0, 1fr)`}}),[r,o,l]),h=r==="inline"?P2n:F2n;return u.jsxs(c,{...s,ref:t,style:d,"data-from-to-layout":!0,children:[i&&u.jsxs(u.Fragment,{children:[u.jsx(U,{align:Mce[n],style:h,children:i}),u.jsx(U,{align:"center",justify:"center",padding:2,children:u.jsx(ZY,{})})]}),u.jsx(U,{align:Mce[n],style:h,children:a})]})}),YF={flex:1,minWidth:0,display:"block",whiteSpace:"break-spaces"};function k_(e){const{align:t,cardClassName:n,diff:r,layout:i,path:a,previewComponent:o,schemaType:s}=e,{action:l}=r,c=R2n(r);if(l==="unchanged")return u.jsx(Ao,{className:n,style:YF,children:f.createElement(o,{schemaType:s,value:r.toValue})});const d=r.fromValue!==void 0&&r.fromValue!==null&&u.jsx(Ao,{as:"del",className:n,diff:r,path:a,style:YF,children:f.createElement(o,{schemaType:s,value:r.fromValue})}),h=r.toValue!==void 0&&r.toValue!==null&&u.jsx(Ao,{as:"ins",className:n,diff:r,path:a,style:YF,children:f.createElement(o,{schemaType:s,value:r.toValue})});return d&&!h?u.jsx(Wo,{description:c,diff:r,path:a,children:d}):!d&&h?u.jsx(Wo,{description:c,diff:r,path:a,children:h}):u.jsx(Wo,{description:c,diff:r,path:a,children:u.jsx(XY,{align:t,from:d,layout:i,to:h})})}const N2n=({value:e,schemaType:t})=>u.jsx(L,{padding:2,children:u.jsx(Gb,{schemaType:t,value:e,layout:"default"})}),L2n=e=>{const{diff:t,schemaType:n}=e;return u.jsx(k_,{diff:t,schemaType:n,previewComponent:N2n,layout:"grid"})},B2n=R.div`
  --field-change-error: ${({theme:e})=>e.sanity.color.solid.critical.enabled.bg};
  &[data-revert-all-changes-hover] [data-revert-all-hover]::before {
    border-left: 2px solid var(--field-change-error);
  }
`,V2n=R.div`
  --field-change-error: ${({theme:e})=>e.sanity.color.solid.critical.enabled.bg};
  --diff-inspect-padding-xsmall: ${({theme:e})=>Se(e.sanity.space[1])};
  --diff-inspect-padding-small: ${({theme:e})=>Se(e.sanity.space[2])};

  position: relative;
  padding: var(--diff-inspect-padding-xsmall) 0 var(--diff-inspect-padding-xsmall)
    var(--diff-inspect-padding-small);

  &::before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    border-left: 1px solid var(--card-border-color);
  }

  &[data-error]:hover::before,
  &[data-revert-field-hover]:hover::before {
    border-left: 2px solid var(--field-change-error);
  }
`,z2n=R(fe)`
  [data-ui='Text'] {
    font-weight: normal;
  }

  div[data-ui='Box'] {
    display: none;
  }

  &:not([data-disabled='true']):hover,
  &:not([data-disabled='true']):focus {
    --card-fg-color: ${({theme:e})=>e.sanity.color.solid.critical.enabled.bg};
    --card-bg-color: transparent;
    --card-border-color: transparent;

    div[data-ui='Box'] {
      display: block;
    }
  }
`,mMe=f.forwardRef(function(e,t){const{selected:n,changeCount:r,...i}=e,{t:a}=Y();return u.jsx(z2n,{icon:vD,selected:n,text:a("changes.action.revert-changes-confirm-change",{count:r}),mode:"bleed",ref:t,tooltipProps:null,...i})});function U2n({error:e}){const{t}=Y();return u.jsx(te,{tone:"critical",padding:3,children:u.jsxs(U,{align:"flex-start",children:[u.jsx(L,{children:u.jsx(N,{children:u.jsx(Ea,{})})}),u.jsx(L,{flex:1,paddingLeft:3,children:u.jsx(N,{size:1,as:"p",children:t(e.messageKey,{expectedType:e.expectedType,actualType:e.actualType})})})]})})}function H2n(e){var t;const{change:n,hidden:r,readOnly:i}=e,a=n.diffComponent||L2n,{documentId:o,schemaType:s,rootDiff:l,isComparingCurrent:c,FieldWrapper:d=f.Fragment}=kM(),h=bu(o,s.name),[p,m]=f.useState(!1),[g,v]=f.useState(!1),b=f.useRef(null),{t:y}=Y(),[x,w]=vd({id:o,type:s.name,permission:"update"}),C=f.useCallback(()=>{TM(n,l,h)},[n,l,h]),S=f.useCallback(()=>{m(!0)},[]),_=f.useCallback(()=>{m(!1)},[]),E=f.useCallback(()=>{v(!0)},[]),k=f.useCallback(()=>{v(!1)},[]);yn(()=>m(!1),()=>[b.current]);const T=((t=n.parentSchema)==null?void 0:t.jsonType)==="array"?n.path.slice(0,-1):n.path,j=f.useMemo(()=>({path:n.path}),[n.path]);return f.useMemo(()=>r?null:u.jsxs(ee,{space:1,as:B2n,children:[n.showHeader&&u.jsx(ZOe,{change:n,titlePath:n.titlePath}),u.jsx(d,{path:T,hasHover:g,children:u.jsxs($2n,{change:n,as:V2n,"data-revert-field-hover":g?"":void 0,"data-error":n.error?"":void 0,"data-revert-all-hover":!0,children:[n.error?u.jsx(U2n,{error:n.error}):u.jsx(j2n,{t:y,children:u.jsx(mf.Provider,{value:j,children:u.jsx(a,{diff:n.diff,schemaType:n.schemaType})})}),c&&!w&&(x==null?void 0:x.granted)&&u.jsx(Fn,{content:u.jsxs(ee,{space:3,children:[u.jsx(L,{paddingY:3,children:u.jsx(N,{size:1,children:y("changes.action.revert-changes-description",{count:1})})}),u.jsxs(U,{gap:3,justify:"flex-end",children:[u.jsx(fe,{mode:"ghost",onClick:_,text:y("changes.action.revert-all-cancel")}),u.jsx(fe,{tone:"critical",onClick:C,text:y("changes.action.revert-changes-confirm-change",{count:1})})]})]}),open:p,padding:3,portal:!0,placement:"left",ref:b,children:u.jsx(mMe,{changeCount:1,onClick:S,onMouseEnter:E,onMouseLeave:k,selected:p,disabled:i,"data-testid":`single-change-revert-button-${n==null?void 0:n.key}`})})]})})]}),[r,n,d,T,g,y,j,a,c,w,x==null?void 0:x.granted,_,C,p,S,E,k,i])}function W2n(){const e=f.useRef(null),[t,n]=f.useState(!1);return f.useEffect(()=>{const r=e.current;if(!r)return()=>{};const i=()=>n(!0),a=()=>n(!1);return r.addEventListener("mouseover",i),r.addEventListener("mouseout",a),()=>{r.removeEventListener("mouseover",i),r.removeEventListener("mouseout",a)}},[]),[e,t]}const G2n=R.div`
  display: grid;
  grid-template-columns: minmax(0, 1fr);
`,Y2n=R.div`
  --field-change-error: ${({theme:e})=>e.sanity.color.solid.critical.enabled.bg};
  --diff-inspect-padding-xsmall: ${({theme:e})=>Se(e.sanity.space[1])};
  --diff-inspect-padding-small: ${({theme:e})=>Se(e.sanity.space[2])};

  position: relative;
  padding: var(--diff-inspect-padding-xsmall) var(--diff-inspect-padding-small);

  &::before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    border-left: 1px solid var(--card-border-color);
  }

  &[data-error]:hover::before,
  &[data-revert-group-hover]:hover::before,
  &[data-revert-all-groups-hover]::before {
    border-left: 2px solid var(--field-change-error);
  }
`;function q2n(e){const{change:t,readOnly:n,hidden:r,...i}=e,{titlePath:a,changes:o,path:s}=t,{path:l}=f.useContext(mf),{documentId:c,schemaType:d,FieldWrapper:h,rootDiff:p,isComparingCurrent:m}=kM(),{t:g}=Y(),v=o.every($=>iMe($)&&QOe($.schemaType)),b=jIe(l,s),[y,x]=W2n(),w=bu(c,d.name),[C,S]=f.useState(!1),_=f.useRef(null),[E,k]=vd({id:c,type:d.name,permission:"update"}),T=f.useCallback(()=>TM(t,p,w),[t,p,w]),j=f.useCallback(()=>{S(!0)},[]),I=f.useCallback(()=>{S(!1)},[]);yn(()=>S(!1),()=>[_.current]);const A=f.useMemo(()=>r?null:u.jsxs(ee,{space:1,as:Y2n,"data-revert-group-hover":x?"":void 0,"data-portable-text":v?"":void 0,children:[u.jsx(ee,{as:G2n,space:5,children:o.map($=>u.jsx(gMe,{change:$,readOnly:n,hidden:r},$.key))}),m&&!k&&(E==null?void 0:E.granted)&&u.jsx(Fn,{content:u.jsxs(ee,{space:3,children:[u.jsx(L,{paddingY:3,children:u.jsx(N,{size:1,children:g("changes.action.revert-changes-description",{count:o.length})})}),u.jsxs(U,{gap:3,justify:"flex-end",children:[u.jsx(fe,{mode:"ghost",onClick:I,text:g("changes.action.revert-all-cancel")}),u.jsx(fe,{tone:"critical",onClick:T,text:g("changes.action.revert-changes-confirm-change",{count:1})})]})]}),padding:3,portal:!0,placement:"left",open:C,ref:_,children:u.jsx(L,{children:u.jsx(mMe,{changeCount:o.length,onClick:j,ref:y,selected:C,disabled:n,"data-testid":`group-change-revert-button-${t.fieldsetName}`})})})]}),[o,I,C,t.fieldsetName,T,j,r,m,k,v,x,E==null?void 0:E.granted,n,y,g]);return r?null:u.jsxs(ee,{space:1,...i,children:[u.jsx(ZOe,{titlePath:a}),b||!h?A:u.jsx(h,{hasHover:x,path:t.path,children:A})]})}function gMe(e){var t,n;const{change:r,hidden:i,readOnly:a}=e,{value:o}=kM(),s=$7({document:o,checkProperty:i||((t=r.schemaType)==null?void 0:t.hidden),checkPropertyKey:"hidden",value:r.type==="field"?r.diff.toValue:void 0}),l=$7({document:o,checkProperty:a||((n=r.schemaType)==null?void 0:n.readOnly),checkPropertyKey:"readOnly",value:r.type==="field"?r.diff.toValue:void 0});return s?null:r.type==="field"?u.jsx(H2n,{change:r,readOnly:l}):r.type==="group"?u.jsx(q2n,{change:r,"data-testid":`group-change-${r.fieldsetName}`,readOnly:l}):u.jsxs(N,{children:["Unknown change type: ",u.jsx("code",{children:r.type||"undefined"})]})}function L7(){const{t:e}=Y();return u.jsxs(ee,{space:3,children:[u.jsx(N,{size:1,weight:"medium",as:"h3",children:e("changes.no-changes-title")}),u.jsx(N,{as:"p",size:1,muted:!0,children:e("changes.no-changes-description")})]})}function T_({diff:e,fields:t,schemaType:n}){const{documentId:r,isComparingCurrent:i,value:a}=kM(),o=bu(r,n.name),{path:s}=f.useContext(mf),l=s.length===0,[c,d]=f.useState(!1),[h,p]=f.useState(!1),{t:m}=Y(),g=$7({document:a,value:void 0,checkProperty:n.readOnly,checkPropertyKey:"readOnly"});if(n.jsonType!=="object")throw new Error("Only object schema types are allowed in ChangeList");const[v,b]=vd({id:r,type:n.name,permission:"update"}),y=f.useMemo(()=>uMe(n,e,s,[],{fieldFilter:t}),[n,t,s,e]),x=f.useMemo(()=>t&&t.length===0?[]:K2n(y),[y,t]),w=y[0],C=f.useCallback(()=>{TM(w,e,o),d(!1)},[w,e,o]),S=f.useCallback(()=>{d(!0)},[]),_=f.useCallback(()=>{p(!0)},[]),E=f.useCallback(()=>{p(!1)},[]),k=f.useCallback(()=>{d(!1)},[]),T=f.useRef(null);if(yn(()=>d(!1),()=>[T.current]),x.length===0)return l?u.jsx(L7,{}):null;const j=l&&x.length>1;return u.jsx(te,{children:u.jsxs(ee,{space:5,children:[u.jsx(ee,{as:E2n,space:5,children:x.map(I=>u.jsx("div",{children:u.jsx(gMe,{change:I,"data-revert-all-changes-hover":h?"":void 0,readOnly:g||(I==null?void 0:I.readOnly),hidden:I==null?void 0:I.hidden},I.key)},I.key))}),j&&i&&!b&&(v==null?void 0:v.granted)&&u.jsx(Fn,{content:u.jsxs(ee,{space:3,children:[u.jsx(L,{paddingY:3,children:u.jsx(N,{size:1,children:m("changes.action.revert-all-description",{count:x.length})})}),u.jsxs(U,{gap:3,justify:"flex-end",children:[u.jsx(fe,{mode:"ghost",text:m("changes.action.revert-all-cancel"),onClick:k}),u.jsx(fe,{tone:"critical",text:m("changes.action.revert-all-confirm"),onClick:C})]})]}),open:c,padding:3,placement:"left",portal:!0,ref:T,children:u.jsx(ee,{children:u.jsx(fe,{tone:"critical",mode:"ghost",text:m("changes.action.revert-all-confirm"),icon:vD,onClick:S,onMouseEnter:_,onMouseLeave:E,disabled:g,size:"large"})})})]})})}function K2n(e){return e.length===1&&e[0].type==="group"&&e[0].path.length===0?e[0].changes:e}const Rce=R.span`
  border-radius: ${({theme:e})=>Se(e.sanity.radius[1])};
`,Pce=R(N)`
  &:not([hidden]) {
    display: inline;
    line-height: calc(1.25em + 2px);
  }

  &:hover {
    background-color: none !important;
    background-image: linear-gradient(
      to bottom,
      var(--card-bg-color) 0,
      var(--card-bg-color) 33.333%,
      currentColor 33.333%,
      currentColor 100%
    );
    background-size: 1px 3px;
    background-repeat: repeat-x;
    background-position-y: bottom;
    padding-bottom: 3px;
    box-shadow: 0 0 0 1px var(--card-bg-color);
    z-index: 1;
  }
`;function Z2n(e){const{segment:t}=e,{text:n}=t,{t:r}=Y();return t.action==="added"?u.jsx(Ao,{annotation:t.annotation,disableHoverEffect:!0,tooltip:{description:r("changes.added-label")},as:Rce,children:u.jsx(Pce,{as:"ins",style:{textDecoration:"none"},children:n})}):t.action==="removed"?u.jsx(Ao,{annotation:t.annotation,as:Rce,disableHoverEffect:!0,tooltip:{description:r("changes.removed-label")},children:u.jsx(Pce,{as:"del",children:n})}):u.jsx(te,{as:"span",radius:2,style:{display:"inline"},children:n})}function X2n(e){const{diff:t}=e;return u.jsx(u.Fragment,{children:(t.segments||[]).map((n,r)=>u.jsx(Z2n,{segment:n},r))})}const qF=R(N)`
  color: inherit;
`;function B7(e){const{title:t,action:n,icon:r,children:i,markRemoved:a}=e;return u.jsxs(U,{padding:2,align:"center",children:[r&&u.jsx(L,{padding:2,children:u.jsx(qF,{size:4,forwardedAs:a?"del":"div",children:f.createElement(r)})}),u.jsxs(ee,{space:2,paddingLeft:2,children:[u.jsx(qF,{size:1,weight:"medium",forwardedAs:a?"del":"h3",textOverflow:"ellipsis",children:t}),n&&u.jsx("div",{children:n}),u.jsx(qF,{size:0,textOverflow:"ellipsis",children:i})]})]})}R.div`
  display: inline-block;
  word-break: break-all;
  white-space: pre-wrap;
`;function vMe(e){const t=f.useRef(e.value);t.current=e.value;const n=f.useCallback(r=>ia(t.current,r),[t]);return u.jsx(Jhe.Provider,{value:n,children:e.children})}function JY(){const e=f.useContext(Jhe);if(!e)throw new Error("useGetFormValue must be used within a GetFormValueProvider");return e}const J2n={name:"copyField",useAction({path:e}){const t=JY(),{onCopy:n}=UM(),{t:r}=Y("copy-paste"),i=e.length===0,a=r("copy-paste.field-action-copy-button.document.title"),o=r("copy-paste.field-action-copy-button.field.title"),s=i?a:o,l=f.useCallback(()=>{const c=t([]);n(e,c,{context:{source:i?"documentFieldAction":"fieldAction"}})},[e,i,n,t]);return{type:"action",icon:Ql,onAction:l,title:s}}},Q2n={name:"pasteField",useAction({path:e}){const{t}=Y("copy-paste"),n=JY(),r=e.length===0,i=t("copy-paste.field-action-paste-button.document.title"),a=t("copy-paste.field-action-paste-button.field.title"),o=r?i:a,{onPaste:s}=UM(),l=f.useCallback(()=>{const c=n([]);s(e,c,{context:{source:r?"documentFieldAction":"fieldAction"}})},[n,s,e,r]);return{type:"action",icon:uB,onAction:l,title:o}}},e_n=(e,{document:t},n)=>{const r=t==null?void 0:t.unstable_fieldActions;if(!r)return e;if(typeof r=="function")return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error(`Expected \`document.unstable_fieldActions\` to be an array or a function, but received ${typeof r}`)},t_n=[J2n,Q2n];function n_n(e){const t=Pr();return f.useEffect(()=>{console.error(`Scheduled publishing plugin is added by default, please remove this plugin from your config. 
        
If you have a custom date config, you can use the scheduledPublishing API to customize the date input.
        
See: https://www.sanity.io/docs/scheduled-publishing.
        `),t.push({id:"scheduled-publishing-deprecated",closable:!0,duration:6e4,status:"error",title:"Scheduled publishing plugin is deprecated",description:"The scheduled publishing plugin is now deprecated, you should remove the plugin from your configuration. If you have a custom date config, you can use the scheduledPublishing API to customize the date input. See: https://www.sanity.io/docs/scheduled-publishing."})},[t]),e.renderDefault(e)}const r_n=Lb({name:"sanity/deprecated/scheduled-publishing",studio:{components:{layout:n_n}}}),i_n=["scheduled-publishing"],Y0=({plugins:e=[],...t},n)=>{const r={config:t,path:[...n,t.name]},i=e.flatMap(o=>Y0(o,[...n,t.name])),a=i.find(o=>o.config.name==="scheduled-publishing");return a&&i.push({path:a.path,config:r_n()}),[...i.filter(o=>!i_n.includes(o.config.name)),r]},Fce={referringDocuments:[],isLoading:!0};function yMe(e){const t=vl(),n=f.useMemo(()=>t.listenQuery("*[references($docId)] [0...101]",{docId:e},{tag:"use-referring-documents"}).pipe(de(r=>({referringDocuments:r,isLoading:!1})),Vi(Fce)),[t,e]);return Jr(n,Fce)}const bMe=({asset:e,assetType:t,referringDocuments:n})=>{const{t:r}=Y(),i=n.length;return u.jsxs(u.Fragment,{children:[u.jsx(te,{borderBottom:i>0,marginTop:2,paddingBottom:2,marginBottom:1,children:u.jsx(N,{size:1,as:"h2",weight:"medium",children:u.jsx(ht,{t:r,i18nKey:`asset-source.usage-list.documents-using-${t}`,context:e.originalFilename?"named":"unnamed",values:{filename:e.originalFilename,count:i}})})}),n.map(a=>u.jsx(a_n,{document:a},a._id))]})},a_n=({document:e})=>{const t=en(),n=f.useCallback(r=>u.jsx(pu,{...r,params:{id:e._id,type:e._type},intent:"edit"}),[e]);return u.jsx(te,{as:n,radius:2,"data-as":"a",tabIndex:0,children:u.jsx(U,{align:"center",gap:2,children:u.jsx(Gb,{layout:"default",value:{_type:"reference",_ref:e._id},schemaType:t.get(e._type)})})},e._id)},Nce={maxWidth:"100%",height:"120px",objectFit:"contain",objectPosition:"center"},Lce={gridColumn:"span 1",overflow:"hidden",display:"flex",alignSelf:"center",justifyContent:"center"},Bce={height:"100%"},o_n=({asset:e,assetType:t,hasResults:n=!1})=>{const r=t==="image",{t:i}=Y();return n?u.jsx(te,{tone:"caution",padding:[3,3,4],border:!0,radius:2,marginBottom:3,children:u.jsxs(Vn,{columns:3,gap:[2,3,4],children:[u.jsxs(U,{gap:[3,4],align:"center",style:{gridColumn:r?"span 2":"span 3"},children:[u.jsx(N,{children:u.jsx(fr,{})}),u.jsx(N,{size:1,children:i(`asset-source.delete-dialog.usage-list.warning-${t}-is-in-use`,{context:e.originalFilename?"named":"unnamed",filename:e.originalFilename})})]}),r&&u.jsx(te,{__unstable_checkered:!0,border:!0,radius:1,style:Lce,children:u.jsx(U,{align:"center",justify:"center",style:Bce,children:u.jsx("img",{src:`${e.url}?w=200`,style:Nce,alt:i("asset-source.usage-list.image-alt"),referrerPolicy:"strict-origin-when-cross-origin"})})})]})}):u.jsx(te,{paddingX:[2,3,4],paddingY:[3,3,3,4],children:u.jsxs(Vn,{columns:3,gap:3,children:[u.jsx(U,{style:{gridColumn:r?"span 2":"span 3"},align:"center",children:u.jsx(N,{children:u.jsx(ht,{t:i,i18nKey:`asset-source.delete-dialog.usage-list.confirm-delete-${t}`,context:e.originalFilename?"named":"unnamed",values:{filename:e.originalFilename}})})}),r&&u.jsx(te,{__unstable_checkered:!0,border:!0,radius:1,style:Lce,children:u.jsx(U,{align:"center",justify:"center",style:Bce,children:u.jsx("img",{src:`${e.url}?w=200`,style:Nce,alt:i("asset-source.asset-list.table.preview-alt"),referrerPolicy:"strict-origin-when-cross-origin"})})})]})})};function xMe({asset:e,assetType:t,isDeleting:n=!1,onClose:r,onDelete:i}){const{isLoading:a,referringDocuments:o}=yMe(e._id),s=f.useMemo(()=>{const d=o.reduce((h,p)=>p._id.startsWith("drafts.")?h.concat(p._id.slice(7)):h,[]);return o.filter(h=>!d.includes(h._id))},[o]),l=s.length>0,{t:c}=Y();return u.jsx(Ui,{__unstable_autoFocus:a,footer:{cancelButton:{onClick:r,text:c("asset-source.delete-dialog.action.cancel")},confirmButton:{disabled:l,icon:Kr,loading:n,onClick:i,text:c("asset-source.delete-dialog.action.delete")}},header:c("asset-source.delete-dialog.header",{context:t}),id:"asset-dialog",onClickOutside:r,onClose:r,width:1,children:a?u.jsx(L,{padding:4,children:u.jsx(wn,{showText:!0})}):u.jsxs(ee,{paddingX:l?[2,3,4]:0,paddingY:l?[3,3,3,4]:0,space:1,children:[u.jsx(o_n,{asset:e,assetType:t,hasResults:l}),l&&u.jsx(bMe,{asset:e,referringDocuments:s,assetType:t})]})})}const s_n={portal:!0,placement:"right"};function wMe({isSelected:e,border:t=!0,onAction:n}){const r=e?"default":"bleed",i=e?"primary":"default",{t:a}=Y();return u.jsx(Kt,{button:u.jsx(wi,{mode:t?"ghost":r,tone:t?"default":i}),id:"asset-menu",menu:u.jsxs(Ot,{children:[u.jsx(We,{text:a("asset-source.asset-list.menu.show-usage"),icon:tl,onClick:()=>{n({type:"showUsage"})}}),u.jsx(We,{text:a("asset-source.asset-list.menu.delete"),icon:Kr,tone:"critical",onClick:()=>{n({type:"delete"})}})]}),popover:s_n})}function CMe({asset:e,assetType:t,onClose:n}){const{isLoading:r,referringDocuments:i}=yMe(e._id),a=f.useMemo(()=>{const s=i.reduce((l,c)=>c._id.startsWith("drafts.")?l.concat(c._id.slice(7)):l,[]);return i.filter(l=>!s.includes(l._id))},[i]),{t:o}=Y();return u.jsx(Ui,{__unstable_autoFocus:!0,header:o("asset-source.asset-usage-dialog.header",{context:t}),id:"asset-dialog",onClickOutside:n,onClose:n,width:1,children:r?u.jsx(wn,{showText:!0}):u.jsx(bMe,{asset:e,referringDocuments:a,assetType:t})})}const KF={"image/bmp":{title:"Bitmap Image"},"image/jpeg":{title:"JPEG Image"},"image/gif":{title:"GIF Image"},"image/vnd.microsoft.icon":{title:"Icon"},"image/png":{title:"PNG Image"},"image/svg+xml":{title:"SVG Image"},"image/webp":{title:"WebP Image"},"image/tiff":{title:"TIFF Image"},"image/heic":{title:"HEIC Image"},"audio/midi":{title:"MIDI Audio"},"audio/midi-x":{title:"MIDI Audio"},"audio/mpeg":{title:"MP3 Audio"},"audio/ogg":{title:"OGG Audio"},"audio/wav":{title:"WAV Audio"},"audio/webm":{title:"WebM Audio"},"audio/aac":{title:"AAC Audio"},"video/x-msvideo":{title:"AVI Video"},"video/mp4":{title:"MP4 Video"},"video/mpeg":{title:"MPEG Video"},"video/ogg":{title:"OGG Video"},"video/webm":{title:"WebM Video"},"video/quicktime":{title:"QuickTime Video"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{title:"Excel Spreadsheet"},"application/vnd.ms-excel":{title:"Excel Spreadsheet"},"text/plain":{title:"Text"},"text/javascript":{title:"JavaScript"},"text/markdown":{title:"Markdown"},"text/csv":{title:"CSV"},"text/css":{title:"CSS"},"application/pdf":{title:"PDF Document"},"application/xml":{title:"XML Document"},"text/xml":{title:"XML Document"},"application/zip":{title:"ZIP Archive"},"application/vnd.rar":{title:"RAR Archive"},"application/x-7z-compressed":{title:"7-zip Archive"},"application/octet-stream":{title:"Binary"}};function l_n(e){const t=e.replace("x-","").split("/")[1];return t.charAt(0).toUpperCase()+t.slice(1)}function u_n(e){return KF!=null&&KF[e]?KF[e].title:l_n(e)}const V7=R.span`
  background-color: transparent;
  flex-shrink: 0;
`,Rv=R(U)``,c_n=R(te)`
  ${e=>e.isSelected&&ce`
      --card-muted-fg-color: var(--card-bg-color);
      --card-fg-color: var(--card-bg-color);
    `}
`,Vce=R(St)`
  box-shadow: none;
  min-width: 0;
  cursor: pointer;
  position: initial;

  &:before,
  &:after {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    z-index: 2;
  }

  &:before {
    z-index: 0;
    pointer-events: none;
    border-radius: inherit;
  }

  ${e=>e.isSelected&&ce`
      --card-muted-fg-color: var(--card-bg-color);
      --card-fg-color: var(--card-bg-color);

      &:before {
        background-color: var(--card-focus-ring-color);
      }

      ${V7} {
        --card-muted-fg-color: var(--card-bg-color);
      }

      ${Rv} {
        --card-muted-fg-color: var(--card-bg-color);
        --card-fg-color: var(--card-bg-color);
      }
    `}

  ${e=>!e.isSelected&&ce`
      &:hover:before {
        background-color: var(--card-bg-color);
      }

      &:focus:before {
        background-color: var(--card-code-bg-color);
      }

      &:focus-within:before {
        background-color: var(--card-bg-color);
      }
    `}
`,d_n=R(N)`
  overflow-wrap: anywhere;
`,zce={position:"relative"},Uce={flexShrink:0},ZF={minWidth:0},Hce={zIndex:3,marginTop:"-0.5rem",marginBottom:"-0.5rem"},f_n=e=>{const t=Zt(Gt),n=Pr(),r=f.useRef(),[i,a]=f.useState(!1),[o,s]=f.useState(!1),[l,c]=f.useState(!1),[d,h]=f.useState(!1),{asset:p,onClick:m,onKeyPress:g,onDeleteFinished:v,isSelected:b,isMobile:y}=e,{originalFilename:x,_id:w,mimeType:C,size:S,_createdAt:_}=p,E=d0(_,{useTemporalPhrase:!0}),k=u_n(C),T=QY({unitDisplay:"short",maximumFractionDigits:2}),j=R7(S,T),I=(x||"").length>37,{t:A}=Y(),$=f.useCallback(()=>{s(!0)},[]),D=f.useCallback(X=>{n.push({closable:!0,status:"error",title:A("asset-source.file.asset-list.delete-failed"),description:X.message})},[A,n]),M=f.useCallback(()=>{n.push({status:"success",title:A("asset-source.file.asset-list.delete-successful")})},[A,n]),O=f.useCallback(()=>{c(!0),r.current=t.observable.delete(p._id).subscribe({next:()=>{c(!1),v==null||v(p._id),s(!1),M()},error:X=>{c(!1),D(X),console.error("Could not delete asset",X)}})},[p._id,D,M,v,t.observable]),F=()=>{a(!1),s(!1)},P=()=>{a(!0)},V=()=>{h(!d)},H=X=>{X.type==="delete"&&$(),X.type==="showUsage"&&P()},W=f.useMemo(()=>i&&u.jsx(CMe,{assetType:"file",asset:p,onClose:F}),[p,i]),G=f.useMemo(()=>o&&u.jsx(xMe,{assetType:"file",asset:p,onClose:F,onDelete:O,isDeleting:l}),[p,O,l,o]);return y?u.jsxs(te,{paddingBottom:2,style:zce,children:[u.jsxs(Vn,{columns:4,gap:1,style:{position:"relative",gridTemplateColumns:"1fr 30px",opacity:l?.5:1},children:[u.jsx(Vce,{asset:p,mode:"bleed",padding:0,"data-id":w,onClick:m,paddingY:1,radius:2,children:u.jsxs(U,{gap:2,flex:2,align:"center",children:[u.jsx(te,{as:V7,padding:2,tone:"transparent",radius:2,children:u.jsx(N,{muted:!0,size:2,style:Uce,children:u.jsx(Hu,{})})}),u.jsx(N,{size:1,align:"left",textOverflow:"ellipsis",style:ZF,children:x})]})}),u.jsx(U,{justify:"flex-end",align:"center",paddingRight:1,style:Hce,children:u.jsx(St,{mode:"bleed",fontSize:1,padding:2,onClick:V,icon:d?lB:Ii})})]}),d&&u.jsxs(u.Fragment,{children:[u.jsxs(Vn,{marginTop:3,columns:3,gap:1,children:[u.jsxs(ee,{space:2,children:[u.jsx(N,{size:1,muted:!0,weight:"medium",children:A("asset-source.file.asset-list.header.size")}),u.jsx(N,{size:1,muted:!0,children:j})]}),u.jsxs(ee,{space:2,children:[u.jsx(N,{size:1,muted:!0,weight:"medium",children:A("asset-source.file.asset-list.header.type")}),u.jsx(N,{size:1,muted:!0,children:k})]}),u.jsxs(ee,{space:2,children:[u.jsx(N,{size:1,muted:!0,weight:"medium",children:A("asset-source.file.asset-list.header.date-added")}),u.jsx(N,{size:1,muted:!0,children:E})]})]}),u.jsxs(ee,{space:2,marginTop:3,children:[u.jsx(St,{fontSize:1,tone:"default",mode:"ghost",text:A("asset-source.file.asset-list.action.show-usage.title"),onClick:P,icon:tl}),u.jsx(St,{fontSize:1,tone:"critical",mode:"ghost",text:A("asset-source.file.asset-list.action.delete.title"),icon:Kr,disabled:b,title:A(b?"asset-source.file.asset-list.action.delete.disabled-cannot-delete-current-file":"asset-source.file.asset-list.action.delete.title"),onClick:$})]})]}),W||G]}):u.jsxs(c_n,{asset:p,paddingBottom:1,style:zce,radius:0,overflow:"hidden",isSelected:b,"aria-selected":"true",children:[u.jsxs(Vn,{columns:4,gap:1,"data-id":w,paddingY:1,style:{position:"relative",gridTemplateColumns:"3fr 1fr 1fr 2fr 30px",opacity:l?.5:1},children:[u.jsx(Vce,{asset:p,mode:"bleed","data-id":w,onClick:m,padding:0,onKeyPress:g,title:A("asset-source.file.asset-list.item.select-file-tooltip",{filename:x}),isSelected:b,radius:2,children:u.jsxs(Rv,{gap:2,flex:2,paddingRight:1,align:"center",onClick:m,onKeyPress:g,"data-id":w,children:[u.jsx(te,{as:V7,padding:2,tone:"transparent",radius:2,style:Uce,children:u.jsx(N,{muted:!0,size:2,children:u.jsx(Hu,{})})}),I&&u.jsx(gt,{content:x,children:u.jsx(N,{size:1,align:"left",textOverflow:"ellipsis",style:ZF,children:x})}),!I&&u.jsx(N,{size:1,align:"left",textOverflow:"ellipsis",style:ZF,children:x})]})}),u.jsx(Rv,{align:"center",children:u.jsx(N,{size:1,muted:!0,children:j})}),u.jsx(Rv,{align:"center",children:u.jsx(L,{children:u.jsx(d_n,{size:1,muted:!0,textOverflow:"ellipsis",children:k})})}),u.jsx(Rv,{align:"center",children:u.jsx(N,{as:"time",size:1,muted:!0,dateTime:_,children:E})}),u.jsx(Rv,{justify:"flex-end",align:"center",paddingX:1,paddingY:1,style:Hce,children:u.jsx(wMe,{border:!1,isSelected:!1,onAction:H})})]}),W||G]})},h_n={paddingLeft:"2.2rem"},Wce={gridTemplateColumns:"3fr 1fr 1fr 2fr 30px"};function p_n(e){const t=w0()<2,{assets:n,onClick:r,onKeyPress:i,onDeleteFinished:a,selectedAssets:o,isLoading:s}=e,{t:l}=Y();return u.jsxs(L,{children:[u.jsx(te,{borderBottom:!0,paddingBottom:2,marginBottom:1,children:t?u.jsx(Vn,{style:Wce,children:u.jsx(L,{flex:2,paddingLeft:5,children:u.jsx(N,{muted:!0,size:1,weight:"medium",children:l("asset-source.file.asset-list.header.filename")})})}):u.jsxs(Vn,{gap:1,style:Wce,children:[u.jsx(L,{flex:2,style:h_n,children:u.jsx(N,{muted:!0,size:1,weight:"medium",children:l("asset-source.file.asset-list.header.filename")})}),u.jsx(L,{flex:1,children:u.jsx(N,{muted:!0,size:1,weight:"medium",children:l("asset-source.file.asset-list.header.size")})}),u.jsx(L,{flex:1,children:u.jsx(N,{muted:!0,size:1,weight:"medium",children:l("asset-source.file.asset-list.header.type")})}),u.jsx(L,{flex:1,children:u.jsx(N,{muted:!0,size:1,weight:"medium",children:l("asset-source.file.asset-list.header.date-added")})})]})}),u.jsxs(ee,{children:[s&&n.length===0&&u.jsx(L,{paddingTop:4,paddingBottom:2,children:u.jsx(U,{justify:"center",children:u.jsx(Wp,{muted:!0})})}),n.map(c=>u.jsx(f_n,{asset:c,isMobile:t,isSelected:o.some(d=>d._id===c._id),onClick:r,onKeyPress:i,onDeleteFinished:a},c._id))]})]})}const m_n=typeof window>"u"||!window.devicePixelRatio?1:Math.round(window.devicePixelRatio),g_n=R.img`
  position: absolute;
  z-index: 1;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: block;
  object-fit: contain;
`,v_n=R(te)`
  position: relative;
  z-index: 1;
  padding-bottom: 100%;
`,z7=R.div`
  position: relative;
  display: inherit;
`,y_n=R.div`
  box-sizing: border-box;
  position: absolute;
  z-index: 2;
  top: 3px;
  right: 3px;

  & button[data-selected] {
    display: block;
  }

  @media (hover: hover) {
    // If hover is supported, hide the buttons until the user hovers or focuses the asset
    // Use opacity to enable the buttons to still be focusable
    & button {
      opacity: 0;
    }

    ${z7}:hover & {
      button {
        opacity: 1;
      }
    }

    ${z7}:focus-within & {
      button {
        opacity: 1;
      }
    }
  }
`,b_n=f.memo(function(e){const t=Zt(Gt),n=Pr(),r=f.useRef(),{asset:i,onClick:a,onKeyPress:o,onDeleteFinished:s,isSelected:l}=e,[c,d]=f.useState(!1),[h,p]=f.useState(!1),[m,g]=f.useState(!1),{t:v}=Y();f.useEffect(()=>()=>{r.current&&r.current.unsubscribe()},[]);const b=f.useCallback(()=>{p(!0)},[p]),y=f.useCallback(()=>{d(!1),p(!1)},[d,p]),x=f.useCallback(()=>{d(!0)},[d]),w=f.useCallback(D=>{n.push({closable:!0,status:"error",title:v("asset-source.image.asset-list.delete-failed"),description:D.message})},[v,n]),C=f.useCallback(()=>{n.push({status:"success",title:v("asset-source.image.asset-list.delete-successful")})},[v,n]),S=f.useCallback(()=>{g(!0),r.current=t.observable.delete(i._id).subscribe({next:()=>{g(!1),s(i._id),p(!1),C()},error:D=>{g(!1),w(D),console.error("Could not delete asset",D)}})},[i._id,w,C,s,t.observable]),_=f.useCallback(D=>{D.type==="delete"&&b(),D.type==="showUsage"&&x()},[b,x]),E=f.useMemo(()=>c&&u.jsx(CMe,{assetType:"file",asset:i,onClose:y}),[i,y,c]),k=f.useMemo(()=>h&&u.jsx(xMe,{assetType:"file",asset:i,onClose:y,onDelete:S,isDeleting:m}),[i,S,y,m,h]),{originalFilename:T,_id:j,url:I}=i,A=200*Math.max(1,m_n),$=I.includes(".gif")?`${I}?h=${A}&fit=max&fm=jpg`:`${I}?h=${A}&fit=max`;return u.jsxs(z7,{children:[u.jsx(St,{selected:l,tabIndex:0,"data-id":j,mode:"ghost",onKeyPress:o,padding:0,style:{padding:2},children:u.jsxs(v_n,{__unstable_checkered:!0,children:[u.jsx(g_n,{alt:T,src:$,onClick:a,"data-id":j}),m&&u.jsx(wn,{})]})}),u.jsx(y_n,{children:u.jsx(wMe,{isSelected:l,onAction:_})}),E||k]})}),x_n=R(Vn)`
  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
`;function w_n(e){const{isLoading:t,assets:n,selectedAssets:r,onItemClick:i,onItemKeyPress:a,onDeleteFinished:o}=e;return u.jsxs(L,{padding:4,children:[u.jsx(x_n,{gap:2,children:n.map(s=>u.jsx(b_n,{asset:s,isSelected:r.some(l=>l._id===s._id),onClick:i,onKeyPress:a,onDeleteFinished:o},s._id))}),t&&n.length===0&&u.jsx(U,{justify:"center",children:u.jsx(Wp,{muted:!0})}),!t&&n.length===0&&u.jsx(N,{align:"center",muted:!0})]})}const TT=200,SMe="sanity.imageAsset",C_n="sanity.fileAsset",S_n=e=>{const t=["image/*","audio/*","video/*"],n=e.split(",").map(r=>r.trim()).reduce((r,i)=>t.includes(i)?{...r,wildcards:`mimeType match '${i}' || ${r.wildcards}`}:i.indexOf(".")===0?{...r,extensions:`'${i.replace(".","")}', ${r.extensions}`}:{...r,mimes:`'${i}', ${r.mimes}`},{mimes:"",extensions:"",wildcards:""});return`&&
  (
    ${n.wildcards}
    extension in [${n.extensions}] ||
    mimeType in [${n.mimes}]
  )`},__n=(e=0,t=TT,n=SMe,r)=>{const i=r.length>0?S_n(r):"";return`
  *[_type == "${n}" ${i}] | order(_updatedAt desc) [${e}...${t}] {
    _id,
    _updatedAt,
    _createdAt,
    url,
    originalFilename,
    mimeType,
    extension,
    size,
    metadata {dimensions}
  }
`},E_n=R(te)`
  border-top: 1px solid var(--card-border-color);
  position: sticky;
  bottom: 0;
  z-index: 200;
`,k_n=function(e,t){const n=Zt(Gt),r=f.useMemo(()=>n.withConfig({apiVersion:"2023-02-14"}),[n]),i=f.useRef(`default-asset-source-${J2e()}`),a=f.useRef(0),{t:o}=Y(),s=f.useRef(),[l,c]=f.useState([]),[d,h]=f.useState(!1),[p,m]=f.useState(!1),[g,v]=f.useState(!0),{selectedAssets:b,assetType:y="image",dialogHeaderTitle:x,onClose:w,onSelect:C,accept:S}=e,_=S&&S==="image/*"&&y==="image",E=f.useCallback(M=>{const O=M*TT,F=O+TT,P=y==="image",V=P?"asset.image-list":"asset.file-list",H=P?SMe:C_n;v(!0),typeof S<"u"&&(s.current=r.observable.fetch(__n(O,F,H,S),{},{tag:V}).subscribe(W=>{h(W.length<TT),c(G=>G.concat(W)),v(!1)}))},[y,S,r]),k=f.useCallback(M=>{c(O=>O.filter(F=>F._id!==M))},[c]),T=f.useCallback(M=>{l.find(O=>O._id===M)&&C([{kind:"assetDocumentId",value:M}])},[l,C]),j=f.useCallback(M=>{M.preventDefault();const O=M.currentTarget.getAttribute("data-id");if(!O)throw new Error("Missing data-id attribute on item");T(O)},[T]),I=f.useCallback(M=>{if(M.key==="Enter"){M.preventDefault();const O=M.currentTarget.getAttribute("data-id");if(!O)throw new Error("Missing data-id attribute on item");T(O)}},[T]),A=f.useCallback(()=>{w&&w()},[w]),$=f.useCallback(M=>{M.preventDefault(),E(++a.current)},[E]);f.useEffect(()=>(E(a.current),()=>{s.current&&s.current.unsubscribe()}),[E]),f.useEffect(()=>{!g&&(!a.current||a.current===0)&&m(!0)},[g]);const D=z0({style:"narrow"});return u.jsx(Ui,{__unstable_autoFocus:p,header:x||o("asset-source.dialog.default-title",{context:y}),id:i.current,onClickOutside:A,onClose:A,ref:t,width:2,children:u.jsxs(ee,{space:5,children:[!_&&!g&&(S==null?void 0:S.length)>0&&u.jsx(te,{tone:"primary",padding:3,border:!0,radius:2,children:u.jsxs(U,{gap:3,align:"center",children:[u.jsx(N,{size:1,children:u.jsx(Bf,{})}),u.jsx(N,{size:1,children:u.jsx(ht,{t:o,i18nKey:"asset-source.dialog.accept-message",values:{acceptTypes:D.format(S.split(",").map(M=>M.trim()))}})})]})}),y==="file"&&u.jsx(p_n,{assets:l,onDeleteFinished:k,onClick:j,onKeyPress:I,isLoading:g,selectedAssets:b}),y==="image"&&u.jsx(w_n,{assets:l,onDeleteFinished:k,onItemClick:j,onItemKeyPress:I,isLoading:g,selectedAssets:b}),l.length>0&&!d&&u.jsx(E_n,{tone:"default",padding:4,children:u.jsx(U,{direction:"column",children:u.jsx(fe,{type:"button",icon:dD,loading:g,onClick:$,size:"large",text:o("asset-source.dialog.load-more"),tone:"primary"})})})]})})},_Me=f.memo(f.forwardRef(k_n)),EMe={name:"sanity-default",title:"Uploaded files",i18nKey:"asset-source.file.title",component:_Me,icon:uD},kMe={name:"sanity-default",title:"Uploaded images",i18nKey:"asset-source.image.title",component:_Me,icon:eu},T_n=[],A_n=[],j_n=[],I_n=(e,{schema:t},n)=>{const r=t==null?void 0:t.types;if(!r)return e;if(typeof r=="function")return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error(`Expected \`schema.types\` to be an array or a function, but received ${Oo(r)}`)},D_n=async(e,{document:t},n)=>{const r=t==null?void 0:t.productionUrl;return r?await r(e,n):e},$_n=(e,{tools:t},n)=>{if(!t)return e;if(typeof t=="function")return t(e,n);if(Array.isArray(t))return[...e,...t];throw new Error(`Expected \`tools\` to be an array or a function, but received ${Oo(t)}`)},O_n=(e,{schema:t},n)=>{const r=t==null?void 0:t.templates;if(!r)return e;if(typeof r=="function")return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error(`Expected \`schema.templates\` to be an array or a function, but received ${Oo(r)}`)},M_n=(e,{i18n:t},n)=>{const r=t==null?void 0:t.locales;if(!r)return e;if(typeof r=="function")return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error(`Expected \`i18n.locales\` to be an array or a function, but received ${Oo(r)}`)},R_n=(e,{i18n:t},n)=>{const r=t==null?void 0:t.bundles;if(!r)return e;if(Array.isArray(r))return[...e,...r];if(typeof r=="function")return r(e,n);throw new Error(`Expected \`i18n.bundles\` to be an array or a function, but received ${typeof r}`)},P_n=(e,{document:t},n)=>{const r=t==null?void 0:t.badges;if(!r)return e;if(typeof r=="function")return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error(`Expected \`document.badges\` to be an array or a function, but received ${Oo(r)}`)},F_n=(e,{document:t},n)=>{const r=t==null?void 0:t.actions;if(!r)return e;if(typeof r=="function")return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error(`Expected \`document.actions\` to be an array or a function, but received ${Oo(r)}`)},N_n=(e,{document:t},n)=>{const r=t==null?void 0:t.newDocumentOptions;if(!r)return e;if(typeof r!="function")throw new Error(`Expected \`document.resolveNewDocumentOptions\` to be a function, but received ${Oo(r)}`);return r(e,n)},L_n=(e,{form:t},n)=>{var r;const i=(r=t==null?void 0:t.file)==null?void 0:r.assetSources;if(!i)return e;if(typeof i=="function")return i(e,n);if(Array.isArray(i))return[...e,...i];throw new Error(`Expected \`form.file.assetSources\` to be an array or a function, but received ${Oo(i)}`)},B_n=(e,{form:t},n)=>{var r;const i=(r=t==null?void 0:t.image)==null?void 0:r.assetSources;if(!i)return e;if(typeof i=="function")return i(e,n);if(Array.isArray(i))return[...e,...i];throw new Error(`Expected \`form.image.assetSources\` to be an array or a function, but received ${Oo(i)}`)},V_n=(e,{document:t},n)=>{const r=t==null?void 0:t.unstable_languageFilter;if(!r)return e;if(typeof r=="function")return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error(`Expected \`document.unstable_languageFilter\` to be an array or a function, but received ${Oo(r)}`)},z_n=(e,{document:t},n)=>{const r=t==null?void 0:t.inspectors;if(!r)return e;if(typeof r=="function")return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error(`Expected \`document.inspectors\` to be an array or a function, but received ${Oo(r)}`)},Gce=e=>{const{config:t,context:n,initialValue:r}=e;return Y0(t,[]).reduce((i,{config:a})=>{var o,s,l,c,d;const h=(d=(s=(o=a.document)==null?void 0:o.comments)==null?void 0:s.enabled)!=null?d:(c=(l=a.document)==null?void 0:l.unstable_comments)==null?void 0:c.enabled;if(!h&&typeof h!="boolean")return i;if(typeof h=="function")return h(n);if(typeof h=="boolean")return h;throw new Error(`Expected \`document.comments.enabled\` to be a boolean or a function, but received ${Oo(h)}`)},r)},U_n=e=>{const{config:t,initialValue:n}=e;return Y0(t,[]).reduce((r,{config:i})=>{var a,o;const s=(o=(a=i.beta)==null?void 0:a.treeArrayEditing)==null?void 0:o.enabled;if(!s&&typeof s!="boolean")return r;if(typeof s=="boolean")return s;throw new Error(`Expected \`beta.treeArrayEditing.enabled\` to be a boolean, but received ${Oo(s)}`)},n)},H_n=e=>{const{config:t}=e;return Y0(t,[]).reduce((n,{config:r})=>{const i=r.__internal_tasks;if(!i)return n;if(typeof i=="object"&&i.footerAction)return i;throw new Error(`Expected \`__internal__tasks\` to be an object with footerAction, but received ${Oo(i)}`)},void 0)},W_n=e=>{const{config:t,initialValue:n}=e;return Y0(t,[]).reduce((r,{config:i})=>{var a,o;const s=(o=(a=i.search)==null?void 0:a.unstable_partialIndexing)==null?void 0:o.enabled;if(!s&&typeof s!="boolean")return r;if(typeof s=="boolean")return s;throw new Error(`Expected \`search.unstable_partialIndexing.enabled\` to be a boolean, but received ${Oo(s)}`)},n)},G_n=(e,{search:t})=>typeof(t==null?void 0:t.enableLegacySearch)<"u"?t.enableLegacySearch:e;function No({config:e,context:t,initialValue:n,propertyName:r,...i}){const a=Y0(e,[]);if("reducer"in i)return a.reduce((s,{config:l,path:c})=>{try{return i.reducer(s,l,t)}catch(d){throw new ale({propertyName:r,path:c,cause:d})}},n);const o=i.asyncReducer;return(async()=>{let s=n;for(const{config:l,path:c}of a)try{s=await o(s,l,t)}catch(d){throw new ale({propertyName:r,path:c,cause:d})}return s})()}function Y_n(e){const{bundles:t}=e;function n(){}function r(i,a,o){const s=t.filter(l=>l.locale===i&&l.namespace===a);if(s.length===0){o(`No translations found for namespace "${a}", language "${i}"`,void 0);return}q_n(s).then(l=>o(null,l)).catch(l=>o(l,!0))}return{type:"backend",init:n,read:r}}async function q_n(e){var t,n;const r=await Promise.all(e.map(async a=>({...a,resources:await K_n(a)}))),i={};for(const a of r){const o=(t=a.deep)!=null?t:!0,s=(n=a.overwrite)!=null?n:!0;o?TMe(i,a.resources,s):s?Object.assign(i,a.resources):Object.assign({},a.resources,i)}return i}async function K_n(e){if(typeof e.resources!="function")return e.resources;const t=await e.resources();return Z_n(t)}function TMe(e,t,n=!1){for(const r in t){if(r==="__proto__"||r==="constructor")continue;if(!(r in e)){e[r]=t[r];continue}const i=e[r],a=t[r],o=Yce(i),s=Yce(a);if((o||s)&&n){e[r]=t[r];continue}if(o||s)continue;const l=Array.isArray(a),c=Array.isArray(i);if(l||c){n&&(e[r]=a);continue}TMe(i,a,n)}return e}function Yce(e){return typeof e=="string"||e instanceof String}function Z_n(e){return X_n(e)?e.default:e}function X_n(e){return"default"in e&&typeof e.default=="object"&&dr(e.default)}function J_n(e){const{projectId:t,dataset:n,name:r}=e,i={projectId:t,dataset:n},a=No({config:e,context:i,propertyName:"i18n.locales",reducer:M_n,initialValue:[Nl]}),o=No({config:e,context:i,propertyName:"i18n.bundles",reducer:R_n,initialValue:eEn(a)});return Q_n({locales:a,bundles:o,projectId:t,sourceName:r})}function Q_n({locales:e,bundles:t,projectId:n,sourceName:r}){const i=new Set(t.map(l=>l.namespace)),a=tEn(n,r,e,i),o=uTe().use(Y_n({bundles:t})).use(Ctt);o.init(a).catch(l=>{console.error("Failed to initialize i18n backend: %s",l)});const s=e.map(nEn);return{source:{get currentLocale(){var l;return(l=s.find(c=>c.id===o.language))!=null?l:Nl},loadNamespaces(l){const c=l.filter(d=>!o.hasLoadedNamespace(d));return c.length===0?Promise.resolve():o.loadNamespaces(c)},locales:s,t:SIe(o.t)},i18next:o}}function eEn(e){const t=[];for(const n of e){if(n.bundles&&!Array.isArray(n.bundles))throw new Error(`Resource bundle for locale ${n.id} is not an array`);if(n.bundles)for(const r of n.bundles){if("locale"in r&&r.locale!==n.id)throw new Error(`Resource bundle inside locale ${n.id} has mismatching locale id`);if(!r.namespace)throw new Error(`Resource bundle for locale ${n.id} is missing namespace`);t.push("locale"in r?r:{...r,locale:n.id})}}return t}const qce={ns:[jy],defaultNS:jy,partialBundledLanguages:!0,fallbackLng:Nl.id,lng:Nl.id,debug:Grn,load:"currentOnly",initImmediate:!0,interpolation:{escapeValue:!1},react:{bindI18nStore:"added"}};function tEn(e,t,n,r){var i,a;const o=tan(e,t),s=n.find(d=>d.id===o),l=n[n.length-1],c=(a=(i=s==null?void 0:s.id)!=null?i:l.id)!=null?a:qce.lng;return{...qce,ns:Array.from(r),lng:c,supportedLngs:n.map(d=>d.id)}}function nEn(e){const{bundles:t,...n}=e;return n}function AMe(e){return e.reduce((t,n)=>(t[n.name]=n,t),{})}function am(e,t){return e[t]}function rEn(e){return e.reduce((t,n)=>(n.type==="field"&&t.push(n.fieldType),t),[])}const iEn=[{fieldPath:"_updatedAt",icon:Ma,operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"}],title:"Edited at",name:"updatedAt",type:"pinned"},{fieldPath:"_createdAt",icon:Ma,operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"}],title:"Created at",name:"createdAt",type:"pinned"},{icon:tl,operators:[{name:"referencesDocument",type:"item"},{name:"referencesAssetImage",type:"item"},{name:"referencesAssetFile",type:"item"}],title:"Contains document, image or file",name:"references",type:"pinned"},{fieldType:"array",icon:ag,name:"array",operators:[{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"array",icon:ag,name:"arrayList",operators:[{name:"arrayListIncludes",type:"item"},{name:"arrayListNotIncludes",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"array",icon:ag,name:"arrayReferences",operators:[{name:"arrayReferenceIncludes",type:"item"},{name:"arrayReferenceNotIncludes",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"boolean",icon:Lp,name:"boolean",operators:[{name:"booleanEqual",type:"item"},{type:"divider"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"date",icon:Ma,name:"date",operators:[{name:"dateLast",type:"item"},{type:"divider"},{name:"dateRange",type:"item"},{name:"dateAfter",type:"item"},{name:"dateBefore",type:"item"},{type:"divider"},{name:"dateEqual",type:"item"},{name:"dateNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"datetime",icon:Ma,name:"datetime",operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"email",icon:Fm,name:"email",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"file",icon:Hu,name:"file",operators:[{name:"assetFileEqual",type:"item"},{name:"assetFileNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"image",icon:eu,name:"image",operators:[{name:"assetImageEqual",type:"item"},{name:"assetImageNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"number",icon:kB,name:"number",operators:[{name:"numberEqual",type:"item"},{name:"numberNotEqual",type:"item"},{type:"divider"},{name:"numberGt",type:"item"},{name:"numberGte",type:"item"},{name:"numberLt",type:"item"},{name:"numberLte",type:"item"},{type:"divider"},{name:"numberRange",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"array",icon:aB,name:"portableText",operators:[{name:"portableTextMatches",type:"item"},{name:"portableTextNotMatches",type:"item"},{type:"divider"},{name:"portableTextEqual",type:"item"},{name:"portableTextNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"reference",icon:tl,name:"reference",operators:[{name:"referenceEqual",type:"item"},{name:"referenceNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"slug",icon:Fm,name:"slug",operators:[{name:"slugMatches",type:"item"},{name:"slugNotMatches",type:"item"},{type:"divider"},{name:"slugEqual",type:"item"},{name:"slugNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"string",icon:Fm,name:"string",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"string",icon:Ii,name:"stringList",operators:[{name:"stringListEqual",type:"item"},{name:"stringListNotEqual",type:"item"},{type:"divider"},{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"text",icon:Fm,name:"text",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"url",icon:Fm,name:"url",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"}];function Xl(e={}){const t=rm().id;return qd.dateTimeFormat(t,e)}function QY(e={}){const t=rm().id,n={unitDisplay:"long",...e,style:"unit"};return function(r,i){return qd.numberFormat(t,{...n,unit:i}).format(r)}}function aEn({documentId:e,schemaType:t}){const n=ua(),r=f.useMemo(()=>Yb(n,t,e,""),[e,n,t]),{draft:i,published:a,isLoading:o}=Jr(r,{draft:null,isLoading:!0,published:null}),s=f.useMemo(()=>({_id:e,_type:t.name}),[e,t.name]),l=IY({draft:i,published:a,value:s});return o?u.jsx(rd,{animated:!0,marginLeft:1,radius:2,style:{width:"10ch",height:"1em"}}):u.jsx(u.Fragment,{children:l.title||e.slice(0,8)})}function Wk({value:e}){const t=Xl({dateStyle:"medium",timeStyle:e.includeTime?"short":void 0}),n=e!=null&&e.date?new Date(e.date):null;return!n||!kf(n)?null:u.jsx(u.Fragment,{children:t.format(n)})}function oEn({value:e}){var t;const n=QY();return u.jsx(u.Fragment,{children:n(Math.floor((t=e==null?void 0:e.unitValue)!=null?t:0),e.unit)})}function Kce({value:e}){const t=Xl({dateStyle:"medium",timeStyle:e.includeTime?"short":void 0}),n=e!=null&&e.from?new Date(e.from):null,r=e!=null&&e.to?new Date(e.to):null;if(!r||!n||!kf(r)||!kf(n))return null;const i=t.format(n),a=t.format(r);return u.jsx(u.Fragment,{children:`${i} → ${a}`})}function Du({value:e}){const t=en(),n=e._ref,r=t.get(e._type);return r?u.jsx(aEn,{documentId:n,schemaType:r}):null}function Qt(){const e=f.useContext(bpe);if(e===void 0)throw new Error("useSearchState must be used within an SearchProvider");return e}function Rl({value:e,onChange:t}){const[n,r]=f.useState(e??""),{state:{fullscreen:i}}=Qt(),{t:a}=Y(),o=f.useCallback(s=>{r(s.currentTarget.value);const l=parseFloat(s.currentTarget.value);t(Number.isFinite(l)?l:null)},[t]);return u.jsx(Zr,{fontSize:i?2:1,onChange:o,placeholder:a("search.filter-number-value-placeholder"),radius:2,step:"any",type:"number",value:n})}function jMe({onChange:e,value:t}){var n,r;const[i,a]=f.useState((n=t==null?void 0:t.to)!=null?n:""),[o,s]=f.useState((r=t==null?void 0:t.from)!=null?r:""),{state:{fullscreen:l}}=Qt(),{t:c}=Y(),d=f.useCallback(p=>{var m;a(p.currentTarget.value);const g=parseFloat(p.currentTarget.value);e({to:Number.isFinite(g)?g:null,from:(m=t==null?void 0:t.from)!=null?m:null})},[t==null?void 0:t.from,e]),h=f.useCallback(p=>{var m;s(p.currentTarget.value);const g=parseFloat(p.currentTarget.value);e({to:(m=t==null?void 0:t.to)!=null?m:null,from:Number.isFinite(g)?g:null})},[t==null?void 0:t.to,e]);return u.jsxs(U,{gap:2,children:[u.jsx(L,{flex:1,children:u.jsx(Zr,{fontSize:l?2:1,onChange:h,placeholder:c("search.filter-number-min-value-placeholder"),radius:2,step:"any",type:"number",value:o})}),u.jsx(L,{flex:1,children:u.jsx(Zr,{fontSize:l?2:1,onChange:d,placeholder:c("search.filter-number-max-value-placeholder"),radius:2,step:"any",type:"number",value:i})})]})}function AM(e,t){const n=t.split("."),r=n[0];if(r&&Bi(e)){const i=e.fields.find(a=>a.name===r);if(i){const a=n.slice(1).join(".");return a?AM(i.type,a):i}}}const sEn=R(L)`
  @supports (-webkit-overflow-scrolling: touch) {
    * [data-ui='Box'] {
      background-attachment: scroll;
    }
  }
`;function IMe({documentId:e,layout:t,presence:n,schemaType:r,showBadge:i=!0}){const a=ua(),o=f.useMemo(()=>Yb(a,r,e,""),[e,a,r]),{draft:s,published:l,isLoading:c}=Jr(o,{draft:null,isLoading:!0,published:null}),d=f.useMemo(()=>({_id:e,_type:r.name}),[e,r.name]),h=f.useMemo(()=>c?null:u.jsxs(U,{align:"center",gap:3,children:[n&&n.length>0&&u.jsx(YG,{presence:n}),i&&u.jsx(ro,{children:r.title}),u.jsx(Wb,{draft:s,published:l})]}),[s,c,n,l,r.title,i]),p=u.jsx(By,{draft:s,published:l});return u.jsx(sEn,{children:u.jsx(to,{...IY({draft:s,published:l,value:d}),isPlaceholder:c??!0,layout:t||"default",icon:r.icon,status:h,tooltip:p})})}function eq({disableIntentLink:e,documentId:t,documentType:n,layout:r,onClick:i,onItemSelect:a,...o}){const s=en().get(n),l=qb(t),c=f.useMemo(()=>({id:t,type:s==null?void 0:s.name}),[t,s==null?void 0:s.name]),{onClick:d,href:h}=s_({intent:"edit",params:c}),p=f.useCallback(m=>{a==null||a({_id:t,_type:n}),e||d(m),i==null||i()},[a,t,n,e,i,d]);return s?u.jsx(L,{...o,children:u.jsx(Cg,{as:"a","data-as":"a",flex:1,href:e?void 0:h,onClick:p,radius:2,tabIndex:-1,children:u.jsx(IMe,{documentId:t,layout:r,presence:l,schemaType:s})})}):null}const lEn=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),uEn="_debug_search_score",DMe=!1,cEn=1e3,$Me="k",dEn=lEn?"Cmd":"Ctrl",U7=Fg.space[4],fEn=735,hEn=800,A_=5,Jb=3;function j_({allowEmptyQueries:e,terms:t}){const n=e?!0:t.query.length>0,r=!!t.filter,i=t.types.length>0;return n||r||i}function pEn(e,t){return jM(e).filter(n=>mEn(n,t)).sort(H7)}function jM(e){return DDe(e).filter(t=>t.__experimental_omnisearch_visibility!==!1)}function H7(e,t){var n,r;return((n=e.title)!=null?n:e.name).localeCompare((r=t.title)!=null?r:t.name)}function mEn(e,t){var n;return!t||((n=e.title)!=null?n:e.name).toLowerCase().includes(t==null?void 0:t.toLowerCase())}const gEn=300,XF={error:null,hits:[],loading:!1,terms:{query:"",types:[]}};function vEn(e){return e!==null}function yEn(e){var t;return{...e,terms:{...e.terms,filter:(t=e.terms.filter)==null?void 0:t.trim(),query:e.terms.query.trim()}}}function OMe({allowEmptyQueries:e,initialState:t,onComplete:n,onError:r,onStart:i,schema:a}){const[o,s]=f.useState(t),l=Zt(Gt),c=cM(),{enableLegacySearch:d=!1}=Fr().search,h=f.useMemo(()=>uM(jM(a),l,{tag:"search.global",unique:!0,enableLegacySearch:d,maxDepth:c}),[l,c,a,d]),p=A$(m=>m.pipe($t(vEn),de(yEn),xr(wt),wU(g=>vi((g==null?void 0:g.debounceTime)||gEn)),Qn(i),mt(g=>Ai(xe({...XF,loading:!0,options:g.options,terms:g.terms}),Gft(()=>j_({allowEmptyQueries:e,terms:g.terms}),h(g.terms,g.options).pipe(Qn(({hits:v,nextCursor:b})=>n==null?void 0:n({hits:v,nextCursor:b})),Cn(v=>(r==null||r(v),xe({...XF,error:v,loading:!1,options:g.options,terms:g.terms})))),xe(nr).pipe(Qn(()=>n==null?void 0:n({hits:[],nextCursor:void 0})))),xe({loading:!1}))),il((g,v)=>({...g,...v}),XF),Qn(s)));return{handleSearch:f.useCallback(m=>p(m),[p]),searchState:o}}const bEn=40;function MMe({availableCharacters:e=bEn,types:t}){if(t.length===0)return{remainingCount:0,types:[]};const n=t.reduce(function(){let r=e;return function(i,a,o){const s=Zce(a);return r-=s.length,(o===0||e>s.length&&r>s.length)&&i.push(a),i}}(),[]);return{remainingCount:t.length-n.length,types:n.map(Zce)}}function RMe({t:e,availableCharacters:t,types:n}){if(n.length===0)return e("search.document-type-list-all-types");const{remainingCount:r,types:i}=MMe({availableCharacters:t,types:n}),a=r>0?"search.document-type-list-truncated":"search.document-type-list";return e(a,{count:r,types:i,formatParams:{types:{style:"short",type:"unit"}}})}function Zce(e){var t;return(t=e.title)!=null?t:e.name}const xEn=()=>!0,wEn=R(N)`
  word-break: break-word;
`,CEn=f.forwardRef(function({onSelect:e,types:t=[],value:n},r){const i=f.useRef(null),a=en(),{state:{fullscreen:o}}=Qt(),{t:s}=Y(),l=f.useId(),[c,d]=f.useState([]),{handleSearch:h,searchState:p}=OMe({allowEmptyQueries:!0,initialState:{hits:[],loading:!1,error:null,terms:{query:"",types:t}},onComplete:w=>{d(w.hits.map(({hit:C})=>({value:C._id,hit:C})))},schema:a}),m=f.useCallback(()=>{h({debounceTime:0,options:{limit:100},terms:{query:"",types:t}})},[h,t]),g=f.useCallback(w=>{h(w?{options:{limit:100},terms:{query:w||"",types:t}}:{debounceTime:0,options:{limit:0},terms:{query:"",types:t}})},[h,t]),v=f.useCallback(w=>{var C;const S=(C=c.find(_=>_.value===w))==null?void 0:C.hit;S&&(e==null||e({_ref:fn(S._id),_type:S._type}))},[c,e]),b=f.useMemo(()=>{if(t.length===0)return s("search.action.search-all-types");const{remainingCount:w,types:C}=MMe({types:t}),S=w>0?"search.action.search-specific-types-truncated":"search.action.search-specific-types";return s(S,{count:w,types:C,formatParams:{types:{style:"short",type:"unit"}}})},[t,s]),y=f.useCallback(w=>u.jsx(eq,{disableIntentLink:!0,documentId:w.value,documentType:w.hit._type,layout:"compact"}),[]),x=f.useCallback((w,C)=>{const{content:S,hidden:_,onMouseEnter:E,onMouseLeave:k}=w,T=c&&c.length>0;return u.jsx(Fn,{constrainSize:!0,content:u.jsx("div",{ref:C,children:T?S:p.terms.query&&u.jsx(L,{padding:4,children:u.jsx(U,{align:"center",height:"fill",justify:"center",children:u.jsx(wEn,{align:"center",muted:!0,children:u.jsx(ht,{t:s,i18nKey:"new-document.no-results",values:{searchQuery:p.terms.query}})})})})}),fallbackPlacements:["bottom","bottom-end"],matchReferenceWidth:!0,onMouseEnter:E,onMouseLeave:k,open:!p.loading&&!_,overflow:"auto",placement:"bottom-start",radius:Jb,referenceElement:i.current})},[c,p.loading,p.terms.query,s]);return u.jsx("div",{ref:i,children:u.jsx(qD,{"aria-label":b,filterOption:xEn,fontSize:o?2:1,id:l,loading:p.loading,openButton:{onClick:m},options:c,onQueryChange:g,onSelect:v,placeholder:b,radius:2,ref:r,renderOption:y,renderPopover:x,value:n==null?void 0:n._ref})})});function TC({fieldDefinition:e,onChange:t,value:n}){const{onClose:r,state:{documentTypesNarrowed:i}}=Qt(),a=en(),{t:o}=Y(),s=f.useCallback(h=>t(h),[t]),l=f.useMemo(()=>e?e.documentTypes.filter(h=>i.includes(h)).flatMap(h=>{const p=a.get(h);if(p){const m=AM(p,e.fieldPath);if(Is(m==null?void 0:m.type))return m==null?void 0:m.type.of.filter(Zs).flatMap(g=>g.to);if(Zs(m==null?void 0:m.type))return m==null?void 0:m.type.to}return[]}).reduce((h,p)=>(h.findIndex(m=>m.name===(p==null?void 0:p.name))<0&&h.push(p),h),[]):[],[i,e,a]),c=f.useCallback(()=>s(null),[s]),d=f.useCallback(()=>{r==null||r()},[r]);return u.jsx(L,{style:{width:"min(calc(100vw - 40px), 420px)"},children:n!=null&&n._ref&&n!=null&&n._type?u.jsxs(ee,{space:3,children:[u.jsx(te,{padding:1,radius:1,shadow:1,children:u.jsx(eq,{documentId:n._ref,documentType:n._type,layout:"compact",onClick:d})}),u.jsx(fe,{mode:"ghost",onClick:c,text:o("search.filter-reference-clear"),tone:"critical"})]}):u.jsx(CEn,{onSelect:s,types:l,value:n})})}function SEn({onClick:e,selected:t,title:n,value:r}){const i=f.useCallback(()=>e(r),[e,r]);let a=`${n}`;return typeof r<"u"&&n!==r&&(a+=` (${r})`),u.jsx(We,{onClick:i,pressed:t,tone:"default",text:a})}function vI({fieldDefinition:e,onChange:t,value:n}){const r=f.useId(),{state:{documentTypesNarrowed:i}}=Qt(),{t:a}=Y(),o=en(),s=f.useMemo(()=>e?e.documentTypes.filter(c=>i.includes(c)).map(c=>{const d=o.get(c);if(d){const h=AM(d,e.fieldPath);return h==null?void 0:h.type.options}return null}).filter(sa).map(c=>c.list).flatMap(c=>c==null?void 0:c.map(d=>_En(d))).filter(sa).reduce((c,d)=>{const h=c.findIndex(p=>p.value===(d==null?void 0:d.value));if(h>-1){const p=c[h];c[h]={...c[h],title:ra([...p.title,d.title]).sort()}}else c.push({...d,title:[d.title]});return c},[]):[],[i,e,o]),l=f.useCallback(c=>{t(c)},[t]);return u.jsx(Kt,{button:u.jsx(fe,{mode:"ghost",iconRight:Ii,text:n?String(n):a("search.filter-string-value-select-predefined-value")}),id:r||"",menu:u.jsx(Ot,{children:s.map((c,d)=>u.jsx(SEn,{onClick:l,selected:c.value===n,title:c.title.join(", "),value:c.value||""},d))}),popover:{constrainSize:!0,placement:"bottom-start",portal:!1,radius:2}})}function _En(e){return RI(e)?e:{title:O0(`${e}`),value:e}}const PMe=()=>u.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M7.04 19V17.512H17.36V19H7.04ZM7.04 15.328V13.624L12.08 11.872L15.32 10.816V10.72L12.08 9.664L7.04 7.912V6.208L17.36 9.88V11.656L7.04 15.328Z",fill:"currentColor"})}),FMe=()=>u.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M7.568 18.848V16.952L14.792 12.08V11.984L7.568 7.112V5.216L16.52 11.288V12.776L7.568 18.848Z",fill:"currentColor"})}),NMe=()=>u.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M7.04 19V17.512H17.36V19H7.04ZM17.36 15.328L7.04 11.656V9.88L17.36 6.208V7.912L12.32 9.664L9.08 10.72V10.816L12.32 11.872L17.36 13.624V15.328Z",fill:"currentColor"})}),LMe=()=>u.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M16.952 19.632L8 13.56V12.072L16.952 6V7.896L9.728 12.768V12.864L16.952 17.736V19.632Z",fill:"currentColor"})});function ft(e){return JSON.stringify(e)}const EEn={arrayCountEqual:{nameKey:"search.operator.array-count-equal.name",descriptionKey:"search.operator.array-count-equal.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`count(${e}) == ${ft(t)}`:null,initialValue:null,inputComponent:Rl,type:"arrayCountEqual"},arrayCountGt:{nameKey:"search.operator.array-count-gt.name",descriptionKey:"search.operator.array-count-gt.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`count(${e}) > ${ft(t)}`:null,icon:FMe,initialValue:null,inputComponent:Rl,type:"arrayCountGt"},arrayCountGte:{nameKey:"search.operator.array-count-gte.name",descriptionKey:"search.operator.array-count-gte.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`count(${e}) >= ${ft(t)}`:null,icon:PMe,initialValue:null,inputComponent:Rl,type:"arrayCountGte"},arrayCountLt:{nameKey:"search.operator.array-count-lt.name",descriptionKey:"search.operator.array-count-lt.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`count(${e}) < ${ft(t)}`:null,icon:LMe,initialValue:null,inputComponent:Rl,type:"arrayCountLt"},arrayCountLte:{nameKey:"search.operator.array-count-lte.name",descriptionKey:"search.operator.array-count-lte.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`count(${e}) <= ${ft(t)}`:null,icon:NMe,initialValue:null,inputComponent:Rl,type:"arrayCountLte"},arrayCountNotEqual:{nameKey:"search.operator.array-count-not-equal.name",descriptionKey:"search.operator.array-count-not-equal.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`count(${e}) != ${ft(t)}`:null,initialValue:null,inputComponent:Rl,type:"arrayCountNotEqual"},arrayCountRange:{nameKey:"search.operator.array-count-range.name",descriptionKey:"search.operator.array-count-range.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t==null?void 0:t.to)&&Number.isFinite(t==null?void 0:t.from)&&e?`count(${e}) > ${ft(t==null?void 0:t.from)} && count(${e}) < ${ft(t==null?void 0:t.to)}`:"",initialValue:null,inputComponent:jMe,type:"arrayCountRange"},arrayListIncludes:{nameKey:"search.operator.array-list-includes.name",descriptionKey:"search.operator.array-list-includes.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`${ft(t)} in ${e}`:null,initialValue:null,inputComponent:vI,type:"arrayListIncludes"},arrayListNotIncludes:{nameKey:"search.operator.array-list-not-includes.name",descriptionKey:"search.operator.array-list-not-includes.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`!(${ft(t)} in ${e})`:null,initialValue:null,inputComponent:vI,type:"arrayListNotIncludes"},arrayReferenceIncludes:{nameKey:"search.operator.array-reference-includes.name",descriptionKey:"search.operator.array-reference-includes.description",buttonValueComponent:Du,groqFilter:({fieldPath:e,value:t})=>t!=null&&t._ref&&e?`${ft(t._ref)} in ${e}[]._ref`:null,initialValue:null,inputComponent:TC,type:"arrayReferenceIncludes"},arrayReferenceNotIncludes:{nameKey:"search.operator.array-reference-not-includes.name",descriptionKey:"search.operator.array-reference-not-includes.description",buttonValueComponent:Du,groqFilter:({fieldPath:e,value:t})=>t!=null&&t._ref&&e?`!(${ft(t._ref)} in ${e}[]._ref)`:null,initialValue:null,inputComponent:TC,type:"arrayReferenceNotIncludes"}};function kEn(e){const{t}=Y();return u.jsx(L,{...e,children:u.jsxs(U,{align:"flex-start",gap:3,children:[u.jsx(qr,{tone:"caution",children:u.jsx(fr,{})}),u.jsxs(ee,{space:4,children:[u.jsx(qr,{size:1,tone:"caution",weight:"medium",children:t("search.error.no-valid-asset-source-title")}),u.jsx(qr,{size:1,tone:"caution",children:t("search.error.no-valid-asset-source-only-default-description")}),u.jsx(qr,{size:1,tone:"caution",children:t("search.error.no-valid-asset-source-check-config-description")})]})]})})}function TEn({reference:e}){const t=ua(),n=f.useCallback(r=>dDe(t,r),[t]);return u.jsx(WS,{observeAsset:n,reference:e,waitPlaceholder:u.jsx(jEn,{}),children:r=>u.jsx(AEn,{asset:r})})}function AEn({asset:e}){return u.jsx(te,{padding:2,shadow:1,children:u.jsxs(U,{align:"center",justify:"space-between",wrap:"nowrap",children:[u.jsx(te,{padding:3,radius:1,shadow:1,tone:"transparent",children:u.jsx(N,{children:u.jsx(Yy,{})})}),u.jsxs(ee,{flex:1,space:2,marginLeft:3,children:[u.jsx(N,{muted:!0,size:1,textOverflow:"ellipsis",weight:"medium",children:(e==null?void 0:e.originalFilename)||e._id}),u.jsx(N,{size:1,muted:!0,children:$$e(e.size)})]})]})})}function jEn(){return u.jsx(te,{padding:2,shadow:1,children:u.jsxs(U,{align:"center",justify:"flex-start",children:[u.jsx(te,{padding:3,radius:1,shadow:1,tone:"transparent",children:u.jsx(N,{children:u.jsx(Yy,{})})}),u.jsxs(ee,{flex:1,space:2,marginLeft:3,children:[u.jsx(ir,{animated:!0,style:{width:"100%"},radius:1}),u.jsx(ir,{animated:!0,style:{width:"100%"},radius:1})]})]})})}const IEn=R(te)`
  position: relative;
  padding-bottom: 100%;
`,DEn=R.img`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: block;
  object-fit: contain;
`;function $En({reference:e}){const t=ua(),n=f.useCallback(r=>cDe(t,r),[t]);return u.jsx(WS,{observeAsset:n,reference:e,children:r=>u.jsx(OEn,{asset:r})})}function OEn({asset:e}){const[t,n]=f.useState(!1),r=`${e.url}?h=800&fit=max`,i=f.useCallback(()=>n(!0),[]);return u.jsxs(IEn,{__unstable_checkered:!0,border:!0,children:[!t&&u.jsx(wn,{fill:!0,showText:!0}),u.jsx(DEn,{onLoad:i,src:r})]})}function MEn({reference:e}){return e?e._type.startsWith("sanity.fileAsset")?u.jsx(TEn,{reference:e}):e._type.startsWith("sanity.imageAsset")?u.jsx($En,{reference:e}):null:null}const REn={file:"sanity.fileAsset",image:"sanity.imageAsset"},PEn=R(L)`
  width: min(calc(100vw - 40px), 320px);
`;function h1(e){return function({onChange:t,value:n}){const[r,i]=f.useState(null),[a,o]=f.useState(null);Qt();const{file:s,image:l}=Dn().form,{t:c}=Y(),d=f.useMemo(()=>{switch(e){case"file":return s.assetSources.filter(C=>C.name===EMe.name);case"image":return l.assetSources.filter(C=>C.name===kMe.name);default:throw Error("Unknown asset source found")}},[s.assetSources,l.assetSources]),h=f.useId(),p=Zt(Gt),m=f.useCallback(()=>{o(null),t(null)},[t]),g=f.useCallback(()=>{i(null)},[]),v=f.useCallback(C=>{const S=C[0];o(S),g()},[g]),b=f.useCallback(C=>i(C),[]);f.useEffect(()=>{(a==null?void 0:a.kind)==="assetDocumentId"&&typeof(a==null?void 0:a.value)=="string"&&e&&t({_ref:a.value,_type:REn[e]})},[p,t,a]);const y=r==null?void 0:r.component,x=c(n?"search.filter-asset-change":"search.filter-asset-select",{context:e}),w=Jn(e,"options.accept",e==="image"?"image/*":"");return u.jsx(PEn,{children:u.jsxs(ee,{space:3,children:[r&&y&&u.jsx(Yp,{children:u.jsx(y,{assetType:e,dialogHeaderTitle:c("search.action.select-asset",{context:e}),onClose:g,onSelect:v,selectedAssets:[],selectionType:"single",accept:w})}),n&&u.jsx(MEn,{reference:n}),u.jsxs(U,{gap:2,children:[d.length===0&&u.jsx(kEn,{padding:2}),d.length>0&&u.jsx(u.Fragment,{children:d.length>1?u.jsx(Kt,{button:u.jsx(fe,{icon:n?RC:Ca,iconRight:Ii,mode:"ghost",width:n?"fill":void 0,text:x}),id:h,menu:u.jsx(Ot,{children:d.map(C=>u.jsx(We,{icon:C.icon||eu,onClick:()=>b(C),text:(C.i18nKey?c(C.i18nKey):C.title)||Rn(C.name)},C.name))}),popover:{constrainSize:!0,portal:!1,radius:2}}):u.jsx(fe,{icon:n?RC:Ca,mode:"ghost",onClick:()=>b(d[0]),width:n?"fill":void 0,text:x})}),n&&u.jsx(fe,{mode:"ghost",onClick:m,width:"fill",text:c("search.filter-asset-clear"),tone:"critical"})]})]})})}}const FEn={assetFileEqual:{nameKey:"search.operator.asset-file-equal.name",descriptionKey:"search.operator.asset-file-equal.description",buttonValueComponent:Du,groqFilter:({fieldPath:e,value:t})=>t!=null&&t._ref&&e?`${e}.asset._ref == ${ft(t._ref)}`:null,initialValue:null,inputComponent:h1("file"),label:"is",type:"assetFileEqual"},assetFileNotEqual:{nameKey:"search.operator.asset-file-not-equal.name",descriptionKey:"search.operator.asset-file-not-equal.description",buttonValueComponent:Du,groqFilter:({fieldPath:e,value:t})=>t!=null&&t._ref&&e?`${e}.asset._ref != ${ft(t._ref)}`:null,initialValue:null,inputComponent:h1("file"),label:"is not",type:"assetFileNotEqual"},assetImageEqual:{nameKey:"search.operator.asset-image-equal.name",descriptionKey:"search.operator.asset-image-equal.description",buttonValueComponent:Du,groqFilter:({fieldPath:e,value:t})=>t!=null&&t._ref&&e?`${e}.asset._ref == ${ft(t._ref)}`:null,initialValue:null,inputComponent:h1("image"),label:"is",type:"assetImageEqual"},assetImageNotEqual:{nameKey:"search.operator.asset-image-not-equal.name",descriptionKey:"search.operator.asset-image-not-equal.description",buttonValueComponent:Du,groqFilter:({fieldPath:e,value:t})=>t!=null&&t._ref&&e?`${e}.asset._ref != ${ft(t._ref)}`:null,initialValue:null,inputComponent:h1("image"),label:"is not",type:"assetImageNotEqual"}};function NEn({onChange:e,value:t}){const{state:{fullscreen:n}}=Qt(),{t:r}=Y(),i=f.useCallback(a=>{e(a.currentTarget.value==="true")},[e]);return u.jsxs(iu,{fontSize:n?2:1,onChange:i,radius:2,value:String(t??!0),children:[u.jsx("option",{value:"true",children:r("search.filter-boolean-true")}),u.jsx("option",{value:"false",children:r("search.filter-boolean-false")})]})}const LEn={booleanEqual:{nameKey:"search.operator.boolean-equal.name",descriptionKey:"search.operator.boolean-equal.description",groqFilter:({fieldPath:e,value:t})=>typeof t<"u"&&e?`${e} == ${ft(t)}`:null,initialValue:!0,inputComponent:NEn,type:"booleanEqual"}},BEn=R(N)`
  cursor: default;
`;function tq({onChange:e,value:t}){const{t:n}=Y();return u.jsxs(U,{align:"center",gap:2,justify:"flex-end",marginTop:1,children:[u.jsx(ee,{children:u.jsx(BEn,{muted:!0,onClick:e,size:1,weight:"medium",children:n("calendar.action.include-time-label")})}),u.jsx(YD,{checked:t,label:n("calendar.action.include-time-label"),onChange:e})]})}function nq(){const e=f.useContext(ype);if(e===void 0)throw new Error("useCalendar must be used within an CalendarContext.Provider");return e}function VEn(e){const{t}=Y(),n=Xl({month:"long",year:"numeric"}),{focusedDate:r}=nq(),{moveFocusedDate:i,onNowClick:a}=e,o=f.useCallback(()=>i(-1),[i]),s=f.useCallback(()=>i(1),[i]);return u.jsxs(U,{align:"center",flex:1,justify:"space-between",children:[u.jsx(An,{paddingLeft:2,space:1,children:u.jsx(N,{size:1,weight:"medium",children:gEe(n.format(r))})}),u.jsxs(U,{align:"center",children:[u.jsx(fe,{"aria-label":t("calendar.action.go-to-today-aria-label"),mode:"bleed",onClick:a,text:t("calendar.action.go-to-today")}),u.jsx(fe,{icon:Lf,mode:"bleed",onClick:o,tooltipProps:{content:t("calendar.action.go-to-previous-month")}}),u.jsx(fe,{icon:no,mode:"bleed",onClick:s,tooltipProps:{content:t("calendar.action.go-to-next-month")}})]})]})}const zEn=R.svg(({theme:e})=>ce`
    bottom: 0;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;

    circle {
      stroke: ${e.sanity.color.card.enabled.border};
      stroke-width: 3;
      fill: none;
    }
  `),UEn=R(te)`
  position: relative;

  &[data-focused='true'] {
    z-index: 1;
  }

  &[data-start-date='true'] {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
  }

  &[data-end-date='true'] {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
  }

  &[data-within-range='true'] {
    border-radius: 0;
  }
`;function HEn({date:e,onSelect:t}){const n=f.useCallback(()=>{t(e)},[e,t]),{date:r,endDate:i,focusedDate:a,selectRange:o}=nq(),s=r&&Eo(e,r),l=o&&r&&Eo(e,r),c=o&&i&&Eo(e,i),d=aO(e,a),h=a&&Eo(e,a),p=Eo(e,new Date),m=r&&i&&!l&&!c&&v8(e,r)&&eke(e,i);return u.jsxs(UEn,{__unstable_focusRing:!0,"aria-label":e.toDateString(),"aria-pressed":s,"data-end-date":c?!0:void 0,"data-focused":h?"true":"","data-ui":"CalendarDay","aria-selected":s,"data-start-date":l?!0:void 0,"data-within-range":m?!0:void 0,forwardedAs:"button",onClick:n,paddingX:3,paddingY:2,radius:2,role:"button",selected:s||l||c,tabIndex:-1,tone:m?"primary":"default",children:[p&&u.jsx(zEn,{height:"100%",preserveAspectRatio:"xMidYMid meet",vectorEffect:"non-scaling-stroke",viewBox:"0 0 100 100",width:"100%",children:u.jsx("circle",{cx:"50",cy:"50",r:"40%"})}),u.jsx(N,{align:"center",muted:!s&&!d,size:1,weight:d?"medium":"regular",children:e.getDate()})]})}const JF=["calendar.weekday-names.short.monday","calendar.weekday-names.short.tuesday","calendar.weekday-names.short.wednesday","calendar.weekday-names.short.thursday","calendar.weekday-names.short.friday","calendar.weekday-names.short.saturday","calendar.weekday-names.short.sunday"];J2(0,24);const WEn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],GEn=[1,2,3,4,5,6],YEn=(e,t)=>{const n=nO(e);return tO({start:n,end:iO(n)},{weekStartsOn:t===7?0:t})},qEn=e=>e.map(t=>[t,...GEn.map(n=>Hr(t,n))]),KEn=e=>{const{weekInfo:t}=rm();return qEn(YEn(e,t.firstDay)).map(n=>({number:rO(n[0]),days:n}))},ZEn={1:JF,7:[JF[6],...JF.slice(0,6)]},XEn=R(Vn)`
  grid-template-columns: repeat(7, minmax(44px, auto));
`;function JEn({hidden:e,onSelect:t}){const{focusedDate:n,firstWeekDay:r}=nq(),{t:i}=Y();return u.jsx(L,{"aria-hidden":e||!1,"data-ui":"CalendarMonth",children:u.jsxs(XEn,{gapY:1,children:[ZEn[r].map(a=>u.jsx(L,{paddingBottom:3,paddingTop:2,children:u.jsx(N,{align:"center",size:1,weight:"medium",children:i(a)})},a)),KEn(n).map((a,o)=>a.days.map((s,l)=>u.jsx(HEn,{date:s,onSelect:t},`${o}-${l}`)))]})})}const QEn=u.jsx("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1});function ekn(e){const{date:t,endDate:n,onSelect:r,selectRange:i,selectTime:a}=e,[o,s]=f.useState(null),[l,c]=f.useState(!1),[d,h]=f.useState(t||new Date),p=f.useRef(t||null),m=f.useRef(n||null),{weekInfo:{firstDay:g}}=rm(),v=f.useCallback(()=>{var S;(S=o==null?void 0:o.querySelector('[data-focused="true"]'))==null||S.focus()},[o]),b=f.useCallback(S=>{const _=tOt(S,{hours:S.getHours(),minutes:S.getMinutes(),seconds:0,milliseconds:0}),E=t&&eke(_,t),k=n&&v8(_,n);if(i){if(E||k){r({date:_,endDate:null});return}r(l?{date:t||null,endDate:_}:{date:_,endDate:t?null:n||null})}else r({date:_})},[t,n,r,l,i]),y=f.useCallback(()=>{const S=new Date;i?h(S):r({date:S})},[r,i,h]),x=f.useCallback(S=>{var _;if(WEn.includes(S.key)){if(S.preventDefault(),S.target.hasAttribute("data-calendar-grid")){v();return}S.key==="ArrowUp"&&h(Hr(d,-7)),S.key==="ArrowDown"&&h(Hr(d,7)),S.key==="ArrowLeft"&&h(Hr(d,-1)),S.key==="ArrowRight"&&h(Hr(d,1)),(_=o==null?void 0:o.querySelector("[data-preserve-focus]"))==null||_.focus()}},[o,v,d,h]),w=f.useCallback(S=>h(X2(d,S)),[d,h]);f.useEffect(()=>{v()},[v]),f.useEffect(()=>{var S;(S=document.activeElement)!=null&&S.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]")&&v()},[v,d]),f.useEffect(()=>{var S,_;const E=(t==null?void 0:t.getTime())!==((S=p.current)==null?void 0:S.getTime()),k=(n==null?void 0:n.getTime())!==((_=m.current)==null?void 0:_.getTime()),T=E&&!k,j=!E&&k,I=t&&n&&v8(t,n);T&&(I&&(c(!0),r({date:t,endDate:null})),c(!!t),t&&h(t)),j&&(I&&(c(!0),r({date:n,endDate:null})),c(!!t&&!n),n&&h(n)),E&&k&&(c(!0),t&&h(t)),p.current=t||null,m.current=n||null},[t,n,r]);const C=f.useMemo(()=>({date:t,endDate:n,focusedDate:d,selectRange:i,selectTime:a,firstWeekDay:g}),[t,n,g,d,i,a]);return u.jsx(ype.Provider,{value:C,children:u.jsxs(L,{"data-ui":"Calendar",ref:s,children:[u.jsx(U,{children:u.jsx(L,{flex:1,children:u.jsx(VEn,{moveFocusedDate:w,onNowClick:y})})}),u.jsxs(L,{"data-calendar-grid":!0,onKeyDown:x,marginTop:2,overflow:"hidden",tabIndex:0,children:[u.jsx(JEn,{onSelect:b}),QEn]})]})})}function rq({date:e,endDate:t,onChange:n,selectRange:r,selectTime:i}){const a=f.useCallback(o=>{n(o)},[n]);return u.jsx(ekn,{date:e,endDate:t,onSelect:a,selectRange:r,selectTime:i})}const tkn=R(L)(({$background:e,$smallClearButton:t})=>ce`
    width: 100%;

    input + span {
      background: ${({theme:n})=>e?n.sanity.color.card.disabled.bg2:"transparent"};
    }

    [data-qa='clear-button'] {
      background: none;
      box-shadow: none;
      display: flex; /* TODO: hack, currently used to vertically center <TextInput>'s clearButton */
      transform: ${t?"scale(0.8)":"scale(1)"};
      &:hover {
        opacity: 0.5;
      }
    }
  `),iq=f.forwardRef(function(e,t){const{$background:n,$smallClearButton:r,...i}=e;return u.jsx(tkn,{$background:n,$smallClearButton:r,children:u.jsx(Zr,{...i,ref:t})})});function nf({date:e,dateOnly:t,roundDay:n}){let r;switch(n){case"end":r=SS(e);break;case"start":r=Ip(e);break;default:r=e;break}return t?r.toISOString().split("T")[0]:r.toISOString()}const Gk={date:{exampleDate:"Jan 1, 2000",pattern:"MMM d, yyyy"},datetime:{exampleDate:"Jan 1, 2000 12:00 AM",pattern:"MMM d, yyyy p"}};function yI({isDateTime:e,onChange:t,placeholderDate:n,isDateTimeFormat:r,value:i,...a}){const{t:o}=Y(),s=r?Gk.datetime.pattern:Gk.date.pattern,[l,c]=f.useState(void 0),[d,h]=f.useState(()=>{if(!i)return"";const x=new Date(i);return $c(x,s)}),p=f.useMemo(()=>$c(n||new Date,s),[s,n]),m=f.useCallback(({dateString:x,triggerOnChange:w})=>{if(!x)return;const C=KH(x,s,new Date),S=kf(C);S&&(w&&t(nf({date:C,dateOnly:!e})),h($c(C,s))),c(S?void 0:`Invalid ${e?"datetime":"date"}`)},[s,e,t]),g=f.useCallback(()=>{m({dateString:d,triggerOnChange:!0})},[d,m]),v=f.useCallback(x=>{h(x.currentTarget.value)},[]),b=f.useCallback(()=>{t(null),c(void 0),h("")},[t]),y=f.useCallback(x=>{x.key==="Enter"&&m({dateString:d,triggerOnChange:!0})},[d,m]);return f.useEffect(()=>{const x=i&&new Date(i);x&&m({dateString:$c(x,s),triggerOnChange:!1})},[s,m,r,i]),u.jsx(gt,{content:o("calendar.error.must-be-in-format",{exampleDate:r?Gk.datetime.exampleDate:Gk.date.exampleDate}),disabled:!l,placement:"top",portal:!0,children:u.jsx(iq,{...a,clearButton:!!d,customValidity:l,onBlur:g,onChange:v,onClear:b,onKeyDown:y,placeholder:p,value:d})})}function IM({direction:e,isDateTime:t,onChange:n,value:r}){const{state:{fullscreen:i}}=Qt(),{t:a}=Y(),o=f.useMemo(()=>{switch(e){case"after":return"end";case"before":return"start";default:return}},[e]),s=f.useCallback(({date:d})=>{let h=null;d&&(h=nf({date:d,dateOnly:!t,roundDay:r!=null&&r.includeTime?void 0:o})),n({includeTime:r==null?void 0:r.includeTime,date:h})},[t,n,o,r==null?void 0:r.includeTime]),l=f.useCallback(()=>{const d=!(r!=null&&r.includeTime),h=r!=null&&r.date?new Date(r.date):null;let p=null;h&&(p=nf({date:h,dateOnly:!t,roundDay:d?"start":o})),n({includeTime:d,date:p})},[t,n,o,r]),c=f.useCallback(d=>{n({includeTime:r==null?void 0:r.includeTime,date:d||null})},[n,r==null?void 0:r.includeTime]);return u.jsxs(ee,{space:3,children:[u.jsx(yI,{"aria-label":a("search.filter-date-aria-label"),fontSize:i?2:1,isDateTime:t,isDateTimeFormat:t&&(r==null?void 0:r.includeTime),onChange:c,radius:2,value:r==null?void 0:r.date}),u.jsx(rq,{date:r!=null&&r.date?new Date(r.date):void 0,onChange:s,selectTime:t}),t&&u.jsx(tq,{onChange:l,value:!!(r!=null&&r.includeTime)})]})}function nkn(e){return u.jsx(IM,{...e,direction:"after",isDateTime:!1})}function rkn(e){return u.jsx(IM,{...e,direction:"before",isDateTime:!1})}function BMe({isDateTime:e,onChange:t,value:n}){const{state:{fullscreen:r}}=Qt(),{t:i}=Y(),a=f.useCallback(({date:l})=>{if(l){const c=nf({date:l,dateOnly:!e});t({includeTime:n==null?void 0:n.includeTime,date:c})}else t(null)},[e,t,n==null?void 0:n.includeTime]),o=f.useCallback(()=>{const l=!(n!=null&&n.includeTime),c=n!=null&&n.date?new Date(n.date):null;let d=null;c&&(d=nf({date:c,dateOnly:!e})),t({includeTime:l,date:d})},[e,t,n]),s=f.useCallback(l=>{t({includeTime:n==null?void 0:n.includeTime,date:l||null})},[t,n==null?void 0:n.includeTime]);return u.jsxs(ee,{space:3,children:[u.jsx(yI,{"aria-label":i("search.filter-date-aria-label"),fontSize:r?2:1,isDateTime:e,isDateTimeFormat:e&&(n==null?void 0:n.includeTime),onChange:s,radius:2,value:n==null?void 0:n.date}),u.jsx(rq,{date:n!=null&&n.date?new Date(n.date):void 0,onChange:a,selectTime:e}),e&&u.jsx(tq,{onChange:o,value:!!(n!=null&&n.includeTime)})]})}function Xce(e){return u.jsx(BMe,{...e,isDateTime:!1})}const ikn=[{unit:"day",key:"search.filter-date-unit_days"},{unit:"month",key:"search.filter-date-unit_months"},{unit:"year",key:"search.filter-date-unit_years"}];function Jce({onChange:e,value:t}){const[n,r]=f.useState((t==null?void 0:t.unitValue)||""),i=f.useRef("day"),a=f.useRef((t==null?void 0:t.unitValue)||null),{t:o}=Y(),{state:{fullscreen:s}}=Qt(),l=f.useCallback(()=>{e({unit:i==null?void 0:i.current,unitValue:a==null?void 0:a.current})},[e]),c=f.useCallback(h=>{i.current=h.currentTarget.value,l()},[l]),d=f.useCallback(h=>{r(h.currentTarget.value);const p=parseFloat(h.currentTarget.value);a.current=Number.isFinite(p)?p:null,l()},[l]);return u.jsxs(U,{gap:2,children:[u.jsx(L,{flex:1,children:u.jsx(Zr,{"aria-label":o("search.filter-date-value-aria-label"),fontSize:s?2:1,onChange:d,pattern:"\\d*",radius:2,step:"1",type:"number",value:n})}),u.jsx(L,{flex:1,children:u.jsx(iu,{"aria-label":o("search.filter-date-unit-aria-label"),fontSize:s?2:1,onChange:c,radius:2,value:t==null?void 0:t.unit,children:ikn.map(h=>u.jsx("option",{value:h.unit,children:o(h.key)},h.key))})})]})}const akn=-7;function VMe({isDateTime:e,onChange:t,value:n}){const{t:r}=Y(),{state:{fullscreen:i}}=Qt(),a=f.useMemo(()=>Hr(new Date,akn),[]),o=f.useMemo(()=>new Date,[]),s=f.useCallback(({date:h,endDate:p})=>{t(Qce({date:h,endDate:p,includeTime:n==null?void 0:n.includeTime,isDateTime:e}))},[e,t,n==null?void 0:n.includeTime]),l=f.useCallback(()=>{const h=!(n!=null&&n.includeTime);t(Qce({date:n!=null&&n.from?new Date(n.from):null,endDate:n!=null&&n.to?new Date(n.to):null,includeTime:h,isDateTime:e}))},[e,t,n]),c=f.useCallback(h=>{t({includeTime:n==null?void 0:n.includeTime,to:h||null,from:(n==null?void 0:n.from)||null})},[t,n]),d=f.useCallback(h=>{t({includeTime:n==null?void 0:n.includeTime,to:(n==null?void 0:n.to)||null,from:h||null})},[t,n]);return u.jsx("div",{children:u.jsxs(ee,{space:3,children:[u.jsxs(U,{direction:"column",gap:3,children:[u.jsx(yI,{"aria-label":r("search.filter-date-range-start-date-aria-label"),fontSize:i?2:1,isDateTime:e,isDateTimeFormat:e&&(n==null?void 0:n.includeTime),onChange:d,placeholderDate:a,radius:2,value:n==null?void 0:n.from}),u.jsx(yI,{"aria-label":r("search.filter-date-range-end-date-aria-label"),fontSize:i?2:1,isDateTime:e,isDateTimeFormat:e&&(n==null?void 0:n.includeTime),onChange:c,placeholderDate:o,radius:2,value:n==null?void 0:n.to})]}),u.jsx(rq,{date:n!=null&&n.from?new Date(n.from):void 0,endDate:n!=null&&n.to?new Date(n.to):void 0,onChange:s,selectRange:!0,selectTime:e}),e&&u.jsx(tq,{onChange:l,value:!!(n!=null&&n.includeTime)})]})})}function Qce({date:e,endDate:t,includeTime:n,isDateTime:r}){return n?{includeTime:n,to:t?nf({date:t,dateOnly:!r,roundDay:"start"}):null,from:e?nf({date:e,dateOnly:!r,roundDay:"start"}):null}:{includeTime:n,to:t?nf({date:t,dateOnly:!r,roundDay:"end"}):null,from:e?nf({date:e,dateOnly:!r,roundDay:"start"}):null}}function okn(e){return u.jsx(VMe,{...e,isDateTime:!1})}function skn(e){return u.jsx(IM,{...e,direction:"after",isDateTime:!0})}function lkn(e){return u.jsx(IM,{...e,direction:"before",isDateTime:!0})}function ede(e){return u.jsx(BMe,{...e,isDateTime:!0})}function ukn(e){return u.jsx(VMe,{...e,isDateTime:!0})}const _l={dateAfter:{buttonValueComponent:Wk,initialValue:null},dateBefore:{buttonValueComponent:Wk,initialValue:null},dateEqual:{buttonValueComponent:Wk,initialValue:{date:null,includeTime:!1}},dateLast:{buttonValueComponent:oEn},dateNotEqual:{buttonValueComponent:Wk,initialValue:{date:null,includeTime:!1}},dateRange:{initialValue:null}},ckn={dateAfter:{..._l.dateAfter,nameKey:"search.operator.date-after.name",descriptionKey:"search.operator.date-after.description",groqFilter:({fieldPath:e,value:t})=>t!=null&&t.date&&e?`${e} > ${ft(t==null?void 0:t.date)}`:null,inputComponent:nkn,type:"dateAfter"},dateBefore:{..._l.dateBefore,nameKey:"search.operator.date-before.name",descriptionKey:"search.operator.date-before.description",groqFilter:({fieldPath:e,value:t})=>t!=null&&t.date&&e?`${e} < ${ft(t==null?void 0:t.date)}`:null,inputComponent:rkn,type:"dateBefore"},dateEqual:{..._l.dateEqual,nameKey:"search.operator.date-equal.name",descriptionKey:"search.operator.date-equal.description",groqFilter:({fieldPath:e,value:t})=>t!=null&&t.date&&e?`${e} == ${ft(t.date)}`:null,inputComponent:Xce,type:"dateEqual"},dateLast:{..._l.dateLast,nameKey:"search.operator.date-last.name",descriptionKey:"search.operator.date-last.description",groqFilter:({fieldPath:e,value:t})=>{const n=typeof(t==null?void 0:t.unitValue)=="number"?Math.floor(t.unitValue):void 0,r=Number.isFinite(n)?pne(new Date,{days:(t==null?void 0:t.unit)==="day"?n:0,months:(t==null?void 0:t.unit)==="month"?n:0,years:(t==null?void 0:t.unit)==="year"?n:0}).toISOString().split("T")[0]:null;return r&&e?`${e} > ${ft(r)}`:null},inputComponent:Jce,initialValue:{unit:"day",unitValue:7},type:"dateLast"},dateNotEqual:{..._l.dateNotEqual,nameKey:"search.operator.date-not-equal.name",descriptionKey:"search.operator.date-not-equal.description",groqFilter:({fieldPath:e,value:t})=>t!=null&&t.date&&e?`${e} != ${ft(t.date)}`:null,inputComponent:Xce,type:"dateNotEqual"},dateRange:{..._l.dateRange,nameKey:"search.operator.date-range.name",descriptionKey:"search.operator.date-range.description",buttonValueComponent:Kce,groqFilter:({fieldPath:e,value:t})=>t!=null&&t.to&&t!=null&&t.from&&e?`${e} >= ${ft(t.from)} && ${e} <= ${ft(t.to)}`:null,initialValue:{includeTime:!1,to:hne().toISOString(),from:null},inputComponent:okn,type:"dateRange"},dateTimeAfter:{..._l.dateAfter,nameKey:"search.operator.date-time-after.name",descriptionKey:"search.operator.date-time-after.description",groqFilter:({fieldPath:e,value:t})=>t!=null&&t.date&&e?`dateTime(${e}) > dateTime(${ft(t.date)})`:null,inputComponent:skn,type:"dateTimeAfter"},dateTimeBefore:{..._l.dateBefore,nameKey:"search.operator.date-time-before.name",descriptionKey:"search.operator.date-time-before.description",groqFilter:({fieldPath:e,value:t})=>t!=null&&t.date&&e?`dateTime(${e}) < dateTime(${ft(t.date)})`:null,inputComponent:lkn,type:"dateTimeBefore"},dateTimeEqual:{..._l.dateEqual,nameKey:"search.operator.date-time-equal.name",descriptionKey:"search.operator.date-time-equal.description",groqFilter:({fieldPath:e,value:t})=>{const n=(t==null?void 0:t.date)&&new Date(t.date);if(!n||!kf(n)||!e)return null;const r=(t!=null&&t.includeTime?ine(n):Ip(n)).toISOString(),i=(t!=null&&t.includeTime?ane(n):SS(n)).toISOString();return`dateTime(${e}) > dateTime(${ft(r)}) && dateTime(${e}) < dateTime(${ft(i)})`},inputComponent:ede,type:"dateTimeEqual"},dateTimeLast:{..._l.dateLast,nameKey:"search.operator.date-time-last.name",descriptionKey:"search.operator.date-time-last.description",groqFilter:({fieldPath:e,value:t})=>{const n=typeof(t==null?void 0:t.unitValue)=="number"?Math.floor(t.unitValue):void 0,r=Number.isFinite(n)?pne(new Date,{days:(t==null?void 0:t.unit)==="day"?n:0,months:(t==null?void 0:t.unit)==="month"?n:0,years:(t==null?void 0:t.unit)==="year"?n:0}).toISOString():null;return r&&e?`dateTime(${e}) > dateTime(${ft(r)})`:null},initialValue:{unit:"day",unitValue:7},inputComponent:Jce,type:"dateTimeLast"},dateTimeNotEqual:{..._l.dateNotEqual,nameKey:"search.operator.date-time-not-equal.name",descriptionKey:"search.operator.date-time-not-equal.description",groqFilter:({fieldPath:e,value:t})=>{const n=(t==null?void 0:t.date)&&new Date(t.date);if(!n||!kf(n)||!e)return null;const r=(t!=null&&t.includeTime?ine(n):Ip(n)).toISOString(),i=(t!=null&&t.includeTime?ane(n):SS(n)).toISOString();return`dateTime(${e}) < dateTime(${ft(r)}) || dateTime(${e}) > dateTime(${ft(i)})`},inputComponent:ede,type:"dateTimeNotEqual"},dateTimeRange:{..._l.dateRange,nameKey:"search.operator.date-time-range.name",descriptionKey:"search.operator.date-time-range.description",buttonValueComponent:Kce,groqFilter:({fieldPath:e,value:t})=>t!=null&&t.to&&t!=null&&t.from&&e?`dateTime(${e}) >= dateTime(${ft(t.from)}) && dateTime(${e}) <= dateTime(${ft(t.to)})`:null,initialValue:{includeTime:!1,to:hne().toISOString(),from:null},inputComponent:ukn,type:"dateTimeRange"}},dkn={defined:{nameKey:"search.operator.defined.name",descriptionKey:"search.operator.defined.description",groqFilter:({fieldPath:e})=>e?`defined(${e})`:null,type:"defined"},notDefined:{nameKey:"search.operator.not-defined.name",descriptionKey:"search.operator.not-defined.description",i18nKey:"search.operator.not-defined",groqFilter:({fieldPath:e})=>e?`!defined(${e})`:null,type:"notDefined"}},fkn={numberEqual:{nameKey:"search.operator.number-equal.name",descriptionKey:"search.operator.number-equal.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`${e} == ${ft(t)}`:null,initialValue:null,inputComponent:Rl,type:"numberEqual"},numberGt:{nameKey:"search.operator.number-gt.name",descriptionKey:"search.operator.number-gt.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`${e} > ${ft(t)}`:null,icon:FMe,initialValue:null,inputComponent:Rl,type:"numberGt"},numberGte:{nameKey:"search.operator.number-gte.name",descriptionKey:"search.operator.number-gte.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`${e} >= ${ft(t)}`:null,icon:PMe,initialValue:null,inputComponent:Rl,type:"numberGte"},numberLt:{nameKey:"search.operator.number-lt.name",descriptionKey:"search.operator.number-lt.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`${e} < ${ft(t)}`:null,icon:LMe,initialValue:null,inputComponent:Rl,type:"numberLt"},numberLte:{nameKey:"search.operator.number-lte.name",descriptionKey:"search.operator.number-lte.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`${e} <= ${ft(t)}`:null,icon:NMe,initialValue:null,inputComponent:Rl,type:"numberLte"},numberNotEqual:{nameKey:"search.operator.number-not-equal.name",descriptionKey:"search.operator.number-not-equal.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`${e} != ${ft(t)}`:null,initialValue:null,inputComponent:Rl,type:"numberNotEqual"},numberRange:{nameKey:"search.operator.number-range.name",descriptionKey:"search.operator.number-range.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t==null?void 0:t.to)&&Number.isFinite(t==null?void 0:t.from)&&e?`${e} > ${ft(t==null?void 0:t.from)} && ${e} < ${ft(t==null?void 0:t.to)}`:"",initialValue:null,inputComponent:jMe,type:"numberRange"}};function Ul({onChange:e,value:t}){const{state:{fullscreen:n}}=Qt(),{t:r}=Y(),i=f.useCallback(a=>e(a.currentTarget.value||null),[e]);return u.jsx(Zr,{fontSize:n?2:1,onChange:i,placeholder:r("search.filter-string-value-placeholder"),radius:2,value:t||""})}const hkn={portableTextEqual:{nameKey:"search.operator.portable-text-equal.name",descriptionKey:"search.operator.portable-text-equal.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`pt::text(${e}) == ${ft(t)}`:null,initialValue:null,inputComponent:Ul,type:"portableTextEqual"},portableTextMatches:{nameKey:"search.operator.portable-text-contains.name",descriptionKey:"search.operator.portable-text-contains.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`pt::text(${e}) match ${ft(t)}`:null,initialValue:null,inputComponent:Ul,type:"portableTextMatches"},portableTextNotEqual:{nameKey:"search.operator.portable-text-not-equal.name",descriptionKey:"search.operator.portable-text-not-equal.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`pt::text(${e}) != ${ft(t)}`:null,initialValue:null,inputComponent:Ul,type:"portableTextNotEqual"},portableTextNotMatches:{nameKey:"search.operator.portable-text-not-contains.name",descriptionKey:"search.operator.portable-text-not-contains.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`!(pt::text(${e}) match ${ft(t)})`:null,initialValue:null,inputComponent:Ul,type:"portableTextNotMatches"}},pkn={referenceEqual:{nameKey:"search.operator.reference-equal.name",descriptionKey:"search.operator.reference-equal.description",buttonValueComponent:Du,groqFilter:({fieldPath:e,value:t})=>t!=null&&t._ref&&e?`${e}._ref == ${ft(t._ref)}`:null,initialValue:null,inputComponent:TC,type:"referenceEqual"},referenceNotEqual:{nameKey:"search.operator.reference-not-equal.name",descriptionKey:"search.operator.reference-not-equal.description",buttonValueComponent:Du,groqFilter:({fieldPath:e,value:t})=>t!=null&&t._ref&&e?`${e}._ref != ${ft(t._ref)}`:null,initialValue:null,inputComponent:TC,type:"referenceNotEqual"},referencesAssetFile:{nameKey:"search.operator.reference-asset-file.name",descriptionKey:"search.operator.reference-asset-file.description",buttonValueComponent:Du,groqFilter:({value:e})=>e!=null&&e._ref?`references(${ft(e._ref)})`:null,initialValue:null,inputComponent:h1("file"),type:"referencesAssetFile"},referencesAssetImage:{nameKey:"search.operator.reference-asset-image.name",descriptionKey:"search.operator.reference-asset-image.description",buttonValueComponent:Du,groqFilter:({value:e})=>e!=null&&e._ref?`references(${ft(e._ref)})`:null,initialValue:null,inputComponent:h1("image"),type:"referencesAssetImage"},referencesDocument:{nameKey:"search.operator.reference-document.name",descriptionKey:"search.operator.reference-document.description",buttonValueComponent:Du,groqFilter:({value:e})=>e!=null&&e._ref?`references(${ft(e._ref)})`:null,initialValue:null,inputComponent:TC,type:"referencesDocument"}},mkn={slugEqual:{nameKey:"search.operator.slug-equal.name",descriptionKey:"search.operator.slug-equal.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`${e}.current == ${ft(t)}`:null,initialValue:null,inputComponent:Ul,type:"slugEqual"},slugMatches:{nameKey:"search.operator.slug-contains.name",descriptionKey:"search.operator.slug-contains.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`${e}.current match ${ft(t)}`:null,initialValue:null,inputComponent:Ul,label:"contains",type:"slugMatches"},slugNotEqual:{nameKey:"search.operator.slug-not-equal.name",descriptionKey:"search.operator.slug-not-equal.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`${e}.current != ${ft(t)}`:null,initialValue:null,inputComponent:Ul,type:"slugNotEqual"},slugNotMatches:{nameKey:"search.operator.slug-not-contains.name",descriptionKey:"search.operator.slug-not-contains.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`!(${e}.current match ${ft(t)})`:null,initialValue:null,inputComponent:Ul,type:"slugNotMatches"}},gkn={stringEqual:{nameKey:"search.operator.string-equal.name",descriptionKey:"search.operator.string-equal.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`${e} == ${ft(t)}`:null,initialValue:null,inputComponent:Ul,type:"stringEqual"},stringListEqual:{nameKey:"search.operator.string-list-equal.name",descriptionKey:"search.operator.string-list-equal.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`${e} == ${ft(t)}`:null,initialValue:null,inputComponent:vI,type:"stringListEqual"},stringListNotEqual:{nameKey:"search.operator.string-list-not-equal.name",descriptionKey:"search.operator.string-list-not-equal.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`${e} != ${ft(t)}`:null,initialValue:null,inputComponent:vI,type:"stringListNotEqual"},stringMatches:{nameKey:"search.operator.string-contains.name",descriptionKey:"search.operator.string-contains.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`${e} match ${ft(t)}`:null,initialValue:null,inputComponent:Ul,type:"stringMatches"},stringNotEqual:{nameKey:"search.operator.string-not-equal.name",descriptionKey:"search.operator.string-not-equal.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`${e} != ${ft(t)}`:null,initialValue:null,inputComponent:Ul,type:"stringNotEqual"},stringNotMatches:{nameKey:"search.operator.string-not-contains.name",descriptionKey:"search.operator.string-not-contains.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`!(${e} match ${ft(t)})`:null,initialValue:null,inputComponent:Ul,type:"stringNotMatches"}},vkn={...EEn,...FEn,...LEn,...ckn,...dkn,...fkn,...hkn,...pkn,...mkn,...gkn},ykn=Object.values(vkn);function tde(e){const t=e.split("").reduce((n,r)=>(n<<5)-n+r.charCodeAt(0)|0,0);return Math.abs(t*16807%2147483647)/2147483647}const bkn=R.text`
  font-family: ${({theme:e})=>e.sanity.fonts.text.family};
  font-weight: ${({theme:e})=>e.sanity.fonts.text.weights.medium};
  font-size: ${({theme:e})=>e.sanity.fonts.text.sizes[1].fontSize}px;
  transform: translateY(1px);
`;function xkn(e,t){const n=tde(`${e} ${t}`),r=W9.filter(m=>m!=="gray"),i=r[Math.floor(n*r.length)],a=["300","400","500","600","700"],o=tde(n.toString()),s=a[Math.floor(o*a.length)],l=Qe[i][s].hex,c=e.split(/\s/g).map(m=>m.replace(/\\W/g,"")).filter(Boolean).slice(0,2).map(m=>m.charAt(0).toUpperCase()),d=UTe(l,.4),h=yGt(l,.4),p=Nae(l,"readable",d)?Nae(l,"readable",h)?xGt(l):h:d;return u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:[u.jsx("rect",{width:32,height:32,rx:2,fill:l}),u.jsx(bkn,{x:"50%",y:"50%",textAnchor:"middle",alignmentBaseline:"middle",dominantBaseline:"middle",fill:p,children:c})]})}const ei="comments",wkn={locale:"en-US",namespace:ei,resources:()=>Ff(()=>import("./resources-495480e6.js"),[])};function Ckn(e){const{children:t}=e,[n,r]=f.useState(null),i=f.useCallback(o=>{r(o)},[]),a=f.useMemo(()=>({authoringPath:n,setAuthoringPath:i}),[n,i]);return u.jsx($pe.Provider,{value:a,children:t})}function Skn(){return f.useContext(Ppe)}function _kn(e){const{documentId:t,documentType:n,getCommentLink:r}=e||{},i=en().get(n),{title:a}=Fr(),o=ua(),s=f.useMemo(()=>!t||!i?xe(null):Yb(o,i,t,""),[t,o,i]),l=Jr(s),{published:c,draft:d}=l||{},h=(d==null?void 0:d.title)||(c==null?void 0:c.title)||"Sanity document";return{getNotificationValue:f.useCallback(({commentId:p})=>({documentTitle:h,url:r==null?void 0:r(p),workspaceTitle:a}),[h,r,a])}}function Ji(e,t){const{currentUser:n,document:r,parent:i,value:a}=t;return typeof e=="boolean"||e===void 0?!!e:e({document:r,parent:i,value:a,currentUser:n})===!0}function Cc(e,t,n){var r;if(t.length===0)return{...e||{},value:n};const[i,...a]=t,o=Pn(i)?i._key:String(i),s=(r=e==null?void 0:e.children)!=null?r:{};return{value:e==null?void 0:e.value,children:{...s,[o]:Cc(s[o]||{},a,n)}}}const aq=20,Ekn=3,ep={name:"all-fields",title:"All fields",hidden:!1,i18n:{title:{key:"inputs.object.field-group-tabs.all-fields-title",ns:jy}}};function oq(e={},t){if((e==null?void 0:e.collapsible)===!1||(e==null?void 0:e.collapsable)===!1)return{collapsible:!1,collapsed:!1};const n=typeof(e==null?void 0:e.collapsed)=="boolean"?e.collapsed:t>=Ekn?!0:void 0;return{collapsible:(e==null?void 0:e.collapsible)===!0||(e==null?void 0:e.collapsable)===!0||n===!0?!0:void 0,collapsed:n}}function zMe(e,t,n){return n.name===ep.name?!0:t===void 0?!1:e.length===0&&n.name===ep.name?!0:e_(t).includes(n.name)}function nde(e){return typeof e>"u"||yt(e)}function kkn(e){return typeof e>"u"||Array.isArray(e)}function Tkn(e){return typeof e>"u"||Array.isArray(e)}function Akn(e){return e.length===0||e.every(t=>yt(t))}function jkn(e){const t=new Set;return e.reduce((n,r,i)=>(t.has(r._key)&&n.push([i,r._key]),t.add(r._key),n),[])}function Ikn(e){return"_key"in e}function Dkn(e){return e==null?void 0:e.every(t=>yt(t)&&Ikn(t))}function z1(e,t){return Array.isArray(e)&&typeof t>"u"||Array.isArray(t)&&typeof e>"u"?!1:e&&!t?!0:!wt(e,t)}function rde(e){var t,n,r,i,a,o,s,l,c,d,h,p,m,g,v,b,y,x;const{parent:w,field:C,index:S}=e,_=Wc([...w.path,C.name]),E=Kcn(C.type,w.level+1),k=w.value,T=w.comparisonValue;if(!nde(k))throw new Error("Unexpected non-object value");const j=C.group?e_(C.group):[],I=zMe(w.groups,C.group,w.selectedGroup);if(Bi(C.type)){const A=k==null?void 0:k[C.name],$=yt(T)?T==null?void 0:T[C.name]:void 0;if(!nde(A))return{kind:"error",key:C.name,fieldName:C.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:C.type,resolvedValueType:ks(A),value:A}};const D={value:A,parent:w.value,document:w.document,currentUser:w.currentUser};if(Ji(C.type.hidden,D))return{kind:"hidden",key:`field-${C.name}`,name:C.name,index:S};const M=w.readOnly||Ji(C.type.readOnly,D),O=(n=(t=w.fieldGroupState)==null?void 0:t.children)==null?void 0:n[C.name],F=(i=(r=w.collapsedPaths)==null?void 0:r.children)==null?void 0:i[C.name],P=(o=(a=w.collapsedFieldSets)==null?void 0:a.children)==null?void 0:o[C.name],V=sq({schemaType:C.type,currentUser:w.currentUser,parent:w.value,document:w.document,value:A,changed:z1(A,$),comparisonValue:$,presence:w.presence,validation:w.validation,fieldGroupState:O,path:_,level:E,focusPath:w.focusPath,openPath:w.openPath,collapsedPaths:F,collapsedFieldSets:P,readOnly:M,changesOpen:w.changesOpen});if(V===null)return null;const H=oq(C.type.options,E),W=F?F.value:H.collapsed;return{kind:"field",key:`field-${C.name}`,name:C.name,index:S,inSelectedGroup:I,groups:j,open:Ua(_,w.openPath),field:V,collapsed:W,collapsible:H.collapsible}}else if(Is(C.type)){const A=k==null?void 0:k[C.name],$=yt(T)?T==null?void 0:T[C.name]:void 0;if(Fp(C.type)){const D=typeof A<"u";if(D&&!kkn(A)){const W=ks(A);return{kind:"error",key:C.name,fieldName:C.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:C.type,resolvedValueType:W,value:A}}}if(D&&!Akn(A))return{kind:"error",key:C.name,fieldName:C.name,error:{type:"MIXED_ARRAY",schemaType:C.type,value:A}};if(D&&!Dkn(A))return{kind:"error",key:C.name,fieldName:C.name,error:{type:"MISSING_KEYS",value:A,schemaType:C.type}};const M=D?jkn(A):[];if(M.length>0)return{kind:"error",key:C.name,fieldName:C.name,error:{type:"DUPLICATE_KEYS",duplicates:M,schemaType:C.type}};const O=(l=(s=w.fieldGroupState)==null?void 0:s.children)==null?void 0:l[C.name],F=(d=(c=w.collapsedPaths)==null?void 0:c.children)==null?void 0:d[C.name],P=(p=(h=w.collapsedFieldSets)==null?void 0:h.children)==null?void 0:p[C.name],V=w.readOnly||Ji(C.type.readOnly,{value:A,parent:w.value,document:w.document,currentUser:w.currentUser}),H=Okn({schemaType:C.type,parent:w.value,currentUser:w.currentUser,document:w.document,value:A,changed:z1(A,$),comparisonValue:$,fieldGroupState:O,focusPath:w.focusPath,openPath:w.openPath,presence:w.presence,validation:w.validation,collapsedPaths:F,collapsedFieldSets:P,level:E,path:_,readOnly:V});return H===null?null:{kind:"field",key:`field-${C.name}`,name:C.name,index:S,open:Ua(_,w.openPath),inSelectedGroup:I,groups:j,collapsible:!1,collapsed:!1,field:H}}else{if(!Tkn(A)){const V=ks(A);return{kind:"error",key:C.name,fieldName:C.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:C.type,resolvedValueType:V,value:A}}}const D=(g=(m=w.fieldGroupState)==null?void 0:m.children)==null?void 0:g[C.name],M=(b=(v=w.collapsedPaths)==null?void 0:v.children)==null?void 0:b[C.name],O=(x=(y=w.collapsedFieldSets)==null?void 0:y.children)==null?void 0:x[C.name],F=w.readOnly||Ji(C.type.readOnly,{value:A,parent:w.value,document:w.document,currentUser:w.currentUser}),P=$kn({changed:z1(A,$),comparisonValue:$,schemaType:C.type,parent:w.value,currentUser:w.currentUser,document:w.document,value:A,fieldGroupState:D,focusPath:w.focusPath,openPath:w.openPath,presence:w.presence,validation:w.validation,collapsedPaths:M,collapsedFieldSets:O,level:E,path:_,readOnly:F});return P===null?null:{kind:"field",key:`field-${C.name}`,name:C.name,index:S,inSelectedGroup:I,groups:j,open:Ua(_,w.openPath),collapsible:!1,collapsed:!1,field:P}}}else{const A=k==null?void 0:k[C.name],$=yt(T)?T==null?void 0:T[C.name]:void 0,D={value:A,parent:w.value,document:w.document,currentUser:w.currentUser};if(Ji(C.type.hidden,D))return null;const M=w.readOnly||Ji(C.type.readOnly,D),O=UMe({...w,comparisonValue:$,value:A,schemaType:C.type,path:_,readOnly:M});return{kind:"field",key:`field-${C.name}`,name:C.name,index:S,open:Ua(_,w.openPath),inSelectedGroup:I,groups:j,collapsible:!1,collapsed:!1,field:O}}}function sq(e,t=!0){var n;if(e.level===aq)return null;const r={value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser},i=e.readOnly||Ji(e.schemaType.readOnly,r),a=e.schemaType.groups||[],o=(n=a.find(x=>x.default)||ep)==null?void 0:n.name,s=[ep,...a].flatMap(x=>{var w;const C=Ji(x.hidden,r),S=x.name===(((w=e.fieldGroupState)==null?void 0:w.value)||o),_=e.changesOpen?x.name===ep.name:S,E=e.changesOpen?!_:!1;return C?[]:[{disabled:E,icon:x==null?void 0:x.icon,name:x.name,selected:_,title:x.title,i18n:x.i18n}]}),l=s.find(x=>x.selected),c=(e.schemaType.fieldsets?e.schemaType.fieldsets:e.schemaType.fields.map(x=>({single:!0,field:x}))).flatMap((x,w)=>{var C,S,_,E;if(x.single){const D=x.field,M=rde({field:D,parent:{...e,readOnly:i,groups:s,selectedGroup:l},index:w});return M?[M]:[]}const k=x.fields.map(D=>D.name),T=Ji(x.hidden,{currentUser:e.currentUser,document:e.document,parent:e.value,value:Ht(e.value,k)}),j=Ji(x.readOnly,{currentUser:e.currentUser,document:e.document,parent:e.value,value:Ht(e.value,k)}),I=x.fields.flatMap(D=>{if(T)return[{kind:"hidden",key:`field-${D.name}`,name:D.name,index:w}];const M=rde({field:D,parent:{...e,readOnly:i||j,groups:s,selectedGroup:l},index:w});return M?[M]:[]}),A=oq(x.options,e.level),$=(_=(S=(((C=e.collapsedFieldSets)==null?void 0:C.children)||{})[x.name])==null?void 0:S.value)!=null?_:A.collapsed;return[{kind:"fieldSet",key:`fieldset-${x.name}`,_inSelectedGroup:zMe(s,x.group,l),groups:x.group?e_(x.group):[],fieldSet:{path:Wc(e.path.concat(x.name)),name:x.name,title:x.title,description:x.description,hidden:!1,level:e.level+1,members:I.filter(D=>D.kind!=="hidden"),collapsible:A==null?void 0:A.collapsible,collapsed:$,columns:(E=x==null?void 0:x.options)==null?void 0:E.columns}}]}),d=a.length>0,h=e.presence.filter(x=>vr(x.path,e.path)),p=h.length?h:cn,m=e.validation.filter(x=>vr(x.path,e.path)).map(x=>({level:x.level,message:x.message,path:x.path})),g=c.filter(x=>x.kind!=="hidden");if(g.length===0&&t)return null;const v=d?s.flatMap(x=>x.name===ep.name||g.some(w=>w.kind==="error"?!1:w.kind==="field"?w.groups.includes(x.name):w.groups.includes(x.name)||w.fieldSet.members.some(C=>C.kind!=="error"&&C.groups.includes(x.name)))?x:[]):[],b=g.flatMap(x=>{if(x.kind==="error")return[x];if(x.kind==="field")return x.inSelectedGroup?[x]:[];const w=x.fieldSet.members.filter(C=>C.kind!=="field"||C.inSelectedGroup);return w.length>0?[{...x,fieldSet:{...x.fieldSet,members:w}}]:[]}),y={value:e.value,changed:z1(e.value,e.comparisonValue),schemaType:e.schemaType,readOnly:i,path:e.path,id:qt(e.path),level:e.level,focused:vr(e.path,e.focusPath),focusPath:B9(e.path,e.focusPath),presence:p,validation:m,members:b,groups:v};return Object.defineProperty(y,"_allMembers",{value:c,enumerable:!1}),y}function $kn(e){if(e.level===aq)return null;const t={comparisonValue:e.comparisonValue,value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser};if(Ji(e.schemaType.hidden,t))return null;const n=e.readOnly||Ji(e.schemaType.readOnly,t),r=Array.isArray(e.value)?e.value:[],i=e.presence.filter(l=>vr(l.path,e.path)),a=i.length?i:cn,o=e.validation.filter(l=>vr(l.path,e.path)).map(l=>({level:l.level,message:l.message,path:l.path})),s=r.flatMap((l,c)=>Rkn({arrayItem:l,parent:e,index:c}));return{changed:e.changed||s.some(l=>l.kind==="item"&&l.item.changed),value:e.value,readOnly:n,schemaType:e.schemaType,focused:vr(e.path,e.focusPath),focusPath:B9(e.path,e.focusPath),path:e.path,id:qt(e.path),level:e.level,validation:o,presence:a,members:s}}function Okn(e){if(e.level===aq)return null;const t={value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser};if(Ji(e.schemaType.hidden,t))return null;const n=e.readOnly||Ji(e.schemaType.readOnly,t),r=Array.isArray(e.value)?e.value:[],i=e.presence.filter(l=>vr(l.path,e.path)),a=i.length?i:cn,o=e.validation.filter(l=>vr(l.path,e.path)).map(l=>({level:l.level,message:l.message,path:l.path})),s=r.flatMap((l,c)=>Mkn({arrayItem:l,parent:e,index:c}));return{changed:e.changed||s.some(l=>l.kind==="item"&&l.item.changed),value:e.value,readOnly:n,schemaType:e.schemaType,focused:vr(e.path,e.focusPath),focusPath:B9(e.path,e.focusPath),path:e.path,id:qt(e.path),level:e.level,validation:o,presence:a,members:s}}function Mkn(e){var t,n,r,i,a,o,s;const{arrayItem:l,parent:c,index:d}=e,h=mM(c.schemaType,l),p=l._key;if(!h){const k=ks(l);return{kind:"error",key:p,index:d,error:{type:"INVALID_ITEM_TYPE",resolvedValueType:k,value:l,validTypes:c.schemaType.of}}}const m=Wc([...c.path,{_key:p}]),g=c.level+1,v={value:c.value,parent:e.parent,document:c.document,currentUser:c.currentUser},b=c.readOnly||Ji(c.schemaType.readOnly,v),y=(n=(t=c.fieldGroupState)==null?void 0:t.children)==null?void 0:n[p],x=(i=(r=c.collapsedPaths)==null?void 0:r.children)==null?void 0:i[p],w=(o=(a=c.collapsedFieldSets)==null?void 0:a.children)==null?void 0:o[p],C=Array.isArray(c.comparisonValue)&&c.comparisonValue.find(k=>k._key===l._key)||void 0,S=sq({schemaType:h,level:g,document:c.document,value:l,comparisonValue:C,changed:z1(l,C),path:m,focusPath:c.focusPath,openPath:c.openPath,currentUser:c.currentUser,collapsedPaths:x,collapsedFieldSets:w,presence:c.presence,validation:c.validation,fieldGroupState:y,readOnly:b},!1),_=oq(h.options,g),E=(s=x==null?void 0:x.value)!=null?s:_.collapsed;return{kind:"item",key:p,index:d,open:Ua(m,c.openPath),collapsed:E,collapsible:!0,parentSchemaType:c.schemaType,item:S}}function Rkn(e){var t,n;const{arrayItem:r,parent:i,index:a}=e,o=Jhn(i.schemaType,r),s=Wc([...i.path,a]),l=(t=i.value)==null?void 0:t[a],c=(n=i.comparisonValue)==null?void 0:n[a],d=i.level+1,h=`${(o==null?void 0:o.name)||"invalid-type"}-${String(a)}`;if(!o)return{kind:"error",key:h,index:a,error:{type:"INVALID_ITEM_TYPE",validTypes:i.schemaType.of,resolvedValueType:ks(o),value:l}};const p=i.readOnly||Ji(o.readOnly,{value:l,parent:i.value,document:i.document,currentUser:i.currentUser}),m=UMe({...i,path:s,schemaType:o,level:d,value:l,comparisonValue:c,readOnly:p});return{kind:"item",key:h,index:a,parentSchemaType:i.schemaType,open:vr(s,i.openPath),item:m}}function UMe(e){const t=e.presence.filter(i=>vr(i.path,e.path)),n=t.length?t:cn,r=e.validation.filter(i=>vr(i.path,e.path)).map(i=>({level:i.level,message:i.message,path:i.path}));return{schemaType:e.schemaType,changed:z1(e.value,e.comparisonValue),value:e.value,level:e.level,id:qt(e.path),readOnly:e.readOnly,focused:vr(e.path,e.focusPath),path:e.path,presence:n,validation:r}}function Pkn(e){return sq(e)}function HMe(e,{comparisonValue:t,value:n,fieldGroupState:r,collapsedFieldSets:i,collapsedPaths:a,focusPath:o,openPath:s,presence:l,validation:c,readOnly:d,changesOpen:h}){const p=Kn(),m=f.useRef(null);return f.useLayoutEffect(()=>{m.current=null},[e]),f.useMemo(()=>{const g=Pkn({schemaType:e,document:n,fieldGroupState:r,collapsedFieldSets:i,collapsedPaths:a,value:n,comparisonValue:t,focusPath:o,openPath:s,readOnly:d,path:Wc([]),level:0,currentUser:p,presence:l,validation:c,changesOpen:h}),v=QO(m.current,g);return m.current=v,v},[e,n,r,i,a,t,o,s,d,p,l,c,h])}function Fkn(e){return Bi(e.schemaType)}function Nkn(e){return Fp(e.schemaType)}function WMe(e){return"_allMembers"in e&&Array.isArray(e._allMembers)}function Lkn(e,t){return[...t.map((n,r)=>({type:"expandPath",path:t.slice(0,r+1)})),...GMe(e,t)]}function GMe(e,t){return t.length===0?[]:Fkn(e)&&WMe(e)?YMe(e,t):Nkn(e)?qMe(e,t):[]}function YMe(e,t){var n,r;if(t.length===0)return[];const[i,...a]=t,o=e._allMembers.find(m=>m.kind==="fieldSet"&&m.fieldSet.members.some(g=>g.kind==="field"&&g.name===i)),s=(o?o.fieldSet.members:e._allMembers).find(m=>m!==null&&m.kind==="field"&&m.name===i),l=e.schemaType.fields.find(m=>m.name===i),c=(n=e.groups.find(m=>m.selected))==null?void 0:n.name,d=l&&e_(l.group)||[],h=c&&(c===ep.name||d.includes(c)),p=[];if(!h){const m=((r=e.groups.find(g=>d.includes(g.name)))==null?void 0:r.name)||ep.name;p.push({type:"setSelectedGroup",path:e.path,groupName:m})}return o&&p.push({type:"expandFieldSet",path:o.fieldSet.path}),s&&WMe(s.field)&&(rY(s)?p.push(...qMe(s.field,a)):mDe(s)&&p.push(...YMe(s.field,a))),p}function qMe(e,t){if(t.length===0)return[];const[n,...r]=t;if(!Pn(n))throw new Error("Expected path segment to be an object with a _key property");const i=e.members.find(a=>a.key===n._key);return i?GMe(i.item,r):[]}const Bkn=/^\d+$/;function Vkn(e){return e.replace(/^['"]/,"").replace(/['"]$/,"")}function zkn(e){const[t,n]=e.split("==");return{[t]:Vkn(n)}}function Ukn(e){return Bkn.test(e)?Number(e):e}function Hkn(e){return e.split(/[[.\]]/g).filter(Boolean).map(t=>t.includes("==")?zkn(t):Ukn(t))}function bv(e){return Hkn(e)}function KMe(e){return e.map(Ykn)}function W7(e,t){return cr(t.map(n=>Gkn(e,n)))}const Wkn=e=>t=>!e.includes(t);function Gkn(e,t){return cr(Object.keys(t).filter(Wkn(["id","ifRevisionID","query"])).map(n=>{if(n==="unset")return t.unset.map(r=>({type:"unset",path:bv(r),origin:e}));if(n==="insert"){const r="before"in t.insert?"before":"after";return{type:"insert",position:r,path:bv(t.insert[r]),items:t.insert.items,origin:e}}return Object.keys(t[n]).map(r=>n==="set"?{type:"set",path:bv(r),value:t[n][r],origin:e}:n==="inc"||n==="dec"?{type:n,path:bv(r),value:t[n][r],origin:e}:n==="setIfMissing"?{type:"setIfMissing",path:bv(r),value:t[n][r],origin:e}:n==="diffMatchPatch"?{type:n,path:bv(r),value:t[n][r],origin:e}:(console.warn(new Error(`Unsupported patch type: ${n}`)),null)).filter(Boolean)}))}function Ykn(e){if(e.patchType!==s0&&e.type)throw new Error(`Patch is missing "patchType" - import and use "${e.type}()" from "sanity/form"`);if(e.patchType!==s0)throw new Error('Patch is missing "patchType" - import and use the patch method helpers from "sanity/form"');const t=X5e(e.path||[]);if(e.type==="insert"){const{position:n,items:r}=e;return{insert:{[n]:t,items:r}}}if(e.type==="unset")return{unset:[t]};if(!e.type)throw new Error(`Missing patch type in patch ${JSON.stringify(e)}`);return t?{[e.type]:{[t]:e.value}}:{[e.type]:e.value}}const qkn=f.memo(function(e){const{transform:t}=e,n=gu(),r=f.useCallback(a=>{const o=a.patches,s=t(o);n.onChange(jt.from(s))},[n,t]),i=f.useMemo(()=>({...n,onChange:r}),[n,r]);return u.jsx(z9.Provider,{value:i,children:e.children})});function ZMe(e,t){var n;const r=el(t),i=r[0];if(i&&Bi(e)){const a=(n=e==null?void 0:e.fields)==null?void 0:n.find(o=>o.name===i);if(a){const o=qt(r.slice(1));return o?ZMe(a.type,o):a}}}function Kkn(e,t){if(typeof t=="number")return t;const n=hW(e,t);return n===-1?!1:n}function Zkn(e){const{currentUser:t,schemaType:n,fieldPath:r,documentValue:i}=e,a=el(r),o=[];let s=null;return a.forEach((l,c)=>{var d,h,p,m,g;const v=a.slice(0,c+1),b=a.slice(0,c),y=ZMe(n,qt(v)),x=l.hasOwnProperty("_key"),w=ia(i,b),C=ia(i,v),S={document:i,currentUser:t,parent:w,value:C};if(x&&Array.isArray(w)){const _=Kkn(w,l),E=typeof _=="number";o.push({invalid:_===!1,isArrayItem:!0,title:E?`#${Number(_)+1}`:"Unknown array item"});return}if(y!=null&&y.type){const _=Ji(y.type.hidden,S);o.push({invalid:_,isArrayItem:!1,title:Vu(y.type)}),s=y.type;return}if(Is(s)){const _=ia(i,b),E=_==null?void 0:_._type,k=(d=s==null?void 0:s.of)==null?void 0:d.find(D=>D.name===E),T=(h=k==null?void 0:k.fields)==null?void 0:h.find(D=>D.name===l);if(!E&&C){const D=(p=s==null?void 0:s.of)==null?void 0:p.map(F=>F==null?void 0:F.fields).filter(Boolean).flat(),M=D==null?void 0:D.find(F=>(F==null?void 0:F.name)===l),O=Ji((m=M==null?void 0:M.type)==null?void 0:m.hidden,S);M&&(o.push({invalid:O,isArrayItem:!1,title:Vu(M==null?void 0:M.type)}),s=M==null?void 0:M.type);return}if(!T){o.push({invalid:!0,isArrayItem:!1,title:"Unknown field"});return}const j=Vu(T==null?void 0:T.type),I=Ji((g=k==null?void 0:k.type)==null?void 0:g.hidden,S),A=Ji(T==null?void 0:T.type.hidden,S),$=I||A;o.push({invalid:$,isArrayItem:!1,title:j}),s=T==null?void 0:T.type;return}o.push({invalid:!0,isArrayItem:!1,title:"Unknown field"})}),o}function XMe(e){const t=f.useRef(e);return f.useMemo(()=>!wt(t.current,e),[e])}function q0(e){return e?e==null?void 0:e.some(t=>{var n;return yr(t)&&((n=(t==null?void 0:t.children)||[])==null?void 0:n.some(r=>Ti(r)?r.text:r.userId))}):!1}function Xkn(e,t){var n,r;const i=(n=e==null?void 0:e.context)==null?void 0:n.intent,a=(r=t==null?void 0:t.context)==null?void 0:r.intent;if(a&&(!i||"preview"in a.params&&"preview"in i.params&&a.params.preview!==i.params.preview))return a}function Qb(e){var t,n,r,i,a,o;return e?!!(((r=(n=(t=e==null?void 0:e.target)==null?void 0:t.path)==null?void 0:n.selection)==null?void 0:r.type)==="text"&&(o=(a=(i=e==null?void 0:e.target)==null?void 0:i.path)==null?void 0:a.selection)!=null&&o.value):!1}const ide=[];function Jkn(e){const{comments:t,currentUser:n,documentValue:r,schemaType:i,type:a}=e,o=t==null?void 0:t.filter(s=>!s.parentCommentId);return a==="task"?o.map(s=>{const l=t==null?void 0:t.filter(c=>c.parentCommentId===s._id);return{commentsCount:[s,...l].length,parentComment:s,replies:l,threadId:s.threadId,hasReferencedValue:!1,breadcrumbs:ide,fieldPath:""}}):a==="field"?o.map(s=>{var l,c,d;const h=Zkn({currentUser:n,documentValue:r,fieldPath:((l=s.target.path)==null?void 0:l.field)||"",schemaType:i});let p=!1;if(Qb(s)&&(p=!!((c=s.target.path)!=null&&c.selection&&s.target.path.selection.value.some(b=>b.text))),h.some(b=>b.invalid))return;const m=t==null?void 0:t.filter(b=>b.parentCommentId===s._id),g=[s,...m].length,v=p;return{breadcrumbs:h,commentsCount:g,fieldPath:((d=s.target.path)==null?void 0:d.field)||"",parentComment:s,replies:m,threadId:s.threadId,hasReferencedValue:v}}).filter(Boolean):ide}const JMe=15;function ade(e,t){const n=Ob(e,t),r=vO(n),i=t5n(r);return{patches:yO(e,r,{margin:JMe}),levenshtein:i}}function Qkn(e,t){return bO(t,e,{allowExceedingIndices:!0,margin:JMe})[0]}const G7="";function e5n(e){return e.children.map(t=>Ti(t)?t.text.replaceAll(G7," "):"").join(G7)}const Nh=["",""],ode=new RegExp(`[${Nh.join("")}]`,"g"),sde=[];function QMe(e){const{value:t,comments:n}=e;if(!t||t.length===0)return sde;const r=n.filter(Qb),i=[];return r.forEach(a=>{var o,s;(s=(o=a.target.path)==null?void 0:o.selection)==null||s.value.forEach(l=>{const c=t.find(_=>_._key===l._key);if(!c||!yr(c))return;const d=l.text.replaceAll(ode,""),h=e5n(c),{patches:p}=ade(d,l.text),m=Qkn(h,p),g=m.indexOf(Nh[0]),v=m.replaceAll(Nh[0],"").indexOf(Nh[1]),b=m.replaceAll(ode,""),y=l.text.slice(l.text.indexOf(Nh[0])+1,l.text.indexOf(Nh[1])),x=b.slice(g,v),{levenshtein:w}=ade(x,y),C=Math.round(x.length+y.length/2);let S=!1;if(x.length===0&&(S=!0),w>C&&(S=!0),g+1===v&&(S=!0),g!==-1&&v!==-1){let _=0,E=0,k=0,T=0;for(let j=0;j<b.length&&(b[j]===G7&&(j<=g&&(E=-1,_++),T=-1,k++),j<g&&E++,j<g+x.length&&T++,j!==g+x.length);j++);i.push({selection:{anchor:{path:[{_key:c._key},"children",{_key:c.children[_]._key}],offset:E},focus:{path:[{_key:c._key},"children",{_key:c.children[k]._key}],offset:T}},comment:a,range:{_key:c._key,text:S?"":m}})}})}),i.length===0?sde:i}function t5n(e){let t=0,n=0,r=0;for(let i=0;i<e.length;i++){const a=e[i][0],o=e[i][1];switch(a){case br:n+=o.length;break;case er:r+=o.length;break;case Ut:t+=Math.max(n,r),n=0,r=0;break}}return t+=Math.max(n,r),t}const n5n=f.memo(function(e){const{children:t,commentId:n,currentHoveredCommentId:r,onClick:i,onHoverEnd:a,onHoverStart:o,selectedThreadId:s,threadId:l}=e,c=f.useRef(null),d=f.useRef(!1),h=f.useRef(null);f.useEffect(()=>{var b,y;const x=(b=c.current)==null?void 0:b.previousSibling,w=(y=c.current)==null?void 0:y.nextSibling;if(!x||!w){d.current=!1;return}const[C]=Object.keys(cde("")),S=x.getAttribute(C),_=w.getAttribute(C),E=!!(S&&_&&S===_);h.current=E?S:null,d.current=E},[]);const p=f.useCallback(()=>o(n),[n,o]),m=f.useCallback(()=>a(null),[a]),g=f.useCallback(()=>i(n),[n,i]),v=r===n||r===h.current&&d.current;return u.jsx(p3e,{isAdded:!0,isHovered:v||s===l,isNested:d.current,onClick:g,onMouseEnter:p,onMouseLeave:m,ref:c,...cde(l),children:t})});function r5n(e){const{comments:t,currentHoveredCommentId:n,onDecorationClick:r,onDecorationHoverEnd:i,onDecorationHoverStart:a,onDecorationMoved:o,selectedThreadId:s,value:l}=e;return QMe({comments:t,value:l}).map(({selection:c,comment:d,range:h})=>({component:({children:p})=>u.jsx(n5n,{commentId:d._id,currentHoveredCommentId:n,onClick:r,onHoverEnd:i,onHoverStart:a,selectedThreadId:s,threadId:d.threadId,children:p}),onMoved:o,selection:c,payload:{commentId:d._id,range:h}}))}function i5n(e){const{fragment:t,value:n,selection:r}=e;if(!r)throw new Error("Selection is required");const i=r.backward?{backward:!1,anchor:r.focus,focus:r.anchor}:r;return{type:"text",value:t.map(a=>{const o=n.find(v=>v._key===a._key);if(!yr(o))return{_key:a._key,text:""};const s=Pn(i.anchor.path[0])&&i.anchor.path[0]._key,l=Pn(i.focus.path[0])&&i.focus.path[0]._key,c=gke([a]),d=yr(a)?a.children[0]:void 0,h=yr(a)?a.children[a.children.length-1]:void 0;let p="",m=-1;if(s===o._key)for(const v of o.children){if(m++,v._key===(d==null?void 0:d._key)){p+=Ti(v)&&v.text.slice(0,Math.max(0,i.anchor.offset))||"";break}p+=v.text}let g="";if(l===o._key)for(const v of o.children.slice(m).reverse()){if(v._key===(h==null?void 0:h._key)){g=(Ti(v)&&v.text.slice(i.focus.offset,v.text.length)||"")+g;break}g=v.text+g}return{_key:o._key,text:`${p}${Nh[0]}${c}${Nh[1]}${g}`}})}}function a5n(e,t){const n={};for(const r of e)n[r._key]={...r};for(const r of t)n[r._key]={...n[r._key],...r};return Object.values(n)}const lde=/\b(https?:\/\/[^\s,()]+(?:\.[^\s,()]+)*|www\.[^\s,()]+\.[^\s,()]{2,})\b/g;function o5n(e){e.stopPropagation()}function s5n(e){const t={href:e.startsWith("http")?e:`https://${e}`,target:"_blank",rel:"noopener noreferrer",key:e,onClick:o5n};return f.createElement("a",t,e)}const l5n=e=>typeof e=="string"?e.split(lde).flatMap(t=>t.match(lde)?s5n(t):t):e,u5n=[l5n];function c5n(e){return Array.isArray(e)?e.flatMap(t=>{let n=[t];for(const r of u5n)n=n.flatMap(r);return n}):e}function Y7(e){if(e&&typeof e=="object"&&e.hasOwnProperty("_ref"))return{...e,_weak:!0};if(Array.isArray(e))return e.map(t=>Y7(t));if(e&&typeof e=="object"){const t={};return Object.keys(e).forEach(n=>{const r=e[n];typeof r=="object"&&r!==null?t[n]=Y7(r):t[n]=r}),t}return e}function d5n(e){return Y7(e)}async function f5n(e){const{activeTool:t,client:n,comment:r,currentUser:i,dataset:a,documentId:o,documentRevisionId:s,documentType:l,getIntent:c,getNotificationValue:d,getThreadLength:h,onCreate:p,onCreateError:m,projectId:g,createAddonDataset:v,workspace:b}=e,y=(r==null?void 0:r.id)||qa(),x=i.id,w=((h==null?void 0:h(r.threadId))||0)+1;let C;if(r.type==="task"&&(C={_id:y,_type:"comment",authorId:x,message:r.message,lastEditedAt:void 0,parentCommentId:r.parentCommentId,status:r.status,threadId:r.threadId,reactions:r.reactions,context:{payload:{workspace:b},notification:r.context.notification,tool:(t==null?void 0:t.name)||""},target:{document:{_ref:o,_type:"reference",_weak:!0},documentType:l}}),r.type==="field"){const{documentTitle:S="",url:_="",workspaceTitle:E=""}=d({commentId:y})||{},k={currentThreadLength:w,documentTitle:S,url:_,workspaceTitle:E},T=c==null?void 0:c({id:o,type:l,path:r.fieldPath}),j=d5n(r.contentSnapshot);C={_id:y,_type:"comment",authorId:x,message:r.message,lastEditedAt:void 0,parentCommentId:r.parentCommentId,status:r.status,threadId:r.threadId,reactions:r.reactions,context:{payload:{workspace:b},intent:T,notification:k,tool:(t==null?void 0:t.name)||""},contentSnapshot:j,target:{documentRevisionId:s||"",path:{field:r.fieldPath,selection:r.selection},document:{_dataset:a,_projectId:g,_ref:o,_type:"crossDatasetReference",_weak:!0},documentType:l}}}if(C){if(p==null||p(C),!n){try{const S=await v();if(!S)throw new Error("Failed to create addon dataset client");await S.create(C)}catch(S){throw m==null||m(C._id,S),S}return}try{await n.create(C)}catch(S){throw m==null||m(C._id,S),S}}}function h5n(e,t){return`${e}-${t}`}async function p5n(e){var t;const{client:n,currentUser:r,id:i,reaction:a,getComment:o,onUpdate:s}=e,l=((t=o==null?void 0:o(i))==null?void 0:t.reactions)||[],c=l.filter(p=>p.userId===r.id),d=h5n(r.id,a.shortName),h=c.find(p=>p._key===d&&p._optimisticState!=="removed");if(h){const p=l.map(m=>m._key===h._key?{...m,_optimisticState:"removed"}:m);s==null||s(i,{reactions:p}),await n.patch(i).unset([`reactions[_key=="${d}"]`]).commit();return}if(!h){const p={_key:d,addedAt:new Date().toISOString(),shortName:a.shortName,userId:r.id},m={...p,_optimisticState:"added"},g=l.concat(m).filter(v=>!(v._key===p._key&&v._optimisticState==="removed"));s==null||s(i,{reactions:g}),await n.patch(i).setIfMissing({reactions:[]}).append("reactions",[p]).commit()}}async function m5n(e){const{client:t,id:n,onRemove:r}=e;r==null||r(n),await Promise.all([t.delete({query:`*[_type == "comment" && parentCommentId == "${n}"]`}),t.delete(n)])}const g5n=1e3,v5n={trailing:!0,leading:!1},AT=new Map;function y5n(e){if(!AT.has(e)){const t=xb(eRe,g5n,v5n);return AT.set(e,t),t}return AT.get(e)}async function eRe(e){const{client:t,id:n,comment:r,transactionId:i,onUpdate:a}=e,o=i||qa(),s=t==null?void 0:t.patch(n).set(r),l=t.transaction().transactionId(o).patch(s);a==null||a(n,r),r.status?(await l.commit(),await t.patch({query:`*[_type == "comment" && parentCommentId == "${n}"]`}).set({status:r.status}).commit()):await l.commit(),AT.delete(n)}async function b5n(e){const{id:t,comment:n,throttled:r}=e,i="message"in n,a={...n,lastEditedAt:new Date().toISOString()},o=i?a:n;if(!r){await eRe({...e,comment:o});return}await y5n(t)({...e,comment:o})}function x5n(e){const{client:t,currentUser:n,dataset:r,documentId:i,documentRevisionId:a,documentType:o,getComment:s,getThreadLength:l,onCreate:c,onCreateError:d,onRemove:h,onTransactionStart:p,onUpdate:m,projectId:g,createAddonDataset:v,workspace:b,getCommentLink:y}=e,x=Skn(),w=l_(f.useCallback(I=>typeof I.tool=="string"?I.tool:void 0,[])),C=Z4n(),S=f.useMemo(()=>C.find(I=>I.name===w),[w,C]),{getNotificationValue:_}=_kn({documentId:i,documentType:o,getCommentLink:y}),E=f.useCallback(async I=>{n!=null&&n.id&&await f5n({activeTool:S,client:t,comment:I,currentUser:n,dataset:r,documentId:i,documentRevisionId:a,documentType:o,getIntent:x,getNotificationValue:_,getThreadLength:l,onCreate:c,onCreateError:d,projectId:g,createAddonDataset:v,workspace:b})},[S,t,n,r,i,a,o,x,_,l,c,d,g,v,b]),k=f.useCallback(async I=>{t&&await m5n({client:t,id:I,onRemove:h})},[t,h]),T=f.useCallback(async(I,A,$)=>{if(!t)return;const{throttled:D}=$||{},M=qa();p(I,M),await b5n({client:t,comment:A,throttled:D,id:I,onUpdate:m,transactionId:M})},[t,p,m]),j=f.useCallback(async(I,A)=>{!t||!(n!=null&&n.id)||await p5n({client:t,currentUser:n,id:I,reaction:A,getComment:s,onUpdate:m})},[t,n,s,m]);return f.useMemo(()=>({operation:{create:E,react:j,remove:k,update:T}}),[E,k,T,j])}function DM(){const e=f.useContext(Ope);if(!e)throw new Error("useComments must be used within a CommentsProvider");return e}function w5n(){const e=f.useContext($pe);if(!e)throw new Error("useCommentsAuthoringPath: missing context value");return e}function om(){return f.useContext(Rpe)}function C5n(){const e=f.useContext(Fpe);if(!e)throw new Error("useCommentsOnboarding: missing context value");return e}const $M={behavior:"smooth",inline:"center",scrollMode:"if-needed"},S5n={...$M,block:"start"},_5n={...$M,block:"center"},E5n={...$M,block:"center"},k5n={...$M,block:"center"},T5n={comment:k5n,field:E5n,group:S5n,"inline-comment":_5n};function I_(e){const t=/[[\]_"_=.]/g;return e.replace(t,"")}function ude(e){return{"data-comments-comment-id":I_(e)}}function A5n(e){return{"data-comments-field-id":I_(e)}}function j5n(e){return{"data-comments-group-id":I_(e)}}function cde(e){return{"data-comments-inline-comment-id":I_(e)}}function lq(e){const{boundaryElement:t}=e||{},[n,r]=f.useState(null),i=f.useMemo(()=>({...T5n[(n==null?void 0:n.type)||"comment"],boundary:t}),[t,n==null?void 0:n.type]),a=f.useCallback(c=>{r({type:"comment",id:c})},[]),o=f.useCallback(c=>{r({type:"group",id:c})},[]),s=f.useCallback(c=>{r({type:"field",id:c})},[]),l=f.useCallback(c=>{r({type:"inline-comment",id:c})},[]);return f.useEffect(()=>{const c=requestAnimationFrame(()=>{if(!n)return;const{type:d,id:h}=n,p=document==null?void 0:document.querySelector(`[data-comments-${d}-id="${I_(h)}"]`);p&&Gg(p,i)});return()=>{cancelAnimationFrame(c)}},[i,n]),f.useMemo(()=>({scrollToComment:a,scrollToField:s,scrollToGroup:o,scrollToInlineComment:l}),[a,s,o,l])}function uq(){const e=f.useContext(Npe);if(!e)throw new Error("useCommentsSelectedPath: missing context value");return e}const I5n=bi({name:"Comment Link Copied",version:1,description:"The link to a comment is copied"}),D5n=bi({name:"Comment Viewed From Link",version:1,description:"A comment is viewed from a link"}),$5n=bi({name:"Comment List View Changed",version:1,description:"The view of the comment list is changed"});function O5n(){const e=Os(),t=f.useCallback(()=>{e.log(I5n)},[e]),n=f.useCallback(()=>{e.log(D5n)},[e]),r=f.useCallback(i=>{e.log($5n,{view:i})},[e]);return f.useMemo(()=>({commentLinkCopied:t,commentListViewChanged:r,commentViewedFromLink:n}),[t,r,n])}function cq(){return f.useContext(Lpe)||{upsellData:null,handleOpenDialog:()=>null,upsellDialogOpen:!1,telemetryLogs:{dialogSecondaryClicked:()=>null,dialogPrimaryClicked:()=>null,panelViewed:()=>null,panelDismissed:()=>null,panelPrimaryClicked:()=>null,panelSecondaryClicked:()=>null}}}function M5n(e,t){const{enabled:n,isLoading:r,error:i}=P_("studioComments"),{enabled:a}=Dn().document.comments,o=f.useMemo(()=>a({documentType:t,documentId:fn(e)}),[e,t,a]);return f.useMemo(()=>r||!o||i?{enabled:!1,mode:null}:{enabled:!0,mode:n?"default":"upsell"},[r,o,i,n])}function R5n(e){return e.reduce((t,n)=>({...t,[n._id]:n}),{})}function P5n(e,t){var n;switch(t.type){case"COMMENTS_SET":{const r=R5n(t.comments);return{...e,comments:r}}case"COMMENT_ADDED":{const r=t.payload,i=r,a={[r._id]:{...e.comments[r._id],...i,_state:r._state||void 0,_createdAt:r._createdAt||new Date().toISOString()}};return{...e,comments:{...e.comments,...a}}}case"COMMENT_RECEIVED":{const r=t.payload;return{...e,comments:{...e.comments,[r._id]:r}}}case"COMMENT_DELETED":{const{[t.id]:r,...i}=e.comments;return Object.keys(i).forEach(a=>{i[a].parentCommentId===t.id&&delete i[a]}),{...e,comments:i}}case"COMMENT_UPDATED":{const r=t.payload,i=r._id,a=e.comments[i],o=((n=a==null?void 0:a.reactions)==null?void 0:n.filter(d=>d==null?void 0:d._optimisticState))||[],s=r.reactions||[],l=a5n(o,s),c={...a,...r,reactions:l};return{...e,comments:{...e.comments,[i]:c}}}default:return e}}const F5n={comments:{}},N5n={events:["welcome","mutation","reconnect"],includeResult:!0,visibility:"query"},L5n="_createdAt",B5n="desc",V5n=['_type == "comment"',"target.document._ref == $documentId"],z5n=`{
  _createdAt,
  _id,
  authorId,
  contentSnapshot,
  context,
  lastEditedAt,
  message,
  parentCommentId,
  reactions,
  status,
  target,
  threadId
}`,U5n=`order(${L5n} ${B5n})`,dde=`*[${V5n.join(" && ")}] ${z5n} | ${U5n}`;function H5n(e){const{client:t,documentId:n,onLatestTransactionIdReceived:r,transactionsIdMap:i}=e,[a,o]=f.useReducer(P5n,F5n),[s,l]=f.useState(t!==null),[c,d]=f.useState(null),h=f.useRef(!1),p=f.useMemo(()=>({documentId:fn(n)}),[n]),m=f.useCallback(async()=>{if(!t){l(!1);return}try{const b=await t.fetch(dde,p);o({type:"COMMENTS_SET",comments:b}),l(!1)}catch(b){d(b)}},[t,p]),g=f.useCallback(async b=>{var y;if(b.type==="welcome"&&!h.current&&(l(!0),await m(),l(!1),h.current=!0),b.type==="reconnect"&&(l(!0),h.current=!1),b.type==="mutation"){if(b.transition==="appear"){const x=b.result;x&&o({type:"COMMENT_RECEIVED",payload:x})}if(b.transition==="disappear"&&o({type:"COMMENT_DELETED",id:b.documentId}),b.transition==="update"){const x=b.result,w=((y=b.result)==null?void 0:y._id)||"",C=b.transactionId,S=i.get(w),_=C===S;if(!_&&S)return;x&&(o({type:"COMMENT_UPDATED",payload:x}),_&&r(w))}}},[m,r,i]),v=f.useMemo(()=>t?t.observable.listen(dde,p,N5n).pipe(Cn(b=>(d(b),xe(b)))):xe(),[t,p]);return f.useEffect(()=>{const b=v.subscribe(g);return()=>{b==null||b.unsubscribe()}},[g,v]),{data:f.useMemo(()=>Object.values(a.comments),[a.comments]),dispatch:o,error:c,loading:s}}const q7=[],W5n={open:q7,resolved:q7},tRe=f.memo(function(e){const{children:t,documentId:n,documentType:r,isCommentsOpen:i,onCommentsOpen:a,sortOrder:o,type:s,getCommentLink:l,onClearSelectedComment:c,selectedCommentId:d,isConnecting:h,onPathOpen:p}=e,m=om(),[g,v]=f.useState("open"),{client:b,createAddonDataset:y,isCreatingDataset:x}=zM(),w=fn(n),C=HM(w,r,"low"),S=en().get(r),_=Kn(),{name:E,dataset:k,projectId:T}=Fr(),j=f.useMemo(()=>C.draft||C.published,[C.draft,C.published]),I=f.useMemo(()=>j==null?void 0:j._rev,[j]),A=f.useMemo(()=>new Map,[]),$=f.useCallback(Q=>{A.delete(Q)},[A]),{dispatch:D,data:M=q7,error:O,loading:F}=H5n({documentId:w,client:b,transactionsIdMap:A,onLatestTransactionIdReceived:$}),P=f.useCallback((Q,re)=>{A.set(Q,re)},[A]),V=f.useCallback(Q=>m.mode==="upsell"&&Q==="resolved"?null:v(Q),[v,m]),H=QPe(f.useMemo(()=>({documentValue:j,permission:"read"}),[j])),W=f.useMemo(()=>{if(!S||!_)return W5n;const Q=Tb(M,["_createdAt"],[o]),re=Jkn({comments:Q,currentUser:_,documentValue:j,schemaType:S,type:s});return{open:re.filter(ae=>ae.parentComment.status==="open"),resolved:re.filter(ae=>ae.parentComment.status==="resolved")}},[_,M,j,S,o,s]),G=f.useCallback(Q=>W.open.filter(re=>re.threadId===Q).length,[W.open]),X=f.useCallback(Q=>M==null?void 0:M.find(re=>re._id===Q),[M]),z=f.useCallback(Q=>{var re,ae;const ne=((ae=(re=M==null?void 0:M.find(se=>se._id===Q._id))==null?void 0:re._state)==null?void 0:ae.type)==="createError";D({type:"COMMENT_ADDED",payload:{...Q,_state:ne?{type:"createRetrying"}:void 0}})},[M,D]),q=f.useCallback((Q,re)=>{D({type:"COMMENT_UPDATED",payload:{_id:Q,...re}})},[D]),Z=f.useCallback((Q,re)=>{D({type:"COMMENT_UPDATED",payload:{_id:Q,_state:{error:re,type:"createError"}}})},[D]),{operation:K}=x5n(f.useMemo(()=>({client:b,currentUser:_,dataset:k,documentId:w,documentRevisionId:I,documentType:r,getComment:X,getThreadLength:G,projectId:T,schemaType:S,workspace:E,createAddonDataset:y,onCreate:z,onCreateError:Z,onUpdate:q,onTransactionStart:P,getCommentLink:l}),[b,_,k,w,I,r,X,G,T,S,E,y,z,Z,q,P,l])),J=f.useMemo(()=>({documentId:n,documentType:r,isCreatingDataset:x,status:g,setStatus:V,getComment:X,getCommentLink:l,onClearSelectedComment:c,selectedCommentId:d,isCommentsOpen:i,onCommentsOpen:a,isConnecting:h,onPathOpen:p,comments:{data:W,error:O,loading:F||x||h||!1},operation:{create:K.create,react:K.react,remove:K.remove,update:K.update},mentionOptions:H}),[n,r,x,g,V,X,l,c,d,i,a,h,p,W,O,F,K.create,K.react,K.remove,K.update,H]);return u.jsx(Ope.Provider,{value:J,children:t})}),nRe=f.memo(function(e){const{children:t,documentId:n,documentType:r}=e,i=M5n(n,r);return u.jsx(Rpe.Provider,{value:i,children:t})});f.memo(function(e){const{children:t,getIntent:n}=e;return u.jsx(Ppe.Provider,{value:n,children:t})});const G5n=1,rRe=`sanityStudio:comments:inspector:onboarding:dismissed:v${G5n}`,Y5n=e=>{try{window.localStorage.setItem(rRe,JSON.stringify(e))}catch{}},q5n=()=>{try{const e=window.localStorage.getItem(rRe);return e?JSON.parse(e):!1}catch{return!1}};function K5n(e){const{children:t}=e,[n,r]=f.useState(q5n()),i=f.useCallback(()=>{r(!0),Y5n(!0)},[r]),a=f.useMemo(()=>({setDismissed:i,isDismissed:n}),[i,n]);return u.jsx(Fpe.Provider,{value:a,children:t})}const Z5n=f.memo(function(e){const{children:t}=e,[n,r]=f.useState(null),i=f.useCallback(o=>{wt(n,o)||r(o)},[n]),a=f.useMemo(()=>({selectedPath:n,setSelectedPath:i}),[n,i]);return u.jsx(Npe.Provider,{value:a,children:t})}),fde={inlineIcon:(e,t,n)=>{var r,i,a,o;if(!yr(n))return n;const s=!!(((r=n.children[t-1])==null?void 0:r._type)==="span"&&(i=n.children[t-1])!=null&&i.text),l=!!(((a=n.children[t+1])==null?void 0:a._type)==="span"&&(o=n.children[t+1])!=null&&o.text);return{...e,hasTextRight:l,hasTextLeft:s}}},X5n=e=>e.map(t=>{if(yr(t)&&t._type==="block"){const n=t.children.map((r,i)=>fde[r._type]?fde[r._type](r,i,t):r);return{...t,children:n}}return t}),J5n=R(L)`
  height: 1px;
  background: var(--card-border-color);
  width: 100%;
`,Q5n=R.div`
  // Remove margin top of first element
  > div:first-child {
    margin-top: 0;
  }
  // Remove margin bottom to last box.
  > [data-ui='Box']:last-child {
    margin-bottom: 0;
  }
`,eTn=R(N)(e=>e.accent?`
    --card-icon-color: var(--card-accent-fg-color);
    `:""),iRe=R.span`
  color: var(--card-accent-fg-color);
  --card-icon-color: var(--card-accent-fg-color);
`,tTn=R.span(({theme:e})=>{const{weights:t}=e.sanity.fonts.text;return ce`
    font-weight: ${t.semibold};
  `}),nTn=R(NB)`
  &[data-sanity-icon] {
    /* Forces the icon to leave the necessary space to the right or left it has surrounding text */
    margin-left: ${e=>e.$hasTextLeft?"0":""};
    margin-right: ${e=>e.$hasTextRight?"0":""};
  }
`,rTn=R.a`
  font-weight: 600;
  color: ${e=>e.useTextColor?"var(--card-muted-fg-color) !important":""};
`,iTn=R.span`
  > svg {
    display: inline;
    font-size: calc(21 / 16 * 1rem) !important;
    margin: -0.375rem 0 !important;
    *[stroke] {
      stroke: currentColor;
    }
  }
`,aTn=e=>u.jsx(iRe,{children:e}),hde=e=>{const[t,n]=f.useState("");return f.useEffect(()=>{const r=new AbortController,i=r.signal;return fetch(e.icon.url,{signal:i}).then(a=>{if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return a.text()}).then(a=>n(a)).catch(a=>{a.name!=="AbortError"&&console.error(a)}),()=>{r.abort()}},[e.icon.url]),u.jsx(iTn,{dangerouslySetInnerHTML:{__html:t}})};function Yk(e){const{children:t}=e;return u.jsx(L,{paddingX:2,marginBottom:4,children:u.jsx(N,{size:1,muted:!0,children:t})})}function oTn(e){const{children:t}=e;return u.jsx(L,{paddingX:2,marginY:4,children:u.jsx(zi,{size:2,as:"h2",children:t})})}const sTn={block:{normal:({children:e})=>u.jsx(Yk,{children:e}),h2:({children:e})=>u.jsx(oTn,{children:e})},list:{bullet:({children:e})=>e,number:({children:e})=>u.jsx(u.Fragment,{children:e}),checkmarks:({children:e})=>u.jsx(u.Fragment,{children:e})},listItem:{bullet:({children:e})=>u.jsx(Yk,{children:e}),number:({children:e})=>u.jsx(Yk,{children:e}),checkmarks:({children:e})=>u.jsx(Yk,{children:e})},marks:{strong:({children:e})=>u.jsx("strong",{children:e}),semibold:({children:e})=>u.jsx(tTn,{children:e}),link:e=>u.jsxs(rTn,{href:e.value.href,rel:"noopener noreferrer",target:"_blank",useTextColor:e.value.useTextColor,children:[e.children,e.value.showIcon&&u.jsx(tl,{style:{marginLeft:"2px"}})]}),accent:e=>u.jsx(iRe,{children:e.children})},types:{inlineIcon:e=>u.jsx(db,{condition:e.value.accent,wrapper:aTn,children:e.value.sanityIcon?u.jsx(nTn,{symbol:e.value.sanityIcon,$hasTextLeft:e.value.hasTextLeft,$hasTextRight:e.value.hasTextRight}):u.jsx(hde,{icon:e.value.icon})}),divider:()=>u.jsx(L,{marginY:3,children:u.jsx(L,{paddingY:3,children:u.jsx(J5n,{})})}),iconAndText:e=>u.jsxs(U,{align:"flex-start",paddingX:2,paddingTop:1,paddingBottom:2,marginTop:2,gap:2,children:[u.jsxs(U,{gap:2,style:{flexShrink:0},children:[u.jsx(eTn,{size:1,accent:e.value.accent,children:e.value.sanityIcon?u.jsx(NB,{symbol:e.value.sanityIcon}):u.jsx(hde,{icon:e.value.icon})}),u.jsx(N,{size:1,weight:"semibold",accent:e.value.accent,children:e.value.title})]}),u.jsx(N,{size:1,muted:!0,accent:e.value.accent,children:e.value.text})]})}};function OM(e){const t=f.useMemo(()=>X5n(e.blocks),[e.blocks]);return u.jsx(te,{tone:"default",children:u.jsx(Q5n,{children:u.jsx(yke,{value:t,components:sTn,onMissingComponent:!1})})})}const lTn=R(fe)(({theme:e})=>{const{space:t}=Ee(e);return`
      position: absolute;
      top: ${t[3]}px;
      right: ${t[3]}px;
      z-index: 20;
      background: transparent;
      border-radius: 9999px;
      box-shadow: none;
      color: ${rf.hex};
      --card-fg-color: ${rf.hex};
      :hover {
        --card-fg-color: ${rf.hex};
      }
    `}),uTn=R.img`
  object-fit: cover;
  width: 100%;
  height: 100%;
  height: 200px;
`;function dq(e){var t,n,r;const{data:i,onClose:a,onPrimaryClick:o,onSecondaryClick:s}=e;return u.jsxs(Ui,{id:"upsell-dialog",onClose:a,onClickOutside:a,__unstable_hideCloseButton:!0,bodyHeight:"fill",padding:!1,footer:{cancelButton:(t=i.secondaryButton)!=null&&t.text?{text:i.secondaryButton.text,mode:"bleed",tone:"default",iconRight:Qc,...i.secondaryButton.url&&{target:"_blank",rel:"noopener noreferrer",as:"a",href:i.secondaryButton.url},onClick:s}:void 0,confirmButton:{text:(n=i.ctaButton)==null?void 0:n.text,mode:"default",tone:"primary",...i.ctaButton.url&&{target:"_blank",rel:"noopener noreferrer",as:"a",href:i.ctaButton.url},onClick:o}},children:[u.jsx(lTn,{icon:Rr,mode:"bleed",tone:"default",onClick:a,tabIndex:-1,tooltipProps:null}),i.image&&u.jsx(uTn,{src:i.image.asset.url,alt:(r=i.image.asset.altText)!=null?r:""}),u.jsx(L,{padding:3,marginTop:2,children:u.jsx(ee,{space:4,paddingBottom:2,children:u.jsx(OM,{blocks:i.descriptionText})})})]})}const fh="comments",pde={interpolate:/{{([\s\S]+?)}}/g},mde="www.sanity.io";function cTn(e){const[t,n]=f.useState(!1),[r,i]=f.useState(null),a=O_(),o=Os(),s=Zt(Gt),l=f.useMemo(()=>({dialogSecondaryClicked:()=>o.log(Ny,{feature:fh,type:"modal"}),dialogPrimaryClicked:()=>o.log(Fy,{feature:fh,type:"modal"}),panelViewed:g=>o.log(Ry,{feature:fh,type:"inspector",source:g}),panelDismissed:()=>o.log(Py,{feature:fh,type:"inspector"}),panelPrimaryClicked:()=>o.log(Fy,{feature:fh,type:"inspector"}),panelSecondaryClicked:()=>o.log(Ny,{feature:fh,type:"inspector"})}),[o]),c=f.useCallback(()=>{l.dialogPrimaryClicked()},[l]),d=f.useCallback(()=>{l.dialogSecondaryClicked()},[l]),h=f.useCallback(()=>{n(!1),o.log(Py,{feature:fh,type:"modal"})},[o]);f.useEffect(()=>{const g=s.observable.request({uri:"/journey/comments"}).subscribe({next:v=>{if(v)try{const b=Ty(v.ctaButton.url,pde);v.ctaButton.url=b({baseUrl:mde,projectId:a});const y=Ty(v.secondaryButton.url,pde);v.secondaryButton.url=y({baseUrl:mde,projectId:a}),i(v)}catch{}},error:()=>{}});return()=>{g.unsubscribe()}},[s,a]);const p=f.useCallback(g=>{n(!0),o.log(Ry,{feature:fh,type:"modal",source:g})},[o]),m=f.useMemo(()=>({upsellDialogOpen:t,handleOpenDialog:p,upsellData:r,telemetryLogs:l}),[p,t,r,l]);return u.jsxs(Lpe.Provider,{value:m,children:[e.children,r&&t&&u.jsx(dq,{data:r,onClose:h,onPrimaryClick:c,onSecondaryClick:d})]})}function dTn(e){const{documentId:t,documentType:n}=e;return om().mode!==null?u.jsx(gde,{...e}):u.jsx(nRe,{documentId:t,documentType:n,children:u.jsx(gde,{...e})})}function gde(e){return om().enabled?u.jsx(Z5n,{children:u.jsx(Ckn,{children:e.renderDefault(e)})}):e.renderDefault(e)}const Vw="sanity/comments",Ud="yellow",K7=[{shortName:":+1:",title:"Thumbs up"},{shortName:":-1:",title:"Thumbs down"},{shortName:":heart:",title:"Heart"},{shortName:":rocket:",title:"Rocket"},{shortName:":heavy_plus_sign:",title:"Heavy plus sign"},{shortName:":eyes:",title:"Eyes"}],bI={":-1:":"👎",":+1:":"👍",":eyes:":"👀",":heart:":"❤️",":heavy_plus_sign:":"➕",":rocket:":"🚀"},fTn=R(ee)`
  width: 320px;
`;function hTn(e){const{count:t,currentUser:n,fieldTitle:r,isCreatingDataset:i,mentionOptions:a,onChange:o,onClick:s,onClose:l,onCommentAdd:c,onDiscard:d,onInputKeyDown:h,open:p,value:m}=e,{t:g}=Y(ei),v=f.useRef(null),[b,y]=f.useState(null),x=f.useRef(null),w=t>0,C=f.useCallback(()=>{p&&(l(),b==null||b.focus())},[b,p,l]),S=f.useCallback(()=>{c(),C()},[C,c]),_=f.useMemo(()=>q0(m),[m]),E=f.useCallback(()=>{var A;if(!_){C();return}(A=x.current)==null||A.discardDialogController.open()},[C,_]),k=f.useCallback(A=>{A.isDefaultPrevented()||h&&h(A)},[h]),T=f.useCallback(()=>{var A;(A=x.current)==null||A.discardDialogController.close()},[]),j=f.useCallback(()=>{var A;(A=x.current)==null||A.discardDialogController.close(),C(),d()},[C,d]),I=f.useCallback(A=>{A.key==="Escape"&&(A.preventDefault(),A.stopPropagation(),E())},[E]);return yn(!p&&E,()=>[v.current]),w?u.jsx(gt,{portal:!0,placement:"top",content:g("field-button.content",{count:t}),children:u.jsx(St,{"aria-label":g("field-button.aria-label-open"),mode:"bleed",onClick:s,padding:2,space:2,children:u.jsxs(U,{align:"center",gap:2,children:[u.jsx(N,{size:1,children:u.jsx(sD,{})}),u.jsx(N,{size:0,children:t>9?"9+":t})]})})}):u.jsx(Fn,{constrainSize:!0,content:u.jsx(fTn,{padding:2,space:4,children:u.jsx(J0,{currentUser:n,focusLock:!0,focusOnMount:!0,mentionOptions:a,onChange:o,onDiscardCancel:T,onDiscardConfirm:j,onKeyDown:k,onSubmit:S,placeholder:u.jsx(ht,{t:g,i18nKey:"compose.add-comment-input-placeholder",values:{field:r}}),readOnly:i,ref:x,value:m})}),fallbackPlacements:["bottom-end"],open:p,placement:"right-start",portal:!0,ref:v,onKeyDown:I,children:u.jsx("div",{children:u.jsx(fe,{"aria-label":g("field-button.aria-label-add"),disabled:i,icon:iD,mode:"bleed",onClick:s,ref:y,selected:p,tooltipProps:{content:g("field-button.title"),placement:"top"}})})})}const QF=new Map,pTn=[],mTn={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}};function gTn(e){const{enabled:t,mode:n}=om();return t?u.jsx(bTn,{...e,mode:n}):e.renderDefault(e)}const vTn=R(Di.div)(({theme:e})=>{const{radius:t,space:n,color:r}=e.sanity,i=Qe[Ud][r.dark?900:50].hex;return ce`
    mix-blend-mode: ${r.dark?"screen":"multiply"};
    border-radius: ${t[3]}px;
    top: -${n[2]}px;
    left: -${n[2]}px;
    bottom: -${n[2]}px;
    right: -${n[2]}px;
    pointer-events: none;
    position: absolute;
    z-index: 1;
    width: calc(100% + ${n[2]*2}px);
    height: calc(100% + ${n[2]*2}px);
    background-color: ${i};
  `}),yTn=R(ee)`
  position: relative;
`;function bTn(e){const{mode:t}=e,n=Kn(),{element:r}=C0(),i=f.useRef(null),{comments:a,isCommentsOpen:o,isCreatingDataset:s,mentionOptions:l,onCommentsOpen:c,operation:d,setStatus:h,status:p}=DM(),{upsellData:m,handleOpenDialog:g}=cq(),{selectedPath:v,setSelectedPath:b}=uq(),{authoringPath:y,setAuthoringPath:x}=w5n(),{scrollToGroup:w}=lq({boundaryElement:r}),C=f.useMemo(()=>Vu(e.schemaType),[e.schemaType]),S=f.useMemo(()=>qt(e.path),[e.path]),_=QF.get(S)||null,[E,k]=f.useState(_),T=f.useMemo(()=>y===S,[y,S]),j=f.useMemo(()=>!o||(v==null?void 0:v.origin)==="form"||(v==null?void 0:v.origin)==="url"?!1:(v==null?void 0:v.fieldPath)===S,[o,v==null?void 0:v.fieldPath,v==null?void 0:v.origin,S]),I=f.useMemo(()=>a.data.open.filter(H=>H.threadId===(v==null?void 0:v.threadId)).some(H=>Qb(H.parentComment)),[a.data.open,v==null?void 0:v.threadId]),A=f.useMemo(()=>a.data.open.map(H=>H.fieldPath===S?H.commentsCount:0).reduce((H,W)=>H+W,0)||0,[a.data.open,S]),$=A>0,D=f.useCallback(()=>{k(null),QF.delete(S)},[S]),M=f.useCallback(()=>{var H;if($){p==="resolved"&&h("open"),x(null),c==null||c();const W=(H=a.data.open.find(G=>G.fieldPath===qt(e.path)))==null?void 0:H.threadId;W&&(b({threadId:W,origin:"form",fieldPath:qt(e.path)}),w(W));return}if(t==="upsell"){m?g("field_action"):c==null||c();return}x(T?null:S)},[a.data.open,g,$,T,t,c,e.path,w,x,b,h,p,S,m]),O=f.useCallback(()=>{if(E){const H=qa(),W={type:"field",fieldPath:qt(e.path),message:E,parentCommentId:void 0,status:"open",threadId:H,reactions:pTn};d.create(W),c==null||c(),p==="resolved"&&h("open"),D(),b({threadId:H,origin:"form",fieldPath:qt(e.path)}),w(H)}},[c,d,e.path,D,w,b,h,p,E]),F=f.useCallback(()=>x(null),[x]),P=f.useCallback(H=>{k(H),QF.set(S,H)},[S]),V=f.useMemo(()=>({button:n&&u.jsx(hTn,{count:Number(A),currentUser:n,fieldTitle:C,isCreatingDataset:s,mentionOptions:l,onChange:P,onClick:M,onClose:F,onCommentAdd:O,onDiscard:D,open:T,value:E}),hasComments:$,isAddingComment:T}),[n,A,C,s,l,P,M,F,O,D,T,E,$]);return u.jsxs(yTn,{...A5n(qt(e.path)),ref:i,children:[e.renderDefault({...e,__internal_comments:V}),u.jsx(hl,{children:j&&!I&&u.jsx(vTn,{animate:"animate",exit:"exit",initial:"initial",variants:mTn})})]})}function xTn(e){if(!e||!e.length)return null;const t=e.map(o=>o.getBoundingClientRect()),n=Math.min(...t.map(o=>o.x))||0,r=Math.min(...t.map(o=>o.y))||0,i=Math.max(...t.map(o=>o.right))||0,a=Math.max(...t.map(o=>o.bottom))||0;return{x:n,y:r,width:i-n,height:a-r,top:r,right:i,bottom:a,left:n}}function wTn(e){const{scrollElement:t,disabled:n,selector:r}=e,[i,a]=f.useState(null),o=f.useCallback(()=>{if(n)return;const s=document==null?void 0:document.querySelectorAll(r);if(!s)return;const l=xTn(Array.from(s));a(l)},[n,r]);return f.useEffect(o,[o]),f.useEffect(()=>{if(!(n||!t))return t.addEventListener("wheel",o),()=>{t.removeEventListener("wheel",o)}},[o,n,t]),i}function CTn(e){const{scrollElement:t,disabled:n,selector:r}=e,i=wTn({scrollElement:t,disabled:n,selector:r});return f.useMemo(()=>i?{getBoundingClientRect:()=>i}:null,[i])}function STn(){const e=window.getSelection();let t=null;return e&&e.rangeCount>0&&(t=e.getRangeAt(0)),(t==null?void 0:t.getBoundingClientRect())||null}const _Tn=R(Di(Fn))`
  user-select: none;
`,ETn=["bottom","top"],kTn={hidden:{opacity:0,y:-4},visible:{opacity:1,y:0}};function TTn(e){const{disabled:t,onClick:n,onClickOutside:r,referenceElement:i}=e,a=f.useRef(null),{t:o}=Y(ei);yn(r,()=>[a.current]);const s=o("inline-add-comment-button.disabled-overlap-title"),l=o("inline-add-comment-button.title");return u.jsx(_Tn,{animate:"visible",content:u.jsx(fe,{"data-testid":"inline-comment-button",disabled:t,icon:t?cLn:iD,mode:"bleed",onClick:n,ref:a,text:t?s:l}),contentEditable:!1,fallbackPlacements:ETn,initial:"hidden",open:!0,padding:1,placement:"bottom",portal:!0,referenceElement:i,variants:kTn})}const ATn=["bottom","top"],jTn=Di(Fn),ITn=R(ee)`
  width: 250px;
`,DTn={hidden:{opacity:0},visible:{opacity:1}};function $Tn(e){const{currentUser:t,mentionOptions:n,onChange:r,onClickOutside:i,onDiscardConfirm:a,onSubmit:o,referenceElement:s,value:l}=e,c=f.useRef(null),d=f.useRef(null),h=f.useCallback(()=>{var m;(m=c.current)==null||m.discardDialogController.close(),a()},[a]),p=f.useCallback(()=>{var m;(m=c.current)==null||m.discardDialogController.close()},[]);return yn(()=>{var m;if(q0(l)){(m=c.current)==null||m.discardDialogController.open();return}i()},()=>[d.current]),u.jsx(jTn,{animate:"visible",content:u.jsx(ITn,{padding:2,ref:d,children:u.jsx(J0,{currentUser:t,focusLock:!0,focusOnMount:!0,mentionOptions:n,onChange:r,onDiscardCancel:p,onDiscardConfirm:h,onSubmit:o,ref:c,value:l})}),"data-ui":"InlineCommentInputPopover",fallbackPlacements:ATn,initial:"hidden",open:!0,placement:"bottom",portal:!0,referenceElement:s,variants:DTn})}const El=[],OTn="sanity.assist.instruction.prompt";function MTn(e){const{enabled:t,mode:n}=om(),r=e.schemaType.name===OTn;return!t||r?e.renderDefault(e):u.jsx(RTn,{...e,mode:n})}const RTn=f.memo(function(e){var t,n;const{mode:r}=e,i=Kn(),a=Gf(),{comments:o,getComment:s,mentionOptions:l,onCommentsOpen:c,operation:d,setStatus:h,status:p}=DM(),{setSelectedPath:m,selectedPath:g}=uq(),{scrollToComment:v,scrollToGroup:b}=lq(),{handleOpenDialog:y}=cq(),x=f.useRef(null),w=f.useRef(!1),[C,S]=f.useState(null),[_,E]=f.useState(null),[k,T]=f.useState(null),[j,I]=f.useState(null),[A,$]=f.useState(null),[D,M]=f.useState(null),[O,F]=f.useState(!1),[P,V]=f.useState(null),[H,W]=f.useState(!1),[G,X]=f.useState(El),z=f.useMemo(()=>qt(e.path),[e.path]),q=f.useCallback(()=>{const Ne=STn();$(Ne)},[]),Z=f.useCallback(()=>{I(null),$(null),T(null),E(null),F(!1),S(null)},[]),K=f.useCallback(()=>{if(r==="upsell"){y("pte");return}T(j)},[j,y,r]),J=f.useCallback(()=>{Z()},[Z]),Q=f.useMemo(()=>o.data.open.filter(Ne=>Ne.fieldPath===z).filter(Ne=>Qb(Ne.parentComment)).map(Ne=>Ne.parentComment),[o.data.open,z]),re=f.useCallback(()=>x.current?Ae.getFragment(x.current):El,[]),ae=f.useCallback(()=>{if(!k||!x.current)return;const Ne=re()||El,Fe=Ae.getValue(x.current);if(!Fe)return;const lt=i5n({fragment:Ne,selection:k,value:Fe}),Dt=qa();d.create({type:"field",contentSnapshot:Ne,fieldPath:z,message:_,parentCommentId:void 0,reactions:El,selection:lt,status:"open",threadId:Dt}),c==null||c(),p==="resolved"&&h("open"),m({fieldPath:z,threadId:Dt,origin:"form"}),b(Dt),Z()},[k,re,d,z,_,c,p,m,b,Z,h]),ne=f.useCallback(Ne=>{var Fe;const lt=s(Ne);lt&&(m({fieldPath:((Fe=lt.target.path)==null?void 0:Fe.field)||"",threadId:lt.threadId,origin:"form"}),c==null||c(),v(lt._id))},[s,c,v,m]),se=f.useCallback(Ne=>{const Fe=(Ne==null?void 0:Ne.anchor.offset)!==(Ne==null?void 0:Ne.focus.offset),lt=re();if(!(lt!=null&&lt.every(yr))||!Fe){F(!1);return}w.current||q(),I(Ne),F(!0)},[re,q]),le=f.useMemo(()=>m0(se,200),[se]),oe=f.useCallback(()=>{w.current=!0},[]),ge=f.useCallback(()=>{w.current=!1,q()},[q]),_e=f.useCallback(Ne=>{var Fe;const{rangeDecoration:lt,newSelection:Dt}=Ne,Be=(Fe=lt.payload)==null?void 0:Fe.commentId;X(ct=>ct.map(Ct=>{var Ke;return((Ke=Ct.payload)==null?void 0:Ke.commentId)===Be?{...lt,selection:Dt,payload:{...lt.payload,dirty:!0}}:Ct}))},[]),Me=f.useCallback(()=>{const Ne=G.filter(Fe=>{var lt;return(lt=Fe.payload)==null?void 0:lt.dirty});Ne.length!==0&&(Ne.forEach(Fe=>{var lt,Dt,Be,ct,Ct;const Ke=(lt=Fe.payload)==null?void 0:lt.commentId,rn=s(Ke||"");if(!rn||!x.current)return;const Nr=Ae.getValue(x.current)||El,[Sr]=QMe({comments:[rn],value:Nr}),bn=Sr!=null&&Sr.range?[Sr.range]:El,_t=Sr?[...((Be=(Dt=rn.target.path)==null?void 0:Dt.selection)==null?void 0:Be.value.filter(Lt=>{var hn;return Lt._key!==((hn=bn[0])==null?void 0:hn._key)}).concat(bn).flat())||El]:El,ze={target:{...rn.target,path:{...((ct=rn.target)==null?void 0:ct.path)||{},field:((Ct=rn.target.path)==null?void 0:Ct.field)||"",selection:{type:"text",value:_t}}}};d.update(rn._id,ze)}),X(Fe=>Fe.map(lt=>{var Dt,Be;return(Be=(Dt=Ne.find(ct=>{var Ct,Ke;return((Ct=ct.payload)==null?void 0:Ct.commentId)===((Ke=lt.payload)==null?void 0:Ke.commentId)}))==null?void 0:Dt.payload)!=null&&Be.dirty?{...lt,payload:{...lt.payload,dirty:!1}}:lt}).filter(lt=>lt.selection!==null)))},[G,s,d]),me=f.useCallback(Ne=>{if(!x.current)return El;const Fe=Ae.getValue(x.current)||El;return r5n({comments:Ne,currentHoveredCommentId:D,onDecorationClick:ne,onDecorationHoverEnd:M,onDecorationHoverStart:M,onDecorationMoved:_e,selectedThreadId:(g==null?void 0:g.threadId)||null,value:Fe})},[D,ne,_e,g==null?void 0:g.threadId]),ye=f.useCallback(Ne=>{Ne.type==="mutation"&&Me(),Ne.type==="selection"&&le(Ne.selection)},[le,Me]),De=f.useMemo(()=>k?{component:({children:Ne})=>u.jsx(p3e,{isAuthoring:!0,ref:S,children:Ne}),selection:k}:null,[k]),be=f.useMemo(()=>[...(e==null?void 0:e.rangeDecorations)||El,...De?[De]:El,...G],[G,De,e==null?void 0:e.rangeDecorations]),he=f.useMemo(()=>!j||G.length===0?!1:G.some(Ne=>{if(!x.current)return!1;const Fe=Ae.isSelectionsOverlapping(x.current,j,Ne.selection),lt=Ae.isSelectionsOverlapping(x.current,Ne.selection,j);return Fe||lt}),[G,j]),ve=H?document.body:((t=a.elements)==null?void 0:t.documentScrollElement)||document.body,Ce=H?((n=a.elements)==null?void 0:n.documentScrollElement)||document.body:P,Te=CTn({scrollElement:ve,disabled:!k||!C,selector:'[data-inline-comment-state="authoring"]'}),Ge=f.useMemo(()=>A?{getBoundingClientRect:()=>A}:null,[A]);f.useEffect(()=>{if(j)return ve==null||ve.addEventListener("wheel",q),()=>{ve==null||ve.removeEventListener("wheel",q)}},[j,ve,q]),f.useEffect(()=>{const Ne=me(Q);X(Fe=>Ne.map(lt=>{var Dt;const Be=Fe.find(ct=>{var Ct,Ke;return((Ct=ct.payload)==null?void 0:Ct.commentId)===((Ke=lt.payload)==null?void 0:Ke.commentId)});return(Dt=Be==null?void 0:Be.payload)!=null&&Dt.dirty?{...lt,payload:{...lt.payload,dirty:Be.payload.dirty}}:lt}))},[me,Q]);const Je=!!(j&&O&&Ge&&!w.current),tt=!!(k&&Te);return u.jsxs(u.Fragment,{children:[u.jsx(Cf,{element:Ce,children:u.jsxs(hl,{children:[tt&&i&&u.jsx($Tn,{currentUser:i,mentionOptions:l,onChange:E,onClickOutside:Z,onDiscardConfirm:J,onSubmit:ae,referenceElement:Te,value:_}),Je&&!tt&&u.jsx(TTn,{disabled:he,onClick:K,onClickOutside:Z,referenceElement:Ge})]})}),u.jsx(ee,{ref:V,onMouseDown:oe,onMouseUp:ge,children:e.renderDefault({...e,onEditorChange:ye,editorRef:x,rangeDecorations:be,onFullScreenChange:W})})]})});function PTn(e){return ng(e.schemaType)}function FTn(e){return PTn(e)?u.jsx(MTn,{...e}):e.renderDefault(e)}const NTn="https://snty.link/comments-beta-feedback",LTn=R.span`
  margin-right: 0.2em;
`,BTn=R.a`
  white-space: nowrap;
`,VTn=R(te)({position:"relative",zIndex:1});function zTn(){const{t:e}=Y(ei);return u.jsx(VTn,{padding:4,children:u.jsxs(N,{muted:!0,size:1,children:[e("feature-feedback.title")," ",u.jsxs(BTn,{href:NTn,target:"_blank",rel:"noreferrer",children:[u.jsxs(LTn,{children:[e("feature-feedback.link")," "]})," ",u.jsx(Qc,{})]})]})})}const UTn=R(te)({position:"relative",zIndex:1,lineHeight:0}),HTn=f.forwardRef(function(e,t){const{t:n}=Y(ei),{onClose:r,onViewChange:i,view:a,mode:o}=e,s=f.useCallback(()=>i("open"),[i]),l=f.useCallback(()=>i("resolved"),[i]);return u.jsx(UTn,{ref:t,children:u.jsxs(U,{padding:2,children:[u.jsx(U,{align:"center",flex:1,gap:2,paddingY:2,padding:3,children:u.jsx(N,{as:"h1",size:1,weight:"medium",children:n("feature-name")})}),u.jsxs(U,{flex:"none",padding:1,gap:2,children:[u.jsx(Kt,{id:"comment-status-menu-button",button:u.jsx(fe,{text:n(a==="open"?"status-filter.status-open":"status-filter.status-resolved"),mode:"bleed",iconRight:Ii}),menu:u.jsxs(Ot,{style:{width:"180px"},children:[u.jsx(We,{iconRight:a==="open"?_a:void 0,onClick:s,text:n("status-filter.status-open-full")}),u.jsx(We,{iconRight:a==="resolved"?_a:void 0,onClick:l,text:n("status-filter.status-resolved-full"),tooltipProps:o==="upsell"?{content:n("status-filter.status-resolved-full-upsell")}:void 0,disabled:o==="upsell"})]}),popover:{placement:"bottom-end"}}),u.jsx(fe,{"aria-label":n("close-pane-button-text-aria-label"),icon:Rr,mode:"bleed",onClick:r,tooltipProps:{content:n("close-pane-button-text")}})]})]})})}),WTn=R(Jo)`
  display: flex;
  flex-direction: column;
  height: 100%;
  overflow: hidden;
`;function GTn(e){const{enabled:t,mode:n}=om();return t?u.jsx(WTn,{children:u.jsx(YTn,{...e,mode:n})}):null}function YTn(e){const{t}=Y(ei),{onClose:n,mode:r}=e,[i,a]=f.useState(!1),[o,s]=f.useState(null),[l,c]=f.useState(!1),[d,h]=f.useState(null),p=f.useRef(null),m=Kn(),{comments:g,getComment:v,isCreatingDataset:b,mentionOptions:y,setStatus:x,status:w,operation:C,selectedCommentId:S,getCommentLink:_,onClearSelectedComment:E,onPathOpen:k}=DM(),T=f.useRef(S),j=f.useRef(!1),I=Pr().push,{isTopLayer:A}=Ds(),{scrollToComment:$,scrollToField:D,scrollToInlineComment:M}=lq(),{selectedPath:O,setSelectedPath:F}=uq(),{isDismissed:P,setDismissed:V}=C5n(),H=O5n(),{upsellData:W,telemetryLogs:G}=cq(),X=f.useMemo(()=>g.data[w],[g,w]),{loading:z}=g,q=f.useCallback(be=>{x(be),F(null),H.commentListViewChanged(be)},[F,x,H]),Z=f.useCallback(()=>{n(),F(null)},[n,F]),K=f.useMemo(()=>_?be=>{navigator.clipboard.writeText(_(be)).then(()=>{I({closable:!0,status:"info",title:t("copy-link-success-message")})}).catch(()=>{I({closable:!0,status:"error",title:t("copy-link-error-message")})}),H.commentLinkCopied()}:void 0,[_,I,t,H]),J=f.useCallback(be=>{var he;const ve=v(be);ve&&C.create({type:"field",fieldPath:((he=ve.target.path)==null?void 0:he.field)||"",id:ve._id,message:ve.message,parentCommentId:ve.parentCommentId,reactions:ve.reactions||[],status:ve.status,threadId:ve.threadId})},[v,C]),Q=f.useCallback(()=>{l||(a(!1),s(null))},[l]),re=f.useCallback(be=>{if(F(be),be!=null&&be.fieldPath){const he=el(be.fieldPath);k==null||k(he),D(be.fieldPath),g.data.open.filter(ve=>ve.threadId===(be==null?void 0:be.threadId)).some(ve=>Qb(ve.parentComment))&&be.threadId&&M(be.threadId)}},[g.data.open,k,D,M,F]),ae=f.useCallback(be=>{var he;const ve=((he=be==null?void 0:be.payload)==null?void 0:he.fieldPath)||"";C.create({type:"field",fieldPath:ve,message:be.message,parentCommentId:be.parentCommentId,reactions:be.reactions,status:be.status,threadId:be.threadId}),F({fieldPath:ve,origin:"inspector",threadId:be.threadId})},[C,F]),ne=f.useCallback(be=>{var he;C.create({...be,type:"field",fieldPath:((he=be==null?void 0:be.payload)==null?void 0:he.fieldPath)||""})},[C]),se=f.useCallback((be,he)=>{C.update(be,he)},[C]),le=f.useCallback(be=>{var he;const ve=X.find(Te=>{var Ge;return((Ge=Te.parentComment)==null?void 0:Ge._id)===be}),Ce=!!(ve&&((he=ve==null?void 0:ve.replies)==null?void 0:he.length)>0);a(!0),s({commentId:be,isParent:Ce})},[X]),oe=f.useCallback(async be=>{try{c(!0),await C.remove(be),Q()}catch(he){h(he)}finally{c(!1)}},[Q,C]),ge=f.useCallback((be,he)=>{var ve;if(C.update(be,{status:he}),he==="open"){x("open");const Ce=v(be);if(!Ce)return;F({fieldPath:((ve=Ce.target.path)==null?void 0:ve.field)||null,origin:"inspector",threadId:Ce.threadId||null}),$(be)}},[v,C,$,F,x]),_e=f.useCallback((be,he)=>{C.react(be,he)},[C]),Me=f.useCallback(()=>{O&&A&&F(null)},[A,O,F]);yn(be=>{var he;be.target instanceof HTMLElement&&(he=be.target)!=null&&he.hasAttribute("data-slate-string")||Me()},()=>[p.current]);const[me,ye]=f.useState(!1);f.useEffect(()=>{if(!(me||r!=="upsell"))return ye(!0),(O==null?void 0:O.origin)==="form"?G.panelViewed("field_action"):T.current?G.panelViewed("link"):G.panelViewed("document_action"),()=>{G.panelDismissed()}},[me,r,O==null?void 0:O.origin,G]),f.useEffect(()=>{var be;const he=v(T.current||"");!z&&he&&j.current===!1&&(x(he.status||"open"),F({fieldPath:((be=he.target.path)==null?void 0:be.field)||null,origin:"url",threadId:he.threadId||null}),$(he._id),j.current=!0,T.current=void 0,E==null||E(),H.commentViewedFromLink())},[v,z,E,$,F,x,H]);const De=f.useMemo(()=>r==="upsell"&&W?u.jsx(G8n,{data:W,onPrimaryClick:G.panelPrimaryClicked,onSecondaryClick:G.panelSecondaryClicked}):null,[r,G.panelPrimaryClicked,G.panelSecondaryClicked,W]);return u.jsxs(f.Fragment,{children:[o&&i&&u.jsx(u3e,{...o,error:d,loading:l,onClose:Q,onConfirm:oe}),u.jsxs(U,{direction:"column",flex:1,height:"fill",onClick:Me,overflow:"hidden",ref:p,children:[u.jsx(W8n,{onDismiss:V,open:!P,placement:"left-start",children:u.jsx(HTn,{onClose:Z,onViewChange:q,view:w,mode:r})}),m&&u.jsx(V8n,{beforeListNode:De,comments:X,currentUser:m,error:g.error,loading:z,mentionOptions:y,mode:r,onCopyLink:K,onCreateRetry:J,onDelete:le,onEdit:se,onNewThreadCreate:ae,onPathSelect:re,onReactionSelect:_e,onReply:ne,onStatusChange:ge,readOnly:b,selectedPath:O,status:w}),r==="default"&&u.jsx(zTn,{})]})]})}function qTn(){const{t:e}=Y(ei),{enabled:t}=om();return{hidden:!t,icon:sD,showAsAction:!0,title:e("feature-name")}}const KTn={name:Vw,component:GTn,useMenuItem:qTn};function ZTn(e){const{enabled:t,isLoading:n}=P_("studioComments");return u.jsx(XRe,{children:u.jsx(K5n,{children:u.jsx(db,{condition:!t&&!n,wrapper:r=>u.jsx(cTn,{children:r}),children:e.renderDefault(e)})})})}const XTn=Lb({name:"sanity/comments",document:{inspectors:[KTn],components:{unstable_layout:dTn}},form:{components:{field:gTn,input:FTn}},studio:{components:{layout:ZTn}},i18n:{bundles:[wkn]}}),aRe="scheduled-publishing::time-zone",xI={publish:{actionName:"Publishing",badgeColor:"primary",badgeTone:"positive"},unpublish:{actionName:"Unpublishing",badgeColor:"danger",badgeTone:"critical"}},YS={scheduled:{title:"Upcoming"},succeeded:{title:"Completed"},cancelled:{title:"Failed"}},qS=Object.keys(YS).filter(e=>!!e),oRe=55,JTn="This document has validation warnings.",fq="This document has validation errors that should be resolved before its publish date.",QTn="This schedule failed to run.",eAn="Forbidden. Please check that your project has access to Scheduled Publishing.",U1={SMALL:"d MMM yy',' p",MEDIUM:"d MMMM yyyy',' p",LARGE:"iiii',' d MMMM yyyy',' p"},tAn={enabled:!0,inputDateTimeFormat:"dd/MM/yyyy HH:mm"},nAn="schedules",rAn="Schedules",sRe=e=>{const{description:t,title:n}=e;return u.jsx(te,{overflow:"hidden",padding:4,radius:2,shadow:1,tone:"critical",children:u.jsxs(U,{align:"center",gap:4,children:[u.jsx(N,{size:2,children:u.jsx(Ea,{})}),u.jsxs(An,{space:2,children:[u.jsx(N,{size:1,weight:"semibold",children:n}),t&&u.jsx(N,{size:1,children:t})]})]})})};var iAn=[{name:"Pacific/Niue",alternativeName:"Niue Time",group:["Pacific/Niue"],continentCode:"OC",continentName:"Oceania",countryName:"Niue",countryCode:"NU",mainCities:["Alofi"],rawOffsetInMinutes:-660,abbreviation:"NUT",rawFormat:"-11:00 Niue Time - Alofi"},{name:"Pacific/Midway",alternativeName:"Samoa Time",group:["Pacific/Midway"],continentCode:"OC",continentName:"Oceania",countryName:"United States Minor Outlying Islands",countryCode:"UM",mainCities:["Midway"],rawOffsetInMinutes:-660,abbreviation:"SST",rawFormat:"-11:00 Samoa Time - Midway"},{name:"Pacific/Pago_Pago",alternativeName:"Samoa Time",group:["Pacific/Pago_Pago","US/Samoa","Pacific/Samoa","Pacific/Midway"],continentCode:"OC",continentName:"Oceania",countryName:"American Samoa",countryCode:"AS",mainCities:["Pago Pago"],rawOffsetInMinutes:-660,abbreviation:"SST",rawFormat:"-11:00 Samoa Time - Pago Pago"},{name:"Pacific/Rarotonga",alternativeName:"Cook Islands Time",group:["Pacific/Rarotonga"],continentCode:"OC",continentName:"Oceania",countryName:"Cook Islands",countryCode:"CK",mainCities:["Avarua"],rawOffsetInMinutes:-600,abbreviation:"CKT",rawFormat:"-10:00 Cook Islands Time - Avarua"},{name:"America/Adak",alternativeName:"Hawaii-Aleutian Time",group:["America/Adak","US/Aleutian","America/Atka"],continentCode:"NA",continentName:"North America",countryName:"United States",countryCode:"US",mainCities:["Adak"],rawOffsetInMinutes:-600,abbreviation:"HAST",rawFormat:"-10:00 Hawaii-Aleutian Time - Adak"},{name:"Pacific/Honolulu",alternativeName:"Hawaii-Aleutian Time",group:["Pacific/Honolulu","US/Hawaii","Pacific/Johnston"],continentCode:"NA",continentName:"North America",countryName:"United States",countryCode:"US",mainCities:["Honolulu","East Honolulu","Pearl City","Hilo"],rawOffsetInMinutes:-600,abbreviation:"HAST",rawFormat:"-10:00 Hawaii-Aleutian Time - Honolulu, East Honolulu, Pearl City, Hilo"},{name:"Pacific/Tahiti",alternativeName:"Tahiti Time",group:["Pacific/Tahiti"],continentCode:"OC",continentName:"Oceania",countryName:"French Polynesia",countryCode:"PF",mainCities:["Faaa","Papeete","Punaauia"],rawOffsetInMinutes:-600,abbreviation:"TAHT",rawFormat:"-10:00 Tahiti Time - Faaa, Papeete, Punaauia"},{name:"Pacific/Marquesas",alternativeName:"Marquesas Time",group:["Pacific/Marquesas"],continentCode:"OC",continentName:"Oceania",countryName:"French Polynesia",countryCode:"PF",mainCities:["Marquesas"],rawOffsetInMinutes:-570,abbreviation:"MART",rawFormat:"-09:30 Marquesas Time - Marquesas"},{name:"America/Anchorage",alternativeName:"Alaska Time",group:["America/Anchorage","America/Juneau","America/Metlakatla","America/Nome","America/Sitka","America/Yakutat","US/Alaska"],continentCode:"NA",continentName:"North America",countryName:"United States",countryCode:"US",mainCities:["Anchorage","Juneau","Fairbanks","Eagle River"],rawOffsetInMinutes:-540,abbreviation:"AKST",rawFormat:"-09:00 Alaska Time - Anchorage, Juneau, Fairbanks, Eagle River"},{name:"Pacific/Gambier",alternativeName:"Gambier Time",group:["Pacific/Gambier"],continentCode:"OC",continentName:"Oceania",countryName:"French Polynesia",countryCode:"PF",mainCities:["Gambier"],rawOffsetInMinutes:-540,abbreviation:"GAMT",rawFormat:"-09:00 Gambier Time - Gambier"},{name:"America/Los_Angeles",alternativeName:"Pacific Time",group:["America/Los_Angeles","US/Pacific"],continentCode:"NA",continentName:"North America",countryName:"United States",countryCode:"US",mainCities:["Los Angeles","San Diego","San Jose","San Francisco"],rawOffsetInMinutes:-480,abbreviation:"PST",rawFormat:"-08:00 Pacific Time - Los Angeles, San Diego, San Jose, San Francisco"},{name:"America/Tijuana",alternativeName:"Pacific Time",group:["America/Tijuana","Mexico/BajaNorte","America/Ensenada","America/Santa_Isabel"],continentCode:"NA",continentName:"North America",countryName:"Mexico",countryCode:"MX",mainCities:["Tijuana","Mexicali","Ensenada","Rosarito"],rawOffsetInMinutes:-480,abbreviation:"PST",rawFormat:"-08:00 Pacific Time - Tijuana, Mexicali, Ensenada, Rosarito"},{name:"America/Vancouver",alternativeName:"Pacific Time",group:["America/Vancouver","Canada/Pacific"],continentCode:"NA",continentName:"North America",countryName:"Canada",countryCode:"CA",mainCities:["Vancouver","Surrey","Okanagan","Victoria"],rawOffsetInMinutes:-480,abbreviation:"PST",rawFormat:"-08:00 Pacific Time - Vancouver, Surrey, Okanagan, Victoria"},{name:"Pacific/Pitcairn",alternativeName:"Pitcairn Time",group:["Pacific/Pitcairn"],continentCode:"OC",continentName:"Oceania",countryName:"Pitcairn",countryCode:"PN",mainCities:["Adamstown"],rawOffsetInMinutes:-480,abbreviation:"PST",rawFormat:"-08:00 Pitcairn Time - Adamstown"},{name:"America/Hermosillo",alternativeName:"Mexican Pacific Time",group:["America/Hermosillo","America/Mazatlan","Mexico/BajaSur"],continentCode:"NA",continentName:"North America",countryName:"Mexico",countryCode:"MX",mainCities:["Hermosillo","Culiacán","Ciudad Obregón","Mazatlán"],rawOffsetInMinutes:-420,abbreviation:"GMT-7",rawFormat:"-07:00 Mexican Pacific Time - Hermosillo, Culiacán, Ciudad Obregón, Mazatlán"},{name:"America/Edmonton",alternativeName:"Mountain Time",group:["America/Cambridge_Bay","America/Edmonton","America/Inuvik","America/Yellowknife","Canada/Mountain"],continentCode:"NA",continentName:"North America",countryName:"Canada",countryCode:"CA",mainCities:["Calgary","Edmonton","Red Deer","Sherwood Park"],rawOffsetInMinutes:-420,abbreviation:"MST",rawFormat:"-07:00 Mountain Time - Calgary, Edmonton, Red Deer, Sherwood Park"},{name:"America/Ciudad_Juarez",alternativeName:"Mountain Time",group:["America/Ciudad_Juarez"],continentCode:"NA",continentName:"North America",countryName:"Mexico",countryCode:"MX",mainCities:["Ciudad Juárez"],rawOffsetInMinutes:-420,abbreviation:"MST",rawFormat:"-07:00 Mountain Time - Ciudad Juárez"},{name:"America/Denver",alternativeName:"Mountain Time",group:["America/Boise","America/Denver","Navajo","US/Mountain","America/Shiprock"],continentCode:"NA",continentName:"North America",countryName:"United States",countryCode:"US",mainCities:["Denver","El Paso","Albuquerque","Colorado Springs"],rawOffsetInMinutes:-420,abbreviation:"MST",rawFormat:"-07:00 Mountain Time - Denver, El Paso, Albuquerque, Colorado Springs"},{name:"America/Phoenix",alternativeName:"Mountain Time",group:["America/Phoenix","US/Arizona","America/Creston"],continentCode:"NA",continentName:"North America",countryName:"United States",countryCode:"US",mainCities:["Phoenix","Tucson","Mesa","Chandler"],rawOffsetInMinutes:-420,abbreviation:"MST",rawFormat:"-07:00 Mountain Time - Phoenix, Tucson, Mesa, Chandler"},{name:"America/Whitehorse",alternativeName:"Yukon Time",group:["America/Creston","America/Dawson","America/Dawson_Creek","America/Fort_Nelson","America/Whitehorse","Canada/Yukon"],continentCode:"NA",continentName:"North America",countryName:"Canada",countryCode:"CA",mainCities:["Whitehorse","Fort St. John","Creston","Dawson"],rawOffsetInMinutes:-420,abbreviation:"YT",rawFormat:"-07:00 Yukon Time - Whitehorse, Fort St. John, Creston, Dawson"},{name:"America/Belize",alternativeName:"Central Time",group:["America/Belize"],continentCode:"NA",continentName:"North America",countryName:"Belize",countryCode:"BZ",mainCities:["Belize City","San Ignacio","San Pedro","Orange Walk"],rawOffsetInMinutes:-360,abbreviation:"CST",rawFormat:"-06:00 Central Time - Belize City, San Ignacio, San Pedro, Orange Walk"},{name:"America/Chicago",alternativeName:"Central Time",group:["America/Chicago","America/Indiana/Knox","America/Indiana/Tell_City","America/Menominee","America/North_Dakota/Beulah","America/North_Dakota/Center","America/North_Dakota/New_Salem","US/Central","US/Indiana-Starke","America/Knox_IN"],continentCode:"NA",continentName:"North America",countryName:"United States",countryCode:"US",mainCities:["Chicago","Houston","San Antonio","Dallas"],rawOffsetInMinutes:-360,abbreviation:"CST",rawFormat:"-06:00 Central Time - Chicago, Houston, San Antonio, Dallas"},{name:"America/Guatemala",alternativeName:"Central Time",group:["America/Guatemala"],continentCode:"NA",continentName:"North America",countryName:"Guatemala",countryCode:"GT",mainCities:["Guatemala City","Villa Nueva","Mixco","Cobán"],rawOffsetInMinutes:-360,abbreviation:"CST",rawFormat:"-06:00 Central Time - Guatemala City, Villa Nueva, Mixco, Cobán"},{name:"America/Managua",alternativeName:"Central Time",group:["America/Managua"],continentCode:"NA",continentName:"North America",countryName:"Nicaragua",countryCode:"NI",mainCities:["Managua","León","Masaya","Chinandega"],rawOffsetInMinutes:-360,abbreviation:"CST",rawFormat:"-06:00 Central Time - Managua, León, Masaya, Chinandega"},{name:"America/Mexico_City",alternativeName:"Central Time",group:["America/Bahia_Banderas","America/Chihuahua","America/Merida","America/Mexico_City","America/Monterrey","Mexico/General"],continentCode:"NA",continentName:"North America",countryName:"Mexico",countryCode:"MX",mainCities:["Mexico City","Iztapalapa","León de los Aldama","Puebla"],rawOffsetInMinutes:-360,abbreviation:"CST",rawFormat:"-06:00 Central Time - Mexico City, Iztapalapa, León de los Aldama, Puebla"},{name:"America/Matamoros",alternativeName:"Central Time",group:["America/Matamoros","America/Ojinaga"],continentCode:"NA",continentName:"North America",countryName:"Mexico",countryCode:"MX",mainCities:["Reynosa","Heroica Matamoros","Nuevo Laredo","Piedras Negras"],rawOffsetInMinutes:-360,abbreviation:"CST",rawFormat:"-06:00 Central Time - Reynosa, Heroica Matamoros, Nuevo Laredo, Piedras Negras"},{name:"America/Costa_Rica",alternativeName:"Central Time",group:["America/Costa_Rica"],continentCode:"NA",continentName:"North America",countryName:"Costa Rica",countryCode:"CR",mainCities:["San José","Limón","San Francisco","Alajuela"],rawOffsetInMinutes:-360,abbreviation:"CST",rawFormat:"-06:00 Central Time - San José, Limón, San Francisco, Alajuela"},{name:"America/El_Salvador",alternativeName:"Central Time",group:["America/El_Salvador"],continentCode:"NA",continentName:"North America",countryName:"El Salvador",countryCode:"SV",mainCities:["San Salvador","Soyapango","San Miguel","Santa Ana"],rawOffsetInMinutes:-360,abbreviation:"CST",rawFormat:"-06:00 Central Time - San Salvador, Soyapango, San Miguel, Santa Ana"},{name:"America/Regina",alternativeName:"Central Time",group:["America/Regina","America/Swift_Current","Canada/Saskatchewan"],continentCode:"NA",continentName:"North America",countryName:"Canada",countryCode:"CA",mainCities:["Saskatoon","Regina","Prince Albert","Moose Jaw"],rawOffsetInMinutes:-360,abbreviation:"CST",rawFormat:"-06:00 Central Time - Saskatoon, Regina, Prince Albert, Moose Jaw"},{name:"America/Tegucigalpa",alternativeName:"Central Time",group:["America/Tegucigalpa"],continentCode:"NA",continentName:"North America",countryName:"Honduras",countryCode:"HN",mainCities:["Tegucigalpa","San Pedro Sula","La Ceiba","Choloma"],rawOffsetInMinutes:-360,abbreviation:"CST",rawFormat:"-06:00 Central Time - Tegucigalpa, San Pedro Sula, La Ceiba, Choloma"},{name:"America/Winnipeg",alternativeName:"Central Time",group:["America/Rankin_Inlet","America/Resolute","America/Winnipeg","Canada/Central","America/Rainy_River"],continentCode:"NA",continentName:"North America",countryName:"Canada",countryCode:"CA",mainCities:["Winnipeg","Brandon","Steinbach","Kenora"],rawOffsetInMinutes:-360,abbreviation:"CST",rawFormat:"-06:00 Central Time - Winnipeg, Brandon, Steinbach, Kenora"},{name:"Pacific/Easter",alternativeName:"Easter Island Time",group:["Pacific/Easter","Chile/EasterIsland"],continentCode:"SA",continentName:"South America",countryName:"Chile",countryCode:"CL",mainCities:["Easter"],rawOffsetInMinutes:-360,abbreviation:"EAST",rawFormat:"-06:00 Easter Island Time - Easter"},{name:"Pacific/Galapagos",alternativeName:"Galapagos Time",group:["Pacific/Galapagos"],continentCode:"SA",continentName:"South America",countryName:"Ecuador",countryCode:"EC",mainCities:["Galapagos"],rawOffsetInMinutes:-360,abbreviation:"GALT",rawFormat:"-06:00 Galapagos Time - Galapagos"},{name:"America/Rio_Branco",alternativeName:"Acre Time",group:["America/Eirunepe","America/Rio_Branco","Brazil/Acre","America/Porto_Acre"],continentCode:"SA",continentName:"South America",countryName:"Brazil",countryCode:"BR",mainCities:["Rio Branco","Cruzeiro do Sul","Senador Guiomard","Sena Madureira"],rawOffsetInMinutes:-300,abbreviation:"ACT",rawFormat:"-05:00 Acre Time - Rio Branco, Cruzeiro do Sul, Senador Guiomard, Sena Madureira"},{name:"America/Bogota",alternativeName:"Colombia Time",group:["America/Bogota"],continentCode:"SA",continentName:"South America",countryName:"Colombia",countryCode:"CO",mainCities:["Bogotá","Cali","Medellín","Barranquilla"],rawOffsetInMinutes:-300,abbreviation:"COT",rawFormat:"-05:00 Colombia Time - Bogotá, Cali, Medellín, Barranquilla"},{name:"America/Havana",alternativeName:"Cuba Time",group:["America/Havana","Cuba"],continentCode:"NA",continentName:"North America",countryName:"Cuba",countryCode:"CU",mainCities:["Havana","Santiago de Cuba","Camagüey","Holguín"],rawOffsetInMinutes:-300,abbreviation:"CST",rawFormat:"-05:00 Cuba Time - Havana, Santiago de Cuba, Camagüey, Holguín"},{name:"America/Atikokan",alternativeName:"Eastern Time",group:["America/Atikokan"],continentCode:"NA",continentName:"North America",countryName:"Canada",countryCode:"CA",mainCities:["Atikokan"],rawOffsetInMinutes:-300,abbreviation:"EST",rawFormat:"-05:00 Eastern Time - Atikokan"},{name:"America/Cancun",alternativeName:"Eastern Time",group:["America/Cancun"],continentCode:"NA",continentName:"North America",countryName:"Mexico",countryCode:"MX",mainCities:["Cancún","Chetumal","Playa del Carmen","Cozumel"],rawOffsetInMinutes:-300,abbreviation:"EST",rawFormat:"-05:00 Eastern Time - Cancún, Chetumal, Playa del Carmen, Cozumel"},{name:"America/Grand_Turk",alternativeName:"Eastern Time",group:["America/Grand_Turk"],continentCode:"NA",continentName:"North America",countryName:"Turks and Caicos Islands",countryCode:"TC",mainCities:["Cockburn Town"],rawOffsetInMinutes:-300,abbreviation:"EST",rawFormat:"-05:00 Eastern Time - Cockburn Town"},{name:"America/Cayman",alternativeName:"Eastern Time",group:["America/Cayman"],continentCode:"NA",continentName:"North America",countryName:"Cayman Islands",countryCode:"KY",mainCities:["George Town","West Bay"],rawOffsetInMinutes:-300,abbreviation:"EST",rawFormat:"-05:00 Eastern Time - George Town, West Bay"},{name:"America/Jamaica",alternativeName:"Eastern Time",group:["America/Jamaica","Jamaica"],continentCode:"NA",continentName:"North America",countryName:"Jamaica",countryCode:"JM",mainCities:["Kingston","New Kingston","Spanish Town","Portmore"],rawOffsetInMinutes:-300,abbreviation:"EST",rawFormat:"-05:00 Eastern Time - Kingston, New Kingston, Spanish Town, Portmore"},{name:"America/Nassau",alternativeName:"Eastern Time",group:["America/Nassau"],continentCode:"NA",continentName:"North America",countryName:"Bahamas",countryCode:"BS",mainCities:["Nassau","Lucaya","Freeport","Killarney"],rawOffsetInMinutes:-300,abbreviation:"EST",rawFormat:"-05:00 Eastern Time - Nassau, Lucaya, Freeport, Killarney"},{name:"America/New_York",alternativeName:"Eastern Time",group:["America/Detroit","America/Indiana/Indianapolis","America/Indiana/Marengo","America/Indiana/Petersburg","America/Indiana/Vevay","America/Indiana/Vincennes","America/Indiana/Winamac","America/Kentucky/Louisville","America/Kentucky/Monticello","America/New_York","US/Michigan","US/East-Indiana","America/Indianapolis","America/Fort_Wayne","America/Louisville","US/Eastern"],continentCode:"NA",continentName:"North America",countryName:"United States",countryCode:"US",mainCities:["New York City","Brooklyn","Queens","Philadelphia"],rawOffsetInMinutes:-300,abbreviation:"EST",rawFormat:"-05:00 Eastern Time - New York City, Brooklyn, Queens, Philadelphia"},{name:"America/Panama",alternativeName:"Eastern Time",group:["America/Panama","America/Atikokan","America/Cayman","America/Coral_Harbour"],continentCode:"NA",continentName:"North America",countryName:"Panama",countryCode:"PA",mainCities:["Panamá","San Miguelito","Juan Díaz","David"],rawOffsetInMinutes:-300,abbreviation:"EST",rawFormat:"-05:00 Eastern Time - Panamá, San Miguelito, Juan Díaz, David"},{name:"America/Port-au-Prince",alternativeName:"Eastern Time",group:["America/Port-au-Prince"],continentCode:"NA",continentName:"North America",countryName:"Haiti",countryCode:"HT",mainCities:["Port-au-Prince","Carrefour","Delmas 73","Port-de-Paix"],rawOffsetInMinutes:-300,abbreviation:"EST",rawFormat:"-05:00 Eastern Time - Port-au-Prince, Carrefour, Delmas 73, Port-de-Paix"},{name:"America/Toronto",alternativeName:"Eastern Time",group:["America/Iqaluit","America/Toronto","America/Pangnirtung","Canada/Eastern","America/Nassau","America/Montreal","America/Nipigon","America/Thunder_Bay"],continentCode:"NA",continentName:"North America",countryName:"Canada",countryCode:"CA",mainCities:["Toronto","Montréal","Ottawa","Mississauga"],rawOffsetInMinutes:-300,abbreviation:"EST",rawFormat:"-05:00 Eastern Time - Toronto, Montréal, Ottawa, Mississauga"},{name:"America/Guayaquil",alternativeName:"Ecuador Time",group:["America/Guayaquil"],continentCode:"SA",continentName:"South America",countryName:"Ecuador",countryCode:"EC",mainCities:["Quito","Guayaquil","Cuenca","Santo Domingo de los Colorados"],rawOffsetInMinutes:-300,abbreviation:"ECT",rawFormat:"-05:00 Ecuador Time - Quito, Guayaquil, Cuenca, Santo Domingo de los Colorados"},{name:"America/Lima",alternativeName:"Peru Time",group:["America/Lima"],continentCode:"SA",continentName:"South America",countryName:"Peru",countryCode:"PE",mainCities:["Lima","Callao","Arequipa","Trujillo"],rawOffsetInMinutes:-300,abbreviation:"PET",rawFormat:"-05:00 Peru Time - Lima, Callao, Arequipa, Trujillo"},{name:"America/Manaus",alternativeName:"Amazon Time",group:["America/Boa_Vista","America/Campo_Grande","America/Cuiaba","America/Manaus","America/Porto_Velho","Brazil/West"],continentCode:"SA",continentName:"South America",countryName:"Brazil",countryCode:"BR",mainCities:["Manaus","Campo Grande","Cuiabá","Porto Velho"],rawOffsetInMinutes:-240,abbreviation:"AMT",rawFormat:"-04:00 Amazon Time - Manaus, Campo Grande, Cuiabá, Porto Velho"},{name:"America/St_Kitts",alternativeName:"Atlantic Time",group:["America/St_Kitts"],continentCode:"NA",continentName:"North America",countryName:"Saint Kitts and Nevis",countryCode:"KN",mainCities:["Basseterre"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Basseterre"},{name:"America/Blanc-Sablon",alternativeName:"Atlantic Time",group:["America/Blanc-Sablon"],continentCode:"NA",continentName:"North America",countryName:"Canada",countryCode:"CA",mainCities:["Blanc-Sablon"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Blanc-Sablon"},{name:"America/Montserrat",alternativeName:"Atlantic Time",group:["America/Montserrat"],continentCode:"NA",continentName:"North America",countryName:"Montserrat",countryCode:"MS",mainCities:["Brades","Plymouth"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Brades, Plymouth"},{name:"America/Barbados",alternativeName:"Atlantic Time",group:["America/Barbados"],continentCode:"NA",continentName:"North America",countryName:"Barbados",countryCode:"BB",mainCities:["Bridgetown"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Bridgetown"},{name:"America/Port_of_Spain",alternativeName:"Atlantic Time",group:["America/Port_of_Spain"],continentCode:"NA",continentName:"North America",countryName:"Trinidad and Tobago",countryCode:"TT",mainCities:["Chaguanas","Mon Repos","San Fernando","Port of Spain"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Chaguanas, Mon Repos, San Fernando, Port of Spain"},{name:"America/Martinique",alternativeName:"Atlantic Time",group:["America/Martinique"],continentCode:"NA",continentName:"North America",countryName:"Martinique",countryCode:"MQ",mainCities:["Fort-de-France","Le Lamentin","Le Robert","Sainte-Marie"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Fort-de-France, Le Lamentin, Le Robert, Sainte-Marie"},{name:"America/St_Lucia",alternativeName:"Atlantic Time",group:["America/St_Lucia"],continentCode:"NA",continentName:"North America",countryName:"Saint Lucia",countryCode:"LC",mainCities:["Gros Islet","Castries"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Gros Islet, Castries"},{name:"America/St_Barthelemy",alternativeName:"Atlantic Time",group:["America/St_Barthelemy"],continentCode:"NA",continentName:"North America",countryName:"Saint Barthelemy",countryCode:"BL",mainCities:["Gustavia"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Gustavia"},{name:"America/Halifax",alternativeName:"Atlantic Time",group:["America/Glace_Bay","America/Goose_Bay","America/Halifax","America/Moncton","Canada/Atlantic"],continentCode:"NA",continentName:"North America",countryName:"Canada",countryCode:"CA",mainCities:["Halifax","Moncton","Sydney","Dartmouth"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Halifax, Moncton, Sydney, Dartmouth"},{name:"Atlantic/Bermuda",alternativeName:"Atlantic Time",group:["Atlantic/Bermuda"],continentCode:"NA",continentName:"North America",countryName:"Bermuda",countryCode:"BM",mainCities:["Hamilton"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Hamilton"},{name:"America/St_Vincent",alternativeName:"Atlantic Time",group:["America/St_Vincent"],continentCode:"NA",continentName:"North America",countryName:"Saint Vincent and the Grenadines",countryCode:"VC",mainCities:["Kingstown"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Kingstown"},{name:"America/Kralendijk",alternativeName:"Atlantic Time",group:["America/Kralendijk"],continentCode:"NA",continentName:"North America",countryName:"Bonaire, Saint Eustatius and Saba ",countryCode:"BQ",mainCities:["Kralendijk"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Kralendijk"},{name:"America/Guadeloupe",alternativeName:"Atlantic Time",group:["America/Guadeloupe"],continentCode:"NA",continentName:"North America",countryName:"Guadeloupe",countryCode:"GP",mainCities:["Les Abymes","Baie-Mahault","Le Gosier","Petit-Bourg"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Les Abymes, Baie-Mahault, Le Gosier, Petit-Bourg"},{name:"America/Marigot",alternativeName:"Atlantic Time",group:["America/Marigot"],continentCode:"NA",continentName:"North America",countryName:"Saint Martin",countryCode:"MF",mainCities:["Marigot"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Marigot"},{name:"America/Aruba",alternativeName:"Atlantic Time",group:["America/Aruba"],continentCode:"NA",continentName:"North America",countryName:"Aruba",countryCode:"AW",mainCities:["Oranjestad","Noord","Tanki Leendert","San Nicolas"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Oranjestad, Noord, Tanki Leendert, San Nicolas"},{name:"America/Lower_Princes",alternativeName:"Atlantic Time",group:["America/Lower_Princes"],continentCode:"NA",continentName:"North America",countryName:"Sint Maarten",countryCode:"SX",mainCities:["Philipsburg"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Philipsburg"},{name:"America/Tortola",alternativeName:"Atlantic Time",group:["America/Tortola"],continentCode:"NA",continentName:"North America",countryName:"British Virgin Islands",countryCode:"VG",mainCities:["Road Town"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Road Town"},{name:"America/Dominica",alternativeName:"Atlantic Time",group:["America/Dominica"],continentCode:"NA",continentName:"North America",countryName:"Dominica",countryCode:"DM",mainCities:["Roseau"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Roseau"},{name:"America/St_Thomas",alternativeName:"Atlantic Time",group:["America/St_Thomas"],continentCode:"NA",continentName:"North America",countryName:"U.S. Virgin Islands",countryCode:"VI",mainCities:["Saint Croix","Charlotte Amalie"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Saint Croix, Charlotte Amalie"},{name:"America/Grenada",alternativeName:"Atlantic Time",group:["America/Grenada"],continentCode:"NA",continentName:"North America",countryName:"Grenada",countryCode:"GD",mainCities:["Saint George's"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Saint George's"},{name:"America/Antigua",alternativeName:"Atlantic Time",group:["America/Antigua"],continentCode:"NA",continentName:"North America",countryName:"Antigua and Barbuda",countryCode:"AG",mainCities:["Saint John’s"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Saint John’s"},{name:"America/Puerto_Rico",alternativeName:"Atlantic Time",group:["America/Puerto_Rico","America/Virgin","America/Anguilla","America/Antigua","America/Aruba","America/Blanc-Sablon","America/Curacao","America/Dominica","America/Grenada","America/Guadeloupe","America/Kralendijk","America/Lower_Princes","America/Marigot","America/Montserrat","America/Port_of_Spain","America/St_Barthelemy","America/St_Kitts","America/St_Lucia","America/St_Thomas","America/St_Vincent","America/Tortola"],continentCode:"NA",continentName:"North America",countryName:"Puerto Rico",countryCode:"PR",mainCities:["San Juan","Bayamón","Carolina","Ponce"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - San Juan, Bayamón, Carolina, Ponce"},{name:"America/Santo_Domingo",alternativeName:"Atlantic Time",group:["America/Santo_Domingo"],continentCode:"NA",continentName:"North America",countryName:"Dominican Republic",countryCode:"DO",mainCities:["Santo Domingo","Santiago de los Caballeros","Santo Domingo Oeste","Santo Domingo Este"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Santo Domingo, Santiago de los Caballeros, Santo Domingo Oeste, Santo Domingo Este"},{name:"America/Anguilla",alternativeName:"Atlantic Time",group:["America/Anguilla"],continentCode:"NA",continentName:"North America",countryName:"Anguilla",countryCode:"AI",mainCities:["The Valley"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - The Valley"},{name:"America/Thule",alternativeName:"Atlantic Time",group:["America/Thule"],continentCode:"NA",continentName:"North America",countryName:"Greenland",countryCode:"GL",mainCities:["Thule"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Thule"},{name:"America/Curacao",alternativeName:"Atlantic Time",group:["America/Curacao"],continentCode:"NA",continentName:"North America",countryName:"Curacao",countryCode:"CW",mainCities:["Willemstad"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Willemstad"},{name:"America/La_Paz",alternativeName:"Bolivia Time",group:["America/La_Paz"],continentCode:"SA",continentName:"South America",countryName:"Bolivia",countryCode:"BO",mainCities:["La Paz","Santa Cruz de la Sierra","Cochabamba","Sucre"],rawOffsetInMinutes:-240,abbreviation:"BOT",rawFormat:"-04:00 Bolivia Time - La Paz, Santa Cruz de la Sierra, Cochabamba, Sucre"},{name:"America/Santiago",alternativeName:"Chile Time",group:["America/Santiago","Chile/Continental"],continentCode:"SA",continentName:"South America",countryName:"Chile",countryCode:"CL",mainCities:["Santiago","Puente Alto","Antofagasta","Viña del Mar"],rawOffsetInMinutes:-240,abbreviation:"CLT",rawFormat:"-04:00 Chile Time - Santiago, Puente Alto, Antofagasta, Viña del Mar"},{name:"America/Guyana",alternativeName:"Guyana Time",group:["America/Guyana"],continentCode:"SA",continentName:"South America",countryName:"Guyana",countryCode:"GY",mainCities:["Georgetown","Linden","New Amsterdam"],rawOffsetInMinutes:-240,abbreviation:"GYT",rawFormat:"-04:00 Guyana Time - Georgetown, Linden, New Amsterdam"},{name:"America/Asuncion",alternativeName:"Paraguay Time",group:["America/Asuncion"],continentCode:"SA",continentName:"South America",countryName:"Paraguay",countryCode:"PY",mainCities:["Asunción","Ciudad del Este","San Lorenzo","Capiatá"],rawOffsetInMinutes:-240,abbreviation:"PYT",rawFormat:"-04:00 Paraguay Time - Asunción, Ciudad del Este, San Lorenzo, Capiatá"},{name:"America/Caracas",alternativeName:"Venezuela Time",group:["America/Caracas"],continentCode:"SA",continentName:"South America",countryName:"Venezuela",countryCode:"VE",mainCities:["Caracas","Maracaibo","Maracay","Valencia"],rawOffsetInMinutes:-240,abbreviation:"VET",rawFormat:"-04:00 Venezuela Time - Caracas, Maracaibo, Maracay, Valencia"},{name:"America/St_Johns",alternativeName:"Newfoundland Time",group:["America/St_Johns","Canada/Newfoundland"],continentCode:"NA",continentName:"North America",countryName:"Canada",countryCode:"CA",mainCities:["St. John's","Mount Pearl","Corner Brook","Conception Bay South"],rawOffsetInMinutes:-210,abbreviation:"NST",rawFormat:"-03:30 Newfoundland Time - St. John's, Mount Pearl, Corner Brook, Conception Bay South"},{name:"America/Argentina/Buenos_Aires",alternativeName:"Argentina Time",group:["America/Argentina/Buenos_Aires","America/Argentina/Catamarca","America/Argentina/Cordoba","America/Argentina/Jujuy","America/Argentina/La_Rioja","America/Argentina/Mendoza","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Buenos_Aires","America/Catamarca","America/Argentina/ComodRivadavia","America/Cordoba","America/Rosario","America/Jujuy","America/Mendoza"],continentCode:"SA",continentName:"South America",countryName:"Argentina",countryCode:"AR",mainCities:["Buenos Aires","Córdoba","Rosario","Mar del Plata"],rawOffsetInMinutes:-180,abbreviation:"ART",rawFormat:"-03:00 Argentina Time - Buenos Aires, Córdoba, Rosario, Mar del Plata"},{name:"America/Sao_Paulo",alternativeName:"Brasilia Time",group:["America/Araguaina","America/Bahia","America/Belem","America/Fortaleza","America/Maceio","America/Recife","America/Santarem","America/Sao_Paulo","Brazil/East"],continentCode:"SA",continentName:"South America",countryName:"Brazil",countryCode:"BR",mainCities:["São Paulo","Rio de Janeiro","Belo Horizonte","Salvador"],rawOffsetInMinutes:-180,abbreviation:"BRT",rawFormat:"-03:00 Brasilia Time - São Paulo, Rio de Janeiro, Belo Horizonte, Salvador"},{name:"Antarctica/Palmer",alternativeName:"Chile Time",group:["Antarctica/Palmer","Antarctica/Rothera"],continentCode:"AN",continentName:"Antarctica",countryName:"Antarctica",countryCode:"AQ",mainCities:["Palmer","Rothera"],rawOffsetInMinutes:-180,abbreviation:"CLT",rawFormat:"-03:00 Chile Time - Palmer, Rothera"},{name:"America/Punta_Arenas",alternativeName:"Chile Time",group:["America/Punta_Arenas"],continentCode:"SA",continentName:"South America",countryName:"Chile",countryCode:"CL",mainCities:["Punta Arenas","Puerto Natales"],rawOffsetInMinutes:-180,abbreviation:"CLT",rawFormat:"-03:00 Chile Time - Punta Arenas, Puerto Natales"},{name:"Atlantic/Stanley",alternativeName:"Falkland Islands Time",group:["Atlantic/Stanley"],continentCode:"SA",continentName:"South America",countryName:"Falkland Islands",countryCode:"FK",mainCities:["Stanley"],rawOffsetInMinutes:-180,abbreviation:"FKST",rawFormat:"-03:00 Falkland Islands Time - Stanley"},{name:"America/Cayenne",alternativeName:"French Guiana Time",group:["America/Cayenne"],continentCode:"SA",continentName:"South America",countryName:"French Guiana",countryCode:"GF",mainCities:["Cayenne","Matoury","Saint-Laurent-du-Maroni","Kourou"],rawOffsetInMinutes:-180,abbreviation:"GFT",rawFormat:"-03:00 French Guiana Time - Cayenne, Matoury, Saint-Laurent-du-Maroni, Kourou"},{name:"America/Miquelon",alternativeName:"St. Pierre & Miquelon Time",group:["America/Miquelon"],continentCode:"NA",continentName:"North America",countryName:"Saint Pierre and Miquelon",countryCode:"PM",mainCities:["Saint-Pierre"],rawOffsetInMinutes:-180,abbreviation:"PM",rawFormat:"-03:00 St. Pierre & Miquelon Time - Saint-Pierre"},{name:"America/Paramaribo",alternativeName:"Suriname Time",group:["America/Paramaribo"],continentCode:"SA",continentName:"South America",countryName:"Suriname",countryCode:"SR",mainCities:["Paramaribo","Lelydorp"],rawOffsetInMinutes:-180,abbreviation:"SRT",rawFormat:"-03:00 Suriname Time - Paramaribo, Lelydorp"},{name:"America/Montevideo",alternativeName:"Uruguay Time",group:["America/Montevideo"],continentCode:"SA",continentName:"South America",countryName:"Uruguay",countryCode:"UY",mainCities:["Montevideo","Salto","Paysandú","Las Piedras"],rawOffsetInMinutes:-180,abbreviation:"UYT",rawFormat:"-03:00 Uruguay Time - Montevideo, Salto, Paysandú, Las Piedras"},{name:"America/Scoresbysund",alternativeName:"East Greenland Time",group:["America/Scoresbysund"],continentCode:"NA",continentName:"North America",countryName:"Greenland",countryCode:"GL",mainCities:["Scoresbysund"],rawOffsetInMinutes:-120,abbreviation:"EGT",rawFormat:"-02:00 East Greenland Time - Scoresbysund"},{name:"America/Noronha",alternativeName:"Fernando de Noronha Time",group:["America/Noronha","Brazil/DeNoronha"],continentCode:"SA",continentName:"South America",countryName:"Brazil",countryCode:"BR",mainCities:["Noronha"],rawOffsetInMinutes:-120,abbreviation:"FNT",rawFormat:"-02:00 Fernando de Noronha Time - Noronha"},{name:"Atlantic/South_Georgia",alternativeName:"South Georgia Time",group:["Atlantic/South_Georgia"],continentCode:"AN",continentName:"Antarctica",countryName:"South Georgia and the South Sandwich Islands",countryCode:"GS",mainCities:["Grytviken"],rawOffsetInMinutes:-120,abbreviation:"GST",rawFormat:"-02:00 South Georgia Time - Grytviken"},{name:"America/Nuuk",alternativeName:"West Greenland Time",group:["America/Nuuk","America/Godthab"],continentCode:"NA",continentName:"North America",countryName:"Greenland",countryCode:"GL",mainCities:["Nuuk"],rawOffsetInMinutes:-120,abbreviation:"WGT",rawFormat:"-02:00 West Greenland Time - Nuuk"},{name:"Atlantic/Azores",alternativeName:"Azores Time",group:["Atlantic/Azores"],continentCode:"EU",continentName:"Europe",countryName:"Portugal",countryCode:"PT",mainCities:["Ponta Delgada"],rawOffsetInMinutes:-60,abbreviation:"AZOT",rawFormat:"-01:00 Azores Time - Ponta Delgada"},{name:"Atlantic/Cape_Verde",alternativeName:"Cape Verde Time",group:["Atlantic/Cape_Verde"],continentCode:"AF",continentName:"Africa",countryName:"Cabo Verde",countryCode:"CV",mainCities:["Praia","Mindelo","Espargos","Assomada"],rawOffsetInMinutes:-60,abbreviation:"CVT",rawFormat:"-01:00 Cape Verde Time - Praia, Mindelo, Espargos, Assomada"},{name:"Africa/Abidjan",alternativeName:"Greenwich Mean Time",group:["Africa/Abidjan","Iceland","Africa/Accra","Africa/Bamako","Africa/Banjul","Africa/Conakry","Africa/Dakar","Africa/Freetown","Africa/Lome","Africa/Nouakchott","Africa/Ouagadougou","Atlantic/Reykjavik","Atlantic/St_Helena","Africa/Timbuktu"],continentCode:"AF",continentName:"Africa",countryName:"Ivory Coast",countryCode:"CI",mainCities:["Abidjan","Abobo","Bouaké","Korhogo"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Abidjan, Abobo, Bouaké, Korhogo"},{name:"Africa/Bamako",alternativeName:"Greenwich Mean Time",group:["Africa/Bamako"],continentCode:"AF",continentName:"Africa",countryName:"Mali",countryCode:"ML",mainCities:["Bamako","Sikasso","Koutiala","Ségou"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Bamako, Sikasso, Koutiala, Ségou"},{name:"Africa/Bissau",alternativeName:"Greenwich Mean Time",group:["Africa/Bissau"],continentCode:"AF",continentName:"Africa",countryName:"Guinea-Bissau",countryCode:"GW",mainCities:["Bissau","Gabú","Bafatá"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Bissau, Gabú, Bafatá"},{name:"Africa/Conakry",alternativeName:"Greenwich Mean Time",group:["Africa/Conakry"],continentCode:"AF",continentName:"Africa",countryName:"Guinea",countryCode:"GN",mainCities:["Conakry","Camayenne","Nzérékoré","Kankan"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Conakry, Camayenne, Nzérékoré, Kankan"},{name:"Africa/Dakar",alternativeName:"Greenwich Mean Time",group:["Africa/Dakar"],continentCode:"AF",continentName:"Africa",countryName:"Senegal",countryCode:"SN",mainCities:["Dakar","Pikine","Touba","Thiès"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Dakar, Pikine, Touba, Thiès"},{name:"America/Danmarkshavn",alternativeName:"Greenwich Mean Time",group:["America/Danmarkshavn"],continentCode:"NA",continentName:"North America",countryName:"Greenland",countryCode:"GL",mainCities:["Danmarkshavn"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Danmarkshavn"},{name:"Europe/Isle_of_Man",alternativeName:"Greenwich Mean Time",group:["Europe/Isle_of_Man"],continentCode:"EU",continentName:"Europe",countryName:"Isle of Man",countryCode:"IM",mainCities:["Douglas"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Douglas"},{name:"Europe/Dublin",alternativeName:"Greenwich Mean Time",group:["Europe/Dublin","Eire"],continentCode:"EU",continentName:"Europe",countryName:"Ireland",countryCode:"IE",mainCities:["Dublin","South Dublin","Cork","Limerick"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Dublin, South Dublin, Cork, Limerick"},{name:"Africa/Freetown",alternativeName:"Greenwich Mean Time",group:["Africa/Freetown"],continentCode:"AF",continentName:"Africa",countryName:"Sierra Leone",countryCode:"SL",mainCities:["Freetown","Bo","Kenema","Koidu"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Freetown, Bo, Kenema, Koidu"},{name:"Atlantic/St_Helena",alternativeName:"Greenwich Mean Time",group:["Atlantic/St_Helena"],continentCode:"AF",continentName:"Africa",countryName:"Saint Helena",countryCode:"SH",mainCities:["Jamestown"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Jamestown"},{name:"Africa/Accra",alternativeName:"Greenwich Mean Time",group:["Africa/Accra"],continentCode:"AF",continentName:"Africa",countryName:"Ghana",countryCode:"GH",mainCities:["Kumasi","Accra","Tamale","Takoradi"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Kumasi, Accra, Tamale, Takoradi"},{name:"Africa/Lome",alternativeName:"Greenwich Mean Time",group:["Africa/Lome"],continentCode:"AF",continentName:"Africa",countryName:"Togo",countryCode:"TG",mainCities:["Lomé","Sokodé","Kara","Atakpamé"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Lomé, Sokodé, Kara, Atakpamé"},{name:"Europe/London",alternativeName:"Greenwich Mean Time",group:["Europe/London","GB","GB-Eire","Europe/Guernsey","Europe/Isle_of_Man","Europe/Jersey","Europe/Belfast"],continentCode:"EU",continentName:"Europe",countryName:"United Kingdom",countryCode:"GB",mainCities:["London","Birmingham","Liverpool","Glasgow"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - London, Birmingham, Liverpool, Glasgow"},{name:"Africa/Monrovia",alternativeName:"Greenwich Mean Time",group:["Africa/Monrovia"],continentCode:"AF",continentName:"Africa",countryName:"Liberia",countryCode:"LR",mainCities:["Monrovia","Gbarnga","Buchanan","Ganta"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Monrovia, Gbarnga, Buchanan, Ganta"},{name:"Africa/Nouakchott",alternativeName:"Greenwich Mean Time",group:["Africa/Nouakchott"],continentCode:"AF",continentName:"Africa",countryName:"Mauritania",countryCode:"MR",mainCities:["Nouakchott","Nouadhibou","Kiffa","Dar Naim"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Nouakchott, Nouadhibou, Kiffa, Dar Naim"},{name:"Africa/Ouagadougou",alternativeName:"Greenwich Mean Time",group:["Africa/Ouagadougou"],continentCode:"AF",continentName:"Africa",countryName:"Burkina Faso",countryCode:"BF",mainCities:["Ouagadougou","Bobo-Dioulasso","Koudougou","Saaba"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Ouagadougou, Bobo-Dioulasso, Koudougou, Saaba"},{name:"Atlantic/Reykjavik",alternativeName:"Greenwich Mean Time",group:["Atlantic/Reykjavik","Iceland"],continentCode:"EU",continentName:"Europe",countryName:"Iceland",countryCode:"IS",mainCities:["Reykjavík","Kópavogur","Hafnarfjörður","Reykjanesbær"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Reykjavík, Kópavogur, Hafnarfjörður, Reykjanesbær"},{name:"Europe/Jersey",alternativeName:"Greenwich Mean Time",group:["Europe/Jersey"],continentCode:"EU",continentName:"Europe",countryName:"Jersey",countryCode:"JE",mainCities:["Saint Helier"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Saint Helier"},{name:"Europe/Guernsey",alternativeName:"Greenwich Mean Time",group:["Europe/Guernsey"],continentCode:"EU",continentName:"Europe",countryName:"Guernsey",countryCode:"GG",mainCities:["Saint Peter Port"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Saint Peter Port"},{name:"Africa/Banjul",alternativeName:"Greenwich Mean Time",group:["Africa/Banjul"],continentCode:"AF",continentName:"Africa",countryName:"Gambia",countryCode:"GM",mainCities:["Serekunda","Brikama","Bununka Kunda","Sukuta"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Serekunda, Brikama, Bununka Kunda, Sukuta"},{name:"Africa/Sao_Tome",alternativeName:"Greenwich Mean Time",group:["Africa/Sao_Tome"],continentCode:"AF",continentName:"Africa",countryName:"Sao Tome and Principe",countryCode:"ST",mainCities:["São Tomé"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - São Tomé"},{name:"Antarctica/Troll",alternativeName:"Greenwich Mean Time",group:["Antarctica/Troll"],continentCode:"AN",continentName:"Antarctica",countryName:"Antarctica",countryCode:"AQ",mainCities:["Troll"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Troll"},{name:"Africa/Casablanca",alternativeName:"Western European Time",group:["Africa/Casablanca"],continentCode:"AF",continentName:"Africa",countryName:"Morocco",countryCode:"MA",mainCities:["Casablanca","Rabat","Fes","Tangier"],rawOffsetInMinutes:0,abbreviation:"WET",rawFormat:"+00:00 Western European Time - Casablanca, Rabat, Fes, Tangier"},{name:"Africa/El_Aaiun",alternativeName:"Western European Time",group:["Africa/El_Aaiun"],continentCode:"AF",continentName:"Africa",countryName:"Western Sahara",countryCode:"EH",mainCities:["Laayoune","Dakhla","Boujdour"],rawOffsetInMinutes:0,abbreviation:"WET",rawFormat:"+00:00 Western European Time - Laayoune, Dakhla, Boujdour"},{name:"Atlantic/Canary",alternativeName:"Western European Time",group:["Atlantic/Canary"],continentCode:"EU",continentName:"Europe",countryName:"Spain",countryCode:"ES",mainCities:["Las Palmas de Gran Canaria","Santa Cruz de Tenerife","La Laguna","Telde"],rawOffsetInMinutes:0,abbreviation:"WET",rawFormat:"+00:00 Western European Time - Las Palmas de Gran Canaria, Santa Cruz de Tenerife, La Laguna, Telde"},{name:"Europe/Lisbon",alternativeName:"Western European Time",group:["Atlantic/Madeira","Europe/Lisbon","Portugal"],continentCode:"EU",continentName:"Europe",countryName:"Portugal",countryCode:"PT",mainCities:["Lisbon","Porto","Amadora","Braga"],rawOffsetInMinutes:0,abbreviation:"WET",rawFormat:"+00:00 Western European Time - Lisbon, Porto, Amadora, Braga"},{name:"Atlantic/Faroe",alternativeName:"Western European Time",group:["Atlantic/Faroe","Atlantic/Faeroe"],continentCode:"EU",continentName:"Europe",countryName:"Faroe Islands",countryCode:"FO",mainCities:["Tórshavn"],rawOffsetInMinutes:0,abbreviation:"WET",rawFormat:"+00:00 Western European Time - Tórshavn"},{name:"Africa/Windhoek",alternativeName:"Central Africa Time",group:["Africa/Windhoek"],continentCode:"AF",continentName:"Africa",countryName:"Namibia",countryCode:"NA",mainCities:["Windhoek","Rundu","Walvis Bay","Swakopmund"],rawOffsetInMinutes:60,abbreviation:"CAT",rawFormat:"+01:00 Central Africa Time - Windhoek, Rundu, Walvis Bay, Swakopmund"},{name:"Africa/Algiers",alternativeName:"Central European Time",group:["Africa/Algiers"],continentCode:"AF",continentName:"Africa",countryName:"Algeria",countryCode:"DZ",mainCities:["Algiers","Oran","Constantine","Annaba"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Algiers, Oran, Constantine, Annaba"},{name:"Europe/Amsterdam",alternativeName:"Central European Time",group:["Europe/Amsterdam"],continentCode:"EU",continentName:"Europe",countryName:"The Netherlands",countryCode:"NL",mainCities:["Amsterdam","Rotterdam","The Hague","Utrecht"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Amsterdam, Rotterdam, The Hague, Utrecht"},{name:"Europe/Andorra",alternativeName:"Central European Time",group:["Europe/Andorra"],continentCode:"EU",continentName:"Europe",countryName:"Andorra",countryCode:"AD",mainCities:["Andorra la Vella","les Escaldes"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Andorra la Vella, les Escaldes"},{name:"Europe/Belgrade",alternativeName:"Central European Time",group:["Europe/Belgrade","Europe/Ljubljana","Europe/Podgorica","Europe/Sarajevo","Europe/Skopje","Europe/Zagreb"],continentCode:"EU",continentName:"Europe",countryName:"Serbia",countryCode:"RS",mainCities:["Belgrade","Niš","Novi Sad","Zemun"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Belgrade, Niš, Novi Sad, Zemun"},{name:"Europe/Berlin",alternativeName:"Central European Time",group:["Europe/Berlin","Europe/Busingen","Arctic/Longyearbyen","Europe/Copenhagen","Europe/Oslo","Europe/Stockholm","Atlantic/Jan_Mayen"],continentCode:"EU",continentName:"Europe",countryName:"Germany",countryCode:"DE",mainCities:["Berlin","Hamburg","Munich","Köln"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Berlin, Hamburg, Munich, Köln"},{name:"Europe/Bratislava",alternativeName:"Central European Time",group:["Europe/Bratislava"],continentCode:"EU",continentName:"Europe",countryName:"Slovakia",countryCode:"SK",mainCities:["Bratislava","Košice","Nitra","Prešov"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Bratislava, Košice, Nitra, Prešov"},{name:"Europe/Brussels",alternativeName:"Central European Time",group:["Europe/Brussels","Europe/Amsterdam","Europe/Luxembourg"],continentCode:"EU",continentName:"Europe",countryName:"Belgium",countryCode:"BE",mainCities:["Brussels","Antwerpen","Gent","Charleroi"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Brussels, Antwerpen, Gent, Charleroi"},{name:"Europe/Budapest",alternativeName:"Central European Time",group:["Europe/Budapest"],continentCode:"EU",continentName:"Europe",countryName:"Hungary",countryCode:"HU",mainCities:["Budapest","Debrecen","Szeged","Miskolc"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Budapest, Debrecen, Szeged, Miskolc"},{name:"Europe/Copenhagen",alternativeName:"Central European Time",group:["Europe/Copenhagen"],continentCode:"EU",continentName:"Europe",countryName:"Denmark",countryCode:"DK",mainCities:["Copenhagen","Århus","Odense","Aalborg"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Copenhagen, Århus, Odense, Aalborg"},{name:"Europe/Gibraltar",alternativeName:"Central European Time",group:["Europe/Gibraltar"],continentCode:"EU",continentName:"Europe",countryName:"Gibraltar",countryCode:"GI",mainCities:["Gibraltar"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Gibraltar"},{name:"Europe/Ljubljana",alternativeName:"Central European Time",group:["Europe/Ljubljana"],continentCode:"EU",continentName:"Europe",countryName:"Slovenia",countryCode:"SI",mainCities:["Ljubljana","Maribor","Kranj","Celje"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Ljubljana, Maribor, Kranj, Celje"},{name:"Arctic/Longyearbyen",alternativeName:"Central European Time",group:["Arctic/Longyearbyen"],continentCode:"EU",continentName:"Europe",countryName:"Svalbard and Jan Mayen",countryCode:"SJ",mainCities:["Longyearbyen"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Longyearbyen"},{name:"Europe/Luxembourg",alternativeName:"Central European Time",group:["Europe/Luxembourg"],continentCode:"EU",continentName:"Europe",countryName:"Luxembourg",countryCode:"LU",mainCities:["Luxembourg","Esch-sur-Alzette","Dudelange"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Luxembourg, Esch-sur-Alzette, Dudelange"},{name:"Europe/Madrid",alternativeName:"Central European Time",group:["Africa/Ceuta","Europe/Madrid"],continentCode:"EU",continentName:"Europe",countryName:"Spain",countryCode:"ES",mainCities:["Madrid","Barcelona","Valencia","Sevilla"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Madrid, Barcelona, Valencia, Sevilla"},{name:"Europe/Monaco",alternativeName:"Central European Time",group:["Europe/Monaco"],continentCode:"EU",continentName:"Europe",countryName:"Monaco",countryCode:"MC",mainCities:["Monaco","Monte-Carlo"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Monaco, Monte-Carlo"},{name:"Europe/Oslo",alternativeName:"Central European Time",group:["Europe/Oslo","Atlantic/Jan_Mayen"],continentCode:"EU",continentName:"Europe",countryName:"Norway",countryCode:"NO",mainCities:["Oslo","Bergen","Trondheim","Stavanger"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Oslo, Bergen, Trondheim, Stavanger"},{name:"Europe/Paris",alternativeName:"Central European Time",group:["Europe/Paris","Europe/Monaco"],continentCode:"EU",continentName:"Europe",countryName:"France",countryCode:"FR",mainCities:["Paris","Marseille","Lyon","Toulouse"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Paris, Marseille, Lyon, Toulouse"},{name:"Europe/Podgorica",alternativeName:"Central European Time",group:["Europe/Podgorica"],continentCode:"EU",continentName:"Europe",countryName:"Montenegro",countryCode:"ME",mainCities:["Podgorica","Nikšić","Herceg Novi","Pljevlja"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Podgorica, Nikšić, Herceg Novi, Pljevlja"},{name:"Europe/Prague",alternativeName:"Central European Time",group:["Europe/Prague","Europe/Bratislava"],continentCode:"EU",continentName:"Europe",countryName:"Czechia",countryCode:"CZ",mainCities:["Prague","Brno","Ostrava","Pilsen"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Prague, Brno, Ostrava, Pilsen"},{name:"Europe/Rome",alternativeName:"Central European Time",group:["Europe/Rome","Europe/San_Marino","Europe/Vatican"],continentCode:"EU",continentName:"Europe",countryName:"Italy",countryCode:"IT",mainCities:["Rome","Milan","Naples","Turin"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Rome, Milan, Naples, Turin"},{name:"Europe/San_Marino",alternativeName:"Central European Time",group:["Europe/San_Marino"],continentCode:"EU",continentName:"Europe",countryName:"San Marino",countryCode:"SM",mainCities:["San Marino"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - San Marino"},{name:"Europe/Malta",alternativeName:"Central European Time",group:["Europe/Malta"],continentCode:"EU",continentName:"Europe",countryName:"Malta",countryCode:"MT",mainCities:["San Pawl il-Baħar","Birkirkara","Mosta","Sliema"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - San Pawl il-Baħar, Birkirkara, Mosta, Sliema"},{name:"Europe/Sarajevo",alternativeName:"Central European Time",group:["Europe/Sarajevo"],continentCode:"EU",continentName:"Europe",countryName:"Bosnia and Herzegovina",countryCode:"BA",mainCities:["Sarajevo","Banja Luka","Zenica","Tuzla"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Sarajevo, Banja Luka, Zenica, Tuzla"},{name:"Europe/Skopje",alternativeName:"Central European Time",group:["Europe/Skopje"],continentCode:"EU",continentName:"Europe",countryName:"North Macedonia",countryCode:"MK",mainCities:["Skopje","Kumanovo","Prilep","Bitola"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Skopje, Kumanovo, Prilep, Bitola"},{name:"Europe/Stockholm",alternativeName:"Central European Time",group:["Europe/Stockholm"],continentCode:"EU",continentName:"Europe",countryName:"Sweden",countryCode:"SE",mainCities:["Stockholm","Göteborg","Malmö","Uppsala"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Stockholm, Göteborg, Malmö, Uppsala"},{name:"Europe/Tirane",alternativeName:"Central European Time",group:["Europe/Tirane"],continentCode:"EU",continentName:"Europe",countryName:"Albania",countryCode:"AL",mainCities:["Tirana","Durrës","Elbasan","Vlorë"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Tirana, Durrës, Elbasan, Vlorë"},{name:"Africa/Tunis",alternativeName:"Central European Time",group:["Africa/Tunis"],continentCode:"AF",continentName:"Africa",countryName:"Tunisia",countryCode:"TN",mainCities:["Tunis","Sfax","Sousse","Kairouan"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Tunis, Sfax, Sousse, Kairouan"},{name:"Europe/Vaduz",alternativeName:"Central European Time",group:["Europe/Vaduz"],continentCode:"EU",continentName:"Europe",countryName:"Liechtenstein",countryCode:"LI",mainCities:["Vaduz"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Vaduz"},{name:"Europe/Vatican",alternativeName:"Central European Time",group:["Europe/Vatican"],continentCode:"EU",continentName:"Europe",countryName:"Vatican",countryCode:"VA",mainCities:["Vatican City"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Vatican City"},{name:"Europe/Vienna",alternativeName:"Central European Time",group:["Europe/Vienna"],continentCode:"EU",continentName:"Europe",countryName:"Austria",countryCode:"AT",mainCities:["Vienna","Graz","Linz","Favoriten"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Vienna, Graz, Linz, Favoriten"},{name:"Europe/Warsaw",alternativeName:"Central European Time",group:["Europe/Warsaw","Poland"],continentCode:"EU",continentName:"Europe",countryName:"Poland",countryCode:"PL",mainCities:["Warsaw","Łódź","Kraków","Wrocław"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Warsaw, Łódź, Kraków, Wrocław"},{name:"Europe/Zagreb",alternativeName:"Central European Time",group:["Europe/Zagreb"],continentCode:"EU",continentName:"Europe",countryName:"Croatia",countryCode:"HR",mainCities:["Zagreb","Split","Rijeka","Osijek"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Zagreb, Split, Rijeka, Osijek"},{name:"Europe/Zurich",alternativeName:"Central European Time",group:["Europe/Zurich","Europe/Busingen","Europe/Vaduz"],continentCode:"EU",continentName:"Europe",countryName:"Switzerland",countryCode:"CH",mainCities:["Zürich","Genève","Basel","Lausanne"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Zürich, Genève, Basel, Lausanne"},{name:"Africa/Bangui",alternativeName:"West Africa Time",group:["Africa/Bangui"],continentCode:"AF",continentName:"Africa",countryName:"Central African Republic",countryCode:"CF",mainCities:["Bangui","Bimbo","Bégoua","Carnot"],rawOffsetInMinutes:60,abbreviation:"WAT",rawFormat:"+01:00 West Africa Time - Bangui, Bimbo, Bégoua, Carnot"},{name:"Africa/Malabo",alternativeName:"West Africa Time",group:["Africa/Malabo"],continentCode:"AF",continentName:"Africa",countryName:"Equatorial Guinea",countryCode:"GQ",mainCities:["Bata","Malabo","Ebebiyin"],rawOffsetInMinutes:60,abbreviation:"WAT",rawFormat:"+01:00 West Africa Time - Bata, Malabo, Ebebiyin"},{name:"Africa/Brazzaville",alternativeName:"West Africa Time",group:["Africa/Brazzaville"],continentCode:"AF",continentName:"Africa",countryName:"Republic of the Congo",countryCode:"CG",mainCities:["Brazzaville","Pointe-Noire","Dolisie","Nkayi"],rawOffsetInMinutes:60,abbreviation:"WAT",rawFormat:"+01:00 West Africa Time - Brazzaville, Pointe-Noire, Dolisie, Nkayi"},{name:"Africa/Porto-Novo",alternativeName:"West Africa Time",group:["Africa/Porto-Novo"],continentCode:"AF",continentName:"Africa",countryName:"Benin",countryCode:"BJ",mainCities:["Cotonou","Abomey-Calavi","Porto-Novo","Parakou"],rawOffsetInMinutes:60,abbreviation:"WAT",rawFormat:"+01:00 West Africa Time - Cotonou, Abomey-Calavi, Porto-Novo, Parakou"},{name:"Africa/Douala",alternativeName:"West Africa Time",group:["Africa/Douala"],continentCode:"AF",continentName:"Africa",countryName:"Cameroon",countryCode:"CM",mainCities:["Douala","Yaoundé","Bamenda","Bafoussam"],rawOffsetInMinutes:60,abbreviation:"WAT",rawFormat:"+01:00 West Africa Time - Douala, Yaoundé, Bamenda, Bafoussam"},{name:"Africa/Kinshasa",alternativeName:"West Africa Time",group:["Africa/Kinshasa"],continentCode:"AF",continentName:"Africa",countryName:"Democratic Republic of the Congo",countryCode:"CD",mainCities:["Kinshasa","Kikwit","Masina","Mbandaka"],rawOffsetInMinutes:60,abbreviation:"WAT",rawFormat:"+01:00 West Africa Time - Kinshasa, Kikwit, Masina, Mbandaka"},{name:"Africa/Lagos",alternativeName:"West Africa Time",group:["Africa/Lagos","Africa/Bangui","Africa/Brazzaville","Africa/Douala","Africa/Kinshasa","Africa/Libreville","Africa/Luanda","Africa/Malabo","Africa/Niamey","Africa/Porto-Novo"],continentCode:"AF",continentName:"Africa",countryName:"Nigeria",countryCode:"NG",mainCities:["Lagos","Kano","Ibadan","Abuja"],rawOffsetInMinutes:60,abbreviation:"WAT",rawFormat:"+01:00 West Africa Time - Lagos, Kano, Ibadan, Abuja"},{name:"Africa/Libreville",alternativeName:"West Africa Time",group:["Africa/Libreville"],continentCode:"AF",continentName:"Africa",countryName:"Gabon",countryCode:"GA",mainCities:["Libreville","Port-Gentil","Franceville","Owendo"],rawOffsetInMinutes:60,abbreviation:"WAT",rawFormat:"+01:00 West Africa Time - Libreville, Port-Gentil, Franceville, Owendo"},{name:"Africa/Luanda",alternativeName:"West Africa Time",group:["Africa/Luanda"],continentCode:"AF",continentName:"Africa",countryName:"Angola",countryCode:"AO",mainCities:["Luanda","Lubango","Huambo","Benguela"],rawOffsetInMinutes:60,abbreviation:"WAT",rawFormat:"+01:00 West Africa Time - Luanda, Lubango, Huambo, Benguela"},{name:"Africa/Ndjamena",alternativeName:"West Africa Time",group:["Africa/Ndjamena"],continentCode:"AF",continentName:"Africa",countryName:"Chad",countryCode:"TD",mainCities:["N'Djamena","Moundou","Abéché","Sarh"],rawOffsetInMinutes:60,abbreviation:"WAT",rawFormat:"+01:00 West Africa Time - N'Djamena, Moundou, Abéché, Sarh"},{name:"Africa/Niamey",alternativeName:"West Africa Time",group:["Africa/Niamey"],continentCode:"AF",continentName:"Africa",countryName:"Niger",countryCode:"NE",mainCities:["Niamey","Maradi","Zinder","Tahoua"],rawOffsetInMinutes:60,abbreviation:"WAT",rawFormat:"+01:00 West Africa Time - Niamey, Maradi, Zinder, Tahoua"},{name:"Africa/Bujumbura",alternativeName:"Central Africa Time",group:["Africa/Bujumbura"],continentCode:"AF",continentName:"Africa",countryName:"Burundi",countryCode:"BI",mainCities:["Bujumbura","Gitega","Ngozi","Rumonge"],rawOffsetInMinutes:120,abbreviation:"CAT",rawFormat:"+02:00 Central Africa Time - Bujumbura, Gitega, Ngozi, Rumonge"},{name:"Africa/Gaborone",alternativeName:"Central Africa Time",group:["Africa/Gaborone"],continentCode:"AF",continentName:"Africa",countryName:"Botswana",countryCode:"BW",mainCities:["Gaborone","Francistown","Mogoditshane","Maun"],rawOffsetInMinutes:120,abbreviation:"CAT",rawFormat:"+02:00 Central Africa Time - Gaborone, Francistown, Mogoditshane, Maun"},{name:"Africa/Harare",alternativeName:"Central Africa Time",group:["Africa/Harare"],continentCode:"AF",continentName:"Africa",countryName:"Zimbabwe",countryCode:"ZW",mainCities:["Harare","Bulawayo","Chitungwiza","Mutare"],rawOffsetInMinutes:120,abbreviation:"CAT",rawFormat:"+02:00 Central Africa Time - Harare, Bulawayo, Chitungwiza, Mutare"},{name:"Africa/Juba",alternativeName:"Central Africa Time",group:["Africa/Juba"],continentCode:"AF",continentName:"Africa",countryName:"South Sudan",countryCode:"SS",mainCities:["Juba","Winejok","Yei","Malakal"],rawOffsetInMinutes:120,abbreviation:"CAT",rawFormat:"+02:00 Central Africa Time - Juba, Winejok, Yei, Malakal"},{name:"Africa/Khartoum",alternativeName:"Central Africa Time",group:["Africa/Khartoum"],continentCode:"AF",continentName:"Africa",countryName:"Sudan",countryCode:"SD",mainCities:["Khartoum","Omdurman","Nyala","Port Sudan"],rawOffsetInMinutes:120,abbreviation:"CAT",rawFormat:"+02:00 Central Africa Time - Khartoum, Omdurman, Nyala, Port Sudan"},{name:"Africa/Kigali",alternativeName:"Central Africa Time",group:["Africa/Kigali"],continentCode:"AF",continentName:"Africa",countryName:"Rwanda",countryCode:"RW",mainCities:["Kigali","Gisenyi","Butare","Gitarama"],rawOffsetInMinutes:120,abbreviation:"CAT",rawFormat:"+02:00 Central Africa Time - Kigali, Gisenyi, Butare, Gitarama"},{name:"Africa/Blantyre",alternativeName:"Central Africa Time",group:["Africa/Blantyre"],continentCode:"AF",continentName:"Africa",countryName:"Malawi",countryCode:"MW",mainCities:["Lilongwe","Blantyre","Mzuzu","Zomba"],rawOffsetInMinutes:120,abbreviation:"CAT",rawFormat:"+02:00 Central Africa Time - Lilongwe, Blantyre, Mzuzu, Zomba"},{name:"Africa/Lubumbashi",alternativeName:"Central Africa Time",group:["Africa/Lubumbashi"],continentCode:"AF",continentName:"Africa",countryName:"Democratic Republic of the Congo",countryCode:"CD",mainCities:["Lubumbashi","Mbuji-Mayi","Kananga","Kisangani"],rawOffsetInMinutes:120,abbreviation:"CAT",rawFormat:"+02:00 Central Africa Time - Lubumbashi, Mbuji-Mayi, Kananga, Kisangani"},{name:"Africa/Lusaka",alternativeName:"Central Africa Time",group:["Africa/Lusaka"],continentCode:"AF",continentName:"Africa",countryName:"Zambia",countryCode:"ZM",mainCities:["Lusaka","Ndola","Kitwe","Chipata"],rawOffsetInMinutes:120,abbreviation:"CAT",rawFormat:"+02:00 Central Africa Time - Lusaka, Ndola, Kitwe, Chipata"},{name:"Africa/Maputo",alternativeName:"Central Africa Time",group:["Africa/Maputo","Africa/Blantyre","Africa/Bujumbura","Africa/Gaborone","Africa/Harare","Africa/Kigali","Africa/Lubumbashi","Africa/Lusaka"],continentCode:"AF",continentName:"Africa",countryName:"Mozambique",countryCode:"MZ",mainCities:["Maputo","Matola","Nampula","Beira"],rawOffsetInMinutes:120,abbreviation:"CAT",rawFormat:"+02:00 Central Africa Time - Maputo, Matola, Nampula, Beira"},{name:"Europe/Athens",alternativeName:"Eastern European Time",group:["Europe/Athens"],continentCode:"EU",continentName:"Europe",countryName:"Greece",countryCode:"GR",mainCities:["Athens","Thessaloníki","Pátra","Piraeus"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Athens, Thessaloníki, Pátra, Piraeus"},{name:"Asia/Beirut",alternativeName:"Eastern European Time",group:["Asia/Beirut"],continentCode:"AS",continentName:"Asia",countryName:"Lebanon",countryCode:"LB",mainCities:["Beirut","Ra’s Bayrūt","Tripoli","Sidon"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Beirut, Ra’s Bayrūt, Tripoli, Sidon"},{name:"Europe/Bucharest",alternativeName:"Eastern European Time",group:["Europe/Bucharest"],continentCode:"EU",continentName:"Europe",countryName:"Romania",countryCode:"RO",mainCities:["Bucharest","Sector 3","Iaşi","Sector 6"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Bucharest, Sector 3, Iaşi, Sector 6"},{name:"Africa/Cairo",alternativeName:"Eastern European Time",group:["Africa/Cairo","Egypt"],continentCode:"AF",continentName:"Africa",countryName:"Egypt",countryCode:"EG",mainCities:["Cairo","Alexandria","Giza","Shubrā al Khaymah"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Cairo, Alexandria, Giza, Shubrā al Khaymah"},{name:"Europe/Chisinau",alternativeName:"Eastern European Time",group:["Europe/Chisinau","Europe/Tiraspol"],continentCode:"EU",continentName:"Europe",countryName:"Moldova",countryCode:"MD",mainCities:["Chisinau","Tiraspol","Bălţi","Bender"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Chisinau, Tiraspol, Bălţi, Bender"},{name:"Asia/Hebron",alternativeName:"Eastern European Time",group:["Asia/Gaza","Asia/Hebron"],continentCode:"AS",continentName:"Asia",countryName:"Palestinian Territory",countryCode:"PS",mainCities:["East Jerusalem","Gaza","Khān Yūnis","Jabālyā"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - East Jerusalem, Gaza, Khān Yūnis, Jabālyā"},{name:"Europe/Helsinki",alternativeName:"Eastern European Time",group:["Europe/Helsinki","Europe/Mariehamn"],continentCode:"EU",continentName:"Europe",countryName:"Finland",countryCode:"FI",mainCities:["Helsinki","Espoo","Tampere","Oulu"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Helsinki, Espoo, Tampere, Oulu"},{name:"Europe/Kaliningrad",alternativeName:"Eastern European Time",group:["Europe/Kaliningrad"],continentCode:"EU",continentName:"Europe",countryName:"Russia",countryCode:"RU",mainCities:["Kaliningrad","Chernyakhovsk","Sovetsk","Baltiysk"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Kaliningrad, Chernyakhovsk, Sovetsk, Baltiysk"},{name:"Europe/Kyiv",alternativeName:"Eastern European Time",group:["Europe/Kyiv","Europe/Uzhgorod","Europe/Zaporozhye","Europe/Kiev"],continentCode:"EU",continentName:"Europe",countryName:"Ukraine",countryCode:"UA",mainCities:["Kyiv","Kharkiv","Odesa","Dnipro"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Kyiv, Kharkiv, Odesa, Dnipro"},{name:"Europe/Mariehamn",alternativeName:"Eastern European Time",group:["Europe/Mariehamn"],continentCode:"EU",continentName:"Europe",countryName:"Aland Islands",countryCode:"AX",mainCities:["Mariehamn"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Mariehamn"},{name:"Asia/Nicosia",alternativeName:"Eastern European Time",group:["Asia/Famagusta","Asia/Nicosia","Europe/Nicosia"],continentCode:"EU",continentName:"Europe",countryName:"Cyprus",countryCode:"CY",mainCities:["Nicosia","Limassol","Larnaca","Stróvolos"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Nicosia, Limassol, Larnaca, Stróvolos"},{name:"Europe/Riga",alternativeName:"Eastern European Time",group:["Europe/Riga"],continentCode:"EU",continentName:"Europe",countryName:"Latvia",countryCode:"LV",mainCities:["Riga","Daugavpils","Liepāja","Jelgava"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Riga, Daugavpils, Liepāja, Jelgava"},{name:"Europe/Sofia",alternativeName:"Eastern European Time",group:["Europe/Sofia"],continentCode:"EU",continentName:"Europe",countryName:"Bulgaria",countryCode:"BG",mainCities:["Sofia","Plovdiv","Varna","Burgas"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Sofia, Plovdiv, Varna, Burgas"},{name:"Europe/Tallinn",alternativeName:"Eastern European Time",group:["Europe/Tallinn"],continentCode:"EU",continentName:"Europe",countryName:"Estonia",countryCode:"EE",mainCities:["Tallinn","Tartu","Narva","Pärnu"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Tallinn, Tartu, Narva, Pärnu"},{name:"Africa/Tripoli",alternativeName:"Eastern European Time",group:["Africa/Tripoli","Libya"],continentCode:"AF",continentName:"Africa",countryName:"Libya",countryCode:"LY",mainCities:["Tripoli","Benghazi","Misratah","Zliten"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Tripoli, Benghazi, Misratah, Zliten"},{name:"Europe/Vilnius",alternativeName:"Eastern European Time",group:["Europe/Vilnius"],continentCode:"EU",continentName:"Europe",countryName:"Lithuania",countryCode:"LT",mainCities:["Vilnius","Kaunas","Klaipėda","Šiauliai"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Vilnius, Kaunas, Klaipėda, Šiauliai"},{name:"Asia/Jerusalem",alternativeName:"Israel Time",group:["Asia/Jerusalem","Israel","Asia/Tel_Aviv"],continentCode:"AS",continentName:"Asia",countryName:"Israel",countryCode:"IL",mainCities:["Jerusalem","Tel Aviv","West Jerusalem","Haifa"],rawOffsetInMinutes:120,abbreviation:"IST",rawFormat:"+02:00 Israel Time - Jerusalem, Tel Aviv, West Jerusalem, Haifa"},{name:"Africa/Johannesburg",alternativeName:"South Africa Time",group:["Africa/Johannesburg","Africa/Maseru","Africa/Mbabane"],continentCode:"AF",continentName:"Africa",countryName:"South Africa",countryCode:"ZA",mainCities:["Johannesburg","Cape Town","Durban","Soweto"],rawOffsetInMinutes:120,abbreviation:"SAST",rawFormat:"+02:00 South Africa Time - Johannesburg, Cape Town, Durban, Soweto"},{name:"Africa/Mbabane",alternativeName:"South Africa Time",group:["Africa/Mbabane"],continentCode:"AF",continentName:"Africa",countryName:"Eswatini",countryCode:"SZ",mainCities:["Manzini","Mbabane","Lobamba"],rawOffsetInMinutes:120,abbreviation:"SAST",rawFormat:"+02:00 South Africa Time - Manzini, Mbabane, Lobamba"},{name:"Africa/Maseru",alternativeName:"South Africa Time",group:["Africa/Maseru"],continentCode:"AF",continentName:"Africa",countryName:"Lesotho",countryCode:"LS",mainCities:["Maseru","Maputsoe","Mohale's Hoek","Mafeteng"],rawOffsetInMinutes:120,abbreviation:"SAST",rawFormat:"+02:00 South Africa Time - Maseru, Maputsoe, Mohale's Hoek, Mafeteng"},{name:"Asia/Kuwait",alternativeName:"Arabian Time",group:["Asia/Kuwait"],continentCode:"AS",continentName:"Asia",countryName:"Kuwait",countryCode:"KW",mainCities:["Al Aḩmadī","Ḩawallī","As Sālimīyah","Şabāḩ as Sālim"],rawOffsetInMinutes:180,abbreviation:"AST",rawFormat:"+03:00 Arabian Time - Al Aḩmadī, Ḩawallī, As Sālimīyah, Şabāḩ as Sālim"},{name:"Asia/Bahrain",alternativeName:"Arabian Time",group:["Asia/Bahrain"],continentCode:"AS",continentName:"Asia",countryName:"Bahrain",countryCode:"BH",mainCities:["Ar Rifā‘","Manama","Al Muharraq","Dār Kulayb"],rawOffsetInMinutes:180,abbreviation:"AST",rawFormat:"+03:00 Arabian Time - Ar Rifā‘, Manama, Al Muharraq, Dār Kulayb"},{name:"Asia/Baghdad",alternativeName:"Arabian Time",group:["Asia/Baghdad"],continentCode:"AS",continentName:"Asia",countryName:"Iraq",countryCode:"IQ",mainCities:["Baghdad","Al Mawşil al Jadīdah","Al Başrah al Qadīmah","Mosul"],rawOffsetInMinutes:180,abbreviation:"AST",rawFormat:"+03:00 Arabian Time - Baghdad, Al Mawşil al Jadīdah, Al Başrah al Qadīmah, Mosul"},{name:"Asia/Qatar",alternativeName:"Arabian Time",group:["Asia/Qatar","Asia/Bahrain"],continentCode:"AS",continentName:"Asia",countryName:"Qatar",countryCode:"QA",mainCities:["Doha","Ar Rayyān","Al Maţār al ‘Atīq","Al Manşūrah"],rawOffsetInMinutes:180,abbreviation:"AST",rawFormat:"+03:00 Arabian Time - Doha, Ar Rayyān, Al Maţār al ‘Atīq, Al Manşūrah"},{name:"Asia/Riyadh",alternativeName:"Arabian Time",group:["Asia/Riyadh","Antarctica/Syowa","Asia/Aden","Asia/Kuwait"],continentCode:"AS",continentName:"Asia",countryName:"Saudi Arabia",countryCode:"SA",mainCities:["Jeddah","Riyadh","Mecca","Medina"],rawOffsetInMinutes:180,abbreviation:"AST",rawFormat:"+03:00 Arabian Time - Jeddah, Riyadh, Mecca, Medina"},{name:"Asia/Aden",alternativeName:"Arabian Time",group:["Asia/Aden"],continentCode:"AS",continentName:"Asia",countryName:"Yemen",countryCode:"YE",mainCities:["Sanaa","Aden","Al Ḩudaydah","Taiz"],rawOffsetInMinutes:180,abbreviation:"AST",rawFormat:"+03:00 Arabian Time - Sanaa, Aden, Al Ḩudaydah, Taiz"},{name:"Asia/Amman",alternativeName:"Asia/Amman",group:["Asia/Amman"],continentCode:"AS",continentName:"Asia",countryName:"Jordan",countryCode:"JO",mainCities:["Amman","Zarqa","Irbid","Russeifa"],rawOffsetInMinutes:180,abbreviation:"GMT+3",rawFormat:"+03:00 Asia/Amman - Amman, Zarqa, Irbid, Russeifa"},{name:"Asia/Damascus",alternativeName:"Asia/Damascus",group:["Asia/Damascus"],continentCode:"AS",continentName:"Asia",countryName:"Syria",countryCode:"SY",mainCities:["Aleppo","Damascus","Homs","Latakia"],rawOffsetInMinutes:180,abbreviation:"GMT+3",rawFormat:"+03:00 Asia/Damascus - Aleppo, Damascus, Homs, Latakia"},{name:"Africa/Addis_Ababa",alternativeName:"East Africa Time",group:["Africa/Addis_Ababa"],continentCode:"AF",continentName:"Africa",countryName:"Ethiopia",countryCode:"ET",mainCities:["Addis Ababa","Jijiga","Gonder","Mek'ele"],rawOffsetInMinutes:180,abbreviation:"EAT",rawFormat:"+03:00 East Africa Time - Addis Ababa, Jijiga, Gonder, Mek'ele"},{name:"Indian/Antananarivo",alternativeName:"East Africa Time",group:["Indian/Antananarivo"],continentCode:"AF",continentName:"Africa",countryName:"Madagascar",countryCode:"MG",mainCities:["Antananarivo","Toamasina","Antsirabe","Mahajanga"],rawOffsetInMinutes:180,abbreviation:"EAT",rawFormat:"+03:00 East Africa Time - Antananarivo, Toamasina, Antsirabe, Mahajanga"},{name:"Africa/Asmara",alternativeName:"East Africa Time",group:["Africa/Asmara"],continentCode:"AF",continentName:"Africa",countryName:"Eritrea",countryCode:"ER",mainCities:["Asmara","Keren","Himora","Massawa"],rawOffsetInMinutes:180,abbreviation:"EAT",rawFormat:"+03:00 East Africa Time - Asmara, Keren, Himora, Massawa"},{name:"Africa/Dar_es_Salaam",alternativeName:"East Africa Time",group:["Africa/Dar_es_Salaam"],continentCode:"AF",continentName:"Africa",countryName:"Tanzania",countryCode:"TZ",mainCities:["Dar es Salaam","Mwanza","Arusha","Mbeya"],rawOffsetInMinutes:180,abbreviation:"EAT",rawFormat:"+03:00 East Africa Time - Dar es Salaam, Mwanza, Arusha, Mbeya"},{name:"Africa/Djibouti",alternativeName:"East Africa Time",group:["Africa/Djibouti"],continentCode:"AF",continentName:"Africa",countryName:"Djibouti",countryCode:"DJ",mainCities:["Djibouti","Ali Sabih","Dikhil","Tadjoura"],rawOffsetInMinutes:180,abbreviation:"EAT",rawFormat:"+03:00 East Africa Time - Djibouti, Ali Sabih, Dikhil, Tadjoura"},{name:"Africa/Kampala",alternativeName:"East Africa Time",group:["Africa/Kampala"],continentCode:"AF",continentName:"Africa",countryName:"Uganda",countryCode:"UG",mainCities:["Kampala","Gulu","Lira","Mbarara"],rawOffsetInMinutes:180,abbreviation:"EAT",rawFormat:"+03:00 East Africa Time - Kampala, Gulu, Lira, Mbarara"},{name:"Indian/Mayotte",alternativeName:"East Africa Time",group:["Indian/Mayotte"],continentCode:"AF",continentName:"Africa",countryName:"Mayotte",countryCode:"YT",mainCities:["Mamoudzou","Koungou","Labattoir","Kaouéni"],rawOffsetInMinutes:180,abbreviation:"EAT",rawFormat:"+03:00 East Africa Time - Mamoudzou, Koungou, Labattoir, Kaouéni"},{name:"Africa/Mogadishu",alternativeName:"East Africa Time",group:["Africa/Mogadishu"],continentCode:"AF",continentName:"Africa",countryName:"Somalia",countryCode:"SO",mainCities:["Mogadishu","Borama","Hargeysa","Berbera"],rawOffsetInMinutes:180,abbreviation:"EAT",rawFormat:"+03:00 East Africa Time - Mogadishu, Borama, Hargeysa, Berbera"},{name:"Indian/Comoro",alternativeName:"East Africa Time",group:["Indian/Comoro"],continentCode:"AF",continentName:"Africa",countryName:"Comoros",countryCode:"KM",mainCities:["Moroni","Moutsamoudou","Fomboni"],rawOffsetInMinutes:180,abbreviation:"EAT",rawFormat:"+03:00 East Africa Time - Moroni, Moutsamoudou, Fomboni"},{name:"Africa/Nairobi",alternativeName:"East Africa Time",group:["Africa/Nairobi","Africa/Addis_Ababa","Africa/Asmara","Africa/Dar_es_Salaam","Africa/Djibouti","Africa/Kampala","Africa/Mogadishu","Indian/Antananarivo","Indian/Comoro","Indian/Mayotte","Africa/Asmera"],continentCode:"AF",continentName:"Africa",countryName:"Kenya",countryCode:"KE",mainCities:["Nairobi","Kakamega","Mombasa","Nakuru"],rawOffsetInMinutes:180,abbreviation:"EAT",rawFormat:"+03:00 East Africa Time - Nairobi, Kakamega, Mombasa, Nakuru"},{name:"Europe/Minsk",alternativeName:"Moscow Time",group:["Europe/Minsk"],continentCode:"EU",continentName:"Europe",countryName:"Belarus",countryCode:"BY",mainCities:["Minsk","Homyel'","Hrodna","Mahilyow"],rawOffsetInMinutes:180,abbreviation:"MSK",rawFormat:"+03:00 Moscow Time - Minsk, Homyel', Hrodna, Mahilyow"},{name:"Europe/Moscow",alternativeName:"Moscow Time",group:["Europe/Kirov","Europe/Moscow","Europe/Volgograd","W-SU"],continentCode:"EU",continentName:"Europe",countryName:"Russia",countryCode:"RU",mainCities:["Moscow","Saint Petersburg","Nizhniy Novgorod","Kazan"],rawOffsetInMinutes:180,abbreviation:"MSK",rawFormat:"+03:00 Moscow Time - Moscow, Saint Petersburg, Nizhniy Novgorod, Kazan"},{name:"Europe/Simferopol",alternativeName:"Moscow Time",group:["Europe/Simferopol"],continentCode:"EU",continentName:"Europe",countryName:"Ukraine",countryCode:"UA",mainCities:["Sevastopol","Simferopol","Kerch","Yevpatoriya"],rawOffsetInMinutes:180,abbreviation:"MSK",rawFormat:"+03:00 Moscow Time - Sevastopol, Simferopol, Kerch, Yevpatoriya"},{name:"Antarctica/Syowa",alternativeName:"Syowa Time",group:["Antarctica/Syowa"],continentCode:"AN",continentName:"Antarctica",countryName:"Antarctica",countryCode:"AQ",mainCities:["Syowa"],rawOffsetInMinutes:180,abbreviation:"SYOT",rawFormat:"+03:00 Syowa Time - Syowa"},{name:"Europe/Istanbul",alternativeName:"Turkey Time",group:["Europe/Istanbul","Turkey","Asia/Istanbul"],continentCode:"AS",continentName:"Asia",countryName:"Turkey",countryCode:"TR",mainCities:["Istanbul","Ankara","Bursa","İzmir"],rawOffsetInMinutes:180,abbreviation:"TRT",rawFormat:"+03:00 Turkey Time - Istanbul, Ankara, Bursa, İzmir"},{name:"Asia/Tehran",alternativeName:"Iran Time",group:["Asia/Tehran","Iran"],continentCode:"AS",continentName:"Asia",countryName:"Iran",countryCode:"IR",mainCities:["Tehran","Mashhad","Isfahan","Karaj"],rawOffsetInMinutes:210,abbreviation:"IRST",rawFormat:"+03:30 Iran Time - Tehran, Mashhad, Isfahan, Karaj"},{name:"Asia/Yerevan",alternativeName:"Armenia Time",group:["Asia/Yerevan"],continentCode:"AS",continentName:"Asia",countryName:"Armenia",countryCode:"AM",mainCities:["Yerevan","Gyumri","Vanadzor","Vagharshapat"],rawOffsetInMinutes:240,abbreviation:"AMT",rawFormat:"+04:00 Armenia Time - Yerevan, Gyumri, Vanadzor, Vagharshapat"},{name:"Asia/Baku",alternativeName:"Azerbaijan Time",group:["Asia/Baku"],continentCode:"AS",continentName:"Asia",countryName:"Azerbaijan",countryCode:"AZ",mainCities:["Baku","Sumqayıt","Ganja","Lankaran"],rawOffsetInMinutes:240,abbreviation:"AZT",rawFormat:"+04:00 Azerbaijan Time - Baku, Sumqayıt, Ganja, Lankaran"},{name:"Asia/Tbilisi",alternativeName:"Georgia Time",group:["Asia/Tbilisi"],continentCode:"AS",continentName:"Asia",countryName:"Georgia",countryCode:"GE",mainCities:["Tbilisi","Batumi","Kutaisi","Rustavi"],rawOffsetInMinutes:240,abbreviation:"GET",rawFormat:"+04:00 Georgia Time - Tbilisi, Batumi, Kutaisi, Rustavi"},{name:"Asia/Dubai",alternativeName:"Gulf Time",group:["Asia/Dubai","Asia/Muscat","Indian/Mahe","Indian/Reunion"],continentCode:"AS",continentName:"Asia",countryName:"United Arab Emirates",countryCode:"AE",mainCities:["Dubai","Abu Dhabi","Sharjah","Al Ain City"],rawOffsetInMinutes:240,abbreviation:"GST",rawFormat:"+04:00 Gulf Time - Dubai, Abu Dhabi, Sharjah, Al Ain City"},{name:"Asia/Muscat",alternativeName:"Gulf Time",group:["Asia/Muscat"],continentCode:"AS",continentName:"Asia",countryName:"Oman",countryCode:"OM",mainCities:["Muscat","Seeb","Bawshar","‘Ibrī"],rawOffsetInMinutes:240,abbreviation:"GST",rawFormat:"+04:00 Gulf Time - Muscat, Seeb, Bawshar, ‘Ibrī"},{name:"Indian/Mauritius",alternativeName:"Mauritius Time",group:["Indian/Mauritius"],continentCode:"AF",continentName:"Africa",countryName:"Mauritius",countryCode:"MU",mainCities:["Port Louis","Vacoas","Beau Bassin-Rose Hill","Curepipe"],rawOffsetInMinutes:240,abbreviation:"MUT",rawFormat:"+04:00 Mauritius Time - Port Louis, Vacoas, Beau Bassin-Rose Hill, Curepipe"},{name:"Indian/Reunion",alternativeName:"Réunion Time",group:["Indian/Reunion"],continentCode:"AF",continentName:"Africa",countryName:"Reunion",countryCode:"RE",mainCities:["Saint-Denis","Saint-Paul","Saint-Pierre","Le Tampon"],rawOffsetInMinutes:240,abbreviation:"RET",rawFormat:"+04:00 Réunion Time - Saint-Denis, Saint-Paul, Saint-Pierre, Le Tampon"},{name:"Europe/Samara",alternativeName:"Samara Time",group:["Europe/Astrakhan","Europe/Samara","Europe/Saratov","Europe/Ulyanovsk"],continentCode:"EU",continentName:"Europe",countryName:"Russia",countryCode:"RU",mainCities:["Samara","Saratov","Tolyatti","Izhevsk"],rawOffsetInMinutes:240,abbreviation:"SAMT",rawFormat:"+04:00 Samara Time - Samara, Saratov, Tolyatti, Izhevsk"},{name:"Indian/Mahe",alternativeName:"Seychelles Time",group:["Indian/Mahe"],continentCode:"AF",continentName:"Africa",countryName:"Seychelles",countryCode:"SC",mainCities:["Victoria"],rawOffsetInMinutes:240,abbreviation:"SCT",rawFormat:"+04:00 Seychelles Time - Victoria"},{name:"Asia/Kabul",alternativeName:"Afghanistan Time",group:["Asia/Kabul"],continentCode:"AS",continentName:"Asia",countryName:"Afghanistan",countryCode:"AF",mainCities:["Kabul","Herāt","Mazār-e Sharīf","Kandahār"],rawOffsetInMinutes:270,abbreviation:"AFT",rawFormat:"+04:30 Afghanistan Time - Kabul, Herāt, Mazār-e Sharīf, Kandahār"},{name:"Asia/Almaty",alternativeName:"East Kazakhstan Time",group:["Asia/Almaty","Asia/Qostanay"],continentCode:"AS",continentName:"Asia",countryName:"Kazakhstan",countryCode:"KZ",mainCities:["Almaty","Shymkent","Karagandy","Taraz"],rawOffsetInMinutes:300,abbreviation:"ALMT",rawFormat:"+05:00 East Kazakhstan Time - Almaty, Shymkent, Karagandy, Taraz"},{name:"Indian/Kerguelen",alternativeName:"French Southern & Antarctic Time",group:["Indian/Kerguelen"],continentCode:"AN",continentName:"Antarctica",countryName:"French Southern Territories",countryCode:"TF",mainCities:["Port-aux-Français"],rawOffsetInMinutes:300,abbreviation:"FSAT",rawFormat:"+05:00 French Southern & Antarctic Time - Port-aux-Français"},{name:"Indian/Maldives",alternativeName:"Maldives Time",group:["Indian/Maldives","Indian/Kerguelen"],continentCode:"AS",continentName:"Asia",countryName:"Maldives",countryCode:"MV",mainCities:["Male"],rawOffsetInMinutes:300,abbreviation:"MVT",rawFormat:"+05:00 Maldives Time - Male"},{name:"Antarctica/Mawson",alternativeName:"Mawson Time",group:["Antarctica/Mawson","Antarctica/Vostok"],continentCode:"AN",continentName:"Antarctica",countryName:"Antarctica",countryCode:"AQ",mainCities:["Mawson","Vostok"],rawOffsetInMinutes:300,abbreviation:"MAWT",rawFormat:"+05:00 Mawson Time - Mawson, Vostok"},{name:"Asia/Karachi",alternativeName:"Pakistan Time",group:["Asia/Karachi"],continentCode:"AS",continentName:"Asia",countryName:"Pakistan",countryCode:"PK",mainCities:["Karachi","Lahore","Faisalabad","Rawalpindi"],rawOffsetInMinutes:300,abbreviation:"PKT",rawFormat:"+05:00 Pakistan Time - Karachi, Lahore, Faisalabad, Rawalpindi"},{name:"Asia/Dushanbe",alternativeName:"Tajikistan Time",group:["Asia/Dushanbe"],continentCode:"AS",continentName:"Asia",countryName:"Tajikistan",countryCode:"TJ",mainCities:["Dushanbe","Isfara","Istaravshan","Kŭlob"],rawOffsetInMinutes:300,abbreviation:"TJT",rawFormat:"+05:00 Tajikistan Time - Dushanbe, Isfara, Istaravshan, Kŭlob"},{name:"Asia/Ashgabat",alternativeName:"Turkmenistan Time",group:["Asia/Ashgabat","Asia/Ashkhabad"],continentCode:"AS",continentName:"Asia",countryName:"Turkmenistan",countryCode:"TM",mainCities:["Ashgabat","Türkmenabat","Daşoguz","Mary"],rawOffsetInMinutes:300,abbreviation:"TMT",rawFormat:"+05:00 Turkmenistan Time - Ashgabat, Türkmenabat, Daşoguz, Mary"},{name:"Asia/Tashkent",alternativeName:"Uzbekistan Time",group:["Asia/Samarkand","Asia/Tashkent"],continentCode:"AS",continentName:"Asia",countryName:"Uzbekistan",countryCode:"UZ",mainCities:["Tashkent","Namangan","Samarkand","Andijon"],rawOffsetInMinutes:300,abbreviation:"UZT",rawFormat:"+05:00 Uzbekistan Time - Tashkent, Namangan, Samarkand, Andijon"},{name:"Asia/Aqtobe",alternativeName:"West Kazakhstan Time",group:["Asia/Aqtau","Asia/Aqtobe","Asia/Atyrau","Asia/Oral","Asia/Qyzylorda"],continentCode:"AS",continentName:"Asia",countryName:"Kazakhstan",countryCode:"KZ",mainCities:["Aktobe","Kyzylorda","Oral","Atyrau"],rawOffsetInMinutes:300,abbreviation:"AQTT",rawFormat:"+05:00 West Kazakhstan Time - Aktobe, Kyzylorda, Oral, Atyrau"},{name:"Asia/Yekaterinburg",alternativeName:"Yekaterinburg Time",group:["Asia/Yekaterinburg"],continentCode:"EU",continentName:"Europe",countryName:"Russia",countryCode:"RU",mainCities:["Yekaterinburg","Chelyabinsk","Ufa","Perm"],rawOffsetInMinutes:300,abbreviation:"YEKT",rawFormat:"+05:00 Yekaterinburg Time - Yekaterinburg, Chelyabinsk, Ufa, Perm"},{name:"Asia/Colombo",alternativeName:"India Time",group:["Asia/Colombo"],continentCode:"AS",continentName:"Asia",countryName:"Sri Lanka",countryCode:"LK",mainCities:["Colombo","Dehiwala-Mount Lavinia","Maharagama","Jaffna"],rawOffsetInMinutes:330,abbreviation:"IST",rawFormat:"+05:30 India Time - Colombo, Dehiwala-Mount Lavinia, Maharagama, Jaffna"},{name:"Asia/Kolkata",alternativeName:"India Time",group:["Asia/Kolkata","Asia/Calcutta"],continentCode:"AS",continentName:"Asia",countryName:"India",countryCode:"IN",mainCities:["Mumbai","Delhi","Bengaluru","Hyderābād"],rawOffsetInMinutes:330,abbreviation:"IST",rawFormat:"+05:30 India Time - Mumbai, Delhi, Bengaluru, Hyderābād"},{name:"Asia/Kathmandu",alternativeName:"Nepal Time",group:["Asia/Kathmandu","Asia/Katmandu"],continentCode:"AS",continentName:"Asia",countryName:"Nepal",countryCode:"NP",mainCities:["Kathmandu","Bharatpur","Pātan","Birgañj"],rawOffsetInMinutes:345,abbreviation:"NPT",rawFormat:"+05:45 Nepal Time - Kathmandu, Bharatpur, Pātan, Birgañj"},{name:"Asia/Dhaka",alternativeName:"Bangladesh Time",group:["Asia/Dhaka","Asia/Dacca"],continentCode:"AS",continentName:"Asia",countryName:"Bangladesh",countryCode:"BD",mainCities:["Dhaka","Chattogram","Khulna","Rangpur"],rawOffsetInMinutes:360,abbreviation:"BST",rawFormat:"+06:00 Bangladesh Time - Dhaka, Chattogram, Khulna, Rangpur"},{name:"Asia/Thimphu",alternativeName:"Bhutan Time",group:["Asia/Thimphu","Asia/Thimbu"],continentCode:"AS",continentName:"Asia",countryName:"Bhutan",countryCode:"BT",mainCities:["Thimphu","Phuntsholing","Tsirang","Punākha"],rawOffsetInMinutes:360,abbreviation:"BTT",rawFormat:"+06:00 Bhutan Time - Thimphu, Phuntsholing, Tsirang, Punākha"},{name:"Asia/Urumqi",alternativeName:"China Time",group:["Asia/Urumqi","Asia/Kashgar"],continentCode:"AS",continentName:"Asia",countryName:"China",countryCode:"CN",mainCities:["Ürümqi","Shihezi","Korla","Aksu"],rawOffsetInMinutes:360,abbreviation:"CST",rawFormat:"+06:00 China Time - Ürümqi, Shihezi, Korla, Aksu"},{name:"Indian/Chagos",alternativeName:"Indian Ocean Time",group:["Indian/Chagos"],continentCode:"AS",continentName:"Asia",countryName:"British Indian Ocean Territory",countryCode:"IO",mainCities:["Chagos"],rawOffsetInMinutes:360,abbreviation:"IOT",rawFormat:"+06:00 Indian Ocean Time - Chagos"},{name:"Asia/Bishkek",alternativeName:"Kyrgyzstan Time",group:["Asia/Bishkek"],continentCode:"AS",continentName:"Asia",countryName:"Kyrgyzstan",countryCode:"KG",mainCities:["Bishkek","Osh","Jalal-Abad","Karakol"],rawOffsetInMinutes:360,abbreviation:"KGT",rawFormat:"+06:00 Kyrgyzstan Time - Bishkek, Osh, Jalal-Abad, Karakol"},{name:"Asia/Omsk",alternativeName:"Omsk Time",group:["Asia/Omsk"],continentCode:"EU",continentName:"Europe",countryName:"Russia",countryCode:"RU",mainCities:["Omsk","Tara","Kalachinsk","Isil’kul’"],rawOffsetInMinutes:360,abbreviation:"OMST",rawFormat:"+06:00 Omsk Time - Omsk, Tara, Kalachinsk, Isil’kul’"},{name:"Indian/Cocos",alternativeName:"Cocos Islands Time",group:["Indian/Cocos"],continentCode:"AS",continentName:"Asia",countryName:"Cocos Islands",countryCode:"CC",mainCities:["West Island"],rawOffsetInMinutes:390,abbreviation:"CCT",rawFormat:"+06:30 Cocos Islands Time - West Island"},{name:"Asia/Yangon",alternativeName:"Myanmar Time",group:["Asia/Yangon","Indian/Cocos","Asia/Rangoon"],continentCode:"AS",continentName:"Asia",countryName:"Myanmar",countryCode:"MM",mainCities:["Yangon","Mandalay","Nay Pyi Taw","Mawlamyine"],rawOffsetInMinutes:390,abbreviation:"MMT",rawFormat:"+06:30 Myanmar Time - Yangon, Mandalay, Nay Pyi Taw, Mawlamyine"},{name:"Indian/Christmas",alternativeName:"Christmas Island Time",group:["Indian/Christmas"],continentCode:"OC",continentName:"Oceania",countryName:"Christmas Island",countryCode:"CX",mainCities:["Flying Fish Cove"],rawOffsetInMinutes:420,abbreviation:"CXT",rawFormat:"+07:00 Christmas Island Time - Flying Fish Cove"},{name:"Antarctica/Davis",alternativeName:"Davis Time",group:["Antarctica/Davis"],continentCode:"AN",continentName:"Antarctica",countryName:"Antarctica",countryCode:"AQ",mainCities:["Davis"],rawOffsetInMinutes:420,abbreviation:"DAVT",rawFormat:"+07:00 Davis Time - Davis"},{name:"Asia/Hovd",alternativeName:"Hovd Time",group:["Asia/Hovd"],continentCode:"AS",continentName:"Asia",countryName:"Mongolia",countryCode:"MN",mainCities:["Ulaangom","Khovd","Ölgii","Altai"],rawOffsetInMinutes:420,abbreviation:"HOVT",rawFormat:"+07:00 Hovd Time - Ulaangom, Khovd, Ölgii, Altai"},{name:"Asia/Bangkok",alternativeName:"Indochina Time",group:["Asia/Bangkok","Asia/Phnom_Penh","Asia/Vientiane","Indian/Christmas"],continentCode:"AS",continentName:"Asia",countryName:"Thailand",countryCode:"TH",mainCities:["Bangkok","Samut Prakan","Mueang Nonthaburi","Chon Buri"],rawOffsetInMinutes:420,abbreviation:"ICT",rawFormat:"+07:00 Indochina Time - Bangkok, Samut Prakan, Mueang Nonthaburi, Chon Buri"},{name:"Asia/Ho_Chi_Minh",alternativeName:"Indochina Time",group:["Asia/Ho_Chi_Minh","Asia/Saigon"],continentCode:"AS",continentName:"Asia",countryName:"Vietnam",countryCode:"VN",mainCities:["Ho Chi Minh City","Da Nang","Biên Hòa","Cần Thơ"],rawOffsetInMinutes:420,abbreviation:"ICT",rawFormat:"+07:00 Indochina Time - Ho Chi Minh City, Da Nang, Biên Hòa, Cần Thơ"},{name:"Asia/Phnom_Penh",alternativeName:"Indochina Time",group:["Asia/Phnom_Penh"],continentCode:"AS",continentName:"Asia",countryName:"Cambodia",countryCode:"KH",mainCities:["Phnom Penh","Takeo","Siem Reap","Battambang"],rawOffsetInMinutes:420,abbreviation:"ICT",rawFormat:"+07:00 Indochina Time - Phnom Penh, Takeo, Siem Reap, Battambang"},{name:"Asia/Vientiane",alternativeName:"Indochina Time",group:["Asia/Vientiane"],continentCode:"AS",continentName:"Asia",countryName:"Laos",countryCode:"LA",mainCities:["Vientiane","Savannakhet","Pakse","Thakhèk"],rawOffsetInMinutes:420,abbreviation:"ICT",rawFormat:"+07:00 Indochina Time - Vientiane, Savannakhet, Pakse, Thakhèk"},{name:"Asia/Novosibirsk",alternativeName:"Novosibirsk Time",group:["Asia/Barnaul","Asia/Krasnoyarsk","Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Tomsk"],continentCode:"EU",continentName:"Europe",countryName:"Russia",countryCode:"RU",mainCities:["Novosibirsk","Krasnoyarsk","Barnaul","Tomsk"],rawOffsetInMinutes:420,abbreviation:"NOVT",rawFormat:"+07:00 Novosibirsk Time - Novosibirsk, Krasnoyarsk, Barnaul, Tomsk"},{name:"Asia/Jakarta",alternativeName:"Western Indonesia Time",group:["Asia/Jakarta","Asia/Pontianak"],continentCode:"AS",continentName:"Asia",countryName:"Indonesia",countryCode:"ID",mainCities:["Jakarta","Surabaya","Bekasi","Bandung"],rawOffsetInMinutes:420,abbreviation:"WIB",rawFormat:"+07:00 Western Indonesia Time - Jakarta, Surabaya, Bekasi, Bandung"},{name:"Antarctica/Casey",alternativeName:"Australian Western Time",group:["Antarctica/Casey"],continentCode:"AN",continentName:"Antarctica",countryName:"Antarctica",countryCode:"AQ",mainCities:["Casey"],rawOffsetInMinutes:480,abbreviation:"AWST",rawFormat:"+08:00 Australian Western Time - Casey"},{name:"Australia/Perth",alternativeName:"Australian Western Time",group:["Australia/Perth","Australia/West"],continentCode:"OC",continentName:"Oceania",countryName:"Australia",countryCode:"AU",mainCities:["Perth","Mandurah","Bunbury","Baldivis"],rawOffsetInMinutes:480,abbreviation:"AWST",rawFormat:"+08:00 Australian Western Time - Perth, Mandurah, Bunbury, Baldivis"},{name:"Asia/Brunei",alternativeName:"Brunei Darussalam Time",group:["Asia/Brunei"],continentCode:"AS",continentName:"Asia",countryName:"Brunei",countryCode:"BN",mainCities:["Bandar Seri Begawan","Sengkurong","Mentiri","Kuala Belait"],rawOffsetInMinutes:480,abbreviation:"BNT",rawFormat:"+08:00 Brunei Darussalam Time - Bandar Seri Begawan, Sengkurong, Mentiri, Kuala Belait"},{name:"Asia/Makassar",alternativeName:"Central Indonesia Time",group:["Asia/Makassar","Asia/Ujung_Pandang"],continentCode:"AS",continentName:"Asia",countryName:"Indonesia",countryCode:"ID",mainCities:["Makassar","Samarinda","Denpasar","Balikpapan"],rawOffsetInMinutes:480,abbreviation:"WITA",rawFormat:"+08:00 Central Indonesia Time - Makassar, Samarinda, Denpasar, Balikpapan"},{name:"Asia/Macau",alternativeName:"China Time",group:["Asia/Macau","Asia/Macao"],continentCode:"AS",continentName:"Asia",countryName:"Macao",countryCode:"MO",mainCities:["Macau","Taipa","Luhuan","Lai Chi Van"],rawOffsetInMinutes:480,abbreviation:"CST",rawFormat:"+08:00 China Time - Macau, Taipa, Luhuan, Lai Chi Van"},{name:"Asia/Shanghai",alternativeName:"China Time",group:["Asia/Shanghai","PRC","Asia/Chongqing","Asia/Harbin","Asia/Chungking"],continentCode:"AS",continentName:"Asia",countryName:"China",countryCode:"CN",mainCities:["Shanghai","Beijing","Shenzhen","Guangzhou"],rawOffsetInMinutes:480,abbreviation:"CST",rawFormat:"+08:00 China Time - Shanghai, Beijing, Shenzhen, Guangzhou"},{name:"Asia/Hong_Kong",alternativeName:"Hong Kong Time",group:["Asia/Hong_Kong","Hongkong"],continentCode:"AS",continentName:"Asia",countryName:"Hong Kong",countryCode:"HK",mainCities:["Hong Kong","New Territories","Kowloon","Hong Kong Island"],rawOffsetInMinutes:480,abbreviation:"HKT",rawFormat:"+08:00 Hong Kong Time - Hong Kong, New Territories, Kowloon, Hong Kong Island"},{name:"Asia/Irkutsk",alternativeName:"Irkutsk Time",group:["Asia/Irkutsk"],continentCode:"EU",continentName:"Europe",countryName:"Russia",countryCode:"RU",mainCities:["Irkutsk","Ulan-Ude","Bratsk","Angarsk"],rawOffsetInMinutes:480,abbreviation:"IRKT",rawFormat:"+08:00 Irkutsk Time - Irkutsk, Ulan-Ude, Bratsk, Angarsk"},{name:"Asia/Kuala_Lumpur",alternativeName:"Malaysia Time",group:["Asia/Kuala_Lumpur","Asia/Kuching","Asia/Brunei"],continentCode:"AS",continentName:"Asia",countryName:"Malaysia",countryCode:"MY",mainCities:["Kuala Lumpur","Petaling Jaya","Klang","Johor Bahru"],rawOffsetInMinutes:480,abbreviation:"MYT",rawFormat:"+08:00 Malaysia Time - Kuala Lumpur, Petaling Jaya, Klang, Johor Bahru"},{name:"Asia/Manila",alternativeName:"Philippine Time",group:["Asia/Manila"],continentCode:"AS",continentName:"Asia",countryName:"Philippines",countryCode:"PH",mainCities:["Quezon City","Davao","Manila","Caloocan City"],rawOffsetInMinutes:480,abbreviation:"PHT",rawFormat:"+08:00 Philippine Time - Quezon City, Davao, Manila, Caloocan City"},{name:"Asia/Singapore",alternativeName:"Singapore Time",group:["Asia/Singapore","Singapore","Asia/Kuala_Lumpur"],continentCode:"AS",continentName:"Asia",countryName:"Singapore",countryCode:"SG",mainCities:["Singapore","Ulu Bedok","Bedok New Town","Tampines Estate"],rawOffsetInMinutes:480,abbreviation:"SGT",rawFormat:"+08:00 Singapore Time - Singapore, Ulu Bedok, Bedok New Town, Tampines Estate"},{name:"Asia/Taipei",alternativeName:"Taipei Time",group:["Asia/Taipei","ROC"],continentCode:"AS",continentName:"Asia",countryName:"Taiwan",countryCode:"TW",mainCities:["Taipei","Kaohsiung","Taichung","Tainan"],rawOffsetInMinutes:480,abbreviation:"TWT",rawFormat:"+08:00 Taipei Time - Taipei, Kaohsiung, Taichung, Tainan"},{name:"Asia/Ulaanbaatar",alternativeName:"Ulaanbaatar Time",group:["Asia/Choibalsan","Asia/Ulaanbaatar","Asia/Ulan_Bator"],continentCode:"AS",continentName:"Asia",countryName:"Mongolia",countryCode:"MN",mainCities:["Ulan Bator","Erdenet","Darhan","Mörön"],rawOffsetInMinutes:480,abbreviation:"ULAT",rawFormat:"+08:00 Ulaanbaatar Time - Ulan Bator, Erdenet, Darhan, Mörön"},{name:"Australia/Eucla",alternativeName:"Australian Central Western Time",group:["Australia/Eucla"],continentCode:"OC",continentName:"Oceania",countryName:"Australia",countryCode:"AU",mainCities:["Eucla"],rawOffsetInMinutes:525,abbreviation:"ACWST",rawFormat:"+08:45 Australian Central Western Time - Eucla"},{name:"Asia/Dili",alternativeName:"East Timor Time",group:["Asia/Dili"],continentCode:"OC",continentName:"Oceania",countryName:"Timor Leste",countryCode:"TL",mainCities:["Dili","Maliana","Suai","Likisá"],rawOffsetInMinutes:540,abbreviation:"TLT",rawFormat:"+09:00 East Timor Time - Dili, Maliana, Suai, Likisá"},{name:"Asia/Jayapura",alternativeName:"Eastern Indonesia Time",group:["Asia/Jayapura"],continentCode:"AS",continentName:"Asia",countryName:"Indonesia",countryCode:"ID",mainCities:["Jayapura","Ambon","Sorong","Ternate"],rawOffsetInMinutes:540,abbreviation:"WIT",rawFormat:"+09:00 Eastern Indonesia Time - Jayapura, Ambon, Sorong, Ternate"},{name:"Asia/Tokyo",alternativeName:"Japan Time",group:["Asia/Tokyo","Japan"],continentCode:"AS",continentName:"Asia",countryName:"Japan",countryCode:"JP",mainCities:["Tokyo","Yokohama","Osaka","Nagoya"],rawOffsetInMinutes:540,abbreviation:"JST",rawFormat:"+09:00 Japan Time - Tokyo, Yokohama, Osaka, Nagoya"},{name:"Asia/Pyongyang",alternativeName:"Korean Time",group:["Asia/Pyongyang"],continentCode:"AS",continentName:"Asia",countryName:"North Korea",countryCode:"KP",mainCities:["Pyongyang","Hamhŭng","Namp’o","Sunch’ŏn"],rawOffsetInMinutes:540,abbreviation:"KST",rawFormat:"+09:00 Korean Time - Pyongyang, Hamhŭng, Namp’o, Sunch’ŏn"},{name:"Asia/Seoul",alternativeName:"Korean Time",group:["Asia/Seoul","ROK"],continentCode:"AS",continentName:"Asia",countryName:"South Korea",countryCode:"KR",mainCities:["Seoul","Busan","Incheon","Daegu"],rawOffsetInMinutes:540,abbreviation:"KST",rawFormat:"+09:00 Korean Time - Seoul, Busan, Incheon, Daegu"},{name:"Pacific/Palau",alternativeName:"Palau Time",group:["Pacific/Palau"],continentCode:"OC",continentName:"Oceania",countryName:"Palau",countryCode:"PW",mainCities:["Ngerulmud"],rawOffsetInMinutes:540,abbreviation:"PWT",rawFormat:"+09:00 Palau Time - Ngerulmud"},{name:"Asia/Chita",alternativeName:"Yakutsk Time",group:["Asia/Chita","Asia/Khandyga","Asia/Yakutsk"],continentCode:"EU",continentName:"Europe",countryName:"Russia",countryCode:"RU",mainCities:["Chita","Yakutsk","Blagoveshchensk","Belogorsk"],rawOffsetInMinutes:540,abbreviation:"YAKT",rawFormat:"+09:00 Yakutsk Time - Chita, Yakutsk, Blagoveshchensk, Belogorsk"},{name:"Australia/Adelaide",alternativeName:"Australian Central Time",group:["Australia/Adelaide","Australia/Broken_Hill","Australia/South","Australia/Yancowinna"],continentCode:"OC",continentName:"Oceania",countryName:"Australia",countryCode:"AU",mainCities:["Adelaide","Adelaide Hills","Mount Gambier","Morphett Vale"],rawOffsetInMinutes:570,abbreviation:"ACST",rawFormat:"+09:30 Australian Central Time - Adelaide, Adelaide Hills, Mount Gambier, Morphett Vale"},{name:"Australia/Darwin",alternativeName:"Australian Central Time",group:["Australia/Darwin","Australia/North"],continentCode:"OC",continentName:"Oceania",countryName:"Australia",countryCode:"AU",mainCities:["Darwin","Alice Springs","Palmerston"],rawOffsetInMinutes:570,abbreviation:"ACST",rawFormat:"+09:30 Australian Central Time - Darwin, Alice Springs, Palmerston"},{name:"Australia/Brisbane",alternativeName:"Australian Eastern Time",group:["Australia/Brisbane","Australia/Lindeman","Australia/Queensland"],continentCode:"OC",continentName:"Oceania",countryName:"Australia",countryCode:"AU",mainCities:["Brisbane","Gold Coast","Logan City","Townsville"],rawOffsetInMinutes:600,abbreviation:"AEST",rawFormat:"+10:00 Australian Eastern Time - Brisbane, Gold Coast, Logan City, Townsville"},{name:"Australia/Sydney",alternativeName:"Australian Eastern Time",group:["Antarctica/Macquarie","Australia/Hobart","Australia/Melbourne","Australia/Sydney","Australia/Tasmania","Australia/Currie","Australia/Victoria","Australia/ACT","Australia/NSW","Australia/Canberra"],continentCode:"OC",continentName:"Oceania",countryName:"Australia",countryCode:"AU",mainCities:["Sydney","Melbourne","Canberra","Newcastle"],rawOffsetInMinutes:600,abbreviation:"AEST",rawFormat:"+10:00 Australian Eastern Time - Sydney, Melbourne, Canberra, Newcastle"},{name:"Pacific/Guam",alternativeName:"Chamorro Time",group:["Pacific/Guam","Pacific/Saipan"],continentCode:"OC",continentName:"Oceania",countryName:"Guam",countryCode:"GU",mainCities:["Dededo Village","Yigo Village","Tamuning-Tumon-Harmon Village","Tamuning"],rawOffsetInMinutes:600,abbreviation:"ChST",rawFormat:"+10:00 Chamorro Time - Dededo Village, Yigo Village, Tamuning-Tumon-Harmon Village, Tamuning"},{name:"Pacific/Saipan",alternativeName:"Chamorro Time",group:["Pacific/Saipan"],continentCode:"OC",continentName:"Oceania",countryName:"Northern Mariana Islands",countryCode:"MP",mainCities:["Saipan"],rawOffsetInMinutes:600,abbreviation:"ChST",rawFormat:"+10:00 Chamorro Time - Saipan"},{name:"Pacific/Chuuk",alternativeName:"Chuuk Time",group:["Pacific/Chuuk","Pacific/Truk","Pacific/Yap"],continentCode:"OC",continentName:"Oceania",countryName:"Micronesia",countryCode:"FM",mainCities:["Chuuk"],rawOffsetInMinutes:600,abbreviation:"CHUT",rawFormat:"+10:00 Chuuk Time - Chuuk"},{name:"Antarctica/DumontDUrville",alternativeName:"Dumont-d’Urville Time",group:["Antarctica/DumontDUrville"],continentCode:"AN",continentName:"Antarctica",countryName:"Antarctica",countryCode:"AQ",mainCities:["DumontDUrville"],rawOffsetInMinutes:600,abbreviation:"DDUT",rawFormat:"+10:00 Dumont-d’Urville Time - DumontDUrville"},{name:"Pacific/Port_Moresby",alternativeName:"Papua New Guinea Time",group:["Pacific/Port_Moresby","Antarctica/DumontDUrville","Pacific/Chuuk","Pacific/Yap","Pacific/Truk"],continentCode:"OC",continentName:"Oceania",countryName:"Papua New Guinea",countryCode:"PG",mainCities:["Port Moresby","Lae","Mount Hagen","Popondetta"],rawOffsetInMinutes:600,abbreviation:"PGT",rawFormat:"+10:00 Papua New Guinea Time - Port Moresby, Lae, Mount Hagen, Popondetta"},{name:"Asia/Vladivostok",alternativeName:"Vladivostok Time",group:["Asia/Ust-Nera","Asia/Vladivostok"],continentCode:"EU",continentName:"Europe",countryName:"Russia",countryCode:"RU",mainCities:["Khabarovsk","Vladivostok","Khabarovsk Vtoroy","Komsomolsk-on-Amur"],rawOffsetInMinutes:600,abbreviation:"VLAT",rawFormat:"+10:00 Vladivostok Time - Khabarovsk, Vladivostok, Khabarovsk Vtoroy, Komsomolsk-on-Amur"},{name:"Australia/Lord_Howe",alternativeName:"Lord Howe Time",group:["Australia/Lord_Howe","Australia/LHI"],continentCode:"OC",continentName:"Oceania",countryName:"Australia",countryCode:"AU",mainCities:["Lord Howe"],rawOffsetInMinutes:630,abbreviation:"LHST",rawFormat:"+10:30 Lord Howe Time - Lord Howe"},{name:"Pacific/Bougainville",alternativeName:"Bougainville Time",group:["Pacific/Bougainville"],continentCode:"OC",continentName:"Oceania",countryName:"Papua New Guinea",countryCode:"PG",mainCities:["Arawa"],rawOffsetInMinutes:660,abbreviation:"BST",rawFormat:"+11:00 Bougainville Time - Arawa"},{name:"Pacific/Kosrae",alternativeName:"Kosrae Time",group:["Pacific/Kosrae","Pacific/Pohnpei"],continentCode:"OC",continentName:"Oceania",countryName:"Micronesia",countryCode:"FM",mainCities:["Kosrae","Palikir - National Government Center"],rawOffsetInMinutes:660,abbreviation:"KOST",rawFormat:"+11:00 Kosrae Time - Kosrae, Palikir - National Government Center"},{name:"Pacific/Noumea",alternativeName:"New Caledonia Time",group:["Pacific/Noumea"],continentCode:"OC",continentName:"Oceania",countryName:"New Caledonia",countryCode:"NC",mainCities:["Nouméa","Mont-Dore","Dumbéa"],rawOffsetInMinutes:660,abbreviation:"NCT",rawFormat:"+11:00 New Caledonia Time - Nouméa, Mont-Dore, Dumbéa"},{name:"Pacific/Norfolk",alternativeName:"Norfolk Island Time",group:["Pacific/Norfolk"],continentCode:"OC",continentName:"Oceania",countryName:"Norfolk Island",countryCode:"NF",mainCities:["Kingston"],rawOffsetInMinutes:660,abbreviation:"NFT",rawFormat:"+11:00 Norfolk Island Time - Kingston"},{name:"Asia/Sakhalin",alternativeName:"Sakhalin Time",group:["Asia/Magadan","Asia/Sakhalin","Asia/Srednekolymsk"],continentCode:"EU",continentName:"Europe",countryName:"Russia",countryCode:"RU",mainCities:["Yuzhno-Sakhalinsk","Magadan","Korsakov","Kholmsk"],rawOffsetInMinutes:660,abbreviation:"SAKT",rawFormat:"+11:00 Sakhalin Time - Yuzhno-Sakhalinsk, Magadan, Korsakov, Kholmsk"},{name:"Pacific/Guadalcanal",alternativeName:"Solomon Islands Time",group:["Pacific/Guadalcanal","Pacific/Pohnpei","Pacific/Ponape"],continentCode:"OC",continentName:"Oceania",countryName:"Solomon Islands",countryCode:"SB",mainCities:["Honiara"],rawOffsetInMinutes:660,abbreviation:"SBT",rawFormat:"+11:00 Solomon Islands Time - Honiara"},{name:"Pacific/Efate",alternativeName:"Vanuatu Time",group:["Pacific/Efate"],continentCode:"OC",continentName:"Oceania",countryName:"Vanuatu",countryCode:"VU",mainCities:["Port-Vila"],rawOffsetInMinutes:660,abbreviation:"VUT",rawFormat:"+11:00 Vanuatu Time - Port-Vila"},{name:"Pacific/Fiji",alternativeName:"Fiji Time",group:["Pacific/Fiji"],continentCode:"OC",continentName:"Oceania",countryName:"Fiji",countryCode:"FJ",mainCities:["Nasinu","Suva","Lautoka","Nadi"],rawOffsetInMinutes:720,abbreviation:"FJT",rawFormat:"+12:00 Fiji Time - Nasinu, Suva, Lautoka, Nadi"},{name:"Pacific/Tarawa",alternativeName:"Gilbert Islands Time",group:["Pacific/Tarawa","Pacific/Funafuti","Pacific/Majuro","Pacific/Wake","Pacific/Wallis"],continentCode:"OC",continentName:"Oceania",countryName:"Kiribati",countryCode:"KI",mainCities:["Tarawa"],rawOffsetInMinutes:720,abbreviation:"GILT",rawFormat:"+12:00 Gilbert Islands Time - Tarawa"},{name:"Pacific/Majuro",alternativeName:"Marshall Islands Time",group:["Pacific/Kwajalein","Pacific/Majuro","Kwajalein"],continentCode:"OC",continentName:"Oceania",countryName:"Marshall Islands",countryCode:"MH",mainCities:["Majuro","Kwajalein","RMI Capitol"],rawOffsetInMinutes:720,abbreviation:"MHT",rawFormat:"+12:00 Marshall Islands Time - Majuro, Kwajalein, RMI Capitol"},{name:"Pacific/Nauru",alternativeName:"Nauru Time",group:["Pacific/Nauru"],continentCode:"OC",continentName:"Oceania",countryName:"Nauru",countryCode:"NR",mainCities:["Yaren"],rawOffsetInMinutes:720,abbreviation:"NRT",rawFormat:"+12:00 Nauru Time - Yaren"},{name:"Pacific/Auckland",alternativeName:"New Zealand Time",group:["Pacific/Auckland","NZ","Antarctica/McMurdo","Antarctica/South_Pole"],continentCode:"OC",continentName:"Oceania",countryName:"New Zealand",countryCode:"NZ",mainCities:["Auckland","Wellington","Christchurch","Manukau City"],rawOffsetInMinutes:720,abbreviation:"NZST",rawFormat:"+12:00 New Zealand Time - Auckland, Wellington, Christchurch, Manukau City"},{name:"Antarctica/McMurdo",alternativeName:"New Zealand Time",group:["Antarctica/McMurdo"],continentCode:"AN",continentName:"Antarctica",countryName:"Antarctica",countryCode:"AQ",mainCities:["McMurdo"],rawOffsetInMinutes:720,abbreviation:"NZST",rawFormat:"+12:00 New Zealand Time - McMurdo"},{name:"Asia/Kamchatka",alternativeName:"Petropavlovsk-Kamchatski Time",group:["Asia/Anadyr","Asia/Kamchatka"],continentCode:"EU",continentName:"Europe",countryName:"Russia",countryCode:"RU",mainCities:["Petropavlovsk-Kamchatsky","Yelizovo","Vilyuchinsk","Anadyr"],rawOffsetInMinutes:720,abbreviation:"PETT",rawFormat:"+12:00 Petropavlovsk-Kamchatski Time - Petropavlovsk-Kamchatsky, Yelizovo, Vilyuchinsk, Anadyr"},{name:"Pacific/Funafuti",alternativeName:"Tuvalu Time",group:["Pacific/Funafuti"],continentCode:"OC",continentName:"Oceania",countryName:"Tuvalu",countryCode:"TV",mainCities:["Funafuti"],rawOffsetInMinutes:720,abbreviation:"TVT",rawFormat:"+12:00 Tuvalu Time - Funafuti"},{name:"Pacific/Wake",alternativeName:"Wake Island Time",group:["Pacific/Wake"],continentCode:"OC",continentName:"Oceania",countryName:"United States Minor Outlying Islands",countryCode:"UM",mainCities:["Wake"],rawOffsetInMinutes:720,abbreviation:"WAKT",rawFormat:"+12:00 Wake Island Time - Wake"},{name:"Pacific/Wallis",alternativeName:"Wallis & Futuna Time",group:["Pacific/Wallis"],continentCode:"OC",continentName:"Oceania",countryName:"Wallis and Futuna",countryCode:"WF",mainCities:["Mata-Utu"],rawOffsetInMinutes:720,abbreviation:"WFT",rawFormat:"+12:00 Wallis & Futuna Time - Mata-Utu"},{name:"Pacific/Chatham",alternativeName:"Chatham Time",group:["Pacific/Chatham","NZ-CHAT"],continentCode:"OC",continentName:"Oceania",countryName:"New Zealand",countryCode:"NZ",mainCities:["Chatham"],rawOffsetInMinutes:765,abbreviation:"CHAST",rawFormat:"+12:45 Chatham Time - Chatham"},{name:"Pacific/Apia",alternativeName:"Apia Time",group:["Pacific/Apia"],continentCode:"OC",continentName:"Oceania",countryName:"Samoa",countryCode:"WS",mainCities:["Apia"],rawOffsetInMinutes:780,abbreviation:"WST",rawFormat:"+13:00 Apia Time - Apia"},{name:"Pacific/Kanton",alternativeName:"Phoenix Islands Time",group:["Pacific/Kanton","Pacific/Enderbury"],continentCode:"OC",continentName:"Oceania",countryName:"Kiribati",countryCode:"KI",mainCities:["Kanton"],rawOffsetInMinutes:780,abbreviation:"PHOT",rawFormat:"+13:00 Phoenix Islands Time - Kanton"},{name:"Pacific/Fakaofo",alternativeName:"Tokelau Time",group:["Pacific/Fakaofo"],continentCode:"OC",continentName:"Oceania",countryName:"Tokelau",countryCode:"TK",mainCities:["Fakaofo"],rawOffsetInMinutes:780,abbreviation:"TKT",rawFormat:"+13:00 Tokelau Time - Fakaofo"},{name:"Pacific/Tongatapu",alternativeName:"Tonga Time",group:["Pacific/Tongatapu"],continentCode:"OC",continentName:"Oceania",countryName:"Tonga",countryCode:"TO",mainCities:["Nuku‘alofa"],rawOffsetInMinutes:780,abbreviation:"TOT",rawFormat:"+13:00 Tonga Time - Nuku‘alofa"},{name:"Pacific/Kiritimati",alternativeName:"Line Islands Time",group:["Pacific/Kiritimati"],continentCode:"OC",continentName:"Oceania",countryName:"Kiribati",countryCode:"KI",mainCities:["Kiritimati"],rawOffsetInMinutes:840,abbreviation:"LINT",rawFormat:"+14:00 Line Islands Time - Kiritimati"}];function aAn({alternativeName:e,mainCities:t,rawOffsetInMinutes:n,currentTimeOffsetInMinutes:r},{useCurrentOffset:i=!1}={}){return`${oAn(i?r:n).padStart(6,"+")} ${e} - ${t.join(", ")}`}function oAn(e){const t=Math.abs(e),[n,r]=[Math.floor(t/60),t%60].map(a=>a.toString().padStart(2,"0")),i=`${n}:${r}`;return`${e>=0?"+":"-"}${i}`}const sAn=/^[A-Za-z_+-]{1,256}(:?\/[A-Za-z_+-]{1,256}(\/[A-Za-z_+-]{1,256})?)?$/,lAn={year:0,month:1,day:2,hour:3,minute:4,second:5};function uAn(e){return!!(e&&e.match(sAn))}function cAn(e,t){const n=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n),[,i,a,o,s,l,c]=r;return[o,i,a,s,l,c]}function dAn(e,t){const n=e.formatToParts(t),r=[];for(let i=0;i<n.length;i++){const{type:a,value:o}=n[i],s=lAn[a];typeof s<"u"&&(r[s]=parseInt(o,10))}return r}function fAn(e){return new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}function hAn(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(t.getUTCFullYear()-1900)),+t}function pAn(e){if(!uAn(e))return!1;const t=new Date(Date.now());let n;try{n=fAn(e)}catch{return!1}const[r,i,a,o,s,l]=n.formatToParts?dAn(n,t):cAn(n,t),c=hAn({year:r,month:i,day:a,hour:o,minute:s,second:l,millisecond:0});let d=+t;const h=d%1e3;return d-=h>=0?h:1e3+h,(c-d)/(60*1e3)}function mAn(e){return iAn.reduce(function(t,n){const r=n.name,i=pAn(r);if(i===!1)return t;const a={...n,currentTimeOffsetInMinutes:i};return t.push({...a,currentTimeFormat:aAn(a,{useCurrentOffset:!0})}),t},[]).sort((t,n)=>gAn(t,n)||vde(t.alternativeName,n.alternativeName)||vde(t.mainCities[0],n.mainCities[0]))}function gAn(e,t){return e.currentTimeOffsetInMinutes-t.currentTimeOffsetInMinutes}function vde(e,t){return typeof e=="string"&&typeof t=="string"?e.localeCompare(t):0}function yde(e,t,n){var r=bAn(e,n.timeZone,n.locale);return r.formatToParts?vAn(r,t):yAn(r,t)}function vAn(e,t){for(var n=e.formatToParts(t),r=n.length-1;r>=0;--r)if(n[r].type==="timeZoneName")return n[r].value}function yAn(e,t){var n=e.format(t).replace(/\u200E/g,""),r=/ [\w-+ ]+$/.exec(n);return r?r[0].substr(1):""}function bAn(e,t,n){if(n&&!n.code)throw new Error("date-fns-tz error: Please set a language code on the locale object imported from date-fns, e.g. `locale.code = 'en-US'`");return new Intl.DateTimeFormat(n?[n.code,"en-US"]:void 0,{timeZone:t,timeZoneName:e})}function xAn(e,t){var n=_An(t);return n.formatToParts?CAn(n,e):SAn(n,e)}var wAn={year:0,month:1,day:2,hour:3,minute:4,second:5};function CAn(e,t){try{for(var n=e.formatToParts(t),r=[],i=0;i<n.length;i++){var a=wAn[n[i].type];a>=0&&(r[a]=parseInt(n[i].value,10))}return r}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function SAn(e,t){var n=e.format(t),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var e4={};function _An(e){if(!e4[e]){var t=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=t==="06/25/2014, 00:00:00"||t==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";e4[e]=n?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return e4[e]}function hq(e,t,n,r,i,a,o){var s=new Date(0);return s.setUTCFullYear(e,t,n),s.setUTCHours(r,i,a,o),s}var bde=36e5,EAn=6e4,t4={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function MM(e,t,n){var r,i;if(!e||(r=t4.timezoneZ.exec(e),r))return 0;var a;if(r=t4.timezoneHH.exec(e),r)return a=parseInt(r[1],10),xde(a)?-(a*bde):NaN;if(r=t4.timezoneHHMM.exec(e),r){a=parseInt(r[2],10);var o=parseInt(r[3],10);return xde(a,o)?(i=Math.abs(a)*bde+o*EAn,r[1]==="+"?-i:i):NaN}if(AAn(e)){t=new Date(t||Date.now());var s=n?t:kAn(t),l=Z7(s,e),c=n?l:TAn(t,l,e);return-c}return NaN}function kAn(e){return hq(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function Z7(e,t){var n=xAn(e,t),r=hq(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),i=e.getTime(),a=i%1e3;return i-=a>=0?a:1e3+a,r-i}function TAn(e,t,n){var r=e.getTime(),i=r-t,a=Z7(new Date(i),n);if(t===a)return t;i-=a-t;var o=Z7(new Date(i),n);return a===o?a:Math.max(a,o)}function xde(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}var wde={};function AAn(e){if(wde[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),wde[e]=!0,!0}catch{return!1}}var jAn=60*1e3,IAn={X:function(e,t,n,r){var i=n4(r.timeZone,e);if(i===0)return"Z";switch(t){case"X":return Cde(i);case"XXXX":case"XX":return Pv(i);case"XXXXX":case"XXX":default:return Pv(i,":")}},x:function(e,t,n,r){var i=n4(r.timeZone,e);switch(t){case"x":return Cde(i);case"xxxx":case"xx":return Pv(i);case"xxxxx":case"xxx":default:return Pv(i,":")}},O:function(e,t,n,r){var i=n4(r.timeZone,e);switch(t){case"O":case"OO":case"OOO":return"GMT"+DAn(i,":");case"OOOO":default:return"GMT"+Pv(i,":")}},z:function(e,t,n,r){switch(t){case"z":case"zz":case"zzz":return yde("short",e,r);case"zzzz":default:return yde("long",e,r)}}};function n4(e,t){var n=e?MM(e,t,!0)/jAn:t.getTimezoneOffset();if(Number.isNaN(n))throw new RangeError("Invalid time zone specified: "+e);return n}function wI(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}function Pv(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e),a=wI(Math.floor(i/60),2),o=wI(Math.floor(i%60),2);return r+a+n+o}function Cde(e,t){if(e%60===0){var n=e>0?"-":"+";return n+wI(Math.abs(e)/60,2)}return Pv(e,t)}function DAn(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),a=r%60;if(a===0)return n+String(i);var o=t;return n+String(i)+o+wI(a,2)}var $An=IAn,lRe=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,r4=36e5,Sde=6e4,OAn=2,zo={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:lRe};function CI(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);var n=t||{},r=n.additionalDigits==null?OAn:iHt(n.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var i=MAn(e),a=RAn(i.date,r),o=a.year,s=a.restDateString,l=PAn(s,o);if(isNaN(l))return new Date(NaN);if(l){var c=l.getTime(),d=0,h;if(i.time&&(d=FAn(i.time),isNaN(d)))return new Date(NaN);if(i.timeZone||n.timeZone){if(h=MM(i.timeZone||n.timeZone,new Date(c+d)),isNaN(h))return new Date(NaN)}else h=Tae(new Date(c+d)),h=Tae(new Date(c+d+h));return new Date(c+d+h)}else return new Date(NaN)}function MAn(e){var t={},n=zo.dateTimePattern.exec(e),r;if(n?(t.date=n[1],r=n[3]):(n=zo.datePattern.exec(e),n?(t.date=n[1],r=n[2]):(t.date=null,r=e)),r){var i=zo.timeZone.exec(r);i?(t.time=r.replace(i[1],""),t.timeZone=i[1].trim()):t.time=r}return t}function RAn(e,t){var n=zo.YYY[t],r=zo.YYYYY[t],i;if(i=zo.YYYY.exec(e)||r.exec(e),i){var a=i[1];return{year:parseInt(a,10),restDateString:e.slice(a.length)}}if(i=zo.YY.exec(e)||n.exec(e),i){var o=i[1];return{year:parseInt(o,10)*100,restDateString:e.slice(o.length)}}return{year:null}}function PAn(e,t){if(t===null)return null;var n,r,i,a;if(e.length===0)return r=new Date(0),r.setUTCFullYear(t),r;if(n=zo.MM.exec(e),n)return r=new Date(0),i=parseInt(n[1],10)-1,Ede(t,i)?(r.setUTCFullYear(t,i),r):new Date(NaN);if(n=zo.DDD.exec(e),n){r=new Date(0);var o=parseInt(n[1],10);return BAn(t,o)?(r.setUTCFullYear(t,0,o),r):new Date(NaN)}if(n=zo.MMDD.exec(e),n){r=new Date(0),i=parseInt(n[1],10)-1;var s=parseInt(n[2],10);return Ede(t,i,s)?(r.setUTCFullYear(t,i,s),r):new Date(NaN)}if(n=zo.Www.exec(e),n)return a=parseInt(n[1],10)-1,kde(t,a)?_de(t,a):new Date(NaN);if(n=zo.WwwD.exec(e),n){a=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return kde(t,a,l)?_de(t,a,l):new Date(NaN)}return null}function FAn(e){var t,n,r;if(t=zo.HH.exec(e),t)return n=parseFloat(t[1].replace(",",".")),i4(n)?n%24*r4:NaN;if(t=zo.HHMM.exec(e),t)return n=parseInt(t[1],10),r=parseFloat(t[2].replace(",",".")),i4(n,r)?n%24*r4+r*Sde:NaN;if(t=zo.HHMMSS.exec(e),t){n=parseInt(t[1],10),r=parseInt(t[2],10);var i=parseFloat(t[3].replace(",","."));return i4(n,r,i)?n%24*r4+r*Sde+i*1e3:NaN}return null}function _de(e,t,n){t=t||0,n=n||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var i=r.getUTCDay()||7,a=t*7+n+1-i;return r.setUTCDate(r.getUTCDate()+a),r}var NAn=[31,28,31,30,31,30,31,31,30,31,30,31],LAn=[31,29,31,30,31,30,31,31,30,31,30,31];function uRe(e){return e%400===0||e%4===0&&e%100!==0}function Ede(e,t,n){if(t<0||t>11)return!1;if(n!=null){if(n<1)return!1;var r=uRe(e);if(r&&n>LAn[t]||!r&&n>NAn[t])return!1}return!0}function BAn(e,t){if(t<1)return!1;var n=uRe(e);return!(n&&t>366||!n&&t>365)}function kde(e,t,n){return!(t<0||t>52||n!=null&&(n<0||n>6))}function i4(e,t,n){return!(e!=null&&(e<0||e>=25)||t!=null&&(t<0||t>=60)||n!=null&&(n<0||n>=60))}var VAn=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function zAn(e,t,n){var r=String(t),i=n||{},a=r.match(VAn);if(a){var o=CI(i.originalDate||e,i);r=a.reduce(function(s,l){if(l[0]==="'")return s;var c=s.indexOf(l),d=s[c-1]==="'",h=s.replace(l,"'"+$An[l[0]](o,l,null,i)+"'");return d?h.substring(0,c-1)+h.substring(c+1):h},r)}return MHt(e,r,i)}function X7(e,t,n){var r=CI(e,n),i=MM(t,r,!0),a=new Date(r.getTime()-i),o=new Date(0);return o.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),o.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),o}function cRe(e,t,n,r){var i=xTe(r);return i.timeZone=t,i.originalDate=e,zAn(X7(e,t),n,i)}function UAn(e,t,n){if(typeof e=="string"&&!e.match(lRe)){var r=xTe(n);return r.timeZone=t,CI(e,r)}var i=CI(e,n),a=hq(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()).getTime(),o=MM(t,new Date(a));return new Date(a+o)}const Ns=e=>{const{body:t,title:n}=e;return u.jsxs(ee,{paddingY:1,space:3,children:[u.jsxs(An,{space:2,children:[u.jsx(Ma,{}),n&&u.jsx(N,{size:2,weight:"semibold",children:n})]}),t&&u.jsx(N,{size:1,children:t})]})},J7="scheduled-publishing:";hi(J7);function RM(e){const t=`${J7}${e}`;return hi&&hi.enabled(t)?hi(t):hi(J7)}function HAn(e){return typeof e!="object"||!e?!1:"statusCode"in e&&"response"in e}function Fv(e){let t;return HAn(e)?e.response.statusCode===403?t=eAn:t=e.message:(e instanceof Error&&(t=e.message),t=String(e)),t}const WAn=RM("useScheduleOperation"),AC=mAn().map(e=>({abbreviation:e.abbreviation,alternativeName:e.alternativeName,mainCities:e.mainCities.join(", "),name:e.name,namePretty:e.name.replaceAll("_"," "),offset:e.currentTimeFormat.split(" ")[0],value:`${e.currentTimeFormat} ${e.abbreviation} ${e.name}`}));function Q7(){return AC.find(e=>e.name===Intl.DateTimeFormat().resolvedOptions().timeZone)||AC.find(e=>e.abbreviation==="GMT")||AC[0]}function Tde(){const e=localStorage.getItem(aRe);try{if(e)return JSON.parse(e)}catch{}return Q7()}const io=()=>{const e=f.useMemo(()=>Tde(),[]),[t,n]=f.useState(e),r=Pr();f.useEffect(()=>{const c=()=>{n(Tde())};return window.addEventListener("timeZoneEventUpdate",c),()=>{window.removeEventListener("timeZoneEventUpdate",c)}},[]);const i=f.useCallback(({date:c,format:d=U1.LARGE,includeTimeZone:h,prefix:p})=>{let m=d;return p&&(m=`'${p}'${d}`),h&&(m=`${d} (zzzz)`),cRe(c,t.name,m)},[t.name]),a=f.useCallback(()=>X7(new Date,t.name),[t.name]),o=f.useCallback(c=>{WAn("handleNewValue:",c),n(d=>{try{d.name!==c.name&&(localStorage.setItem(aRe,JSON.stringify(c)),window.dispatchEvent(new Event("timeZoneEventUpdate"))),r.push({closable:!0,description:u.jsx(Ns,{body:`${c.alternativeName} (${c.namePretty})`,title:"Time zone updated"}),duration:15e3,status:"info"})}catch(h){console.error(h),r.push({closable:!0,description:u.jsx(Ns,{body:Fv(h),title:"Unable to update time zone"}),status:"error"})}return c})},[r]),s=f.useCallback(c=>X7(c,t.name),[t.name]),l=f.useCallback(c=>UAn(c,t.name),[t.name]);return{formatDateTz:i,getCurrentZoneDate:a,setTimeZone:o,timeZone:t,utcToCurrentZoneDate:s,zoneDateToUtc:l}},GAn=R.span(({theme:e})=>ce`
    color: ${e.sanity.color.base.fg};
    font-weight: 500;
    margin-left: 1em;
  `),YAn=R.span(({theme:e})=>ce`
    color: ${e.sanity.color.input.default.readOnly.fg};
    margin-left: 1em;
  `),qAn=e=>{const{onClose:t}=e,{setTimeZone:n,timeZone:r}=io(),[i,a]=f.useState(r),o=f.useCallback(m=>{const g=AC.find(v=>v.value===m);a(g)},[]),s=f.useCallback(()=>{a(Q7())},[]),l=f.useCallback(()=>{i&&n(i),t==null||t()},[t,i,n]),c=(i==null?void 0:i.name)!==r.name,d=f.useMemo(()=>(i==null?void 0:i.name)===Q7().name,[i]),h=f.useCallback(m=>u.jsx(te,{as:"button",padding:3,children:u.jsxs(N,{size:1,textOverflow:"ellipsis",children:[u.jsxs("span",{children:["GMT",m.offset]}),u.jsx(GAn,{children:m.alternativeName}),u.jsx(YAn,{children:m.mainCities})]})}),[]),p=f.useCallback((m,g)=>g?`${g.alternativeName} (${g.namePretty})`:"",[]);return u.jsx(Ui,{footer:{confirmButton:{text:"Update time zone",disabled:!c||!i,onClick:l,tone:"primary"}},header:"Select time zone",id:"time-zone",onClose:t,width:1,children:u.jsxs(ee,{padding:4,space:5,children:[u.jsx(N,{size:1,children:"The selected time zone will change how dates are represented in schedules."}),u.jsxs(ee,{space:3,children:[u.jsxs(U,{align:"center",justify:"space-between",children:[u.jsxs(An,{space:2,children:[u.jsx(N,{size:1,weight:"semibold",children:"Time zone"}),d&&u.jsx(N,{muted:!0,size:1,children:"local time"})]}),!d&&u.jsx(N,{size:1,weight:"medium",children:u.jsx("a",{onClick:s,style:{cursor:"pointer"},children:"Select local time zone"})})]}),u.jsx(qD,{fontSize:2,icon:Ca,id:"timezone",onChange:o,openButton:!0,options:AC,padding:4,placeholder:"Search for a city or time zone",popover:{boundaryElement:document.querySelector("body"),constrainSize:!0,placement:"bottom-start"},renderOption:h,renderValue:p,tabIndex:-1,value:i==null?void 0:i.value})]})]})})};function dRe(){const[e,t]=f.useState(!1),n=f.useCallback(()=>{t(!1)},[]),r=f.useCallback(()=>{t(!0)},[]);return{visible:e,show:r,hide:n}}function KAn(){const{visible:e,show:t,hide:n}=dRe();return{DialogTimeZone:e?qAn:null,dialogProps:{onClose:n,visible:e},dialogTimeZoneShow:t,hide:n}}const fRe=e=>{const{useElementQueries:t}=e,{timeZone:n}=io(),{DialogTimeZone:r,dialogProps:i,dialogTimeZoneShow:a}=KAn();return u.jsxs(u.Fragment,{children:[r&&u.jsx(r,{...i}),u.jsx(gt,{content:`Displaying schedules in ${n.alternativeName} (GMT${n.offset})`,portal:!0,children:u.jsx("div",{children:t?u.jsxs(u.Fragment,{children:[u.jsx(L,{className:"button-small",children:u.jsx(fe,{icon:g1,mode:"bleed",onClick:a,text:`${n.abbreviation}`})}),u.jsx(L,{className:"button-large",children:u.jsx(fe,{icon:g1,mode:"bleed",onClick:a,text:`${n.alternativeName} (${n.namePretty})`})})]}):u.jsx(fe,{icon:g1,mode:"bleed",onClick:a,text:`${n.alternativeName} (${n.namePretty})`})})})]})},hRe=R(GD)`
  .button-small {
    display: block;
  }
  .button-large {
    display: none;
  }

  &[data-eq-min~='2'] {
    .button-small {
      display: none;
    }
    .button-large {
      display: block;
    }
  }
`,tp=()=>{},bs=tp(),a4=Object,Bn=e=>e===bs,Dc=e=>typeof e=="function",Mp=(e,t)=>({...e,...t}),ZAn=e=>Dc(e.then),qk=new WeakMap;let XAn=0;const KS=e=>{const t=typeof e,n=e&&e.constructor,r=n==Date;let i,a;if(a4(e)===e&&!r&&n!=RegExp){if(i=qk.get(e),i)return i;if(i=++XAn+"~",qk.set(e,i),n==Array){for(i="@",a=0;a<e.length;a++)i+=KS(e[a])+",";qk.set(e,i)}if(n==a4){i="#";const o=a4.keys(e).sort();for(;!Bn(a=o.pop());)Bn(e[a])||(i+=a+":"+KS(e[a])+",");qk.set(e,i)}}else i=r?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return i},Kd=new WeakMap,o4={},Kk={},pq="undefined",PM=typeof window!=pq,e9=typeof document!=pq,JAn=()=>PM&&typeof window.requestAnimationFrame!=pq,pRe=(e,t)=>{const n=Kd.get(e);return[()=>!Bn(t)&&e.get(t)||o4,r=>{if(!Bn(t)){const i=e.get(t);t in Kk||(Kk[t]=i),n[5](t,Mp(i,r),i||o4)}},n[6],()=>!Bn(t)&&t in Kk?Kk[t]:!Bn(t)&&e.get(t)||o4]};let t9=!0;const QAn=()=>t9,[n9,r9]=PM&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[tp,tp],ejn=()=>{const e=e9&&document.visibilityState;return Bn(e)||e!=="hidden"},tjn=e=>(e9&&document.addEventListener("visibilitychange",e),n9("focus",e),()=>{e9&&document.removeEventListener("visibilitychange",e),r9("focus",e)}),njn=e=>{const t=()=>{t9=!0,e()},n=()=>{t9=!1};return n9("online",t),n9("offline",n),()=>{r9("online",t),r9("offline",n)}},rjn={isOnline:QAn,isVisible:ejn},ijn={initFocus:tjn,initReconnect:njn},Ade=!Ye.useId,ZS=!PM||"Deno"in window,ajn=e=>JAn()?window.requestAnimationFrame(e):setTimeout(e,1),s4=ZS?f.useEffect:f.useLayoutEffect,l4=typeof navigator<"u"&&navigator.connection,jde=!ZS&&l4&&(["slow-2g","2g"].includes(l4.effectiveType)||l4.saveData),mq=e=>{if(Dc(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?KS(e):"",[e,t]};let ojn=0;const i9=()=>++ojn,mRe=0,gRe=1,vRe=2,sjn=3;var iw={__proto__:null,ERROR_REVALIDATE_EVENT:sjn,FOCUS_EVENT:mRe,MUTATE_EVENT:vRe,RECONNECT_EVENT:gRe};async function yRe(...e){const[t,n,r,i]=e,a=Mp({populateCache:!0,throwOnError:!0},typeof i=="boolean"?{revalidate:i}:i||{});let o=a.populateCache;const s=a.rollbackOnError;let l=a.optimisticData;const c=p=>typeof s=="function"?s(p):s!==!1,d=a.throwOnError;if(Dc(n)){const p=n,m=[],g=t.keys();for(const v of g)!/^\$(inf|sub)\$/.test(v)&&p(t.get(v)._k)&&m.push(v);return Promise.all(m.map(h))}return h(n);async function h(p){const[m]=mq(p);if(!m)return;const[g,v]=pRe(t,m),[b,y,x,w]=Kd.get(t),C=()=>{const $=b[m];return(Dc(a.revalidate)?a.revalidate(g().data,p):a.revalidate!==!1)&&(delete x[m],delete w[m],$&&$[0])?$[0](vRe).then(()=>g().data):g().data};if(e.length<3)return C();let S=r,_;const E=i9();y[m]=[E,0];const k=!Bn(l),T=g(),j=T.data,I=T._c,A=Bn(I)?j:I;if(k&&(l=Dc(l)?l(A,j):l,v({data:l,_c:A})),Dc(S))try{S=S(A)}catch($){_=$}if(S&&ZAn(S))if(S=await S.catch($=>{_=$}),E!==y[m][0]){if(_)throw _;return S}else _&&k&&c(_)&&(o=!0,v({data:A,_c:bs}));if(o&&!_)if(Dc(o)){const $=o(S,A);v({data:$,error:bs,_c:bs})}else v({data:S,error:bs,_c:bs});if(y[m][1]=i9(),Promise.resolve(C()).then(()=>{v({_c:bs})}),_){if(d)throw _;return}return S}}const Ide=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},ljn=(e,t)=>{if(!Kd.has(e)){const n=Mp(ijn,t),r={},i=yRe.bind(bs,e);let a=tp;const o={},s=(d,h)=>{const p=o[d]||[];return o[d]=p,p.push(h),()=>p.splice(p.indexOf(h),1)},l=(d,h,p)=>{e.set(d,h);const m=o[d];if(m)for(const g of m)g(h,p)},c=()=>{if(!Kd.has(e)&&(Kd.set(e,[r,{},{},{},i,l,s]),!ZS)){const d=n.initFocus(setTimeout.bind(bs,Ide.bind(bs,r,mRe))),h=n.initReconnect(setTimeout.bind(bs,Ide.bind(bs,r,gRe)));a=()=>{d&&d(),h&&h(),Kd.delete(e)}}};return c(),[e,i,c,a]}return[e,Kd.get(e)[4]]},ujn=(e,t,n,r,i)=>{const a=n.errorRetryCount,o=i.retryCount,s=~~((Math.random()+.5)*(1<<(o<8?o:8)))*n.errorRetryInterval;!Bn(a)&&o>a||setTimeout(r,s,i)},cjn=(e,t)=>KS(e)==KS(t),[bRe,djn]=ljn(new Map),fjn=Mp({onLoadingSlow:tp,onSuccess:tp,onError:tp,onErrorRetry:ujn,onDiscarded:tp,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:jde?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:jde?5e3:3e3,compare:cjn,isPaused:()=>!1,cache:bRe,mutate:djn,fallback:{}},rjn),hjn=(e,t)=>{const n=Mp(e,t);if(t){const{use:r,fallback:i}=e,{use:a,fallback:o}=t;r&&a&&(n.use=r.concat(a)),i&&o&&(n.fallback=Mp(i,o))}return n},pjn=f.createContext({}),mjn="$inf$",xRe=PM&&window.__SWR_DEVTOOLS_USE__,gjn=xRe?window.__SWR_DEVTOOLS_USE__:[],vjn=()=>{xRe&&(window.__SWR_DEVTOOLS_REACT__=Ye)},yjn=e=>Dc(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],bjn=()=>Mp(fjn,f.useContext(pjn)),xjn=e=>(t,n,r)=>e(t,n&&((...i)=>{const[a]=mq(t),[,,,o]=Kd.get(bRe);if(a.startsWith(mjn))return n(...i);const s=o[a];return Bn(s)?n(...i):(delete o[a],s)}),r),wjn=gjn.concat(xjn),Cjn=e=>function(...t){const n=bjn(),[r,i,a]=yjn(t),o=hjn(n,a);let s=e;const{use:l}=o,c=(l||[]).concat(wjn);for(let d=c.length;d--;)s=c[d](s);return s(r,i||o.fetcher||null,o)},Sjn=(e,t,n)=>{const r=t[e]||(t[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i>=0&&(r[i]=r[r.length-1],r.pop())}};vjn();const Dde=Ye.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e)}),u4={dedupe:!0},_jn=(e,t,n)=>{const{cache:r,compare:i,suspense:a,fallbackData:o,revalidateOnMount:s,revalidateIfStale:l,refreshInterval:c,refreshWhenHidden:d,refreshWhenOffline:h,keepPreviousData:p}=n,[m,g,v,b]=Kd.get(r),[y,x]=mq(e),w=f.useRef(!1),C=f.useRef(!1),S=f.useRef(y),_=f.useRef(t),E=f.useRef(n),k=()=>E.current,T=()=>k().isVisible()&&k().isOnline(),[j,I,A,$]=pRe(r,y),D=f.useRef({}).current,M=Bn(o)?n.fallback[y]:o,O=(ne,se)=>{for(const le in D){const oe=le;if(oe==="data"){if(!i(ne[oe],se[oe])&&(!Bn(ne[oe])||!i(q,se[oe])))return!1}else if(se[oe]!==ne[oe])return!1}return!0},F=f.useMemo(()=>{const ne=!y||!t?!1:Bn(s)?k().isPaused()||a?!1:Bn(l)?!0:l:s,se=me=>{const ye=Mp(me);return delete ye._k,ne?{isValidating:!0,isLoading:!0,...ye}:ye},le=j(),oe=$(),ge=se(le),_e=le===oe?ge:se(oe);let Me=ge;return[()=>{const me=se(j());return O(me,Me)?(Me.data=me.data,Me.isLoading=me.isLoading,Me.isValidating=me.isValidating,Me.error=me.error,Me):(Me=me,me)},()=>_e]},[r,y]),P=HHt.useSyncExternalStore(f.useCallback(ne=>A(y,(se,le)=>{O(le,se)||ne()}),[r,y]),F[0],F[1]),V=!w.current,H=m[y]&&m[y].length>0,W=P.data,G=Bn(W)?M:W,X=P.error,z=f.useRef(G),q=p?Bn(W)?z.current:W:G,Z=H&&!Bn(X)?!1:V&&!Bn(s)?s:k().isPaused()?!1:a?Bn(G)?!1:l:Bn(G)||l,K=!!(y&&t&&V&&Z),J=Bn(P.isValidating)?K:P.isValidating,Q=Bn(P.isLoading)?K:P.isLoading,re=f.useCallback(async ne=>{const se=_.current;if(!y||!se||C.current||k().isPaused())return!1;let le,oe,ge=!0;const _e=ne||{},Me=!v[y]||!_e.dedupe,me=()=>Ade?!C.current&&y===S.current&&w.current:y===S.current,ye={isValidating:!1,isLoading:!1},De=()=>{I(ye)},be=()=>{const ve=v[y];ve&&ve[1]===oe&&delete v[y]},he={isValidating:!0};Bn(j().data)&&(he.isLoading=!0);try{if(Me&&(I(he),n.loadingTimeout&&Bn(j().data)&&setTimeout(()=>{ge&&me()&&k().onLoadingSlow(y,n)},n.loadingTimeout),v[y]=[se(x),i9()]),[le,oe]=v[y],le=await le,Me&&setTimeout(be,n.dedupingInterval),!v[y]||v[y][1]!==oe)return Me&&me()&&k().onDiscarded(y),!1;ye.error=bs;const ve=g[y];if(!Bn(ve)&&(oe<=ve[0]||oe<=ve[1]||ve[1]===0))return De(),Me&&me()&&k().onDiscarded(y),!1;const Ce=j().data;ye.data=i(Ce,le)?Ce:le,Me&&me()&&k().onSuccess(le,y,n)}catch(ve){be();const Ce=k(),{shouldRetryOnError:Te}=Ce;Ce.isPaused()||(ye.error=ve,Me&&me()&&(Ce.onError(ve,y,Ce),(Te===!0||Dc(Te)&&Te(ve))&&(!k().revalidateOnFocus||!k().revalidateOnReconnect||T())&&Ce.onErrorRetry(ve,y,Ce,Ge=>{const Je=m[y];Je&&Je[0]&&Je[0](iw.ERROR_REVALIDATE_EVENT,Ge)},{retryCount:(_e.retryCount||0)+1,dedupe:!0})))}return ge=!1,De(),!0},[y,r]),ae=f.useCallback((...ne)=>yRe(r,S.current,...ne),[]);if(s4(()=>{_.current=t,E.current=n,Bn(W)||(z.current=W)}),s4(()=>{if(!y)return;const ne=re.bind(bs,u4);let se=0;const le=Sjn(y,m,(oe,ge={})=>{if(oe==iw.FOCUS_EVENT){const _e=Date.now();k().revalidateOnFocus&&_e>se&&T()&&(se=_e+k().focusThrottleInterval,ne())}else if(oe==iw.RECONNECT_EVENT)k().revalidateOnReconnect&&T()&&ne();else{if(oe==iw.MUTATE_EVENT)return re();if(oe==iw.ERROR_REVALIDATE_EVENT)return re(ge)}});return C.current=!1,S.current=y,w.current=!0,I({_k:x}),Z&&(Bn(G)||ZS?ne():ajn(ne)),()=>{C.current=!0,le()}},[y]),s4(()=>{let ne;function se(){const oe=Dc(c)?c(j().data):c;oe&&ne!==-1&&(ne=setTimeout(le,oe))}function le(){!j().error&&(d||k().isVisible())&&(h||k().isOnline())?re(u4).then(se):se()}return se(),()=>{ne&&(clearTimeout(ne),ne=-1)}},[c,d,h,y]),f.useDebugValue(q),a&&Bn(G)&&y){if(!Ade&&ZS)throw new Error("Fallback data is required when using suspense in SSR.");_.current=t,E.current=n,C.current=!1;const ne=b[y];if(!Bn(ne)){const se=ae(ne);Dde(se)}if(Bn(X)){const se=re(u4);Bn(q)||(se.status="fulfilled",se.value=!0),Dde(se)}else throw X}return{mutate:ae,get data(){return D.data=!0,q},get error(){return D.error=!0,X},get isValidating(){return D.isValidating=!0,J},get isLoading(){return D.isLoading=!0,Q}}},Ejn=Cjn(_jn);function kjn({children:e}){const{enabled:t,isLoading:n}=P_("scheduledPublishing"),{scheduledPublishing:r}=Fr(),i=r.enabled,a=f.useMemo(()=>!i||n?{enabled:!1,mode:null}:{enabled:!0,mode:t?"default":"upsell"},[t,n,i]);return u.jsx(dpe.Provider,{value:a,children:e})}function K0(){const e=f.useContext(dpe);if(!e)throw new Error("useScheduledPublishingEnabled must be used within a ScheduledPublishingEnabledProvider");return e}function c0(e){return(e==null?void 0:e.executedAt)||(e==null?void 0:e.executeAt)}function a9({reverseOrder:e}={reverseOrder:!1}){return function(t,n){const r=c0(t),i=c0(n);return r===i?0:r===null?1:i===null?-1:(r>i?1:-1)*(e?-1:1)}}const aw=RM("useScheduleOperation");function Tjn(){const e=Zt({apiVersion:"2022-09-01"});return f.useMemo(()=>Ajn(e),[e])}function Ajn(e){const{dataset:t,projectId:n}=e.config();function r({date:l,documentId:c}){aw("_create:",c);const d=new Date(l);return d.setSeconds(0),d.setMilliseconds(0),e.request({body:{documents:[{documentId:c}],executeAt:d,name:d},method:"POST",uri:`/schedules/${n}/${t}`})}function i({scheduleId:l}){return aw("_delete:",l),e.request({method:"DELETE",uri:`/schedules/${n}/${t}/${l}`})}function a({scheduleIds:l}){aw("_deleteMultiple:",l);const c=l.map(d=>i({scheduleId:d}));return Promise.allSettled(c)}function o({scheduleId:l}){return aw("_publish:",l),e.request({method:"POST",uri:`/schedules/${n}/${t}/${l}/publish`})}function s({documentSchedule:l,scheduleId:c}){return aw("_update:",c,l),e.request({body:l,method:"PATCH",uri:`/schedules/${n}/${t}/${c}`})}return{create:r,delete:i,deleteMultiple:a,publish:o,update:s}}var Rd=(e=>(e.create="scheduleCreate",e.delete="scheduleDelete",e.deleteMultiple="scheduleDeleteMultiple",e.publish="schedulePublish",e.update="scheduleUpdate",e))(Rd||{});function $de(e,t){return`${t} ${e}${t===1?"":"s"}`}const ow=(e,t)=>new CustomEvent(e,t);function D_(){const e=Pr(),{formatDateTz:t}=io(),n=Tjn();async function r({date:l,displayToast:c=!0,documentId:d}){try{const h=await n.create({date:l,documentId:d});window.dispatchEvent(ow("scheduleCreate",{detail:{date:l,documentId:d}})),c&&h!=null&&h.executeAt&&e.push({closable:!0,description:u.jsx(Ns,{body:t({date:new Date(h.executeAt),includeTimeZone:!0,prefix:"Publishing on "}),title:"Schedule created"}),duration:15e3,status:"success"})}catch(h){c&&e.push({closable:!0,description:u.jsx(Ns,{body:Fv(h),title:"Unable to create schedule"}),duration:15e3,status:"error"})}}async function i({displayToast:l=!0,schedule:c}){try{await n.delete({scheduleId:c==null?void 0:c.id}),window.dispatchEvent(ow("scheduleDelete",{detail:{scheduleId:c==null?void 0:c.id}})),l&&e.push({closable:!0,description:u.jsx(Ns,{title:"Schedule deleted"}),status:"success"})}catch(d){l&&e.push({closable:!0,description:u.jsx(Ns,{body:Fv(d),title:"Unable to delete schedule"}),duration:15e3,status:"error"})}}async function a({displayToast:l=!0,schedules:c}){try{const d=c.map(b=>b.id),h=await n.deleteMultiple({scheduleIds:d}),{fulfilledIds:p,rejectedReasons:m}=h.reduce((b,y,x)=>(y.status==="fulfilled"&&b.fulfilledIds.push(c[x].id),y.status==="rejected"&&b.rejectedReasons.push(`[${c[x].id}]: ${y.reason}`),b),{fulfilledIds:[],rejectedReasons:[]}),g=p.length,v=m.length;(p==null?void 0:p.length)>0&&window.dispatchEvent(ow("scheduleDeleteMultiple",{detail:{scheduleIds:p}})),l&&((p==null?void 0:p.length)>0&&e.push({closable:!0,description:u.jsx(Ns,{title:`${$de("schedule",g)} deleted`}),status:"success"}),(m==null?void 0:m.length)>0&&e.push({closable:!0,description:u.jsx(Ns,{body:m==null?void 0:m.toString(),title:`Unable to delete ${$de("schedule",v)}`}),duration:15e3,status:"error"}))}catch(d){l&&e.push({closable:!0,description:u.jsx(Ns,{body:Fv(d),title:"Unable to delete schedules"}),duration:15e3,status:"error"})}}async function o({displayToast:l=!0,schedule:c}){try{const d=c.id;await n.publish({scheduleId:d}),window.dispatchEvent(ow("schedulePublish",{detail:{scheduleId:d}})),l&&e.push({closable:!0,description:u.jsx(Ns,{title:"Document published"}),status:"success"})}catch(d){l&&e.push({closable:!0,description:u.jsx(Ns,{body:Fv(d),title:"Unable to publish schedule"}),duration:15e3,status:"error"})}}async function s({date:l,displayToast:c=!0,scheduleId:d}){try{await n.update({documentSchedule:{executeAt:l},scheduleId:d}),window.dispatchEvent(ow("scheduleUpdate",{detail:{date:l,scheduleId:d}})),c&&e.push({closable:!0,description:u.jsx(Ns,{body:t({date:new Date(l),includeTimeZone:!0,prefix:"Publishing on "}),title:"Schedule updated"}),duration:15e3,status:"success"})}catch(h){c&&e.push({closable:!0,description:u.jsx(Ns,{body:Fv(h),title:"Unable to update schedule"}),duration:15e3,status:"error"})}}return{createSchedule:r,deleteSchedule:i,deleteSchedules:a,publishSchedule:o,updateSchedule:s}}function jjn(){const e=Zt({apiVersion:"2022-09-01"}),{dataset:t,projectId:n}=e.config();return`/schedules/${n}/${t}`}function Ijn(e){const t=Zt({apiVersion:"2022-09-01"});return f.useCallback(()=>t.request({query:e.params,method:"GET",uri:e.url}),[t,e])}const Djn=[];function FM({documentId:e,state:t}={}){const{mode:n}=K0(),r=f.useMemo(()=>({refreshWhenHidden:!1,refreshWhenOffline:!1,revalidateOnFocus:!1,shouldRetryOnError:!1,refreshInterval:n==="default"?1e4:void 0,revalidateIfStale:n==="default",revalidateOnReconnect:n==="default"}),[n]),i=jjn(),a=f.useMemo(()=>({params:{documentIds:e,state:t},url:i}),[i,e,t]),o=Ijn(a),{data:s,error:l,mutate:c}=Ejn(a,o,r),d=f.useCallback(v=>{c(b=>{var y;return{schedules:(y=b==null?void 0:b.schedules)==null?void 0:y.filter(x=>x.id!==v.detail.scheduleId)}},!0)},[c]),h=f.useCallback(v=>{c(b=>{var y;return{schedules:(y=b==null?void 0:b.schedules)==null?void 0:y.filter(x=>!v.detail.scheduleIds.includes(x.id))}},!0)},[c]),p=f.useCallback(v=>{c(b=>{const y=(b==null?void 0:b.schedules)||[],x=y.findIndex(w=>w.id===v.detail.scheduleId);return{schedules:[...y.slice(0,x),{...y[x],executeAt:new Date().toISOString(),state:"succeeded"},...y.slice(x+1)]}},!0)},[c]),m=f.useCallback(v=>{c(b=>{const y=(b==null?void 0:b.schedules)||[],x=y.findIndex(w=>w.id===v.detail.scheduleId);return{schedules:[...y.slice(0,x),{...y[x],executeAt:v.detail.date},...y.slice(x+1)]}},!0)},[c]);f.useEffect(()=>(window.addEventListener(Rd.delete,d),window.addEventListener(Rd.deleteMultiple,h),window.addEventListener(Rd.publish,p),window.addEventListener(Rd.update,m),()=>{window.removeEventListener(Rd.delete,d),window.removeEventListener(Rd.deleteMultiple,h),window.removeEventListener(Rd.publish,p),window.removeEventListener(Rd.update,m)}),[d,h,p,m]);const g=f.useMemo(()=>{var v;return(v=s==null?void 0:s.schedules)==null?void 0:v.sort(a9())},[s==null?void 0:s.schedules]);return{error:l,isInitialLoading:!l&&!s,schedules:g||Djn}}const $jn=[];function Ojn({children:e,value:t}){const[n,r]=f.useState(t.sortBy||"executeAt"),{utcToCurrentZoneDate:i}=io(),a=f.useCallback(d=>function(h){const p=c0(h);if(!p)return!1;const m=new Date(p),g=i(m);return Eo(g,d)},[i]),o=f.useCallback(d=>function(h){return h.state===d},[]),s=f.useMemo(()=>t.schedules.filter(d=>t.selectedDate?a(t.selectedDate)(d):o(t.scheduleState)(d)).sort((d,h)=>{if(n==="createdAt")return d[n]<h[n]?1:-1;if(n==="executeAt"){const p=!(t.scheduleState==="scheduled"||t.selectedDate);return a9({reverseOrder:p})(d,h)}return 1})||[],[o,t.schedules,t.scheduleState,t.selectedDate,n,a]),l=f.useCallback(d=>t.schedules.filter(a(d)).sort(a9()),[t.schedules,a]),c=f.useMemo(()=>({activeSchedules:s,schedules:t.schedules||$jn,schedulesByDate:l,scheduleState:t.scheduleState,selectedDate:t.selectedDate,setSortBy:r,sortBy:n}),[s,l,n,t.scheduleState,t.schedules,t.selectedDate]);return u.jsx(hpe.Provider,{value:c,children:e})}function $_(){const e=f.useContext(hpe);if(e===void 0)throw new Error("useSchedules must be used within a SchedulesProvider");return e}function wRe(e,t){return f.useMemo(()=>e.filter(n=>n.state===t),[e,t])}const Mjn=e=>{const{selected:t,schedules:n,state:r}=e,i=wRe(n,r).length,a=i>0,o=r==="cancelled",{href:s,onClick:l}=FW({state:{state:r}});return u.jsx(St,{as:"a",href:s,mode:"bleed",onClick:l,selected:t,tone:o?"critical":"default",padding:2,children:u.jsxs(U,{gap:2,align:"center",children:[u.jsx(N,{size:1,weight:"medium",children:YS[r].title}),a&&u.jsx(N,{size:0,children:i})]})})},Rjn=e=>{const{onClearDate:t,selectedDate:n}=e,{navigate:r}=is(),{schedules:i,scheduleState:a}=$_(),o=l=>{r(l)},s=wRe(i,a);return u.jsxs(u.Fragment,{children:[u.jsxs(L,{display:["block","block","none"],children:[n&&u.jsx(fe,{iconRight:Rr,onClick:t,text:$c(n,"d MMMM yyyy"),tone:"primary"}),a&&u.jsx(Kt,{button:u.jsx(fe,{iconRight:DB,mode:"ghost",text:`${YS[a].title} (${(s==null?void 0:s.length)||0})`,tone:"default"}),id:"state",menu:u.jsx(Ot,{style:{minWidth:"175px"},children:qS.map(l=>u.jsx(We,{iconRight:l===a?_a:void 0,onClick:o.bind(void 0,{state:l}),text:YS[l].title},l))}),placement:"bottom"})]}),u.jsxs(L,{display:["none","none","block"],children:[n&&u.jsx(fe,{iconRight:Rr,onClick:t,text:$c(n,"d MMMM yyyy"),tone:"primary"}),a&&u.jsx(U,{gap:2,children:qS.map(l=>u.jsx(Mjn,{schedules:i,selected:a===l,state:l},l))})]})]})},Pjn=R.img(e=>{const{media:t}=Ee(e.theme),n=Rt(t,e.$direction,r=>({width:r==="row"?"50%":"100%",height:r==="row"?"auto":"180px"}));return ce`
    object-fit: cover;
    ${n}
  `}),Fjn=R(L)`
  margin: auto 0;
`,Njn=[3,3,5];function gq(e){var t;const{data:n,onPrimaryClick:r,onSecondaryClick:i,layout:a="vertical"}=e,o=["column","column",a==="horizontal"?"row":"column"];return u.jsx(te,{radius:3,overflow:"hidden",border:!0,children:u.jsxs(U,{direction:o,gap:2,children:[n.image&&u.jsx(Pjn,{src:n.image.asset.url,alt:(t=n.image.asset.altText)!=null?t:"",$direction:o}),u.jsxs(Fjn,{paddingX:3,paddingY:a==="horizontal"?Njn:3,children:[u.jsx(ee,{space:4,children:u.jsx(OM,{blocks:n.descriptionText})}),u.jsxs(U,{gap:2,justify:"flex-end",marginTop:5,children:[n.secondaryButton.text&&u.jsx(fe,{mode:"bleed",text:n.secondaryButton.text,tone:"primary",iconRight:Qc,...n.secondaryButton.url&&{target:"_blank",rel:"noopener noreferrer",as:"a",href:n.secondaryButton.url},onClick:i}),u.jsx(fe,{text:n.ctaButton.text,tone:"primary",...n.ctaButton.url&&{target:"_blank",rel:"noopener noreferrer",as:"a",href:n.ctaButton.url},onClick:r})]})]})]})})}function O_(){return Dn().projectId}const Ry=bi({name:"Upsell Dialog Viewed",version:1,description:"User viewed the upsell dialog"}),Py=bi({name:"Upsell Dialog Dismissed",version:1,description:"User dismissed the upsell dialog"}),Fy=bi({name:"Upsell Dialog Upgrade CTA Clicked",version:1,description:'User clicked the "Upgrade" CTA in the upsell dialog'}),Ny=bi({name:"Upsell Dialog Learn More CTA Clicked",version:1,description:'User clicked the "Learn More" CTA in the upsell dialog'}),hh="scheduled_publishing",Ode={interpolate:/{{([\s\S]+?)}}/g},Mde="www.sanity.io";function Ljn(e){const[t,n]=f.useState(!1),[r,i]=f.useState(null),a=O_(),o=Os(),s=Zt(Gt),l=f.useMemo(()=>({dialogSecondaryClicked:()=>o.log(Ny,{feature:hh,type:"modal"}),dialogPrimaryClicked:()=>o.log(Fy,{feature:hh,type:"modal"}),panelViewed:g=>o.log(Ry,{feature:hh,type:"inspector",source:g}),panelDismissed:()=>o.log(Py,{feature:hh,type:"inspector"}),panelPrimaryClicked:()=>o.log(Fy,{feature:hh,type:"inspector"}),panelSecondaryClicked:()=>o.log(Ny,{feature:hh,type:"inspector"})}),[o]),c=f.useCallback(()=>{l.dialogPrimaryClicked()},[l]),d=f.useCallback(()=>{l.dialogSecondaryClicked()},[l]),h=f.useCallback(()=>{n(!1),o.log(Py,{feature:hh,type:"modal"})},[o]);f.useEffect(()=>{const g=s.observable.request({uri:"/journey/scheduled-publishing"}).subscribe({next:v=>{if(v)try{const b=Ty(v.ctaButton.url,Ode);v.ctaButton.url=b({baseUrl:Mde,projectId:a});const y=Ty(v.secondaryButton.url,Ode);v.secondaryButton.url=y({baseUrl:Mde,projectId:a}),i(v)}catch{}},error:()=>{}});return()=>{g.unsubscribe()}},[s,a]);const p=f.useCallback(g=>{n(!0),o.log(Ry,{feature:hh,type:"modal",source:g})},[o]),m=f.useMemo(()=>({upsellDialogOpen:t,handleOpenDialog:p,upsellData:r,telemetryLogs:l}),[p,t,r,l]);return u.jsxs(fpe.Provider,{value:m,children:[e.children,r&&t&&u.jsx(dq,{data:r,onClose:h,onPrimaryClick:c,onSecondaryClick:d})]})}function CRe(){return f.useContext(fpe)}const Bjn=e=>u.jsxs("svg",{width:"100",height:"100",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[u.jsx("path",{d:"M54 26C54 28.7614 49.0751 31 43 31C36.9249 31 32 28.7614 32 26C32 23.2386 36.9249 7 43 7C49.0751 7 54 23.2386 54 26Z",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M65 71.5V57M65 71.5L60.5789 69.0132M65 71.5L60.5789 73.9868M65 57L57 52.5L54 54.1875M65 57V42.5M65 57L57 47M65 57L58.1586 60.8483M65 57L60.5789 67.5M65 42.5L57 38L54 39.6875M65 42.5L57 47M65 42.5V27.5M57 47L65 27.5M57 47L54 39.6875M57 47L54 45.3125M57 47L54 50.75M57 23L65 27.5M57 23L54 24.6875V39.6875M57 23V60M65 27.5L57 32L54 30.3125",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M54 76C54 78.7614 49.0751 81 43 81C36.9249 81 32 78.7614 32 76M54 76H60.5V63L54 57M54 76V57M32 76H25V63L32 57M32 76V57M32 26V57M54 26V57M54 45C54 47.7614 49.0751 50 43 50V35C49.0751 35 54 32.7614 54 30",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M43 45.5701H44.8976L45.8465 43.1981L46.9679 42.7335L49.3162 43.7399L50.658 42.3981L49.6516 40.0499L50.1161 38.9284L52.4882 37.9795V36.0819L50.1161 35.1331L49.6516 34.0116M47.1334 34.9653C47.5197 35.5597 47.7441 36.269 47.7441 37.0307C47.7441 39.1268 46.0449 40.826 43.9488 40.826C43.6212 40.826 43.3033 40.7845 43 40.7064",stroke:"#7B8CA8",strokeWidth:"1.2",strokeLinejoin:"round"}),u.jsx("path",{d:"M63.5464 78.6739L64.9606 78.0321L67.4355 78.5135L68.6174 78.2913L69.6174 77.1566H71.6174L72.6174 78.2913L73.7994 78.5135L76.2743 78.0321L77.6885 78.6739M63.5464 78.6739L64.607 79.7972L64.1174 80.3336L63.5464 80.4373M63.5464 78.6739V80.4373M77.6885 78.6739L76.6278 79.7972L77.1174 80.3336L77.6885 80.4373M77.6885 78.6739V80.4373M63.5464 80.4373L61.6174 80.7875V81.6952L64.1174 82.1491L64.607 82.6855L63.5464 83.8088L64.9606 84.4506L67.4355 83.9693L68.6174 84.1915L69.6174 85.3261H71.6174L72.6174 84.1915L73.7994 83.9693L76.2743 84.4506L77.6885 83.8088L76.6278 82.6855L77.1174 82.1491L79.6174 81.6952V80.7875L77.6885 80.4373",stroke:"#7B8CA8",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M79.6174 81.4647V84.7162L77.6885 85.0664M76.2743 87.4716L77.6885 86.8298V85.0664M76.2743 87.4716L73.7994 86.9902L72.6174 87.2124L71.6174 88.3471M76.2743 87.4716V84.7162M61.6174 81.4647V84.7162L63.5464 85.0664M71.6174 88.3471H69.6174M71.6174 88.3471V85.3261M69.6174 88.3471L68.6174 87.2124L67.4355 86.9902L64.9606 87.4716M69.6174 88.3471V85.3261M64.9606 87.4716L64.2535 87.1507L63.5464 86.8298V85.0664M64.9606 87.4716V84.6825M63.5464 84.039V85.0664M77.6885 84.039V85.0664",stroke:"#7B8CA8",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M73.6174 81.2412C73.6174 81.9932 72.2743 82.6028 70.6174 82.6028C68.9606 82.6028 67.6174 81.9932 67.6174 81.2412C67.6174 80.4892 68.9606 79.8796 70.6174 79.8796C72.2743 79.8796 73.6174 80.4892 73.6174 81.2412Z",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M90 85.3616C90 86.1136 88.6569 86.7232 87 86.7232C85.3431 86.7232 84 86.1136 84 85.3616M90 85.3616C90 84.6096 88.6569 84 87 84C85.3431 84 84 84.6096 84 85.3616M90 85.3616V87.3616C90 88.1136 88.6569 88.7232 87 88.7232C85.3431 88.7232 84 88.1136 84 87.3616V85.3616",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M82 89.8648C82 90.3425 81.3284 90.7297 80.5 90.7297C79.6716 90.7297 79 90.3425 79 89.8648M82 89.8648C82 89.3872 81.3284 89 80.5 89C79.6716 89 79 89.3872 79 89.8648M82 89.8648V91.1352C82 91.6128 81.3284 92 80.5 92C79.6716 92 79 91.6128 79 91.1352V89.8648",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M52.7555 46.7289L52.5381 45.0136L51.2951 44.6903L50.2695 46.0824L49.4558 46.1956L48.0892 45.1364L46.9817 45.7867L47.2408 47.4962L46.7455 48.1517L45.0302 48.3691L44.7069 49.612M51.1084 47.9593C49.8968 47.6442 48.6622 48.2485 48.1434 49.3385",stroke:"#7B8CA8",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M39 80.5L38 83.5C38 84.8807 40.2386 86 43 86C45.7614 86 48 84.8807 48 83.5L47 80.5",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M32 77L31 80C31 81.3807 33.2386 82.5 36 82.5C36.9107 82.5 37.7646 82.3783 38.5 82.1655",stroke:"#7B8CA8",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M54 77L55 80C55 81.3807 52.7614 82.5 50 82.5C49.0893 82.5 48.2354 82.3783 47.5 82.1655",stroke:"#7B8CA8",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})]}),Rde=e=>u.jsxs("svg",{width:"100",height:"100",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[u.jsx("path",{d:"M35 84.5L41.7308 67H50V69.5M65 84.5L58.2692 67M32 65H42.5H50H57.5H81V23H19V65H24",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M84 16V23H16V16M84 16H16M84 16L82 14H18L16 16",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M24 65H18L17 67H83L82 65H32",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("circle",{cx:"50",cy:"72",r:"2",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M24 63C24 61.8954 24.8954 61 26 61H30C31.1046 61 32 61.8954 32 63V67H24V63Z",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M24 65C24 63.8954 24.8954 63 26 63H30C31.1046 63 32 63.8954 32 65V67H24V65Z",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M28 44.9975C31.0617 44.62 33.5601 42.4793 35.2478 39.995C36.199 38.5947 36.9116 37.0761 36.9653 35.3597C36.9973 34.3355 36.8332 33.1459 35.8944 32.5454C35.3035 32.1675 34.4935 32.0285 33.8044 32.0022C32.7788 31.9631 32.1643 32.4357 31.8489 33.4197C30.3123 38.2145 33.0184 42.7025 36.3911 45.8977C38.1152 47.531 40.0746 48.9275 42.1179 50.1294C43.9867 51.2287 46.003 52.2595 48.1189 52.7885C48.9466 52.9954 50.4951 53.3913 51.3211 52.954C52.3579 52.4051 51.8285 49.7323 51.7091 48.9809C51.3862 46.9486 50.7293 45.0311 49.8726 43.1662C49.3791 42.0918 48.7948 40.8004 47.9999 39.8967C47.4959 39.3237 47.1331 39.4889 47.1101 40.2278C47.0699 41.5204 47.5768 42.7535 48.3103 43.7973C50.633 47.1024 54.4924 49.4656 58.2792 50.6985C59.9643 51.2471 61.8953 51.7306 63.6853 51.6193C65.3845 51.5137 65.6225 50.1321 65.7287 48.655C65.9958 44.9405 64.9629 40.7695 62.6403 37.7963C61.615 36.4839 60.3547 35.6334 58.6879 35.4476C57.7554 35.3437 56.665 35.3303 55.7391 35.5097C54.8073 35.6903 54.0162 36.297 54.3371 37.3462C54.6464 38.3572 55.8044 39.0666 56.6444 39.5759C57.983 40.3876 59.4813 40.9898 61.0262 41.2624C63.2658 41.6576 65.1745 41.1715 67.141 40.1346C67.9966 39.6835 68.8825 39.1795 69.4379 38.3861",stroke:"#7B8CA8",strokeWidth:"1.2"})]}),Vjn=e=>u.jsxs("svg",{width:"100",height:"100",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[u.jsx("path",{d:"M35.5034 34.5961C35.6531 34.1763 35.8628 33.792 36.1352 33.4478C37.6813 31.4827 40.9503 31.2145 44.9898 32.3554M35.5034 34.5961L24.12 78.5806C23.4656 81.1092 26.1309 83.2083 28.4357 81.9796L68.4485 60.6484M35.5034 34.5961C34.2315 38.1622 37.2902 44.2842 43.0792 50.0342M68.4485 60.6484C68.8174 60.4078 69.1391 60.118 69.4084 59.7777C70.9736 57.7883 70.4521 54.4677 68.3472 50.7308M68.4485 60.6484C65.1795 62.7806 58.1999 61.0522 51.0413 56.4338M49.3164 55.2667C48.6043 54.7622 47.8933 54.2299 47.1867 53.6707C46.3331 52.9953 45.5161 52.3044 44.7387 51.6037M49.3164 55.2667C49.8913 55.674 50.4669 56.0632 51.0413 56.4338M49.3164 55.2667C52.3445 53.1871 58.7283 49.8329 66.4965 47.8874M51.0413 56.4338C55.9305 53.432 62.4593 51.6876 68.3472 50.7308M43.0792 50.0342C43.6098 50.5612 44.1634 51.0852 44.7387 51.6037M43.0792 50.0342C44.4006 45.7138 45.8116 38.387 44.9898 32.3554M44.7387 51.6037C47.6743 44.2968 48.7135 38.3712 48.6643 33.6916M63.9622 36.487C63.2905 34.23 62.35 29.5386 63.9622 28.8293C65.9774 27.9426 68.5569 33.5045 70.8139 32.2148C73.0709 30.9251 69.4435 27.7814 70.8139 25.2019C72.1842 22.6224 79.6002 28.4262 81.2123 23.4285C82.502 19.4304 79.7614 16.6574 78.2298 15.7708M66.4965 47.8874C70.7697 46.8171 75.462 46.1731 80.2449 46.4019L80.2449 49.7068C77.5329 49.6936 73.1535 49.9498 68.3472 50.7308M66.4965 47.8874C64.45 45.1054 61.6564 42.2264 58.3003 39.5859C55.0633 37.039 51.7429 35.0416 48.6643 33.6916M48.6643 33.6916C48.5822 25.8794 45.4671 21.5396 43.0792 20.043L39.941 23.4285C42.9851 25.0774 44.4569 28.4441 44.9898 32.3554",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M32.2094 47.3001C31.0515 50.5465 34.6857 56.6214 40.9597 61.5862C47.2404 66.5562 53.9958 68.696 56.8839 66.8122",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M28.8867 60.1903C28.1245 62.3275 30.5169 66.3267 34.6472 69.595C38.7818 72.8669 43.229 74.2755 45.1303 73.0354",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M26.2718 70.2225C25.8147 71.5039 27.2491 73.9016 29.7254 75.8611C32.2044 77.8228 34.8707 78.6673 36.0106 77.9238",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("path",{d:"M28.0529 44.1724C29.5354 43.1981 32.3735 40.6904 31.8652 38.4538C31.2298 35.6581 22.8425 38.9622 22.7155 36.5477C22.5884 34.1331 27.0361 30.575 26.909 28.6688C26.7819 26.7626 18.6489 30.8291 18.6489 26.8896C18.6489 23.738 21.36 22.1029 22.7155 21.6793",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("rect",{x:"21.8833",y:"50.1122",width:"3.03077",height:"3.03077",transform:"rotate(-24.7154 21.8833 50.1122)",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("rect",{x:"16.0527",y:"36.722",width:"3.03077",height:"3.03077",transform:"rotate(4.36851 16.0527 36.722)",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("rect",{x:"27.9448",y:"22.8353",width:"3.03077",height:"3.03077",transform:"rotate(-24.7154 27.9448 22.8353)",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("rect",{x:"53.7065",y:"33.443",width:"3.03077",height:"3.03077",transform:"rotate(-24.7154 53.7065 33.443)",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("rect",{x:"67.3447",y:"13.743",width:"3.03077",height:"3.03077",transform:"rotate(-24.7154 67.3447 13.743)",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("rect",{x:"74.9219",y:"54.6584",width:"3.03077",height:"3.03077",transform:"rotate(-24.7154 74.9219 54.6584)",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("rect",{x:"70.3755",y:"66.7814",width:"3.03077",height:"3.03077",transform:"rotate(-24.7154 70.3755 66.7814)",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("rect",{x:"77.9526",y:"78.9045",width:"3.03077",height:"3.03077",transform:"rotate(-24.7154 77.9526 78.9045)",stroke:"#7B8CA8",strokeWidth:"1.2"}),u.jsx("rect",{x:"82.4985",y:"62.2353",width:"3.03077",height:"3.03077",transform:"rotate(-24.7154 82.4985 62.2353)",stroke:"#7B8CA8",strokeWidth:"1.2"})]}),zjn=e=>{const{scheduleState:t,selectedDate:n}=e;let r,i,a;switch(t){case"succeeded":{i="When a scheduled document is successfully published it moves to this list view.",a="No completed scheduled publications ... yet",r=Bjn;break}case"cancelled":{i="Schedules can fail for several reasons, for example when their documents are deleted. When they do, they show up here.",a="No failed scheduled publications",r=Vjn;break}case"scheduled":{i="When editing a document, create a new scheduled publication from the menu next to the Publish button.",a="No upcoming scheduled publications",r=Rde;break}}return n&&(i="No schedules for this date.",a=$c(n,"d MMMM yyyy"),r=Rde),u.jsx(te,{paddingX:6,paddingBottom:8,paddingTop:7,radius:2,shadow:1,children:u.jsxs(ee,{space:4,children:[u.jsx(U,{justify:"center",children:r&&u.jsx(r,{})}),u.jsxs(ee,{space:4,children:[a&&u.jsx(zi,{align:"center",size:1,children:a}),i&&u.jsx(N,{align:"center",size:1,children:i})]})]})})},Ujn=e=>e.liveEdit===!0;function Hjn(e,t,n,r){const i=Ujn(t)?xe({snapshot:null}):e.observeForPreview({_type:"reference",_ref:la(n)},t),a=e.observeForPreview({_type:"reference",_ref:fn(n)},t);return aa([i,a]).pipe(de(([o,s])=>({draft:o.snapshot?{title:r,...o.snapshot||{}}:null,isLoading:!1,published:s.snapshot?{title:r,...s.snapshot||{}}:null})),Vi({draft:null,isLoading:!0,published:null}))}function NM(e){var t;return(t=e.documents)==null?void 0:t[0]}function SRe(e){var t;return(t=NM(e))==null?void 0:t.documentId.replaceAll("drafts.","")}function Wjn(e,t){const n=ua(),[r,i]=f.useState({});return f.useEffect(()=>{if(!t)return;const a=Hjn(n,t,e,"").subscribe(o=>{i(o)});return()=>{a==null||a.unsubscribe()}},[n,t,e]),r}function en(){return Dn().schema}function _Re(e){const t=NM(e),n=en(),r=t.documentType;return f.useMemo(()=>{if(r)return n.get(r)},[r,n])}function Gjn(e){const t=en();return f.useMemo(()=>t.get(e),[e,t])}const Yjn=R(GD)`
  .date-small {
    display: inline;
  }
  .date-medium {
    display: none;
  }
  .date-large {
    display: none;
  }

  &[data-eq-min~='1'] {
    .date-small {
      display: none;
    }
    .date-medium {
      display: inline;
    }
    .date-large {
      display: none;
    }
  }

  &[data-eq-min~='2'] {
    .date-small {
      display: none;
    }
    .date-medium {
      display: none;
    }
    .date-large {
      display: inline;
    }
  }
`;function qjn({children:e,value:t}){return u.jsx(cpe.Provider,{value:t,children:e})}function Kjn(){const e=f.useContext(cpe);if(e===void 0)throw new Error("useDocumentActionProps must be used within a DocumentActionPropsProvider");return e}function ERe(e){const[t,n]=f.useState(!1),[r,i]=f.useState(e&&e!=null&&e.executeAt?{date:e.executeAt}:null),a=f.useCallback(o=>{const s=(e==null?void 0:e.executeAt)&&new Date(e.executeAt).getTime()===new Date(o==null?void 0:o.date).getTime();i(o),n(!s)},[e==null?void 0:e.executeAt]);return{formData:r,isDirty:t,onFormChange:a}}function Zjn(e){const{date:t,focused:n,isCurrentMonth:r,isToday:i,customValidation:a,onSelect:o,selected:s}=e,l=f.useMemo(()=>a?a(SS(t)):!0,[t,a]),c=f.useCallback(()=>{l&&o(t)},[t,l,o]);return u.jsx("div",{"aria-selected":s,"data-ui":"CalendarDay",children:u.jsx(te,{"aria-label":t.toDateString(),"aria-pressed":s,as:"button",__unstable_focusRing:!0,"data-weekday":!0,"data-focused":n?"true":"",disabled:!l,role:"button",tabIndex:-1,onClick:c,padding:3,radius:2,selected:s,tone:i||s?"primary":"default",children:u.jsx(N,{muted:!s&&!r,style:{textAlign:"center"},weight:r?"medium":"regular",children:t.getDate()})})})}const Xjn=["January","February","March","April","May","June","July","August","September","October","November","December"],Jjn=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Qjn=J2(0,24),eIn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],tIn=[1,2,3,4,5,6],nIn=e=>{const t=nO(e);return tO({start:t,end:iO(t)})},rIn=e=>e.map(t=>[t,...tIn.map(n=>Hr(t,n))]),iIn=e=>rIn(nIn(e)).map(t=>({number:rO(t[0]),days:t}));function aIn(e){const{getCurrentZoneDate:t}=io(),{customValidation:n}=e;return u.jsx(L,{"aria-hidden":e.hidden||!1,"data-ui":"CalendarMonth",children:u.jsxs(Vn,{gap:1,style:{gridTemplateColumns:"repeat(7, minmax(44px, 46px))"},children:[Jjn.map(r=>u.jsx(L,{paddingY:2,children:u.jsx(N,{size:1,weight:"medium",style:{textAlign:"center"},children:r})},r)),iIn(e.date).map((r,i)=>r.days.map((a,o)=>{const s=e.focused&&Eo(a,e.focused),l=e.selected&&Eo(a,e.selected),c=Eo(a,t()),d=e.focused&&aO(a,e.focused);return u.jsx(Zjn,{date:a,focused:s,isCurrentMonth:d,isToday:c,customValidation:n,onSelect:e.onSelect,selected:l},`${i}-${o}`)}))]})})}const oIn={dayPresets:!1,timePresets:!1},sIn=({onChange:e,...t})=>{const n=f.useCallback(r=>{const i=parseInt(r.currentTarget.value,10);isNaN(i)||e(i)},[e]);return u.jsx(xM,{...t,onChange:n,inputMode:"numeric"})},lIn=u.jsx("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1}),uIn=f.forwardRef(function(e,t){const{getCurrentZoneDate:n,zoneDateToUtc:r}=io(),{selectTime:i,onFocusedDateChange:a,selectedDate:o=n(),focusedDate:s=o,timeStep:l=1,onSelect:c,customValidation:d,...h}=e,p=f.useCallback(k=>a(r(k)),[a,r]),m=f.useCallback(k=>p(lke(ZH(s,k),1)),[s,p]),g=f.useCallback(k=>m(Number(k.currentTarget.value)),[m]),v=f.useCallback(k=>p(X2(s,k)),[s,p]),b=f.useCallback(k=>p(uke(s,k)),[s,p]),y=f.useCallback(k=>{c(r(df(vg(k,o.getHours()),o.getMinutes())))},[c,o,r]),x=f.useCallback(k=>{const T=Number(k.currentTarget.value);c(r(df(o,T)))},[c,o,r]),w=f.useCallback(k=>{const T=Number(k.currentTarget.value);c(r(vg(o,T)))},[c,o,r]);f.useCallback((k,T)=>{c(r(vg(df(o,T),k)))},[c,o,r]);const C=f.useRef(null);f.useImperativeHandle(t,()=>C.current);const S=f.useCallback(()=>{var k,T;(T=(k=C.current)==null?void 0:k.querySelector('[data-focused="true"]'))==null||T.focus()},[C]),_=f.useCallback(k=>{var T,j;if(eIn.includes(k.key)){if(k.preventDefault(),k.currentTarget.hasAttribute("data-calendar-grid")){S();return}k.key==="ArrowUp"&&a(r(Hr(s,-7))),k.key==="ArrowDown"&&a(r(Hr(s,7))),k.key==="ArrowLeft"&&a(r(Hr(s,-1))),k.key==="ArrowRight"&&a(r(Hr(s,1))),(j=(T=C.current)==null?void 0:T.querySelector("[data-preserve-focus]"))==null||j.focus()}},[r,C,S,a,s]);f.useEffect(()=>{S()},[S]),f.useEffect(()=>{var k;(k=document.activeElement)!=null&&k.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]")&&S()},[C,S,s]);const E=f.useCallback(()=>c(new Date),[c]);return u.jsxs(L,{"data-ui":"Calendar",...h,ref:C,children:[u.jsxs(L,{padding:2,children:[u.jsxs(U,{children:[u.jsx(L,{flex:1,children:u.jsx(cIn,{moveFocusedDate:v,onChange:g,value:s==null?void 0:s.getMonth()})}),u.jsx(L,{marginLeft:2,children:u.jsx(dIn,{moveFocusedDate:v,onChange:b,value:s.getFullYear()})})]}),u.jsxs(L,{"data-calendar-grid":!0,onKeyDown:_,marginTop:2,overflow:"hidden",tabIndex:0,children:[u.jsx(aIn,{date:s,focused:s,customValidation:d,onSelect:y,selected:o}),lIn]})]}),i&&u.jsxs(L,{padding:2,style:{borderTop:"1px solid var(--card-border-color)"},children:[u.jsxs(U,{align:"center",children:[u.jsxs(U,{align:"center",flex:1,children:[u.jsx(L,{children:u.jsx(iu,{"aria-label":"Select hour",value:o==null?void 0:o.getHours(),onChange:w,children:Qjn.map(k=>u.jsx("option",{value:k,children:`${k}`.padStart(2,"0")},k))})}),u.jsx(L,{paddingX:1,children:u.jsx(N,{children:":"})}),u.jsx(L,{children:u.jsx(iu,{"aria-label":"Select minutes",value:o==null?void 0:o.getMinutes(),onChange:x,children:J2(0,60,l).map(k=>u.jsx("option",{value:k,children:`${k}`.padStart(2,"0")},k))})})]}),u.jsx(L,{marginLeft:2,children:u.jsx(St,{text:"Set to current time",mode:"bleed",onClick:E})})]}),oIn.timePresets]})]})});function cIn(e){const{moveFocusedDate:t,onChange:n,value:r}=e,i=f.useCallback(()=>t(-1),[t]),a=f.useCallback(()=>t(1),[t]);return u.jsxs(U,{flex:1,children:[u.jsx(St,{"aria-label":"Go to previous month",onClick:i,mode:"bleed",icon:Lf,paddingX:2,radius:0}),u.jsx(L,{flex:1,children:u.jsx(iu,{radius:0,value:r,onChange:n,children:Xjn.map((o,s)=>u.jsx("option",{value:s,children:o},s))})}),u.jsx(St,{"aria-label":"Go to next month",mode:"bleed",icon:no,onClick:a,paddingX:2,radius:0})]})}function dIn(e){const{moveFocusedDate:t,onChange:n,value:r}=e,i=f.useCallback(()=>t(-12),[t]),a=f.useCallback(()=>t(12),[t]);return u.jsxs(U,{children:[u.jsx(St,{"aria-label":"Previous year",onClick:i,mode:"bleed",icon:Lf,paddingX:2,radius:0}),u.jsx(sIn,{value:r,onChange:n,radius:0,style:{width:65}}),u.jsx(St,{"aria-label":"Next year",onClick:a,mode:"bleed",icon:no,paddingX:2,radius:0})]})}const fIn=f.forwardRef(function(e,t){const{utcToCurrentZoneDate:n}=io(),{value:r=new Date,onChange:i,customValidation:a,...o}=e,[s,l]=f.useState(),c=f.useCallback(d=>{i(d),l(void 0)},[i]);return u.jsx(uIn,{...o,ref:t,selectedDate:n(r),onSelect:c,focusedDate:n(s||r),onFocusedDateChange:l,customValidation:a})}),hIn=f.forwardRef(function(e,t){const{value:n,inputValue:r,customValidation:i,onInputChange:a,onChange:o,selectTime:s,timeStep:l,...c}=e,d=f.useRef(null),h=f.useRef(null),p=f.useRef(null);f.useImperativeHandle(t,()=>h.current);const[m,g]=f.useState(!1),v=Gf();yn(()=>g(!1),()=>[d.current]);const b=f.useCallback(()=>{var C,S;(C=h.current)==null||C.focus(),(S=h.current)==null||S.select()},[h]),y=f.useCallback(C=>{C.key==="Escape"&&g(!1)},[]),x=f.useCallback(()=>g(!0),[]),w=u.jsx(L,{style:{padding:"5px"},children:u.jsx(St,{ref:p,icon:Ma,mode:"bleed",padding:2,onClick:x,style:{display:"block"},"data-testid":"select-date-button"})});return u.jsx(xM,{ref:h,...c,value:r,onChange:a,suffix:m?u.jsx(ru,{zOffset:1e3,children:u.jsx(Fn,{constrainSize:!0,content:u.jsx(L,{overflow:"auto",children:u.jsx(ec,{onDeactivation:b,children:u.jsx(fIn,{selectTime:s,timeStep:l,onKeyUp:y,value:n,onChange:o,customValidation:i})})}),"data-testid":"date-input-dialog",fallbackPlacements:["bottom","bottom-start","top-end","top","top-start"],floatingBoundary:v.element,open:!0,placement:"bottom-end",portal:!0,radius:2,ref:d,children:w})}):w})}),pIn=f.forwardRef(function(e,t){const{value:n,markers:r,title:i,description:a,placeholder:o,parseInputValue:s,formatInputValue:l,deserialize:c,serialize:d,selectTime:h,timeStep:p,readOnly:m,level:g,onChange:v,customValidation:b,...y}=e,[x,w]=f.useState(null);f.useEffect(()=>{w(null)},[n]);const{zoneDateToUtc:C}=io(),S=typeof n>"u",_=f.useCallback($=>{const D=$.currentTarget.value,M=D===""?null:s(D);M===null?(v(null),S&&x&&w(null)):M.isValid?v(d(C(M.date))):w(D)},[S,C,x,d,v,s]),E=f.useCallback($=>{v($?d($):null)},[d,v]),k=f.useRef(null);f.useImperativeHandle(t,()=>k.current);const T=f.useId(),j=x?s(x):n?c(n):null,I=x||(j!=null&&j.isValid?l(j.date):n),A=f.useMemo(()=>r.map($=>{var D,M;return{level:$.level,path:$.path,message:(M=$.message)!=null?M:(D=$.item)==null?void 0:D.message}}),[r]);return u.jsx(U0,{validation:j!=null&&j.error?[...A,{level:"error",message:j.error,path:[]}]:A,title:i,level:g,description:a,inputId:T,children:m?u.jsx(Zr,{value:I,readOnly:!0}):u.jsx(hIn,{...y,id:T,selectTime:h,timeStep:p,placeholder:o||`e.g. ${l(new Date)}`,ref:k,value:j==null?void 0:j.date,inputValue:I||"",readOnly:!!m,onInputChange:_,onChange:E,customValidity:j==null?void 0:j.error,customValidation:b})})});function mIn(e){return e instanceof Date&&!isNaN(e.valueOf())}function gIn(e={}){return{customValidation:e.customValidation||function(){return!0},customValidationMessage:e.customValidationMessage||"Invalid date.",calendarTodayLabel:e.calendarTodayLabel||"Today",timeStep:"timeStep"in e&&Number(e.timeStep)||1}}function kRe(e){return e.toISOString()}function vIn(e){const t=new Date(e);return mIn(t)?{isValid:!0,date:t}:{isValid:!1,error:`Invalid date value: "${e}"`}}function yIn(e,t){if(!t||t===1)return e;const n=oke(e),r=QEe(n),i=r%t;return kRe(i!==0?df(n,r-i):n)}const bIn=f.forwardRef(function(e,t){const{type:n,onChange:r,...i}=e,{title:a,description:o,placeholder:s}=n,{scheduledPublishing:l}=Fr(),c=l.inputDateTimeFormat,{getCurrentZoneDate:d,timeZone:h}=io(),{customValidation:p,customValidationMessage:m,timeStep:g}=gIn(n.options),v=f.useCallback(x=>{let w=x;w!==null&&g>1&&(w=yIn(w,g)),r(w)},[r,g]),b=f.useCallback(x=>cRe(x,h.name,`${c}`),[c,h.name]),y=f.useCallback(x=>{const w=KH(x,`${c}`,d());return kf(w)?p(w)?{isValid:!0,date:w}:{isValid:!1,error:m}:{isValid:!1,error:`Invalid date. Must be in the format "${c}"`}},[p,m,d,c]);return u.jsx(pIn,{...i,onChange:v,ref:t,selectTime:!0,timeStep:g,title:a,description:o,placeholder:s,serialize:kRe,deserialize:vIn,formatInputValue:b,customValidation:p,parseInputValue:y})}),xIn=e=>{const{onChange:t,value:n}=e,{getCurrentZoneDate:r}=io(),[i,a]=f.useState();return u.jsx(ee,{space:4,children:u.jsx(te,{children:u.jsx(bIn,{level:0,markers:[],onChange:o=>{o&&t&&(t({date:o}),a(o))},type:{name:"date",options:{customValidation:o=>o>r(),customValidationMessage:"Date cannot be in the past."},title:"Date and time"},value:i===void 0?n==null?void 0:n.date:i})})})};function TRe(e){const{onChange:t,value:n}=e;return u.jsxs(ee,{space:4,children:[e.children,u.jsx(xIn,{onChange:t,value:n})]})}const ARe=e=>{const{title:t}=e;return u.jsx(hRe,{children:u.jsxs(U,{align:"center",children:[t,u.jsx("input",{style:{opacity:0,position:"absolute",width:0},tabIndex:-1,type:"button"}),u.jsx(L,{marginLeft:2,style:{marginTop:"-1em",marginBottom:"-1em"},children:u.jsx(fRe,{useElementQueries:!0})})]})})},wIn=e=>{const{onClose:t,schedule:n}=e,{updateSchedule:r}=D_(),{formData:i,isDirty:a,onFormChange:o}=ERe(n),s=f.useCallback(()=>{i!=null&&i.date&&r({date:i.date,scheduleId:n.id}).then(t)},[n.id,r,t,i==null?void 0:i.date]);return u.jsx(Ui,{footer:{confirmButton:{text:"Update",disabled:!a,onClick:s}},header:u.jsx(ARe,{title:"Edit schedule"}),id:"time-zone",onClose:t,width:1,children:u.jsx(TRe,{onChange:o,value:i})})};function jRe(e){const{visible:t,show:n,hide:r}=dRe();return{DialogScheduleEdit:t?wIn:null,dialogProps:{onClose:r,schedule:e,visible:t},dialogScheduleEditShow:n,hide:r}}const CIn=[];function ou({currentUser:e,context:t}){const{t:n}=Y(),r=z0({style:"short",type:"unit"}),i=(e==null?void 0:e.roles)||CIn,a=f.useCallback(()=>u.jsx(u.Fragment,{children:r.formatToParts(i.map(o=>o.title||Rn(o.name))).map((o,s)=>o.type==="element"?u.jsx("code",{children:o.value},`${o.value}-${s}`):u.jsx(f.Fragment,{children:o.value},`${o.value}-${s}`))}),[i,r]);return u.jsxs(L,{children:[u.jsxs(An,{space:2,children:[u.jsx(N,{size:0,children:u.jsx(gf,{})}),u.jsx(N,{size:1,weight:"medium",children:n("insufficient-permissions-message.title")})]}),u.jsx(An,{marginTop:4,children:u.jsx(N,{size:1,children:u.jsx(ht,{i18nKey:"insufficient-permissions-message.not-authorized-explanation",t:n,context:t})})}),u.jsx(An,{marginTop:4,marginBottom:1,children:u.jsx(N,{size:1,children:u.jsx(ht,{i18nKey:"insufficient-permissions-message.roles",t:n,components:{Roles:a}})})})]})}const Zk=e=>{const{currentUser:t,hasPermission:n,icon:r,onClick:i,permissionsOperationLabel:a,title:o,tone:s,disabled:l}=e;return u.jsx(gt,{content:u.jsx(L,{paddingX:2,paddingY:1,children:u.jsx(ou,{currentUser:t,context:a})}),disabled:n,placement:"left",portal:!0,children:u.jsx("div",{children:u.jsx(We,{disabled:!n||l,icon:r,onClick:i,text:o,tone:s})})})},SIn=e=>{const{actions:t,onDelete:n,onEdit:r,schedule:i,schemaType:a}=e,{mode:o}=K0(),s=NM(i),l=Kn(),[c,d]=vd({id:s.documentId,type:a==null?void 0:a.name,permission:"publish"}),{deleteSchedule:h,publishSchedule:p}=D_(),m=!d&&!(c!=null&&c.granted),g=()=>{r==null||r()},v=()=>{h({schedule:i}).then(()=>n==null?void 0:n())},b=()=>{p({schedule:i})};return l?u.jsxs(u.Fragment,{children:[(t==null?void 0:t.edit)&&u.jsx(Zk,{currentUser:l,hasPermission:!m,icon:Ma,onClick:g,permissionsOperationLabel:"edit-schedules",title:"Edit schedule",disabled:o==="upsell"}),(t==null?void 0:t.execute)&&u.jsx(Zk,{currentUser:l,hasPermission:!m,icon:ig,onClick:b,permissionsOperationLabel:"execute-schedules",title:"Publish now",disabled:o==="upsell"}),(t==null?void 0:t.delete)&&u.jsx(Zk,{currentUser:l,hasPermission:!m,icon:Kr,onClick:v,permissionsOperationLabel:"delete-schedules",title:"Delete schedule",tone:"critical",disabled:o==="upsell"}),(t==null?void 0:t.clear)&&u.jsx(Zk,{currentUser:l,hasPermission:!m,icon:Lp,onClick:v,permissionsOperationLabel:"delete-schedules",title:"Clear completed schedule",disabled:o==="upsell"})]}):null},IRe=e=>{const{actions:t,onDelete:n,onEdit:r,schedule:i,schemaType:a}=e;return u.jsx(Kt,{button:u.jsx(wi,{}),id:"contextMenu",menu:u.jsx(Ot,{children:u.jsx(SIn,{actions:t,onDelete:n,onEdit:r,schedule:i,schemaType:a})}),placement:"left",popover:{portal:!0,tone:"default"}})},DRe={validation:[],isValidating:!1};function _In(e=DRe.validation){const t=e.filter(P9).length>0,n=e.filter(Bhe).length>0;let r="default";return n&&(r="default"),t&&(r="critical"),{markers:e,validationTone:r,hasError:t,hasWarning:n}}function LM(e){return f.useMemo(()=>_In(e),[e])}const EIn={validation:[],isValidating:!1};function ex(e,t){const n=vl(),r=f.useMemo(()=>n.pair.validation(e,t),[t,n.pair,e]);return Jr(r,EIn)}const kIn=1500;function TIn({schedule:e,updateValidation:t}){const n=_Re(e),r=SRe(e);return!r||!(n!=null&&n.name)?null:u.jsx(AIn,{id:r,schemaName:n.name,updateValidation:t})}function AIn({id:e,schemaName:t,updateValidation:n}){const[r,i]=f.useState(!1);return f.useEffect(()=>{const a=setTimeout(()=>{i(!0)},kIn);return()=>{clearTimeout(a)}},[]),r?u.jsx(jIn,{id:e,schemaName:t,updateValidation:n}):null}function jIn({id:e,schemaName:t,updateValidation:n}){const r=ex(e,t);return f.useEffect(()=>{r.isValidating||n(r)},[n,r]),null}function BM(e){return f.useMemo(()=>e?e.replaceAll("drafts.",""):void 0,[e])}const Pde=R(N)`
  white-space: initial;
`,IIn={error:"critical",warning:"caution",info:"primary"};function c4(e){var t,n;const{marker:r,onClick:i,path:a,truncate:o}=e,s=f.useCallback(()=>{i&&i(r.path)},[r.path,i]),l=IIn[r==null?void 0:r.level]||void 0,c=(n=r.message)!=null?n:(t=r.item)==null?void 0:t.message,d=u.jsxs(U,{children:[u.jsx(L,{children:u.jsxs(N,{size:1,children:[r.level==="error"&&u.jsx(Ea,{}),r.level==="warning"&&u.jsx(fr,{}),r.level==="info"&&u.jsx(Bf,{})]})}),u.jsxs(ee,{space:2,flex:1,paddingLeft:3,children:[a&&u.jsx(Pde,{size:1,weight:"semibold",children:a}),c&&u.jsx(Pde,{muted:!0,size:1,textOverflow:o?"ellipsis":void 0,children:c})]})]});return u.jsx(S0,{padding:1,onClick:s,radius:2,tone:l,children:u.jsx(L,{padding:2,children:d})})}function DIn(e){const{documentType:t,kind:n,validation:r,onFocus:i,onClose:a,truncate:o}=e,s=r.filter(P9),l=r.filter(Bhe),c=r.filter(w4e),d=f.useCallback((v=[])=>{i&&i(v),a&&a()},[i,a]),h=v=>{const b=t&&t.fields,y=b&&b.find(x=>x.name===v[0]);return y&&y.type.title||""},p=s.length>0,m=l.length>0,g=c.length>0;return!p&&!m&&!g?null:u.jsxs(si,{width:0,"data-kind":n,"data-testid":"validation-list",children:[p&&s.map((v,b)=>u.jsx(c4,{truncate:o,path:h(v.path),marker:v,onClick:d},b)),m&&l.map((v,b)=>u.jsx(c4,{truncate:o,path:h(v.path),marker:v,onClick:d},b)),g&&c.map((v,b)=>u.jsx(c4,{truncate:o,path:h(v.path),marker:v,onClick:d},b))]})}const $In={portal:!0,constrainSize:!0,preventOverflow:!0,tone:"default",width:0,placement:"bottom-end"};function $Re(e){const{type:t,markers:n,menuHeader:r,documentId:i}=e,a=is(),{hasError:o,hasWarning:s}=LM(n),l=o||s?"visible":"hidden",c=f.useId()||"",d=BM(i),h=f.useCallback(p=>{d&&a.navigateIntent("edit",{id:d,path:encodeURIComponent(qt(p))})},[a,d]);return u.jsx(Kt,{id:c||"",button:u.jsx(fe,{tooltipProps:{content:"Show validation issues"},mode:"bleed","data-testid":"schedule-validation-list-button",icon:o?Ea:fr,style:{visibility:l},tone:o?"critical":"default"}),menu:u.jsx(Ot,{padding:1,children:u.jsx(si,{width:0,children:u.jsxs(ee,{space:1,children:[r??null,u.jsx(DIn,{documentType:t,validation:n,onFocus:h})]})})}),popover:$In})}const OIn=e=>{const{date:t,useElementQueries:n}=e,{formatDateTz:r}=io(),i=RDt(t,new Date,{addSuffix:!0}),a=r({date:t,format:U1.LARGE}),o=r({date:t,format:U1.MEDIUM}),s=r({date:t,format:U1.SMALL});return u.jsx(N,{size:1,textOverflow:"ellipsis",children:u.jsx(gt,{content:i,portal:!0,children:u.jsx("span",{children:n?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"date-small",children:s}),u.jsx("span",{className:"date-medium",children:o}),u.jsx("span",{className:"date-large",children:a})]}):a})})})},MIn={portal:!0,constrainSize:!0,preventOverflow:!0,tone:"default",width:0},Fde=e=>{const{stateReason:t}=e;return u.jsx(Kt,{id:"stateReason",button:u.jsx(fe,{tooltipProps:{content:"Schedule failed"},mode:"bleed","data-testid":"schedule-validation-list-button",icon:Ea,tone:"critical"}),menu:u.jsx(Ot,{padding:1,children:u.jsxs(si,{padding:2,width:0,children:[u.jsx(N,{size:1,children:QTn}),u.jsxs(U,{gap:3,marginTop:4,padding:1,children:[u.jsx(N,{size:1,style:{color:Eg[700].hex},children:u.jsx(Ea,{})}),u.jsx(N,{size:1,style:{color:Eg[700].hex},weight:"medium",children:t})]})]})}),popover:MIn})},RIn=e=>{const{id:t}=e;return u.jsx(sl,{user:t,withTooltip:!0})},PIn=R(L)`
  width: 9px;
`,vq=e=>{const{children:t,contextMenu:n,linkComponent:r,onClick:i,previewState:a,publishedDocumentId:o,schedule:s,schemaType:l,useElementQueries:c}=e,{mode:d}=K0(),[h,p]=f.useState(DRe),{validation:m}=h,{hasError:g,validationTone:v}=LM(m),{formatDateTz:b}=io(),y=c0(s),x=y?new Date(y):null;return u.jsx(te,{padding:1,radius:2,shadow:1,tone:v,style:d==="upsell"&&s.state==="scheduled"?{opacity:.7}:void 0,children:u.jsxs(U,{align:"center",gap:1,justify:"space-between",children:[u.jsx(gt,{delay:{open:400},placement:"bottom-end",content:u.jsx(By,{draft:a==null?void 0:a.draft,published:a==null?void 0:a.published}),disabled:!(a!=null&&a.draft)&&!(a!=null&&a.published),children:u.jsx(te,{__unstable_focusRing:!0,as:r||void 0,"data-as":i||r?"a":void 0,flex:1,onClick:i,padding:1,radius:2,tabIndex:0,tone:v,children:u.jsxs(U,{align:"center",gap:3,justify:"flex-start",paddingLeft:t?0:[1,2],children:[t&&u.jsx(L,{style:{flexBasis:"auto",flexGrow:1},children:t}),s.action==="unpublish"&&u.jsx(U,{style:{flexShrink:0},children:u.jsx(ro,{fontSize:0,mode:"outline",tone:xI[s.action].badgeTone,children:s.action})}),u.jsx(L,{display:["block","none"],style:{flexShrink:0,width:"90px"},children:u.jsx(ee,{space:2,children:x?u.jsxs(u.Fragment,{children:[u.jsx(N,{size:1,children:b({date:x,format:"dd/MM/yyyy"})}),u.jsx(N,{size:1,children:b({date:x,format:"p"})})]}):u.jsx(N,{muted:!0,size:1,children:u.jsx("em",{children:"No date specified"})})})}),u.jsx(L,{display:["none","block"],style:{flexShrink:0,maxWidth:"250px",width:t?"35%":"auto"},children:x?u.jsx(OIn,{date:x,useElementQueries:c}):u.jsx(N,{muted:!0,size:1,children:u.jsx("em",{children:"No date specified"})})}),!t&&u.jsx(L,{style:{visibility:"hidden"},children:u.jsx(to,{isPlaceholder:!0})}),u.jsxs(U,{align:"center",style:{flexShrink:0,marginLeft:"auto"},children:[u.jsx(L,{display:["none","none","block"],marginX:3,style:{flexShrink:0},children:u.jsx(RIn,{id:s==null?void 0:s.author})}),u.jsx(L,{display:["none","block"],marginX:[2,2,3],style:{flexShrink:0},children:a!=null&&a.draft||a!=null&&a.published?u.jsx(Wb,{draft:a==null?void 0:a.draft,published:a==null?void 0:a.published}):u.jsx(PIn,{})})]})]})})}),u.jsxs(U,{justify:"center",style:{width:"38px"},children:[s.state==="scheduled"&&u.jsxs(L,{children:[u.jsx(TIn,{schedule:s,updateValidation:p}),u.jsx($Re,{markers:m,type:l,documentId:o,menuHeader:u.jsx(L,{padding:2,children:u.jsx(N,{size:1,children:g?fq:JTn})})})]}),s.state==="cancelled"&&u.jsx(Fde,{stateReason:s.stateReason})]}),s.state==="cancelled"&&u.jsx(Fde,{stateReason:s.stateReason}),n&&u.jsx(L,{style:{flexShrink:0},paddingRight:2,children:n})]})})},FIn=e=>{const{schedule:t,schemaType:n}=e,{DialogScheduleEdit:r,dialogProps:i,dialogScheduleEditShow:a}=jRe(t),{onComplete:o}=Kjn(),s=f.useMemo(()=>SRe(t),[t]);return u.jsxs(u.Fragment,{children:[r&&u.jsx(r,{...i}),u.jsx(vq,{contextMenu:u.jsx(IRe,{actions:{delete:!0,edit:!0},onDelete:o,onEdit:a,schedule:t,schemaType:n}),onClick:a,publishedDocumentId:s,schedule:t,schemaType:n})]})},NIn=e=>{const{onDelete:t,schedule:n}=e,{deleteSchedule:r}=D_();return u.jsx(Kt,{button:u.jsx(wi,{}),id:"contextMenu",menu:u.jsx(Ot,{children:u.jsx(We,{icon:Kr,onClick:()=>{r({schedule:n}).then(()=>t==null?void 0:t())},text:"Delete schedule",tone:"critical"})}),placement:"left",popover:{portal:!0,tone:"default"}})},LIn=({schedule:e})=>u.jsx(vq,{contextMenu:u.jsx(NIn,{schedule:e}),schedule:e,useElementQueries:!0,children:u.jsx(to,{icon:Hl,layout:"default",subtitle:u.jsx("em",{children:"It may have been deleted"}),title:u.jsx("em",{style:{color:Eg[600].hex},children:"Document not found"})})}),BIn=e=>{const{previewState:t,schedule:n,schemaType:r}=e,i=t.draft||t.published,a=n.state==="succeeded",o=n.state==="scheduled",{DialogScheduleEdit:s,dialogProps:l,dialogScheduleEditShow:c}=jRe(n),d=BM(i==null?void 0:i._id),h=f.useMemo(()=>{const p=f.forwardRef((m,g)=>u.jsx(pu,{...m,intent:"edit",params:{type:r.name,id:i&&fn(i==null?void 0:i._id)},ref:g}));return p.displayName="ForwardRef(LinkComponent)",p},[r,i]);return u.jsxs(u.Fragment,{children:[s&&u.jsx(s,{...l}),u.jsx(vq,{contextMenu:u.jsx(IRe,{actions:{clear:a,delete:!a,edit:o,execute:o},onEdit:c,schedule:n,schemaType:r}),linkComponent:h,previewState:t,publishedDocumentId:d,schedule:n,schemaType:r,useElementQueries:!0,children:t.isLoading?u.jsx(to,{icon:r==null?void 0:r.icon,isPlaceholder:t.isLoading,layout:"default"}):u.jsx(Gb,{layout:"default",schemaType:r,value:i})})]})},ORe=e=>{const{schedule:t,type:n}=e,r=NM(t),i=_Re(t),a=Wjn(r==null?void 0:r.documentId,i),o=!(a.draft||a.published)&&!a.isLoading,s=f.useMemo(()=>!i||o?u.jsx(LIn,{schedule:t}):n==="document"?u.jsx(FIn,{schedule:t,schemaType:i}):n==="tool"?u.jsx(BIn,{previewState:a,schedule:t,schemaType:i}):null,[o,n,a,t,i]);return u.jsx(Yjn,{children:s})},VIn=200;function zIn(e){const{item:{content:t,virtualRow:n},measureElement:r}=e,i=f.useMemo(()=>({position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${n.start}px)`}),[n]);return u.jsx(L,{"data-index":n.index,paddingBottom:2,ref:r,style:i,children:typeof t=="string"?u.jsx(HIn,{content:t}):u.jsx(UIn,{schedule:t})},n.key)}function UIn({schedule:e}){const[t,n]=f.useState(u.jsx(WIn,{}));return f.useEffect(()=>{let r=!0;const i=setTimeout(()=>{r&&n(u.jsx(ORe,{schedule:e,type:"tool"}))},VIn);return()=>{r=!1,clearTimeout(i)}},[e]),t}function HIn({content:e}){return u.jsx(U,{align:"flex-end",paddingBottom:2,paddingTop:4,children:u.jsx(ab,{muted:!0,size:1,children:e})})}function WIn(){return u.jsx(te,{padding:1,radius:2,shadow:1,children:u.jsx(te,{padding:1,children:u.jsx(to,{isPlaceholder:!0})})})}function Nde(e){return new Date(e).toLocaleString("default",{month:"long",year:"numeric"})}const GIn=()=>{const{activeSchedules:e,scheduleState:t,sortBy:n}=$_(),{measureElement:r,virtualList:i,totalSize:a,containerRef:o}=YIn(e,n),{deleteSchedules:s}=D_(),l=()=>{s({schedules:e||[]})};return f.useEffect(()=>{var c;(c=o==null?void 0:o.current)==null||c.scrollTo(0,0)},[t,n,o]),u.jsxs(L,{paddingBottom:6,paddingTop:1,paddingX:4,ref:o,style:{position:"relative",overflowX:"hidden",overflowY:"auto",height:"100%",boxSizing:"border-box"},children:[u.jsx(L,{style:{height:`${a}px`,width:"100%",position:"relative"},children:i.map(c=>u.jsx(zIn,{item:c,measureElement:r},c.key))}),t==="succeeded"&&u.jsx(U,{justify:"center",marginTop:6,children:u.jsx(fe,{icon:Lp,mode:"ghost",onClick:l,text:"Clear all completed schedules"})})]})};function YIn(e,t){const n=f.useRef(null),r=f.useMemo(()=>{const o=[];return e.forEach((s,l)=>{if(t=="executeAt"){const c=e[l-1],d=c0(c),h=l>0&&d?Nde(d):null,p=c0(s),m=p?Nde(p):null;m!==h&&o.push(m||"No date specified")}o.push(s)}),o},[e,t]),i=tU({count:r.length,getScrollElement:()=>n.current,estimateSize:()=>50,overscan:5}),a=i.getVirtualItems().map(o=>{const s=r[o.index];return{content:s,key:typeof s=="string"?s:s.id,virtualRow:o}});return{containerRef:n,measureElement:i.measureElement,totalSize:i.getTotalSize(),virtualList:a}}const Lde=R(si)`
  width: auto;
`,qIn=()=>{const{activeSchedules:e,selectedDate:t,scheduleState:n}=$_(),{upsellData:r,telemetryLogs:i}=CRe(),{mode:a}=K0(),o=a==="upsell"&&n==="scheduled";return u.jsxs(L,{style:{height:"100%"},children:[a==="upsell"&&r&&u.jsx(Lde,{width:1,padding:4,paddingBottom:1,children:u.jsx(gq,{layout:"horizontal",data:r,onPrimaryClick:i.panelPrimaryClicked,onSecondaryClick:i.panelSecondaryClicked})}),e.length===0?u.jsx(Lde,{width:1,padding:4,paddingTop:4,children:u.jsx(zjn,{scheduleState:n,selectedDate:t})}):u.jsxs(u.Fragment,{children:[o&&u.jsx(te,{margin:4,marginBottom:2,padding:3,tone:"caution",radius:3,shadow:1,children:u.jsxs(U,{gap:3,align:"center",children:[u.jsx(N,{size:1,children:u.jsx(fr,{})}),u.jsx(N,{size:1,children:"Your scheduled documents won't be published automatically unless you upgrade your plan. You can still publish them manually."})]})}),u.jsx(L,{paddingTop:o?0:4,children:u.jsx(GIn,{})})]})]})},KIn=()=>{const{setSortBy:e,sortBy:t}=$_();return u.jsx(Kt,{button:u.jsx(wi,{}),id:"sort",menu:u.jsxs(Ot,{style:{minWidth:"250px"},children:[u.jsx(We,{icon:Z1,iconRight:t==="createdAt"?_a:void 0,onClick:()=>e("createdAt"),text:"Sort by time added"}),u.jsx(We,{icon:Z1,iconRight:t==="executeAt"?_a:void 0,onClick:()=>e("executeAt"),text:"Sort by time scheduled"})]})})},d4=e=>{const{mode:t="default",selected:n}=e;return u.jsx(L,{style:{...t==="default"?{background:Ww[n?100:300].hex}:{},...t==="failed"?{background:Eg[500].hex}:{},borderRadius:"2px",height:"2px",width:"100%"}})};function ZIn(e){const{date:t,focused:n,isCurrentMonth:r,isToday:i,onSelect:a,selected:o}=e,{schedulesByDate:s}=$_(),l=s(t),c=f.useCallback(()=>{a(o?void 0:t)},[t,a,o]);let d;i||o?d="primary":(fIt(t),d="default");const h=l.length>0,{completed:p,failed:m,upcoming:g}=f.useMemo(()=>({completed:l.filter(v=>v.state==="succeeded"),failed:l.filter(v=>v.state==="cancelled"),upcoming:l.filter(v=>v.state==="scheduled")}),[l]);return u.jsx("div",{"aria-selected":o,"data-ui":"CalendarDay",children:u.jsx(gt,{content:u.jsx(XIn,{date:t,schedules:l}),disabled:!h,portal:!0,children:u.jsxs(te,{"aria-label":t.toDateString(),"aria-pressed":o,as:"button",__unstable_focusRing:!0,"data-weekday":!0,"data-focused":n?"true":"",role:"button",tabIndex:-1,onClick:c,paddingX:3,paddingY:4,radius:2,selected:o,style:{position:"relative"},tone:d,children:[u.jsx(N,{size:1,style:{opacity:!o&&!r?.35:1,textAlign:"center"},children:o?u.jsx(Rr,{}):t.getDate()}),u.jsx(L,{style:{bottom:2,left:2,position:"absolute",right:2},children:u.jsxs(U,{align:"center",gap:1,justify:"center",children:[p.length>0&&u.jsx(d4,{selected:o}),g.length>0&&u.jsx(d4,{selected:o}),m.length>0&&u.jsx(d4,{mode:"failed",selected:o})]})})]})})})}function XIn(e){const{date:t,schedules:n=[]}=e,{formatDateTz:r}=io(),i=n.reduce((a,o)=>(a[o.state].push(o),a),{cancelled:[],succeeded:[],scheduled:[]});return u.jsxs(L,{padding:3,children:[u.jsx(L,{marginBottom:4,children:u.jsx(N,{size:1,weight:"medium",children:$c(t,"d MMMM yyyy")})}),u.jsx(ee,{space:3,children:Object.keys(i).map(a=>{const o=i[a];return o.length===0?null:u.jsxs(ee,{space:2,children:[u.jsx(ab,{muted:!0,size:0,children:YS[a].title}),u.jsx(ee,{space:1,children:o.filter(s=>s.executeAt).map(s=>{const l=c0(s);return l?u.jsxs(An,{space:2,children:[u.jsx(L,{style:{width:"60px"},children:u.jsx(N,{size:1,weight:"regular",children:r({date:new Date(l),format:"p"})})}),u.jsx(U,{align:"center",style:{flexShrink:0,opacity:s.action==="unpublish"?1:0},children:u.jsx(ro,{fontSize:0,mode:"outline",tone:xI[s.action].badgeTone,children:s.action})})]},s.id):null})})]},a)})})]})}const JIn=["January","February","March","April","May","June","July","August","September","October","November","December"],QIn=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],eDn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],tDn=[1,2,3,4,5,6],nDn=e=>{const t=nO(e);return tO({start:t,end:iO(t)})},rDn=e=>e.map(t=>[t,...tDn.map(n=>Hr(t,n))]),iDn=e=>rDn(nDn(e)).map(t=>({number:rO(t[0]),days:t}));function aDn(e){const{getCurrentZoneDate:t}=io();return u.jsx(L,{"aria-hidden":e.hidden||!1,"data-ui":"CalendarMonth",children:u.jsxs(Vn,{style:{gridGap:"1px",gridTemplateColumns:"repeat(7, 1fr)"},children:[QIn.map(n=>u.jsx(te,{paddingY:3,children:u.jsx(ab,{size:1,style:{textAlign:"center"},children:n.slice(0,1)})},n)),iDn(e.date).map((n,r)=>n.days.map((i,a)=>{const o=e.focused&&Eo(i,e.focused),s=e.selected&&Eo(i,e.selected),l=Eo(i,t()),c=e.focused&&aO(i,e.focused);return u.jsx(ZIn,{date:i,focused:o,isCurrentMonth:c,isToday:l,onSelect:e.onSelect,selected:s},`${r}-${a}`)}))]})})}const oDn=u.jsx("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1}),sDn=f.forwardRef(function(e,t){const{focusedDate:n,onFocusedDateChange:r,onSelect:i,selectedDate:a,...o}=e,{zoneDateToUtc:s}=io(),l=f.useCallback(y=>r(s(y)),[r,s]),c=f.useCallback(y=>l(X2(n,y)),[n,l]),d=f.useCallback(y=>{if(y){const x=s(df(vg(y,y.getHours()),y.getMinutes()));i(x),r(x)}else i(void 0)},[i,s,r]),h=f.useRef(null);f.useImperativeHandle(t,()=>h.current);const p=f.useCallback(()=>{var y,x;(x=(y=h.current)==null?void 0:y.querySelector('[data-focused="true"]'))==null||x.focus()},[h]),m=f.useCallback(y=>{var x,w;if(eDn.includes(y.key)){if(y.preventDefault(),y.currentTarget.hasAttribute("data-calendar-grid")){p();return}y.key==="ArrowUp"&&r(s(Hr(n,-7))),y.key==="ArrowDown"&&r(s(Hr(n,7))),y.key==="ArrowLeft"&&r(s(Hr(n,-1))),y.key==="ArrowRight"&&r(s(Hr(n,1))),(w=(x=h.current)==null?void 0:x.querySelector("[data-preserve-focus]"))==null||w.focus()}},[h,p,r,n,s]);f.useEffect(()=>{p()},[p]),f.useEffect(()=>{var y;(y=document.activeElement)!=null&&y.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]")&&p()},[h,p,n]);const g=f.useCallback(()=>{const y=new Date;i(y),r(y)},[i,r]),v=f.useCallback(()=>c(-1),[c]),b=f.useCallback(()=>c(1),[c]);return u.jsxs(L,{"data-ui":"Calendar",...o,ref:h,children:[u.jsx(U,{align:"center",paddingLeft:4,style:{borderBottom:"1px solid var(--card-border-color)",minHeight:`${oRe}px`,position:"sticky",top:0},children:u.jsxs(U,{align:"center",flex:1,justify:"space-between",children:[u.jsxs(N,{weight:"medium",size:1,children:[JIn[n==null?void 0:n.getMonth()]," ",n==null?void 0:n.getFullYear()]}),u.jsx(U,{paddingRight:3,gap:2,children:u.jsxs(Xa,{children:[u.jsx(fe,{icon:Lf,mode:"bleed",onClick:v,tooltipProps:{content:"Previous month"}}),u.jsx(fe,{icon:no,mode:"bleed",onClick:b,tooltipProps:{content:"Next month"}})]})})]})}),u.jsx(L,{children:u.jsxs(L,{"data-calendar-grid":!0,onKeyDown:m,overflow:"hidden",paddingBottom:1,paddingX:1,tabIndex:0,children:[u.jsx(aDn,{date:n,focused:n,onSelect:d,selected:a}),oDn]})}),u.jsx(L,{flex:1,style:{borderBottom:"1px solid var(--card-border-color)"},children:u.jsx(fe,{mode:"bleed",onClick:g,width:"fill",text:"Today"})})]})}),lDn=e=>{const{onSelect:t,selectedDate:n}=e,{getCurrentZoneDate:r,utcToCurrentZoneDate:i}=io(),[a,o]=f.useState(n||r()),s=f.useCallback(l=>{o(i(l))},[i]);return u.jsx(sDn,{focusedDate:a,onFocusedDateChange:s,onSelect:t,selectedDate:n})},Bde=R(L)`
  flex-direction: column;
  &:not(:last-child) {
    border-right: 1px solid var(--card-border-color);
  }
`,uDn=[],Vde="yyyy-MM-dd";function cDn(){const e=is(),{sanity:t}=ib(),{error:n,isInitialLoading:r,schedules:i=uDn}=FM(),a=f.useRef(),o=e.state.state,s=e.state.date?KH(e.state.date,Vde,new Date):void 0;f.useEffect(()=>{e.state.state&&(a.current=e.state.state)},[e.state.state]),dDn(e,o,s);const{formatDateTz:l}=io(),c=f.useMemo(()=>({schedules:i,scheduleState:o,selectedDate:s}),[i,o,s]),d=()=>{e.navigate({state:(a==null?void 0:a.current)||qS[0]})};return u.jsx(Ojn,{value:c,children:u.jsx(U,{direction:"column",height:"fill",flex:1,overflow:"hidden",children:u.jsxs(U,{flex:1,height:"fill",children:[u.jsx(Bde,{display:["none",null,null,"flex"],style:{position:"sticky",top:0,width:"350px"},children:u.jsx(lDn,{onSelect:h=>{h?e.navigate({date:l({date:h,format:Vde})}):e.navigate({state:(a==null?void 0:a.current)||qS[0]})},selectedDate:s})}),u.jsxs(Bde,{display:"flex",flex:1,overflow:"hidden",children:[u.jsx(hRe,{style:{background:t.color.card.enabled.bg,position:"sticky",top:0,zIndex:1},children:u.jsx(U,{align:"center",paddingLeft:4,paddingRight:3,style:{borderBottom:"1px solid var(--card-border-color)",minHeight:`${oRe}px`},children:u.jsxs(U,{align:"center",flex:1,justify:"space-between",children:[u.jsx(Rjn,{onClearDate:d,selectedDate:s}),u.jsxs(U,{align:"center",gap:1,children:[u.jsx(fRe,{useElementQueries:!0}),u.jsx(KIn,{})]})]})})}),u.jsxs(U,{direction:"column",flex:1,children:[n&&u.jsx(L,{paddingTop:4,paddingX:4,children:u.jsx(sRe,{description:"More information in the developer console.",title:"Something went wrong, unable to retrieve schedules."})}),u.jsx(L,{flex:1,children:r?u.jsx(L,{padding:4,children:u.jsx(N,{muted:!0,children:"Loading..."})}):u.jsx(qIn,{})})]})]})]})})})}function dDn(e,t,n){f.useEffect(()=>{!t&&!n&&e.navigate({state:qS[0]},{replace:!0})},[n,e,t])}const fDn=e=>{const{buttonText:t="Action",disabled:n,icon:r,onAction:i,onComplete:a,tone:o="positive"}=e;return u.jsxs(U,{width:"full",gap:3,justify:"flex-end",children:[u.jsx(fe,{mode:"bleed",onClick:a,text:"Cancel"}),i&&u.jsx(fe,{disabled:n,icon:r,onClick:i,text:t,tone:o})]})};function hDn({id:e,schemaType:t}){return u.jsxs(ee,{space:4,children:[u.jsxs(N,{size:1,children:["Schedule this document to be published at any time in the future.",u.jsx("br",{}),"Any edits in the meantime will be added to the scheduled document."]}),u.jsx(N,{size:1,children:"Visit the Schedules page to get an overview of all schedules."}),u.jsx(pDn,{id:e,type:t})]})}function pDn({id:e,type:t}){const n=BM(e),r=Gjn(t),i=ex(n,t),{hasError:a}=LM(i.validation);return a?u.jsx(te,{padding:2,radius:1,shadow:1,tone:"critical",children:u.jsxs(U,{gap:1,align:"center",children:[u.jsx($Re,{markers:i.validation,type:r,documentId:n}),u.jsx(N,{size:1,children:fq})]})}):null}const mDn=e=>{const{schedules:t}=e;return u.jsx(ee,{space:4,children:t.length===0?u.jsx(L,{children:u.jsx(N,{size:1,children:"No schedules"})}):u.jsx(ee,{space:2,children:t.map(n=>u.jsx(ORe,{schedule:n,type:"document"},n.id))})})},gDn=RM("ScheduleAction"),zde=e=>{const{draft:t,id:n,liveEdit:r,onComplete:i,published:a,type:o}=e,s=Kn(),[l,c]=vd({id:n,type:o,permission:"publish"}),{createSchedule:d}=D_(),{enabled:h,mode:p}=K0(),{handleOpenDialog:m}=CRe(),[g,v]=f.useState(!1),{formData:b,onFormChange:y}=ERe(),{error:x,isInitialLoading:w,schedules:C}=FM({documentId:n,state:"scheduled"});gDn("schedules",C);const S=C&&C.length>0,_=t!==null||a!==null,E=!c&&!(l!=null&&l.granted),k=f.useCallback(()=>{p==="upsell"?m("document_action"):v(!0)},[p,m]),T=f.useCallback(()=>{b!=null&&b.date&&d({date:b.date,documentId:n}).then(i)},[i,d,n,b==null?void 0:b.date]),j=S?"Edit Schedule":"Schedule";if(E)return{disabled:!0,icon:Ma,label:j,title:u.jsx(ou,{currentUser:s,context:"edit-schedules"})};let I="This document doesn't exist yet";_&&(I=null),w&&(I="Loading schedules"),r&&(I="Live Edit is enabled for this content type and publishing happens automatically as you make changes");const A={content:x?u.jsx(sRe,{description:"More information in the developer console.",title:"Something went wrong, unable to retrieve schedules."}):u.jsx(qjn,{value:e,children:S?u.jsx(mDn,{schedules:C}):u.jsx(TRe,{onChange:y,value:b,children:u.jsx(hDn,{id:n,schemaType:o})})}),footer:!S&&u.jsx(fDn,{buttonText:"Schedule",disabled:!(b!=null&&b.date),icon:oD,onAction:T,onComplete:i,tone:"primary"}),header:u.jsx(ARe,{title:j}),onClose:i,type:"dialog"};return h?{dialog:g&&A,disabled:w||!_||r,label:j,icon:Ma,onHandle:k,title:I&&u.jsx(L,{style:{maxWidth:"315px"},children:I})}:null};function vDn(e){return e.findIndex(t=>t.action==="publish")<0?[zde,...e]:e.flatMap(t=>t.action==="publish"?[t,zde]:t)}const yDn=RM("ScheduledBadge"),bDn=e=>{const{schedules:t}=FM({documentId:e.id,state:"scheduled"});yDn("schedules",t);const n=t==null?void 0:t[0];if(!n||!n.executeAt)return null;const r=$c(new Date(n.executeAt),U1.LARGE);return{color:xI[n.action].badgeColor,label:"Scheduled",title:`${xI[n.action].actionName} on ${r} (local time)`}};function xDn(e){return[...e,bDn]}function wDn(e){const{id:t,markers:n}=e,r=BM(t),{hasError:i}=LM(n),{schedules:a}=FM({documentId:r,state:"scheduled"}),{mode:o}=K0();return a.length>0?u.jsxs(L,{marginBottom:4,children:[o==="upsell"&&u.jsx(te,{tone:"caution",padding:3,radius:3,shadow:1,marginBottom:3,children:u.jsxs(U,{align:"center",gap:3,padding:1,children:[u.jsx(N,{muted:!0,size:1,children:u.jsx(fr,{})}),u.jsx(N,{muted:!0,size:1,weight:"medium",children:"Scheduled publishing is not available on your current plan"})]})}),u.jsx(te,{padding:3,radius:1,shadow:1,tone:i?"critical":"primary",style:o==="upsell"?{opacity:.7}:void 0,children:u.jsxs(ee,{space:2,children:[u.jsxs(U,{align:"center",gap:3,marginBottom:1,padding:1,children:[u.jsx(N,{muted:!0,size:1,children:u.jsx(Ma,{})}),u.jsxs(N,{muted:!0,size:1,children:[u.jsx("span",{style:{fontWeight:600},children:"Upcoming schedule"})," (local time)"]})]}),u.jsx(ee,{space:2,children:a.map(s=>{if(!s.executeAt)return null;const l=$c(new Date(s.executeAt),U1.LARGE);return u.jsxs(An,{space:2,children:[u.jsx(N,{muted:!0,size:1,children:l}),u.jsx(U,{style:{opacity:s.action==="unpublish"?1:0},children:u.jsx(ro,{fontSize:0,mode:"outline",children:s.action})})]},s.id)})}),i&&u.jsx(L,{marginTop:3,children:u.jsx(N,{muted:!0,size:1,weight:"regular",children:fq})})]})})]}):null}function CDn(e){const{value:t,validation:n,children:r}=e,i=t,a=f.useMemo(()=>n.map(o=>({level:o.level,path:o.path,item:{message:o.message},message:o.message})),[n]);return u.jsxs(u.Fragment,{children:[i!=null&&i._id?u.jsx(wDn,{id:i._id,markers:a}):null,r]})}const SDn=e=>{const{schemaType:t}=e;return MRe(t).name==="document"?u.jsx(CDn,{...e,children:e.renderDefault(e)}):e.renderDefault(e)};function MRe(e){return e.type?MRe(e.type):e}function _Dn(e){const{enabled:t,mode:n}=K0();return t?u.jsx(db,{condition:n==="upsell",wrapper:r=>u.jsx(Ljn,{children:r}),children:e.renderDefault(e)}):e.renderDefault(e)}function EDn(e){return u.jsx(kjn,{children:u.jsx(_Dn,{...e})})}const RRe="sanity/scheduled-publishing",kDn=Lb({name:RRe,document:{actions:e=>vDn(e),badges:e=>xDn(e)},form:{components:{input:SDn}},studio:{components:{layout:EDn}},tools:e=>[...e,{name:nAn,title:rAn,icon:Ma,component:cDn,router:ma.create("/",[ma.create("/state/:state"),ma.create("/date/:date")])}]}),wr="tasks",TDn={locale:"en-US",namespace:wr,resources:()=>Ff(()=>import("./resources2-e6c26a7b.js"),[])};function ADn({children:e}){var t;const{enabled:n,isLoading:r}=P_("sanityTasks"),i=(t=Fr().tasks)==null?void 0:t.enabled,a=f.useMemo(()=>!i||r?{enabled:!1,mode:null}:{enabled:!0,mode:n?"default":"upsell"},[n,r,i]);return u.jsx(Epe.Provider,{value:a,children:e})}function yu(){return f.useContext(Epe)}function jDn({children:e,isLastPane:t}){return u.jsx(kpe.Provider,{value:t,children:e})}function IDn(){return f.useContext(kpe)}function DDn(e){const[t,n]=f.useState(null),r=QPe({documentValue:t,permission:"read"}),i=f.useMemo(()=>({mentionOptions:r,selectedDocument:t,setSelectedDocument:n}),[r,t,n]);return u.jsx(Tpe.Provider,{value:i,children:e.children})}function M_(){const e=f.useContext(Tpe);if(!e)throw new Error("useMentionUser must be used within a MentionUserProvider");return e}const $Dn=bi({name:"Task Created",version:1,description:"A task is created"}),ODn=bi({name:"Task Status Changed",version:1,description:"Task status changed"}),MDn=bi({name:"Task Duplicated",version:1,description:"A task is duplicated"}),RDn=bi({name:"Task Removed",version:1,description:"A task is removed"}),PDn=bi({name:"Task Link Copied",version:1,description:"The link to a task is copied"}),FDn=bi({name:"Task Link Opened",version:1,description:"User visited the studio through a link with a task"}),PRe={viewMode:"list",selectedTask:null,activeTabId:"assigned",duplicateTaskValues:null,isOpen:!1};function NDn(e,t){switch(t.type){case"TOGGLE_TASKS_VIEW":return t.payload===!1?{...PRe,isOpen:t.payload}:{...e,isOpen:t.payload};case"CREATE_TASK":return{...e,viewMode:"create",selectedTask:qa()};case"EDIT_TASK":return{...e,viewMode:"edit",selectedTask:t.payload.id};case"EDIT_DRAFT":return{...e,viewMode:"draft",selectedTask:t.payload.id};case"DUPLICATE_TASK":return{...e,viewMode:"duplicate",selectedTask:qa(),duplicateTaskValues:t.payload.duplicateTaskValues};case"SET_ACTIVE_TAB":return{...e,viewMode:"list",activeTabId:t.payload};case"NAVIGATE_TO_LIST":return{...e,viewMode:"list"};default:return e}}const LDn=({children:e})=>{const[t,n]=f.useReducer(NDn,PRe),r=is(),i=Pr(),a=Os(),o=f.useCallback(m=>{switch(m.type){case"list":n({type:"NAVIGATE_TO_LIST"});break;case"create":n({type:"CREATE_TASK"});break;case"edit":n({type:"EDIT_TASK",payload:{id:m.id}});break;case"duplicate":n({type:"DUPLICATE_TASK",payload:{duplicateTaskValues:m.duplicateTaskValues}});break;case"draft":n({type:"EDIT_DRAFT",payload:{id:m.id}});break}},[]),s=f.useCallback(m=>{n({type:"SET_ACTIVE_TAB",payload:m})},[]),l=f.useCallback(()=>{n({type:"TOGGLE_TASKS_VIEW",payload:!1})},[]),c=f.useCallback(()=>{n({type:"TOGGLE_TASKS_VIEW",payload:!0})},[]),d=f.useCallback(()=>{const m=new URL(window.location.href);m.searchParams.set("sidebar","tasks"),m.searchParams.set("viewMode",t.viewMode),t.selectedTask&&m.searchParams.set("selectedTask",t.selectedTask),navigator.clipboard.writeText(m.toString()).then(()=>{i.push({closable:!0,status:"info",title:"Copied link to clipboard"}),a.log(PDn)}).catch(()=>{i.push({closable:!0,status:"error",title:"Failed to copy link to clipboard"})})},[t.selectedTask,t.viewMode,a,i]),h=new URLSearchParams(r.state._searchParams).toString();f.useEffect(()=>{if(h){const m=new URLSearchParams(h);if(m.get("sidebar")!=="tasks")return;n({type:"TOGGLE_TASKS_VIEW",payload:!0});const g=m.get("viewMode"),v=m.get("selectedTask");g==="edit"&&v&&(n({type:"EDIT_TASK",payload:{id:v}}),a.log(FDn))}},[h,a]);const p=f.useMemo(()=>({state:t,setViewMode:o,setActiveTab:s,handleCloseTasks:l,handleOpenTasks:c,handleCopyLinkToTask:d}),[l,d,c,s,o,t]);return u.jsx(Ape.Provider,{value:p,children:e})};function yl(){return f.useContext(Ape)||BDn}const BDn={state:{activeTabId:"assigned",viewMode:"list",selectedTask:null,isOpen:!1,duplicateTaskValues:null},setActiveTab:()=>null,setViewMode:()=>null,handleCloseTasks:()=>null,handleCopyLinkToTask:()=>null,handleOpenTasks:()=>null};function VDn(e){return e.reduce((t,n)=>({...t,[n._id]:n}),{})}function zDn(e,t){switch(t.type){case"TASKS_SET":{const n=VDn(t.tasks);return{...e,tasks:n}}case"TASK_ADDED":{const n=t.payload,r=n,i={[n._id]:{...e.tasks[n._id],...r,_state:n._state||void 0,_createdAt:n._createdAt||new Date().toISOString()}};return{...e,tasks:{...e.tasks,...i}}}case"TASK_RECEIVED":{const n=t.payload;return{...e,tasks:{...e.tasks,[n._id]:n}}}case"TASK_DELETED":{const{[t.id]:n,...r}=e.tasks;return{...e,tasks:r}}case"TASK_UPDATED":{const n=t.payload,r=n._id,i={...e.tasks[r],...n};return{...e,tasks:{...e.tasks,[r]:i}}}default:return e}}const UDn={tasks:{}},HDn={events:["welcome","mutation","reconnect"],includeResult:!0,visibility:"query"},WDn="_createdAt",GDn="desc",YDn=['_type == "tasks.task"'],qDn=`{
  ...,
}`,KDn=`order(${WDn} ${GDn})`,Ude=`*[${YDn.join(" && ")}] ${qDn} | ${KDn}`;function ZDn(e){const{client:t}=zM(),{documentId:n}=e,[r,i]=f.useReducer(zDn,UDn),[a,o]=f.useState(t!==null),[s,l]=f.useState(null),c=f.useMemo(()=>({documentId:n?fn(n):null}),[n]),d=f.useCallback(async()=>{if(!t){o(!1);return}try{const m=await t.fetch(Ude,c);i({type:"TASKS_SET",tasks:m}),o(!1)}catch(m){l(m)}},[t,c]),h=f.useCallback(async m=>{if(m.type==="welcome"&&(o(!0),await d(),o(!1)),m.type==="reconnect"&&o(!0),m.type==="mutation"){if(m.transition==="appear"){const g=m.result;g&&i({type:"TASK_RECEIVED",payload:g})}if(m.transition==="disappear"&&i({type:"TASK_DELETED",id:m.documentId}),m.transition==="update"){const g=m.result;g&&i({type:"TASK_UPDATED",payload:g})}}},[d]),p=f.useMemo(()=>t?t.observable.listen(Ude,c,HDn).pipe(Cn(m=>(l(m),xe(m)))):xe(),[t,c]);return f.useEffect(()=>{const m=p.subscribe(h);return()=>{m==null||m.unsubscribe()}},[h,p]),{data:f.useMemo(()=>Object.values(r.tasks),[r.tasks]),dispatch:i,error:s,isLoading:a}}const XDn=[];function JDn(e){const{children:t}=e,[n,r]=f.useState(null),{data:i=XDn,isLoading:a}=ZDn({}),o=f.useMemo(()=>m0(r,1e3),[]),s=f.useMemo(()=>({activeDocument:n,setActiveDocument:o,isLoading:a,data:i??[]}),[n,i,a,o]);return u.jsx(jpe.Provider,{value:s,children:t})}function Z0(){return f.useContext(jpe)||{activeDocument:null,setActiveDocument:()=>null,data:[],isLoading:!1}}const ph="tasks",Hde={interpolate:/{{([\s\S]+?)}}/g},Wde="www.sanity.io",QDn="2024-04-19";function e$n(e){const[t,n]=f.useState(!1),[r,i]=f.useState(null),a=O_(),o=Os(),s=Zt({apiVersion:QDn}),l=f.useMemo(()=>({dialogSecondaryClicked:()=>o.log(Ny,{feature:ph,type:"modal"}),dialogPrimaryClicked:()=>o.log(Fy,{feature:ph,type:"modal"}),panelViewed:g=>o.log(Ry,{feature:ph,type:"inspector",source:g}),panelDismissed:()=>o.log(Py,{feature:ph,type:"inspector"}),panelPrimaryClicked:()=>o.log(Fy,{feature:ph,type:"inspector"}),panelSecondaryClicked:()=>o.log(Ny,{feature:ph,type:"inspector"})}),[o]),c=f.useCallback(()=>{l.dialogPrimaryClicked()},[l]),d=f.useCallback(()=>{l.dialogSecondaryClicked()},[l]),h=f.useCallback(()=>{n(!1),o.log(Py,{feature:ph,type:"modal"})},[o]);f.useEffect(()=>{const g=s.observable.request({uri:"/journey/tasks"}).subscribe({next:v=>{if(v)try{const b=Ty(v.ctaButton.url,Hde);v.ctaButton.url=b({baseUrl:Wde,projectId:a});const y=Ty(v.secondaryButton.url,Hde);v.secondaryButton.url=y({baseUrl:Wde,projectId:a}),i(v)}catch{}},error:()=>{}});return()=>{g.unsubscribe()}},[s,a]);const p=f.useCallback(g=>{n(!0),o.log(Ry,{feature:ph,type:"modal",source:g})},[o]),m=f.useMemo(()=>({upsellDialogOpen:t,handleOpenDialog:p,upsellData:r,telemetryLogs:l}),[p,t,r,l]);return u.jsxs(Ipe.Provider,{value:m,children:[e.children,r&&t&&u.jsx(dq,{data:r,onClose:h,onPrimaryClick:c,onSecondaryClick:d})]})}function FRe(){return f.useContext(Ipe)||t$n}const t$n={upsellData:null,handleOpenDialog:()=>null,upsellDialogOpen:!1,telemetryLogs:{dialogSecondaryClicked:()=>null,dialogPrimaryClicked:()=>null,panelViewed:()=>null,panelDismissed:()=>null,panelPrimaryClicked:()=>null,panelSecondaryClicked:()=>null}};function NRe(){const{handleOpenTasks:e,setViewMode:t}=yl(),{enabled:n,mode:r}=yu(),{handleOpenDialog:i}=FRe(),a=f.useCallback(()=>{r==="upsell"?i("document_action"):(e(),t({type:"create"}))},[e,t,r,i]),{t:o}=Y(wr);return f.useMemo(()=>n?{icon:s2,label:o("actions.create.text"),title:o("actions.create.text"),group:["paneActions"],onHandle:a}:null,[n,a,o])}NRe.displayName="TaskCreateAction";function n$n(e){const{documentId:t,documentType:n}=e,r=IDn(),{setActiveDocument:i}=Z0();return f.useEffect(()=>(t&&r&&n&&(i==null||i({documentId:fn(t),documentType:n})),()=>{r&&(i==null||i(null))}),[t,n,r,i]),null}function r$n(e){const{enabled:t}=yu();return t?u.jsx(n$n,{...e}):null}function i$n(e){var t,n;const r=(t=e.value)==null?void 0:t._id,i=(n=e.value)==null?void 0:n._type;return u.jsxs(u.Fragment,{children:[u.jsx(r$n,{documentId:r,documentType:i}),e.renderDefault(e)]})}const a$n=R.div`
  position: relative;
  [data-ui='Badge'] {
    position: absolute;
    top: -2px;
    right: -2px;
  }
`;function o$n(){const{data:e,activeDocument:t}=Z0(),{handleOpenTasks:n,setActiveTab:r}=yl(),i=w0(),a=f.useMemo(()=>t!=null&&t.documentId?e.filter(l=>{var c;return((c=l.target)==null?void 0:c.document._ref)===t.documentId&&l.status==="open"&&l.createdByUser}):[],[t,e]),o=f.useCallback(()=>{n(),r("document")},[n,r]),{t:s}=Y(wr);return a.length===0?null:i<3?u.jsxs(a$n,{children:[u.jsx(fe,{mode:"bleed",icon:s2,size:"large",onClick:o,tooltipProps:{content:s("document.footer.open-tasks.placeholder",{count:a.length})}}),u.jsx(ro,{tone:"primary",fontSize:0,children:a.length})]}):u.jsx(fe,{mode:"bleed",tooltipProps:{content:s("document.footer.open-tasks.placeholder",{count:a.length})},text:s("document.footer.open-tasks.text",{count:a.length}),onClick:o})}function LRe({documentId:e,documentType:t,dataset:n,projectId:r}){return{documentType:t,document:{_ref:fn(e),_type:"crossDatasetReference",_dataset:n,_projectId:r,_weak:!0}}}function SI(e){if(!e)return[];const t=[];return e==null||e.forEach(n=>{yr(n)&&n.children.forEach(r=>{r._type==="mention"&&typeof r.userId=="string"&&!t.includes(r.userId)&&t.push(r.userId)})}),t}const BRe="2024-03-05",Ly=[{value:"open",title:"To Do",icon:u.jsx(Tg,{})},{value:"closed",title:"Done",icon:u.jsx(Lp,{})}],s$n=["title","status","assignedTo","dueBy","target","description"],l$n=2*60*1e3;function u$n(e){const t=[];for(const n of e){const r=t[t.length-1];if(!r){t.push(n);continue}if(!s$n.includes(n.field)){t.push(n);continue}if(r.author===n.author&&r.field===n.field){const i=new Date(r.timestamp),a=new Date(n.timestamp);if(Math.abs(i.getTime()-a.getTime())<=l$n){r.to=n.to,r.timestamp=n.timestamp;continue}}t.push(n)}return t}function c$n(e){const{_rev:t,...n}=e;return n}function d$n(e,t,n){let r=c$n(e);const i=[];let a=r;for(const l of t){const{timestamp:c,effects:d}=l,h=l.documentIDs[0],p=d[h];!p||!p.revert||(a=rI(r,p.revert),n.forEach(m=>{(a==null?void 0:a[m])!==(r==null?void 0:r[m])&&i.push({field:m,from:a==null?void 0:a[m],to:r==null?void 0:r[m],timestamp:c,author:l.author})}),r=a)}const o=i.sort((l,c)=>l.timestamp.localeCompare(c.timestamp)),s=o.findIndex(l=>l.field==="createdByUser");return u$n(o.slice(s+1))}function f$n(e){var t;const[n,r]=f.useState([]),i=Zt({apiVersion:BRe}),{dataset:a,token:o}=i.config(),s="tag=sanity.studio.tasks.history&effectFormat=mendoza&excludeContent=true&includeIdentifiedDocumentsOnly=true&reverse=true",l=fn((t=e==null?void 0:e._id)!=null?t:""),c=i.getUrl(`/data/history/${a}/transactions/${l}?${s}`),d=f.useCallback(async h=>{try{if(!l)return;const p=[],m=(await HOe(c,o)).getReader();let g;for(;g=await m.read(),!g.done;){if("error"in g.value)throw new Error(g.value.error.description||g.value.error.type);p.push(g.value)}const v=["createdByUser","title","description","dueBy","assignedTo","status","target"],b=await d$n(h,[...p],v);r(b)}catch(p){console.error("Failed to fetch and parse activity log",p)}},[c,o,l]);return f.useEffect(()=>{d(e)},[d,e._rev]),{changes:n}}function yq(e){var t;const{documentId:n,documentType:r}=e||{},i=en().get(r),a=ua(),o=f.useMemo(()=>!n||!i?xe(null):Yb(a,i,n,""),[n,a,i]),s=Jr(o),l=(t=s==null?void 0:s.isLoading)!=null?t:!0,{published:c,draft:d}=s||{},h=(d==null?void 0:d.title)||(c==null?void 0:c.title),p=(d==null?void 0:d.subtitle)||(c==null?void 0:c.subtitle),m=(d==null?void 0:d.description)||(c==null?void 0:c.description),g=(d==null?void 0:d.media)||(c==null?void 0:c.media);return{isLoading:l,value:{title:h,subtitle:p,media:g,description:m}}}function VRe(){const{client:e,createAddonDataset:t}=zM(),n=Kn(),r=f.useCallback(async o=>{if(!n)throw new Error("No current user found. Unable to create task.");const s={...o,authorId:n.id,_type:"tasks.task"};if(!e)try{const l=await t();if(!l)throw new Error("No addon client found. Unable to create task.");return await l.create(s)}catch(l){throw l}try{return await e.create(s)}catch(l){throw l}},[e,t,n]),i=f.useCallback(async(o,s)=>{try{if(!e)throw new Error("No client. Unable to create task.");return await e.patch(o).set(s).commit()}catch(l){throw l}},[e]),a=f.useCallback(async o=>{try{if(!e)throw new Error("No client. Unable to create task.");await e.delete(o)}catch(s){throw s}},[e]);return f.useMemo(()=>({create:r,edit:i,remove:a}),[r,i,a])}function zRe({id:e,onError:t,onRemoved:n}){const[r,i]=f.useState("idle"),[a,o]=f.useState(!1),[s,l]=f.useState(null),c=VRe(),d=f.useCallback(async()=>{try{i("loading"),await c.remove(e),n==null||n(),i("idle"),await new Promise(m=>setTimeout(m,300)),o(!1)}catch(m){t==null||t(m.message),l(m.message),i("error")}finally{i("idle")}},[e,c,t,n]),h=f.useCallback(()=>{o(!0)},[o]),p=f.useCallback(()=>{o(!1)},[o]);return{removeStatus:r,showDialog:a,error:s,handleRemove:d,handleOpenDialog:h,handleCloseDialog:p}}const h$n={month:"long",day:"2-digit",minute:"2-digit",hour:"2-digit",second:"2-digit"},p$n={minimal:!0,useTemporalPhrase:!0},bq=R.strong`
  font-weight: 600;
`,xq=R.span`
  white-space: nowrap;
`;function URe(e){const t=new Date(e),n=Xl(h$n).format(t);return{timeAgo:d0(t||"",p$n),formattedDate:n}}function HRe({userId:e}){const[t,n]=md(e);return n?u.jsx(ir,{style:{width:"15ch"}}):u.jsx(bq,{children:t==null?void 0:t.displayName})}const m$n={month:"short",day:"numeric"};function Gde({date:e}){const t=new Date(e),n=Xl(m$n).format(t);return u.jsx(bq,{children:u.jsx(xq,{children:n})})}const g$n=R.span`
  > a {
    color: var(--card-fg-muted-color);
    text-decoration: underline;
    text-underline-offset: 1px;
    font-weight: 600;
  }
`;function v$n({target:e}){const t=en(),n=e.document._ref,r=e.documentType,i=t.get(r),{isLoading:a,value:o}=yq({documentId:n,documentType:r});return a?u.jsx(ir,{style:{width:"15ch"}}):i?u.jsx(g$n,{children:u.jsx(pu,{intent:"edit",params:{id:n,type:r},children:o==null?void 0:o.title})}):null}function y$n(e){var t,n;switch(e.field){case"status":{const r=(t=Ly.find(i=>i.value===e.to))==null?void 0:t.title;return{text:"changed status to",icon:((n=Ly.find(i=>i.value===e.to))==null?void 0:n.icon)||u.jsx(Tg,{}),changeTo:u.jsx(bq,{children:r})}}case"target":return e.to?{text:"set target content to",icon:u.jsx(tl,{}),changeTo:u.jsx(v$n,{target:e.to})}:{text:"removed target content",icon:u.jsx(tl,{}),changeTo:void 0};case"dueBy":return e.from?e.to?{text:"changed the due date to",icon:u.jsx(Ma,{}),changeTo:u.jsx(Gde,{date:e.to})}:{text:"removed the due date",icon:u.jsx(Ma,{}),changeTo:void 0}:{text:"set the due date to",icon:u.jsx(Ma,{}),changeTo:u.jsx(Gde,{date:e.to})};case"assignedTo":return e.to?{text:"assigned to",icon:u.jsx(X1,{}),changeTo:u.jsx(HRe,{userId:e.to})}:{text:"unassigned this task",icon:u.jsx(X1,{}),changeTo:void 0};case"description":return{text:"updated the task description",icon:u.jsx(Yc,{}),changeTo:void 0};case"title":return{text:"updated the task title",icon:u.jsx(Yc,{}),changeTo:void 0};default:return{text:"",icon:u.jsx(Tg,{})}}}const b$n=f.memo(function(e){const{activity:t}=e,{formattedDate:n,timeAgo:r}=URe(t.timestamp),{icon:i,text:a,changeTo:o}=y$n(t);return u.jsxs(U,{gap:1,children:[u.jsx(L,{marginTop:1,marginLeft:1,marginRight:3,children:u.jsx(L,{marginRight:1,children:u.jsx(N,{children:i})})}),u.jsxs(N,{muted:!0,size:1,children:[u.jsx(HRe,{userId:t.author})," ",a," ",o," •"," ",u.jsx(gt,{content:n,placement:"top-end",children:u.jsx(xq,{children:u.jsx("time",{dateTime:n,children:r})})})]})]})},(e,t)=>e.activity.timestamp===t.activity.timestamp),Yde=R.div(e=>{var t,n;const r=Ee(e.theme);return ce`
      min-height: ${(t=r.avatar.sizes[e.$size])==null?void 0:t.size}px;
      min-width: ${(n=r.avatar.sizes[e.$size])==null?void 0:n.size}px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      ${e.$border?"box-shadow: inset 0 0 0 1px var(--card-border-color);":""};
      ${e.$removeBg?"--card-avatar-gray-bg-color: transparent;":""}
    `}),x$n=R(rd)(e=>{var t,n;const r=Ee(e.theme);return ce`
    height: ${(t=r.avatar.sizes[e.$size])==null?void 0:t.size}px;
    width: ${(n=r.avatar.sizes[e.$size])==null?void 0:n.size}px;
    border-radius: 50%;
  `});function tx(e){const{user:t,size:n=0,border:r=!0}=e,[i,a]=md((t==null?void 0:t.id)||"");return a?u.jsx(x$n,{$size:n,animated:!0}):!t||!i?u.jsx(Yde,{$size:n,$border:r,children:u.jsx(N,{size:n,children:u.jsx(X1,{})})}):u.jsx(gt,{content:i.displayName,disabled:!e.withTooltip,portal:!0,fallbackPlacements:["top","top-start"],placement:"top-end",children:u.jsx(Yde,{$size:n,$removeBg:!!(i!=null&&i.imageUrl),children:u.jsx(sl,{user:i,size:n,...i!=null&&i.imageUrl?{color:void 0}:{},...e.withTooltip?{title:null}:{}})})})}const w$n=R(U)`
  height: 100%;
`,C$n=R.div`
  width: 100%;
`;function wq({avatarPaddingTop:e=1,userId:t,children:n}){return u.jsxs(U,{children:[u.jsx(L,{marginRight:3,paddingTop:e,children:u.jsx(tx,{user:{id:t},size:0})}),u.jsx(w$n,{align:"center",flex:1,children:u.jsx(C$n,{children:n})})]})}function S$n(e){const{mentionOptions:t,currentUser:n,onSubmit:r}=e,{mode:i}=yu(),[a,o]=f.useState(null),s=f.useRef(null),l=f.useMemo(()=>q0(a),[a]),c=f.useCallback(v=>{o(v)},[]),d=f.useCallback(()=>{l&&(r(a),o(null))},[l,r,a]),h=f.useCallback(()=>{var v;(v=s.current)==null||v.discardDialogController.close()},[]),p=f.useCallback(()=>{var v;(v=s.current)==null||v.discardDialogController.close(),o(null)},[]),m=f.useCallback(v=>{var b,y;v.key==="Escape"&&(v.preventDefault(),v.stopPropagation(),l?(b=s.current)==null||b.discardDialogController.open():((y=s.current)==null||y.discardDialogController.close(),o(null)))},[l]),{t:g}=Y(wr);return u.jsx(wq,{userId:n.id,avatarPaddingTop:3,children:u.jsx(te,{tone:"transparent",radius:3,padding:2,children:u.jsx(J0,{withAvatar:!1,currentUser:n,expandOnFocus:!0,mentionOptions:t,onChange:c,onDiscardConfirm:p,onDiscardCancel:h,onKeyDown:m,onSubmit:d,readOnly:i==="upsell",placeholder:g(i==="upsell"?"panel.comment.placeholder.upsell":"panel.comment.placeholder"),ref:s,value:a})})})}const _$n={parentCommentAvatar:!1,threadCommentsAvatar:!0,replyAvatar:!0,avatarSize:0},E$n=R.div(e=>{const t=Ee(e.theme);return ce`
    [data-ui='CommentsListItem'] {
      padding-right: ${t.space[2]}px;
    }

    // Increase the padding when the comment input is focused
    [data-ui='CommentInputEditableWrap']:focus-within {
      padding-bottom: ${t.space[2]}px;
    }
  `});function k$n(e){const{parentComment:t}=e,{mode:n}=yu();return u.jsx(wq,{userId:t.authorId,avatarPaddingTop:3,children:u.jsx(E$n,{children:u.jsx(v3e,{...e,avatarConfig:_$n,canReply:!0,isSelected:!1,mode:n??"default"})})})}const T$n=R(ir)`
  max-width: 15ch;
  width: '100%';
`,A$n=f.memo(function(e){var t;const{createdAt:n,authorId:r}=e,[i,a]=md(r),{timeAgo:o,formattedDate:s}=URe(n),{t:l}=Y(wr);return u.jsx(wq,{userId:r,children:u.jsx(U,{align:"center",paddingTop:1,children:u.jsxs(N,{size:1,muted:!0,children:[u.jsxs("strong",{style:{fontWeight:600},children:[a?u.jsx(T$n,{}):(t=i==null?void 0:i.displayName)!=null?t:l("panel.activity.unknown-user")," "]}),l("panel.activity.created-fragment")," •"," ",u.jsx(gt,{content:s,placement:"top-end",children:u.jsx(xq,{children:u.jsx("time",{dateTime:n,children:o})})})]})})})},(e,t)=>e.createdAt===t.createdAt);function j$n(e){var t,n;const{value:r,onChange:i,path:a,currentUserId:o}=e,s=(t=r.subscribers)!=null&&t.includes(o)?"Unsubscribe":"Subscribe",l=f.useCallback(()=>{const c=r.subscribers||[];c.includes(o)||i(st(c.concat(o),a)),c.includes(o)&&i(st(c.filter(d=>d!==o),a))},[r.subscribers,o,i,a]);return u.jsxs(U,{gap:1,align:"center",children:[u.jsx(fe,{mode:"bleed",text:s,onClick:l}),r.subscribers&&((n=r.subscribers)==null?void 0:n.length)>0&&u.jsx(D$n,{subscriberIds:r.subscribers})]})}const I$n=[];function D$n(e){const{subscriberIds:t}=e,n=f.useMemo(()=>(t==null?void 0:t.filter(Boolean))||I$n,[t]);return u.jsx(hl,{initial:!1,children:u.jsx(A2,{maxLength:3,size:0,children:n.map(r=>u.jsx(Di.div,{exit:{opacity:0,translateX:"2px",scale:.9},animate:{opacity:1,translateX:0,scale:1,transition:{type:"just",duration:.2}},initial:{opacity:0,translateX:"2px",scale:.9},children:u.jsx(tx,{user:{id:r},size:0})},r))})})}const f4=[],$$n={hidden:{opacity:0,x:0},visible:{opacity:1,x:0}},O$n=R(Di(ee))``;function M$n(e){const{value:t,onChange:n,path:r,activityData:i=[]}=e,a=Kn(),{title:o,basePath:s}=Fr(),{comments:l,mentionOptions:c,operation:d,getComment:h}=DM(),[p,m]=f.useState(null),[g,v]=f.useState(null),[b,y]=f.useState(!1),x=l.loading,w=l.data.open,C=f.useCallback((O,F)=>{const P=new URL(`${window.location.origin}${s?`${s}/`:""}`);P.searchParams.set("sidebar","tasks"),P.searchParams.set("selectedTask",t==null?void 0:t._id),P.searchParams.set("viewMode","edit"),P.searchParams.set("commentId",F);const V=SI(O),H=Array.from(new Set([...t.subscribers||[],...V]));return{documentTitle:t.title||"Sanity task",url:P.toString(),workspaceTitle:o,subscribers:H}},[s,t==null?void 0:t._id,t.title,o,t.subscribers]),S=f.useCallback(O=>{const F=qa(),P=C(O,F),V={id:F,type:"task",message:O,parentCommentId:void 0,reactions:f4,status:"open",threadId:qa(),context:{notification:P}};n(st(P.subscribers,["subscribers"])),d.create(V)},[d,C,n]),_=f.useCallback(O=>{const F=qa(),P=C(O.message,F);n(st(P.subscribers,["subscribers"])),d.create({id:F,type:"task",message:O.message,parentCommentId:O.parentCommentId,reactions:f4,status:"open",threadId:O.threadId,context:{notification:P}})},[d,C,n]),E=f.useCallback(O=>{const F=h(O);if(!F)return;const P=C(F.message,F._id);n(st(P.subscribers,["subscribers"])),d.create({type:"task",id:F._id,message:F.message,parentCommentId:F.parentCommentId,reactions:F.reactions||f4,status:F.status,threadId:F.threadId,context:{notification:P}})},[h,d,C,n]),k=f.useCallback((O,F)=>{d.react(O,F)},[d]),T=f.useCallback(O=>m(O),[]),j=f.useCallback(()=>m(null),[]),I=f.useCallback(async O=>{try{y(!0),v(null),await d.remove(O),m(null)}catch(F){v(F)}finally{y(!1)}},[d]),A=f.useCallback((O,F)=>{d.update(O,F)},[d]),$=f.useMemo(()=>{const O=i.map(P=>({_type:"activity",payload:P,timestamp:P.timestamp})),F=w.map(P=>({_type:"comment",payload:P,timestamp:P.parentComment._createdAt}));return O.concat(F).sort((P,V)=>new Date(P.timestamp).getTime()-new Date(V.timestamp).getTime())},[i,w]),{t:D}=Y(wr),M=f.useMemo(()=>{var O;const F=w.find(P=>{var V;return((V=P.parentComment)==null?void 0:V._id)===p});return!!(F&&((O=F==null?void 0:F.replies)==null?void 0:O.length)>0)},[p,w]);return u.jsxs(u.Fragment,{children:[p&&u.jsx(u3e,{commentId:p,error:g,isParent:M,loading:b,onClose:j,onConfirm:I}),u.jsxs(ee,{space:5,children:[u.jsxs(U,{align:"center",children:[u.jsx(L,{flex:1,children:u.jsx(N,{size:2,weight:"semibold",children:D("panel.activity.title")})}),(a==null?void 0:a.id)&&u.jsx(j$n,{currentUserId:a.id,value:t,onChange:n,path:r})]}),x&&u.jsx(wn,{showText:!0,title:"Loading activity"}),u.jsx(hl,{children:!x&&u.jsxs(O$n,{animate:"visible",initial:"hidden",space:4,variants:$$n,children:[t.createdByUser&&u.jsx(ee,{paddingBottom:1,children:u.jsx(A$n,{createdAt:t.createdByUser,authorId:t.authorId})}),a&&u.jsxs(ee,{space:4,marginTop:1,children:[$.map(O=>O._type==="activity"?u.jsx(b$n,{activity:O.payload},O.timestamp):u.jsx(k$n,{currentUser:a,mentionOptions:c,onCreateRetry:E,onDelete:T,onEdit:A,onReactionSelect:k,onReply:_,parentComment:O.payload.parentComment,replies:O.payload.replies},O.payload.parentComment._id)),u.jsx(S$n,{currentUser:a,mentionOptions:c,onSubmit:S})]})]})})]})]})}function R$n(e){const{user:t,onSelect:n,pressed:r}=e,{t:i}=Y(wr),a=f.useCallback(()=>n(t.id),[t,n]);return u.jsx(S0,{onClick:a,padding:1,disabled:!t.granted,pressed:r,children:u.jsxs(U,{align:"center",gap:3,children:[u.jsxs(U,{align:"center",gap:2,flex:1,children:[u.jsx(tx,{user:t.id?t:void 0,size:1}),u.jsx(N,{size:1,textOverflow:"ellipsis",title:t.displayName,children:t.displayName})]}),!t.granted&&u.jsx(ro,{fontSize:1,mode:"outline",children:i("form.input.assignee.unauthorized.text")})]})})}const P$n=R(Ot)`
  width: 308px;
  border-radius: 3px;
`,F$n=["Control","Shift","Alt","Enter","Home","End","PageUp","PageDown","Meta","Tab","CapsLock"],N$n={id:"",displayName:"No assignee",granted:!0};function L$n({onSelect:e,value:t=""}){const[n,r]=f.useState(""),{mentionOptions:i}=M_(),a=f.useRef(null),o=[N$n].concat(i.data||[]),s=f.useCallback(p=>{r(p.currentTarget.value)},[]),l=f.useMemo(()=>{var p;if(!n)return o||[];const m=gy(n).toLocaleLowerCase(),g=o==null?void 0:o.map(v=>({...v,searchName:gy(v.displayName||"").toLocaleLowerCase()}));return((p=g==null?void 0:g.filter(v=>v==null?void 0:v.searchName.includes(m)))==null?void 0:p.sort((v,b)=>{const y=v.searchName.startsWith(m),x=b.searchName.startsWith(m);return y&&!x?-1:!y&&x?1:0}))||[]},[o,n]),c=f.useCallback(p=>u.jsx(R$n,{user:p,onSelect:e,pressed:p.id===t},p.id),[e,t]),d=f.useCallback(p=>{var m;p.target!==a.current&&(F$n.includes(p.key)||(m=a.current)==null||m.focus())},[]),{t:h}=Y(wr);return i.loading?u.jsx(si,{width:0,children:u.jsx(wn,{showText:!0})}):u.jsxs("div",{onKeyDown:d,children:[u.jsx(Zr,{placeholder:h("form.input.assignee.search.placeholder"),autoFocus:!0,border:!1,onChange:s,value:n,fontSize:1,icon:X1,ref:a,name:"assigneeSearch",autoComplete:"off"}),u.jsx("div",{style:{maxHeight:"320px",overflowY:"scroll",paddingTop:"8px"},children:l.length===0?u.jsx(L,{padding:3,children:u.jsx(N,{align:"center",size:1,muted:!0,children:h("form.input.assignee.search.no-users.text")})}):l.map(c)})]})}function WRe(e){const{onSelect:t,menuButton:n,value:r}=e;return u.jsx(Kt,{button:n,id:"assign-user-menu",menu:u.jsx(P$n,{children:u.jsx(L$n,{onSelect:t,value:r})}),popover:{placement:"bottom",fallbackPlacements:["bottom"],portal:!0,constrainSize:!0}})}const B$n=R(te)(e=>{const t=Ee(e.theme);return ce`
    &[data-as='button'] {
      border: 1px solid var(--card-border-color);
      &:focus-within {
        border: 1px solid var(--card-focus-ring-color);
      }
      --card-muted-fg-color: ${t.color.input.default.enabled.placeholder};
    }
  `});function V$n(e){const{value:t,onChange:n}=e,{mentionOptions:r}=M_(),i=f.useMemo(()=>{var l;return(l=r.data)==null?void 0:l.find(c=>c.id===t)},[r.data,t]),a=f.useCallback(l=>n(st(l)),[n]),{t:o}=Y(wr),s=f.useMemo(()=>{if(t){if(r.loading)return u.jsx(ir,{animated:!0,style:{width:"10ch"}});if(i)return i.displayName||i.email;if(!i)return o("form.input.assignee.user-not-found.text")}return o("form.input.assignee.search.placeholder")},[r.loading,i,t,o]);return u.jsx(WRe,{onSelect:a,value:t,menuButton:u.jsx(B$n,{"data-as":"button",padding:1,radius:2,tabIndex:0,children:u.jsxs(U,{align:"center",gap:3,children:[u.jsxs(U,{align:"center",gap:1,flex:1,children:[u.jsx(tx,{user:i,size:1,border:!1}),u.jsx(N,{size:1,textOverflow:"ellipsis",muted:!i,children:s})]}),t&&i&&!i.granted&&u.jsx(ro,{fontSize:1,mode:"outline",children:o("form.input.assignee.unauthorized.text")})]})})})}const z$n=R(St)`
  padding: 3px 6px;
`;function U$n(e){const{value:t,onChange:n,path:r}=e,i=S_(["subscribers"]),{mentionOptions:a}=M_(),o=f.useMemo(()=>{var d;return(d=a.data)==null?void 0:d.find(h=>h.id===t)},[a.data,t]),{t:s}=Y(wr),l=f.useCallback(d=>{n(st(d,r)),i&&!i.includes(d)&&d&&n(st([...i,d],["subscribers"]))},[n,r,i]),c=f.useMemo(()=>{if(t){if(a.loading)return u.jsx(ir,{animated:!0,style:{width:"10ch"}});if(o)return o.displayName||o.email;if(!o)return s("form.input.assignee.user-not-found.text")}return s("form.input.assignee.no-user-assigned.text")},[a.loading,o,t,s]);return u.jsx(WRe,{onSelect:l,value:t,menuButton:u.jsx(z$n,{mode:"ghost",padding:0,children:u.jsx(gt,{content:s(t?"form.input.assignee.user-assigned.tooltip":"form.input.assignee.no-user-assigned.tooltip"),children:u.jsxs(U,{align:"center",gap:3,children:[u.jsxs(U,{align:"center",gap:2,flex:1,children:[u.jsx(tx,{user:o,size:0}),u.jsx(L,{children:u.jsx(N,{size:1,textOverflow:"ellipsis",children:c})})]}),t&&o&&!o.granted&&u.jsx(ro,{fontSize:1,mode:"outline",children:s("form.input.assignee.unauthorized.text")})]})})})})}const H$n=e=>Eb(e,Xp),W$n=e=>B$(e,Xp);function G$n(e){var t;const{value:n,onChange:r,path:i}=e,{t:a}=Y(),{t:o}=Y(wr),[s,l]=f.useState(!1),c=f.useRef(null),d=f.useRef(null),h=Xl({dateStyle:"long"}),p=f.useMemo(()=>{if(!n)return{short:"----",full:"----"};const C=h.format(new Date(n)),[S]=C.split(",");return{short:S,full:C}},[h,n]);yn(()=>l(!1),()=>[c.current]);const m=f.useCallback(C=>{C.key==="Escape"&&l(!1)},[]),g=f.useCallback(()=>l(C=>!C),[]),v=f.useMemo(()=>wY(a),[a]),b=f.useCallback(C=>{r(C?st(H$n(C),i):pt(i)),l(!1)},[r,i]),y=W$n(n),x=f.useCallback(()=>{var C;(C=d.current)==null||C.focus()},[d]),w=((t=y==null?void 0:y.date)==null?void 0:t.getFullYear())===new Date().getFullYear();return u.jsx(Fn,{constrainSize:!0,"data-testid":"date-input-dialog",portal:!0,ref:c,content:u.jsx(L,{overflow:"auto",children:u.jsxs(ec,{onDeactivation:x,children:[u.jsx(p$e,{calendarLabels:v,selectTime:!1,timeStep:1,onKeyUp:m,value:y.date,onChange:b}),n&&u.jsx(U,{justify:"flex-start",padding:3,paddingTop:0,children:u.jsx(fe,{mode:"bleed",text:o("form.input.date.buttons.remove.text"),onClick:()=>b(null),tone:"critical"})})]})}),open:s,placement:"bottom",fallbackPlacements:["bottom-start","bottom-end"],children:u.jsx(fe,{icon:Ma,mode:"ghost",text:w?p.short:p.full,onClick:g,ref:d,tooltipProps:{content:o(n?"form.input.date.buttons.tooltip":"form.input.date.buttons.empty.tooltip")}})})}const Y$n=R(N)`
  word-break: break-word;
`;function q$n(e){const{children:t}=e;return u.jsx(L,{paddingTop:2,paddingBottom:3,children:u.jsx(Y$n,{size:1,children:t})})}const K$n=e=>{const{children:t}=e;return u.jsx(q$n,{children:t})},Z$n=R.div(e=>{const t=Ee(e.theme),n=e.$mode==="edit"?t.space[1]:t.space[3],r=e.$mode==="edit"?120:200;return ce`
    /* select CommentInputEditableWrap and change the padding */
    [data-ui='CommentInputEditableWrap'] {
      overflow: hidden;
      padding: ${e.$mode==="edit"?`${n}px 0px`:`${n}px ${t.space[2]}px`};
      min-height: ${Math.max(e.$minHeight+n,r)}px !important;
    }
    #comment-input-root {
      box-shadow: ${e.$mode==="edit"?"none":""};
    }
    [data-ui='CommentInputActions'] {
      display: none !important;
    }
  `});function X$n(e){const{value:t,mode:n,inputProps:{onChange:r}}=e,i=t,a=Kn(),{mentionOptions:o}=M_(),s=f.useCallback(v=>r(st(v)),[r]),[l,c]=f.useState(null),[d,h]=f.useState(200),p=f.useCallback(v=>{const b=v.querySelector('[role="textbox"]');if(!b)return;const y=b.scrollHeight;h(y)},[]),m=f.useCallback(v=>{v&&f.startTransition(()=>{c(v)})},[]),{t:g}=Y(wr);return f.useEffect(()=>{l&&p(l)},[i,p,l]),a?u.jsx(Z$n,{$mode:n,ref:m,$minHeight:d,children:u.jsx(J0,{expandOnFocus:!1,currentUser:a,mentionOptions:o,onChange:s,value:i??[],withAvatar:!1,placeholder:g("form.input.description.placeholder"),onDiscardConfirm:()=>null,renderBlock:K$n})}):null}const GRe=R.div(e=>{const t=Ee(e.theme);return ce`
    // Reset the padding of the field header content box
    [data-ui='fieldHeaderContentBox'] {
      padding: 0;
      label {
        font-weight: ${t.font.text.weights.regular};
      }
    }
  `});function qde(e){return u.jsx(GRe,{children:e.renderDefault(e)})}const J$n=f.forwardRef(function(e,t){var n;const{t:r}=Y(wr),{value:i,options:a,...o}=e,s=a.find(c=>c.value===i),l=(n=Ly.find(c=>c.value===i))==null?void 0:n.icon;return u.jsx(fe,{...o,ref:t,tooltipProps:{content:r("form.input.status.button.tooltip")},icon:l,text:(s==null?void 0:s.title)||i,tone:"default",mode:"ghost"})});function Q$n(e){const{value:t,onChange:n,options:r,path:i}=e,a=Os(),o=f.useCallback(s=>{n(st(s,i)),a.log(ODn,{from:t,to:s})},[n,i,a,t]);return u.jsx(Kt,{button:u.jsx(J$n,{value:t,options:r}),id:"reference-menuButton",menu:u.jsx(Ot,{children:r.map(s=>{var l;const c=t===s.value,d=(l=Ly.find(h=>h.value===s.value))==null?void 0:l.icon;return u.jsx(We,{icon:typeof s.value=="string"&&d||Tg,text:s.title||s.value,pressed:c,iconRight:c&&u.jsx(_a,{}),onClick:()=>o(s.value)},s.title)})})})}function eOn(){return u.jsx("div",{children:"Config errors"})}function Cq({children:e}){return u.jsx(WPe,{LoadingComponent:wn,ConfigErrorsComponent:eOn,children:e})}const tOn=R(te)(e=>{const t=Ee(e.theme);return ce`
    &:focus {
      border: 1px solid var(--card-focus-ring-color);
    }
    &:focus-visible {
      outline: none;
      border: 1px solid var(--card-focus-ring-color);
    }
    &:hover {
      border-color: ${t.color.input.default.hovered.border};
    }
  `}),nOn=R(N)(e=>`
      color: ${Ee(e.theme).color.input.default.enabled.placeholder};
      margin-left: 3px;
  `),rOn=R(te)`
  position: relative;
  [data-ui='show-on-hover'] {
    opacity: 0;
    position: absolute;
    right: 6px;
    top: 4px;
    display: flex;
  }
  &:focus-within,
  &:hover {
    padding-right: 36px;
    /* Hides the preview status dot, the button will take it's position. */
    [data-testid='compact-preview__status'] {
      opacity: 0;
    }
    [data-ui='show-on-hover'] {
      transition: opacity 200ms;
      opacity: 1;
    }
  }
`,iOn=R(pu)(()=>ce`
    text-decoration: none;
    width: 100%;
    overflow: hidden;
    cursor: pointer;
    &:focus {
      box-shadow: 0 0 0 1px var(--card-focus-ring-color);
    }
    &:focus-visible {
      outline: none;
      box-shadow: 0 0 0 1px var(--card-focus-ring-color);
    }
  `);function aOn(e){const{value:t,handleRemove:n}=e,r=t.document._ref,i=t.documentType,a=en().get(t.documentType),o=qb(r),{t:s}=Y(wr),l=f.useMemo(()=>f.forwardRef(function(c,d){return u.jsx(iOn,{...c,intent:"edit",params:{id:r,type:i},ref:d})}),[r,i]);return a?u.jsx(rOn,{border:!0,radius:2,children:u.jsxs(U,{gap:1,align:"center",justify:"space-between",children:[u.jsx(te,{as:l,radius:2,"data-as":"button",children:u.jsx(IMe,{documentId:t.document._ref,layout:"compact",presence:o,schemaType:a,showBadge:!1})}),u.jsx("div",{"data-ui":"show-on-hover",children:u.jsx(fe,{icon:Rr,mode:"bleed",onClick:n,tooltipProps:{content:s("form.input.target.buttons.remove.text")}})})]})}):u.jsx(N,{children:s("form.input.target.error.schema-not-found")})}function oOn(e){const[t,n]=f.useState(!1),{dataset:r,projectId:i}=Fr(),{mode:a,inputProps:{onChange:o},value:s}=e,l=s,c=f.useCallback(v=>{o(st(LRe({documentId:v._id,documentType:v._type,dataset:r,projectId:i})))},[r,i,o]),d=f.useCallback(()=>{o(pt())},[o]),h=f.useCallback(()=>{n(!0)},[n]),p=f.useCallback(()=>{n(!1)},[n]),m=f.useCallback(v=>{(v.key==="Enter"||v.key===" ")&&n(!0)},[]),{t:g}=Y(wr);return u.jsx(te,{borderBottom:a==="edit",paddingBottom:a==="edit"?4:0,children:u.jsx(GRe,{children:u.jsx(ru,{zOffset:100,children:u.jsxs(Cq,{children:[u.jsxs(ee,{space:2,children:[a==="create"&&u.jsx(L,{"data-ui":"fieldHeaderContentBox",children:u.jsx(ZG,{description:e.description,inputId:e.inputId,title:e.title,validation:e.validation,deprecated:void 0})}),l?u.jsx(aOn,{value:l,handleRemove:d}):u.jsx(tOn,{border:!0,radius:2,paddingX:2,paddingY:3,onClick:h,onKeyDown:m,tabIndex:0,children:u.jsxs(U,{gap:1,justify:"flex-start",align:"center",children:[u.jsx(L,{paddingX:1,children:u.jsx(N,{size:1,children:u.jsx(Hu,{})})}),u.jsx(nOn,{size:1,children:g("form.input.target.search.placeholder")})]})})]}),u.jsx(Aq,{children:u.jsx(bPe,{open:t,onClose:p,onItemSelect:c,disableIntentLink:!0})})]})})})})}const sOn=R.div(e=>`
      display: grid;
      grid-template-columns: 1fr;
      padding-top: ${Ee(e.theme).space[3]}px;
    `),lOn=R.textarea(e=>{const{color:t,font:n}=Ee(e.theme);return ce`
    resize: none;
    overflow: hidden;
    appearance: none;
    background: none;
    border: 0;
    padding: 0;
    border-radius: 0;
    outline: none;
    width: 100%;
    box-sizing: border-box;
    font-family: ${n.text.family};
    font-weight: ${n.text.weights.semibold};
    font-size: ${n.text.sizes[3].fontSize}px;
    line-height: ${n.text.sizes[3].lineHeight}px;
    margin: 0;
    position: relative;
    z-index: 1;
    display: block;
    transition: height 500ms;
    /* NOTE: This is a hack to disable Chrome’s autofill styles */
    &:-webkit-autofill,
    &:-webkit-autofill:hover,
    &:-webkit-autofill:focus,
    &:-webkit-autofill:active {
      -webkit-text-fill-color: var(--input-fg-color) !important;
      transition: background-color 5000s;
      transition-delay: 86400s /* 24h */;
    }

    color: ${t.input.default.enabled.fg};

    &::placeholder {
      color: ${t.input.default.enabled.placeholder};
    }
  `});function YRe(e){const{value:t,onChange:n,placeholder:r,path:i}=e,a=f.useRef(null);f.useEffect(()=>{a.current&&(a.current.style.height="auto",a.current.style.height=`${a.current.scrollHeight}px`)},[t]);const o=f.useCallback(s=>{const l=s.currentTarget.value;return l||n(pt(i)),n(st(l.replace(/\n/g,""),i))},[n,i]);return u.jsx(sOn,{children:u.jsx(lOn,{ref:a,autoFocus:!t,value:t,placeholder:r,onChange:o,rows:1})})}function uOn(e){const{value:t,inputProps:n}=e,{onChange:r,schemaType:i}=n;return u.jsx(YRe,{value:t,onChange:r,placeholder:i.placeholder})}const cOn=e=>{const t=e.subscribers||[];return SI(e.description).forEach(n=>{t.includes(n)||t.push(n)}),e.assignedTo&&(t.includes(e.assignedTo)||t.push(e.assignedTo)),t};function dOn(e){const[t,n]=f.useState(!1),{onChange:r}=e,{setViewMode:i,setActiveTab:a}=yl(),o=Pr(),s=Os(),[l,c]=f.useState(!1),d=f.useCallback(()=>c(w=>!w),[]),h=e.value,p=f.useCallback(()=>{i({type:"list"})},[i]),{handleRemove:m,removeStatus:g}=zRe({id:h._id,onRemoved:p}),{t:v}=Y(wr),{data:b}=Z0(),y=b.find(w=>w._id===h._id);f.useEffect(()=>{t&&y!=null&&y.createdByUser&&(s.log($Dn),o.push({closable:!0,status:"success",title:v("form.status.success")}),n(!1),l?i({type:"create"}):a("subscribed"))},[t,y==null?void 0:y.createdByUser]),f.useEffect(()=>{let w=null;return t&&(w=setTimeout(()=>{n(!1),o.push({closable:!0,status:"error",title:v("form.status.error.creation-failed")})},1e4)),()=>{w&&clearTimeout(w)}},[t]);const x=f.useCallback(async()=>{if(n(!0),!(h!=null&&h.title)){o.push({closable:!0,status:"error",title:v("form.status.error.title-required")});return}r([st(cOn(h),["subscribers"]),st(new Date().toISOString(),["createdByUser"])])},[h,r,v,o]);return u.jsxs(u.Fragment,{children:[e.renderDefault(e),u.jsx(L,{paddingY:5,children:u.jsxs(U,{paddingTop:1,gap:4,children:[h._rev&&u.jsx(fe,{onClick:m,mode:"bleed",icon:Kr,tooltipProps:{content:v("buttons.discard.text")},disabled:g==="loading",loading:g==="loading"}),u.jsxs(U,{align:"center",gap:2,justify:"flex-end",flex:1,children:[u.jsx(YD,{onChange:d,checked:l}),u.jsx(N,{size:1,muted:!0,children:v("form.input.create-more.text")})]}),u.jsx(fe,{text:v("buttons.create.text"),onClick:x,disabled:t,loading:t})]})})]})}function fOn(e){const{handleCloseDialog:t,handleRemove:n,removeStatus:r,showDialog:i}=e,{t:a}=Y(wr);return i?u.jsx(Ui,{id:"remove-task",header:a("dialog.remove-task.title"),onClose:t,footer:{cancelButton:{text:a("dialog.remove-task.buttons.cancel.text"),onClick:t},confirmButton:{text:a("dialog.remove-task.buttons.confirm.text"),tone:"critical",onClick:n,loading:r==="loading"}},children:u.jsx(ee,{space:3,children:u.jsx(N,{as:"p",children:a("dialog.remove-task.body")})})}):null}const hOn=R(U)(e=>{const t=Ee(e.theme);return ce`
    column-gap: ${t.space[2]}px;
    row-gap: ${t.space[3]}px;
  `});function pOn({id:e,value:t}){const{setViewMode:n,handleCopyLinkToTask:r}=yl(),{mode:i}=yu(),a=Os(),o=f.useCallback(()=>{n({type:"list"}),a.log(RDn)},[n,a]),s=zRe({id:e,onRemoved:o}),l=f.useCallback(()=>{n({type:"duplicate",duplicateTaskValues:t}),a.log(MDn)},[n,a,t]),{t:c}=Y(wr);return u.jsxs(u.Fragment,{children:[u.jsx(L,{paddingTop:3,children:u.jsx(Kt,{id:"edit-task-menu",button:u.jsx(wi,{}),popover:{placement:"bottom",fallbackPlacements:["bottom-end","bottom-start"]},menu:u.jsxs(Ot,{children:[u.jsx(We,{text:c("menuitem.duplicate.text"),icon:Ql,onClick:l,tooltipProps:i==="upsell"?{content:c("menuitem.duplicate.upsell-tooltip")}:void 0,disabled:i==="upsell"}),u.jsx(We,{text:c("menuitem.copylink.text"),icon:tl,onClick:r}),u.jsx(ur,{}),u.jsx(We,{text:c("menuitem.delete.text"),icon:Kr,onClick:s.handleOpenDialog,tone:"critical"})]})})}),u.jsx(fOn,{...s})]})}function mOn(e){var t,n,r,i,a,o;const s=e.schemaType.fields.find(m=>m.name==="status"),l=e.value,c=Kn(),{t:d}=Y(wr),h=f$n(l).changes,p=f.useCallback(m=>{const g=l.subscribers||[];e.onChange(m),c&&(g.includes(c.id)||e.onChange(st([...g,c.id],["subscribers"])))},[c,e,l.subscribers]);if(!s)throw new Error("Status field not found");return(t=e.value)!=null&&t._id?u.jsxs(u.Fragment,{children:[u.jsxs(U,{align:"flex-start",gap:3,children:[u.jsx(ee,{flex:1,children:u.jsx(YRe,{onChange:p,value:(n=e.value)==null?void 0:n.title,path:["title"],placeholder:d("form.input.title.placeholder")})}),u.jsx(pOn,{id:(r=e.value)==null?void 0:r._id,value:l})]}),u.jsx(te,{borderTop:!0,marginTop:3,children:u.jsx(hOn,{paddingBottom:3,paddingTop:4,align:"flex-start",justify:"flex-start",wrap:"wrap",children:u.jsxs(Xa,{children:[u.jsx(Q$n,{value:(i=e.value)==null?void 0:i.status,path:["status"],onChange:p,options:s.type.options.list}),u.jsx(U$n,{value:(a=e.value)==null?void 0:a.assignedTo,onChange:p,path:["assignedTo"]}),u.jsx(G$n,{value:(o=e.value)==null?void 0:o.dueBy,onChange:p,path:["dueBy"]})]})})}),e.renderDefault(e),u.jsx(tRe,{documentId:l._id,documentType:"tasks.task",sortOrder:"asc",type:"task",children:u.jsx(Cq,{children:u.jsx(te,{borderTop:!0,paddingTop:4,marginTop:4,paddingBottom:6,children:u.jsx(M$n,{value:l,onChange:e.onChange,path:["subscribers"],activityData:h})})})})]}):u.jsx(wn,{})}function gOn(e){const t=e.value,n=Kn(),r=f.useCallback(i=>{if(!n||i.some(c=>c.path[0]==="subscribers")||i.some(c=>c.path[0]==="context"&&c.path[1]==="notification"))return i;const a=t.subscribers||[],o=[...a],s=i.find(c=>c.path[0]==="assignedTo");s&&s.type==="set"&&typeof s.value=="string"&&!o.includes(s.value)&&o.push(s.value),o.includes(n.id)||o.push(n.id);const l=i.find(c=>c.path[0]==="description"&&c.type==="set");if(l){const c=SI(t.description),d=l.type==="set"?l.value:void 0;SI(d).filter(h=>!c.includes(h)).forEach(h=>{o.includes(h)||o.push(h)})}return o.length!==a.length&&i.push(st(o,["subscribers"])),i},[n,t.subscribers,t.description]);return u.jsx(qkn,{transform:r,children:u.jsx(mOn,{...e})})}function vOn(e,t,n=""){let r=window.location.origin;t&&(r+=t),n&&(r+=`/${n}`);const i=new URL(`${r}/`);return i.searchParams.set("sidebar","tasks"),i.searchParams.set("selectedTask",e),i.searchParams.set("viewMode","edit"),i.toString()}function yOn(e){var t,n,r,i;const{inputProps:a}=e,{onChange:o}=a,s=l_(f.useCallback(E=>typeof E.tool=="string"?E.tool:void 0,[])),{target:l,_id:c,context:d,_rev:h}=S_([]),{title:p,basePath:m}=Fr(),g=Zt(Gt),v=f.useMemo(()=>z2(g),[g]),b=(n=(t=l==null?void 0:l.document)==null?void 0:t._ref)!=null?n:"",y=(r=l==null?void 0:l.documentType)!=null?r:"",{isLoading:x,value:w}=yq({documentId:b,documentType:y}),C=(w==null?void 0:w.title)||null,S=kb(w==null?void 0:w.media)?v.image(w.media).width(96).height(96).url():null,_=f.useMemo(()=>{var E;const k=(E=d==null?void 0:d.notification)==null?void 0:E.url;return{url:k&&gl?k:vOn(c,m,s),workspaceTitle:p,targetContentImageUrl:S,targetContentTitle:C}},[(i=d==null?void 0:d.notification)==null?void 0:i.url,c,m,s,p,S,C]);return f.useEffect(()=>{b&&y&&x||h&&(_g(d==null?void 0:d.notification,_)||o(st(_,["notification"])))},[h,d,b,y,_,x,o]),null}function bOn(e){return u.jsx(Cq,{children:u.jsx(yOn,{...e})})}const Kde=e=>Hd({type:"object",name:"target",title:"Target",components:{field:t=>u.jsx(oOn,{...t,mode:e})},fields:[{name:"document",type:"crossDatasetReference",dataset:"playground",weak:!0,studioUrl:({id:t,type:n})=>`intent/edit/id=${t};type=${n}/`,to:[{type:"any_document",preview:{select:{title:"title"}}}]},{name:"documentType",type:"string",title:"Document type"}]}),Zde=e=>Hd({type:"array",name:"description",title:"Description",components:{field:t=>u.jsx(X$n,{...t,mode:e})},of:[{type:"block",name:"block",of:[{name:"mention",type:"object",fields:[{name:"userId",type:"string"}]}],marks:{annotations:[]},styles:[{title:"Normal",value:"normal"}],lists:[]}]}),xOn=e=>zhe({type:"document",name:"tasks.task",liveEdit:!0,components:{input:e==="edit"?gOn:dOn},fields:[{type:"string",title:"Title",name:"title",placeholder:"Task title",components:{field:uOn},hidden:e==="edit"},...e==="edit"?[Kde(e),Zde(e)]:[Zde(e),Kde(e)],{type:"string",name:"assignedTo",title:"Assign to",placeholder:"Select assignee",components:{field:qde,input:V$n},hidden:e==="edit"},{type:"date",name:"dueBy",title:"Deadline",placeholder:"yyyy-mm-dd",components:{field:qde},hidden:e==="edit"},{type:"string",name:"authorId",hidden:!0},{type:"string",name:"createdByUser",hidden:!0},{type:"array",of:[{type:"string"}],name:"subscribers",hidden:!0},{type:"string",name:"status",title:"Status",options:{list:Ly.map(t=>({value:t.value,title:t.title}))},hidden:!0},{type:"object",name:"context",components:{field:bOn},fields:[{type:"object",name:"notification",fields:[{type:"string",name:"url"},{type:"string",name:"workspaceTitle"},{type:"string",name:"targetContentImageUrl"},{type:"string",name:"targetContentTitle"}]}]}]});function wOn({children:e,mode:t,addonDataset:n}){const r=Zt({apiVersion:BRe}).config().apiHost,i="",a=Dn(),o=f.useMemo(()=>({basePath:i,dataset:n,name:`addon-dataset-${n}`,projectId:a.projectId,apiHost:r,schema:{types:[xOn(t)]}}),[a.projectId,t,r,n,i]),{workspaces:s}=f.useMemo(()=>ZRe(o,{basePath:i}),[o,i]),l=HPe(s[0]);return l?u.jsx(PDe,{workspace:l,children:u.jsx(gM,{source:l.unstable_sources[0],children:u.jsx(YOe,{children:e})})}):null}function COn(e){const{client:t,ready:n,createAddonDataset:r}=zM(),i=t==null?void 0:t.config().dataset;return f.useEffect(()=>{!i&&n&&r()},[i,n,r]),i?u.jsx(wOn,{...e,addonDataset:i}):u.jsx(wn,{})}function SOn(e){const{documentType:t="tasks.task",documentId:n,initialValue:r={}}=e,i=en().get(t);if(!i)throw new Error(`Schema type for '${t}' not found`);const{validation:a}=ex(n,t),o=Ha(a),[s,l]=f.useState([]),[c,d]=f.useState([]),[h,p]=f.useState(),[m,g]=f.useState(),[v,b]=f.useState(),[y]=f.useState([]),x=f.useCallback(O=>{l(O)},[l]),w=f.useCallback(()=>{l([])},[]),C=f.useCallback((O,F)=>{p(P=>Cc(P,O,F))},[]),S=f.useCallback((O,F)=>{g(P=>Cc(P,O,F))},[]),_=f.useCallback((O,F)=>b(P=>Cc(P,O,F)),[]),{patch:E}=bu(n,t),k=f.useRef(()=>{throw new Error("Nope")});k.current=O=>{E.execute(KMe(O.patches),r)};const T=f.useCallback(O=>k.current(O),[]),j=GPe(n,t),I=HM(n,t),A=(I==null?void 0:I.draft)||(I==null?void 0:I.published)||r,$=HMe(i,{value:A,comparisonValue:A,readOnly:!1,changesOpen:!1,presence:y,focusPath:s,openPath:c,collapsedPaths:h,collapsedFieldSets:m,fieldGroupState:v,validation:o}),D=I.ready&&j==="connected",M=f.useMemo(()=>tDe(),[]);return $===null||!D?{loading:!0}:{id:"root",onChange:T,__internal_patchChannel:M,__internal_fieldActions:void 0,onPathFocus:x,onPathOpen:d,onPathBlur:w,onFieldGroupSelect:_,onSetFieldSetCollapsed:S,onSetPathCollapsed:C,collapsedPaths:h,collapsedFieldSets:m,focusPath:$.focusPath,changed:$.changed,focused:$.focused,groups:$.groups,validation:$.validation,members:$.members,presence:$.presence,schemaType:i,value:$.value}}const _On={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.2,delay:.2}}},EOn=R(Di.div)(e=>{const t=Ee(e.theme);return`
    // Update spacing for the form builder
    & > [data-ui='Stack'] {
      grid-gap: ${Se(t.space[4])};
    }
`}),kOn=({documentId:e,initialValue:t})=>{var n,r;const i=SOn({documentType:"tasks.task",documentId:e,initialValue:t}),{setSelectedDocument:a}=M_(),o=i.loading||(n=i.value)==null?void 0:n.target,s=(r=o==null?void 0:o.document)==null?void 0:r._ref,l=o==null?void 0:o.documentType;return f.useEffect(()=>{a(s&&l?{_id:s,_type:l}:null)},[s,l,a]),u.jsx(L,{children:i.loading?u.jsx(wn,{showText:!0}):u.jsx(EOn,{id:"wrapper",initial:"hidden",animate:"visible",variants:_On,children:u.jsx(oOe,{...i})})})};function TOn(){const e=Kn(),{activeDocument:t}=Z0(),{dataset:n,projectId:r}=Fr(),{state:{selectedTask:i,viewMode:a,duplicateTaskValues:o}}=yl(),s=f.useMemo(()=>{if(e&&i){if(a==="duplicate")return{...o,title:`${o==null?void 0:o.title} (copy)`,createdByUser:void 0,_id:i,_type:"tasks.task",authorId:e.id,status:"open"};if(a==="create")return{_id:i,_type:"tasks.task",authorId:e.id,status:"open",subscribers:[e.id],target:t?LRe({documentId:t.documentId,documentType:t.documentType,dataset:n,projectId:r}):void 0}}},[t,e,n,o,r,i,a]);return e?i?u.jsx(DDn,{children:u.jsx(COn,{mode:a==="edit"?"edit":"create",children:u.jsx(kOn,{documentId:i,currentUser:e,initialValue:s})})}):null:u.jsx(wn,{showText:!0,title:"Loading current user"})}const AOn={open:{assigned:{heading:"empty-state.status.list.open.assigned.heading",text:"empty-state.status.list.open.assigned.text"},document:{heading:"empty-state.status.list.open.document.heading",text:""},subscribed:{heading:"empty-state.status.list.open.subscribed.heading",text:"empty-state.status.list.open.subscribed.text"}},closed:{assigned:{heading:"empty-state.status.list.closed.assigned.heading",text:"empty-state.status.list.closed.assigned.text"},document:{heading:"empty-state.status.list.closed.document.heading",text:""},subscribed:{heading:"empty-state.status.list.closed.subscribed.heading",text:"empty-state.status.list.closed.subscribed.text"}}};function jOn({status:e}){const{state:{activeTabId:t}}=yl(),{t:n}=Y(wr),{heading:r,text:i}=AOn[e][t];return u.jsxs(ee,{space:3,children:[u.jsx(N,{size:1,weight:"semibold",children:n(r)}),u.jsx(N,{size:1,children:n(i)})]})}const IOn={assigned:{heading:"empty-state.list.assigned.heading",text:"empty-state.list.assigned.text"},subscribed:{heading:"empty-state.list.subscribed.heading",text:"empty-state.list.subscribed.text"},document:{heading:"empty-state.list.document.heading",text:"empty-state.list.document.text"},noActiveDocument:{heading:"empty-state.list.no-active-document.heading",text:"empty-state.list.no-active-document.text"}},DOn=R.div`
  max-width: 268px;
  margin: 0 auto;
  height: 100%;
  margin-top: 40%;
`,Xde=R(N)`
  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
  animation: fadeIn 0.2s ease-in-out;
`;function $On(){const{activeDocument:e}=Z0(),{mode:t}=yu(),{state:{activeTabId:n},setViewMode:r}=yl(),i=!e&&n==="document"?"noActiveDocument":n,{heading:a,text:o}=IOn[i],{t:s}=Y(wr),l=f.useCallback(()=>{r({type:"create"})},[r]);return u.jsx(DOn,{children:u.jsxs(U,{direction:"column",gap:3,align:"center",flex:1,justify:"center",children:[u.jsx(Xde,{size:1,weight:"semibold",children:s(a)},i),u.jsx(L,{paddingBottom:6,paddingTop:1,children:u.jsx(Xde,{size:1,align:"center",children:s(o)},i)}),t!=="upsell"&&u.jsx(fe,{icon:wa,text:s("empty-state.list.create-new"),onClick:l})]})})}const OOn=R(pu)(e=>`
  text-decoration: underline;
  text-decoration-color: ${Ee(e.theme).color.input.default.enabled.border};
  text-underline-offset: 2px;
`);function MOn({documentId:e,documentType:t}){const n=en().get(t),{isLoading:r,value:i}=yq({documentId:e,documentType:t}),a=f.useMemo(()=>f.forwardRef(function(o,s){return u.jsx(OOn,{...o,intent:"edit",params:{id:e,type:t},ref:s})}),[e,t]);return n?u.jsxs(U,{align:"center",gap:2,children:[u.jsx(N,{size:1,children:u.jsx(Hu,{})}),r?u.jsx(ir,{size:1,muted:!0}):u.jsx(N,{size:1,as:a,weight:"medium",style:{maxWidth:"20ch"},textOverflow:"ellipsis",children:(i==null?void 0:i.title)||"Untitled"})]}):null}function ROn(e){const t=VRe(),{documentId:n,status:r}=e,[i,a]=f.useState(r==="closed"),[o,s]=f.useState(!1),l=f.useCallback(async c=>{const d=c.target.checked;a(d),s(!0);try{d?await t.edit(n,{status:"closed"}):d||await t.edit(n,{status:"open"})}catch(h){console.error("An error occurred while updating the task status",h)}finally{s(!1)}},[n,t]);return u.jsx(U,{children:o?u.jsx("div",{style:{height:"17px",width:"17px"},children:u.jsx(Wp,{style:{marginLeft:"3.5px",marginRight:"3.5px",marginTop:"3.5px"}})}):u.jsx(Gp,{onChange:l,checked:i,disabled:o})})}const POn=R(St)`
  width: 100%;
  max-width: 100%;
`,FOn=R(U)`
  /* Checkbox width is 17px and first row gap is 12px. */
  margin-left: 29px;
`;function NOn(e){var t;if((t=e==null?void 0:e.document)!=null&&t._ref)return{_ref:e==null?void 0:e.document._ref,_type:e==null?void 0:e.documentType}}function LOn({dueBy:e}){const t=Xl({dateStyle:"medium"}),n=Xl({month:"short",day:"numeric"}),r=Xl({weekday:"long"}),i=f.useMemo(()=>{const d=new Date(e);return{fullDate:t.format(d),monthAndDay:n.format(d),day:r.format(d),isDueByToday:N$t(d),isDueThisWeek:F$t(d)}},[r,e,t,n]),{fullDate:a,monthAndDay:o,day:s,isDueByToday:l,isDueThisWeek:c}=i;return u.jsx(gt,{content:a,children:u.jsx(te,{tone:l?"critical":"transparent",padding:1,radius:2,children:u.jsx(U,{align:"center",gap:2,children:u.jsx(N,{as:"time",size:1,dateTime:e,muted:!0,children:l?"Today":c?s:o})})})})}function BOn(e){const{assignedTo:t,title:n,dueBy:r,target:i,onSelect:a,documentId:o,status:s}=e,l=f.useMemo(()=>NOn(i),[i]);return u.jsxs(ee,{space:3,children:[u.jsxs(U,{align:"center",gap:1,children:[u.jsx(L,{children:u.jsx(ROn,{documentId:o,status:s})}),u.jsx(U,{flex:1,children:u.jsx(POn,{onClick:a,mode:"bleed",padding:2,children:u.jsx(N,{size:1,textOverflow:"ellipsis",weight:"semibold",children:n||"Untitled"})})}),u.jsx(tx,{user:t?{id:t}:void 0,withTooltip:!0})]}),(r||l)&&u.jsxs(FOn,{align:"center",gap:2,paddingX:0,children:[r&&u.jsx(LOn,{dueBy:r}),l&&u.jsx(L,{marginLeft:1,children:u.jsx(MOn,{documentId:l._ref,documentType:l._type})})]})]})}const VOn=[],zOn=e=>{const t=Ly.find(n=>n.value===e);return t==null?void 0:t.title},UOn=R(U)`
  [data-ui='summary-icon'] {
    transition: transform 0.2s;
    transform: rotate(-90deg);
  }
  &[open] [data-ui='summary-icon'] {
    transform: rotate(0);
  }
  > summary::-webkit-details-marker {
    display: none;
  }
`,HOn=R(L)`
  list-style: none;
`;function Jde(e){const{status:t,tasks:n,onTaskSelect:r}=e;return u.jsxs(UOn,{forwardedAs:"details",direction:"column",open:t==="open",children:[u.jsx(HOn,{forwardedAs:"summary",paddingY:1,children:u.jsxs(U,{align:"center",gap:1,paddingY:1,children:[u.jsx(N,{size:1,weight:"medium",muted:!0,children:zOn(t)}),u.jsx(N,{muted:!0,size:1,children:u.jsx(Ii,{"data-ui":"summary-icon"})})]})}),u.jsx(ee,{space:4,marginTop:3,paddingBottom:5,children:(n==null?void 0:n.length)>0?n.map((i,a)=>{const o=a<n.length-1;return u.jsxs(f.Fragment,{children:[u.jsx(BOn,{documentId:i._id,title:i.title,dueBy:i.dueBy,assignedTo:i.assignedTo,target:i.target,onSelect:()=>r(i._id),status:i.status}),o&&u.jsx(ur,{})]},i._id)}):u.jsx(jOn,{status:t})})]})}function WOn(e){var t,n;const{items:r=VOn,onTaskSelect:i}=e,a=f.useMemo(()=>r.reduce((l,c)=>(l[c.status]||(l[c.status]=[]),l[c.status].push(c),l),{}),[r]),o=((t=a.open)==null?void 0:t.length)>0,s=((n=a.closed)==null?void 0:n.length)>0;return u.jsx(ee,{space:4,flex:1,children:!o&&!s?u.jsx($On,{}):u.jsxs(u.Fragment,{children:[u.jsx(Jde,{status:"open",tasks:a.open,onTaskSelect:i}),u.jsx(Jde,{status:"closed",tasks:a.closed,onTaskSelect:i})]})})}function GOn(){const{upsellData:e,telemetryLogs:{panelPrimaryClicked:t,panelSecondaryClicked:n}}=FRe();return e?u.jsx(si,{width:1,children:u.jsx(L,{marginBottom:6,children:u.jsx(gq,{data:e,onPrimaryClick:t,onSecondaryClick:n})})}):null}const YOn="https://snty.link/tasks-feedback",qOn=R.span`
  margin-right: 0.2em;
`,KOn=R.a`
  white-space: nowrap;
  > [data-sanity-icon] {
    --card-icon-color: var(--card-link-color);
  }
`;function ZOn(e){return u.jsxs(KOn,{href:YOn,target:"_blank",rel:"noreferrer",children:[u.jsx(qOn,{children:e.children})," ",u.jsx(Qc,{})]})}function XOn(){const{t:e}=Y(wr);return u.jsx(L,{padding:4,children:u.jsx(N,{muted:!0,size:1,children:u.jsx(ht,{i18nKey:"list.feedback.text",t:e,components:{Link:ZOn}})})})}const JOn={marginLeft:"-0.5em",justifyContent:"space-between",display:"flex"};function QOn({activeTabId:e,onChange:t}){const{t:n}=Y(wr),r=f.useMemo(()=>[{id:"assigned",label:n("tab.assigned.label")},{id:"subscribed",label:n("tab.subscribed.label")},{id:"document",label:n("tab.document.label")}],[n]),i=f.useCallback(a=>{t(a.id)},[t]);return u.jsx(ub,{space:2,style:JOn,children:r.map(a=>u.jsx(uS,{"aria-controls":`${a.id}-panel`,id:`${a.id}-tab`,onClick:()=>i(a),selected:a.id===e,children:u.jsx(N,{size:1,weight:"medium",children:a.label})},`${a.id}-tab`))})}const eMn=R.div(e=>`
    height: 25px;
    width: 1px;
    background-color: ${Ee(e.theme).color.input.default.enabled.border};
  `);function tMn(e){const{items:t}=e,{state:n,setViewMode:r}=yl(),{selectedTask:i}=n,a=t.filter(d=>d.status==="open"),o=a.findIndex(d=>d._id===i),s=f.useCallback(()=>{const d=o>0?a[o-1]._id:a[a.length-1]._id;r({type:"edit",id:d})},[o,a,r]),l=f.useCallback(()=>{const d=o<a.length-1?a[o+1]._id:a[0]._id;r({type:"edit",id:d})},[o,a,r]),{t:c}=Y(wr);return a.length?u.jsx(Xa,{children:u.jsxs(U,{gap:1,align:"center",children:[u.jsx(fe,{tooltipProps:{content:c("buttons.previous.tooltip")},mode:"bleed",icon:Lf,onClick:s}),u.jsx(gt,{content:c("panel.navigation.tooltip"),children:u.jsx(L,{paddingY:2,children:u.jsxs(N,{size:1,children:[o+1," / ",a.length]})})}),u.jsx(fe,{tooltipProps:{content:c("buttons.next.tooltip")},mode:"bleed",icon:no,onClick:l}),u.jsx(eMn,{})]})}):null}const nMn={constrainSize:!0,fallbackPlacements:["bottom-end"],placement:"bottom-end",portal:!0},rMn=R(Ot)`
  width: 220px;
`;function iMn(e){const{isSelected:t,item:n,onSelect:r}=e,i=f.useCallback(()=>{r(n._id)},[n._id,r]),a=t?_a:void 0,o=n.title||"Untitled";return u.jsx(We,{iconRight:a,onClick:i,pressed:t,selected:t,text:o})}function aMn(){const{data:e}=Z0(),{state:t,setViewMode:n}=yl(),{viewMode:r,selectedTask:i}=t,a=Kn(),o=f.useMemo(()=>a!=null&&a.id?e.filter(c=>{const d=c.authorId===a.id,h=!c.createdByUser,p=c._updatedAt!==c._createdAt,m=r==="create"?c._id!==i:!0;return d&&h&&m&&p}):[],[e,i,a==null?void 0:a.id,r]),s=f.useCallback(c=>{n({type:"draft",id:c})},[n]),{t:l}=Y(wr);return o.length?u.jsx(Kt,{button:u.jsx(fe,{text:l("buttons.draft.text"),mode:"ghost",iconRight:Ii}),id:"edit-task-menu",menu:u.jsxs(rMn,{children:[u.jsx(L,{padding:3,children:u.jsx(N,{size:1,weight:"semibold",children:l("panel.drafts.title")})}),u.jsx(ur,{}),o==null?void 0:o.map(c=>u.jsx(iMn,{isSelected:i===c._id,item:c,onSelect:s},c._id))]}),popover:nMn}):null}function oMn(e){const{items:t}=e,{mode:n}=yu(),{state:r,setViewMode:i,handleCloseTasks:a}=yl(),{viewMode:o,activeTabId:s}=r,l=f.useCallback(()=>{i({type:"create"})},[i]),c=f.useCallback(()=>{i({type:"list"})},[i]),{t:d}=Y(wr);return u.jsxs(U,{justify:"space-between",align:"center",gap:1,children:[u.jsx(U,{align:"center",flex:1,children:o==="list"?u.jsx(L,{padding:2,children:u.jsx(N,{size:2,weight:"semibold",children:d("panel.title")})}):u.jsxs(u.Fragment,{children:[u.jsx(St,{mode:"bleed",space:2,padding:2,onClick:c,children:u.jsx(N,{size:1,children:d("panel.title")})}),u.jsx(no,{}),u.jsx(L,{paddingX:2,children:u.jsx(N,{size:1,weight:"semibold",style:{textTransform:"capitalize"},children:o==="create"||o==="draft"?d("panel.create.title"):s})})]})}),(o==="create"||o==="draft")&&u.jsx(aMn,{}),o==="edit"&&u.jsx(tMn,{items:t}),u.jsxs(U,{gap:1,children:[o==="list"&&u.jsx(fe,{icon:wa,onClick:l,mode:"bleed",text:d("buttons.new.text"),disabled:n==="upsell",tooltipProps:n==="upsell"?{content:d("buttons.new.upsell-tooltip")}:void 0}),u.jsx(fe,{tooltipProps:{content:d("panel.close.tooltip")},iconRight:Rr,mode:"bleed",onClick:a})]})]})}const sMn=R(te)`
  flex: 1;
  flex-direction: column;
`,lMn=R(ee)`
  border-bottom: 1px solid var(--card-border-color);
`,uMn=R(U)`
  overflow-y: scroll;
  overflow-x: hidden;
`;function cMn(){const{mode:e}=yu(),{activeDocument:t,data:n,isLoading:r}=Z0(),{state:i,setActiveTab:a,setViewMode:o}=yl(),{activeTabId:s,viewMode:l,selectedTask:c}=i,d=Kn(),h=f.useCallback(g=>o({type:"edit",id:g}),[o]),p=f.useMemo(()=>n.filter(g=>{var v,b;return g.createdByUser?s==="assigned"?g.assignedTo===(d==null?void 0:d.id):s==="subscribed"?(d==null?void 0:d.id)&&((v=g.subscribers)==null?void 0:v.includes(d.id)):s==="document"?(t==null?void 0:t.documentId)&&((b=g.target)==null?void 0:b.document._ref)===t.documentId:!1:!1}),[t==null?void 0:t.documentId,s,n,d]),m=f.useMemo(()=>l!=="list"?u.jsx(TOn,{},c):r?u.jsx(U,{align:"center",justify:"center",children:u.jsx(Wp,{})}):u.jsxs(u.Fragment,{children:[e==="upsell"&&u.jsx(GOn,{}),u.jsx(WOn,{items:p,onTaskSelect:h})]}),[p,r,h,c,l,e]);return u.jsxs(sMn,{display:"flex",height:"fill",flex:1,overflow:"hidden",children:[u.jsxs(lMn,{space:3,padding:3,sizing:"border",children:[u.jsx(oMn,{items:p}),l==="list"&&!r&&u.jsx(QOn,{activeTabId:s,onChange:a})]}),u.jsx(uMn,{direction:"column",flex:1,overflow:"auto",padding:3,paddingTop:4,paddingX:4,sizing:"border",children:m}),l==="list"&&u.jsx(XOn,{})]})}function dMn(){const{enabled:e}=yu();return e?u.jsx(cMn,{}):null}const fMn={hidden:{opacity:0},visible:{opacity:1}},hMn={duration:.2},qRe=1,KRe=2,pMn=R(U)(({theme:e})=>{const t=e.sanity.media;return ce`
    min-height: 100%;

    @media (max-width: ${t[KRe]}px) {
      position: relative;
    }
  `}),mMn=R(Di(Jo))(({theme:e})=>{const t=e.sanity.media;return ce`
    display: flex;
    flex-direction: column;
    height: 100%;
    width: 360px;
    border-left: 1px solid var(--card-border-color);
    box-sizing: border-box;
    overflow: hidden;

    box-shadow:
      0px 6px 8px -4px var(--card-shadow-umbra-color),
      0px 12px 17px -1px var(--card-shadow-penumbra-color);

    @media (max-width: ${t[KRe]}px) {
      bottom: 0;
      position: absolute;
      right: 0;
      top: 0;
    }

    @media (max-width: ${t[qRe]}px) {
      border-left: 0;
      min-width: 100%;
      left: 0;
    }
  `});function gMn(e){const t=w0(),{state:{isOpen:n}}=yl(),r=t<=qRe&&n;return u.jsxs(pMn,{sizing:"border",height:"fill",children:[u.jsx(L,{flex:1,height:"fill",overflow:r?"hidden":"auto",children:e.renderDefault(e)}),u.jsx(hl,{initial:!1,children:n&&u.jsx(mMn,{animate:"visible",zOffset:100,height:"fill",initial:"hidden",transition:hMn,variants:fMn,children:u.jsx(dMn,{})})})]})}function vMn(e){const{enabled:t}=yu();return t?u.jsx(gMn,{...e}):e.renderDefault(e)}const yMn=e=>{const{enabled:t,mode:n}=yu();return t?u.jsx(XRe,{children:u.jsx(db,{condition:n==="upsell",wrapper:r=>u.jsx(e$n,{children:r}),children:u.jsx(JDn,{children:u.jsx(LDn,{children:e.renderDefault(e)})})})}):e.renderDefault(e)};function bMn(e){return u.jsx(ADn,{children:u.jsx(yMn,{...e})})}const xMn=[];function wMn(e){const{handleOpenTasks:t,handleCloseTasks:n,state:{isOpen:r}}=yl(),{t:i}=Y(wr),a=f.useCallback(()=>{r?n():t()},[r,t,n]),o=f.useMemo(()=>[...(e==null?void 0:e.__internal_actions)||xMn,{icon:jB,location:"topbar",name:"tasks-topbar",onAction:a,selected:r,title:i("actions.open.text")},{icon:s2,location:"sidebar",name:"tasks-sidebar",onAction:a,selected:r,title:i("actions.open.text")}],[a,r,e==null?void 0:e.__internal_actions,i]);return e.renderDefault({...e,__internal_actions:o})}function CMn(e){const{enabled:t}=yu();return t?u.jsx(wMn,{...e}):e.renderDefault(e)}const SMn="sanity/tasks",_Mn=Lb({name:"sanity/tasks",__internal_tasks:{footerAction:u.jsx(o$n,{})},document:{actions:e=>[...e,NRe].filter(Boolean)},studio:{components:{layout:bMn,navbar:CMn,activeToolLayout:vMn}},form:{components:{input:e=>{var t;return e.id==="root"&&((t=e.schemaType.type)==null?void 0:t.name)==="document"?u.jsx(i$n,{...e}):e.renderDefault(e)}}},i18n:{bundles:[TDn]}}),EMn=[XTn(),_Mn(),kDn()];function kMn(e,t){return EMn.filter(n=>n.name===RRe?e.scheduledPublishing.enabled&&!!(t!=null&&t.length):n.name===SMn?e.tasks.enabled:!0)}function TMn(e){return{tasks:{enabled:!0,...e.unstable_tasks,...e.tasks},scheduledPublishing:{...tAn,...e.scheduledPublishing}}}function AMn({config:e,context:t}){return No({propertyName:"schema.types",config:e,context:t,initialValue:[],reducer:I_n})}class VM extends Error{constructor(t){super("SchemaError"),this.schema=t,this.name="SchemaError"}}const jMn=e=>e.severity==="error";function IMn(e,t,n=""){return Sf.isValidElementType(e)?f.createElement(e):f.isValidElement(e)?e:xkn(t,n)}const h4=new WeakMap;function ZRe(e,t){if(!Array.isArray(e)&&"missingConfigFile"in e)throw new zl({name:"",type:"configuration file",causes:["No `sanity.config.ts` file found","No `sanity.config.js` file found"]});const n=MMn(t==null?void 0:t.basePath),r=Array.isArray(e)?e:[e];try{jin({workspaces:r})}catch(i){throw new zl({name:"",type:"workspace",causes:[i.message]})}return{type:"prepared-config",workspaces:r.map(i=>{if(h4.has(i))return h4.get(i);const a=TMn(i),{unstable_sources:o=[],...s}=i,l=[s,...o].map(({plugins:h,...p})=>({...p,plugins:[...h??[],...kMn(a,h)]})).map(h=>{const{projectId:p,dataset:m}=h;let g;try{g=AMn({config:h,context:{projectId:p,dataset:m}})}catch(S){throw new zl({name:h.name,type:"source",causes:[S]})}const v=uhn({name:h.name,types:g}),b=v._validation,y=b==null?void 0:b.filter(S=>S.problems.some(jMn));if(b&&y!=null&&y.length)throw new VM(v);const x=DMn(h),w=J_n(h),C=x.state.pipe(de(({client:S,authenticated:_,currentUser:E})=>OMn({config:h,client:S,currentUser:E,schema:v,authenticated:_,auth:x,i18n:w})),oa(1));return{name:h.name,projectId:h.projectId,dataset:h.dataset,title:h.title||Rn(h.name),auth:x,schema:v,i18n:w.source,source:C}}),c=s.title||Rn(s.name),d={type:"workspace-summary",auth:l[0].auth,basePath:RMn(n,s.basePath),dataset:s.dataset,schema:l[0].schema,i18n:l[0].i18n,customIcon:!!s.icon,icon:IMn(s.icon,c,`${s.projectId} ${s.dataset}`),name:s.name||"default",projectId:s.projectId,theme:s.theme||Fg,title:c,subtitle:s.subtitle,__internal:{sources:l},__internal_serverDocumentActions:i.__internal_serverDocumentActions,...a};return h4.set(i,d),d})}}function DMn(e){if(oon(e.auth))return e.auth;const t=e.unstable_clientFactory||ZSe,{projectId:n,dataset:r,apiHost:i}=e;return con({apiHost:i,...e.auth,clientFactory:t,dataset:r,projectId:n})}function $Mn(e,t){const n=e.withConfig({apiVersion:"2022-06-30"}),{dataset:r,url:i,requestTagPrefix:a="sanity.studio"}=n.config(),o=`${`${i.replace(/\/+$/,"")}/socket/${r}`.replace(/^http/,"ws")}?tag=${a}`,s=t.token?{token$:t.token}:{};return JZt(o,s)}function OMn({config:e,client:t,currentUser:n,schema:r,authenticated:i,auth:a,i18n:o}){var s,l,c,d,h,p,m;const{dataset:g,projectId:v}=e,b=$Mn(t,a),y=[],x={},w=A=>{if(!A||!A.apiVersion)throw new Error("Missing required `apiVersion` option");return x[A.apiVersion]||(x[A.apiVersion]=t.withConfig(A)),x[A.apiVersion]},C={client:t,getClient:w,currentUser:n,dataset:g,projectId:v,schema:r,i18n:o.source},S=t;C.client=[...Object.keys(t),...Object.keys(S.__proto__)].reduce((A,$)=>{const D=Object.hasOwnProperty.call(t,$)?S[$]:S.__proto__[$];return Object.defineProperty(A,$,{get(){return console.warn('`configContext.client` is deprecated and will be removed in the next release! Use `context.getClient({apiVersion: "2021-06-07"})` instead'),D}})},{});let _;try{_=No({config:e,context:C,propertyName:"schema.templates",reducer:O_n,initialValue:r.getTypeNames().filter(A=>!/^sanity\./.test(A)).map(A=>r.get(A)).filter(sa).filter(A=>{var $;return(($=A.type)==null?void 0:$.name)==="document"}).map(A=>({id:A.name,schemaType:A.name,title:A.title||A.name,icon:A.icon,value:A.initialValue||{_type:A.name}}))})}catch(A){throw new zl({name:e.name,type:"source",causes:[A]})}let E;try{E=No({config:e,context:C,initialValue:[],propertyName:"tools",reducer:$_n})}catch(A){throw new zl({name:e.name,type:"source",causes:[A]})}if(E.some(({name:A})=>A==="tool"))throw new Error('A tool cannot have the name "tool". Please enter a different name.');const k=_.filter(A=>{var $;return!(($=A.parameters)!=null&&$.length)}).map(A=>({templateId:A.id,description:A.description,icon:A.icon,title:A.title})),T=_.reduce((A,$)=>(A.set($.id,$),A),new Map),j=A=>{const{schemaType:$}=A,D=No({config:e,context:{...C,creationContext:A},initialValue:k,propertyName:"document.resolveNewDocumentOptions",reducer:N_n}),M=[];if(M.length)throw new zl({name:e.name,type:"source",causes:M});return D.map((O,F)=>{const P=T.get(O.templateId);if(!P)throw new Error(`Could not find template with ID \`${O.templateId}\``);const V=r.get(P.schemaType);if(!V)throw new Error(`Could not find matching schema type \`${P.schemaType}\` for template \`${P.id}\``);const H=O.title||P.title,W=(V==null?void 0:V.title)===H||V==null?void 0:V.title;return{id:`${O.templateId}-${F}`,templateId:O.templateId,type:"initialValueTemplateItem",title:H,i18n:O.i18n||P.i18n,subtitle:O.subtitle||W,description:O.description||P.description,icon:O.icon||P.icon||(V==null?void 0:V.icon),initialDocumentId:O.initialDocumentId,parameters:O.parameters,schemaType:P.schemaType}}).filter(O=>{var F;return!$||A.type==="document"?!0:$===((F=T.get(O.templateId))==null?void 0:F.schemaType)})};let I;try{I=j({type:"global"})}catch(A){y.push(A)}if(y.length)throw new zl({name:e.name,type:"source",causes:y});return{type:"source",name:e.name,title:e.title||Rn(e.name),schema:r,getClient:w,dataset:g,projectId:v,tools:E,currentUser:n,authenticated:i,templates:_,auth:a,i18n:o.source,__internal_tasks:H_n({config:e}),document:{actions:A=>No({config:e,context:{...C,...A},initialValue:A_n,propertyName:"document.actions",reducer:F_n}),badges:A=>No({config:e,context:{...C,...A},initialValue:T_n,propertyName:"document.badges",reducer:P_n}),unstable_fieldActions:A=>No({config:e,context:{...C,...A},initialValue:t_n,propertyName:"document.unstable_fieldActions",reducer:e_n}),inspectors:A=>No({config:e,context:{...C,...A},initialValue:cn,propertyName:"document.inspectors",reducer:z_n}),resolveProductionUrl:A=>No({config:e,context:{...C,...A},initialValue:void 0,propertyName:"resolveProductionUrl",asyncReducer:D_n}),resolveNewDocumentOptions:j,unstable_languageFilter:A=>No({config:e,context:{...C,...A},initialValue:j_n,propertyName:"document.unstable_languageFilter",reducer:V_n}),unstable_comments:{enabled:A=>Gce({context:A,config:e,initialValue:!0})},comments:{enabled:A=>Gce({context:A,config:e,initialValue:!0})}},form:{file:{assetSources:No({config:e,context:C,initialValue:[EMe],propertyName:"formBuilder.file.assetSources",reducer:L_n}),directUploads:((l=(s=e.form)==null?void 0:s.file)==null?void 0:l.directUploads)===void 0?!0:e.form.file.directUploads},image:{assetSources:No({config:e,context:C,initialValue:[kMe],propertyName:"formBuilder.image.assetSources",reducer:B_n}),directUploads:((d=(c=e.form)==null?void 0:c.image)==null?void 0:d.directUploads)===void 0?!0:e.form.image.directUploads}},search:{filters:iEn,operators:ykn,unstable_partialIndexing:{enabled:W_n({config:e,initialValue:(m=(p=(h=e.search)==null?void 0:h.unstable_partialIndexing)==null?void 0:p.enabled)!=null?m:!1})},enableLegacySearch:No({config:e,context:C,reducer:G_n,propertyName:"enableLegacySearch",initialValue:!0})},__internal:{bifur:b,i18next:o.i18next,staticInitialValueTemplateItems:I,options:e},beta:{treeArrayEditing:{enabled:U_n({config:e,initialValue:!1})}}}}function MMn(e){const t=e||"";if(typeof t!="string"||t.length>0&&!t.startsWith("/"))throw new zl({name:"",type:"options",causes:["basePath must be a string, and must start with a slash"]});return t==="/"?"":t}function RMn(e,t){return`/${[e,t||""].map(n=>n.replace(/^\/+/g,"").replace(/\/+$/g,"")).filter(Boolean).join("/")}`}function PMn(e){const{projectId:t,dataset:n,schema:r,currentUser:i,getClient:a,i18n:o}=e;return f.useMemo(()=>({projectId:t,dataset:n,schema:r,currentUser:i,getClient:a,i18n:o}),[t,n,r,i,a,o])}function FMn(e){const{projectId:t,dataset:n,schema:r,currentUser:i,getClient:a,i18n:o}=e;return{projectId:t,dataset:n,schema:r,currentUser:i,getClient:a,i18n:o}}function NMn({config:e,children:t,basePath:n,LoadingComponent:r}){const[i,a]=f.useState(null);return f.useEffect(()=>{a(ZRe(e,{basePath:n}).workspaces)},[n,e]),i===null?u.jsx(r,{}):u.jsx(_pe.Provider,{value:i,children:t})}function LMn({children:e,history:t}){return u.jsx(Cpe.Provider,{value:t,children:e})}function BMn(){const e=f.useContext(Cpe);if(!e)throw new Error("Could not find `RouterHistoryProvider` context");return e}const VMn=f.memo(function({children:e,history:t,activeWorkspace:n,setActiveWorkspace:r}){const i=f.useMemo(()=>({activeWorkspace:n,setActiveWorkspace:r}),[n,r]);return u.jsx(mpe.Provider,{value:i,children:u.jsx(LMn,{history:t,children:e})})});function zMn(e){const t=e.map(r=>r.basePath.slice(1).split("/")).reduce((r,i)=>{for(let a=0;a<r.length;a++){const o=r[a],s=i[a].toLowerCase();if(o!==s)return r.slice(0,a)}return r});function n([r,...i]){return r?`(\\/${nG(r)}${n(i)}(\\/|$))?`:""}return new RegExp(`^${n(t)}$`,"i")}function UMn({pathname:e,workspaces:t,basePathRegex:n}){const[r]=t;for(const{workspace:i,basePath:a,basePathRegex:o}of t)if(o.test(e)||a==="/")return{type:"match",workspace:i};return e==="/"?{type:"redirect",pathname:r.basePath}:n.test(e)?{type:"redirect",pathname:r.basePath}:{type:"not-found"}}function HMn(e){return f.useMemo(()=>WMn(e),[e])}function WMn(e){return e.map(t=>{const n=t.basePath||"/";return{workspace:t,name:t.name,basePath:n,basePathRegex:new RegExp(`^${nG(n)}(\\/|$)`,"i")}})}function GMn(e,t){const n=HMn(t),r=f.useMemo(()=>zMn(n),[n]),[i]=f.useState(()=>e.location.pathname),a=f.useMemo(()=>({subscribe:o=>e.listen(o),getSnapshot:()=>e.location.pathname,getServerSnapshot:()=>i,selector:o=>UMn({basePathRegex:r,pathname:o,workspaces:n}),isEqual:(o,s)=>{if(o.type!==s.type)return!1;switch(o.type){case"match":return o.workspace===s.workspace;case"redirect":return o.pathname===s.pathname;case"not-found":return!0;default:throw new Error(`Unknown type: ${o.type}`)}}}),[r,e,i,n]);return tG.useSyncExternalStoreWithSelector(a.subscribe,a.getSnapshot,a.getServerSnapshot,a.selector,a.isEqual)}const YMn=()=>typeof document>"u"?DZt():IZt();function qMn({children:e,LoadingComponent:t,NotFoundComponent:n,unstable_history:r}){const i=g_(),a=f.useMemo(()=>r||YMn(),[r]),o=f.useCallback(c=>{const d=i.find(h=>h.name===c);d&&a.push(d.basePath)},[a,i]),s=f.useCallback(()=>{o(i[0].name)},[o,i]),l=GMn(a,i);switch(f.useEffect(()=>{l.type==="redirect"&&a.replace(l.pathname)},[a,l]),l.type){case"match":return u.jsx(VMn,{activeWorkspace:l.workspace,history:a,setActiveWorkspace:o,children:e});case"redirect":return u.jsx(t,{});case"not-found":return u.jsx(n,{onNavigateToDefaultWorkspace:s});default:throw new Error(`Unknown type: ${l.type}`)}}function X0(){const e=f.useContext(mpe);if(!e)throw new Error("Could not find `ActiveWorkspaceMatcher` context");return e}const p4="v2023-11-13";function XRe(e){const{children:t}=e,{dataset:n,projectId:r}=Fr(),i=Zt(Gt),[a,o]=f.useState(null),[s,l]=f.useState(!1),[c,d]=f.useState(!1),h=f.useCallback(async()=>{var v;const b=await i.withConfig({apiVersion:p4}).request({uri:`/projects/${r}/datasets?datasetProfile=comments&addonFor=${n}`,tag:"sanity.studio"});return(v=b==null?void 0:b[0])==null?void 0:v.name},[n,i,r]),p=f.useCallback(v=>i.withConfig({apiVersion:p4,dataset:v,projectId:r,requestTagPrefix:"sanity.studio",useCdn:!1,withCredentials:!0}),[i,r]),m=f.useCallback(async()=>{l(!0);try{const v=await h();if(v){const b=p(v);return o(b),l(!1),b}}catch{}try{const v=await i.withConfig({apiVersion:p4}).request({uri:`/comments/${n}/setup`,method:"POST"}),b=v==null?void 0:v.datasetName;if(!b)return l(!1),null;const y=p(b);return o(y),y}catch(v){throw v}finally{l(!1)}},[n,h,p,i]);f.useEffect(()=>{h().then(v=>{if(!v)return;const b=p(v);o(b)}).finally(()=>{d(!0)})},[h,p]);const g=f.useMemo(()=>({client:a,createAddonDataset:m,isCreatingDataset:s,ready:c}),[a,m,s,c]);return u.jsx(gpe.Provider,{value:g,children:t})}function zM(){const e=f.useContext(gpe);if(!e)throw new Error("useAddonDataset: missing context value");return e}function JRe(){return GKe()?"dark":"light"}function QRe({children:e,scheme:t}){const n=JRe();return u.jsx(oS,{scheme:t==="system"?n:t,theme:Fg,children:e})}const Qde="sanityStudio:ui:colorScheme";function KMn({children:e,onSchemeChange:t,scheme:n}){return n?u.jsx(XMn,{scheme:n,onSchemeChange:t,children:e}):u.jsx(ZMn,{onSchemeChange:t,children:e})}function ZMn({children:e,onSchemeChange:t}){const n=f.useMemo(()=>{let i;const a=new Set;return{subscribe:o=>(i||(i=efe(localStorage.getItem(Qde))||"system"),a.add(o),()=>{a.delete(o)}),getSnapshot:()=>i,setSnapshot:o=>{i=efe(o);for(const s of a)s()},getServerSnapshot:()=>"system"}},[]),r=f.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return f.useEffect(()=>{typeof t=="function"&&t(r),localStorage.setItem(Qde,r)},[t,r]),u.jsx(FI.Provider,{value:n.setSnapshot,children:u.jsx(NI.Provider,{value:r,children:u.jsx(QRe,{scheme:r,children:e})})})}function efe(e){switch(e){case"dark":case"light":return e;default:return"system"}}function XMn({children:e,onSchemeChange:t,scheme:n}){return u.jsx(FI.Provider,{value:typeof t=="function"?t:!1,children:u.jsx(NI.Provider,{value:n,children:u.jsx(QRe,{scheme:n,children:e})})})}function ePe(){const e=f.useContext(FI);if(e===null)throw new Error("Could not find `ColorSchemeSetValueContext` context");return e}function tPe(){const e=f.useContext(NI);if(e===null)throw new Error("Could not find `ColorSchemeValueContext` context");return e}function nh(){const e=tPe(),t=JRe();return e==="system"?t:e}function nPe(e,t){const n=tPe();return f.useMemo(()=>[{title:t("user-menu.color-scheme.system-title"),name:"system",label:t("user-menu.color-scheme.system-description"),selected:n==="system",onSelect:()=>e("system"),icon:hB},{title:t("user-menu.color-scheme.dark-title"),name:"dark",label:t("user-menu.color-scheme.dark-description"),selected:n==="dark",onSelect:()=>e("dark"),icon:EB},{title:t("user-menu.color-scheme.light-title"),name:"light",label:t("user-menu.color-scheme.light-description"),selected:n==="light",onSelect:()=>e("light"),icon:RB}],[n,e,t])}function rPe(e){return e.reduce((t,n)=>(t[n.type]=n,t),{})}function Rp(e,t){return t?e[t]:void 0}function JMn(e,t){var n;return(n=Rp(e,t))==null?void 0:n.initialValue}function o9(e,t){var n;return{fieldId:t,filterName:e.name,operatorType:((n=e==null?void 0:e.operators.find(r=>r.type==="item"))==null?void 0:n.name)||""}}function ym({fieldDefinitions:e,filterDefinitions:t,filters:n,operatorDefinitions:r}){return n.filter(i=>R_({filter:i,filterDefinitions:t,fieldDefinitions:e,operatorDefinitions:r})).map(i=>{var a;return(a=Rp(r,i.operatorType))==null?void 0:a.groqFilter({fieldPath:QMn({filter:i,fieldDefinitions:e,filterDefinitions:t}),value:i==null?void 0:i.value})}).filter(i=>!ITt(i)).filter(sa).join(" && ")}function Of(e,t){return t!=null&&t.fieldId?e[t.fieldId]:void 0}function Uo(e){return[e.filterName,...e.fieldId?[e.fieldId]:[]].join("-")}function bm({fieldDefinitions:e,filters:t,types:n}){const r=n.map(s=>s.name),i=Object.values(e).filter(s=>t.map(l=>l==null?void 0:l.fieldId).includes(s.id)).filter(s=>s.documentTypes.length>0).map(s=>s.documentTypes),a=cj(...i),o=[];return r.length>0&&o.push(r),a.length>0&&o.push(a),cj(...o).sort()}function QMn({filter:e,fieldDefinitions:t,filterDefinitions:n}){const r=Of(t,e),i=am(n,e.filterName);if(i)switch(i.type){case"field":return r==null?void 0:r.fieldPath;case"pinned":return i==null?void 0:i.fieldPath;default:return}}function R_({filter:e,filterDefinitions:t,fieldDefinitions:n,operatorDefinitions:r}){const i=am(t,e.filterName),a=Rp(r,e.operatorType),o=Of(n,e);return!(!i||!a||e.fieldId&&!o||i.type==="field"&&(!(o!=null&&o.fieldPath)||!e.fieldId||!a.groqFilter({fieldPath:o.fieldPath,value:e.value}))||i.type==="pinned"&&!a.groqFilter({fieldPath:i.fieldPath,value:e.value}))}const eRn=Ki("escape"),tRn=500,nRn=R.div`
  background: transparent;
  height: 100%;
  left: 0;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: -1;
`;function Sq({anchorElement:e,children:t,onClose:n}){const{isTopLayer:r}=Ds(),i=f.useCallback(o=>{eRn(o)&&r&&n()},[r,n]);Xo(i);const a=rRn(e||null);return u.jsxs(u.Fragment,{children:[u.jsx(nRn,{onClick:n}),u.jsx(ec,{autoFocus:!1,returnFocus:!0,children:u.jsx(te,{display:"flex",overflow:"hidden",radius:Jb,style:{maxHeight:`min(calc(100vh - ${a}px - ${A_}px - ${U7}px), ${tRn}px`,zIndex:1},children:u.jsx(U,{children:t})})})]})}function m4(e){const t=e.getBoundingClientRect();return t.y+t.height+A_}function rRn(e){const[t,n]=f.useState(e&&m4(e)),r=f.useCallback(()=>{e&&n(m4(e))},[e]);return f.useEffect(()=>{e&&n(m4(e))},[e]),f.useEffect(()=>(window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[r]),t}const iRn=R(L)`
  border-bottom: 1px solid ${({theme:e})=>e.sanity.color.base.border};
  flex-shrink: 0;
`,aRn=R(U)`
  box-sizing: border-box;
`,iPe=f.forwardRef(function({ariaInputLabel:e,onChange:t,onClear:n,typeFilter:r},i){const{state:{fullscreen:a}}=Qt(),{t:o}=Y();return u.jsx(iRn,{children:u.jsx(aRn,{align:"center",flex:1,padding:1,children:u.jsx(iq,{__unstable_disableFocusRing:!0,$smallClearButton:!0,"aria-label":e,autoComplete:"off",border:!1,clearButton:!!r,fontSize:a?2:1,icon:Ca,muted:!0,onChange:t,onClear:n,placeholder:o("search.filter-placeholder"),ref:i,spellCheck:!1,radius:2,value:r})})})});function oRn({documentTypesNarrowed:e,fieldDefinitions:t,filterDefinitions:n,schema:r,titleFilter:i,types:a,t:o}){const s=Object.values(t).filter(c=>cRn(c,i)).map(c=>{const d=am(n,c.filterName);return d?o9(d,c.id):null}).filter(sa),l=lRn({fieldDefinitions:t,filterDefinitions:n,titleFilter:i});return e.length===0?[...l,...XS({fieldDefinitions:t,filterDefinitions:n,filters:s,headerTitle:o("search.filter-all-fields-header"),id:"field"})]:[...l,...sRn({documentTypesNarrowed:e,fieldDefinitions:t,filterDefinitions:n,filters:s,schema:r,types:a,t:o})]}function XS({fieldDefinitions:e,filterDefinitions:t,filters:n,id:r,headerTitle:i,tone:a}){const o={title:i||"",tone:a||"default",type:"header"},s=n.map(l=>({fieldDefinition:Of(e,l),filterDefinition:am(t,l.filterName),filter:l,group:r,tone:a||"default",type:"filter"}));return s.length>0?[...i?[o]:[],...s]:[]}function sRn({documentTypesNarrowed:e,fieldDefinitions:t,filterDefinitions:n,filters:r,schema:i,types:a,t:o}){const s=r.filter(d=>{const h=Of(t,d);return hRn(e,h)}),l=e.length>1&&a.length>1?XS({fieldDefinitions:t,filterDefinitions:n,filters:s,headerTitle:o("search.filter-shared-fields-header"),id:"shared",tone:"primary"}):[],c=e.map(d=>{const h=i.get(d);return{title:(h==null?void 0:h.title)||Rn(h==null?void 0:h.name)||"(Unknown type)",documentType:d}}).sort((d,h)=>d.title.localeCompare(h.title)).map(({documentType:d,title:h})=>{const p=r.filter(m=>{const g=Of(t,m);return uRn([d],g)});return XS({fieldDefinitions:t,filterDefinitions:n,filters:p,id:h,headerTitle:h})}).flat();return[...l,...c]}function lRn({fieldDefinitions:e,filterDefinitions:t,titleFilter:n}){const r=Object.values(t).filter(fRn).filter(a=>tfe(a,n)).map(a=>o9(a)),i=Object.values(t).filter(dRn).filter(a=>tfe(a,n)).reduce((a,o)=>(a[o.group]=a[o.group]||[],a[o.group].push(o9(o)),a),{});return[...XS({fieldDefinitions:e,filterDefinitions:t,filters:r,id:"pinned-ungrouped",tone:"primary"}),...Object.entries(i).flatMap(([a,o])=>XS({fieldDefinitions:e,filterDefinitions:t,filters:o,headerTitle:a,id:a,tone:"primary"}))]}function uRn(e,t){return t==null?void 0:t.documentTypes.some(n=>e.includes(n))}function cRn(e,t){return e.titlePath.join("/").toLowerCase().includes(t.toLowerCase())}function tfe(e,t){return e.title.toLowerCase().includes(t.toLowerCase())}function dRn(e){return e.type==="pinned"&&typeof(e==null?void 0:e.group)<"u"}function fRn(e){return e.type==="pinned"&&typeof(e==null?void 0:e.group)>"u"}function hRn(e,t){return Ug(e,(t==null?void 0:t.documentTypes)||[]).length===0}function aPe({filter:e,maxLength:t}){const{state:{definitions:n}}=Qt(),r=f.useMemo(()=>{const i=am(n.filters,e.filterName);switch(i==null?void 0:i.type){case"field":{const a=Of(n.fields,e);return a!=null&&a.titlePath?a.titlePath[a.titlePath.length-1]:null}case"pinned":return i.title;default:return null}},[n,e]);return r?t&&r.length>t?u.jsxs("span",{children:[r.slice(0,t),"…"]}):u.jsx("span",{children:r}):null}function pRn({filter:e}){var t;const{state:{definitions:n}}=Qt(),r=(t=am(n.filters,e.filterName))==null?void 0:t.icon;return r?f.createElement(r):u.jsx(Hl,{})}function oPe({filter:e}){var t;const{state:{definitions:n}}=Qt(),r=Of(n.fields,e);return u.jsxs(ee,{space:2,children:[(r==null?void 0:r.titlePath)&&((t=r.titlePath)==null?void 0:t.length)>1&&u.jsx(L,{marginLeft:4,children:u.jsx(N,{muted:!0,size:0,children:r.titlePath.slice(0,-1).map((i,a)=>u.jsxs(f.Fragment,{children:[u.jsx("span",{children:i}),a!==r.titlePath.length-2&&u.jsx("span",{style:{opacity:.75,paddingLeft:"0.25em",paddingRight:"0.25em"},children:u.jsx(no,{})})]},a))})}),u.jsxs(U,{align:"flex-start",gap:3,children:[u.jsx(L,{style:{flexShrink:0},children:u.jsx(N,{size:1,children:u.jsx(pRn,{filter:e})})}),u.jsx(N,{size:1,weight:"medium",children:u.jsx(aPe,{filter:e})})]})]})}function sPe(e){return f.isValidElement(e)?mRn(mQt(e)):typeof e=="string"?e:""}function mRn(e){var t;return((t=new DOMParser().parseFromString(e,"text/html"))==null?void 0:t.body.textContent)||""}const g4=10;function gRn({children:e,fieldDefinition:t,filterDefinition:n,visible:r}){const{state:{documentTypesNarrowed:i}}=Qt(),{t:a}=Y(),o=en(),s=f.useMemo(()=>t!=null&&t.documentTypes?t.documentTypes.map(c=>{const d=o.get(c);return(d==null?void 0:d.title)||Rn(d==null?void 0:d.name)}).filter(sa).sort():[],[t==null?void 0:t.documentTypes,o]),l=f.useMemo(()=>{if(t!=null&&t.documentTypes){const c=t.documentTypes.map(h=>{const p=o.get(h);if(p){const m=AM(p,t.fieldPath);return(m==null?void 0:m.type.description)&&sPe(m==null?void 0:m.type.description)}return null}).filter(sa).sort(),d=ra(c);if(d.length===1)return d[0]}},[t==null?void 0:t.documentTypes,t==null?void 0:t.fieldPath,o]);return u.jsx(gt,{content:u.jsx(te,{tone:"default",radius:2,style:{maxWidth:"250px"},children:u.jsxs(ee,{space:4,children:[t&&u.jsxs(ee,{space:3,children:[u.jsx(N,{muted:!0,size:1,weight:"medium",children:a("search.filter-field-tooltip-name")}),u.jsx(qr,{size:1,style:{fontFamily:"monospace"},tone:"primary",textOverflow:"ellipsis",children:t==null?void 0:t.name})]}),l&&u.jsxs(ee,{space:3,children:[u.jsx(N,{muted:!0,size:1,weight:"medium",children:a("search.filter-field-tooltip-description")}),u.jsx(N,{muted:!0,size:1,children:Yse(l,256)})]}),(n==null?void 0:n.description)&&u.jsx(N,{muted:!0,size:1,children:Yse(n.description,256)}),!i.length&&s.length>0&&u.jsxs(ee,{space:2,children:[u.jsxs(U,{align:"center",gap:1,children:[u.jsx(N,{muted:!0,size:1,weight:"medium",children:a("search.filter-field-tooltip-used-in-document-types")}),u.jsx(te,{padding:1,radius:2,tone:"transparent",children:u.jsx(N,{size:1,muted:!0,children:s.length})})]}),u.jsxs(N,{size:1,weight:"regular",muted:!0,children:[s.slice(0,g4).join(", "),(s==null?void 0:s.length)>g4?` +${s.length-g4} more`:""]})]})]})}),disabled:!r,fallbackPlacements:["left"],placement:"right",portal:!0,children:e})}const vRn=f.memo(function({item:e,onClose:t,...n}){const{dispatch:r,state:{filters:i}}=Qt(),a=f.useCallback(()=>{r({filter:e.filter,type:"TERMS_FILTERS_ADD"}),t==null||t()},[r,e.filter,t]),o=!!i.find(l=>Uo(l)===Uo(e.filter)),s=!!(e.fieldDefinition||e.filterDefinition.description);return u.jsx(L,{...n,children:u.jsx(St,{disabled:o,fontSize:1,justify:"flex-start",mode:"bleed",onClick:o?void 0:a,padding:0,style:{position:"relative",whiteSpace:"normal",width:"100%"},tabIndex:-1,tone:e==null?void 0:e.tone,children:u.jsx(gRn,{fieldDefinition:e.fieldDefinition,filterDefinition:e.filterDefinition,visible:s,children:u.jsx(L,{padding:3,children:u.jsx(oPe,{filter:e.filter})})})})})}),yRn=f.memo(function({item:e}){return u.jsx(L,{paddingTop:1,children:u.jsx(te,{borderBottom:!0,paddingX:2,paddingY:3,tone:e==null?void 0:e.tone,children:u.jsx(N,{muted:!0,size:1,textOverflow:"ellipsis",weight:"medium",children:e.title})})})}),bRn={width:"300px"};function xRn({onClose:e}){const[t,n]=f.useState(null),[r,i]=f.useState(""),{t:a}=Y(),o=f.useCallback(y=>i(y.currentTarget.value),[i]),s=f.useCallback(()=>i(""),[]),l=en(),{state:{documentTypesNarrowed:c,definitions:d,filters:h,terms:{types:p}}}=Qt(),m=f.useMemo(()=>oRn({documentTypesNarrowed:c,fieldDefinitions:d.fields,filterDefinitions:d.filters,schema:l,titleFilter:r,types:p,t:a}),[c,d.fields,d.filters,l,r,p,a]),g=f.useCallback(y=>y.type==="filter"?u.jsx(vRn,{item:y,onClose:e,paddingBottom:1}):y.type==="header"?u.jsx(yRn,{item:y}):null,[e]),v=f.useCallback(y=>{const x=m[y];return x.type!=="filter"||!!h.find(w=>Uo(w)===Uo(x.filter))},[m,h]),b=f.useCallback(y=>{const x=m[y];switch(x.type){case"filter":return[...x.group?[x.group]:[],Uo(x.filter)].join("-");case"header":return`${x.type}-${x.title}`;default:return y}},[m]);return u.jsxs(U,{direction:"column",style:bRn,children:[u.jsx(iPe,{ariaInputLabel:a("search.filter-by-title-aria-label"),onChange:o,onClear:s,ref:n,typeFilter:r}),u.jsxs(U,{children:[m.length>0&&u.jsx(fd,{activeItemDataAttr:"data-hovered",ariaLabel:a("search.filters-aria-label",{count:m.length}),autoFocus:"input",getItemDisabled:v,getItemKey:b,inputElement:t,itemHeight:45,items:m,overscan:20,padding:1,paddingBottom:0,renderItem:g}),m.length==0&&u.jsx(L,{padding:3,children:u.jsx(N,{muted:!0,size:1,textOverflow:"ellipsis",children:a("search.filter-no-matches-found",{filter:r})})})]})]})}function nfe(){const[e,t]=f.useState(!1),[n,r]=f.useState(null),i=f.useRef(null),{t:a}=Y(),{state:{fullscreen:o}}=Qt(),s=f.useCallback(()=>t(!1),[]),l=f.useCallback(()=>t(!0),[]);return yn(s,()=>[n,i.current]),u.jsx(Fn,{__unstable_margins:[A_,0,0,0],content:u.jsx(Sq,{anchorElement:n,onClose:s,children:u.jsx(xRn,{onClose:s})}),open:e,placement:"bottom-start",radius:Jb,ref:i,portal:!0,children:u.jsx(fe,{icon:wa,mode:"bleed",onClick:l,size:o?"large":"default",ref:r,selected:e,text:a("search.action.add-filter")})})}const wRn=f.memo(function({selected:e,type:t,...n}){var r,i;const{dispatch:a}=Qt(),o=f.useCallback(()=>{a({type:"TERMS_TYPE_ADD",schemaType:t})},[a,t]),s=f.useCallback(()=>{a({type:"TERMS_TYPE_REMOVE",schemaType:t})},[a,t]),l=f.useCallback(()=>{e?s():o()},[o,s,e]);return u.jsx(L,{...n,children:u.jsx(fe,{iconRight:e&&_a,justify:"flex-start",mode:"bleed",onClick:l,width:"fill",size:"large",tabIndex:-1,text:(i=t.title)!=null?i:t.name,tone:e?"primary":"default"},(r=t.title)!=null?r:t.name)})}),CRn=R(L)`
  border-top: 1px solid ${({theme:e})=>e.sanity.color.base.border};
  flex-shrink: 0;
`,SRn={width:"250px"};function _Rn(){const[e,t]=f.useState(null),[n,r]=f.useState(""),i=f.useRef(null),{t:a}=Y(),o=en(),{dispatch:s,state:{terms:{types:l}}}=Qt(),[c,d]=f.useState(l),h=kRn(o,l,c,n),p=f.useCallback(w=>r(w.currentTarget.value),[r]),m=f.useCallback(()=>r(""),[]),g=f.useCallback(()=>{var w,C;d([]),s({type:"TERMS_TYPES_CLEAR"}),(w=i==null?void 0:i.current)==null||w.focusInputElement(),(C=i==null?void 0:i.current)==null||C.scrollToIndex(0)},[s]),v=f.useCallback(w=>{const C=h[w];switch(C.type){case"divider":return`${C.type}-${w}`;case"header":return`${C.type}-${C.title}`;case"item":return`${C.type}-${C.item.name}`;default:return w}},[h]),b=f.useCallback(w=>w.type==="divider"?u.jsx(L,{paddingY:1,children:u.jsx(ur,{})}):w.type==="header"?u.jsx(L,{margin:2,padding:1,children:u.jsx(N,{muted:!0,size:1,weight:"medium",children:w.title})}):w.type==="item"?u.jsx(wRn,{paddingBottom:1,selected:w.selected,type:w.item}):null,[]),y=f.useCallback(w=>h[w].type!=="item",[h]),x=f.useCallback(w=>{const C=h[w];return C.type==="item"&&C.selected},[h]);return u.jsxs(U,{direction:"column",style:SRn,children:[u.jsx(iPe,{ariaInputLabel:a("search.action.filter-by-document-type-aria-label"),onChange:p,onClear:m,ref:t,typeFilter:n}),u.jsxs(U,{children:[h.length>0&&u.jsx(fd,{activeItemDataAttr:"data-hovered",ariaLabel:a("search.document-types-aria-label"),ariaMultiselectable:!0,autoFocus:"input",getItemDisabled:y,getItemSelected:x,getItemKey:v,inputElement:e,itemHeight:37,items:h,overscan:20,padding:1,paddingBottom:0,ref:i,renderItem:b}),!h.length&&u.jsx(L,{padding:3,children:u.jsx(N,{muted:!0,size:1,textOverflow:"ellipsis",children:a("search.document-types-no-matches-found",{filter:n})})})]}),!n&&l.length>0&&u.jsx(ERn,{onClick:g,selectedTypes:l})]})}function ERn({onClick:e,selectedTypes:t}){const{t:n}=Y();return u.jsx(CRn,{padding:1,children:u.jsx(ee,{children:u.jsx(fe,{"aria-label":n("search.action.clear-type-filters-aria-label"),"data-name":"type-filter-button",disabled:t.length===0,mode:"bleed",onClick:e,text:n("search.action.clear-type-filters-label"),tone:"primary"})})})}function kRn(e,t,n,r){return f.useMemo(()=>{const[i,a]=fH(pEn(e,r),c=>n.includes(c)),o=i.length>0,s=i.length>0,l=[];return o&&l.push({title:"Selected",type:"header"}),i.forEach(c=>l.push({item:c,selected:t.includes(c),type:"item"})),o&&s&&l.push({type:"divider"}),a.forEach(c=>l.push({item:c,selected:t.includes(c),type:"item"})),l},[e,t,n,r])}const TRn=["top-start","bottom-start"];function ARn(){const[e,t]=f.useState(!1),[n,r]=f.useState(null),i=f.useRef(null),{state:{fullscreen:a,terms:{types:o}}}=Qt(),{t:s}=Y(),l=f.useCallback(()=>t(!1),[]),c=f.useCallback(()=>t(!0),[]);yn(l,()=>[n,i.current]);const d=f.useMemo(()=>RMe({types:o,t:s}),[o,s]);return u.jsx(Fn,{__unstable_margins:[A_,0,0,0],content:u.jsx(Sq,{anchorElement:n,onClose:l,children:u.jsx(_Rn,{})}),open:e,placement:"bottom-start",fallbackPlacements:TRn,portal:!0,radius:Jb,ref:i,children:u.jsx(fe,{iconRight:Ii,mode:"ghost",onClick:c,size:a?"large":"default",ref:r,selected:e,text:d,tone:"default"})})}const v4=R(L)`
  flex-shrink: ${({$flexShrink:e=0})=>e};
`;function lPe({filter:e,fontSize:t=1,showContent:n=!0}){const{t:r}=Y(),{state:{definitions:i,fullscreen:a}}=Qt(),o=Rp(i.operators,e.operatorType),s=o==null?void 0:o.buttonValueComponent,l=e.value,c=f.useMemo(()=>({Field:()=>u.jsx(v4,{$flexShrink:a?1:0,children:u.jsx(qr,{tone:"default",size:t,textOverflow:"ellipsis",weight:"medium",children:u.jsx(aPe,{filter:e,maxLength:a?25:40})})}),Operator:({children:d})=>n?u.jsx(v4,{$flexShrink:0,children:u.jsx(qr,{tone:"default",size:t,textOverflow:"ellipsis",weight:"regular",children:d})}):null,Value:({children:d})=>n?u.jsx(v4,{$flexShrink:1,children:u.jsx(qr,{tone:"default",size:t,textOverflow:"ellipsis",weight:"medium",children:s?u.jsx(s,{value:l}):d})}):null}),[e,t,a,n,s,l]);if(o!=null&&o.descriptionKey||console.warn("Missing `descriptionKey` for operator `%s`",e.operatorType),!n||!(o!=null&&o.descriptionKey)){const d=c.Field;return u.jsx(U,{align:"center",gap:1,children:u.jsx(d,{})})}return u.jsx(U,{align:"center",gap:1,children:u.jsx(ht,{t:r,i18nKey:o==null?void 0:o.descriptionKey,components:c,values:jRn(e)})})}function jRn(e){const t={};return typeof e.value=="number"&&(t.count=e.value),y4(e.value)&&(t.value=e.value),yt(e.value)&&"from"in e.value&&y4(e.value.from)&&(t.from=e.value.from),yt(e.value)&&"to"in e.value&&y4(e.value.to)&&(t.to=e.value.to),t}function y4(e){return typeof e=="string"||typeof e=="number"}function IRn(e){const{t}=Y();return u.jsx(L,{...e,children:u.jsxs(U,{align:"flex-start",gap:3,children:[u.jsx(qr,{tone:"critical",children:u.jsx(Ea,{})}),u.jsxs(ee,{space:4,children:[u.jsx(qr,{size:1,tone:"critical",weight:"medium",children:t("search.error.display-filter-title")}),u.jsx(qr,{size:1,tone:"critical",children:t("search.error.display-filter-description")})]})]})})}function DRn({onClick:e,operator:t,selected:n}){const r=f.useCallback(()=>e(t.type),[e,t.type]),{t:i}=Y();return u.jsx(We,{onClick:r,pressed:n,tone:"default",text:i(t.nameKey),iconRight:t==null?void 0:t.icon})}function $Rn({filter:e,operator:t}){var n;const r=f.useId(),{t:i}=Y(),{dispatch:a,state:o}=Qt(),s=(n=am(o.definitions.filters,e.filterName))==null?void 0:n.operators,l=f.useCallback(c=>{a({filterKey:Uo(e),operatorType:c,type:"TERMS_FILTERS_SET_OPERATOR"})},[a,e]);return!t||!s||s.length<=1?null:u.jsx(An,{children:u.jsx(Kt,{button:u.jsx(fe,{mode:"ghost",iconRight:Ii,text:i(t.nameKey)}),id:r||"",menu:u.jsx(Ot,{children:s.map((c,d)=>{if(c.type==="item"){const h=Rp(o.definitions.operators,c.name);return h?u.jsx(DRn,{onClick:l,operator:h,selected:t.type===c.name},d):null}return c.type==="divider"?u.jsx(ur,{},d):null})}),placement:"bottom-start",popover:{constrainSize:!0,portal:!1,radius:2}})})}function ORn({filter:e}){const[t,n]=f.useState(null),{dispatch:r,state:{definitions:i,fullscreen:a}}=Qt(),o=am(i.filters,e.filterName),s=Rp(i.operators,e.operatorType),l=Of(i.fields,e),c=Uo(e),d=f.useCallback(()=>{r({filterKey:Uo(e),type:"TERMS_FILTERS_REMOVE"})},[r,e]),h=f.useCallback(g=>{r({filterKey:c,type:"TERMS_FILTERS_SET_VALUE",value:g})},[r,c]),p=f.useCallback(g=>{n(g)},[]),m=s==null?void 0:s.inputComponent;return t?u.jsx(IRn,{padding:4}):u.jsx(sb,{onCatch:p,children:u.jsx(ec,{autoFocus:!V0,returnFocus:!0,children:u.jsxs(U,{direction:"column-reverse",children:[m&&u.jsx(te,{borderTop:!0,padding:3,children:u.jsx(m,{fieldDefinition:l,onChange:h,value:e.value},e.operatorType)}),u.jsx(te,{padding:3,children:u.jsxs(ee,{space:3,children:[u.jsxs(U,{align:"flex-start",gap:3,justify:"space-between",children:[u.jsx(L,{paddingLeft:1,paddingRight:2,paddingY:1,children:u.jsx(oPe,{filter:e})}),a&&u.jsx(fe,{icon:Kr,mode:"bleed",onClick:d,tone:"critical",tooltipProps:{content:"Remove filter"}})]}),(o==null?void 0:o.description)&&u.jsx(te,{border:!0,padding:3,radius:2,tone:"transparent",children:u.jsx(N,{muted:!0,size:1,children:o.description})}),u.jsx($Rn,{filter:e,operator:s})]})})]})})})}const MRn=R(U)`
  max-width: 480px;
  min-width: 150px;
  overflow: hidden;
  overflow: clip;
  width: 100%;
`;function RRn({filter:e}){return u.jsxs(MRn,{direction:"column",children:[u.jsx(ORn,{filter:e}),DMe]})}const PRn=R(St)`
  border-radius: ${({theme:e})=>`0 ${Se(e.sanity.radius[2])} ${Se(e.sanity.radius[2])} 0`};
`,FRn=R(te)`
  position: absolute;
  right: 0;
`,NRn=R.div`
  align-items: center;
  display: inline-flex;
  max-width: 100%;
  position: relative;
`,LRn=R(St)`
  border: none;
  width: 100%;
`;function BRn({filter:e,initialOpen:t}){const[n,r]=f.useState(t),[i,a]=f.useState(null),o=f.useRef(null),{dispatch:s,state:{definitions:l,fullscreen:c}}=Qt(),{t:d}=Y(),h=f.useCallback(()=>r(!1),[]),p=f.useCallback(()=>r(!0),[]),m=f.useCallback(()=>s({filterKey:Uo(e),type:"TERMS_FILTERS_REMOVE"}),[s,e]),g=f.useCallback(b=>{["Backspace","Delete"].includes(b.key)&&m()},[m]);yn(h,()=>[i,o.current]);const v=R_({fieldDefinitions:l.fields,filter:e,filterDefinitions:l.filters,operatorDefinitions:l.operators});return u.jsx(Fn,{__unstable_margins:[A_,0,0,0],content:u.jsx(Sq,{anchorElement:i,onClose:h,children:u.jsx(RRn,{filter:e})}),constrainSize:!0,open:n,overflow:"auto",placement:"bottom-start",portal:!0,radius:Jb,ref:o,children:u.jsxs(NRn,{children:[u.jsx(te,{__unstable_focusRing:!0,display:"flex",radius:2,tone:v?"primary":"transparent",children:u.jsx(LRn,{mode:"bleed",onClick:p,onKeyDown:g,paddingLeft:c?3:2,paddingRight:c?3:5,paddingY:c?3:2,ref:a,children:u.jsx(lPe,{filter:e,showContent:v})})}),!c&&u.jsx(FRn,{__unstable_focusRing:!0,display:"flex",radius:2,tone:v?"primary":"transparent",children:u.jsx(PRn,{"aria-label":d("search.action.remove-filter-aria-label"),fontSize:1,icon:Rr,mode:"bleed",onClick:m,onKeyDown:g,padding:2,radius:2})})]})})}function _q({showTypeFilter:e=!0}){const{dispatch:t,state:{filters:n,fullscreen:r,lastAddedFilter:i,terms:{types:a}}}=Qt(),{t:o}=Y(),s=f.useRef(!1),l=f.useCallback(()=>{e&&t({type:"TERMS_TYPES_CLEAR"}),t({type:"TERMS_FILTERS_CLEAR"})},[t,e]),c=n.length>0||e&&a.length>0;f.useEffect(()=>{s.current=!0},[]);const d=i&&Uo(i),h=()=>u.jsx(fe,{mode:"bleed",onClick:l,size:r?"large":"default",text:o("search.action.clear-filters"),tone:"critical"});return u.jsxs(u.Fragment,{children:[u.jsxs(U,{align:"flex-start",gap:3,justify:"space-between",padding:2,children:[u.jsxs(U,{flex:1,gap:2,wrap:"wrap",children:[e&&u.jsx(ARn,{}),n==null?void 0:n.map(p=>{const m=Uo(p);return u.jsx(BRn,{filter:p,initialOpen:s.current&&d===m},m)}),!r&&u.jsx(nfe,{})]}),c&&!r&&u.jsx(h,{})]}),r&&u.jsxs(U,{justify:"space-between",paddingBottom:2,paddingX:2,children:[u.jsx(nfe,{}),c&&u.jsx(h,{})]}),DMe]})}const VRn=Np`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,zRn=R(Zy)`
  animation: ${VRn} 500ms linear infinite;
`,URn=R.div`
  line-height: 0;
  position: relative;
`,Eq=f.forwardRef(function({ariaInputLabel:e,onClose:t},n){const r=f.useRef(!1),{t:i}=Y(),{dispatch:a,state:{filters:o,filtersVisible:s,fullscreen:l,result:{loading:c},terms:d}}=Qt(),{types:h,query:p}=d,m=j_({terms:d}),g=i(e||m?"search.search-results-aria-label":"search.recent-searches-aria-label"),v=f.useCallback(()=>a({type:"FILTERS_VISIBLE_SET",visible:!s}),[a,s]),b=f.useCallback(w=>a({type:"TERMS_QUERY_SET",query:w.currentTarget.value}),[a]),y=f.useCallback(()=>{a({type:"TERMS_QUERY_SET",query:""})},[a]);f.useEffect(()=>{l||a({type:"FILTERS_VISIBLE_SET",visible:!0})},[a,l]),f.useEffect(()=>{r.current=!0},[]);const x=o.length>0||h.length>0;return u.jsx(te,{flex:"none",children:u.jsxs(U,{align:"center",flex:1,gap:l?2:1,padding:l?2:1,children:[l&&u.jsx(fe,{"aria-label":i("search.action.close-search-aria-label"),icon:Gy,mode:"bleed",onClick:t,size:"large",tooltipProps:{content:i("search.action.close-search-aria-label")}}),u.jsx(L,{flex:1,children:u.jsx(iq,{__unstable_disableFocusRing:!0,$background:l,$smallClearButton:l,"aria-label":g,autoComplete:"off",border:!1,clearButton:!!p,fontSize:[2,2,1],icon:c?zRn:Ca,onChange:b,onClear:y,placeholder:i("search.placeholder"),radius:2,ref:n,spellCheck:!1,value:p})}),l&&u.jsx(URn,{children:u.jsx(F_,{"aria-expanded":s,"aria-label":i("search.action.toggle-filters-aria-label",{context:s?"hide":"show"}),icon:lD,mode:"bleed",onClick:v,selected:s,size:"large",tone:x?"primary":void 0,tooltipProps:{content:i("search.action.toggle-filters-label",{context:s?"hide":"show"})}})})]})})}),HRn=Ki(`mod+${$Me}`),WRn=Ki("escape");function GRn({open:e,onClose:t,onOpen:n}){const{isTopLayer:r}=Ds(),i=f.useCallback(()=>{t==null||t()},[t]),a=f.useCallback(o=>{HRn(o)&&(o.preventDefault(),e?i():n==null||n()),WRn(o)&&e&&r&&i()},[i,r,e,n]);Xo(a)}function uPe({children:e,hasValidTerms:t,onClose:n,onOpen:r,open:i}){const a=f.useRef(!1),{dispatch:o,searchCommandList:s,setOnClose:l,state:{result:c}}=Qt(),d=f.useCallback(()=>{var h;o({index:(h=s==null?void 0:s.getTopIndex())!=null?h:-1,type:"LAST_ACTIVE_INDEX_SET"}),n()},[o,n,s]);return GRn({onClose:d,onOpen:r,open:i}),f.useEffect(()=>{l(d)},[d,l]),f.useEffect(()=>{(!t||c.loaded)&&a.current&&o({index:0,type:"LAST_ACTIVE_INDEX_SET"})},[o,t,c.loaded]),f.useEffect(()=>{!t&&a.current&&!i&&o({type:"ORDERING_RESET"})},[o,t,i]),f.useEffect(()=>{a!=null&&a.current||(a.current=!0)},[]),e}const YRn=3;function cPe(e,t){var n;const r=jM(e).map(s=>s.name),{documentTypes:i,objectTypes:a}=(((n=e._original)==null?void 0:n.types)||[]).filter(s=>rfe(s)?r.includes(s.name):!0).filter(s=>s.name!=="slug").filter(s=>!s.name.startsWith("sanity.")).reduce((s,l)=>(rfe(l)&&(s.documentTypes[l.name]=l),hPe(l)&&(s.objectTypes[l.name]=l),s),{documentTypes:{},objectTypes:{}})||{documentTypes:{},objectTypes:{}},o=rEn(t);return KRn(o,i,a)}function dPe(e){return e.reduce((t,n)=>(t[n.id]=n,t),{})}function qRn(e){return[e.type,e.fieldPath,e.filterName,e.documentTypes.join(",")].join("-")}function KRn(e,t,n){function r({acc:i,defType:a,depth:o=0,documentType:s,prevFieldPath:l,prevTitlePath:c}){var d;const h=o<=YRn,p=a.name.startsWith("_"),m=a!=null&&a.title?sPe(a.title):Rn(a.name),g=l?`${l}.${a.name}`:a.name,v=c?[...c,m]:[m];if(!h)return;const b=n[a.type],y=t[a.type],x=hPe(a)?a:null,w=y||b||x;if(w){(d=w==null?void 0:w.fields)==null||d.forEach(C=>r({acc:i,defType:C,depth:o+1,documentType:s,prevFieldPath:g,prevTitlePath:v}));return}e.includes(a.type)&&i.push({documentTypes:s&&!p?[s]:[],fieldPath:g,filterName:ePn(a),id:"",name:a.name,titlePath:v,title:m,type:a.type})}return Object.values(t).reduce((i,a)=>{const o=a.fields.reduce((s,l)=>(r({acc:s,defType:l,documentType:a.name}),s),[]);return i.push(...o),i},[]).reduce((i,a)=>{const o=i.findIndex(s=>s.fieldPath===a.fieldPath&&s.title===a.title&&s.type===a.type);return o>-1?i[o]={...i[o],documentTypes:[...i[o].documentTypes,...a.documentTypes]}:i.push(a),i},[]).map(ZRn).sort(tPn)}function ZRn(e){return{...e,id:qRn(e)}}function XRn(e){var t;return fPe(e)?e.of.every(n=>["boolean","number","string"].includes(n.type))&&((t=e.options)!=null&&t.list?e.options.list.length>0:!1):!1}function fPe(e){return e.type==="array"}function rfe(e){return e.type==="document"}function hPe(e){return e.type==="object"}function JRn(e){return e.type==="string"}function QRn(e){var t;return JRn(e)&&(t=e.options)!=null&&t.list?e.options.list.length>0:!1}function ePn(e){if(QRn(e))return"stringList";if(fPe(e)){if(e.of.some(t=>t.type==="reference"))return"arrayReferences";if(e.of.find(t=>t.type==="block"))return"portableText";if(XRn(e))return"arrayList"}return e.type}function tPn(e,t){const n=e.titlePath.slice(0,-1).join("/"),r=t.titlePath.slice(0,-1).join("/");return e.title.localeCompare(t.title)||n.localeCompare(r)||e.fieldPath.localeCompare(t.fieldPath)}const pPe=2,nPn="studio.search.recent",sw={version:pPe,recentSearches:[]};function rPn(){const e=KOe(),t=Zt(Gt),{dataset:n}=t.config(),r=f.useMemo(()=>`${nPn}.${n}`,[n]),[i,a]=f.useState(sw),o=f.useMemo(()=>e.getKey(r),[e,r]);f.useEffect(()=>{const l=o.pipe(Vi(sw),de(c=>c?(c==null?void 0:c.version)!==pPe?(e.setKey(r,sw),sw):c:sw)).subscribe({next:a});return()=>l==null?void 0:l.unsubscribe()},[o,e,r]);const s=f.useCallback(l=>{a(l),e.setKey(r,l)},[e,r]);return f.useMemo(()=>[i,s],[s,i])}const iPn=5,mPe=2;function kq(){const[e,t]=rPn(),n=en(),{search:{operators:r,filters:i}}=Dn(),{fieldDefinitions:a,filterDefinitions:o,operatorDefinitions:s}=f.useMemo(()=>({fieldDefinitions:dPe(cPe(n,i)),filterDefinitions:AMe(i),operatorDefinitions:rPe(r)}),[i,r,n]);return{addSearch:(l,c)=>{const d=(c||[]).map(m=>({fieldId:m.fieldId,filterName:m.filterName,operatorType:m.operatorType,value:m.value})).filter(m=>R_({fieldDefinitions:a,filter:m,filterDefinitions:o,operatorDefinitions:s})),h={created:new Date().toISOString(),filters:d,terms:{query:l.query.trim(),typeNames:l.types.map(m=>m.name)}},p={version:mPe,recentSearches:[h,...e.recentSearches.filter(m=>!wt(Pa(m,"created"),Pa(h,"created")))].slice(0,iPn)};return t(p),lw({fieldDefinitions:a,filterDefinitions:o,operatorDefinitions:s,schema:n,storedSearch:p,setStoredSearch:t})},getRecentSearches:()=>lw({fieldDefinitions:a,filterDefinitions:o,operatorDefinitions:s,schema:n,storedSearch:e,setStoredSearch:t}),removeSearch:()=>{const l={...e,recentSearches:[]};return t(l),lw({fieldDefinitions:a,filterDefinitions:o,operatorDefinitions:s,schema:n,storedSearch:l,setStoredSearch:t})},removeSearchAtIndex:l=>{if(l<0||l>e.recentSearches.length)return lw({fieldDefinitions:a,filterDefinitions:o,operatorDefinitions:s,schema:n,storedSearch:e,setStoredSearch:t});const c={...e,recentSearches:[...e.recentSearches.slice(0,l),...e.recentSearches.slice(l+1)]};return t(c),lw({fieldDefinitions:a,filterDefinitions:o,operatorDefinitions:s,schema:n,storedSearch:c,setStoredSearch:t})}}}function lw({schema:e,fieldDefinitions:t,filterDefinitions:n,operatorDefinitions:r,storedSearch:i,setStoredSearch:a}){return aPn({studioSchema:e,filterDefinitions:n,fieldDefinitions:t,operatorDefinitions:r,storedSearch:i,setStoredSearch:a}).recentSearches.filter(o=>!!o.terms).map((o,s)=>({__recent:{index:s,timestamp:new Date(o.created).getTime()},filters:o.filters,query:o.terms.query,types:o.terms.typeNames.map(l=>e.get(l)).filter(l=>!!(l&&l.jsonType==="object"))}))}function aPn({fieldDefinitions:e,filterDefinitions:t,operatorDefinitions:n,studioSchema:r,storedSearch:i,setStoredSearch:a}){const o=jM(r).map(c=>c.name),s=i.recentSearches.filter(c=>c.terms.typeNames.every(d=>o.includes(d))&&c.filters.every(d=>R_({fieldDefinitions:e,filter:d,filterDefinitions:t,operatorDefinitions:n}))),l={version:mPe,recentSearches:s};return l.recentSearches.length<i.recentSearches.length&&a(l),l}function oPn(){const{t:e}=Y();return u.jsx(U,{align:"center",direction:"column",gap:4,paddingX:4,paddingY:5,children:u.jsx(An,{space:3,children:u.jsx(N,{muted:!0,children:u.jsx(ht,{t:e,i18nKey:"search.instructions",components:{ControlsIcon:()=>u.jsx(lD,{style:{padding:"0 0.25rem"}},0)}})})})})}function sPn({availableCharacters:e,types:t}){const{t:n}=Y(),r=f.useMemo(()=>RMe({availableCharacters:e,types:t,t:n}),[e,t,n]);return u.jsx(te,{border:!0,padding:2,radius:2,children:u.jsx(N,{muted:!0,size:1,children:r})})}const lPn=R(te)`
  cursor: default;
`;function uPn({filter:e}){return u.jsx(lPn,{border:!0,padding:2,radius:2,tone:"primary",children:u.jsx(lPe,{filter:e})})}const cPn=40,gPe=R(St)`
  border-radius: ${({theme:e})=>Se(e.sanity.radius[2])};
  cursor: default;
  width: 100%;
`,dPn=R(L)`
  flex-shrink: 3;
`,fPn=R(U)`
  flex-shrink: 2;
`,hPn=R.div`
  opacity: 0.8;
  visibility: hidden;

  @media (hover: hover) {
    ${gPe}:hover & {
      visibility: visible;
    }
    &:hover {
      opacity: 0.4;
    }
  }
`;function pPn({index:e,maxVisibleTypePillChars:t=cPn,value:n,...r}){var i;const{dispatch:a}=Qt(),o=kq(),s=t-n.query.length,l=f.useCallback(()=>{a({type:"TERMS_SET",filters:n==null?void 0:n.filters,terms:n}),o&&(o==null||o.addSearch(n,n==null?void 0:n.filters))},[a,o,n]),c=f.useCallback(d=>{d.stopPropagation(),o&&(o==null||o.removeSearchAtIndex(e))},[e,o]);return u.jsx(L,{...r,children:u.jsx(gPe,{mode:"bleed",onClick:l,paddingLeft:3,paddingRight:1,paddingY:1,tabIndex:-1,children:u.jsxs(U,{align:"stretch",children:[u.jsxs(An,{paddingY:2,children:[u.jsx(N,{muted:!0,size:1,children:u.jsx(oD,{})}),u.jsx(N,{children:"​"})]}),u.jsxs(U,{align:"stretch",flex:1,gap:2,justify:"flex-start",marginLeft:3,wrap:"wrap",children:[n.query&&u.jsx(fPn,{align:"center",paddingY:2,children:u.jsx(N,{muted:!0,size:1,textOverflow:"ellipsis",weight:"medium",children:n.query})}),n.types.length>0&&u.jsx(dPn,{children:u.jsx(sPn,{availableCharacters:s,types:n.types})}),(i=n==null?void 0:n.filters)==null?void 0:i.map((d,h)=>u.jsx(uPn,{filter:d},h))]}),u.jsx(U,{align:"center",children:u.jsx(hPn,{onClick:c,children:u.jsx(U,{padding:2,children:u.jsx(N,{size:1,children:u.jsx(Rr,{})})})})})]})})})}const mPn=36,gPn=20,vPn=40,yPn=R(te)`
  overflow-x: hidden;
  overflow-y: auto;
  position: relative;
`;function vPe({inputElement:e}){const{dispatch:t,state:{filtersVisible:n,fullscreen:r}}=Qt(),i=kq(),a=f.useMemo(()=>i==null?void 0:i.getRecentSearches(),[i]),o=f.useRef(null),{t:s}=Y(),l=f.useCallback(()=>{var m;i&&i.removeSearch(),(m=o==null?void 0:o.current)==null||m.focusInputElement()},[i]),c=w0(),d=f.useMemo(()=>c<2?gPn:vPn,[c]),h=f.useCallback((m,{virtualIndex:g})=>u.jsx(pPn,{index:g,maxVisibleTypePillChars:d,paddingBottom:1,value:m}),[d]),p=!!a.length;return u.jsx(yPn,{borderTop:p||!p&&!n&&r,flex:1,children:a.length>0?u.jsxs(u.Fragment,{children:[u.jsx(L,{paddingBottom:2,paddingTop:4,paddingX:3,children:u.jsx(N,{muted:!0,size:1,weight:"medium",children:s("search.recent-searches-label")})}),u.jsx(L,{children:u.jsx(fd,{activeItemDataAttr:"data-hovered",ariaLabel:s("search.recent-searches-aria-label"),inputElement:e,initialIndex:0,itemHeight:mPn,items:a,paddingX:2,paddingY:1,renderItem:h})}),u.jsx(L,{paddingBottom:2,paddingTop:1,paddingX:2,children:u.jsx(fe,{mode:"bleed",onClick:l,tone:"default",text:s("search.action.clear-recent-searches"),muted:!0})})]}):!n&&r&&u.jsx(oPn,{})})}function bPn(){const{t:e}=Y();return u.jsx(si,{width:0,children:u.jsxs(ee,{"aria-live":"assertive",space:4,paddingX:4,paddingY:5,children:[u.jsx(N,{align:"center",muted:!0,size:1,weight:"medium",children:e("search.no-results-title")}),u.jsx(N,{align:"center",muted:!0,size:1,children:e("search.no-results-help-description")})]})})}const xPn=R(N)`
  &:not([data-muted]) {
    &[data-tone='default'] {
      --card-fg-color: var(--card-badge-default-fg-color);
    }
    &[data-tone='primary'] {
      --card-fg-color: var(--card-badge-primary-fg-color);
    }
    &[data-tone='positive'] {
      --card-fg-color: var(--card-badge-positive-fg-color);
    }
    &[data-tone='caution'] {
      --card-fg-color: var(--card-badge-caution-fg-color);
    }
    &[data-tone='critical'] {
      --card-fg-color: var(--card-badge-critical-fg-color);
    }
  }

  &[data-dimmed] {
    opacity: 0.3;
  }
`,qr=f.forwardRef(function(e,t){const{tone:n,dimmed:r,muted:i,...a}=e;return u.jsx(xPn,{"data-ui":"TextWithTone","data-dimmed":r?"":void 0,"data-muted":i?"":void 0,"data-tone":n,muted:i,ref:t,...a})});function wPn(){const{t:e}=Y();return u.jsxs(U,{align:"center","aria-live":"assertive",direction:"column",flex:1,gap:3,marginY:2,padding:4,children:[u.jsx(L,{marginBottom:1,children:u.jsx(qr,{tone:"critical",children:u.jsx(fr,{})})}),u.jsx(qr,{size:2,tone:"critical",weight:"medium",children:e("search.error.unspecified-error-title")}),u.jsx(qr,{size:1,tone:"critical",children:e("search.error.unspecified-error-help-description")})]})}const Tq=({enableLegacySearch:e})=>({createdAsc:{ignoreScore:!0,sort:{direction:"asc",field:"_createdAt"},titleKey:"search.ordering.created-ascending-label"},createdDesc:{ignoreScore:!0,sort:{direction:"desc",field:"_createdAt"},titleKey:"search.ordering.created-descending-label"},relevance:{customMeasurementLabel:"relevance",...e?{sort:{direction:"desc",field:"_updatedAt"}}:{},titleKey:"search.ordering.best-match-label"},updatedAsc:{ignoreScore:!0,sort:{direction:"asc",field:"_updatedAt"},titleKey:"search.ordering.updated-ascending-label"},updatedDesc:{ignoreScore:!0,sort:{direction:"desc",field:"_updatedAt"},titleKey:"search.ordering.updated-descending-label"}}),CPn=R(U)`
  box-sizing: border-box;
`;function ife(e){return e.type==="divider"}function SPn({ordering:e}){const{t}=Y(),{dispatch:n,state:{ordering:r}}=Qt(),i=f.useCallback(()=>{n({ordering:e,type:"ORDERING_SET"})},[n,e]),a=f.useMemo(()=>wt(r,e),[r,e]);return u.jsx(We,{onClick:i,pressed:a,tone:"default",text:t(e.titleKey)})}function _Pn(){const{t:e}=Y(),{enableLegacySearch:t=!1}=Fr().search,{state:{ordering:n}}=Qt(),r=f.useId(),i=f.useMemo(()=>{const o=Tq({enableLegacySearch:t});return[o.relevance,{type:"divider"},o.createdAsc,o.createdDesc,{type:"divider"},o.updatedAsc,o.updatedDesc]},[t]),a=i.find(o=>wt(n,o)&&!ife(o));return a?u.jsx(te,{borderBottom:!0,children:u.jsx(CPn,{align:"center",flex:1,padding:2,children:u.jsx(Kt,{button:u.jsx(fe,{mode:"bleed",icon:Z1,text:e(a.titleKey)}),id:r||"",menu:u.jsx(Ot,{children:i.map((o,s)=>ife(o)?u.jsx(ur,{},s):u.jsx(SPn,{ordering:o},s))}),placement:"bottom-start",popover:{portal:!0,radius:2}})})}):null}const EPn=R(te)`
  cursor: help;
  left: 0;
  position: absolute;
  top: 0;
`;function kPn({data:e}){const{score:t}=e;let n="default";t<=.1?n="critical":t>=.5&&(n="primary");const r=e.stories.filter(i=>i.score>0);return u.jsx(u.Fragment,{children:u.jsx(gt,{content:u.jsx(ee,{space:2,children:r.length?u.jsx(u.Fragment,{children:r.map(i=>u.jsxs(An,{space:3,children:[u.jsx(fi,{size:0,weight:"medium",children:i.path}),u.jsx(fi,{size:0,children:i.why})]},i.path))}):u.jsx(fi,{size:0,children:"No matches"})}),placement:"bottom-start",portal:!0,children:u.jsx(EPn,{padding:1,shadow:1,tone:n,children:u.jsxs(fi,{size:0,children:["score: ",t]})})})})}const TPn=57,APn=4,jPn=R(U)`
  opacity: ${({$loading:e})=>e?.5:1};
  overflow-x: hidden;
  overflow-y: auto;
  position: relative;
  transition: 300ms opacity;
  width: 100%;
`;function yPe({disableIntentLink:e,inputElement:t,onItemSelect:n}){const{dispatch:r,onClose:i,setSearchCommandList:a,state:{debug:o,filters:s,fullscreen:l,lastActiveIndex:c,result:d,terms:h}}=Qt(),{t:p}=Y(),m=kq(),g=!!d.hits.length,v=!d.hits.length&&d.loaded,b=d.error,y=f.useCallback(()=>{m&&m.addSearch(h,s),i==null||i()},[s,i,m,h]),x=f.useCallback(()=>{r({type:"PAGE_INCREMENT"})},[r]),w=f.useCallback(C=>u.jsxs(u.Fragment,{children:[u.jsx(eq,{disableIntentLink:e,documentId:fn(C.hit._id)||"",documentType:C.hit._type,onClick:y,onItemSelect:n,paddingY:1}),o&&u.jsx(kPn,{data:C})]}),[o,e,y,n]);return u.jsx(U,{children:u.jsx(te,{borderTop:l||!!(b||g||v),flex:1,children:u.jsxs(U,{direction:"column",height:"fill",children:[g&&u.jsx(_Pn,{}),u.jsx(jPn,{$loading:d.loading,"aria-busy":d.loading,flex:1,children:b?u.jsx(wPn,{}):u.jsxs(u.Fragment,{children:[g&&u.jsx(fd,{activeItemDataAttr:"data-hovered",ariaLabel:p("search.search-results-label"),"data-testid":"search-results",fixedHeight:!0,initialIndex:c,inputElement:t,itemHeight:TPn,items:d.hits,overscan:APn,onEndReached:x,paddingX:2,paddingY:1,ref:a,renderItem:w}),v&&u.jsx(bPn,{})]})})]})})})}const afe={duration:.4,type:"spring"},IPn={open:{opacity:1,scale:1,x:"-50%"},closed:{opacity:0,scale:.99,x:"-50%"}},DPn={open:{opacity:1},closed:{opacity:0}},ofe=12,$Pn=R(Di(te))`
  background-color: var(--card-backdrop-color);
  bottom: 0;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
`,OPn=R(Di(te))`
  display: flex !important;
  flex-direction: column;
  left: 50%;
  max-height: min(
    calc(100vh - ${ofe}vh - ${U7}px),
    ${fEn}px
  );
  position: absolute;
  top: ${ofe}vh;
  width: min(calc(100vw - ${U7*2}px), ${hEn}px);
`;function bPe({disableFocusLock:e,disableIntentLink:t,onClose:n,onItemSelect:r,onOpen:i,open:a}){const[o,s]=f.useState(null),l=f.useRef(null),{isTopLayer:c,zIndex:d}=Ds();Y();const{onClose:h,state:{filtersVisible:p,terms:m}}=Qt(),g=j_({terms:m});return yn(c&&a&&!!h&&h,()=>[l.current]),u.jsx(uPe,{hasValidTerms:g,onClose:n,onOpen:i,open:a,children:u.jsx(hl,{children:a&&u.jsx(Yp,{children:u.jsxs(ec,{autoFocus:!V0,disabled:e,returnFocus:!0,children:[u.jsx($Pn,{animate:"open",exit:"closed",initial:"closed",style:{zIndex:d},transition:afe,variants:DPn}),u.jsxs(OPn,{animate:"open",exit:"closed",initial:"closed",overflow:"hidden",radius:Jb,ref:l,shadow:2,style:{zIndex:d},transition:afe,variants:IPn,children:[u.jsx(Eq,{onClose:n,ref:s}),p&&u.jsx(te,{borderTop:!0,flex:"none",children:u.jsx(_q,{})}),g?u.jsx(yPe,{inputElement:o,onItemSelect:r,disableIntentLink:t}):u.jsx(vPe,{inputElement:o})]})]})})})})}function xPe(e){return typeof e.__recent<"u"}const s9="core:studio:navbar:search:";hi(s9);function MPn(e){const t=`${s9}${e}`;return hi&&hi.enabled(t)?hi(t):hi(s9)}function RPn(){return typeof window>"u"?!1:window.location.hash.slice(1).split(";").includes(uEn)}function PPn({currentUser:e,fullscreen:t,definitions:n,pagination:r,enableLegacySearch:i}){return{currentUser:e,debug:RPn(),documentTypesNarrowed:[],filters:[],filtersVisible:!0,fullscreen:t,lastActiveIndex:-1,ordering:Tq({enableLegacySearch:i}).relevance,...r,result:{error:null,hasLocal:!1,hits:[],loaded:!1,loading:!1},terms:{query:"",types:[]},definitions:n,enableLegacySearch:i}}const FPn=MPn("reducer");function NPn(e,t){var n,r;let i="🔍";switch(t.type.startsWith("SEARCH_REQUEST")&&(i="🚨"),t.type.startsWith("RECENT_SEARCHES")&&(i="💾"),FPn(i,t),t.type){case"FILTERS_VISIBLE_SET":return{...e,filtersVisible:t.visible};case"LAST_ACTIVE_INDEX_SET":return{...e,lastActiveIndex:t.index};case"ORDERING_RESET":return{...e,ordering:Tq({enableLegacySearch:e.enableLegacySearch}).relevance,terms:xm(e.terms),result:{...e.result,hasLocal:!1}};case"ORDERING_SET":return{...e,ordering:t.ordering,terms:xm(e.terms),result:{...e.result,hasLocal:!1}};case"PAGE_INCREMENT":return{...e,cursor:(n=e.nextCursor)!=null?n:e.cursor,nextCursor:null,terms:xm(e.terms)};case"SEARCH_CLEAR":return{...e,cursor:null,nextCursor:null,result:{...e.result,hasLocal:!1,hits:[]}};case"SEARCH_REQUEST_COMPLETE":return{...e,nextCursor:(r=t.nextCursor)!=null?r:null,result:{...e.result,error:null,hasLocal:!0,hits:e.result.hasLocal?LPn([...e.result.hits,...t.hits]):t.hits,loaded:!0,loading:!1}};case"SEARCH_REQUEST_ERROR":return{...e,result:{...e.result,error:t.error,loaded:!1,loading:!1}};case"SEARCH_REQUEST_START":return{...e,result:{...e.result,loaded:!1,loading:!0}};case"TERMS_FILTERS_ADD":{const a={...t.filter,value:JMn(e.definitions.operators,t.filter.operatorType)},o=[...e.filters,a];return{...e,documentTypesNarrowed:bm({fieldDefinitions:e.definitions.fields,filters:o,types:e.terms.types}),filters:o,lastAddedFilter:a,terms:{...e.terms,filter:ym({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:o,operatorDefinitions:e.definitions.operators})},result:{...e.result,hasLocal:!1}}}case"TERMS_FILTERS_CLEAR":{const a=[];return{...e,documentTypesNarrowed:bm({fieldDefinitions:e.definitions.fields,filters:a,types:e.terms.types}),filters:a,terms:{...e.terms,filter:ym({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:a,operatorDefinitions:e.definitions.operators})},result:{...e.result,hasLocal:!1}}}case"TERMS_FILTERS_REMOVE":{const a=e.filters.findIndex(s=>Uo(s)===t.filterKey),o=[...e.filters.slice(0,a),...e.filters.slice(a+1)];return{...e,documentTypesNarrowed:bm({fieldDefinitions:e.definitions.fields,filters:o,types:e.terms.types}),filters:o,terms:{...e.terms,filter:ym({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:o,operatorDefinitions:e.definitions.operators})},result:{...e.result,hasLocal:!1}}}case"TERMS_FILTERS_SET_OPERATOR":{const a=e.filters.find(h=>Uo(h)===t.filterKey),o=Rp(e.definitions.operators,a==null?void 0:a.operatorType),s=Rp(e.definitions.operators,t.operatorType),l=s==null?void 0:s.initialValue,c=(o==null?void 0:o.inputComponent)!=(s==null?void 0:s.inputComponent),d=e.filters.map(h=>Uo(h)===t.filterKey?{...h,operatorType:t.operatorType,...c?{value:l}:{}}:h);return{...e,filters:d,terms:{...e.terms,filter:ym({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:d,operatorDefinitions:e.definitions.operators})},result:{...e.result,hasLocal:!1}}}case"TERMS_FILTERS_SET_VALUE":{const a=e.filters.map(o=>Uo(o)===t.filterKey?{...o,value:t.value}:o);return{...e,filters:a,terms:{...e.terms,filter:ym({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:a,operatorDefinitions:e.definitions.operators})},result:{...e.result,hasLocal:!1}}}case"TERMS_QUERY_SET":return{...e,cursor:null,nextCursor:null,result:{...e.result,loaded:!1,hasLocal:!1},terms:xm({...e.terms,query:t.query})};case"TERMS_SET":{const a=t.filters||[],o=[...e.terms.types||[],...t.terms.types].sort(H7);return{...e,documentTypesNarrowed:bm({fieldDefinitions:e.definitions.fields,filters:a,types:o}),filters:a,lastAddedFilter:null,cursor:null,nextCursor:null,result:{...e.result,loaded:!1,hasLocal:!1},terms:{...t.terms,filter:ym({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:a,operatorDefinitions:e.definitions.operators})}}}case"TERMS_TYPE_ADD":{const a=[...e.terms.types||[],t.schemaType].sort(H7),o=bm({fieldDefinitions:e.definitions.fields,filters:[],types:a}),s=e.filters.filter(l=>{const c=Of(e.definitions.fields,l);return c?c.documentTypes.length===0?!0:o.every(d=>c.documentTypes.findIndex(h=>h===d)>-1):!0});return{...e,documentTypesNarrowed:o,filters:s,cursor:null,nextCursor:null,result:{...e.result,loaded:!1,hasLocal:!1},terms:xm({...e.terms,filter:ym({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,operatorDefinitions:e.definitions.operators,filters:s}),types:a})}}case"TERMS_TYPE_REMOVE":{const a=(e.terms.types||[]).filter(o=>o!==t.schemaType);return{...e,documentTypesNarrowed:bm({fieldDefinitions:e.definitions.fields,filters:e.filters,types:a}),cursor:null,nextCursor:null,result:{...e.result,loaded:!1,hasLocal:!1},terms:xm({...e.terms,types:a})}}case"TERMS_TYPES_CLEAR":{const a=[];return{...e,documentTypesNarrowed:bm({fieldDefinitions:e.definitions.fields,filters:e.filters,types:a}),cursor:null,nextCursor:null,result:{...e.result,loaded:!1,hasLocal:!1},terms:xm({...e.terms,types:[]})}}default:return e}}function xm(e){if(xPe(e)){const{__recent:t,...n}=e;return n}return e}function LPn(e){const t=e.reduce((n,r)=>{const i=fn(r.hit._id);return{...n,[i]:r}},{});return Object.values(t)}function Aq({children:e,fullscreen:t}){const n=f.useRef(null),[r,i]=f.useState(null),a=en(),o=Kn(),{search:{operators:s,filters:l,enableLegacySearch:c}}=Dn(),{fieldDefinitions:d,filterDefinitions:h,operatorDefinitions:p}=f.useMemo(()=>({fieldDefinitions:dPe(cPe(a,l)),filterDefinitions:AMe(l),operatorDefinitions:rPe(s)}),[l,s,a]),m=f.useMemo(()=>PPn({currentUser:o,fullscreen:t,definitions:{fields:d,operators:p,filters:h},pagination:{cursor:null,nextCursor:null},enableLegacySearch:c}),[o,d,h,t,p,c]),[g,v]=f.useReducer(NPn,m),{documentTypesNarrowed:b,filters:y,ordering:x,cursor:w,result:C,terms:S}=g,_=f.useRef(!1),E=f.useRef(m.ordering),k=f.useRef(m.cursor),T=f.useRef(m.terms),{handleSearch:j,searchState:I}=OMe({initialState:{...C,terms:S},onComplete:O=>v({...O,type:"SEARCH_REQUEST_COMPLETE"}),onError:O=>v({error:O,type:"SEARCH_REQUEST_ERROR"}),onStart:()=>v({type:"SEARCH_REQUEST_START"}),schema:a}),A=j_({terms:S}),$=b.map(O=>a.get(O)),D=y.filter(O=>R_({fieldDefinitions:d,filter:O,filterDefinitions:h,operatorDefinitions:p})),M=f.useCallback(O=>{n.current=O},[]);return f.useEffect(()=>{var O,F;const P=!wt(x,E.current),V=w!==k.current,H=!wt(S,T.current);if(P||V||H){let W="findability-sort:";(x!=null&&x.customMeasurementLabel||x.sort)&&(W+=(x==null?void 0:x.customMeasurementLabel)||`${(O=x.sort)==null?void 0:O.field} ${(F=x.sort)==null?void 0:F.direction}`),j({options:{comments:[...xPe(S)?[`findability-recent-search:${S.__recent.index}`]:[],`findability-selected-types:${S.types.length}`,W,"findability-source: global",`findability-filter-count:${D.length}`],limit:cEn,skipSortByScore:x.ignoreScore,...x.sort?{sort:[x.sort]}:{},cursor:w||void 0},terms:{...S,...$?{types:$}:{}}}),k.current=w}E.current=x,T.current=S},[D.length,y,$,j,A,x,I.terms,S,w]),f.useEffect(()=>{!A&&_!=null&&_.current&&C.hits.length>0&&v({type:"SEARCH_CLEAR"}),_.current=!0},[v,A,C.hits,S.query,S.types]),u.jsx(bpe.Provider,{value:{dispatch:v,onClose:n==null?void 0:n.current,searchCommandList:r,setSearchCommandList:i,setOnClose:M,state:{...g,fullscreen:t}},children:e})}const sfe=f.forwardRef(function({onClick:e},t){const{t:n}=Y();return u.jsx(fe,{"aria-label":n("search.action-open-aria-label"),"data-testid":"studio-search",icon:Ca,tooltipProps:{content:n("search.button.tooltip"),hotkeys:[dEn,$Me.toUpperCase()],portal:!0},onClick:e,mode:"bleed",ref:t})}),BPn=R(te)`
  flex-direction: column;
  overflow: hidden;
  overflow: clip;
  pointer-events: all;
  position: relative;
`,VPn=R(L)`
  height: 100%;
  left: 0;
  overflow: hidden;
  overflow: clip;
  pointer-events: none;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 1;
`;function zPn({onClose:e,onOpen:t,open:n}){const[r,i]=f.useState(null),a=nh(),{state:{filtersVisible:o,terms:s}}=Qt(),l=j_({terms:s});return u.jsx(uPe,{hasValidTerms:l,onClose:e,onOpen:t,open:n,children:n&&u.jsx(Yp,{children:u.jsx(ec,{autoFocus:!V0,returnFocus:!0,children:u.jsx(VPn,{children:u.jsxs(BPn,{display:"flex",height:"fill",scheme:a,tone:"default",children:[u.jsx(Eq,{onClose:e,ref:i}),o&&u.jsx(te,{borderTop:!0,flex:"none",children:u.jsx(_q,{})}),l?u.jsx(yPe,{inputElement:r}):u.jsx(vPe,{inputElement:r})]})})})})})}function UPn(e){const{activeTool:t}=e;return f.createElement(t.component,{tool:t})}function HPn(){return u.jsx(te,{height:"fill",children:u.jsx(U,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:u.jsx(si,{width:0,children:u.jsx(te,{padding:4,radius:2,shadow:1,tone:"caution",children:u.jsxs(U,{children:[u.jsx(L,{children:u.jsx(N,{size:1,children:u.jsx(fr,{})})}),u.jsxs(ee,{flex:1,marginLeft:3,space:3,children:[u.jsx(N,{as:"h1",size:1,weight:"medium",children:"No configured tools"}),u.jsx(N,{as:"p",muted:!0,size:1,children:"Please configure a tool in your Studio configuration."}),u.jsx(N,{as:"p",muted:!0,size:1,children:u.jsx("a",{href:"https://www.sanity.io/docs/studio-tools",rel:"noreferrer",target:"_blank",children:"Learn how to add a tool →"})})]})]})})})})})}function WPn(e){const{reason:t="Redirecting…"}=e;return u.jsx(te,{height:"fill",children:u.jsx(U,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:u.jsx(si,{width:0,children:u.jsx(te,{padding:4,radius:2,shadow:1,tone:"primary",children:u.jsxs(U,{children:[u.jsx(L,{children:u.jsx(N,{size:1,children:u.jsx(cD,{})})}),u.jsx(ee,{flex:1,marginLeft:3,space:3,children:u.jsx(N,{as:"h1",size:1,weight:"bold",children:t})})]})})})})})}function GPn(e){const{toolName:t}=e;return u.jsx(te,{height:"fill",children:u.jsx(U,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:u.jsx(si,{width:0,children:u.jsx(te,{padding:4,radius:2,shadow:1,tone:"caution",children:u.jsxs(U,{children:[u.jsx(L,{children:u.jsx(N,{size:1,children:u.jsx(fr,{})})}),u.jsx(ee,{flex:1,marginLeft:3,space:3,children:u.jsxs(N,{as:"h1",size:1,weight:"medium",children:["Tool not found: ",u.jsx("code",{children:t})]})})]})})})})})}const wPe=()=>{if(typeof document>"u"||!("querySelectorAll"in document))return!1;const e=document.querySelectorAll('script[type="importmap"]');return Array.from(e).some(t=>t.textContent?"sanity"in(JSON.parse(t.textContent).imports||{}):!1)};function CPe(e){let t=[],n;const r=_Ae(e),i=async l=>n?a(l):(typeof n>"u"&&t.push(l),{}),a=async l=>r.send(l),o=async l=>{n=l,l&&await s(),t=[]},s=async()=>{await Promise.all(t.map(a)).catch(l=>{console.error("Failed to send buffered events from transport: ",l)})};return{flush:async()=>r.flush(),send:i,setConsent:o}}const SPe="https://8914c8dde7e1ebce191f15af8bf6b7b9@sentry.sanity.io/4507342122123264",YPn=!("__sanityErrorChannel"in xIe),_I=Bb&&!!localStorage.getItem("SANITY_DEBUG_ERROR_REPORTING"),qPn=typeof window<"u",lfe={dsn:SPe,release:Pl,environment:"production",debug:_I,enabled:qPn&&!gl,transport:CPe},ufe=[vAe(),gAe(),AAe({eventTarget:!1}),TAe({console:!1}),jAe({onerror:!0,onunhandledrejection:!0}),$Ae(),yAe(),e3n(),DAe()];function KPn(){let e,t;function n(){var s;if(e||!_I&&!wPe()||!_I&&YPn)return;const l=Dqt(),c=l&&((s=Sa())==null?void 0:s.getOptions().dsn)===SPe;if(l&&!c){e=Sa(),t=Jc();return}if(c){e=new CAe({...lfe,stackParser:EAe,integrations:ufe,beforeSend:cfe,transport:CPe}),t=new Af,t.setClient(e),e.init();return}AZt({...lfe,defaultIntegrations:!1,integrations:ufe,beforeSend:cfe}),e=Sa(),t=Jc()}function r(s,l={}){if(!e)return console.warn("[reportError] called before reporter is initialized, skipping"),null;const{reactErrorInfo:c={},errorBoundary:d}=l,{componentStack:h}=c,p={};h&&(p.react={componentStack:h});const m={handled:"no"};d&&(m.errorBoundary=d);let g=null;return aAe(()=>{if(h&&_Pe(s)){const v=new Error(s.message);v.name=`${d||"ErrorBoundary"} ${s.name}`,v.stack=h,JPn(s,v)}g=lAe(s,{mechanism:{handled:!1},captureContext:{contexts:p,tags:m}})}),g?{eventId:g}:null}function i(s){return!!s&&"setConsent"in s&&typeof s.setConsent=="function"}function a(){const s=e==null?void 0:e.getTransport();i(s)&&s.setConsent(!0)}function o(){const s=e==null?void 0:e.getTransport();i(s)&&s.setConsent(!1)}return{initialize:n,reportError:r,enable:a,disable:o}}const ZPn=Object.prototype.toString;function _Pe(e){switch(ZPn.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return XPn(e,Error)}}function XPn(e,t){try{return e instanceof t}catch{return!1}}function JPn(e,t){const n=new WeakMap;function r(i,a){if(!n.has(i)){if(_Pe(i.cause)){n.set(i,!0),r(i.cause,a);return}i.cause=a}}r(e,t)}function QPn(e){var t;for(const n of((t=e.exception)==null?void 0:t.values)||[])n.mechanism&&(n.mechanism.handled=!1)}function cfe(e){return QPn(e),e}function e3n(){const e=[];return{name:"SanityDedupe",processEvent(t){if(t.type)return t;try{if(t3n(t,e))return _I&&console.warn("[sanity/sentry] Dropping error from being reported because it is a duplicate"),null}catch{}return e.length>10&&e.shift(),e.push(t),t}}}function t3n(e,t){for(const n of t){const r=dfe(e),i=dfe(n);if(r&&i&&r!==i)continue;const a=Math.floor(e.timestamp||0),o=Math.floor(n.timestamp||0);if(Math.abs(a-o)<300)return!0}return!1}function dfe(e){if(e.message)return e.message;if(e.exception){for(const t of e.exception.values||[])if(t.value)return t.value}}const l9=KPn(),n3n="https://www.sanity.io/docs/workspaces",EPe=nm(e=>aa(e.map(t=>t.auth.state.pipe(de(n=>[t.name,n])))).pipe(de(t=>Object.fromEntries(t)))),u9={"logged-in":"","logged-out":"Signed out","no-access":""},r3n=R.div`
  width: ${e=>e.$size==="small"?"25px":"41px"};
  height: ${e=>e.$size==="small"?"25px":"41px"};

  svg {
    width: 100%;
    height: 100%;
  }
`,jq=({icon:e,size:t="small"})=>{const n=f.useMemo(()=>kPe(e),[e]);return u.jsx(r3n,{$size:t,children:n})},kPe=e=>{if(Sf.isValidElementType(e))return f.createElement(e);if(f.isValidElement(e))return e};function ffe(e){const{state:t,subtitle:n,selected:r,title:i,icon:a,iconRight:o}=e,s=f.useMemo(()=>kPe(o),[o]);return u.jsxs(U,{align:"center",flex:"none",gap:3,children:[u.jsx(jq,{icon:a,size:"small"}),u.jsxs(ee,{flex:1,space:2,children:[u.jsx(N,{size:1,textOverflow:"ellipsis",weight:"medium",children:i}),n&&u.jsx(N,{muted:!0,size:1,textOverflow:"ellipsis",children:n})]}),t&&u9[t]&&u.jsx(L,{paddingLeft:1,children:u.jsx(N,{size:1,muted:!0,textOverflow:"ellipsis",children:u9[t]})}),(r||s)&&u.jsxs(U,{align:"center",gap:4,paddingLeft:3,paddingRight:2,children:[r&&u.jsx(N,{children:u.jsx(_a,{})}),s&&u.jsx(N,{muted:!0,children:s})]})]})}const hfe=[{url:"https://slack.sanity.io/",i18nKey:"workspaces.community-title",title:"Community"},{url:"https://www.sanity.io/docs",i18nKey:"workspaces.docs-title",title:"Docs"},{url:"https://www.sanity.io/legal/privacy",i18nKey:"workspaces.privacy-title",title:"Privacy"},{url:"https://www.sanity.io",i18nKey:"workspaces.sanity-io-title",title:"sanity.io"}],i3n=R(N)`
  a {
    color: inherit;
  }
`;function pfe(e){const{children:t,footer:n,header:r}=e;return Y(),u.jsxs(ee,{space:6,children:[u.jsx(te,{border:!0,radius:3,overflow:"auto",children:u.jsxs(ee,{children:[typeof r=="object"&&u.jsx(L,{children:r}),typeof r=="string"&&u.jsx(L,{paddingY:4,children:u.jsx(zi,{align:"center",size:1,children:r})}),u.jsx(L,{paddingX:1,children:u.jsx(te,{borderTop:!!r,borderBottom:!!n,children:t})}),n&&u.jsx(L,{children:n})]})}),u.jsxs(U,{direction:"column",gap:4,justify:"center",align:"center",paddingBottom:4,children:[u.jsx(N,{size:3,children:u.jsx(FAe,{})}),u.jsx(U,{align:"center",gap:2,children:hfe.map((i,a)=>u.jsxs(f.Fragment,{children:[u.jsx(i3n,{muted:!0,size:1,children:u.jsx("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",children:i.title})}),a<hfe.length-1&&u.jsx(N,{size:1,muted:!0,children:"•"})]},i.title))})]})]})}function a3n(){var e;const t=g_(),{activeWorkspace:n,setActiveWorkspace:r}=X0(),[i]=EPe(t),[a,o]=f.useState((n==null?void 0:n.name)||null),s=t.length===1?t[0]:t.find(h=>h.name===a),l=(e=s==null?void 0:s.auth)==null?void 0:e.LoginComponent,c=f.useCallback(()=>o(null),[]),{t:d}=Y();return i?l&&s?u.jsxs(ee,{space:2,children:[t.length>1&&u.jsx(U,{children:u.jsx(fe,{icon:Gy,mode:"bleed",onClick:c,text:d("workspaces.action.choose-another-workspace")})}),u.jsx(pfe,{header:u.jsx(L,{padding:3,children:u.jsx(ffe,{icon:s.icon,title:s.title,subtitle:s==null?void 0:s.subtitle})}),children:u.jsx(ee,{padding:2,paddingBottom:3,paddingTop:4,children:u.jsx(l,{projectId:s.projectId,redirectPath:window.location.pathname.startsWith(s.basePath)?`${window.location.pathname}${window.location.search}`:s.basePath},a)})})]}):u.jsx(pfe,{header:d("workspaces.choose-your-workspace-label"),footer:u.jsx(ee,{padding:1,children:u.jsx(fe,{as:"a",href:n3n,icon:wa,mode:"bleed",rel:"noopener noreferrer",size:"large",target:"__blank",text:d("workspaces.action.add-workspace")})}),children:u.jsx(ee,{space:1,paddingX:1,paddingY:2,children:t.map(h=>{const p=i[h.name].authenticated?"logged-in":h.auth.LoginComponent?"logged-out":"no-access";return u.jsx(te,{as:"button",radius:2,padding:2,onClick:()=>{p==="logged-in"&&h.name!==n.name&&r(h.name),p==="logged-out"&&o(h.name)},children:u.jsx(ffe,{icon:h==null?void 0:h.icon,iconRight:no,state:p,subtitle:h==null?void 0:h.subtitle,title:(h==null?void 0:h.title)||h.name})},h.name)})})}):u.jsx(wn,{showText:!0})}const o3n=R(Ot)`
  max-width: 350px;
  min-width: 250px;
`,s3n={constrainSize:!0,fallbackPlacements:["bottom-end","bottom"],placement:"bottom-end"};function TPe(){const e=g_(),{activeWorkspace:t}=X0(),[n]=EPe(e),{t:r}=Y();if(!(e.length>1))return null;const i=!n;return u.jsx(Kt,{button:u.jsx(U,{children:u.jsx(gt,{content:r("workspaces.select-workspace-tooltip"),disabled:i,portal:!0,children:u.jsx(St,{disabled:i,mode:"bleed",padding:2,width:"fill",children:u.jsxs(U,{align:"center",gap:2,children:[u.jsx(L,{children:u.jsx(N,{size:1,textOverflow:"ellipsis",weight:"medium",children:t.title})}),u.jsx(N,{size:1,children:u.jsx(Ii,{})})]})})})}),id:"workspace-menu",menu:!i&&n?u.jsx(o3n,{children:e.map(a=>{const o=n[a.name].authenticated?"logged-in":a.auth.LoginComponent?"logged-out":"no-access",s=a.name===t.name;return u.jsx(We,{as:"a",href:a.basePath,badgeText:u9[o],iconRight:s?_a:void 0,pressed:s,preview:u.jsx(jq,{icon:a.icon,size:"small"}),selected:s,__unstable_subtitle:a.subtitle,__unstable_space:1,text:(a==null?void 0:a.title)||a.name},a.name)})}):void 0,popover:s3n})}function APe(){return u.jsx(te,{height:"fill",overflow:"auto",paddingX:4,children:u.jsx(U,{height:"fill",direction:"column",align:"center",justify:"center",paddingTop:4,children:u.jsx(si,{width:0,children:u.jsx(a3n,{})})})})}function l3n(){return u.jsx(u.Fragment,{children:"TODO: implement config errors screen"})}const u3n=R.label`
  clip: rect(0 0 0 0);
  clip-path: inset(50%);
  height: 1px;
  overflow: hidden;
  overflow: clip;
  position: absolute;
  white-space: nowrap;
  width: 1px;
`;function c3n(e){const{projectId:t}=e,n=window.location.origin,r=f.useMemo(()=>{const i=new URL(`https://sanity.io/manage/project/${t}/api`);return i.searchParams.set("cors","add"),i.searchParams.set("origin",n),i.searchParams.set("credentials",""),i.toString()},[n,t]);return f.useEffect(()=>{const i=()=>{window.location.reload()};return window.addEventListener("focus",i),()=>{window.removeEventListener("focus",i)}},[]),u.jsx(te,{height:"fill",children:u.jsx(Ui,{id:"cors-error-dialog",header:"Before you continue...",width:1,footer:{confirmButton:{text:"Continue",iconRight:Qc,as:"a",href:r,target:"_blank",rel:"noopener noreferrer",tone:"primary"}},children:u.jsxs(ee,{space:4,children:[u.jsxs(N,{children:["To access your content, you need to ",u.jsx("b",{children:"add the following URL as a CORS origin"})," to your Sanity project."]}),u.jsx(u3n,{"aria-hidden":"true",children:"CORS URL to be added"}),u.jsx(Zr,{value:n,readOnly:!0})]})})})}function jPe(){const[e,t]=f.useState(null),[n,r]=f.useState(null);if(n)throw n;const{activeWorkspace:i}=X0(),a=f.useCallback(()=>{var l,c;(c=(l=i.auth).logout)==null||c.call(l)},[i]);f.useEffect(()=>{const l=i.auth.state.subscribe({next:({currentUser:c})=>{t(c)},error:r});return()=>{l.unsubscribe()}},[i]);const o=LIe(e==null?void 0:e.provider),s=o?` through ${o}`:"";return u.jsx(te,{height:"fill",children:u.jsx(Ui,{id:"not-authorized-dialog",header:"Not authorized",width:1,footer:{confirmButton:{text:"Sign out",onClick:a,tone:"default"}},children:u.jsxs(ee,{space:4,children:[u.jsx(N,{children:"You are not authorized to access this studio. Maybe you could ask someone to invite you to collaborate on this project?"}),u.jsxs(N,{children:["If you think this is an error, verify that you are signed in with the correct account. You are currently signed in as"," ",u.jsxs("strong",{children:[e==null?void 0:e.name," (",e==null?void 0:e.email,")"]}),s,"."]})]})})})}function d3n(e){return u.jsx(te,{height:"fill",sizing:"border",tone:"caution",display:"flex",children:u.jsx(U,{direction:"row",justify:"center",flex:1,align:"center",children:u.jsxs(ee,{space:4,children:[u.jsx(zi,{as:"h1",children:"Workspace not found"}),u.jsx(An,{children:u.jsx(fe,{text:"Go to default workspace",onClick:e.onNavigateToDefaultWorkspace,mode:"ghost"})})]})})})}function f3n(e){return e.map(t=>t.kind==="type"?`${t.name||"<unnamed>"}(${t.type})`:t.kind==="property"?t.name:null).filter(Boolean).join(" > ")}function h3n(e){const t=e._validation,n=t==null?void 0:t.filter(r=>r.problems.some(i=>i.severity==="warning"));(n==null?void 0:n.length)!==0&&(console.groupCollapsed(`⚠️ Schema has ${n==null?void 0:n.length} warnings`),n==null||n.forEach(r=>{const i=f3n(r.path);console.group(`%cAt ${i}`,"color: #FF7636"),r.problems.forEach(a=>{console.log(a.message)}),console.groupEnd()}),console.groupEnd())}const p3n={error:"critical",warning:"caution"},mfe=R.code`
  && {
    background: none;
    color: inherit;
  }
`,m3n=R(N)`
  white-space: pre-line;
`;function IPe(e){const{problemGroups:t}=e;Y();const n=f.useMemo(()=>{const r=[];for(const i of t)for(const a of i.problems)r.push({group:i,problem:a});return r},[t]);return u.jsx(ee,{as:"ul",space:4,children:n.map(({group:r,problem:i},a)=>{const o=i.severity==="error",s=i.severity==="warning",l=g3n(r);return u.jsxs(te,{border:!0,padding:4,radius:2,tone:p3n[i.severity],children:[u.jsxs(U,{children:[u.jsx(L,{marginRight:3,children:u.jsxs(N,{muted:!0,size:1,children:[o&&u.jsx(Ea,{}),s&&u.jsx(fr,{})]})}),u.jsx(L,{flex:1,children:u.jsx(N,{size:1,weight:"medium",children:l?u.jsxs(u.Fragment,{children:[O0(l.type),' type "',l.name,'"']}):null})})]}),u.jsx(L,{marginTop:4,children:u.jsx(te,{border:!0,overflow:"auto",padding:2,tone:"inherit",children:u.jsx(Mz,{separator:u.jsx(N,{muted:!0,size:1,children:"→"}),children:r.path.map((c,d)=>{if(c.kind==="type"){const h=`${v3n(c.name||`<anonymous ${c.type}>`)}:${c.type}`;return u.jsx(N,{title:h,size:1,textOverflow:"ellipsis",children:u.jsx(mfe,{children:h})},d)}return c.kind==="property"?u.jsx(N,{title:c.name,size:1,textOverflow:"ellipsis",children:u.jsx(mfe,{children:c.name})},d):null})})})}),u.jsx(L,{as:"ul",marginTop:4,children:u.jsx(L,{as:"li",children:u.jsxs(ee,{space:3,children:[u.jsx(m3n,{muted:!0,size:1,children:i.message}),i.helpId&&u.jsx(N,{muted:!0,size:1,children:u.jsx("a",{href:Qxe(i.helpId),target:"_blank",rel:"noopener noreferrer",children:"View documentation →"})})]})})})]},a)})})}function g3n(e){const t=e.path[0];return t.kind==="type"?{name:t.name||`<anonymous ${t.type}>`,type:t.type}:null}function v3n(e){return e!=null&&e.startsWith("<unnamed_type_@_index")?`[${e.slice(1,-1).split("_")[4]}]`:e}function y3n({schema:e}){var t;const n=((t=e._validation)==null?void 0:t.filter(r=>r.problems.some(i=>i.severity==="error")))||[];return f.useEffect(()=>h3n(e),[e]),u.jsx(te,{height:"fill",overflow:"auto",paddingY:[4,5,6,7],paddingX:4,sizing:"border",children:u.jsx(si,{width:1,children:u.jsxs(ee,{space:5,children:[u.jsx(zi,{as:"h1",children:"Schema errors"}),u.jsx(IPe,{problemGroups:n})]})})})}const gfe={componentStack:null,error:null,eventId:null};function DPe({children:e,heading:t="An error occured"}){const[{error:n,eventId:r},i]=f.useState(gfe),a=yt(n)&&typeof n.message=="string"&&n.message,o=yt(n)&&typeof n.stack=="string"&&n.stack,s=f.useCallback(()=>i(gfe),[]),l=f.useCallback(c=>{const d=l9.reportError(c.error,{reactErrorInfo:c.info,errorBoundary:"StudioErrorBoundary"});i({error:c.error,componentStack:c.info.componentStack,eventId:(d==null?void 0:d.eventId)||null})},[]);return LAe(s),n instanceof XO?u.jsx(c3n,{projectId:n==null?void 0:n.projectId}):n instanceof VM?u.jsx(y3n,{schema:n.schema}):n?u.jsx(te,{height:"fill",overflow:"auto",paddingY:[4,5,6,7],paddingX:4,sizing:"border",tone:"critical",children:u.jsx(si,{width:3,children:u.jsxs(ee,{space:4,children:[u.jsx(zi,{children:t}),u.jsx("div",{children:u.jsx(fe,{onClick:s,text:"Retry",tone:"default"})}),u.jsx(te,{border:!0,radius:2,overflow:"auto",padding:4,tone:"inherit",children:u.jsxs(ee,{space:4,children:[a&&u.jsx(fi,{size:1,children:u.jsxs("strong",{children:["Error: ",a]})}),o&&u.jsx(fi,{size:1,children:o}),r&&u.jsxs(fi,{size:1,children:["Event ID: ",r]})]})})]})})}):u.jsx(sb,{onCatch:l,children:e})}const b3n=R(te)`
  height: 100%;
  left: 0;
  overflow: hidden;
  overflow: clip;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 200;
`;function x3n(){const e=T3n();return u.jsx(e,{})}function w3n(){var e;const{name:t,title:n,tools:r}=Fr(),i=is(),a=l_(f.useCallback(S=>typeof S.tool=="string"?S.tool:void 0,[])),o=f.useMemo(()=>r.find(S=>S.name===a),[a,r]),[s,l]=f.useState(!1),[c,d]=f.useState(null),[h,p]=f.useState(!1),m=f.useMemo(()=>{const S=n||Rn(t);return a?`${Rn(a)} | ${S}`:S},[a,t,n]),g=!!(o!=null&&o.controlsDocumentTitle);f.useEffect(()=>{g||(document.title=m)},[m,g]);const v=f.useCallback(S=>{l(S)},[]),b=f.useCallback(S=>{p(S)},[]),y=f.useMemo(()=>({searchFullscreenOpen:s,searchFullscreenPortalEl:c,searchOpen:h,onSearchFullscreenOpenChange:v,onSearchOpenChange:b}),[s,c,h,v,b]),x=k3n(),w=A3n(),C=!o&&(a==="desk"||!a)&&typeof window<"u"&&/\/desk(\/|$)/.test(window.location.pathname)&&r.some(S=>S.name==="structure");return f.useEffect(()=>{C&&i.navigateUrl({path:window.location.pathname.replace(/\/desk/,"/structure"),replace:!0})},[C,i]),u.jsxs(U,{"data-ui":"ToolScreen",direction:"column",height:"fill","data-testid":"studio-layout",children:[u.jsx(wpe.Provider,{value:y,children:u.jsx(x,{})}),C&&u.jsx(WPn,{}),r.length===0&&u.jsx(HPn,{}),r.length>0&&!o&&a&&!C&&u.jsx(GPn,{toolName:a}),s&&u.jsx(b3n,{ref:d,overflow:"auto"}),u.jsx(DPe,{heading:`The ${o==null?void 0:o.name} tool crashed`,children:u.jsx(te,{flex:1,hidden:s,children:o&&a&&u.jsx(nGt,{scope:a,__unsafe_disableScopedSearchParams:(e=o.router)==null?void 0:e.__unsafe_disableScopedSearchParams,children:u.jsx(f.Suspense,{fallback:u.jsx(wn,{showText:!0}),children:u.jsx(w,{activeTool:o})})})})},o==null?void 0:o.name)]})}function C3n(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.toolMenu}function S3n(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.navbar}function _3n(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.layout}function E3n(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.activeToolLayout}function $Pe(){return mu({defaultComponent:WFn,pick:C3n})}function k3n(){return mu({defaultComponent:NFn,pick:S3n})}function T3n(){return mu({defaultComponent:w3n,pick:_3n})}function A3n(){return mu({defaultComponent:UPn,pick:E3n})}function j3n(){var e;const t=((e=en()._validation)==null?void 0:e.filter(h=>h.problems.some(p=>p.severity==="warning")))||[],n=nh(),{t:r}=Y(),i=f.useId(),[a,o]=f.useState(!1),[s,l]=f.useState(null),c=f.useCallback(()=>o(!0),[]),d=f.useCallback(()=>{o(!1),s&&s.focus()},[s]);return t.length===0?null:u.jsxs(u.Fragment,{children:[u.jsx(F_,{icon:fr,mode:"bleed",onClick:c,ref:l,selected:a,tone:"caution","aria-label":r("configuration-issues.button.label"),tooltipProps:{scheme:n,content:r("configuration-issues.button.tooltip")}}),a&&u.jsx(Ui,{header:"Configuration issues",width:2,onClickOutside:d,onClose:d,scheme:n,id:i,children:u.jsxs(ee,{space:4,children:[u.jsxs(ee,{space:3,children:[u.jsxs(N,{as:"h2",size:1,weight:"medium",children:["Found ",t.length," schema warnings"]})," ",u.jsx(N,{muted:!0,size:1,children:"Configuration checks are only performed during development and will not be visible in production builds"})]}),u.jsx(IPe,{problemGroups:t})]})})]})}const OPe=bi({name:"Trial Dialog Viewed",version:1,description:"User viewed a dialog or popover related to free trial"}),I3n=bi({name:"Trial Dialog Dismissed",version:1,description:"User dismissed a dialog or popover related to free trial"}),vfe=bi({name:"Trial Dialog CTA Clicked",version:1,description:"User clicked a CTA in a dialog or popover related to free trial"});function zw({showOnLoad:e,dialogId:t}){return e&&t.toLowerCase()==="free-upgrade-popover"?"trialStarted":e&&t.toLowerCase()==="trial-ending-popover"?"trialEndingSoon":e&&t.toLowerCase()==="project-downgraded-to-free"?"trialEnded":!e&&t.toLowerCase()==="after-trial-upgrade"?"postTrial":"trialActive"}const D3n=R(fe)`
  position: absolute;
  top: 12px;
  right: 12px;
  z-index: 20;
  background: transparent;
  border-radius: 9999px;
  box-shadow: none;
  color: white;
  --card-fg-color: white;
  :hover {
    --card-fg-color: white;
  }
`,$3n=R.img`
  object-fit: cover;
  width: 100%;
  height: 100%;
  height: 196px;
`,O3n=R(Ui)`
  > [data-ui='DialogCard'] {
    max-width: 22.5rem;
  }
`;function M3n({onClose:e,onOpenNext:t,onOpenUrlCallback:n,content:r,open:i}){var a,o,s,l,c;function d(){e("xClick")}function h(){e("outsideClick")}function p(){e("ctaClicked")}const m=nh();return i?u.jsxs(O3n,{id:"free-trial-modal",onClose:e,onClickOutside:h,padding:!1,__unstable_hideCloseButton:!0,scheme:m,footer:{cancelButton:(a=r.secondaryButton)!=null&&a.text?{text:r.secondaryButton.text,mode:"bleed",tone:"default",onClick:d}:void 0,confirmButton:{text:(o=r.ctaButton)==null?void 0:o.text,mode:"default",tone:"primary",...((s=r.ctaButton)==null?void 0:s.action)==="openUrl"?{href:r.ctaButton.url,target:"_blank",rel:"noopener noreferrer",as:"a",onClick:n}:{onClick:((l=r.ctaButton)==null?void 0:l.action)==="openNext"?t:p}}},children:[u.jsx(D3n,{icon:Rr,mode:"bleed",tone:"default",onClick:d,tabIndex:-1,tooltipProps:null}),r.image&&u.jsx($3n,{src:r.image.asset.url,alt:(c=r.image.asset.altText)!=null?c:""}),u.jsxs(U,{padding:3,direction:"column",children:[u.jsx(L,{paddingX:2,marginTop:3,children:u.jsx(zi,{size:2,children:r.headingText})}),u.jsx(L,{marginTop:4,paddingBottom:3,children:u.jsx(OM,{blocks:r.descriptionText})})]})]}):null}const R3n=R.div`
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
`,P3n=({daysLeft:e,totalDays:t})=>{const n=t-e,r=Math.round(n/t*100),i=10,a=2*Math.PI*i,o=a*((100-r)/100),s=1.2,l=i*2+s;return u.jsx(te,{children:u.jsx(R3n,{children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:`0 0 ${l} ${l}`,style:{transform:"rotate(-90deg)"},children:[u.jsx("circle",{r:i,cx:l/2,cy:l/2,fill:"transparent",strokeWidth:s,stroke:r>75?OT[600].hex:Zpe[400].hex}),u.jsx("circle",{r:i,cx:l/2,cy:l/2,fill:"transparent",strokeWidth:s,stroke:"var(--card-border-color)",strokeDasharray:a,strokeDashoffset:o})]})})})},F3n=f.forwardRef(function({toggleShowContent:e,daysLeft:t,totalDays:n},r){const{t:i}=Y();return u.jsxs(fe,{mode:"bleed",onClick:e,ref:r,tooltipProps:{content:t?i("free-trial.tooltip.days-count",{count:t}):i("free-trial.tooltip.trial-finished")},children:[u.jsx(N,{size:0,children:u.jsx(aD,{})}),t>0&&u.jsx(P3n,{daysLeft:t,totalDays:n})]})}),N3n=f.forwardRef(function({toggleShowContent:e,daysLeft:t},n){const{t:r}=Y();return u.jsx(fe,{ref:n,icon:aD,justify:"flex-start",mode:"bleed",size:"large",onClick:e,text:t?r("user-menu.action.free-trial",{count:t}):r("user-menu.action.free-trial-finished")})}),L3n=()=>{const e=f.useContext(vpe);if(!e)throw new Error("useFreeTrial must be used within a FreeTrialProvider");return e},B3n=R.img`
  object-fit: cover;
  width: 100%;
  height: 100%;
  height: 180px;
`;function V3n({content:e,handleClose:t,handleOpenNext:n}){var r,i,a,o,s;return u.jsx(te,{radius:3,overflow:"hidden",width:0,children:u.jsxs(si,{width:0,children:[e.image&&u.jsx(B3n,{src:e.image.asset.url,alt:(r=e.image.asset.altText)!=null?r:""}),u.jsxs(U,{padding:3,direction:"column",children:[u.jsx(L,{paddingX:2,marginTop:3,children:u.jsx(zi,{size:1,children:e.headingText})}),u.jsx(L,{marginTop:4,children:u.jsx(OM,{blocks:e.descriptionText})})]}),u.jsxs(U,{width:"full",gap:3,justify:"flex-end",padding:3,children:[((i=e.secondaryButton)==null?void 0:i.text)&&u.jsx(fe,{mode:"bleed",text:e.secondaryButton.text,tone:"default",onClick:()=>t("xClick")}),u.jsx(fe,{mode:"default",tooltipProps:null,text:(a=e.ctaButton)==null?void 0:a.text,autoFocus:!0,tone:"primary",...((o=e.ctaButton)==null?void 0:o.action)==="openUrl"?{href:e.ctaButton.url,target:"_blank",rel:"noopener noreferrer",as:"a"}:{onClick:((s=e.ctaButton)==null?void 0:s.action)==="openNext"?n:()=>t("ctaClicked")}})]})]})})}function MPe({type:e}){const{data:t,showDialog:n,showOnLoad:r,toggleShowContent:i}=L3n(),a=nh(),o=Os(),[s,l]=f.useState(null),[c,d]=f.useState(!1);f.useEffect(()=>{s&&d(!0)},[s]);const h=f.useCallback(()=>i(!0),[i]),p=f.useCallback(()=>{s==null||s.focus(),i(!1)},[i,s]),m=f.useCallback(w=>C=>{const S=(t==null?void 0:t.showOnLoad)||(t==null?void 0:t.showOnClick);S&&o.log(I3n,{dialogId:S.id,dialogRevision:S._rev,dialogType:w,source:"studio",trialDaysLeft:t.daysLeft,dialogTrialStage:zw({showOnLoad:r,dialogId:S.id}),dialogDismissAction:C}),p()},[t,p,r,o]),g=f.useCallback(w=>()=>{const C=(t==null?void 0:t.showOnLoad)||(t==null?void 0:t.showOnClick);C&&o.log(vfe,{dialogId:C.id,dialogRevision:C._rev,dialogType:"modal",source:"studio",trialDaysLeft:t.daysLeft,dialogTrialStage:zw({showOnLoad:r,dialogId:C.id}),dialogCtaType:w==="openURL"?"upgrade":"learnMore"}),h()},[t,h,o,r]),v=f.useCallback(()=>{t!=null&&t.showOnLoad&&o.log(vfe,{dialogId:t.showOnLoad.id,dialogRevision:t.showOnLoad._rev,dialogType:"popover",source:"studio",trialDaysLeft:t.daysLeft,dialogTrialStage:zw({showOnLoad:!0,dialogId:t.showOnLoad.id}),dialogCtaType:"learnMore"}),h()},[t==null?void 0:t.showOnLoad,t==null?void 0:t.daysLeft,h,o]),b=f.useCallback(()=>{t!=null&&t.showOnClick&&o.log(OPe,{dialogId:t.showOnClick.id,dialogRevision:t.showOnClick._rev,dialogTrigger:"fromClick",dialogType:"modal",source:"studio",trialDaysLeft:t.daysLeft,dialogTrialStage:zw({showOnLoad:!0,dialogId:t.showOnClick.id})}),h()},[t==null?void 0:t.showOnClick,t==null?void 0:t.daysLeft,o,h]);if(!(t!=null&&t.id))return null;const y=r?t.showOnLoad:t.showOnClick;if(!y)return null;const x=e==="sidebar"?u.jsx(N3n,{toggleShowContent:b,daysLeft:t.daysLeft,ref:l}):u.jsx(F3n,{toggleShowContent:b,daysLeft:t.daysLeft,totalDays:t.totalDays,ref:l});return(y==null?void 0:y.dialogType)==="popover"?u.jsx(Fn,{open:n&&c,size:0,scheme:a,radius:3,portal:!0,placement:e==="sidebar"?"top":"bottom-end",content:u.jsx(V3n,{content:y,handleClose:m("popover"),handleOpenNext:v}),children:x}):u.jsxs(u.Fragment,{children:[x,u.jsx(M3n,{content:y,onClose:m("modal"),onOpenNext:g("openNext"),onOpenUrlCallback:g("openURL"),open:n})]})}const z3n=({children:e})=>{var t;const n=is(),[r,i]=f.useState(null),[a,o]=f.useState(!1),[s,l]=f.useState(!1),c=Zt({apiVersion:"2023-12-11"}),d=Os();f.useEffect(()=>{const g=r==null?void 0:r.showOnLoad;a&&s&&g&&d.log(OPe,{dialogId:g.id,dialogRevision:g._rev,dialogTrialStage:zw({showOnLoad:s,dialogId:g.id}),dialogTrigger:s?"auto":"fromClick",dialogType:g.dialogType,source:"studio",trialDaysLeft:r.daysLeft})},[a,r,s,d]);const h=new URLSearchParams(n.state._searchParams).toString();f.useEffect(()=>{const g=new URLSearchParams(h),v=new URLSearchParams;v.append("studioVersion",Pl);const b=g.get("trialState");b&&v.append("trialState",b);const y=g.get("seenBefore");y&&v.append("seenBefore",y);const x=v.get("trialState")?"/journey/trial/override":"/journey/trial",w=c.observable.request({url:`${x}?${v.toString()}`}).subscribe(C=>{i(C),C!=null&&C.showOnLoad&&(l(!0),o(!0))},()=>{});return()=>{w.unsubscribe()}},[c,h]);const p=f.useCallback((g=!1)=>{var v;s?(l(!1),o(g),(v=r==null?void 0:r.showOnLoad)!=null&&v.id&&c.request({url:`/journey/trial/${r==null?void 0:r.showOnLoad.id}`,method:"POST"})):o(b=>!b)},[c,s,(t=r==null?void 0:r.showOnLoad)==null?void 0:t.id]),m=f.useMemo(()=>({data:r,showDialog:a,toggleShowContent:p,showOnLoad:s}),[r,a,s,p]);return u.jsx(vpe.Provider,{value:m,children:e})};function U3n(){return u.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 33 33",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("rect",{width:"100%",height:"100%",fill:"#EC5446"}),u.jsx("path",{d:"M10.1637 8.5498C10.1637 11.3854 11.9461 13.0725 15.5143 13.9622L19.2955 14.8235C22.6725 15.5855 24.729 17.4783 24.729 20.5619C24.7553 21.9053 24.3107 23.2168 23.4698 24.2765C23.4698 21.1999 21.8499 19.5376 17.9425 18.538L14.2299 17.7086C11.257 17.0423 8.9623 15.4863 8.9623 12.1368C8.94666 10.8433 9.36932 9.58143 10.1637 8.5498Z",fill:"white"}),u.jsx("path",{d:"M21.1463 19.8069C22.7591 20.8206 23.4662 22.2384 23.4662 24.2729C22.1313 25.953 19.7861 26.8958 17.0297 26.8958C12.3899 26.8958 9.1427 24.6521 8.42111 20.7533H12.8769C13.4506 22.5432 14.9695 23.3726 16.9972 23.3726C19.4722 23.3726 21.1175 22.0753 21.1499 19.7998",fill:"#F8B1AA"}),u.jsx("path",{d:"M12.4801 12.7536C11.7436 12.3236 11.1394 11.7057 10.7316 10.9656C10.3238 10.2255 10.1276 9.3907 10.1638 8.54984C11.4518 6.88396 13.6923 5.8667 16.4235 5.8667C21.1499 5.8667 23.8848 8.31945 24.5595 11.7717H20.2732C19.8006 10.4107 18.6172 9.35089 16.4596 9.35089C14.1541 9.35089 12.5811 10.6694 12.4909 12.7536",fill:"#F8B1AA"})]})}const yfe=25,RPe=2,H3n=R(te).attrs({overflow:"hidden",radius:RPe})`
  height: ${yfe}px;
  width: ${yfe}px;
`,W3n=R(te)`
  border-radius: ${({theme:e})=>Se(e.sanity.radius[RPe])};
  display: flex;
  outline: none;
  text-decoration: none;
  &:focus-visible {
    box-shadow: ${({theme:e})=>dM({base:e.sanity.color.base,focusRing:{...e.sanity.focusRing,offset:1}})};
  }
`;function PPe(){const e=g_(),{activeWorkspace:t}=X0(),{href:n,onClick:r}=FW({state:{}}),i=e.length>1;return u.jsx(W3n,{as:"a",href:n,onClick:r,children:u.jsxs(U,{align:"center",children:[u.jsx(H3n,{children:u.jsx(U,{align:"center",height:"fill",justify:"center",children:i||t.customIcon?u.jsx(jq,{icon:t.icon,size:"small"}):u.jsx(U3n,{})})}),!i&&u.jsx(L,{paddingX:2,children:u.jsx(N,{size:1,weight:"medium",children:t.title})})]})})}function G3n({setScheme:e}){const{t}=Y(),n=nPe(e,t);return u.jsx(te,{borderTop:!0,flex:"none",padding:2,overflow:"auto",children:u.jsx(ee,{as:"ul",space:1,children:n.map(({icon:r,label:i,name:a,onSelect:o,selected:s,title:l})=>u.jsx(ee,{as:"li",children:u.jsx(fe,{"aria-label":i,icon:r,iconRight:s&&u.jsx(_a,{}),justify:"flex-start",mode:"bleed",onClick:o,selected:s,size:"large",text:l})},a))})})}function Y3n(){return BG(),null}function q3n(){const{currentUser:e,projectId:t}=Fr(),n=!!(e&&CIe(e,"administrator")),{t:r}=Y();return u.jsx(te,{borderTop:!0,flex:"none",padding:2,children:u.jsxs(ee,{as:"ul",space:1,children:[u.jsx(ee,{as:"li",children:u.jsx(MPe,{type:"sidebar"})}),u.jsx(ee,{as:"li",children:u.jsx(fe,{"aria-label":r("user-menu.action.manage-project-aria-label"),as:"a",href:`https://sanity.io/manage/project/${t}`,icon:o2,justify:"flex-start",mode:"bleed",size:"large",target:"_blank",text:r("user-menu.action.manage-project")})}),n&&u.jsx(ee,{as:"li",children:u.jsx(fe,{"aria-label":r("user-menu.action.invite-members-aria-label"),as:"a",href:`https://sanity.io/manage/project/${t}/members`,icon:c2,justify:"flex-start",mode:"bleed",size:"large",target:"_blank",text:r("user-menu.action.invite-members")})})]})})}const bfe={bounce:0,damping:20,mass:.5,stiffness:200,type:"spring"},K3n={open:{opacity:1},closed:{opacity:0}},Z3n={open:{x:"0%"},closed:{x:"-100%"}},X3n=R(Jo)`
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`,J3n=R(Di(te))`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--card-shadow-penumbra-color);
`,Q3n=R(Di(te))`
  position: relative;
  pointer-events: all;
  flex-direction: column;
  height: 100%;
  min-width: 200px;
  max-width: 280px;
  overflow: auto;
`,eFn=f.memo(function(e){const{__internal_actions:t,activeToolName:n,isOpen:r,onClose:i,tools:a}=e,o=ePe(),{auth:s,currentUser:l}=Fr(),c=g_(),d=$Pe(),{t:h}=Y(),p=f.useCallback(v=>{v.key==="Escape"&&i()},[i]),m=f.useCallback(v=>{v==null||v(),i()},[i]),g=f.useMemo(()=>{var v;return(v=t==null?void 0:t.filter(b=>b.location==="sidebar"))==null?void 0:v.map(b=>u.jsx(fe,{icon:b==null?void 0:b.icon,justify:"flex-start",mode:"bleed",onClick:()=>m(b.onAction),selected:b.selected,size:"large",text:b.title,width:"fill"},b.name))},[t,m]);return u.jsx(hl,{children:r&&u.jsx(ec,{returnFocus:!0,children:u.jsxs(X3n,{onKeyDown:p,children:[u.jsx(J3n,{animate:"open","data-open":r,exit:"closed",initial:"closed",onClick:i,transition:bfe,variants:K3n}),u.jsxs(Q3n,{animate:"open","data-open":r,display:"flex",exit:"closed",height:"fill",initial:"closed",shadow:1,transition:bfe,variants:Z3n,children:[u.jsx(te,{borderBottom:!0,children:u.jsxs(ee,{space:3,padding:3,children:[u.jsxs(U,{align:"center",children:[u.jsx(U,{flex:1,align:"center",paddingRight:2,children:u.jsxs(U,{flex:1,align:"center",children:[u.jsx(sl,{size:1,user:"me"}),u.jsx(L,{flex:1,marginLeft:3,title:(l==null?void 0:l.name)||(l==null?void 0:l.email),children:u.jsx(N,{size:1,textOverflow:"ellipsis",weight:"medium",children:(l==null?void 0:l.name)||(l==null?void 0:l.email)})})]})}),u.jsx(fe,{icon:Rr,mode:"bleed",onClick:i,tooltipProps:{content:h("user-menu.close-menu")}})]}),c.length>1&&u.jsxs(U,{flex:1,gap:1,children:[u.jsx(PPe,{}),u.jsx(TPe,{})]})]})}),u.jsxs(U,{direction:"column",flex:1,justify:"space-between",overflow:"auto",children:[u.jsx(te,{flex:"none",padding:2,children:u.jsx(d,{activeToolName:n,closeSidebar:i,context:"sidebar",isSidebarOpen:r,tools:a})}),u.jsxs(U,{direction:"column",children:[g&&u.jsx(te,{flex:"none",padding:2,children:u.jsx(ee,{space:1,children:g})}),o&&u.jsx(G3n,{setScheme:o}),u.jsx(Y3n,{}),u.jsx(q3n,{})]})]}),s.logout&&u.jsx(te,{flex:"none",padding:2,borderTop:!0,children:u.jsx(ee,{children:u.jsx(fe,{iconRight:mD,justify:"flex-start",mode:"bleed",onClick:s.logout,size:"large",text:h("user-menu.action.sign-out")})})})]})]})})})});function tFn(e,t){const n=t.title.toLowerCase();return e.trim().toLowerCase().split(/[\s\-_]+/).every(r=>n.includes(r))}function nFn(e,t,n){const r=t.title.toLowerCase(),i=n.title.toLowerCase(),a=e.trim().toLowerCase();return r.startsWith(a)&&!i.startsWith(a)?-1:i.startsWith(a)&&!r.startsWith(a)?1:r.includes(a)&&!i.includes(a)?-1:i.includes(a)&&!r.includes(a)?1:0}function rFn(e,t,n){return e.map(r=>({...r,title:n({...r,title:(r==null?void 0:r.title)||r.id}).title})).sort((r,i)=>r.title.localeCompare(i.title)).filter(r=>tFn(t,r)).sort((r,i)=>nFn(t,r,i))}const iFn=R(Fn)(()=>ce`
    [data-ui='Popover__wrapper'] {
      width: 320px;
      display: flex;
      flex-direction: column;
      border-radius: ${({theme:e})=>e.sanity.radius[3]}px;
      position: relative;
      overflow: hidden;
      overflow: clip;
    }
  `),aFn=R(Ui)(()=>ce`
    [data-ui='DialogCard'] {
      justify-content: flex-start;
    }
  `),xfe=R(U)``,oFn=R(te)`
  min-height: max-content;
`,sFn=R(te)`
  min-height: max-content;
`,lFn=R(U)(e=>{const{$maxDisplayedItems:t,$itemHeight:n}=e;return ce`
    --item-height: ${n}px;
    --max-items: ${t};
    --list-padding: 0.5rem;

    position: relative;
    max-height: calc(var(--item-height) * var(--max-items) + var(--list-padding));
    min-height: calc((var(--item-height) * 1));
  `}),FPe=33;function uFn(e){const{option:t,currentUser:n,onClick:r,preview:i}=e,a=f.useMemo(()=>({template:t.templateId,type:t.schemaType}),[t.schemaType,t.templateId]),{onClick:o,href:s}=s_({intent:"create",params:a}),l=f.useCallback(d=>{o(d),r(t)},[o,r,t]),{title:c}=hd(t);return u.jsx(gt,{disabled:t.hasPermission,portal:!0,content:u.jsx(ou,{currentUser:n,context:"create-document"}),children:u.jsx("div",{children:u.jsx(te,{as:t.hasPermission?"a":"button","data-testid":`create-new-${t.templateId}`,disabled:!t.hasPermission,href:s,marginBottom:1,onClick:l,padding:i==="inline"?3:4,radius:2,children:u.jsx(N,{size:i==="inline"?1:void 0,children:c})})})},t.id)}const wfe=R(U)`
  min-height: 100px;
`;function Cfe(e){const{currentUser:t,loading:n,onDocumentClick:r,options:i,preview:a,searchQuery:o,textInputElement:s}=e,{t:l}=Y(),c=i.length>0&&!n,d=f.useCallback(()=>{r()},[r]),h=f.useCallback(m=>{var g;return((g=i[m])==null?void 0:g.hasPermission)===!1},[i]),p=f.useCallback(m=>u.jsx(uFn,{currentUser:t,onClick:d,option:m,preview:a},m.id),[t,d,a]);return n?u.jsx(wn,{showText:!0}):!c&&o?u.jsx(wfe,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:u.jsx(N,{align:"center",muted:!0,size:1,children:u.jsx(ht,{t:l,i18nKey:"new-document.no-results",values:{searchQuery:o}})})}):c?u.jsx(fd,{activeItemDataAttr:"data-hovered",ariaLabel:l("new-document.new-document"),autoFocus:V0?void 0:"input",getItemDisabled:h,inputElement:s,itemHeight:FPe,items:i,overscan:5,padding:a==="inline"?1:2,paddingBottom:0,renderItem:p}):u.jsx(wfe,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:u.jsx(N,{align:"center",muted:!0,size:1,children:l("new-document.no-document-types-found")})})}const cFn=10;function dFn(e){const{canCreateDocument:t,modal:n="popover",loading:r,options:i}=e,[a,o]=f.useState(!1),[s,l]=f.useState(""),c=f.useRef(null),d=f.useRef(null),[h,p]=f.useState(null),[m,g]=f.useState(null),{t:v}=Y(),b=KO(i),y=nh(),x=Kn(),w=en(),C=i.length>0,S=!t||!C,_=v("new-document.filter-placeholder"),E=v("new-document.title"),k=v("new-document.open-dialog-aria-label"),T=f.useMemo(()=>i.filter(W=>{const G=w.get(W.schemaType);return G&&!Vhe(G)}),[i,w]),j=f.useMemo(()=>rFn(T,s,b),[T,s,b]),I=f.useCallback(W=>{l(W.currentTarget.value)},[]),A=f.useCallback(()=>o(W=>!W),[]),$=f.useCallback(()=>{o(!1),l(""),h==null||h.focus()},[h]),D=f.useCallback(W=>{W.key==="ArrowDown"&&!a&&o(!0)},[a]),M=f.useCallback(W=>{(W.key==="Escape"||W.key==="Tab")&&a&&$()},[$,a]);yn(a&&$,()=>[h,d.current,c.current]);const O=f.useMemo(()=>({currentUser:x,loading:r,onDocumentClick:A,options:j,searchQuery:s,preview:n==="popover"?"inline":"default",textInputElement:m}),[x,j,A,r,n,m,s]),F=f.useMemo(()=>({__unstable_disableFocusRing:!0,border:!1,"data-testid":"new-document-button-search-input",defaultValue:s,disabled:r,icon:Ca,onChange:I,placeholder:_,ref:g}),[I,r,_,s]),P=f.useMemo(()=>({"aria-label":k,"data-testid":"new-document-button",disabled:S||r,icon:wa,text:v("new-document.button"),mode:"ghost",onClick:A,ref:p,selected:a}),[S,A,r,a,k,v]),V=f.useMemo(()=>C?t?u.jsx(N,{size:1,children:v("new-document.create-new-document-label")}):u.jsx(ou,{currentUser:x,context:"create-any-document"}):u.jsx(N,{size:1,children:v("new-document.no-document-types-label")}),[t,x,C,v]),H=f.useMemo(()=>({content:V,disabled:r||a,scheme:y}),[r,a,y,V]);return n==="dialog"?u.jsxs(u.Fragment,{children:[u.jsx(gt,{...H,children:u.jsx("div",{children:u.jsx(fe,{...P})})}),a&&u.jsx(aFn,{header:E,id:"create-new-document-dialog",onClickOutside:$,onClose:$,ref:d,scheme:y,width:1,children:u.jsxs(xfe,{direction:"column",flex:1,height:"fill",children:[u.jsx(sFn,{padding:2,borderBottom:!0,children:u.jsx(Zr,{"data-testid":"new-document-button-search-input",...F})}),u.jsx(U,{direction:"column",overflow:"hidden",children:u.jsx(Cfe,{...O})})]})})]}):u.jsx(iFn,{constrainSize:!0,onKeyDown:M,open:a,portal:!0,radius:3,ref:c,scheme:y,content:u.jsxs(xfe,{direction:"column",flex:1,forwardedAs:ec,height:"fill",returnFocus:!0,children:[u.jsx(oFn,{sizing:"border",children:u.jsx(ee,{children:u.jsx(te,{borderBottom:!0,padding:1,children:u.jsx(Zr,{...F,fontSize:1,radius:1})})})}),u.jsx(lFn,{$itemHeight:FPe,$maxDisplayedItems:cFn,direction:"column",overflow:"hidden",children:u.jsx(Cfe,{...O})})]}),children:u.jsx("div",{children:u.jsx(gt,{...H,children:u.jsx("div",{children:u.jsx(fe,{...P,"aria-expanded":a,"aria-haspopup":"true",onKeyDown:D})})})})})}function fFn(){const{__internal:{staticInitialValueTemplateItems:e}}=Dn(),[t,n]=NY({templateItems:e}),r=(t==null?void 0:t.some(a=>e.some(o=>o.id===a.id)))||!1,i=f.useMemo(()=>e.map(a=>{var o;return{...a,title:(a==null?void 0:a.title)||a.id,hasPermission:((o=t==null?void 0:t.find(s=>s.id===a.id))==null?void 0:o.granted)||!1}}),[t,e]);return{canCreateDocument:r,loading:n,options:i}}const hFn=f.memo(function(e){const{presence:t,focused:n,onFocus:r}=e,[i,a]=f.useState(null),{t:o}=Y(),s=Tb(t.locations||[],["lastActiveAt"],["desc"]).find(h=>h.documentId),l=!!(s!=null&&s.documentId);f.useEffect(()=>{n&&i&&(i.focus(),i.setAttribute("data-selected","")),n||i==null||i.removeAttribute("data-selected")},[i,n]);const c=f.useCallback(()=>{r(t.user.id)},[r,t.user.id]),d=f.useMemo(()=>f.forwardRef(function(h,p){return s!=null&&s.path?u.jsx(pu,{...h,intent:"edit",params:{id:s==null?void 0:s.documentId,path:qt(s==null?void 0:s.path)},ref:p}):null}),[s]);return u.jsx(We,{as:s?d:"div","data-as":"a",disabled:!l,onFocus:c,preview:u.jsx(sl,{size:1,user:t.user},t.user.id),ref:a,text:t.user.displayName,tooltipProps:l?void 0:{content:o("presence.not-in-a-document"),placement:"left"}})}),pFn=R(Ot)`
  max-width: 260px;
`,mFn=R(ee)`
  position: sticky;
  bottom: 0;
  background-color: var(--card-bg-color);
`;function gFn(){const e=FCn(),{projectId:t}=Fr(),n=nh(),{t:r}=Y(),i=e.length>0,[a,o]=f.useState(),s=f.useCallback(p=>{o(p)},[]),l=f.useCallback(()=>{o("")},[]),c=f.useCallback(()=>{o("")},[]),d=f.useMemo(()=>u.jsx(F_,{icon:c2,"aria-label":r("presence.aria-label"),mode:"bleed",tone:i?"positive":void 0,tooltipProps:{content:r("presence.tooltip-content")}}),[i,r]),h=f.useMemo(()=>({constrainSize:!0,fallbackPlacements:["bottom"],placement:"bottom",portal:!0,scheme:n}),[n]);return u.jsx(Kt,{button:d,"aria-label":r("presence.aria-label"),id:"global-presence-menu",menu:u.jsxs(pFn,{children:[i&&e.map(p=>u.jsx(hFn,{focused:a===p.user.id,onFocus:s,presence:p},p.user.id)),!i&&u.jsx(L,{padding:3,children:u.jsxs(ee,{space:3,children:[u.jsx(N,{weight:"medium",size:1,children:r("presence.no-one-else-title")}),u.jsx(N,{size:1,muted:!0,children:r("presence.no-one-else-description")})]})}),u.jsxs(mFn,{space:1,children:[u.jsx(ur,{}),u.jsx(We,{as:"a",href:`https://sanity.io/manage/project/${t}`,iconRight:o2,onFocus:l,rel:"noopener noreferrer",target:"_blank",text:r("presence.action.manage-members")})]})]}),onClose:c,popover:h})}function vFn(e,t){return e.withConfig({apiVersion:"1"}).observable.request({url:"/help",query:{m:[`sanity@${Pl}`],locale:t},tag:"module.version-check",json:!0})}function yFn(){const e=Zt({apiVersion:"1"}),t=rm().id,n=f.useMemo(()=>vFn(e,t),[e,t]);return wIe(n)}function bFn({error:e,isLoading:t,value:n}){var r;const i=(r=n==null?void 0:n.resources)==null?void 0:r.sectionArray,a=n==null?void 0:n.latestVersion,{t:o}=Y();if(t)return u.jsx(wn,{showText:!0});const s=u.jsxs(u.Fragment,{children:[u.jsx(We,{as:"a",text:o("help-resources.action.join-our-community"),href:"https://www.sanity.io/exchange/community",target:"_blank"}),u.jsx(We,{as:"a",text:o("help-resources.action.help-and-support"),href:"https://www.sanity.io/contact/support",target:"_blank"}),u.jsx(We,{as:"a",text:o("help-resources.action.contact-sales"),href:"https://www.sanity.io/contact/sales?ref=studio",target:"_blank"}),u.jsx(ur,{})]});return u.jsxs(u.Fragment,{children:[(n===void 0||e)&&u.jsx("div",{children:s}),!e&&(i==null?void 0:i.map(l=>l?u.jsx(xFn,{subSection:l},l._key):null)),u.jsxs(L,{padding:3,children:[u.jsx(N,{size:1,muted:!0,weight:"medium",textOverflow:"ellipsis",children:o("help-resources.studio-version",{studioVersion:Pl})}),!e&&a&&u.jsx(L,{paddingTop:2,children:u.jsx(N,{size:1,muted:!0,textOverflow:"ellipsis",children:o("help-resources.latest-sanity-version",{latestVersion:a})})})]})]})}function xFn({subSection:e}){var t;return u.jsxs(u.Fragment,{children:[(t=e==null?void 0:e.items)==null?void 0:t.map(n=>{if(!n||!n.title)return null;switch(n._type){case"externalLink":return n.url?u.jsx(We,{as:"a",tone:"default",text:n.title,href:n.url,target:"_blank"},n._key):null;case"internalAction":return n.type?n.type==="show-welcome-modal"&&u.jsx(We,{text:n.title},n._key):null;default:return null}}),u.jsx(ur,{})]})}const wFn=R(Ot)`
  max-width: 300px;
  min-width: 200px;
`;function CFn(){const{t:e}=Y(),{value:t,error:n,isLoading:r}=yFn();return u.jsx(Kt,{button:u.jsx(fe,{"aria-label":e("help-resources.title"),icon:Ag,mode:"bleed",tooltipProps:{content:e("help-resources.title")}}),id:"menu-button-resources",menu:u.jsx(wFn,{"data-testid":"menu-button-resources",children:u.jsx(bFn,{error:n,isLoading:r,value:t})}),popover:{constrainSize:!0}})}function SFn(){return BG(),null}function _Fn({setScheme:e}){const{t}=Y(),n=nPe(e,t);return u.jsxs(u.Fragment,{children:[u.jsx(ur,{}),n.map(({icon:r,label:i,name:a,onSelect:o,selected:s,title:l})=>u.jsx(We,{"aria-label":i,icon:r,onClick:o,pressed:s,text:l,iconRight:s&&u.jsx(_a,{}),"data-testid":`color-scheme-${a}`},a))]})}const EFn=R.div`
  position: absolute;
  width: 18px;
  height: 18px;
  background: var(--card-bg-color);
  bottom: -4px;
  right: -4px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  border: 1px solid var(--card-bg-color);
  box-sizing: content-box;

  svg {
    box-sizing: content-box;
    border: 1px solid var(--card-hairline-soft-color);
    border-radius: 50%;
    padding: 2px;
    width: 12px;
    height: 12px;
  }

  &[data-logo='github'] {
    svg {
      path {
        fill: var(--card-fg-color);
      }
    }
  }

  &[data-logo='saml'] {
    svg {
      path {
        fill: var(--card-fg-color);
      }
    }
  }
`,kFn=u.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsxs("g",{clipPath:"url(#clip0)",children:[u.jsx("path",{d:"M12 6.13764C12 5.72977 11.9663 5.31971 11.8943 4.91846H6.12036V7.22895H9.42684C9.28963 7.97412 8.84876 8.63332 8.20322 9.05221V10.5514H10.1759C11.3342 9.50637 12 7.9631 12 6.13764Z",fill:"#4285F4"}),u.jsx("path",{d:"M6.12019 12.0002C7.77118 12.0002 9.16349 11.4688 10.1779 10.5517L8.20529 9.05253C7.65646 9.41851 6.94793 9.62574 6.12244 9.62574C4.52544 9.62574 3.17136 8.56971 2.68552 7.1499H0.649902V8.69537C1.68908 10.7215 3.80567 12.0002 6.12019 12.0002V12.0002Z",fill:"#34A853"}),u.jsx("path",{d:"M2.68332 7.14986C2.4269 6.40469 2.4269 5.59778 2.68332 4.8526V3.30713H0.649951C-0.218278 5.00252 -0.218278 6.99995 0.649951 8.69533L2.68332 7.14986V7.14986Z",fill:"#FBBC04"}),u.jsx("path",{d:"M6.12019 2.37483C6.99291 2.3616 7.8364 2.68348 8.46845 3.27433L10.2161 1.56131C9.1095 0.542752 7.64071 -0.017233 6.12019 0.000404333C3.80566 0.000404333 1.68908 1.27911 0.649902 3.3074L2.68326 4.85288C3.16686 3.43087 4.52319 2.37483 6.12019 2.37483V2.37483Z",fill:"#EA4335"})]}),u.jsx("defs",{children:u.jsx("clipPath",{id:"clip0",children:u.jsx("rect",{width:"12",height:"12",fill:"white"})})})]}),TFn=u.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("g",{clipPath:"url(#clip0)",children:u.jsx("path",{d:"M11.195 3.13503C10.6711 2.22838 9.91808 1.47537 9.01144 0.951471C8.09222 0.414976 7.08837 0.146729 5.99987 0.146729C4.91137 0.146729 3.90752 0.414976 2.98831 0.951471C2.08163 1.47534 1.32862 2.22836 0.804744 3.13503C0.268248 4.05497 0 5.05883 0 6.14659C0 7.45399 0.381531 8.62978 1.14459 9.67394C1.90765 10.7181 2.89327 11.4408 4.10143 11.8419C4.24208 11.868 4.34624 11.8497 4.41392 11.7872C4.44666 11.7577 4.47263 11.7215 4.49006 11.681C4.50749 11.6405 4.51595 11.5967 4.51488 11.5527C4.51488 11.537 4.51361 11.3963 4.51105 11.1307C4.5085 10.8651 4.50722 10.6334 4.50722 10.4355L4.32745 10.4666C4.18407 10.4895 4.03885 10.4986 3.89375 10.494C3.71159 10.4908 3.53001 10.4725 3.35087 10.4393C3.16049 10.4045 2.98119 10.3246 2.82796 10.2064C2.66705 10.0846 2.54715 9.91661 2.48428 9.72484L2.40602 9.54506C2.34022 9.40286 2.25754 9.2691 2.15976 9.14666C2.04775 9.00072 1.93447 8.90176 1.81991 8.84977L1.76518 8.81064C1.72769 8.78356 1.6936 8.75205 1.66367 8.71679C1.63479 8.6841 1.61108 8.64719 1.59334 8.60734C1.57766 8.57085 1.5907 8.54085 1.63247 8.51731C1.67461 8.49405 1.75123 8.48256 1.86068 8.48256L2.01692 8.50582C2.12108 8.52662 2.24996 8.5891 2.40356 8.69326C2.5585 8.79876 2.68797 8.93748 2.78254 9.09932C2.90239 9.31294 3.04695 9.47575 3.21624 9.58775C3.38552 9.69976 3.55609 9.75576 3.72793 9.75576C3.87725 9.7578 4.02641 9.74479 4.17312 9.7169C4.29459 9.69195 4.41264 9.65254 4.52473 9.59952C4.57162 9.25037 4.69931 8.98212 4.90782 8.79477C4.63684 8.76849 4.36827 8.72157 4.10444 8.6544C3.84797 8.58382 3.60133 8.48141 3.37029 8.34958C3.12825 8.218 2.91442 8.04015 2.74095 7.82613C2.57421 7.6178 2.4374 7.34417 2.3305 7.00524C2.2236 6.6663 2.1707 6.27584 2.1718 5.83383C2.1718 5.20357 2.37757 4.66708 2.7891 4.22435C2.59629 3.75006 2.61453 3.21885 2.84383 2.63073C2.99487 2.58385 3.21879 2.61897 3.51559 2.73608C3.81239 2.85319 4.02983 2.95352 4.16792 3.03707C4.30601 3.12025 4.41665 3.19058 4.49983 3.24804C5.48153 2.9773 6.51821 2.9773 7.49991 3.24804L7.79679 3.0606C8.0249 2.92356 8.26549 2.80849 8.51535 2.71693C8.79135 2.61276 9.00231 2.58412 9.14825 2.63101C9.38248 3.21949 9.40327 3.7507 9.21064 4.22462C9.62199 4.66735 9.82776 5.20385 9.82795 5.83411C9.82795 6.27684 9.77459 6.66904 9.66787 7.01071C9.56116 7.35238 9.42325 7.62601 9.25415 7.8316C9.07785 8.04326 8.86311 8.21966 8.62124 8.35149C8.39008 8.48329 8.14337 8.5857 7.88682 8.65632C7.62412 8.72277 7.35674 8.76915 7.087 8.79505C7.35698 9.02927 7.49206 9.3994 7.49225 9.90543V11.5527C7.49115 11.5964 7.49929 11.6398 7.51612 11.6802C7.53295 11.7206 7.5581 11.7569 7.58993 11.7869C7.65505 11.8493 7.75794 11.8675 7.89858 11.8416C9.10693 11.4403 10.0926 10.7177 10.8557 9.67367C11.6188 8.62968 12.0003 7.4539 12.0003 6.14632C11.9997 5.05873 11.7313 4.05497 11.195 3.13503V3.13503Z",fill:"black"})}),u.jsx("defs",{children:u.jsx("clipPath",{id:"clip0",children:u.jsx("rect",{width:"12",height:"12",fill:"white"})})})]}),AFn=u.jsxs("svg",{width:"17",height:"9",viewBox:"0 0 17 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M0.0691681 5.98162C0.115833 7.24157 1.07247 8.00221 2.59841 8.00221C4.17102 8.00221 5.12299 7.19957 5.12299 5.86962C5.12299 4.83832 4.55367 4.25501 3.25172 3.96569L2.56108 3.80703C1.8331 3.64837 1.53445 3.38704 1.53445 2.91106C1.53445 2.40708 1.94977 2.09442 2.61708 2.09442C3.27505 2.09442 3.6997 2.43508 3.75103 2.99039H5.00166C4.95966 1.78643 4.01236 0.997795 2.60308 0.997795C1.14713 0.997795 0.218496 1.79577 0.218496 3.05105C0.218496 4.04968 0.815808 4.69366 2.03376 4.96898L2.73374 5.13231C3.51304 5.30497 3.8117 5.54763 3.8117 6.00495C3.8117 6.55093 3.34972 6.90092 2.62174 6.90092C1.85644 6.90092 1.38045 6.56493 1.31979 5.98162H0.0691681Z"}),u.jsx("path",{d:"M5.97695 5.98162C6.02362 7.24157 6.98025 8.00221 8.5062 8.00221C10.0788 8.00221 11.0308 7.19957 11.0308 5.86962C11.0308 4.83832 10.4615 4.25501 9.15951 3.96569L8.46886 3.80703C7.74089 3.64837 7.44223 3.38704 7.44223 2.91106C7.44223 2.40708 7.85755 2.09442 8.52486 2.09442C9.18284 2.09442 9.60749 2.43508 9.65882 2.99039H10.9094C10.8674 1.78643 9.92015 0.997795 8.51086 0.997795C7.05492 0.997795 6.12628 1.79577 6.12628 3.05105C6.12628 4.04968 6.72359 4.69366 7.94155 4.96898L8.64153 5.13231C9.42083 5.30497 9.71949 5.54763 9.71949 6.00495C9.71949 6.55093 9.2575 6.90092 8.52953 6.90092C7.76422 6.90092 7.28824 6.56493 7.22758 5.98162H5.97695Z"}),u.jsx("path",{d:"M16.9852 5.01565V3.98435C16.9852 2.11309 16.0099 0.997795 14.3953 0.997795C12.7807 0.997795 11.8054 2.11309 11.8054 3.98435V5.01565C11.8054 6.88692 12.7807 8.00221 14.3953 8.00221C16.0099 8.00221 16.9852 6.88692 16.9852 5.01565ZM14.3953 6.82625C13.5833 6.82625 13.154 6.21494 13.154 5.00165V3.99835C13.154 2.78506 13.5833 2.17375 14.3953 2.17375C15.2073 2.17375 15.6366 2.78506 15.6366 3.99835V5.00165C15.6366 6.21494 15.2073 6.82625 14.3953 6.82625Z"})]}),jFn=({provider:e})=>{const t=e==null?void 0:e.startsWith("saml-");return u.jsxs(EFn,{"data-logo":t?"saml":e,children:[e==="google"&&kFn,e==="github"&&TFn,e==="sanity"&&u.jsx(NAe,{}),t&&AFn]})};function IFn(){const{currentUser:e,projectId:t}=Fr(),n=!!(e&&CIe(e,"administrator")),{t:r}=Y();return u.jsxs(u.Fragment,{children:[u.jsx(ur,{}),u.jsx(We,{as:"a","aria-label":r("user-menu.action.manage-project-aria-label"),href:`https://sanity.io/manage/project/${t}`,target:"_blank",text:r("user-menu.action.manage-project"),icon:o2}),n&&u.jsx(We,{as:"a","aria-label":r("user-menu.action.invite-members-aria-label"),href:`https://sanity.io/manage/project/${t}/members`,target:"_blank",text:r("user-menu.action.invite-members"),icon:c2})]})}const DFn=R(Ot)`
  min-width: 200px;
  max-width: 300px;
`,$Fn=R(L)`
  position: relative;
  min-width: ${({theme:e})=>e.sanity.avatar.sizes[2].size}px;
  min-height: ${({theme:e})=>e.sanity.avatar.sizes[2].size}px;
`;function OFn(){const{currentUser:e,auth:t}=Fr(),n=nh(),r=ePe(),i=LIe(e==null?void 0:e.provider),{t:a}=Y(),o=f.useMemo(()=>({placement:"bottom",portal:!0,preventOverflow:!0,scheme:n,constrainSize:!0}),[n]);return u.jsx(Kt,{button:u.jsx(St,{mode:"bleed",padding:0,radius:"full",children:u.jsx(sl,{size:1,user:"me"})}),id:"user-menu",menu:u.jsxs(DFn,{"data-testid":"user-menu",children:[u.jsx(te,{padding:2,children:u.jsxs(U,{align:"center",children:[u.jsx(gt,{disabled:!i,portal:!0,content:a("user-menu.login-provider",{providerTitle:i}),children:u.jsxs($Fn,{marginRight:3,children:[u.jsx(sl,{size:2,user:"me"}),(e==null?void 0:e.provider)&&u.jsx(jFn,{provider:e.provider})]})}),u.jsxs(ee,{space:2,flex:1,children:[u.jsx(N,{size:1,weight:"medium",textOverflow:"ellipsis",children:e==null?void 0:e.name}),u.jsx(N,{size:1,muted:!0,textOverflow:"ellipsis",children:e==null?void 0:e.email})]})]})}),r&&u.jsx(_Fn,{setScheme:r}),u.jsx(SFn,{}),u.jsx(IFn,{}),t.logout&&u.jsxs(u.Fragment,{children:[u.jsx(ur,{}),u.jsx(We,{iconRight:mD,text:a("user-menu.action.sign-out"),disabled:!t.logout,...t.logout&&{onClick:t.logout}})]})]}),popover:o})}const MFn=[],RFn=R(Jo)`
  min-height: auto;
  position: relative;

  &[data-search-open='true'] {
    top: 0;
    position: sticky;
  }
`,PFn=R(te)`
  line-height: 0;
`,FFn=R(Vn)`
  grid-template-columns: auto auto auto;
  @media screen and (min-width: ${({theme:e})=>`${e.sanity.media[3]}px`}) {
    grid-template-columns: 1fr auto 1fr;
  }
`;function NFn(e){const{__internal_actions:t=MFn}=e,{name:n,tools:r}=Fr(),i=l_(),a=w0(),o=typeof i.tool=="string"?i.tool:void 0,s=fFn(),{t:l}=Y(),{onSearchFullscreenOpenChange:c,onSearchOpenChange:d,searchFullscreenOpen:h,searchFullscreenPortalEl:p,searchOpen:m}=f.useContext(wpe),g=$Pe(),[v,b]=f.useState(!1),y=f.useRef(i),x=f.useRef(n);f.useEffect(()=>{(y.current.tool!==i.tool||n!==x.current)&&b(!1),y.current=i,x.current=n},[n,i]);const[w,C]=f.useState(null),[S,_]=f.useState(null),E=f.useMemo(()=>({resources:a>1,collapsedPresenceMenu:a<=1,loginStatus:a>1,searchFullscreen:a<=1,configIssues:a>1&&gl,newDocumentFullscreen:a<=1,tools:a>=3}),[a]);f.useEffect(()=>{c(h)},[h,c]),f.useEffect(()=>{E.searchFullscreen?d(!1):c(!1)},[c,d,E.searchFullscreen]);const k=f.useCallback(()=>{d(!0)},[d]),T=f.useCallback(()=>{c(!0)},[c]),j=f.useCallback(()=>{d(!1)},[d]),I=f.useCallback(()=>{c(!1),S==null||S.focus()},[c,S]),A=f.useCallback(()=>{b(!1),w==null||w.focus()},[w]),$=f.useCallback(()=>{b(!0)},[]),D=f.useMemo(()=>{var M;return E.tools?(M=t==null?void 0:t.filter(O=>O.location==="topbar"))==null?void 0:M.map(O=>u.jsx(fe,{iconRight:O==null?void 0:O.icon,mode:"bleed",onClick:O==null?void 0:O.onAction,selected:O.selected,text:O.title},O.name)):null},[t,E.tools]);return u.jsx(z3n,{children:u.jsxs(RFn,{zOffset:100,"data-search-open":h,children:[u.jsx(PFn,{borderBottom:!0,"data-testid":"studio-navbar","data-ui":"Navbar",padding:3,sizing:"border",children:u.jsxs(FFn,{gap:1,children:[u.jsx(Xa,{children:u.jsxs(U,{align:"center",gap:2,justify:"flex-start",children:[u.jsxs(U,{align:"center",gap:2,children:[!E.tools&&u.jsx(fe,{mode:"bleed",icon:_B,onClick:$,ref:C,tooltipProps:{content:l("user-menu.open-menu"),placement:"bottom"}}),u.jsxs(U,{gap:1,children:[u.jsx(PPe,{}),u.jsx(TPe,{})]})]}),u.jsx(dFn,{...s,modal:E.newDocumentFullscreen?"dialog":"popover"}),!E.searchFullscreen&&u.jsx(sfe,{onClick:k,ref:_})]})}),u.jsx(U,{align:"center",justify:"center",children:E.tools&&u.jsx(g,{activeToolName:o,closeSidebar:A,context:"topbar",isSidebarOpen:!1,tools:r})}),u.jsx(Xa,{children:u.jsxs(U,{align:"center",gap:1,justify:"flex-end",children:[u.jsxs(U,{gap:1,children:[u.jsx(ru,{children:u.jsx(Aq,{fullscreen:E.searchFullscreen,children:u.jsx(Cf,{element:document.body,children:E.searchFullscreen?u.jsx(lb,{element:p,children:u.jsx(zPn,{onClose:I,onOpen:T,open:h})}):u.jsx(bPe,{onClose:j,onOpen:k,open:m})})})}),E.tools&&u.jsx(MPe,{type:"topbar"}),E.configIssues&&u.jsx(j3n,{}),E.resources&&u.jsx(CFn,{}),u.jsx(gFn,{}),E.searchFullscreen&&u.jsx(sfe,{onClick:T,ref:_}),D]}),E.tools&&u.jsx(L,{flex:"none",marginLeft:1,children:u.jsx(OFn,{})})]})})]})}),!E.tools&&u.jsx(eFn,{__internal_actions:t,activeToolName:o,isOpen:v,onClose:A,tools:r})]})})}function LFn(e){return!!e}const BFn=R(J$e)`
  list-style: none;
  white-space: nowrap;
  flex-shrink: 0;
  opacity: 0;
  visibility: hidden;
`,VFn=R(U)`
  opacity: 0;
  height: 0.1px;
  overflow: hidden;
`,zFn=f.forwardRef(function(e,t){const{children:n,gap:r,menuButtonProps:i,disableRestoreFocusOnClose:a,onMenuClose:o,collapsed:s,...l}=e,[c,d]=f.useState(null),[h,p]=f.useState([]),[m,g]=f.useState(!1),v=f.useMemo(()=>f.Children.toArray(n).filter(LFn),[n]),b=f.useMemo(()=>s||!m?null:v.filter(S=>!h.some(_=>_.key===S.key)),[v,s,h,m]),y=f.useMemo(()=>({root:c,threshold:1,rootMargin:"1px"}),[c]),x=f.useMemo(()=>(i==null?void 0:i.button)||u.jsx(wi,{}),[i]),w=f.useMemo(()=>s?v:v.filter(({key:S})=>h.find(_=>_.key===S)),[v,h,s]),C=f.useCallback((S,_)=>{const E=h.some(T=>T.key===_.key);m||g(!0);const k=S.isIntersecting;!E&&!k&&p(T=>[...T,_]),E&&k&&p(T=>T.filter(j=>j.key!==_.key))},[h,m,g,p]);return u.jsxs(U,{direction:"column",ref:t,sizing:"border",style:{position:"relative"},...l,children:[u.jsxs(U,{justify:"center",gap:r,flex:1,children:[b,(h.length>0||s)&&u.jsx(_Y,{disableRestoreFocusOnClose:a,menuButton:x,menuButtonProps:i,menuOptions:w,onMenuClose:o})]}),u.jsxs(VFn,{justify:"flex-start",gap:r,ref:d,"data-hidden":!0,"aria-hidden":"true",children:[f.cloneElement(x,{disabled:!0,"aria-hidden":!0}),v==null?void 0:v.map(S=>u.jsx(BFn,{options:y,onIntersectionChange:_=>C(_[0],S),children:f.cloneElement(S,{disabled:!0,"aria-hidden":!0,tabIndex:-1})},`${S.key}_observer`))]})]})}),NPe=f.forwardRef(function(e,t){const{name:n,...r}=e,i=l_(f.useCallback(()=>({tool:n,[n]:void 0}),[n]));return u.jsx(IO,{state:i,...r,ref:t})});function UFn(e){const{activeToolName:t,tools:n}=e,r=nh(),[i,a]=f.useState(null);o3e({rootElement:i,navigation:["arrows"]});const o=f.useMemo(()=>({popover:{constrainSize:!0,portal:!0,scheme:r}}),[r]),s=f.useMemo(()=>n.map((l,c)=>{const d=(l==null?void 0:l.title)||Rn(l.name),h=f.forwardRef(function(p,m){return u.jsx(NPe,{...p,ref:m,name:l.name,children:p.children})});return u.jsx(fe,{as:h,"data-as":"a",mode:"bleed",selected:t===l.name,text:d},`${l.name}-${c}`)}),[t,n]);return u.jsx(U,{justify:"center",marginX:4,children:u.jsx(zFn,{"data-testid":"tool-collapse-menu",gap:1,menuButtonProps:o,ref:a,children:s})})}function HFn(e){const{activeToolName:t,isVisible:n,tools:r}=e;return f.useMemo(()=>u.jsx(ee,{as:"ul",space:1,children:r.map(i=>{const a=(i==null?void 0:i.title)||Rn(i.name),o=f.forwardRef(function(s,l){return u.jsx(NPe,{...s,ref:l,name:i.name,children:s.children})});return u.jsx(ee,{as:"li",children:u.jsx(fe,{as:o,justify:"flex-start",mode:"bleed",selected:t===i.name,size:"large",tabIndex:n?0:-1,text:a})},i.name)})}),[t,n,r])}function WFn(e){const{context:t,isSidebarOpen:n,tools:r,...i}=e;return r.length<=1?null:t==="sidebar"?u.jsx(HFn,{isVisible:n,tools:r,...i}):u.jsx(UFn,{tools:r,...i})}const GFn=bi({name:"Field Copied",version:1,description:'User clicked the "Copy field" button in the field action menu or used the Ctrl+C shortcut'}),YFn=bi({name:"Field Pasted",version:1,description:'User clicked the "Paste field" button in the field action menu or used the Ctrl+V shortcut'});function LPe(e,t){var n;if(!t)return;const r=el(t),i=r[0];if(i&&Bi(e)){const a=(n=e==null?void 0:e.fields)==null?void 0:n.find(o=>o.name===i);if(a){const o=qt(r.slice(1));return o?LPe(a.type,o):a}}}function jC(e,t,n){if(!e)return;let r=e;return t.forEach((i,a)=>{const o=t.slice(0,a+1);if(Pn(i)||Cs(i)){const l=r,c=ia(n,o),d=mM(l,c);if(d){r=d;return}}const s=LPe(r,qt(o.length>1?o.slice(-1):o));s!=null&&s.type&&(r=s.type)}),r}const JS="web application/vnd.sanity-clipboard-item+json",EI="text/html",Sfe="text/plain",qFn=typeof ClipboardItem<"u"&&"supports"in ClipboardItem&&ClipboardItem.supports(JS),BPe="sanity-clipboard-base64";async function KFn(){const e=await navigator.clipboard.read();for(const t of e){const n=await XFn(t);if(n)return n}return null}async function ZFn(e){const t=c9(e.value),n=e4n(t),r=JFn(JSON.stringify(e)),i=new ClipboardItem({...qFn&&{[JS]:new Blob([JSON.stringify(e)],{type:JS})},[EI]:new Blob([`<p data-${BPe}="${r}">${n}</p>`],{type:EI}),[Sfe]:new Blob([t],{type:Sfe})});try{return await navigator.clipboard.write([i]),!0}catch(a){return console.error(`Failed to write to clipboard: ${a.message}`,a),!1}}async function XFn(e){if(e.types.includes(JS)){const r=await(await e.getType(JS)).text();return JSON.parse(r)}if(!e.types.includes(EI))return null;const t=await(await e.getType(EI)).text(),n=new DOMParser().parseFromString(t,"text/html");try{const r=n.querySelector(`[data-${BPe}]`);if(!r)return null;const{sanityClipboardBase64:i}=r.dataset;return i?JSON.parse(QFn(i)):null}catch{return null}}function JFn(e){const t=new TextEncoder().encode(e);let n="";for(let r=0;r<t.byteLength;r++)n+=String.fromCharCode(t[r]);return btoa(n)}function QFn(e){const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return new TextDecoder().decode(n)}function e4n(e){return new DOMParser().parseFromString(e,"text/html").documentElement.textContent}function c9(e){return e?xg(e)?e:Number.isFinite(e)?e.toString():Array.isArray(e)?e.map(c9).filter(Boolean).join(", "):typeof e=="object"?Object.entries(e).map(([t,n])=>t.startsWith("_")?"":c9(n)).filter(Boolean).join(", "):"":""}function Sc(e){return!!(e==null||Array.isArray(e)&&e.length===0)}function _fe(e){return e instanceof HTMLElement&&e.isContentEditable?!0:e instanceof HTMLInputElement&&/|text|email|number|password|search|tel|url/.test(e.type||"")||e instanceof HTMLTextAreaElement?!(e.disabled||e.readOnly):!1}function t4n(){if(typeof window>"u"||!window.getSelection)return!1;const e=window.getSelection();return e!==null&&!e.isCollapsed}function Efe(e){return e.length===0||e.length===1&&e[0]===""}async function n4n(e,t,n,r,i){if(!n.filter)return!0;const a=await NDe(n,e,r,i);if(!a.filter)return!0;try{const o=a.params||{},s=`*[${a.filter}]`,l=dH(s,o),c=await(await f_e(l,{params:o,dataset:[t]})).get();return!Sc(c)}catch(o){return console.error("Error evaluating GROQ filter:",o),!1}}function r4n(e,t){return!!(typeof e=="string"&&t.includes("string")||typeof e=="number"&&(t.includes("number")||t.includes("string"))||typeof e=="boolean"&&t.includes("boolean"))}function VPe(e,t){return yt(e)&&yt(t)&&(e.jsonType==="number"&&t.jsonType==="string"||VPe(e.type,t.type))}function i4n(e){return e.of.map(t=>t.jsonType)}function zPe(e,t){return yt(e)&&yt(t)&&(e.jsonType==="number"&&OI(t)&&i4n(t).includes("string")||zPe(e.type,t.type))}const a4n=()=>$y(12);async function o4n({sourceRootSchemaType:e,sourcePath:t,sourceValue:n,targetRootSchemaType:r,targetRootValue:i,targetRootPath:a,targetValue:o,targetPath:s,keyGenerator:l=a4n,options:c={validateReferences:!0,validateAssets:!0,client:void 0}}){const d=[];if(!e)throw new Error("Source root schema type is not defined");if(!r)throw new Error("Target root schema type is not defined");const h=jC(e,t,n),p=jC(r,s,o);if(!h)throw new Error("Could not find source schema type at path");if(!p)throw new Error("Could not find target schema type at path");if(r.readOnly||p.readOnly)return{targetValue:void 0,errors:[{level:"error",sourceValue:n,i18n:{key:"copy-paste.on-paste.validation.read-only-target.description"}}]};if(OC(h)&&m1(p)||m1(h)&&OC(p))return{targetValue:void 0,errors:[{level:"error",sourceValue:n,i18n:{key:"copy-paste.on-paste.validation.image-file-incompatible.description",args:{sourceSchemaType:e.name,targetSchemaType:r.name}}}]};const m=h.jsonType,g=p.jsonType,v=["number","string","boolean"].includes(m)&&OI(p);if(!(m===g||VPe(h,p)||zPe(h,p)||v))return{targetValue:void 0,errors:[{level:"error",sourceValue:n,i18n:{key:"copy-paste.on-paste.validation.schema-type-incompatible.description"}}]};const b=ia(n,t);return h.jsonType==="object"&&p.jsonType==="object"?Iq({sourceValue:b,targetSchemaType:p,targetRootValue:i,targetRootPath:a,targetPath:[],errors:d,keyGenerator:l,options:c}):h.jsonType==="array"&&p.jsonType==="array"?d9({sourceValue:b,targetSchemaType:p,targetRootValue:i,targetRootPath:a,errors:d,keyGenerator:l}):v?d9({sourceValue:[b],targetSchemaType:p,targetRootValue:i,targetRootPath:a,errors:d,keyGenerator:l}):UPe({sourceValue:b,targetSchemaType:p,errors:d})}async function Iq({sourceValue:e,targetSchemaType:t,targetPath:n,targetRootValue:r,targetRootPath:i,errors:a,keyGenerator:o,options:s}){var l,c,d,h;if(Sc(e))return{targetValue:void 0,errors:a};const p={_type:t.name,...e&&typeof e=="object"&&"_key"in e?{_key:o()}:{}},m=YL(e)&&qs(e.asset)?e.asset._ref:void 0,g=$C(e)?e._type:void 0,v=m&&gyt(m),b=m&&vyt(m),y=(g==="image"||v)&&!m1(t),x=(g==="file"||b)&&!OC(t);if($C(e)&&(y||x))return a.push({level:"error",sourceValue:e,i18n:{key:"copy-paste.on-paste.validation.image-file-incompatible.description",args:{sourceSchemaType:g,targetSchemaType:t.name}}}),{targetValue:void 0,errors:a};if(s!=null&&s.validateAssets&&s.client&&(m1(t)||OC(t))&&(l=t.options)!=null&&l.accept&&YL(e)&&qs(e.asset)){const k=(c=e.asset)==null?void 0:c._ref;if(!k)return{targetValue:void 0,errors:a};try{const T=m1(t)?"sanity.imageAsset":"sanity.fileAsset",j=await s.client.fetch("*[_type == $type &&_id == $ref][0]{mimeType, originalFilename}",{ref:k,type:T});if(!j)return{targetValue:void 0,errors:a};const I={type:j.mimeType,name:j.originalFilename},A=j.mimeType;if(!oI(I,t.options.accept))return a.push({level:"error",sourceValue:e,i18n:{key:"copy-paste.on-paste.validation.mime-type-incompatible.description",args:{mimeType:A}}}),{targetValue:void 0,errors:a}}catch(T){return console.error("Error fetching asset document:",T),a.push({level:"error",sourceValue:e,i18n:{key:"copy-paste.on-paste.validation.mime-type-validation-failed.description"}}),{targetValue:void 0,errors:a}}}if(Zs(t)){const k=t.to.map(T=>T.name);if(s!=null&&s.validateReferences&&s.client&&qs(e))try{const T=(d=t.options)!=null&&d.filter?"*[_id in $ids]|order(_updatedAt)[0]":"*[_id in $ids]|order(_updatedAt)[0]{_id, _type}",{publishedId:j,draftId:I}=FG(e._ref),A=await s.client.fetch(T,{ids:[j,I]});if(!A&&!t.weak)return a.push({level:"error",sourceValue:e,i18n:{key:"copy-paste.on-paste.validation.reference-validation-failed.description"}}),{targetValue:void 0,errors:a};if(!k.includes(A._type))return a.push({level:"error",sourceValue:e,i18n:{key:"copy-paste.on-paste.validation.reference-type-incompatible.description",args:{sourceReferenceType:A._type,targetReferenceTypes:k.join(", ")}}}),{targetValue:void 0,errors:a};if(s.client&&(h=t.options)!=null&&h.filter){const $=D=>s.client.withConfig(D);if(!await n4n(r||{},A,t.options,i,$))return a.push({level:"error",sourceValue:e,i18n:{key:"copy-paste.on-paste.validation.reference-filter-incompatible.description"}}),{targetValue:void 0,errors:a}}}catch(T){return console.error("Error fetching reference document:",T),a.push({level:"error",sourceValue:p,i18n:{key:"copy-paste.on-paste.validation.reference-validation-failed.description"}}),{targetValue:void 0,errors:a}}}const w={},C=L9(t)&&yr(e)&&!Sc(e.markDefs);if(C){const k=e.markDefs||[];k.filter(T=>T._key).forEach(T=>{w[T._key]=o()}),p.markDefs=k.map(T=>({...T,_key:w[T._key]}))}const S=t.fields;for(const k of S){const T=k.type,j=Is(T),I=Bi(T);if(MI(T)){const A=e?e[k.name]:void 0,$=UPe({sourceValue:A,targetSchemaType:T,errors:a});Sc($.targetValue)||(p[k.name]=$.targetValue)}else if(I){const A=await Iq({sourceValue:ia(e,n.concat(k.name)),targetPath:[],targetSchemaType:T,targetRootValue:r,targetRootPath:i,errors:a,keyGenerator:o});Sc(A.targetValue)||(p[k.name]=kfe(A.targetValue))}else if(j){const A=e?e[k.name]:void 0,$=await d9({sourceValue:A,targetSchemaType:T,targetRootValue:r,targetRootPath:i,errors:a,keyGenerator:o});if(C&&k.name==="markDefs"&&!Sc(p.markDefs))continue;Sc($.targetValue)||(p[k.name]=$.targetValue)}}const _=ia(p,n),E=kfe(_);return Object.keys(w).length>0&&yr(E)&&(E.children=E.children.map(k=>Ti(k)&&k.marks?{...k,marks:[...k.marks.map(T=>w[T]||T)]}:k)),Zs(t)&&t.weak&&(E._weak=!0),Zs(t)&&qs(e)&&e._strengthenOnPublish&&(E._weak=!0,E._strengthenOnPublish=e._strengthenOnPublish),{targetValue:E,errors:a}}async function d9({sourceValue:e,targetSchemaType:t,targetRootValue:n,targetRootPath:r,errors:i,keyGenerator:a}){let o;const s=e;if(!s||!Array.isArray(s))return{targetValue:void 0,errors:[{level:"error",sourceValue:e,i18n:{key:"copy-paste.on-paste.validation.array-type-incompatible.description",args:{type:typeof s}}}]};const l=OI(t),c=Fp(t);if(l){const d=t.of.map(g=>g.jsonType),h=d.includes("number"),p=s.filter(g=>r4n(g,d)).map(g=>!h&&typeof g=="number"?`${g}`:g),m=s.filter(g=>!p.includes(!h&&typeof g=="number"?`${g}`:g));m.length>0&&m.forEach(g=>{i.push({level:p.length>0?"warning":"error",sourceValue:g,i18n:{key:"copy-paste.on-paste.validation.array-value-incompatible.description",args:{type:typeof g}}})}),p.length>0&&(o=p)}if(c){const d=e,h=d.filter(m=>t.of.some(g=>g.name===m._type)),p=d.filter(m=>!t.of.some(g=>g.name===m._type));h.length===0?o=void 0:o=(await Promise.all(h.map(m=>Iq({sourceValue:m,targetSchemaType:t.of.find(g=>g.name===m._type),targetPath:[],targetRootValue:n,targetRootPath:r,errors:i,keyGenerator:a})))).map(m=>m.targetValue).filter(m=>!Sc(m)),p.length>0&&p.forEach(m=>{i.push({level:h.length>0?"warning":"error",sourceValue:m,i18n:{key:"copy-paste.on-paste.validation.array-value-incompatible.description",args:{type:m._type||typeof m}}})})}return{targetValue:o,errors:i}}function UPe({sourceValue:e,targetSchemaType:t,errors:n}){var r,i;let a;const o=e;if(typeof o>"u")return{targetValue:void 0,errors:n};const s=t.jsonType===typeof o,l=typeof o=="number"&&t.jsonType==="string";if(s||l){const c=typeof o=="string"||typeof o=="number";if((vp(t)||F9(t))&&c){const d=((i=(r=t.options)==null?void 0:r.list)==null?void 0:i.map(h=>typeof h=="string"||typeof h=="number"?h:h.value))||[];d.length>0&&!d.includes(o)&&n.push({level:"error",sourceValue:o,i18n:{key:"copy-paste.on-paste.validation.string-value-incompatible.description",args:{value:o,allowedStrings:d}}})}a=l?`${o}`:o}else n.push({level:"error",sourceValue:o,i18n:{key:"copy-paste.on-paste.validation.primitive-type-incompatible.description",args:{type:typeof o}}});return{targetValue:a,errors:n}}function kfe(e){const t=["_id","_createdAt","_updatedAt","_rev","_weak"];return Object.keys(e).reduce((n,r)=>t.includes(r)?n:{...n,[r]:e[r]},{})}const s4n=({children:e})=>{const t=Pr(),n=Os(),r=en(),{t:i}=Y("copy-paste"),a=Zt(Gt),[o,s]=f.useState(null),l=f.useCallback(({documentId:p,documentType:m,schemaType:g,onChange:v})=>{const b={documentId:fn(p),documentType:m,schemaType:g,onChange:v};s(y=>wt(y,b)?y:b)},[]),c=f.useCallback(async(p,m,g)=>{var v,b;if(!o)return;const{documentId:y,documentType:x,schemaType:w}=o,C=jC(w,p,m);if(!C){t.push({status:"error",title:i("copy-paste.on-copy.validation.schema-type-incompatible.title",{path:qt(p)})});return}const S=((v=C.type)==null?void 0:v.name)==="document",_=ia(m,p);if(Sc(_)){t.push({status:"warning",title:i("copy-paste.on-copy.validation.no-value.title")});return}const E={type:"sanityClipboardItem",documentId:y,documentType:x,isDocument:S,schemaTypeName:C.name,valuePath:p,value:_};if(n.log(GFn,{context:((b=g==null?void 0:g.context)==null?void 0:b.source)||"unknown",schemaTypes:[C.jsonType]}),!await ZFn(E)){t.push({status:"error",title:i("copy-paste.on-copy.validation.clipboard-not-supported.title")});return}const k=C.title||w.name||"unknown";t.push({status:"success",title:S?i("copy-paste.on-copy.validation.copy-document-success.title",{fieldNames:k}):i("copy-paste.on-copy.validation.copy-field_one-success.title",{fieldName:k})})},[o,n,t,i]),d=f.useCallback(async(p,m,g)=>{var v;if(!o)return;const{schemaType:b,onChange:y}=o,x=jC(b,p,m),w=await KFn();if(!w){t.push({status:"info",title:i("copy-paste.on-paste.validation.clipboard-empty.title")});return}if(!w.documentType){t.push({status:"error",title:i("copy-paste.on-paste.validation.clipboard-invalid.title")});return}const C=r.get(w.documentType);if(!C){t.push({status:"error",title:i("copy-paste.on-paste.validation.clipboard-invalid.title")});return}const S=[],_=[],E=jC(C,w.valuePath,m);if(!E){t.push({status:"error",title:i("copy-paste.on-paste.validation.schema-type-incompatible.title",{path:qt(w.valuePath)})});return}if(!b){t.push({status:"error",title:i("copy-paste.on-paste.validation.schema-type-incompatible.title",{path:qt(p)})});return}const k=x.title||x.name,T={sourceRootSchemaType:E,sourcePath:[],sourceValue:w.value,targetRootSchemaType:x,targetPath:[],targetRootPath:p,targetRootValue:m,options:{validateAssets:!0,validateReferences:!0,client:a}};_.push(E.jsonType);try{const{targetValue:j,errors:I}=await o4n(T),A=I.filter(D=>D.level!=="warning"),$=Sc(j);if(A.length>0){const D=i(A[0].i18n.key,A[0].i18n.args);t.push({status:"error",title:i("copy-paste.on-paste.validation.clipboard-invalid.title"),description:D});return}if(I.length>0&&!$){const D=I.map(M=>i(M.i18n.key,M.i18n.args)).join(", ");t.push({status:"warning",title:i("copy-paste.on-paste.validation.partial-warning.title"),description:D})}if($){t.push({status:"warning",title:i("copy-paste.on-paste.validation.clipboard-empty.title")});return}S.push({patches:[st(j,p)],targetSchemaTypeTitle:k})}catch(j){t.push({status:"error",title:j.message});return}if(n.log(YFn,{context:((v=g==null?void 0:g.context)==null?void 0:v.source)||"unknown",schemaTypes:_}),S.length){const j=cr(S.map(({patches:A})=>A)),I=S.map(A=>A.targetSchemaTypeTitle).join('", "');if(y(jt.from(j)),w.isDocument){t.push({status:"success",title:i("copy-paste.on-paste.validation.document-paste-success.title",{fieldNames:I})});return}S.length===1&&t.push({status:"success",title:i("copy-paste.on-paste.validation.field_one-paste-success.title",{fieldName:I})})}},[o,r,n,t,a,i]),h=f.useMemo(()=>({setDocumentMeta:l,onCopy:c,onPaste:d}),[c,d,l]);return u.jsx(xpe.Provider,{value:h,children:e})},UM=()=>{const e=f.useContext(xpe);if(!e)throw new Error("useCopyPaste must be used within a CopyPasteProvider");return e},Tfe=12,l4n=4;function u4n(e){const t=encodeURIComponent(e);return`url("data:image/svg+xml,${`%3Csvg width='9' height='9' viewBox='0 0 9 9' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 8L8 1' stroke='${t}' stroke-linecap='round'/%3E%3Cpath d='M5 8L8 5' stroke='${t}' stroke-linecap='round'/%3E%3C/svg%3E%0A`}")`}const c4n=i6e(e=>{const{color:t,font:n}=Ee(e.theme);return ce`
    ::-webkit-resizer {
      background-image: ${u4n(t.icon)};
      background-repeat: no-repeat;
      background-position: bottom right;
    }

    ::-webkit-scrollbar {
      width: ${Tfe}px;
      height: ${Tfe}px;
    }

    ::-webkit-scrollbar-corner {
      background-color: transparent;
    }

    ::-webkit-scrollbar-thumb {
      background-clip: content-box;
      background-color: var(--card-border-color, ${t.border});
      border: ${l4n}px solid transparent;
    }

    ::-webkit-scrollbar-thumb:hover {
      background-color: var(--card-muted-fg-color, ${t.muted.fg});
    }

    ::-webkit-scrollbar-track {
      background: transparent;
    }

    *::selection {
      background-color: ${VI(t.focusRing,.3)};
    }

    html {
      background-color: ${t.bg};
    }

    body {
      scrollbar-gutter: stable;
    }

    #sanity {
      font-family: ${n.text.family};
    }

    b {
      font-weight: ${n.text.weights.medium};
    }

    strong {
      font-weight: ${n.text.weights.medium};
    }
  `}),Afe=xIe.__sanityErrorChannel;function d4n(){const{push:e}=Pr();return f.useEffect(()=>{if(Afe)return Afe.subscribe(t=>{t.error&&(f4n(t.error)||(console.error(t.error),e({id:t.error.message,closable:!0,description:t.error.message,duration:5e3,title:"Uncaught error",status:"error"})))})},[e]),null}function f4n(e){return e instanceof VM||e instanceof XO||e instanceof zl}function h4n({children:e,AuthenticateComponent:t=APe,LoadingComponent:n=wn,NotAuthenticatedComponent:r=jPe}){const[i,a]=f.useState(null);if(i)throw i;const[o,s]=f.useState("loading"),{activeWorkspace:l}=X0();return f.useEffect(()=>{var c,d;(d=(c=l.auth).handleCallbackUrl)==null||d.call(c).catch(a)},[l.auth]),f.useEffect(()=>{const c=l.auth.state.subscribe({next:({authenticated:d,currentUser:h})=>{var p;if(((p=h==null?void 0:h.roles)==null?void 0:p.length)===0){s("unauthorized");return}s(d?"logged-in":"logged-out")},error:a});return()=>{c.unsubscribe()}},[l]),o==="loading"?u.jsx(n,{}):o==="unauthorized"?u.jsx(r,{}):o==="logged-out"?u.jsx(t,{}):u.jsx(u.Fragment,{children:e})}const p4n={toast:[100,11e3]},m4n={apiVersion:"2023-12-18"};function g4n(e){const{errorReporter:t}=e,n=Zt(m4n);return f.useEffect(()=>{const r=n.observable.request({uri:"/intake/telemetry-status",tag:"telemetry-consent.error-reporting"}).subscribe({next:i=>{(i==null?void 0:i.status)==="granted"?t.enable():t.disable()},error:i=>{console.error("Error fetching telemetry status",i)}});return()=>r.unsubscribe()},[n,t]),null}const v4n="v1",y4n="https://sanity-cdn.com",b4n=`${y4n}/${v4n}/modules/`,x4n=async(e,t)=>{try{const n=`t${Math.floor(Date.now()/1e3)}`;return(await fetch(`${b4n}${e}/default/^${t}/${n}`,{headers:{accept:"application/json"}})).json().then(r=>r.packageVersion)}catch(n){console.error("Failed to fetch latest version for package",e,"Error:",n);return}},w4n=async e=>{const t=await Promise.all(Object.entries(e).map(async([n,r])=>[n,await x4n(n,r)]));return Object.fromEntries(t)},C4n=1e3*30,S4n=1e3*60*30,b4={sanity:Pl};function _4n({children:e}){const t=Pr(),{t:n}=Y(),r=f.useRef(null),i=wPe(),a=f.useCallback(()=>{const o=()=>{window.location.reload()};t.push({id:"new-package-available",title:n("package-version.new-package-available.title"),description:u.jsx(ee,{space:2,paddingBottom:2,children:u.jsx(L,{children:u.jsx(St,{"aria-label":n("package-version.new-package-available.reload-button"),onClick:o,text:n("package-version.new-package-available.reload-button"),tone:"primary"})})}),closable:!0,status:"info",duration:1e3*60*60*24*24})},[t,n]);return f.useEffect(()=>{if(!i)return;const o=()=>{r.current&&r.current+S4n>Date.now()||w4n(b4).then(l=>{r.current=Date.now(),l&&Object.entries(l).some(([c,d])=>!d||!b4[c]?!1:XUt.gt(d,b4[c]))&&a()})};o();const s=setInterval(o,C4n);return()=>clearInterval(s)},[i,a]),u.jsx(u.Fragment,{children:e})}const E4n=z7t();function k4n(e){const t=Zt({apiVersion:"v2023-12-18"}),n=t.config().projectId,r=f.useMemo(()=>q7t(E4n,{flushInterval:3e4,resolveConsent:()=>t.request({uri:"/intake/telemetry-status",tag:"telemetry-consent.studio"}),sendEvents:i=>t.request({uri:"/intake/batch",method:"POST",json:!0,body:{projectId:n,batch:i}}),sendBeacon:i=>navigator.sendBeacon(t.getUrl("/intake/batch"),JSON.stringify({projectId:n,batch:i}))}),[t,n]);return f.useEffect(()=>{r.logger.updateUserProperties({userAgent:navigator.userAgent,screen:{density:window.devicePixelRatio,height:window.screen.height,width:window.screen.width,innerHeight:window.innerHeight,innerWidth:window.innerWidth},studioVersion:Pl,plugins:$b(e.config).flatMap(i=>{var a;return((a=i.plugins)==null?void 0:a.flatMap(o=>({name:o.name||"<unnamed>"})))||[]})})},[e.config,r.logger]),u.jsx(QUt,{store:r,children:e.children})}Fg.fonts.code.family,Fg.fonts.text.family,c5.hex,rf.hex,hw[500].hex,rf.hex,c5.hex,Ww[500].hex,Ww[500].hex,Ww[500].hex,Eg[500].hex,hw[500].hex,U4[500].hex,OT[500].hex,hw[500].hex,hw[500].hex,U4[500].hex,OT[500].hex,Eg[500].hex,c5.hex,rf.hex;const Xk=ome(),T4n=e=>e.__themer===!0;function jfe(e){var t,n;return{...Xk,v2:e.v2,fonts:T4n(e)?Xk.fonts:(t=e.fonts)!=null?t:Xk.fonts,color:(n=e.color)!=null?n:Xk.color}}function A4n({children:e}){const t=X0().activeWorkspace.theme;if(t.__legacy){const n=t.__dark?"dark":"light";return u.jsx(FI.Provider,{value:!1,children:u.jsx(NI.Provider,{value:n,children:u.jsx(oS,{scheme:n,theme:jfe(t),children:u.jsx(ru,{children:e})})})})}return u.jsx(oS,{theme:jfe(t),children:u.jsx(ru,{children:e})})}R(U)``;R(L).attrs({padding:4})``;function j4n(e){const{basePath:t="/",tools:n}=e,r=ma.create("/:tool",i=>{let a=n.find(o=>o.name===i.tool);return!a&&i.tool==="desk"&&(a=n.find(o=>o.name==="structure")),a?ma.scope(a.name,"/",a.router):ma.create("/")});return ma.create(t,[ma.intents("/intent"),r])}function Dq(e){const t={}.toolSwitcher||{},n=t.order||[],r=t.hidden||[];if(!n.length&&!r.length)return e;const i=e.reduce((s,l)=>{const c=l.title||"<unknown>";if(!l.name)return console.warn(`Tool "${c}" does not have the required "name" property`),s;if(s[l.name]){const h=s[l.name].tool.title;return console.warn(`Tools with duplicate name "${l.name}" found ("${c}" and "${h}")`),s}const d=n.indexOf(l.name);return s[l.name]={tool:l,index:d===-1?1/0:d},s},{}),a=s=>r.indexOf(s.name)===-1,o=e.filter(a);return o.sort((s,l)=>{const c=i[s.name],d=i[l.name],h=c?c.index:1/0,p=d?d.index:1/0;return h===p?0:h-p}),o}const I4n=["template"],D4n=["mode"];function $4n(e,t){const n=Dq(e)[0];return!t||t.tool||!n?t:Object.assign({},t,{tool:n.name})}function O4n(e,t){return t&&(Dq(e).find(n=>n.name===t.space)?{...t,tool:t.space,space:void 0}:t)}function M4n(e,t){return $4n(e,O4n(e,t))}function R4n(e,t,n){var r;const{intent:i,params:a,payload:o}=n;if(typeof i!="string")throw new Error("intent must be a string");if(!yt(a))throw new Error("intent params must be a string");const s=Dq(e),l=t!=null&&t.tool?s.find(m=>m.name===t.tool):null,c=l?s.filter(m=>m!==l):s;let d=[];i==="create"?d=I4n:i==="edit"&&(d=D4n);const h={score:-1,tool:null},{tool:p}=(l?[l,...c]:s).reduce((m,g)=>{if(!g||typeof g.canHandleIntent!="function")return m;const v=g.canHandleIntent(i,a,t&&t[g.name]);if(typeof v=="boolean")return v&&m.score<0?{score:0,tool:g}:m;if(!yt(v))return m;const b=d.reduce((y,x)=>x in a&&v[x]===!0?y+1:y,0);return b>m.score?{score:b,tool:g}:m},h);if(p!=null&&p.getIntentState){const m=p.getIntentState(i,a,t&&t[p.name],o),{_searchParams:g,...v}=m,b={...t,_searchParams:n._searchParams,tool:p.name,[p.name]:v};return(r=p.router)!=null&&r.__unsafe_disableScopedSearchParams?b._searchParams=g:v._searchParams=g,{type:"state",isNotFound:!1,state:b}}return{type:"intent",isNotFound:!0,intent:{name:i,params:a}}}function P4n(e,t){return{type:"state",state:e.decode(t)||{},isNotFound:e.isNotFound(t)}}function F4n({children:e,LoadingComponent:t,workspace:n}){const{basePath:r,tools:i}=n,a=BMn(),o=f.useMemo(()=>j4n({basePath:r,tools:i}),[r,i]),[s,l]=N4n(a,o,i);return s?u.jsx(eGt,{onNavigate:l,router:o,state:s,children:e}):u.jsx(t,{})}function N4n(e,t,n){var r;const i=f.useMemo(()=>{const l=t.getBasePath(),c=new RegExp(`^${nG(l)}(\\/|$)`,"i"),d=h=>l==="/"?!0:c.test(h);return{subscribe:h=>e.listen(h),getSnapshot:()=>`${e.location.pathname}${e.location.search||""}`,getServerSnapshot:()=>null,selector:h=>typeof h=="string"&&d(h)?P4n(t,h):null}},[e,t]),a=tG.useSyncExternalStoreWithSelector(i.subscribe,i.getSnapshot,i.getServerSnapshot,i.selector,wt),o=f.useRef(a);f.useEffect(()=>{var l;if((a==null?void 0:a.type)==="state"&&!((l=a.state)!=null&&l.intent)){const c=M4n(n,a.state);c&&c!==a.state&&e.replace(t.encode(c))}},[a==null?void 0:a.state,a==null?void 0:a.type,e,t,n]),f.useEffect(()=>{const l=Ife(a,t,n,o);l?e.replace(l):o.current=a},[a,e,t,n]);const s=f.useMemo(()=>({path:l,replace:c})=>{const d=i.selector(l),h=Ife(d,t,n,o),p=typeof h=="string"?h:l;c?e.replace(p):e.push(p)},[e,t,i,n]);return[(r=a==null?void 0:a.state)!=null?r:null,s]}function Ife(e,t,n,r){var i,a;if((e==null?void 0:e.type)==="state"&&(i=e.state)!=null&&i.intent){const o=R4n(n,((a=r.current)==null?void 0:a.type)==="state"?r.current.state:{},e.state);if((o==null?void 0:o.type)==="state")return t.encode(o.state)}return null}function HPe(e){const[t,n]=f.useState(null);if(t)throw t;const[r,i]=f.useState(null);return f.useEffect(()=>{const a=aa(e.__internal.sources.map(({source:o})=>o.pipe(Cn(s=>{if(s instanceof zl)return xe(s);throw s})))).pipe(de(o=>{const s=o.filter(l=>l instanceof zl);if(s.length)throw new zl({name:e.name,causes:s,type:"workspace"});return o}),de(([o,...s])=>({...e,...o,unstable_sources:[o,...s],type:"workspace"}))).subscribe({next:i,error:n});return()=>a.unsubscribe()},[e]),r}function L4n({children:e,LoadingComponent:t}){const{activeWorkspace:n}=X0(),r=HPe(n);return r?u.jsx(PDe,{workspace:r,children:u.jsx(gM,{source:r.unstable_sources[0],children:u.jsx(F4n,{LoadingComponent:t,workspace:r,children:e})})}):u.jsx(t,{})}function WPe({ConfigErrorsComponent:e,...t}){const[{error:n},r]=f.useState({error:null});if(n)throw n;return u.jsx(sb,{onCatch:r,children:u.jsx(L4n,{...t})})}jg.registerLanguage(CGt);jg.registerLanguage(oVe);jg.registerLanguage(_Gt);jg.registerLanguage(kGt);jg.registerLanguage(AGt);function B4n({children:e,config:t,basePath:n,onSchemeChange:r,scheme:i,unstable_history:a,unstable_noAuthBoundary:o}){l9.initialize();const s=f.useMemo(()=>u.jsx(WPe,{LoadingComponent:wn,ConfigErrorsComponent:l3n,children:u.jsx(k4n,{config:t,children:u.jsx(ran,{children:u.jsxs(_4n,{children:[u.jsx(g4n,{errorReporter:l9}),u.jsx(YOe,{children:e})]})})})}),[e,t]);return u.jsx(KMn,{onSchemeChange:r,scheme:i,children:u.jsxs(Fxe,{paddingY:7,zOffset:p4n.toast,children:[u.jsx(d4n,{}),u.jsx(DPe,{children:u.jsx(NMn,{config:t,basePath:n,LoadingComponent:wn,children:u.jsx(qMn,{unstable_history:a,NotFoundComponent:d3n,LoadingComponent:wn,children:u.jsx(A4n,{children:u.jsx(zan,{children:o?s:u.jsx(h4n,{LoadingComponent:wn,AuthenticateComponent:APe,NotAuthenticatedComponent:jPe,children:s})})})})})})]})})}function Dfe(e){const{basePath:t,config:n,onSchemeChange:r,scheme:i,unstable_globalStyles:a,unstable_history:o,unstable_noAuthBoundary:s}=e;return u.jsxs(B4n,{basePath:t,config:n,onSchemeChange:r,scheme:i,unstable_history:o,unstable_noAuthBoundary:s,children:[a&&u.jsx(c4n,{}),u.jsx(x3n,{})]})}function V4n(e,t,n=!1){if(!e)throw new Error("Missing root element to mount application into");const r=typeof n=="boolean"?{reactStrictMode:n}:n,{reactStrictMode:i=!1,basePath:a}=r,o=mIe(e);return o.render(i?u.jsx(f.StrictMode,{children:u.jsx(Dfe,{config:t,basePath:a,unstable_globalStyles:!0})}):u.jsx(Dfe,{config:t,basePath:a,unstable_globalStyles:!0})),()=>o.unmount()}function Zt(e){const t=Dn();return e?t.getClient(e):(console.warn('Calling `useClient()` without specifying an API version is deprecated and will stop working in the next dev-preview release - please migrate to use `useClient({apiVersion: "2021-06-07"})`.'),t.getClient({apiVersion:"2021-06-07"}))}const $fe="connecting";function GPe(e,t){const n=vl(),r=f.useMemo(()=>n.pair.documentEvents(e,t).pipe(de(i=>i.type),de(i=>i!=="reconnect"),mt(i=>i?xe("connected"):vi(200).pipe(E$("reconnecting"))),Vi($fe),xr()),[t,n.pair,e]);return Jr(r,$fe)}function YPe(){return Dn().dataset}function bu(e,t){const n=vl(),r=f.useMemo(()=>n.pair.editOperations(e,t),[t,n.pair,e]);return Jr(r)}function qPe(e,t){const n=vl(),r=f.useMemo(()=>n.pair.operationEvents(e,t),[t,n.pair,e]);return Jr(r)}function HM(e,t,n="default"){const r=vl(),i=f.useMemo(()=>{if(n==="low"){const a=r.pair.editState(e,t).pipe(Yo());return Mn(a.pipe($a(1)),a.pipe(QCe(1),wU(()=>vi(1e3))))}return r.pair.editState(e,t)},[t,r.pair,n,e]);return Jr(i)}const f9=[],Ofe={enabled:!0,error:null,features:f9,isLoading:!0};function z4n({versionedClient:e}){return e.observable.request({uri:"/features",tag:"features"})}const x4=new Map;function P_(e){const t=Zt(Gt),{projectId:n}=Dn();if(!x4.get(n)){const i=z4n({versionedClient:t}).pipe(oa());x4.set(n,i)}const r=f.useMemo(()=>(x4.get(n)||xe(f9)).pipe(de((i=[])=>({isLoading:!1,enabled:!!(i!=null&&i.includes(e)),features:i,error:null})),Vi(Ofe),Cn(i=>xe({isLoading:!1,enabled:!1,features:f9,error:i}))),[e,n]);return Jr(r,Ofe)}const U4n=Ki("mod+c"),H4n=Ki("mod+v");function W4n({value:e,element:t,focusPath:n}){const r=f.useRef(n||[]),i=f.useRef(e);i.current=e,f.useEffect(()=>{r.current=n||[]},[n]);const{onCopy:a,onPaste:o}=UM(),s=f.useCallback(l=>{const c=l.target;if(U4n(l)){if(_fe(c)||t4n()||Efe(r.current))return;l.preventDefault(),l.stopPropagation(),a(r.current,i.current,{context:{source:"keyboardShortcut"}})}if(H4n(l)){if(_fe(c)||Efe(r.current)||Ldn(c))return;l.stopPropagation(),l.preventDefault(),o(r.current,i.current,{context:{source:"keyboardShortcut"}})}},[a,o]);f.useEffect(()=>(t==null||t.addEventListener("keydown",s),()=>{t==null||t.removeEventListener("keydown",s)}),[t,s,o])}const Mfe=1e3*5,G4n=1e3*20,KPe=1e3*60,Rfe=KPe*60,ZPe={month:"short",day:"numeric"},XPe={...ZPe,year:"numeric"},Y4n={...XPe,hour:"numeric",minute:"numeric"};function d0(e,t={}){const n=q4n(e,t),[,r]=f.useReducer(i=>i+1,0);return f.useEffect(()=>{let i;function a(o){i=window.setTimeout(()=>{r(),i=window.setTimeout(()=>a(o),o)},o)}return n.refreshInterval!==null&&a(n.refreshInterval),()=>{i!==null&&clearTimeout(i)}},[r,n.refreshInterval]),n.timestamp}function q4n(e,t={}){const{t:n}=Y(),r=rm().id,{timeZone:i,minimal:a}=t,o=e instanceof Date?e:new Date(e),s=!!t.useTemporalPhrase,l=f.useCallback(function(y,x){const w=x==="day"&&Math.abs(y)===1,C=x==="week"&&Math.abs(y)===1;return s||w?qd.relativeTimeFormat(r,{style:a&&!C?"short":"long",numeric:"auto"}).format(y,x):qd.numberFormat(r,{style:"unit",unit:x,unitDisplay:a?"short":"long"}).format(Math.abs(y))},[r,s,a]);if(!o.getTime())return{timestamp:"",refreshInterval:null};const c=t.relativeTo||Date.now(),d=HEe(c,o),h=AIt(c,o);if(d||h)return t.minimal&&h===0?{timestamp:qd.dateTimeFormat(r,{...ZPe,timeZone:i}).format(o),refreshInterval:null}:t.minimal?{timestamp:qd.dateTimeFormat(r,{...XPe,timeZone:i}).format(o),refreshInterval:null}:{timestamp:qd.dateTimeFormat(r,{...Y4n,timeZone:i}).format(o),refreshInterval:null};const p=TIt(o,c);if(p)return{timestamp:l(p,"week"),refreshInterval:Rfe};const m=UEe(o,c);if(m)return{timestamp:l(m,"day"),refreshInterval:Rfe};const g=SIt(o,c);if(g)return{timestamp:l(g,"hour"),refreshInterval:KPe};const v=_It(o,c);if(v)return{timestamp:l(v,"minute"),refreshInterval:G4n};const b=WEe(o,c);return Math.abs(b)>10?{timestamp:l(b,"second"),refreshInterval:Mfe}:{timestamp:n("relative-time.just-now"),refreshInterval:Mfe}}const K4n={isSyncing:!0},Pfe={isSyncing:!1};function JPe(e,t){const n=vl(),r=f.useMemo(()=>n.pair.consistencyStatus(e,t).pipe(de(i=>i?Pfe:K4n)),[n.pair,t,e]);return Jr(r,Pfe)}function nx(){return Dn().templates}function Z4n(){return Dn().tools}const Ffe={data:[],error:null,loading:!0};let Nfe=null;function QPe(e){const{documentValue:t,permission:n}=e,r=PCn(),i=LY(),a=Zt(Gt),[o,s]=f.useState(Ffe),l=f.useMemo(()=>{const c=r.get().pipe(de(p=>{var m;return(m=p.members)==null?void 0:m.filter(g=>!g.isRobot)})).pipe(mt(async p=>{const m=p.map(({id:g})=>g);return await i.getUsers(m)}),de(p=>p.map(m=>({displayName:m.displayName,id:m.id,granted:!1})))),d=Nfe,h=d?xe(d):a.observable.fetch('*[_type == "system.group"]');return Lft([c,h]).pipe(It(async([p,m])=>{d||(Nfe=m);const g=p==null?void 0:p.map(async v=>{const b=[...m.map(x=>x.members.includes(v.id)?x.grants:[])].flat(),{granted:y}=await zOe(v.id,b,n,t);return{...v,granted:y}});return await Promise.all(g||[])})).pipe(de(p=>({error:null,loading:!1,data:Zp(p,"displayName")})))},[a.observable,t,r,i,n]);return f.useEffect(()=>{const c=xe(Ffe),d=Ai(c,l).subscribe({next:s,error:h=>{s({data:[],error:h,loading:!1})}});return()=>{d.unsubscribe()}},[l]),o}const w4=R(N)`
  white-space: nowrap;
`;function By({absoluteDate:e,draft:t,published:n,singleLine:r}){const{t:i}=Y(),a=t&&"_updatedAt"in t?t._updatedAt:"",o=n&&"_updatedAt"in n?n._updatedAt:"",s=Xl({dateStyle:"medium",timeStyle:"short"}),l=a&&s.format(new Date(a)),c=o&&s.format(new Date(o)),d=d0(a||"",{minimal:!0,useTemporalPhrase:!0}),h=d0(o||"",{minimal:!0,useTemporalPhrase:!0}),p=e?c:h,m=e?l:d;return u.jsxs(U,{align:r?"center":"flex-start","data-testid":"pane-footer-document-status",direction:r?"row":"column",gap:2,wrap:"nowrap",children:[!p&&u.jsx(w4,{size:1,weight:"medium",children:i("document-status.not-published")}),p&&u.jsx(w4,{size:1,weight:"medium",children:i("document-status.published",{date:p})}),m&&u.jsx(w4,{muted:!0,size:1,wrap:"nowrap",children:i("document-status.edited",{date:m})})]})}const Lfe=new WeakMap;let X4n=0;function e3e(e){const t=Lfe.get(e);if(t)return t;const n=`${e.name||e.displayName||"<anonymous>"}-${X4n++}`;return Lfe.set(e,n),n}function J4n({hook:e,id:t}){const n=({args:i,handleNext:a,handleReset:o})=>{const s=e({...i,onComplete:()=>{o(t)}});return f.useEffect(()=>(a(t,s),()=>{a(t,null)}),[a,s]),null},{displayName:r="HookState"}=e;return n.displayName=r,f.memo(n,(i,a)=>i.args===a.args)}const t3e=f.memo(({hooks:e,keys:t,args:n,handleNext:r,handleReset:i})=>{const a=f.useMemo(()=>e.map(o=>{const s=e3e(o),l=t[s]||0;return[J4n({hook:o,id:s}),`${s}-${l}`]}),[e,t]);return u.jsx(u.Fragment,{children:a.map(([o,s])=>u.jsx(o,{args:n,handleNext:r,handleReset:i},s))})});t3e.displayName="Memo(HookCollectionState)";function Q4n(e){const[t,n]=f.useState({}),r=f.useCallback(i=>{n(a=>({...a,[i]:(a[i]||0)+1})),e==null||e()},[e]);return{keys:t,handleReset:r}}const eNn=e=>{const t=Date.now();return setTimeout(()=>{e({didTimeout:!1,timeRemaining(){return Math.max(0,Date.now()-t)}})},1)},tNn=e=>clearTimeout(e),nNn=typeof requestIdleCallback>"u"?eNn:requestIdleCallback,rNn=typeof cancelIdleCallback>"u"?tNn:cancelIdleCallback,iNn={trailing:!0};function Bfe(e,{hooks:t}){return t.map(n=>{const r=e3e(n);return e.get(r)}).filter(sa)}function aNn({hooks:e,group:t}){const[n]=f.useState(()=>new Map),[r,i]=f.useState(()=>Bfe(n,{hooks:e})),a=f.useRef(0),o=f.useCallback(()=>{rNn(a.current),a.current=nNn(()=>{i(Bfe(n,{hooks:e}))})},[e,n]),s=Wrn(o,60,iNn),l=f.useCallback((c,d)=>{let h=!0;const p=(d==null?void 0:d.group)||["default"];if(d===null||t&&!p.includes(t))n.delete(c);else{if(n.has(c)){const m=n.get(c);h=!_g(m,d)}n.set(c,d)}h&&s()},[t,s,n]);return{states:r,handleNext:l}}const n3e=f.memo(e=>{const{hooks:t,args:n,children:r,group:i,onReset:a}=e,{handleReset:o,keys:s}=Q4n(a),{states:l,handleNext:c}=aNn({hooks:t,group:i}),d=f.useMemo(()=>r({states:l}),[r,l]);return u.jsxs(u.Fragment,{children:[u.jsx(t3e,{hooks:t,keys:s,args:n,handleNext:c,handleReset:o}),d]})});n3e.displayName="Memo(GetHookCollectionState)";const r3e=n3e,oNn=R(si)(e=>{const{theme:t}=e,{container:n,media:r}=t.sanity;return Rt(r,e.$width,i=>({width:i==="auto"?"none":Se(n[i]),maxWidth:"100%"}))}),sNn=f.forwardRef(function(e,t){const{width:n,...r}=e,i=ke(n);return u.jsx(oNn,{...r,"data-ui":"PopoverContainer",$width:i,ref:t})}),lNn=R(Fn)(()=>ce`
    // Make the popover scrollable if it overflows the viewport
    [data-ui='Popover__wrapper'] {
      overflow: auto;
    }
  `),uNn=R(Jo)(e=>{const t=e.theme.sanity.radius[3];return ce`
    position: sticky;
    top: 0;
    width: 100%;
    background: var(--card-bg-color);
    border-bottom: 1px solid var(--card-border-color);
    border-top-left-radius: ${t}px;
    border-top-right-radius: ${t}px;
  `});function cNn(e){const{children:t,header:n,onClose:r,referenceElement:i,containerRef:a,width:o}=e,s=f.useCallback(()=>{r(),i==null||i.focus()},[r,i]);return u.jsx(lNn,{portal:!0,constrainSize:!0,content:u.jsx(sNn,{width:o,children:u.jsx(ec,{autoFocus:!0,children:u.jsxs(ee,{ref:a,children:[u.jsx(uNn,{children:u.jsx(L,{padding:2,paddingLeft:4,children:u.jsxs(U,{align:"center",gap:2,children:[u.jsx(L,{flex:1,children:u.jsx(N,{size:1,textOverflow:"ellipsis",weight:"medium",children:n})}),u.jsx(fe,{icon:Rr,mode:"bleed",onClick:s,tooltipProps:{content:"Close"}})]})})}),u.jsx(L,{padding:4,children:t})]})})}),open:!0,referenceElement:i})}const dNn=R(te)(()=>ce`
    /* TextWithTone uses its own logic to set color, and we therefore need */
    /* to override this logic in order to set the correct color in different states */
    &[data-selected],
    &[data-pressed],
    &:active {
      [data-ui='TextWithTone'] {
        color: inherit;
      }
    }
  `),Cg=f.forwardRef(function(e,t){const{children:n,selected:r,as:i,...a}=e,o=f.useMemo(()=>({selected:r}),[r]);return u.jsx(dNn,{"data-ui":"PreviewCard",...a,forwardedAs:i,ref:t,selected:r,children:u.jsx(Y4e.Provider,{value:o,children:n})})}),fNn=R(Cg)`
  /* this is a hack to avoid layout jumps while previews are loading
there's probably better ways of solving this */
  min-height: 36px;
`,ka={block:{icon:25,media:{width:33,height:33}},blockImage:{icon:25,media:{width:600,height:400}},compact:{icon:21,media:{width:25,height:25}},default:{icon:21,media:{width:33,height:33}},detail:{icon:25,media:{width:73,height:73}},inline:{icon:15,media:{width:15,height:15}},media:{icon:25,media:{width:160,height:160}}},i3e=R.span(e=>{const{$dimensions:t,$layout:n,$radius:r,$responsive:i}=e,a=t.width||0,o=t.width||0,s=ka[n].icon;return ce`
    position: relative;
    width: ${i?"100%":Se(a)};
    height: ${i?"100%":Se(o)};
    min-width: ${i?void 0:Se(a)};
    border-radius: ${({theme:l})=>Se(l.sanity.radius[r])};
    display: flex;
    overflow: hidden;
    overflow: clip;
    align-items: center;
    justify-content: center;

    & img {
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      object-fit: contain;
      border-radius: inherit;
    }

    & svg {
      // Shared styles for SVG icons
      color: var(--card-icon-color);
      display: block;
      flex: 1;

      // Specific styles for non Sanity icons
      &:not([data-sanity-icon]) {
        height: 1em;
        width: 1em;
        max-width: 1em;
        max-height: 1em;
      }

      // Specific styles for Sanity icons
      &[data-sanity-icon] {
        display: block;
        font-size: calc(${s} / 16 * 1em);
      }
    }

    & > span[data-border] {
      display: block;
      position: absolute;
      left: 0;
      top: 0;
      right: 0;
      bottom: 0;
      box-shadow: inset 0 0 0 1px var(--card-fg-color);
      opacity: 0.1;
      border-radius: inherit;
      pointer-events: none;
    }
  `});i3e.displayName="Styled(MediaWrapper)";function rx(e){const{border:t=!0,dimensions:n,layout:r,media:i,radius:a=1,responsive:o=!1,styles:s}=e;return u.jsxs(i3e,{$dimensions:n,$layout:r,$radius:a,$responsive:o,className:s==null?void 0:s.media,"data-testid":"Media",children:[hNn({dimensions:n,layout:r,media:i}),t&&u.jsx("span",{"data-border":!0})]})}function hNn(e){const{dimensions:t,layout:n,media:r,styles:i}=e;return Sf.isValidElementType(r)?f.createElement(r,{dimensions:t,layout:n}):typeof r=="string"?u.jsx(N,{as:"span",className:i==null?void 0:i.mediaString,size:1,children:r}):f.isValidElement(r)?r:null}function pNn(e,t,n){return Sf.isValidElementType(e)?f.createElement(e,{layout:t,dimensions:n}):typeof e=="string"?u.jsx("div",{children:e}):e}function ea(e,t,n){return typeof e=="string"?e:Sf.isValidElementType(e)?f.createElement(e,{layout:t}):e||n}const mNn={...ka.compact.media,aspect:1,fit:"crop",dpr:Zc()},Vfe=R(U)`
  height: ${Se(ka.compact.media.height)};
  box-sizing: content-box;
`,gNn=R(ir).attrs({animated:!0,radius:1,size:1})`
  max-width: ${Se(160)};
  width: 80%;
`;function vNn(e){const{children:t,isPlaceholder:n,media:r,status:i,title:a}=e,{t:o}=Y(),s=i&&u.jsx(L,{"data-testid":"compact-preview__status",paddingLeft:4,paddingRight:1,children:ea(i,"compact")});return n?u.jsx(Vfe,{align:"center","data-testid":"default-preview",paddingLeft:r?1:2,paddingRight:2,paddingY:1,children:u.jsxs(U,{align:"center",flex:1,gap:2,children:[r&&u.jsx(rd,{animated:!0,radius:2,style:ka.compact.media}),u.jsx(ee,{"data-testid":"compact-preview__heading",flex:1,space:2,children:u.jsx(gNn,{})}),s]})}):u.jsxs(Vfe,{align:"center","data-testid":"compact-preview",paddingLeft:r?1:2,paddingRight:2,paddingY:1,children:[u.jsxs(U,{align:"center",flex:1,gap:2,children:[r&&u.jsx(rx,{border:!1,dimensions:mNn,layout:"compact",media:r}),u.jsx(ee,{"data-testid":"compact-preview__header",flex:1,space:2,children:u.jsxs(N,{size:1,style:{color:"inherit"},textOverflow:"ellipsis",weight:"medium",children:[a&&ea(a,"compact"),!a&&u.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:o("preview.default.title-fallback")})]})}),s]}),t&&u.jsx(L,{marginLeft:1,children:t})]})}const yNn={...ka.default.media,aspect:1,fit:"crop",dpr:Zc()},zfe=R(U)`
  height: ${Se(ka.default.media.height)};
  box-sizing: content-box;
`,bNn=R(ir).attrs({animated:!0,radius:1,size:1})`
  max-width: ${Se(160)};
  width: 80%;
`,xNn=R(ir).attrs({animated:!0,radius:1,size:1})`
  max-width: ${Se(120)};
  width: 60%;
`;function a3e(e){const{title:t,subtitle:n,media:r,status:i,isPlaceholder:a,children:o,styles:s}=e,{t:l}=Y(),c=_mt(s==null?void 0:s.root,!!n&&(s==null?void 0:s.hasSubtitle)),d=i&&u.jsx(L,{className:s==null?void 0:s.status,"data-testid":"default-preview__status",children:ea(i,"default")});return a?u.jsx(zfe,{align:"center",className:s==null?void 0:s.placeholder,"data-testid":"default-preview",padding:2,paddingLeft:r?2:3,children:u.jsxs(U,{align:"center",flex:1,gap:2,children:[r&&u.jsx(L,{flex:"none",children:u.jsx(rd,{animated:!0,radius:1,style:ka.default.media})}),u.jsxs(ee,{"data-testid":"default-preview__heading",flex:1,space:2,children:[u.jsx(bNn,{}),u.jsx(xNn,{})]}),u.jsx(L,{flex:"none",padding:1,children:d})]})}):u.jsx(zfe,{align:"center",className:c,"data-testid":"default-preview",padding:2,paddingLeft:r?2:3,children:u.jsxs(U,{align:"center",flex:1,gap:2,children:[r&&u.jsx(L,{flex:"none",children:u.jsx(rx,{dimensions:yNn,layout:"default",media:r,styles:s})}),u.jsxs(ee,{className:s==null?void 0:s.heading,"data-testid":"default-preview__header",flex:1,space:2,children:[u.jsxs(N,{className:s==null?void 0:s.title,size:1,style:{color:"inherit"},textOverflow:"ellipsis",weight:"medium",children:[t&&ea(t,"default"),!t&&u.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:l("preview.default.title-fallback")})]}),n&&u.jsx(N,{muted:!0,size:1,textOverflow:"ellipsis",className:s==null?void 0:s.subtitle,children:ea(n,"default")})]}),u.jsx(L,{flex:"none",padding:1,children:d}),o&&u.jsx("div",{className:s==null?void 0:s.children,children:o})]})})}const Ufe=R(U).attrs({align:"center"})`
  height: ${Se(ka.detail.media.height)};
`,wNn=R(L)`
  white-space: nowrap;
`,CNn=R(rd).attrs({animated:!0,radius:2})`
  width: ${Se(ka.detail.media.width)};
  height: ${Se(ka.detail.media.height)};
`,SNn=R(ir).attrs({animated:!0,radius:1,size:1})`
  max-width: ${Se(160)}; /* 80% of 200px */
  width: 80%;
`,_Nn=R(ir).attrs({animated:!0,radius:1,size:1})`
  max-width: ${Se(120)}; /* 60% of 200px */
  width: 60%;
`,ENn=R(ir).attrs({animated:!0,radius:1,size:1})`
  max-width: ${Se(180)}; /* 90% of 200px */
  width: 90%;
`,kNn=R(N)(({theme:e})=>{const{fonts:t}=e.sanity,n=t.text.sizes[1],r=2,i=n.lineHeight*r;return ce`
    & > span {
      max-height: ${Se(i)};

      /* Multi-line text overflow */
      display: -webkit-box;
      overflow: hidden;
      overflow: clip;
      text-overflow: ellipsis;
      -webkit-line-clamp: ${r};
      -webkit-box-orient: vertical;
    }
  `}),TNn={...ka.detail.media,fit:"crop",aspect:1,dpr:Zc()};function ANn(e){const{title:t,subtitle:n,description:r,mediaDimensions:i=TNn,media:a,status:o,children:s,isPlaceholder:l}=e,{t:c}=Y(),d=o&&u.jsx(wNn,{marginLeft:3,paddingRight:1,children:ea(o,"detail")});return l?u.jsx(Ufe,{"data-testid":"detail-preview",paddingLeft:a?2:3,paddingRight:2,paddingY:2,children:u.jsxs(U,{align:"center",flex:1,gap:3,children:[a&&u.jsx(CNn,{"data-testid":"detail-preview__media"}),u.jsx(U,{align:"center","data-testid":"detail-preview__header",flex:1,children:u.jsxs(ee,{flex:1,space:2,children:[u.jsx(SNn,{}),u.jsx(_Nn,{}),r&&u.jsx(L,{marginTop:1,children:u.jsx(ENn,{})})]})}),d]})}):u.jsx(Ufe,{"data-testid":"detail-preview",paddingLeft:a?2:3,paddingRight:2,paddingY:2,children:u.jsxs(U,{align:"center",flex:1,gap:3,children:[a&&u.jsx(rx,{dimensions:i,layout:"detail",media:a}),u.jsxs(U,{align:"center","data-testid":"detail-preview__header",flex:1,children:[u.jsxs(ee,{flex:1,space:2,children:[u.jsxs(N,{textOverflow:"ellipsis",size:1,style:{color:"inherit"},weight:"medium",children:[t&&ea(t,"detail"),!t&&u.jsx(u.Fragment,{children:c("preview.default.title-fallback")})]}),n&&u.jsx(N,{muted:!0,size:1,textOverflow:"ellipsis",children:ea(n,"detail")}),r&&u.jsx(L,{marginTop:1,children:u.jsx(kNn,{muted:!0,size:1,children:ea(r,"detail")})})]}),d]}),s]})})}const Eu=43,$q=3,jNn=R.svg`
  width: ${Eu}px;
  height: ${Eu}px;
  transform: rotate(-90deg);
`,INn=R.circle(({theme:e})=>{const{color:t}=e.sanity;return ce`
    fill: none;
    stroke: ${Qe.gray[t.dark?900:100].hex};
    stroke-width: ${$q}px;
  `}),DNn=R.circle(({theme:e})=>{const{color:t}=e.sanity;return ce`
    fill: none;
    stroke: ${Qe.blue[t.dark?400:500].hex};
    stroke-width: ${$q}px;
    transition: stroke-dashoffset 75ms;
  `});function $Nn(e){const{value:t}=e,n=Math.min(Math.max(t,0),100),r=Eu/2-$q/2,i=2*Math.PI*r,a=(100-n)/100*i,o=`${Eu/2} ${Eu/2} ${Eu} ${Eu}`;return u.jsxs(jNn,{viewBox:o,children:[u.jsx(INn,{cx:Eu,cy:Eu,r}),u.jsx(DNn,{cx:Eu,cy:Eu,r,style:{strokeDasharray:i,strokeDashoffset:`${a}px`}})]})}const ONn=.5,MNn=R(te)`
  overflow: hidden;
  overflow: clip;
`,RNn=R(te)(({theme:e})=>{const{color:t}=e.sanity;return ce`
    height: ${ONn}rem;
    background: ${Qe.blue[t.dark?400:500].hex};
    transition: transform 75ms;
  `});function PNn(e){const{value:t}=e;return u.jsx(MNn,{radius:5,children:u.jsx(RNn,{radius:5,style:{transform:`translate3d(${t-100}%, 0, 0)`}})})}const FNn=R(L)`
  position: relative;
`,NNn=R(U).attrs({align:"center",justify:"center"})`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
`,LNn=R(rd).attrs({animated:!0,radius:2})`
  width: 100%;
  height: 100%;
`,BNn=R(U).attrs({align:"center",justify:"center"})`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;

  &:before {
    background-color: var(--card-bg-color);
    opacity: 0.75;
    content: '';
    display: block;
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
  }

  > svg {
    position: relative;
    z-index: 2;
  }
`,VNn=R(ee).attrs({space:2})`
  max-width: ${Se(200)};
`,zNn={...ka.media.media,aspect:1,fit:"crop",dpr:Zc()};function UNn(e){const{media:t,mediaDimensions:n=zNn,children:r,isPlaceholder:i,progress:a=-1,subtitle:o,title:s,withBorder:l=!0,withRadius:c=!0}=e,d=n.aspect||1,h=f.useMemo(()=>({paddingBottom:`${100/d}%`}),[d]),p=f.useMemo(()=>!s||!o?null:u.jsxs(VNn,{children:[s&&u.jsx(N,{align:"center",size:1,weight:"medium",children:ea(s,"media")}),o&&u.jsx(N,{align:"center",muted:!0,size:1,children:ea(o,"media")})]}),[o,s]);return u.jsx(L,{padding:2,children:u.jsxs(FNn,{"data-testid":"media-preview",flex:1,overflow:"hidden",children:[u.jsx("div",{style:h}),u.jsx(gt,{content:p,disabled:!p,placement:"top",portal:!0,children:u.jsxs(NNn,{children:[i?u.jsx(LNn,{}):u.jsx(rx,{border:l,dimensions:n,layout:"media",media:t,radius:c?1:0,responsive:!0}),typeof a=="number"&&a>-1&&u.jsx(BNn,{children:u.jsx($Nn,{value:a})})]})}),r]})})}const HNn=R(U).attrs({align:"center"})`
  height: ${Se(ka.block.media.height)};
  white-space: nowrap;
  position: relative;
  z-index: 1;
`,WNn=R(te)`
  overflow: hidden;
  position: relative;
  padding-bottom: ${({$ratio:e})=>e}%;

  & > span {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
  }
`,GNn=R(L).attrs({overflow:"hidden"})`
  border-radius: ${({theme:e})=>e.sanity.radius[1]}px;
`,YNn={...ka.blockImage.media,fit:"fillmax",dpr:Zc()},qNn=e=>{const{height:t,width:n}=e;return!t||!n?1:t/n*100};function KNn(e){const{actions:t,title:n,subtitle:r,description:i,fallbackTitle:a="Untitled",mediaDimensions:o=YNn,media:s,children:l,status:c}=e;return u.jsxs(GNn,{children:[u.jsxs(ee,{children:[u.jsxs(HNn,{paddingBottom:3,paddingLeft:2,paddingRight:1,paddingTop:1,children:[u.jsxs(ee,{flex:1,space:2,children:[(n||a)&&u.jsx(N,{size:1,textOverflow:"ellipsis",weight:"medium",children:n?ea(n,"block"):a}),r&&u.jsx(N,{muted:!0,size:1,textOverflow:"ellipsis",children:ea(r,"block")})]}),u.jsxs(U,{gap:1,paddingLeft:1,children:[c&&u.jsx(L,{paddingX:2,paddingY:3,children:ea(c,"block")}),t]})]}),u.jsx(WNn,{$ratio:qNn(o),__unstable_checkered:!0,display:"flex",sizing:"border",radius:2,tone:"inherit",children:u.jsx(rx,{border:!1,dimensions:o,layout:"blockImage",media:s,radius:0,responsive:!0})})]}),i&&u.jsx(L,{paddingX:2,paddingY:3,children:u.jsx(N,{muted:!0,size:1,children:ea(i,"block")})}),l&&u.jsx("div",{children:l})]})}const ZNn={...ka.block.media,aspect:1,fit:"crop",dpr:Zc()},XNn=R(U).attrs({align:"center"})`
  min-height: ${Se(ka.block.media.height)};
`;function JNn(e){const{actions:t,title:n,subtitle:r,description:i,mediaDimensions:a=ZNn,media:o,status:s,children:l}=e;return u.jsxs(ee,{"data-testid":"block-preview",space:1,children:[u.jsxs(XNn,{"data-testid":"block-preview__header",children:[o&&u.jsx(rx,{dimensions:a,layout:"block",media:o}),u.jsxs(L,{flex:1,paddingLeft:o?2:1,children:[u.jsx(N,{size:1,textOverflow:"ellipsis",weight:"medium",children:n?ea(n,"block"):"Untitled"}),r&&u.jsx(L,{marginTop:2,children:u.jsx(N,{muted:!0,size:1,textOverflow:"ellipsis",children:ea(r,"block")})}),i&&u.jsx(L,{marginTop:3,children:u.jsx(N,{muted:!0,size:1,textOverflow:"ellipsis",children:ea(i,"block")})})]}),u.jsxs(U,{gap:1,paddingLeft:1,children:[s&&u.jsx(L,{paddingX:2,paddingY:3,children:ea(s,"block")}),t]})]}),l&&u.jsx("div",{"data-testid":"block-preview__children",children:l})]})}const QNn=R.span`
  display: inline-flex;
  align-items: center;
  vertical-align: top;
  height: calc(1em - 1px);
  max-width: 100%;
`,eLn=R.span`
  position: relative;
  display: inline-block;
  width: calc(1em - 1px);
  height: calc(1em - 1px);
  min-width: calc(1em - 1px);

  & img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: ${({theme:e})=>Se(e.sanity.radius[1])};
  }

  & img + span {
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
    box-shadow: inset 0 0 0 1px var(--card-fg-color);
    opacity: 0.2;
    border-radius: ${({theme:e})=>Se(e.sanity.radius[1])};
  }

  & svg {
    display: block;
    font-size: calc(14 / 16 * 1em);
    margin: 1px 0;

    &[data-sanity-icon] {
      font-size: calc(18 / 16 * 1em);
      margin: calc(1px + (2 / 18 * -1em)) 0;
    }
  }
`,tLn=R(N).attrs({forwardedAs:"span"})(({theme:e})=>{const t=e.sanity.fonts.text,n=t.sizes[1];return ce`
    font-size: calc(${n.fontSize} / 16 * 1em);
    font-weight: ${t.weights.medium};
    box-sizing: border-box;
    display: inline-block;
    vertical-align: top;
    line-height: ${n.lineHeight/n.fontSize};
    padding-left: 0.5em;
    padding-right: calc(0.5em - 2px);
    min-width: 0;

    & > span {
      display: block;
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
      overflow: clip;
    }
  `}),nLn={...ka.inline.media,fit:"crop",aspect:1,dpr:Zc()};function rLn(e){const{title:t,fallbackTitle:n="Untitled",media:r,mediaDimensions:i=nLn}=e;return u.jsxs(QNn,{"data-testid":"inline-preview",children:[r&&u.jsxs(eLn,{"data-testid":"inline-preview-media",children:[pNn(r,"inline",i),u.jsx("span",{})]}),u.jsx(tLn,{"data-testid":"inline-preview-title",size:1,children:ea(t,"inline",n)})]})}({...ka.default.media,dpr:Zc()});R(L)`
  height: 100%;

  a {
    color: currentColor;
    text-decoration: none;
  }

  svg[data-sanity-icon] {
    margin: 0;
  }
`;R(U).attrs({align:"center"})`
  height: ${Se(ka.default.media.height)};
`;R(ir).attrs({animated:!0,radius:1})`
  max-width: ${Se(160)};
  width: 80%;
`;R(ir).attrs({animated:!0,radius:1,size:1})`
  max-width: ${Se(120)};
  width: 60%;
`;const iLn=["aria-hidden","disabled","href"],aLn='a[href], button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])';function oLn(e){return[...e.querySelectorAll(aLn)].filter(t=>!t.hasAttribute("disabled")&&t.getAttribute("aria-hidden")!=="true")}function o3e(e){const{direction:t="horizontal",initialFocus:n,loop:r=!0,navigation:i=["arrows"],pause:a=!1,rootElement:o}=e,[s,l]=f.useState(-1),[c,d]=f.useState([]),h=c.length,p=h-1,m=t==="horizontal"?"ArrowRight":"ArrowDown",g=t==="horizontal"?"ArrowLeft":"ArrowUp",v=f.useCallback(()=>{if(o){const x=oLn(o);d(x)}},[o]),b=f.useCallback(x=>{l(x)},[]),y=f.useCallback(x=>{if(a)return;const w=()=>{x.preventDefault(),l(S=>{const _=(S+p)%h;return!r&&_===p?S:_})},C=()=>{x.preventDefault(),l(S=>{const _=(S+1)%h;return!r&&_===0?S:_})};x.key==="Tab"&&i.includes("tab")&&(x.shiftKey?w():C()),i.includes("arrows")&&(x.key===g&&w(),x.key===m&&C())},[a,g,i,m,p,h,r]);f.useEffect(()=>{v()},[v,n,t]),f.useEffect(()=>{const x=new MutationObserver(v);return o&&x.observe(o,{childList:!0,subtree:!0,attributeFilter:iLn}),()=>{x.disconnect()}},[c,v,o]),f.useEffect(()=>{var x;c.forEach((w,C)=>{C===s?(w.setAttribute("tabIndex","0"),w.setAttribute("aria-selected","true"),w.focus(),w.onfocus=()=>b(C),w.onblur=()=>b(-1)):(w.setAttribute("tabIndex","-1"),w.setAttribute("aria-selected","false"),w.onfocus=()=>b(C))}),s===-1&&c&&((x=c[n==="last"?p:0])==null||x.setAttribute("tabIndex","0"))},[c,s,b,n,p]),f.useEffect(()=>(o==null||o.addEventListener("keydown",y),()=>{o==null||o.removeEventListener("keydown",y)}),[y,o])}const sLn=R(fe)`
  position: relative;
  // The children in button is rendered inside a span, we need to absolutely position it.
  & > span:nth-child(2) {
    position: absolute;
    top: 6px;
    right: 6px;
    padding: 0;
  }
`,lLn=R.div({width:4,height:4,borderRadius:3,boxShadow:"0 0 0 1px var(--card-bg-color)"}),F_=f.forwardRef(function(e,t){const{disabled:n,icon:r,"aria-label":i,mode:a="bleed",text:o,tone:s,...l}=e,c=ib(),d=s&&c.sanity.color.solid[s],h=f.useMemo(()=>({backgroundColor:d==null?void 0:d.enabled.bg}),[d]);return u.jsx(sLn,{"data-ui":"StatusButton",...l,"aria-label":i,disabled:!!n,mode:a,ref:t,text:o,icon:r,children:s&&u.jsx(lLn,{style:h})})}),Oq=f.forwardRef(function({children:e,content:t,disabled:n,...r},i){return u.jsx(gt,{...r,content:t,disabled:n||!t,ref:i,children:u.jsx("div",{children:e})})}),s3e=f.forwardRef((e,t)=>{const{push:n}=Pr();return f.useImperativeHandle(t,()=>({push:n})),null});s3e.displayName="ForwardRef(ImperativeToast)";function l3e(){return f.useContext(K4e)}function Mf({children:e,zOffset:t}){const n=l3e()[t];return u.jsx(ru,{zOffset:n,children:e})}function uLn(e){return{thread:{title:e("delete-thread.title"),body:e("delete-thread.body"),confirmButtonText:e("delete-thread.confirm")},comment:{title:e("delete-comment.title"),body:e("delete-comment.body"),confirmButtonText:e("delete-comment.confirm")}}}function u3e(e){const{isParent:t,onClose:n,commentId:r,onConfirm:i,loading:a,error:o}=e,{t:s}=Y(ei),l=uLn(s),{title:c,body:d,confirmButtonText:h}=l[t?"thread":"comment"],p=f.useCallback(()=>{i(r)},[r,i]);return u.jsx(Ui,{footer:{cancelButton:{onClick:n},confirmButton:{loading:a,onClick:p,text:h,tone:"critical"}},header:c,id:"delete-comment-dialog",onClose:n,width:0,children:u.jsxs(ee,{space:4,children:[u.jsx(N,{size:1,children:d}),o&&u.jsx(qr,{tone:"critical",children:s("delete-dialog.error")})]})})}const cLn=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"comment-disabled",width:"1em",height:"1em",ref:t,viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[u.jsx("path",{d:"M5.92627 14.5381H7.92627V18.5381L11.9263 14.5381H15.9263C17.0308 14.5381 17.9263 13.6427 17.9263 12.5381V6.53809C17.9263 5.43352 17.0308 4.53809 15.9263 4.53809H5.92627C4.8217 4.53809 3.92627 5.43352 3.92627 6.53809V12.5381C3.92627 13.6427 4.8217 14.5381 5.92627 14.5381Z",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round"}),u.jsx("path",{d:"M2.77256 2.66835C2.54413 2.51319 2.23317 2.57259 2.07802 2.80103L1.40378 3.7937C1.32927 3.9034 1.30139 4.0382 1.32627 4.16845C1.35115 4.29871 1.42676 4.41374 1.53646 4.48825L19.5861 16.7479C19.8146 16.903 20.1255 16.8436 20.2807 16.6152L20.9549 15.6225C21.0294 15.5128 21.0573 15.378 21.0324 15.2478C21.0076 15.1175 20.9319 15.0025 20.8222 14.928L2.77256 2.66835Z",fill:"currentColor",strokeLinejoin:"round"})]})});f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"comment",width:"1em",height:"1em",ref:t,viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:u.jsx("path",{d:"M7.5 15.5H9.5V19.5L13.5 15.5H17.5C18.6046 15.5 19.5 14.6046 19.5 13.5V7.5C19.5 6.39543 18.6046 5.5 17.5 5.5H7.5C6.39543 5.5 5.5 6.39543 5.5 7.5V13.5C5.5 14.6046 6.39543 15.5 7.5 15.5Z",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"1.2"})})});const dLn=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"mention",fill:"none",height:"1em",ref:t,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...e,children:[u.jsx("path",{d:"M16.6633 18.9383C15.539 19.6562 14.2034 20.0723 12.7705 20.0723C8.77022 20.0723 5.52734 16.8294 5.52734 12.8291C5.52734 8.82881 8.77022 5.58594 12.7705 5.58594C16.7708 5.58594 20.0137 8.82881 20.0137 12.8291C20.0137 13.6623 19.8249 14.7093 19.6141 15.2077C19.5578 15.3408 19.479 15.4845 19.3936 15.6238C19.0955 16.1106 18.5507 16.3721 17.9807 16.4018V16.4018C16.8271 16.462 15.8588 15.5428 15.8588 14.3877V9.27302",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),u.jsx("circle",{cx:"12.5732",cy:"12.8291",r:"3.08691",stroke:"currentColor",strokeWidth:1.2})]})}),c3e=f.forwardRef(function(e,t){return u.jsxs("svg",{"data-sanity-icon":"add-reaction",fill:"none",height:"1em",ref:t,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...e,children:[u.jsx("path",{d:"M10.1044 10.4011L10.1044 10.9972",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square"}),u.jsx("path",{d:"M14.2393 10.4011L14.2393 10.9972",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square"}),u.jsx("path",{d:"M7.12128 14.1151C7.70803 15.0226 9.66113 16.8377 11.7735 16.8377C13.8859 16.8377 15.6713 15.0226 16.4257 14.1151",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square"}),u.jsx("path",{d:"M16.703 6.43905C15.3486 5.36511 13.6357 4.72374 11.773 4.72374C7.38731 4.72374 3.83203 8.27902 3.83203 12.6647C3.83203 17.0503 7.38731 20.6056 11.773 20.6056C16.0995 20.6056 19.618 17.1455 19.712 12.8415",stroke:"currentColor",strokeWidth:1.2}),u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.1135 9.03425L19.1135 11.4903L20.3135 11.4903L20.3135 9.03425L22.7693 9.03425L22.7693 7.83425L20.3135 7.83425L20.3135 5.37941L19.1135 5.37941L19.1135 7.83425L16.6584 7.83425L16.6584 9.03425L19.1135 9.03425Z",fill:"currentColor"})]})}),fLn=f.forwardRef(function(e,t){return u.jsx("svg",{"data-sanity-icon":"send",fill:"none",height:"1em",ref:t,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...e,children:u.jsx("path",{clipRule:"evenodd",d:"M21.1602 12.5L7.16016 19.5V14.8765L13.6656 12.4989L7.16016 9.97149L7.16016 5.5L21.1602 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Hfe=R(Az)`
  svg > ellipse {
    stroke: transparent;
  }
`,hLn=/[^\p{Alpha}\p{White_Space}]/gu,pLn=new RegExp("\\p{White_Space}+","u");function mLn(e){const t=e.replace(hLn,"").split(pLn);return t.length===1?`${t[0].charAt(0)}`.toUpperCase():`${t[0].charAt(0)}${t[t.length-1].charAt(0)}`}function WM(e){const{user:t,...n}=e,r=t,i=f.useMemo(()=>mLn((r==null?void 0:r.displayName)||""),[r==null?void 0:r.displayName]);return r?u.jsx(Hfe,{initials:i,src:r==null?void 0:r.imageUrl,title:r==null?void 0:r.displayName,...n}):u.jsx(Hfe,{...n})}const Nv=R.div(e=>{var t;const n=Ee(e.theme),{$size:r=1}=e;return ce`
    min-width: ${(t=n.avatar.sizes[r])==null?void 0:t.size}px;
  `}),gLn=Hd({name:"mention",type:"object",fields:[{name:"userId",type:"string"}]}),vLn=Hd({type:"block",name:"block",of:[gLn],marks:{annotations:[]},styles:[{title:"Normal",value:"normal"}],lists:[]}),yLn=T4e({type:"array",name:"body",of:[vLn]}),bLn=fW.compile({name:"comments",types:[yLn]}),xLn=bLn.get("body"),wLn=R.span(({theme:e})=>{var t,n,r;const{regular:i}=((t=e.sanity.fonts)==null?void 0:t.text.weights)||{},{hovered:a}=((n=e.sanity.color)==null?void 0:n.card)||{},{bg:o}=((r=e.sanity.color.selectable)==null?void 0:r.caution.pressed)||{};return ce`
    font-weight: ${i};
    color: var(--card-link-fg-color);
    border-radius: 2px;
    background-color: ${a.bg};
    padding: 1px;
    box-sizing: border-box;

    &[data-active='true'] {
      background-color: ${o};
    }
  `});function d3e(e){const{selected:t,userId:n}=e,[r,i]=md(n),a=Kn();return!r||i?u.jsx(ir,{"data-testid":"comment-mentions-loading-skeleton",style:{width:"10ch"},size:0,muted:!0,radius:1,animated:!0}):u.jsx(gt,{portal:!0,content:u.jsxs(U,{align:"center",gap:2,children:[u.jsx(U,{children:u.jsx(WM,{user:r})}),u.jsx(N,{size:1,children:r.displayName})]}),children:u.jsxs(wLn,{"data-selected":t,"data-active":(a==null?void 0:a.id)===n,children:["@",r.displayName]})})}const CLn=R(N)`
  word-break: break-word;
`;function f3e(e){const{children:t}=e;return u.jsx(CLn,{size:1,children:t})}const SLn=e=>{const{children:t}=e;return u.jsx(f3e,{children:t})},_Ln=e=>{const{children:t,value:n,selected:r}=e;return n._type==="mention"&&n.userId?u.jsx(d3e,{selected:r,userId:n==null?void 0:n.userId}):t},ELn=9999999;function kLn(e){const{t}=Y(ei),{onClose:n,onConfirm:r}=e,i=f.useCallback(o=>{o.stopPropagation(),n()},[n]),a=f.useCallback(o=>{o.stopPropagation(),r()},[r]);return u.jsx(kz,{tone:"default",children:u.jsx(EA,{zOffset:ELn,children:u.jsx(Ui,{header:t("discard.header"),id:"discard-comment-dialog",onClose:n,width:0,onClickOutside:n,footer:{cancelButton:{onClick:i},confirmButton:{onClick:a,text:t("discard.button-confirm"),tone:"critical"}},children:u.jsx(N,{size:1,children:t("discard.text")})})})})}const TLn=R(U)``,ALn={width:"50%"};function jLn(e){const{user:t,onSelect:n}=e,[r]=md(t.id),{t:i}=Y(ei),a=u.jsx(WM,{user:r,status:t.granted?void 0:"inactive"}),o=r?u.jsx(N,{size:1,textOverflow:"ellipsis",title:r.displayName,children:r.displayName}):u.jsx(ir,{size:1,style:ALn}),s=f.useCallback(()=>{n(t.id)},[n,t.id]);return u.jsx(te,{as:"button",disabled:!t.granted,onClick:s,padding:2,radius:2,children:u.jsxs(U,{align:"center",gap:3,children:[u.jsxs(TLn,{align:"center",gap:2,flex:1,children:[a,u.jsx(L,{children:o})]}),!t.granted&&u.jsx(ro,{fontSize:1,mode:"outline",children:i("mentions.unauthorized-user")})]})})}const Wfe=[],ILn=R(ee)({maxWidth:"220px"}),Gfe=41,DLn=4,$Ln=7,OLn=R(U)({maxHeight:Gfe*$Ln+DLn*2+Gfe/2}),MLn=f.forwardRef(function(e,t){const{t:n}=Y(ei),{loading:r,onSelect:i,options:a=[],inputElement:o}=e,[s,l]=f.useState(""),c=f.useRef(null);f.useImperativeHandle(t,()=>({setSearchTerm(g){l(g)}}),[]);const d=f.useCallback(g=>u.jsx(jLn,{user:g,onSelect:i}),[i]),h=f.useCallback(g=>{var v;return!((v=a==null?void 0:a[g])!=null&&v.granted)},[a]),p=f.useMemo(()=>{var g;if(!s)return a||Wfe;const v=gy(s).toLocaleLowerCase(),b=a==null?void 0:a.map(y=>({...y,displayName:gy(y.displayName||"").toLocaleLowerCase()}));return((g=b==null?void 0:b.filter(y=>{var x;return(x=y==null?void 0:y.displayName)==null?void 0:x.includes(v)}))==null?void 0:g.sort((y,x)=>{var w,C;const S=(w=y.displayName)==null?void 0:w.startsWith(v),_=(C=x.displayName)==null?void 0:C.startsWith(v);return S&&!_?-1:!S&&_?1:0}))||Wfe},[a,s]);if(r)return u.jsx(ILn,{children:u.jsx(wn,{showText:!0})});const m=o||void 0;return u.jsxs(U,{direction:"column",height:"fill","data-testid":"comments-mentions-menu",children:[p.length===0&&u.jsx(L,{padding:5,children:u.jsx(N,{align:"center",size:1,muted:!0,children:n("mentions.no-users-found")})}),p.length>0&&u.jsx(OLn,{direction:"column",flex:1,overflow:"hidden",children:u.jsx(fd,{activeItemDataAttr:"data-hovered",ariaLabel:n("mentions.user-list-aria-label"),fixedHeight:!0,getItemDisabled:h,inputElement:m,itemHeight:41,items:p,padding:1,ref:c,renderItem:d})})]})});function h3e(){const e=f.useContext(Mpe);if(!e)throw new Error("useCommentInputContext must be used within a CommentInputProvider");return e}const RLn={passive:!0};function PLn(e){const{disabled:t,rootElement:n}=e,[r,i]=f.useState(null),a=f.useMemo(()=>r?{getBoundingClientRect:()=>r}:null,[r]),o=f.useCallback(()=>{if(t){i(null);return}const s=window.getSelection();if(!s||!s.isCollapsed||s.rangeCount===0)return;const l=s.getRangeAt(0);if(!(n!=null&&n.contains(l.commonAncestorContainer))){i(null);return}const c=l==null?void 0:l.getBoundingClientRect();c&&i(c)},[t,n]);return f.useEffect(()=>(document.addEventListener("selectionchange",o,RLn),()=>{document.removeEventListener("selectionchange",o)}),[o]),a}const FLn=["bottom","top"],NLn={outline:"none"},Yfe=[],LLn=R.span(e=>{const{color:t}=Ee(e.theme);return ce`
    color: ${t.input.default.enabled.placeholder};
    overflow: hidden;
    text-overflow: ellipsis;
    text-wrap: nowrap;
    display: block;
  `}),BLn=R(Fn)(({theme:e})=>{const{space:t,radius:n}=e.sanity;return ce`
    &[data-placement='bottom'] {
      transform: translateY(${t[1]}px);
    }

    &[data-placement='top'] {
      transform: translateY(-${t[1]}px);
    }

    [data-ui='Popover__wrapper'] {
      border-radius: ${n[3]}px;
      display: flex;
      flex-direction: column;
      overflow: clip;
      overflow: hidden;
      position: relative;
      width: 300px; // todo: improve
    }
  `});function VLn(e){const{t}=Y(ei),{focusLock:n,onFocus:r,onBlur:i,onKeyDown:a,onSubmit:o,placeholder:s=t("compose.create-comment-placeholder"),renderBlock:l}=e,c=f.useRef(null),d=f.useRef(null),h=f.useRef(null),p=f.useRef(null),m=M0(),{canSubmit:g,closeMentions:v,insertMention:b,mentionOptions:y,mentionsMenuOpen:x,mentionsSearchTerm:w,onBeforeInput:C,value:S}=h3e(),_=PLn({disabled:!x,rootElement:d.current}),E=f.useCallback(()=>u.jsx(LLn,{children:s}),[s]);yn(x&&v,()=>[c.current]);const k=f.useCallback(I=>{switch(I.key){case"Enter":if(I.shiftKey)break;if(x){I.preventDefault(),I.stopPropagation(),v();break}o&&g&&(I.preventDefault(),I.stopPropagation(),o());break;case"Escape":case"ArrowLeft":case"ArrowRight":x&&(I.preventDefault(),I.stopPropagation(),v());break}a&&a(I)},[g,v,x,a,o]),T=f.useMemo(()=>{if(m)return;const I=(S||Yfe).slice(-1)[0],A=yr(I)?I.children.slice(-1)[0]:void 0;if(!A)return;const $={path:[{_key:I._key},"children",{_key:A._key}],offset:Ti(A)?A.text.length:0};return{focus:$,anchor:$}},[S,m]);f.useEffect(()=>{var I;(I=p.current)==null||I.setSearchTerm(w)},[w]),f.useEffect(()=>{x&&m&&!wt(m.anchor,m.focus)&&v()},[x,v,m]);const j=u.jsx(MLn,{inputElement:h.current,loading:y.loading,onSelect:b,options:y.data||Yfe,ref:p});return u.jsxs("div",{ref:d,children:[u.jsx(BLn,{arrow:!1,constrainSize:!0,content:j,disabled:!x,fallbackPlacements:FLn,open:x,placement:"bottom",ref:c,referenceElement:_}),u.jsx(Y5e,{"data-testid":"comment-input-editable","data-ui":"EditableElement",onBeforeInput:C,onBlur:i,onFocus:r,onKeyDown:k,ref:h,renderBlock:l,renderChild:_Ln,renderPlaceholder:E,selection:T,style:NLn,tabIndex:n?0:void 0})]})}const jT=R(L)`
  max-height: 20vh;
  overflow-y: auto;
`,zLn=R(ur)({height:20,width:1});function C4(e){return`inset 0 0 0 ${e.width}px ${e.color}`}const ULn=R(te)(({theme:e})=>{const{color:t,input:n,radius:r}=Ee(e),i=r[2];return ce`
    border-radius: ${i}px;
    box-shadow: var(--input-box-shadow);

    --input-box-shadow: ${C4({color:t.input.default.enabled.border,width:n.border.width})};

    &:not([data-expand-on-focus='false'], :focus-within) {
      background: transparent;
      box-shadow: unset;
    }

    &[data-focused='true']:focus-within {
      ${jT} {
        min-height: 1em;
      }

      /* box-shadow: inset 0 0 0 1px var(--card-focus-ring-color); */
      --input-box-shadow: ${C4({color:"var(--card-focus-ring-color)",width:n.border.width})};
    }

    &:focus-within {
      ${jT} {
        min-height: 1em;
      }
    }

    &[data-expand-on-focus='false'] {
      ${jT} {
        min-height: 1em;
      }
    }

    &[data-expand-on-focus='true'] {
      [data-ui='CommentInputActions']:not([hidden]) {
        display: none;
      }

      &:focus-within {
        [data-ui='CommentInputActions'] {
          display: flex;
        }
      }
    }
    &:hover {
      --input-box-shadow: ${C4({color:t.input.default.hovered.border,width:n.border.width})};
    }
  `}),HLn=R.div(e=>{var t;return`
    min-height: ${(t=Ee(e.theme).avatar.sizes[1])==null?void 0:t.size}px;
    display: flex;
    align-items: center;
  `});function WLn(e){const{avatarSize:t=1,currentUser:n,focusLock:r,onBlur:i,onFocus:a,onKeyDown:o,onSubmit:s,placeholder:l,renderBlock:c,withAvatar:d}=e,[h]=md(n.id),{canSubmit:p,expandOnFocus:m,focused:g,hasChanges:v,insertAtChar:b,openMentions:y,readOnly:x}=h3e(),{t:w}=Y(ei),C=d?u.jsx(HLn,{children:u.jsx(WM,{user:h,size:t})}):null,S=f.useCallback(_=>{_.stopPropagation(),b(),y()},[b,y]);return u.jsxs(U,{align:"flex-start",gap:2,children:[C,u.jsx(ULn,{id:"comment-input-root","data-expand-on-focus":m&&!p?"true":"false","data-focused":g?"true":"false",flex:1,sizing:"border",tone:x?"transparent":"default",children:u.jsxs(ee,{children:[u.jsx(jT,{"data-ui":"CommentInputEditableWrap",paddingX:1,paddingY:2,sizing:"border",children:u.jsx(VLn,{focusLock:r,onBlur:i,onFocus:a,onKeyDown:o,onSubmit:s,placeholder:l,renderBlock:c})}),u.jsx(U,{align:"center","data-ui":"CommentInputActions",gap:1,justify:"flex-end",padding:1,children:u.jsxs(Xa,{children:[u.jsx(fe,{"aria-label":w("compose.mention-user-aria-label"),"data-testid":"comment-input-mention-button",disabled:x,icon:dLn,mode:"bleed",type:"button",onClick:S,tooltipProps:{content:w("compose.mention-user-tooltip")}}),s&&u.jsxs(u.Fragment,{children:[u.jsx(zLn,{}),u.jsx(fe,{"aria-label":w("compose.send-comment-aria-label"),"data-testid":"comment-input-send-button",disabled:!p||!v||x,icon:fLn,mode:v&&p?"default":"bleed",onClick:s,tone:v&&p?"primary":"default",tooltipProps:{content:w("compose.send-comment-tooltip")}})]})]})})]})})]})}function GLn(e){const{children:t,expandOnFocus:n=!1,focused:r,focusOnMount:i=!1,mentionOptions:a,onMentionMenuOpenChange:o,value:s,readOnly:l}=e,c=Wi(),[d,h]=f.useState(!1),[p,m]=f.useState(""),[g,v]=f.useState(null),b=f.useMemo(()=>q0(s),[s]),y=XMe(s),x=f.useCallback(()=>{l||Ae.focus(c)},[c,l]),w=f.useCallback(()=>{h(!1),m(""),v(null)},[]),C=f.useCallback(()=>{h(!0),m(""),h(!0),v(Ae.getSelection(c))},[c]),S=f.useCallback(T=>{const j=Ae.getSelection(c),I=j?j.focus.offset:0,A=Ae.focusChild(c),$=Ti(A)&&A||void 0,D=T.inputType==="insertText",M=T.inputType==="deleteContentBackward",O=D&&T.data==="@",F=($==null?void 0:$.text.slice(0,Math.max(0,I)).lastIndexOf("@"))||0,P=($==null?void 0:$.text.slice(I-1,I))===" ",V=D&&T.data===" "&&!p;if(O&&(I<1||P)){C();return}if(V||M&&(($==null?void 0:$.text.length)===1||F===(($==null?void 0:$.text.length)||0)-1)){w();return}if(Ti(A)){let H=A.text.slice(F+1,I);D&&(H+=T.data),M&&(H=H.slice(0,Math.max(0,H.length-1))),m(H)}},[w,c,p,C]),_=f.useCallback(()=>{h(!0),Ae.focus(c),Ae.insertChild(c,c.schemaTypes.span,{text:"@"}),v(Ae.getSelection(c))},[c]);$o(d,()=>o==null?void 0:o(d));const E=f.useCallback(T=>{var j;const I=c.schemaTypes.inlineObjects.find(D=>D.name==="mention"),[A,$]=g&&Ae.findByPath(c,g.focus.path)||[];if(A&&Ti(A)&&$&&I){Ae.focus(c);const D=(j=Ae.getSelection(c))==null?void 0:j.focus.offset;typeof D<"u"&&(Ae.delete(c,{anchor:{path:$,offset:A.text.lastIndexOf("@")},focus:{path:$,offset:D}},{mode:"selected"}),Ae.insertChild(c,I,{userId:T}),Ae.insertChild(c,c.schemaTypes.span,{text:" "}))}},[c,g]),k=f.useMemo(()=>({canSubmit:b,closeMentions:w,editor:c,expandOnFocus:n,focused:r,focusEditor:x,focusOnMount:i,hasChanges:y,insertAtChar:_,insertMention:E,mentionOptions:a,mentionsMenuOpen:d,mentionsSearchTerm:p,onBeforeInput:S,openMentions:C,readOnly:!!l,value:s}),[b,w,c,n,r,x,i,y,_,E,a,d,p,S,C,l,s]);return u.jsx(Mpe.Provider,{value:k,children:t})}const S4=[],YLn={behavior:"smooth",block:"center",inline:"center"},J0=f.forwardRef(function(e,t){const{avatarSize:n,currentUser:r,expandOnFocus:i,focusLock:a=!1,focusOnMount:o,mentionOptions:s,onBlur:l,onChange:c,onDiscardCancel:d,onDiscardConfirm:h,onFocus:p,onKeyDown:m,onMentionMenuOpenChange:g,onSubmit:v,placeholder:b,readOnly:y,renderBlock:x=SLn,value:w=S4,withAvatar:C=!0}=e,[S,_]=f.useState(!1),E=f.useRef(null),k=f.useRef(null),[T,j]=f.useState(!1),I=f.useRef(null),A=f.useRef(null),$=f.useRef(null),[D,M]=f.useState(Oj()),O=f.useCallback(()=>{requestAnimationFrame(()=>{E.current&&Ae.focus(E.current)})},[]),F=f.useCallback(()=>{M(Oj())},[]),P=f.useCallback(z=>{if(z.type==="ready"&&o&&O(),z.type==="focus"&&_(!0),z.type==="blur"&&_(!1),z.type==="patch"&&E.current){const q=Ae.getValue(E.current);c(q||S4)}},[o,c,O]),V=f.useCallback(()=>{var z;(z=k.current)==null||z.scrollIntoView(YLn)},[]),H=f.useCallback(()=>{v==null||v(),F(),O(),V()},[v,O,F,V]),W=f.useCallback(()=>{h(),F()},[h,F]),G=f.useMemo(()=>({open:()=>{j(!0)},close:()=>{j(!1),O()}}),[O]);f.useImperativeHandle(t,()=>({focus:O,blur(){E.current&&Ae.blur(E.current)},scrollTo:V,reset:F,discardDialogController:G}),[G,O,F,V]);const X=f.useCallback(z=>{if(!a)return;const q=z.target,Z=$.current;if(Z&&q===I.current){$z(Z);return}Z&&q===A.current&&Lg(Z)},[a]);return u.jsxs(u.Fragment,{children:[T&&d&&u.jsx(kLn,{onClose:d,onConfirm:W}),u.jsx(ee,{ref:k,"data-testid":"comment-input",onFocus:X,children:u.jsx(Ae,{onChange:P,readOnly:y,ref:E,schemaType:xLn,value:w||S4,children:u.jsxs(GLn,{expandOnFocus:i,focused:S,focusOnMount:o,mentionOptions:s,onMentionMenuOpenChange:g,readOnly:y,value:w,children:[a&&u.jsx("div",{ref:I,tabIndex:0}),u.jsx(ee,{ref:$,children:u.jsx(WLn,{avatarSize:n,currentUser:r,focusLock:a,onBlur:l,onFocus:p,onKeyDown:m,onSubmit:v&&H,placeholder:b,renderBlock:x,withAvatar:C})}),a&&u.jsx("div",{ref:A,tabIndex:0})]})},D)})]})}),qLn=R.span(({theme:e})=>{var t;const n=(t=e.sanity.v2)==null?void 0:t.color._dark,r=Qe[Ud][n?800:100].hex,i=Qe[Ud][n?700:300].hex,a=Qe[Ud][n?700:200].hex,o=Qe[Ud][n?600:400].hex,s=Qe[Ud][n?700:200].hex,l=Qe[Ud][n?600:400].hex;return ce`
    box-sizing: border-box;
    transition:
      background-color 100ms ease,
      border-color 100ms ease;

    // Make sure that child elements appropriately blend with the
    // background of the highlight span
    * {
      mix-blend-mode: ${n?"screen":"multiply"};
    }

    &[data-inline-comment-state='added'][data-inline-comment-nested='false'] {
      background-color: ${r};
      border-bottom: 2px solid ${i};
    }

    &[data-inline-comment-state='added'][data-inline-comment-nested='true'] {
      background-color: ${s};
      border-bottom: 2px solid ${l};
    }

    &[data-inline-comment-state='added'][data-inline-comment-nested='false'][data-hovered='true'] {
      background-color: ${a};
      border-bottom: 2px solid ${o};
    }

    &[data-inline-comment-state='authoring'] {
      background-color: ${r};
      border-bottom: 2px solid ${i};
    }
  `}),p3e=f.forwardRef(function(e,t){const{children:n,isAdded:r,isAuthoring:i,isHovered:a,isNested:o,...s}=e;return u.jsx(qLn,{...s,"data-hovered":a?"true":"false","data-inline-comment-nested":o?"true":"false","data-inline-comment-state":r?"added":i?"authoring":void 0,ref:t,children:n})}),KLn=R(ee)(()=>ce`
    & > [data-ui='Text']:not(:first-child) {
      margin-top: 1em; // todo: improve
    }

    & > [data-ui='Text']:has(> span:empty) {
      display: none;
    }
  `),ZLn=[];function kl(e){const t=f.useMemo(()=>c5n(e.children),[e.children]);return u.jsx(f3e,{children:t})}const XLn={block:{normal:kl,h1:kl,h2:kl,h3:kl,h4:kl,h5:kl,h6:kl,blockquote:kl,code:kl},list:{bullet:f.Fragment,number:f.Fragment,checkmarks:f.Fragment},listItem:{bullet:kl,number:kl,checkmarks:kl},marks:{strong:f.Fragment,em:f.Fragment,code:f.Fragment,underline:f.Fragment,strikeThrough:f.Fragment,link:f.Fragment},types:{mention:e=>{var t;return u.jsx(d3e,{userId:(t=e==null?void 0:e.value)==null?void 0:t.userId,selected:!1})}}};function JLn(e){const{blocks:t}=e;return u.jsx(KLn,{children:u.jsx(yke,{value:t||ZLn,components:XLn})})}const uw=3,Mq=R(N)`
  font-family: 'Twemoji Mozilla', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
    'Noto Color Emoji', 'EmojiOne Color', 'Android Emoji', sans-serif;
`,QLn=6;function e8n(e){const{options:t,onSelect:n}=e,{t:r}=Y(ei),[i,a]=f.useState([]),[o,s]=f.useState(null),[l,c]=f.useState(0),d=f.useCallback(p=>{const m=i.length;p.key==="ArrowRight"&&c(g=>(g+1)%m),p.key==="ArrowLeft"&&c(g=>(g-1+m)%m)},[i.length]),h=f.useCallback(p=>{const m=i.indexOf(p.currentTarget);c(m),n(t[m])},[i,n,t]);return f.useEffect(()=>{if(o){const p=o.querySelectorAll("button");a(Array.from(p))}},[o]),f.useEffect(()=>{i.length>0&&i[l].focus()},[i,l]),u.jsx(Vn,{columns:QLn,gap:1,onKeyDown:d,ref:s,role:"menu",children:t.map(p=>{const m=bI[p.shortName];return u.jsx(St,{"aria-label":r("reactions.react-with-aria-label",{reactionName:p.title||p.shortName}),mode:"bleed",onClick:h,padding:2,role:"menuitem",tabIndex:-1,children:u.jsx(Mq,{align:"center",size:2,children:m})},p.shortName)})})}const t8n=["top","bottom"];function m3e(e){const{onMenuClose:t,onMenuOpen:n,onSelect:r,options:i,readOnly:a,renderMenuButton:o,mode:s}=e,[l,c]=f.useState(null),d=f.useRef(null),[h,p]=f.useState(!1),{t:m}=Y(ei),g=f.useCallback(()=>{const C=!h;p(C),C?n==null||n():t==null||t()},[t,n,h]),v=f.useCallback(()=>{h&&(p(!1),t==null||t())},[h,t]),b=f.useCallback(()=>{h&&(v(),l==null||l.focus())},[l,v,h]),y=f.useCallback(C=>{const{key:S,shiftKey:_}=C;(_&&S==="Tab"||S==="Escape"||S==="Tab")&&b()},[b]);yn(v,()=>[d.current,l]);const x=f.useCallback(C=>{r(C),v()},[v,r]),w=f.useMemo(()=>{const C=o({open:h,tooltipContent:m(s==="upsell"?"list-item.context-menu-add-reaction-upsell":"list-item.context-menu-add-reaction"),t:m});return f.cloneElement(C,{"aria-expanded":h,"aria-haspopup":"true",disabled:a||s==="upsell",id:"reactions-menu-button",onClick:g,ref:c})},[g,h,a,o,m,s]);return u.jsx(Fn,{constrainSize:!0,content:u.jsx(te,{"aria-labelledby":"reactions-menu-button",onKeyDown:y,padding:1,radius:3,tone:"default",children:u.jsx(e8n,{onSelect:x,options:i})}),fallbackPlacements:t8n,open:h,placement:"bottom",portal:!0,ref:d,tone:"default",children:w})}const n8n=1,r8n=R(ee)`
  max-width: 180px;
`,i8n=R.div`
  display: inline-block;
`,p1=R(N).attrs({size:n8n})`
  display: inline-block !important;

  & > span {
    white-space: break-spaces;
  }
`,a8n=R(L)`
  line-height: 1;
  text-align: center;
`,qfe=/^\S+/;function Kfe(e){const{currentUserId:t,isFirst:n,userId:r}=e,[i]=md(r),{t:a}=Y(ei);return t===r?a("reactions.user-list.you",{context:n?"leading":void 0,replace:{name:i==null?void 0:i.displayName}}):(i==null?void 0:i.displayName)||a("reactions.user-list.unknown-user-fallback-name")}function o8n(e){const{children:t,...n}=e;return u.jsx(gt,{content:u.jsx(l8n,{...n}),placement:"bottom",portal:!0,children:u.jsx("div",{children:t})})}function s8n({currentUserId:e,userIds:t}){const n=z0({style:"long",type:"conjunction"});if(t.length===0)return null;const r=n.formatToParts(t),i=[];for(let a=0;a<r.length;a++){const o=r[a];if(o.type==="literal"){i.push(u.jsx(p1,{children:o.value},`literal-${a}`));continue}const s=r[a+1];if(s&&s.type==="literal"&&qfe.test(s.value)){const[l=""]=s.value.match(qfe)||[];i.push(u.jsxs(i8n,{children:[u.jsx(p1,{weight:"medium",children:u.jsx(Kfe,{currentUserId:e,isFirst:a===0,userId:o.value})}),u.jsx(p1,{children:l})]},o.value)),s.value=s.value.slice(l.length);continue}i.push(u.jsx(p1,{weight:"medium",children:u.jsx(Kfe,{currentUserId:e,isFirst:a===0,userId:o.value})},o.value))}return i}function l8n(e){const{currentUser:t,reactionName:n,userIds:r}=e,{t:i}=Y(ei),a=f.useCallback(()=>t?u.jsx(s8n,{currentUserId:t.id,userIds:r}):null,[t,r]);return u.jsxs(r8n,{padding:1,children:[u.jsx(U,{justify:"center",paddingBottom:2,paddingTop:1,children:u.jsx(Mq,{size:4,children:bI[n]})}),u.jsx(a8n,{children:u.jsx(ht,{t:i,i18nKey:"reactions.users-reacted-with-reaction",values:{reactionName:n},components:{UserList:a,ReactionName:()=>u.jsx(p1,{muted:!0,children:n}),Text:({children:o})=>u.jsxs(u.Fragment,{children:[u.jsx(p1,{muted:!0,children:o})," ",u.jsx("wbr",{})," "]})}})})]})}const Zfe=R(te)`
  background: none;
`;function u8n(e){const t=e.reduce((n,r)=>{const{shortName:i}=r;return n[i]||(n[i]=[]),n[i].push(r),n},{});return Object.entries(t).sort(([n],[r])=>{const i=e.findIndex(o=>o.shortName===n),a=e.findIndex(o=>o.shortName===r);return i-a})}const c8n=({open:e,tooltipContent:t})=>u.jsx(St,{fontSize:1,mode:"ghost",padding:0,radius:"full",selected:e,children:u.jsx(U,{paddingX:3,paddingY:2,children:u.jsx(gt,{animate:!0,content:t,disabled:e,children:u.jsx(N,{size:1,children:u.jsx(c3e,{})})})})}),d8n=f.memo(function(e){const{currentUser:t,onSelect:n,reactions:r,readOnly:i,mode:a}=e,o=f.useCallback(h=>{const p=K7.find(m=>m.shortName===h);p&&n(p)},[n]),s=f.useMemo(()=>r.filter(h=>h.userId===(t==null?void 0:t.id)).map(h=>h.shortName),[t==null?void 0:t.id,r]),l=f.useMemo(()=>u8n(r).filter(([h])=>bI[h]),[r]),c=f.useRef(Object.keys(Object.fromEntries(l))),d=f.useMemo(()=>{const h=l.sort(([p],[m])=>{const g=c.current.indexOf(p),v=c.current.indexOf(m);return g===-1?1:v===-1?-1:g-v});return c.current=h.map(([p])=>p),h},[l]);return u.jsx(U,{align:"center",gap:1,wrap:"wrap",children:u.jsxs(Xa,{children:[d.map(([h,p])=>{const m=s.includes(h),g=p.map(b=>b.userId),v=bI[h];return u.jsx(o8n,{currentUser:t,reactionName:h,userIds:g,children:u.jsx(Zfe,{tone:"default",children:u.jsx(St,{disabled:i||a==="upsell",mode:"ghost",onClick:()=>o(h),padding:2,radius:"full",selected:m,tone:m?"primary":"default",children:u.jsxs(U,{align:"center",gap:1,children:[u.jsx(Mq,{size:1,children:v}),u.jsx(N,{size:0,weight:m?"semibold":"medium",children:p==null?void 0:p.length})]})})})},h)}),u.jsx(Zfe,{tone:"default",children:u.jsx(m3e,{mode:a,onSelect:h=>o(h.shortName),options:K7,readOnly:i,renderMenuButton:c8n})})]})})}),f8n=({open:e,tooltipContent:t,t:n})=>u.jsx(fe,{"aria-label":n("list-item.context-menu-add-reaction-aria-label"),icon:c3e,mode:"bleed",selected:e,tooltipProps:{content:t}}),h8n={placement:"bottom-end"},p8n=R(te)`
  &:empty {
    display: none;
  }
`;function m8n(e){const{canDelete:t,canEdit:n,isParent:r,mode:i,onCopyLink:a,onDeleteStart:o,onEditStart:s,onMenuClose:l,onMenuOpen:c,onReactionSelect:d,onStatusChange:h,readOnly:p,status:m}=e,g=!!(a||o||s),{t:v}=Y(ei),b=!!(t||n||a);return u.jsx(Xa,{children:u.jsx(U,{children:u.jsxs(p8n,{display:"flex",shadow:2,padding:1,radius:2,sizing:"border",children:[d&&u.jsx(m3e,{mode:i,onMenuClose:l,onMenuOpen:c,onSelect:d,options:K7,readOnly:p,renderMenuButton:f8n}),r&&h&&u.jsx(fe,{"aria-label":v(m==="open"?"list-item.resolved-tooltip-aria-label":"list-item.re-open-resolved-aria-label"),"data-testid":"comments-list-item-status-button",disabled:p,icon:m==="open"?Lp:RC,mode:"bleed",onClick:h,tooltipProps:{content:v(m==="open"?"list-item.resolved-tooltip-content":"list-item.re-open-resolved")}}),b&&u.jsx(Kt,{id:"comment-actions-menu",button:u.jsx(wi,{"aria-label":v("list-item.open-menu-aria-label"),disabled:p,hidden:!g}),onOpen:c,onClose:l,menu:u.jsxs(Ot,{children:[u.jsx(We,{hidden:!n,icon:Yc,onClick:s,text:v("list-item.edit-comment"),tooltipProps:i==="upsell"?{content:v("list-item.edit-comment-upsell")}:void 0,disabled:i==="upsell"}),u.jsx(We,{hidden:!t,icon:Kr,onClick:o,text:v("list-item.delete-comment"),tone:"critical"}),a&&u.jsx(ur,{hidden:!t&&!n}),u.jsx(We,{hidden:!a,icon:tl,onClick:a,text:v("list-item.copy-link")})]}),popover:h8n})]})})})}function g8n(e,t=250){return e.length<=t?e:`${e.slice(0,t)}...`}const v8n=R(L).attrs({marginLeft:1,marginRight:2})`
  &:not([data-hidden]) {
    display: inline;
  }
`,y8n=R(ee)(({theme:e,$hasReferencedValue:t})=>{var n;const r=(n=e.sanity.v2)==null?void 0:n.color._dark,i=t?Ud:"gray",a=r?Qe[i][700].hex:Qe[i][300].hex;return ce`
    border-left: 2px solid ${a};
    word-break: break-word;
  `});function b8n(e){const{hasReferencedValue:t,value:n}=e,{t:r}=Y(ei),i=r("list-item.missing-referenced-value-tooltip-content"),a=f.useMemo(()=>{if(Array.isArray(n)&&(n==null?void 0:n.filter(yr).length)>0){const o=n==null?void 0:n.map(gke).join(" ");return g8n(o)}return null},[n]);return a?u.jsx(y8n,{$hasReferencedValue:!!t,"data-testid":"comments-list-item-referenced-value",flex:1,forwardedAs:"blockquote",padding:1,paddingLeft:2,sizing:"border",children:u.jsx(U,{align:"flex-start",children:u.jsxs(N,{size:1,muted:!0,children:[!t&&u.jsx(gt,{content:i,children:u.jsx(v8n,{children:u.jsx(CB,{})})}),a]})})}):null}const Xfe=e=>e.stopPropagation(),Uw=R(L)``,x8n={width:"50%"},w8n=[],Jfe=R(N)(({theme:e})=>{const t=e.sanity.color.dark,n=Qe.gray[t?200:800].hex;return ce`
    min-width: max-content;
    --card-fg-color: ${n};
    color: var(--card-fg-color);
  `}),C8n=R(U)(e=>{var t;const n=Ee(e.theme);return ce`
    min-height: ${(t=n.avatar.sizes[e.$size])==null?void 0:t.size}px;
  `}),S8n=R(N)(({theme:e})=>{const t=e.sanity.color.dark,n=Qe.gray[t?200:800].hex;return ce`
    --card-fg-color: ${n};
    color: var(--card-fg-color);
  `}),_8n=R(ee)`
  transition: opacity 200ms ease;

  &[data-muted='true'] {
    transition: unset;
    opacity: 0.5;
  }
`,E8n=R(U)(e=>{var t;const n=Ee(e.theme);return ce`
    min-height: ${(t=n.avatar.sizes[e.$size])==null?void 0:t.size}px;
  `}),k8n=R(te)`
  // Add not on hover
  &:not(:hover) {
    background-color: transparent;
  }
`,T8n=R(ee)(({theme:e})=>{const{space:t}=e.sanity;return ce`
    position: relative;

    // Only show the floating layer on hover when hover is supported.
    // Else, the layer is always visible.
    @media (hover: hover) {
      ${Uw} {
        opacity: 0;
        position: absolute;
        right: 0;
        top: 0;
        transform: translate(${t[1]}px, -${t[1]}px);
      }

      ${Uw} {
        &:focus-within {
          opacity: 1;
        }
      }

      &:hover {
        ${Uw} {
          opacity: 1;
        }
      }
    }

    &[data-menu-open='true'] {
      ${Uw} {
        opacity: 1;
      }
    }
  `}),A8n={useTemporalPhrase:!0};function Qfe(e){var t;const{avatarSize:n=1,canDelete:r,canEdit:i,comment:a,currentUser:o,hasError:s,hasReferencedValue:l,intent:c,isParent:d,isRetrying:h,mentionOptions:p,mode:m,onCopyLink:g,onCreateRetry:v,onDelete:b,onEdit:y,onInputKeyDown:x,onReactionSelect:w,onStatusChange:C,readOnly:S,withAvatar:_=!0}=e,{_createdAt:E,authorId:k,message:T,_id:j,lastEditedAt:I}=a,[A]=md(k),{t:$}=Y(ei),[D,M]=f.useState(T),[O,F]=f.useState(!1),P=f.useRef(null),V=f.useRef(T),[H,W]=f.useState(!1),G=f.useRef(null),X=XMe(D),z=f.useMemo(()=>q0(D),[D]),q=f.useMemo(()=>{var Fe;return(((Fe=a==null?void 0:a.reactions)==null?void 0:Fe.filter(lt=>(lt==null?void 0:lt._optimisticState)!=="removed"))||w8n).filter(lt=>"userId"in lt&&"shortName"in lt)},[a==null?void 0:a.reactions]),Z=!!(q!=null&&q.length),K=E?new Date(E):new Date,J=I?new Date(I):null,Q=d0(K,A8n),re=Xl({dateStyle:"full",timeStyle:"medium"}),ae=re.format(K),ne=J?re.format(J):null,se=s||h;f.useEffect(()=>{O||(V.current=T,M(T))},[O,T]);const le=f.useCallback(()=>W(!0),[]),oe=f.useCallback(()=>W(!1),[]),ge=f.useCallback(()=>g==null?void 0:g(j),[j,g]),_e=f.useCallback(Fe=>{Fe.stopPropagation(),v==null||v(j)},[j,v]),Me=f.useCallback(()=>b(j),[j,b]),me=f.useCallback(()=>{F(!1),M(V.current)},[]),ye=f.useCallback(()=>{var Fe;if(!z||!X){me();return}(Fe=G.current)==null||Fe.discardDialogController.open()},[me,X,z]),De=f.useCallback(Fe=>{Fe.isDefaultPrevented()||(Fe.key==="Escape"&&(Fe.preventDefault(),Fe.stopPropagation(),ye()),x&&x(Fe))},[x,ye]),be=f.useCallback(()=>{var Fe;(Fe=G.current)==null||Fe.discardDialogController.close()},[]),he=f.useCallback(()=>{var Fe;(Fe=G.current)==null||Fe.discardDialogController.close(),me()},[me]),ve=f.useCallback(Fe=>{w==null||w(j,Fe)},[j,w]),Ce=f.useCallback(()=>{y(j,{message:D}),F(!1)},[j,y,D]),Te=f.useCallback(()=>{C==null||C(j,a.status==="open"?"resolved":"open")},[j,a.status,C]),Ge=f.useCallback(()=>{F(Fe=>!Fe)},[]),Je=f.useCallback(()=>W(!1),[]),tt=f.useCallback(Fe=>{Fe.key==="Escape"&&!X&&me()},[me,X]);$o(O,Je),yn(!X&&me,()=>[P.current]);const Ne=A!=null&&A.displayName?u.jsx(N,{size:1,weight:"medium",textOverflow:"ellipsis",title:A.displayName,children:A.displayName}):u.jsx(ir,{size:1,style:x8n});return u.jsxs(T8n,{"data-menu-open":H?"true":"false","data-testid":"comments-list-item-layout",onKeyDown:tt,ref:P,space:4,children:[u.jsxs(_8n,{space:1,"data-muted":se,children:[u.jsxs(C8n,{align:"center",gap:uw,flex:1,$size:n,children:[_&&u.jsx(WM,{user:A,size:n}),u.jsxs(U,{direction:"column",gap:2,paddingY:c?2:0,children:[u.jsx(U,{align:"center",paddingBottom:(t=a.context)!=null&&t.intent?0:1,sizing:"border",flex:1,children:u.jsxs(U,{align:"flex-end",gap:2,children:[u.jsx(L,{flex:1,children:Ne}),!se&&u.jsxs(U,{align:"center",gap:1,children:[u.jsx(Jfe,{muted:!0,size:0,children:u.jsx("time",{dateTime:K.toISOString(),title:ae,children:Q})}),ne&&J&&u.jsx(Jfe,{muted:!0,size:0,title:ne,children:u.jsxs("time",{dateTime:J.toISOString(),title:ne,children:["(",$("list-item.layout-edited"),")"]})})]})]})}),c&&u.jsx(L,{flex:1,children:u.jsx(S8n,{muted:!0,size:0,textOverflow:"ellipsis",children:u.jsx(ht,{t:$,i18nKey:"list-item.layout-context",values:{title:c.title,intent:"edit"},components:{IntentLink:({children:Fe})=>c?u.jsx(pu,{params:c.params,intent:c.name,children:Fe}):void 0}})})})]}),!O&&!se&&u.jsx(Uw,{"data-root-menu":d?"true":"false",onClick:Xfe,children:u.jsx(m8n,{canDelete:r,canEdit:i,isParent:d,mode:m,onCopyLink:g?ge:void 0,onDeleteStart:Me,onEditStart:Ge,onMenuClose:oe,onMenuOpen:le,onReactionSelect:ve,onStatusChange:C?Te:void 0,readOnly:S,status:a.status})})]}),Qb(a)&&!!(a!=null&&a.contentSnapshot)&&u.jsxs(U,{gap:uw,marginBottom:3,children:[_&&u.jsx(Nv,{$size:n}),u.jsx(b8n,{hasReferencedValue:l,value:a==null?void 0:a.contentSnapshot})]}),O&&u.jsxs(U,{align:"flex-start",gap:2,children:[_&&u.jsx(Nv,{$size:n}),u.jsx(ee,{flex:1,children:u.jsx(J0,{currentUser:o,focusOnMount:!0,mentionOptions:p,onChange:M,onDiscardCancel:be,onDiscardConfirm:he,onKeyDown:De,onSubmit:Ce,readOnly:S,ref:G,value:D,withAvatar:!1})})]}),!O&&u.jsxs(U,{gap:uw,children:[_&&u.jsx(Nv,{$size:n}),u.jsx(JLn,{blocks:T})]}),Z&&u.jsxs(U,{gap:uw,marginTop:2,children:[_&&u.jsx(Nv,{$size:n}),u.jsx(L,{onClick:Xfe,children:u.jsx(d8n,{currentUser:o,mode:m,onSelect:ve,reactions:q,readOnly:S})})]})]}),se&&u.jsxs(E8n,{gap:uw,$size:n,children:[_&&u.jsx(Nv,{$size:n}),u.jsxs(U,{align:"center",gap:1,flex:1,children:[u.jsxs(N,{muted:!0,size:1,children:[s&&$("list-item.layout-failed-sent"),h&&$("list-item.layout-posting")]}),u.jsx(U,{hidden:h,children:u.jsx(k8n,{__unstable_focusRing:!0,display:"flex",forwardedAs:"button",onClick:_e,padding:1,radius:2,tone:"primary",children:u.jsx(N,{size:1,muted:!0,children:$("list-item.layout-retry")})})})]})]})]})}const g3e=R(te).attrs({padding:3,radius:3,sizing:"border"})(e=>{const{theme:t}=e,n=t.sanity.color.dark,r=Qe[Ud][n?900:50].hex,i=Qe.gray[n?900:50].hex;return ce`
      background-color: ${i};

      &[data-active='true'] {
        background-color: ${r};
      }
    `}),xv=[],cw=5,j8n={avatarSize:1,parentCommentAvatar:!0,replyAvatar:!0,threadCommentsAvatar:!0},I8n=R(g3e)(()=>ce`
    position: relative;

    &:has(> [data-ui='GhostButton']:focus:focus-visible) {
      box-shadow:
        inset 0 0 0 1px var(--card-border-color),
        0 0 0 1px var(--card-bg-color),
        0 0 0 2px var(--card-focus-ring-color);
    }

    // The hover styles is managed with the [data-hovered] attribute instead of the :hover pseudo class
    // since we want to show the hover styles when hovering over the menu items in the context menu as well.
    // The context menu is rendered using a portal, so the :hover pseudo class won't work when hovering over
    // the menu items.
    &:not([data-active='true']) {
      @media (hover: hover) {
        &[data-hovered='true'] {
          [data-root-menu='true'] {
            opacity: 1;
          }
        }
      }
    }
  `),D8n=R(fe)(({theme:e})=>{const{medium:t}=e.sanity.fonts.text.weights;return ce`
    font-weight: ${t};
  `}),$8n=R.button`
  opacity: 0;
  position: absolute;
  right: 0;
  top: 0;
  bottom: 0;
  left: 0;
`,v3e=f.memo(function(e){var t,n,r,i,a;const{avatarConfig:o=j8n,canReply:s,currentUser:l,hasReferencedValue:c,innerPadding:d,isSelected:h,mentionOptions:p,mode:m,onCopyLink:g,onCreateRetry:v,onDelete:b,onEdit:y,onKeyDown:x,onPathSelect:w,onReactionSelect:C,onReply:S,onStatusChange:_,parentComment:E,readOnly:k,replies:T=xv}=e,{t:j}=Y(ei),[I,A]=f.useState(xv),[$,D]=f.useState(!0),M=f.useRef(!1),O=f.useRef(null),{isTopLayer:F}=Ds(),P=f.useMemo(()=>q0(I),[I]),[V,H]=f.useState(!1),W=f.useCallback(()=>H(!0),[]),G=f.useCallback(()=>H(!1),[]),X=f.useCallback(()=>{var le;const oe={message:I,parentCommentId:E._id,status:(E==null?void 0:E.status)||"open",threadId:E.threadId,reactions:xv,payload:{fieldPath:((le=E.target.path)==null?void 0:le.field)||""}};S==null||S(oe),A(xv)},[S,E._id,E==null?void 0:E.status,(t=E.target.path)==null?void 0:t.field,E.threadId,I]),z=f.useCallback(()=>{var le;if(!P){A(xv);return}(le=O.current)==null||le.discardDialogController.open()},[P]),q=f.useCallback(le=>{le.isDefaultPrevented()||le.key==="Escape"&&(le.preventDefault(),le.stopPropagation(),z())},[z]),Z=f.useCallback(()=>{var le;(le=O.current)==null||le.discardDialogController.close()},[]),K=f.useCallback(()=>{var le,oe;A(xv),(le=O.current)==null||le.discardDialogController.close(),(oe=O.current)==null||oe.focus()},[]),J=f.useCallback(le=>{var oe;le.stopPropagation(),F&&(w==null||w({fieldPath:((oe=E.target.path)==null?void 0:oe.field)||"",origin:"inspector",threadId:E.threadId}))},[F,w,(n=E.target.path)==null?void 0:n.field,E.threadId]),Q=f.useCallback(le=>{le.stopPropagation(),D(!1),M.current=!0},[]),re=f.useMemo(()=>$?T==null?void 0:T.slice(-cw):T,[T,$]),ae=f.useMemo(()=>T?T.length>cw:!1,[T]),ne=f.useMemo(()=>`${(T==null?void 0:T.length)-cw} more ${(T==null?void 0:T.length)-cw===1?"comment":"comments"}`,[T==null?void 0:T.length]);f.useEffect(()=>{T.length>cw&&!M.current&&D(!0)},[T]);const se=f.useMemo(()=>re.map(le=>{var oe,ge;return u.jsx(ee,{as:"li",...ude(le._id),children:u.jsx(Qfe,{avatarSize:o.avatarSize,canDelete:le.authorId===l.id,canEdit:le.authorId===l.id,comment:le,currentUser:l,hasError:((oe=le._state)==null?void 0:oe.type)==="createError",isRetrying:((ge=le._state)==null?void 0:ge.type)==="createRetrying",intent:Xkn(E,le),mentionOptions:p,mode:m,onCopyLink:g,onCreateRetry:v,onDelete:b,onEdit:y,onInputKeyDown:q,onReactionSelect:C,readOnly:k,withAvatar:o.threadCommentsAvatar})},le._id)}),[o.threadCommentsAvatar,o.avatarSize,l,q,p,g,v,b,y,C,E,k,re,m]);return u.jsxs(I8n,{"data-active":h?"true":"false","data-hovered":V?"true":"false","data-testid":"comments-list-item","data-ui":"CommentsListItem",onClick:J,onMouseEnter:W,onMouseLeave:G,children:[u.jsx($8n,{"data-ui":"GhostButton","aria-label":j("list-item.go-to-field-button.aria-label")}),u.jsxs(ee,{as:"ul",padding:d,paddingBottom:s?void 0:1,space:4,children:[u.jsx(ee,{as:"li",...ude(E._id),children:u.jsx(Qfe,{avatarSize:o.avatarSize,canDelete:E.authorId===l.id,canEdit:E.authorId===l.id,comment:E,currentUser:l,hasError:((r=E._state)==null?void 0:r.type)==="createError",hasReferencedValue:c,intent:(i=E.context)==null?void 0:i.intent,isParent:!0,isRetrying:((a=E._state)==null?void 0:a.type)==="createRetrying",mentionOptions:p,mode:m,onCopyLink:g,onCreateRetry:v,onDelete:b,onEdit:y,onInputKeyDown:x,onReactionSelect:C,onStatusChange:_,readOnly:k,withAvatar:o.parentCommentAvatar})}),ae&&!M.current&&u.jsxs(U,{gap:1,paddingY:1,sizing:"border",children:[u.jsx(Nv,{}),u.jsx(D8n,{iconRight:Ii,mode:"bleed",onClick:Q,text:ne})]}),se,s&&u.jsx(J0,{avatarSize:o.avatarSize,currentUser:l,expandOnFocus:!0,mentionOptions:p,onChange:A,onDiscardCancel:Z,onDiscardConfirm:K,onKeyDown:q,onSubmit:X,placeholder:j(m==="upsell"?"compose.reply-placeholder-upsell":"compose.reply-placeholder"),readOnly:k||m==="upsell",ref:O,value:I,withAvatar:o.replyAvatar})]})]})});function O8n(e){return{open:{title:e("list-status.empty-state-open-title"),message:e("list-status.empty-state-open-text")},resolved:{title:e("list-status.empty-state-resolved-title"),message:e("list-status.empty-state-resolved-text")}}}function M8n(e){const{status:t,error:n,loading:r,hasNoComments:i}=e,{t:a}=Y(ei),o=O8n(a);return n?u.jsx(U,{align:"center",justify:"center",flex:1,padding:4,children:u.jsx(U,{align:"center",children:u.jsx(N,{size:1,muted:!0,children:a("list-status.error")})})}):r?u.jsx(wn,{showText:!0,title:a("list-status.loading")}):i?u.jsx(U,{align:"center",justify:"center",flex:1,sizing:"border",children:u.jsx(si,{width:0,padding:4,children:u.jsxs(ee,{space:3,children:[u.jsx(N,{align:"center",size:1,muted:!0,weight:"medium",children:o[t].title}),u.jsx(N,{align:"center",size:1,muted:!0,children:o[t].message})]})})}):null}const _4=[];function R8n(e){const{currentUser:t,fieldTitle:n,mentionOptions:r,mode:i,onBlur:a,onFocus:o,onKeyDown:s,onNewThreadCreate:l,readOnly:c}=e,{t:d}=Y(ei),[h,p]=f.useState(_4),m=f.useRef(null),g=f.useCallback(()=>{l==null||l(h),p(_4)},[l,h]),v=f.useMemo(()=>q0(h),[h]),b=f.useCallback(()=>{var S;v&&((S=m.current)==null||S.discardDialogController.open())},[v]),y=f.useCallback(S=>{S.isDefaultPrevented()||(S.key==="Escape"&&(S.preventDefault(),S.stopPropagation(),b()),s&&s(S))},[s,b]),x=f.useCallback(()=>{var S,_;p(_4),(S=m.current)==null||S.discardDialogController.close(),(_=m.current)==null||_.focus()},[]),w=f.useCallback(()=>{var S;(S=m.current)==null||S.discardDialogController.close()},[]),C=i==="upsell"?d("compose.add-comment-input-placeholder-upsell"):u.jsx(ht,{t:d,i18nKey:"compose.add-comment-input-placeholder",values:{field:n}});return u.jsx(J0,{currentUser:t,expandOnFocus:!0,mentionOptions:r,onBlur:a,onChange:p,onDiscardCancel:w,onDiscardConfirm:x,onKeyDown:y,onFocus:o,onSubmit:g,placeholder:C,readOnly:c||i==="upsell",ref:m,value:h})}const P8n=R(U)`
  min-height: 25px;
`,F8n=R(St)(({theme:e})=>{const t=e.sanity.color.base.fg;return ce`
    --card-fg-color: ${t};

    // The width is needed to make the text ellipsis work
    // in the breadcrumbs component
    max-width: 100%;
  `});function N8n(e){const{breadcrumbs:t,canCreateNewThread:n,children:r,currentUser:i,fieldPath:a,isSelected:o,mentionOptions:s,mode:l,onNewThreadCreate:c,onPathSelect:d,readOnly:h}=e,{t:p}=Y(ei),m=f.useCallback(x=>{const w={message:x,parentCommentId:void 0,status:"open",threadId:qa(),reactions:[],payload:{fieldPath:a}};c==null||c(w)},[c,a]),g=f.useCallback(x=>{x.stopPropagation(),d==null||d({fieldPath:a,origin:"inspector",threadId:null})},[a,d]),v=f.useCallback(x=>{x.stopPropagation(),x.detail!==0&&(d==null||d({fieldPath:a,origin:"inspector",threadId:null}))},[a,d]),b=f.useMemo(()=>(t==null?void 0:t.map(x=>x.title))||[],[t]),y=b[b.length-1];return u.jsxs(ee,{space:2,children:[u.jsx(P8n,{align:"center",gap:2,paddingRight:1,sizing:"border",children:u.jsx(ee,{flex:1,children:u.jsx(U,{align:"center",children:u.jsx(F8n,{"aria-label":p("list-item.breadcrumb-button-go-to-field-aria-label",{field:y}),mode:"bleed",onClick:g,padding:2,space:2,children:u.jsx(xin,{maxLength:3,titlePath:b})})})})}),n&&u.jsx(g3e,{onClick:v,"data-active":o,children:u.jsx(R8n,{currentUser:i,fieldTitle:y,mentionOptions:s,mode:l,onNewThreadCreate:m,readOnly:h})}),u.jsx(ee,{space:2,children:r})]})}function L8n(e){return e.reduce((t,n)=>{const r=n.fieldPath;return t[r]||(t[r]=[]),t[r].push(n),t},{})}const B8n=f.forwardRef(function(e,t){const{beforeListNode:n,comments:r,currentUser:i,error:a,loading:o,mentionOptions:s,mode:l,onCopyLink:c,onCreateRetry:d,onDelete:h,onEdit:p,onNewThreadCreate:m,onPathSelect:g,onReactionSelect:v,onReply:b,onStatusChange:y,readOnly:x,selectedPath:w,status:C}=e,[S,_]=f.useState(null),E=f.useMemo(()=>Object.entries(L8n(r)),[r]),k=!o&&!a&&E.length>0;return u.jsxs(U,{"data-testid":"comments-list",direction:"column",flex:1,height:"fill",overflow:"hidden",ref:_,sizing:"border",children:[l!=="upsell"&&u.jsx(M8n,{error:a,hasNoComments:E.length===0,loading:o,status:C}),(k||n)&&u.jsxs(ee,{as:"ul",flex:1,overflow:"auto",padding:3,paddingTop:1,paddingBottom:6,sizing:"border",space:1,ref:t,children:[n,u.jsx(Cf,{element:S,children:E==null?void 0:E.map(([T,j])=>{const I=j[0].breadcrumbs,A=j[0].threadId,$=(w==null?void 0:w.fieldPath)===T&&!w.threadId;return u.jsx(ee,{as:"li",paddingTop:3,...j5n(A),children:u.jsx(N8n,{breadcrumbs:I,canCreateNewThread:C==="open",currentUser:i,fieldPath:T,isSelected:$,mentionOptions:s,mode:l,onNewThreadCreate:m,onPathSelect:g,readOnly:x,children:j.map(D=>{var M,O,F;const P=D.replies.slice().reverse(),V=C==="open"&&((M=D.parentComment._state)==null?void 0:M.type)!=="createError"&&((O=D.parentComment._state)==null?void 0:O.type)!=="createRetrying",H=(w==null?void 0:w.threadId)===D.parentComment.threadId&&(w==null?void 0:w.fieldPath)===((F=D.parentComment.target.path)==null?void 0:F.field);return u.jsx(v3e,{canReply:V,currentUser:i,hasReferencedValue:D.hasReferencedValue,isSelected:H,mentionOptions:s,mode:l,onCopyLink:c,onCreateRetry:d,onDelete:h,onEdit:p,onPathSelect:g,onReactionSelect:v,onReply:b,onStatusChange:y,parentComment:D.parentComment,readOnly:x,replies:P},D.parentComment._id)})},T)},T)})})]})]})}),V8n=f.memo(B8n),z8n=R(L)`
  max-width: 280px;
`,U8n=Np`
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
`,H8n=R(Fn)`
  opacity: 0;
  // Fade in the popover after 500ms
  animation: ${U8n} 200ms 500ms forwards;
`;function W8n(e){const{onDismiss:t}=e,{t:n}=Y(ei);return u.jsx(H8n,{content:u.jsx(z8n,{padding:4,children:u.jsxs(ee,{space:3,children:[u.jsx(N,{weight:"medium",size:1,children:n("onboarding.header")}),u.jsx(N,{size:1,children:n("onboarding.body")}),u.jsx(U,{justify:"flex-end",marginTop:2,children:u.jsx(fe,{text:n("onboarding.dismiss"),tone:"primary",onClick:t})})]})}),open:!0,portal:!0,...e})}function G8n(e){const{data:t,onPrimaryClick:n,onSecondaryClick:r}=e;return u.jsx(si,{width:1,children:u.jsx(L,{marginBottom:6,children:u.jsx(gq,{data:t,onPrimaryClick:n,onSecondaryClick:r})})})}var Y8n=vEe,q8n=OH,K8n=q8n(function(e,t,n){return t=t.toLowerCase(),e+(n?Y8n(t):t)}),Z8n=K8n;const ehe=Pe(Z8n);var X8n=OH,J8n=X8n(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Q8n=J8n;const e6n=Pe(Q8n);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var the=Object.getOwnPropertySymbols,t6n=Object.prototype.hasOwnProperty,n6n=Object.prototype.propertyIsEnumerable;function r6n(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function i6n(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(a){return t[a]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(a){i[a]=a}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var a6n=i6n()?Object.assign:function(e,t){for(var n,r=r6n(e),i,a=1;a<arguments.length;a++){n=Object(arguments[a]);for(var o in n)t6n.call(n,o)&&(r[o]=n[o]);if(the){i=the(n);for(var s=0;s<i.length;s++)n6n.call(n,i[s])&&(r[i[s]]=n[i[s]])}}return r},Jk=a6n,o6n={};function Su(e,t,n,r,i,a,o,s){if(!e){var l;if(t===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,s],d=0;l=new Error(t.replace(/%s/g,function(){return c[d++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}var nhe="mixins";function s6n(e,t,n){var r=[],i={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},a={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},o={displayName:function(C,S){C.displayName=S},mixins:function(C,S){if(S)for(var _=0;_<S.length;_++)l(C,S[_])},childContextTypes:function(C,S){C.childContextTypes=Jk({},C.childContextTypes,S)},contextTypes:function(C,S){C.contextTypes=Jk({},C.contextTypes,S)},getDefaultProps:function(C,S){C.getDefaultProps?C.getDefaultProps=h(C.getDefaultProps,S):C.getDefaultProps=S},propTypes:function(C,S){C.propTypes=Jk({},C.propTypes,S)},statics:function(C,S){c(C,S)},autobind:function(){}};function s(C,S){var _=i.hasOwnProperty(S)?i[S]:null;y.hasOwnProperty(S)&&Su(_==="OVERRIDE_BASE","ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",S),C&&Su(_==="DEFINE_MANY"||_==="DEFINE_MANY_MERGED","ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",S)}function l(C,S){if(S){Su(typeof S!="function","ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),Su(!t(S),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var _=C.prototype,E=_.__reactAutoBindPairs;S.hasOwnProperty(nhe)&&o.mixins(C,S.mixins);for(var k in S)if(S.hasOwnProperty(k)&&k!==nhe){var T=S[k],j=_.hasOwnProperty(k);if(s(j,k),o.hasOwnProperty(k))o[k](C,T);else{var I=i.hasOwnProperty(k),A=typeof T=="function",$=A&&!I&&!j&&S.autobind!==!1;if($)E.push(k,T),_[k]=T;else if(j){var D=i[k];Su(I&&(D==="DEFINE_MANY_MERGED"||D==="DEFINE_MANY"),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",D,k),D==="DEFINE_MANY_MERGED"?_[k]=h(_[k],T):D==="DEFINE_MANY"&&(_[k]=p(_[k],T))}else _[k]=T}}}}function c(C,S){if(S)for(var _ in S){var E=S[_];if(S.hasOwnProperty(_)){var k=_ in o;Su(!k,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',_);var T=_ in C;if(T){var j=a.hasOwnProperty(_)?a[_]:null;Su(j==="DEFINE_MANY_MERGED","ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",_),C[_]=h(C[_],E);return}C[_]=E}}}function d(C,S){Su(C&&S&&typeof C=="object"&&typeof S=="object","mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var _ in S)S.hasOwnProperty(_)&&(Su(C[_]===void 0,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",_),C[_]=S[_]);return C}function h(C,S){return function(){var E=C.apply(this,arguments),k=S.apply(this,arguments);if(E==null)return k;if(k==null)return E;var T={};return d(T,E),d(T,k),T}}function p(C,S){return function(){C.apply(this,arguments),S.apply(this,arguments)}}function m(C,S){var _=S.bind(C);return _}function g(C){for(var S=C.__reactAutoBindPairs,_=0;_<S.length;_+=2){var E=S[_],k=S[_+1];C[E]=m(C,k)}}var v={componentDidMount:function(){this.__isMounted=!0}},b={componentWillUnmount:function(){this.__isMounted=!1}},y={replaceState:function(C,S){this.updater.enqueueReplaceState(this,C,S)},isMounted:function(){return!!this.__isMounted}},x=function(){};Jk(x.prototype,e.prototype,y);function w(C){var S=function(E,k,T){this.__reactAutoBindPairs.length&&g(this),this.props=E,this.context=k,this.refs=o6n,this.updater=T||n,this.state=null;var j=this.getInitialState?this.getInitialState():null;Su(typeof j=="object"&&!Array.isArray(j),"%s.getInitialState(): must return an object or null",S.displayName||"ReactCompositeComponent"),this.state=j};S.prototype=new x,S.prototype.constructor=S,S.prototype.__reactAutoBindPairs=[],r.forEach(l.bind(null,S)),l(S,v),l(S,C),l(S,b),S.getDefaultProps&&(S.defaultProps=S.getDefaultProps()),Su(S.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var _ in i)S.prototype[_]||(S.prototype[_]=null);return S}return w}var l6n=s6n,kI=f,u6n=l6n;if(typeof kI>"u")throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var c6n=new kI.Component().updater,GM=u6n(kI.Component,kI.isValidElement,c6n),d6n=Date.now||f6n;function f6n(){return new Date().getTime()}var rhe=d6n,h6n=function(t,n,r){var i,a,o,s,l;n==null&&(n=100);function c(){var d=rhe()-s;d<n&&d>0?i=setTimeout(c,n-d):(i=null,r||(l=t.apply(o,a),i||(o=a=null)))}return function(){o=this,a=arguments,s=rhe();var h=r&&!i;return i||(i=setTimeout(c,n)),h&&(l=t.apply(o,a),o=a=null),l}},p6n=m6n;function m6n(e){for(var t=g6n(e),n=1732584193,r=-271733879,i=-1732584194,a=271733878,o=0;o<t.length;o+=16){var s=n,l=r,c=i,d=a;n=ho(n,r,i,a,t[o+0],7,-680876936),a=ho(a,n,r,i,t[o+1],12,-389564586),i=ho(i,a,n,r,t[o+2],17,606105819),r=ho(r,i,a,n,t[o+3],22,-1044525330),n=ho(n,r,i,a,t[o+4],7,-176418897),a=ho(a,n,r,i,t[o+5],12,1200080426),i=ho(i,a,n,r,t[o+6],17,-1473231341),r=ho(r,i,a,n,t[o+7],22,-45705983),n=ho(n,r,i,a,t[o+8],7,1770035416),a=ho(a,n,r,i,t[o+9],12,-1958414417),i=ho(i,a,n,r,t[o+10],17,-42063),r=ho(r,i,a,n,t[o+11],22,-1990404162),n=ho(n,r,i,a,t[o+12],7,1804603682),a=ho(a,n,r,i,t[o+13],12,-40341101),i=ho(i,a,n,r,t[o+14],17,-1502002290),r=ho(r,i,a,n,t[o+15],22,1236535329),n=po(n,r,i,a,t[o+1],5,-165796510),a=po(a,n,r,i,t[o+6],9,-1069501632),i=po(i,a,n,r,t[o+11],14,643717713),r=po(r,i,a,n,t[o+0],20,-373897302),n=po(n,r,i,a,t[o+5],5,-701558691),a=po(a,n,r,i,t[o+10],9,38016083),i=po(i,a,n,r,t[o+15],14,-660478335),r=po(r,i,a,n,t[o+4],20,-405537848),n=po(n,r,i,a,t[o+9],5,568446438),a=po(a,n,r,i,t[o+14],9,-1019803690),i=po(i,a,n,r,t[o+3],14,-187363961),r=po(r,i,a,n,t[o+8],20,1163531501),n=po(n,r,i,a,t[o+13],5,-1444681467),a=po(a,n,r,i,t[o+2],9,-51403784),i=po(i,a,n,r,t[o+7],14,1735328473),r=po(r,i,a,n,t[o+12],20,-1926607734),n=mo(n,r,i,a,t[o+5],4,-378558),a=mo(a,n,r,i,t[o+8],11,-2022574463),i=mo(i,a,n,r,t[o+11],16,1839030562),r=mo(r,i,a,n,t[o+14],23,-35309556),n=mo(n,r,i,a,t[o+1],4,-1530992060),a=mo(a,n,r,i,t[o+4],11,1272893353),i=mo(i,a,n,r,t[o+7],16,-155497632),r=mo(r,i,a,n,t[o+10],23,-1094730640),n=mo(n,r,i,a,t[o+13],4,681279174),a=mo(a,n,r,i,t[o+0],11,-358537222),i=mo(i,a,n,r,t[o+3],16,-722521979),r=mo(r,i,a,n,t[o+6],23,76029189),n=mo(n,r,i,a,t[o+9],4,-640364487),a=mo(a,n,r,i,t[o+12],11,-421815835),i=mo(i,a,n,r,t[o+15],16,530742520),r=mo(r,i,a,n,t[o+2],23,-995338651),n=go(n,r,i,a,t[o+0],6,-198630844),a=go(a,n,r,i,t[o+7],10,1126891415),i=go(i,a,n,r,t[o+14],15,-1416354905),r=go(r,i,a,n,t[o+5],21,-57434055),n=go(n,r,i,a,t[o+12],6,1700485571),a=go(a,n,r,i,t[o+3],10,-1894986606),i=go(i,a,n,r,t[o+10],15,-1051523),r=go(r,i,a,n,t[o+1],21,-2054922799),n=go(n,r,i,a,t[o+8],6,1873313359),a=go(a,n,r,i,t[o+15],10,-30611744),i=go(i,a,n,r,t[o+6],15,-1560198380),r=go(r,i,a,n,t[o+13],21,1309151649),n=go(n,r,i,a,t[o+4],6,-145523070),a=go(a,n,r,i,t[o+11],10,-1120210379),i=go(i,a,n,r,t[o+2],15,718787259),r=go(r,i,a,n,t[o+9],21,-343485551),n=np(n,s),r=np(r,l),i=np(i,c),a=np(a,d)}return Qk(n)+Qk(r)+Qk(i)+Qk(a)}var ihe="0123456789abcdef";function Rq(e,t){var n=e&1|t&1,r=e>>>1|t>>>1;return r<<1|n}function h9(e,t){var n=e&1^t&1,r=e>>>1^t>>>1;return r<<1|n}function TI(e,t){var n=e&1&(t&1),r=e>>>1&t>>>1;return r<<1|n}function np(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}function Qk(e){var t="",n;for(n=0;n<=3;n++)t+=ihe.charAt(e>>n*8+4&15)+ihe.charAt(e>>n*8&15);return t}function g6n(e){var t=(e.length+8>>6)+1,n=new Array(t*16),r;for(r=0;r<t*16;r++)n[r]=0;for(r=0;r<e.length;r++)n[r>>2]|=e.charCodeAt(r)<<(e.length*8+r)%4*8;n[r>>2]|=128<<(e.length*8+r)%4*8;var i=e.length*8;return n[t*16-2]=i&255,n[t*16-2]|=(i>>>8&255)<<8,n[t*16-2]|=(i>>>16&255)<<16,n[t*16-2]|=(i>>>24&255)<<24,n}function v6n(e,t){return e<<t|e>>>32-t}function YM(e,t,n,r,i,a){return np(v6n(np(np(t,e),np(r,a)),i),n)}function ho(e,t,n,r,i,a,o){return YM(Rq(TI(t,n),TI(~t,r)),e,t,i,a,o)}function po(e,t,n,r,i,a,o){return YM(Rq(TI(t,r),TI(n,~r)),e,t,i,a,o)}function mo(e,t,n,r,i,a,o){return YM(h9(h9(t,n),r),e,t,i,a,o)}function go(e,t,n,r,i,a,o){return YM(h9(n,Rq(t,~r)),e,t,i,a,o)}var y6n=Math.ceil(Math.random()*10),b6n=function(){return++y6n},Pq=function(e){return Object.prototype.toString.call(e).slice(8,-1)},x6n=Pq;function w6n(e){var t=x6n(e);return t!=="Object"&&t!=="Array"}var y3e=w6n,C6n=f,S6n=GM,e5=C6n.createElement,_6n=S6n({getDefaultProps:function(){return{string:"",highlight:""}},shouldComponentUpdate:function(e){return e.highlight!==this.props.highlight},render:function(){var e=this.props,t=e.string.search(e.highlight);if(!e.highlight||t===-1)return e5("span",null,e.string);var n=e.highlight.source.length,r=e.string.substr(t,n);return e5("span",null,e.string.split(e.highlight).map(function(i,a){return e5("span",{key:a},a>0?e5("span",{className:"json-inspector__hl"},r):null,i)}))}}),E6n=f,k6n=GM,T6n=p6n,A6n=b6n,b3e=Pq,IT=y3e,j6n=_6n,Tl=E6n.createElement,I6n=".root.",x3e=k6n({getInitialState:function(){return{expanded:this._isInitiallyExpanded(this.props)}},getDefaultProps:function(){return{root:!1,prefix:""}},render:function(){var e="id_"+A6n(),t=this.props,n={path:this.keypath(),key:t.label.toString(),value:t.data},r=this._onClick.bind(this,n);return Tl("div",{className:this.getClassName(),id:"leaf-"+this._rootPath()},Tl("input",{className:"json-inspector__radio",type:"radio",name:t.id,id:e,tabIndex:-1}),Tl("label",{className:"json-inspector__line",htmlFor:e,onClick:r},Tl("div",{className:"json-inspector__flatpath"},n.path),Tl("span",{className:"json-inspector__key"},this.format(n.key),":",this.renderInteractiveLabel(n.key,!0)),this.renderTitle(),this.renderShowOriginalButton()),this.renderChildren())},renderTitle:function(){var e=this.data(),t=b3e(e);switch(t){case"Array":var n=e.length;return Tl("span",{className:"json-inspector__value json-inspector__value_helper"},(n>0?"[…] ":"[] ")+D6n(n));case"Object":var r=Object.keys(e).length;return Tl("span",{className:"json-inspector__value json-inspector__value_helper"},(r>0?"{…} ":"{} ")+$6n(r));default:return Tl("span",{className:"json-inspector__value json-inspector__value_"+t.toLowerCase()},this.format(String(e)),this.renderInteractiveLabel(e,!1))}},renderChildren:function(){var e=this.props,t=this._rootPath(),n=this.data();return this.state.expanded&&!IT(n)?Object.keys(n).map(function(r){var i=n[r],a=!this.state.original||(e.verboseShowOriginal?e.query:!1);return Tl(x3e,{data:i,label:r,prefix:t,onClick:e.onClick,id:e.id,query:e.query,getOriginal:a?e.getOriginal:null,key:O6n(r,i),isExpanded:e.isExpanded,interactiveLabel:e.interactiveLabel,verboseShowOriginal:e.verboseShowOriginal})},this):null},renderShowOriginalButton:function(){var e=this.props;return IT(e.data)||this.state.original||!e.getOriginal||!e.query||E4(this.keypath(),e.query)?null:Tl("span",{className:"json-inspector__show-original",onClick:this._onShowOriginalClick})},renderInteractiveLabel:function(e,t){return typeof this.props.interactiveLabel=="function"?Tl(this.props.interactiveLabel,{value:String(e),originalValue:e,isKey:t,keypath:this.keypath()}):null},componentWillReceiveProps:function(e){e.query&&this.setState({expanded:!E4(e.label,e.query)}),this.props.query&&!e.query&&this.setState({expanded:this._isInitiallyExpanded(e)})},_rootPath:function(){return this.props.prefix+"."+this.props.label},keypath:function(){return this._rootPath().substr(I6n.length)},data:function(){return this.state.original||this.props.data},format:function(e){return Tl(j6n,{string:e,highlight:this.props.query})},getClassName:function(){var e="json-inspector__leaf";return this.props.root&&(e+=" json-inspector__leaf_root"),this.state.expanded&&(e+=" json-inspector__leaf_expanded"),IT(this.props.data)||(e+=" json-inspector__leaf_composite"),e},toggle:function(){this.setState({expanded:!this.state.expanded})},_onClick:function(e,t){this.toggle(),this.props.onClick(e),t.stopPropagation()},_onShowOriginalClick:function(e){this.setState({original:this.props.getOriginal(this.keypath())}),e.stopPropagation()},_isInitiallyExpanded:function(e){var t=this.keypath();return e.root?!0:e.query?!E4(t,e.query)&&typeof e.getOriginal=="function":e.isExpanded(t,e.data)}});function D6n(e){return e+(e===1?" item":" items")}function $6n(e){return e+(e===1?" property":" properties")}function O6n(e,t){if(IT(t)){var n=T6n(String(t));return e+":"+n}else return e+"["+b3e(t)+"]"}function E4(e,t){return e.indexOf(t)!==-1}var M6n=x3e,w3e=function(){},R6n=f,P6n=GM,F6n=R6n.createElement,N6n=w3e,L6n=P6n({getDefaultProps:function(){return{onChange:N6n}},render:function(){return F6n("input",{className:"json-inspector__search",type:"search",placeholder:"Search",onChange:this.onChange})},onChange:function(e){this.props.onChange(e.target.value)}}),C3e=function(e){return Object.keys(e).length===0},B6n=Object.keys,V6n=y3e,z6n=C3e,U6n=function(e,t){t||(t={cacheResults:!0});var n={};return function(r){if(!t.cacheResults)return DT(e,r,t);var i;if(!n[r]){for(var a=r.length-1;a>0;a-=1)if(i=r.substr(0,a),n[i]){n[r]=DT(n[i],r,t);break}}return n[r]||(n[r]=DT(e,r,t)),n[r]}};function DT(e,t,n){return B6n(e).reduce(function(r,i){var a=e[i],o;return V6n(a)?(k4(t,i,n)||k4(t,a,n))&&(r[i]=a):k4(t,i,n)?r[i]=a:(o=DT(a,t,n),z6n(o)||Object.assign(r,H6n(i,o))),r},{})}function k4(e,t,n){if(t){var r=String(t),i=e;return n.ignoreCase&&(r=r.toLowerCase(),i=i.toLowerCase()),r.indexOf(i)!==-1}}function H6n(e,t){var n={};return n[e]=t,n}var W6n=Pq,T4=".";function p9(e,t){var n=t.split(T4),r=n.shift();if(!r)return e;var i=W6n(e);if(i==="Array"&&e[ahe(r)])return p9(e[ahe(r)],n.join(T4));if(i==="Object"&&e[r])return p9(e[r],n.join(T4))}function ahe(e){return parseInt(e,10)}var G6n=p9,Y6n=f,q6n=GM,K6n=h6n,dw=Y6n.createElement,Z6n=M6n,X6n=L6n,J6n=U6n,Q6n=C3e,e7n=G6n,t7n=w3e,n7n=q6n({getDefaultProps:function(){return{data:null,search:X6n,searchOptions:{debounceTime:0},className:"",id:"json-"+Date.now(),onClick:t7n,filterOptions:{cacheResults:!0,ignoreCase:!1},validateQuery:function(e){return e.length>=2},isExpanded:function(e,t){return!1},verboseShowOriginal:!1}},getInitialState:function(){return{query:this.props.query||""}},render:function(){var e=this.props,t=this.state,n=t.query!==""&&e.validateQuery(t.query),r=n?t.filterer(t.query):e.data,i=n&&Q6n(r);return dw("div",{className:"json-inspector "+e.className},this.renderToolbar(),i?dw("div",{className:"json-inspector__not-found"},"Nothing found"):dw(Z6n,{data:r,onClick:e.onClick,id:e.id,getOriginal:this.getOriginal,query:n?new RegExp(t.query,e.filterOptions.ignoreCase?"i":""):null,label:"root",root:!0,isExpanded:e.isExpanded,interactiveLabel:e.interactiveLabel,verboseShowOriginal:e.verboseShowOriginal}))},renderToolbar:function(){var e=this.props.search;if(e)return dw("div",{className:"json-inspector__toolbar"},dw(e,{onChange:K6n(this.search,this.props.searchOptions.debounceTime),data:this.props.data,query:this.state.query}))},search:function(e){this.setState({query:e})},componentWillMount:function(){this.createFilterer(this.props.data,this.props.filterOptions)},componentWillReceiveProps:function(e){this.createFilterer(e.data,e.filterOptions);var t=typeof e.query=="string"&&e.query!==this.state.query;t&&this.setState({query:e.query})},shouldComponentUpdate:function(e,t){return e.query!==this.props.query||t.query!==this.state.query||e.data!==this.props.data||e.onClick!==this.props.onClick},createFilterer:function(e,t){this.setState({filterer:J6n(e,t)})},getOriginal:function(e){return e7n(this.props.data,e)}});const r7n=Pe(n7n);class i7n{constructor(t={}){if(!(t.maxSize&&t.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=t.maxSize,this.onEviction=t.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(t,n){if(this.cache.set(t,n),this._size++,this._size>=this.maxSize){if(this._size=0,typeof this.onEviction=="function")for(const[r,i]of this.oldCache.entries())this.onEviction(r,i);this.oldCache=this.cache,this.cache=new Map}}get(t){if(this.cache.has(t))return this.cache.get(t);if(this.oldCache.has(t)){const n=this.oldCache.get(t);return this.oldCache.delete(t),this._set(t,n),n}}set(t,n){return this.cache.has(t)?this.cache.set(t,n):this._set(t,n),this}has(t){return this.cache.has(t)||this.oldCache.has(t)}peek(t){if(this.cache.has(t))return this.cache.get(t);if(this.oldCache.has(t))return this.oldCache.get(t)}delete(t){const n=this.cache.delete(t);return n&&this._size--,this.oldCache.delete(t)||n}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[t]of this)yield t}*values(){for(const[,t]of this)yield t}*[Symbol.iterator](){for(const t of this.cache)yield t;for(const t of this.oldCache){const[n]=t;this.cache.has(n)||(yield t)}}get size(){let t=0;for(const n of this.oldCache.keys())this.cache.has(n)||t++;return Math.min(this._size+t,this.maxSize)}}var a7n=i7n;const o7n=Pe(a7n);var qM={},s7n=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(i){e.addRange(i)}),t&&t.focus()}},l7n=s7n,ohe={"text/plain":"Text","text/html":"Url",default:"Text"},u7n="Copy to clipboard: #{key}, Enter";function c7n(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function d7n(e,t){var n,r,i,a,o,s,l=!1;t||(t={}),n=t.debug||!1;try{i=l7n(),a=document.createRange(),o=document.getSelection(),s=document.createElement("span"),s.textContent=e,s.ariaHidden="true",s.style.all="unset",s.style.position="fixed",s.style.top=0,s.style.clip="rect(0, 0, 0, 0)",s.style.whiteSpace="pre",s.style.webkitUserSelect="text",s.style.MozUserSelect="text",s.style.msUserSelect="text",s.style.userSelect="text",s.addEventListener("copy",function(d){if(d.stopPropagation(),t.format)if(d.preventDefault(),typeof d.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var h=ohe[t.format]||ohe.default;window.clipboardData.setData(h,e)}else d.clipboardData.clearData(),d.clipboardData.setData(t.format,e);t.onCopy&&(d.preventDefault(),t.onCopy(d.clipboardData))}),document.body.appendChild(s),a.selectNodeContents(s),o.addRange(a);var c=document.execCommand("copy");if(!c)throw new Error("copy command was unsuccessful");l=!0}catch(d){n&&console.error("unable to copy using execCommand: ",d),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),l=!0}catch(h){n&&console.error("unable to copy using clipboardData: ",h),n&&console.error("falling back to prompt"),r=c7n("message"in t?t.message:u7n),window.prompt(r,e)}}finally{o&&(typeof o.removeRange=="function"?o.removeRange(a):o.removeAllRanges()),s&&document.body.removeChild(s),i()}return l}var f7n=d7n;function m9(e){"@babel/helpers - typeof";return m9=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m9(e)}Object.defineProperty(qM,"__esModule",{value:!0});qM.CopyToClipboard=void 0;var t5=S3e(f),h7n=S3e(f7n),p7n=["text","onCopy","options","children"];function S3e(e){return e&&e.__esModule?e:{default:e}}function she(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lhe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?she(Object(n),!0).forEach(function(r){Fq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):she(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function m7n(e,t){if(e==null)return{};var n=g7n(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function g7n(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function v7n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uhe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y7n(e,t,n){return t&&uhe(e.prototype,t),n&&uhe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function b7n(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g9(e,t)}function g9(e,t){return g9=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},g9(e,t)}function x7n(e){var t=C7n();return function(){var r=AI(e),i;if(t){var a=AI(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return w7n(this,i)}}function w7n(e,t){if(t&&(m9(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _3e(e)}function _3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C7n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function AI(e){return AI=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},AI(e)}function Fq(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E3e=function(e){b7n(n,e);var t=x7n(n);function n(){var r;v7n(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Fq(_3e(r),"onClick",function(s){var l=r.props,c=l.text,d=l.onCopy,h=l.children,p=l.options,m=t5.default.Children.only(h),g=(0,h7n.default)(c,p);d&&d(c,g),m&&m.props&&typeof m.props.onClick=="function"&&m.props.onClick(s)}),r}return y7n(n,[{key:"render",value:function(){var i=this.props;i.text,i.onCopy,i.options;var a=i.children,o=m7n(i,p7n),s=t5.default.Children.only(a);return t5.default.cloneElement(s,lhe(lhe({},o),{},{onClick:this.onClick}))}}]),n}(t5.default.PureComponent);qM.CopyToClipboard=E3e;Fq(E3e,"defaultProps",{onCopy:void 0,options:void 0});var S7n=qM,v9=S7n.CopyToClipboard;v9.CopyToClipboard=v9;var _7n=v9;const E7n=Pe(_7n);var k7n=Nf,T7n=ul,A7n="[object Number]";function j7n(e){return typeof e=="number"||T7n(e)&&k7n(e)==A7n}var I7n=j7n;const D7n=Pe(I7n);/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function $7n(){return{accessor:(e,t)=>typeof e=="function"?{...t,accessorFn:e}:{...t,accessorKey:e},display:e=>e,group:e=>e}}function rp(e,t){return typeof e=="function"?e(t):e}function ll(e,t){return n=>{t.setState(r=>({...r,[e]:rp(n,r[e])}))}}function KM(e){return e instanceof Function}function O7n(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function M7n(e,t){const n=[],r=i=>{i.forEach(a=>{n.push(a);const o=t(a);o!=null&&o.length&&r(o)})};return r(e),n}function Tt(e,t,n){let r=[],i;return a=>{let o;n.key&&n.debug&&(o=Date.now());const s=e(a);if(!(s.length!==r.length||s.some((d,h)=>r[h]!==d)))return i;r=s;let c;if(n.key&&n.debug&&(c=Date.now()),i=t(...s),n==null||n.onChange==null||n.onChange(i),n.key&&n.debug&&n!=null&&n.debug()){const d=Math.round((Date.now()-o)*100)/100,h=Math.round((Date.now()-c)*100)/100,p=h/16,m=(g,v)=>{for(g=String(g);g.length<v;)g=" "+g;return g};console.info(`%c⏱ ${m(h,5)} /${m(d,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*p,120))}deg 100% 31%);`,n==null?void 0:n.key)}return i}}function At(e,t,n,r){return{debug:()=>{var i;return(i=e==null?void 0:e.debugAll)!=null?i:e[t]},key:!1,onChange:r}}function R7n(e,t,n,r){const i=()=>{var o;return(o=a.getValue())!=null?o:e.options.renderFallbackValue},a={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:i,getContext:Tt(()=>[e,n,t,a],(o,s,l,c)=>({table:o,column:s,row:l,cell:c,getValue:c.getValue,renderValue:c.renderValue}),At(e.options,"debugCells"))};return e._features.forEach(o=>{o.createCell==null||o.createCell(a,n,t,e)},{}),a}function P7n(e,t,n,r){var i,a;const s={...e._getDefaultColumnDef(),...t},l=s.accessorKey;let c=(i=(a=s.id)!=null?a:l?typeof String.prototype.replaceAll=="function"?l.replaceAll(".","_"):l.replace(/\./g,"_"):void 0)!=null?i:typeof s.header=="string"?s.header:void 0,d;if(s.accessorFn?d=s.accessorFn:l&&(l.includes(".")?d=p=>{let m=p;for(const v of l.split(".")){var g;m=(g=m)==null?void 0:g[v]}return m}:d=p=>p[s.accessorKey]),!c)throw new Error;let h={id:`${String(c)}`,accessorFn:d,parent:r,depth:n,columnDef:s,columns:[],getFlatColumns:Tt(()=>[!0],()=>{var p;return[h,...(p=h.columns)==null?void 0:p.flatMap(m=>m.getFlatColumns())]},At(e.options,"debugColumns")),getLeafColumns:Tt(()=>[e._getOrderColumnsFn()],p=>{var m;if((m=h.columns)!=null&&m.length){let g=h.columns.flatMap(v=>v.getLeafColumns());return p(g)}return[h]},At(e.options,"debugColumns"))};for(const p of e._features)p.createColumn==null||p.createColumn(h,e);return h}const vo="debugHeaders";function che(e,t,n){var r;let a={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],s=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(s),o.push(l)};return s(a),o},getContext:()=>({table:e,header:a,column:t})};return e._features.forEach(o=>{o.createHeader==null||o.createHeader(a,e)}),a}const F7n={createTable:e=>{e.getHeaderGroups=Tt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>{var a,o;const s=(a=r==null?void 0:r.map(h=>n.find(p=>p.id===h)).filter(Boolean))!=null?a:[],l=(o=i==null?void 0:i.map(h=>n.find(p=>p.id===h)).filter(Boolean))!=null?o:[],c=n.filter(h=>!(r!=null&&r.includes(h.id))&&!(i!=null&&i.includes(h.id)));return n5(t,[...s,...c,...l],e)},At(e.options,vo)),e.getCenterHeaderGroups=Tt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>(n=n.filter(a=>!(r!=null&&r.includes(a.id))&&!(i!=null&&i.includes(a.id))),n5(t,n,e,"center")),At(e.options,vo)),e.getLeftHeaderGroups=Tt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var i;const a=(i=r==null?void 0:r.map(o=>n.find(s=>s.id===o)).filter(Boolean))!=null?i:[];return n5(t,a,e,"left")},At(e.options,vo)),e.getRightHeaderGroups=Tt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var i;const a=(i=r==null?void 0:r.map(o=>n.find(s=>s.id===o)).filter(Boolean))!=null?i:[];return n5(t,a,e,"right")},At(e.options,vo)),e.getFooterGroups=Tt(()=>[e.getHeaderGroups()],t=>[...t].reverse(),At(e.options,vo)),e.getLeftFooterGroups=Tt(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),At(e.options,vo)),e.getCenterFooterGroups=Tt(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),At(e.options,vo)),e.getRightFooterGroups=Tt(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),At(e.options,vo)),e.getFlatHeaders=Tt(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),At(e.options,vo)),e.getLeftFlatHeaders=Tt(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),At(e.options,vo)),e.getCenterFlatHeaders=Tt(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),At(e.options,vo)),e.getRightFlatHeaders=Tt(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),At(e.options,vo)),e.getCenterLeafHeaders=Tt(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),At(e.options,vo)),e.getLeftLeafHeaders=Tt(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),At(e.options,vo)),e.getRightLeafHeaders=Tt(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),At(e.options,vo)),e.getLeafHeaders=Tt(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var i,a,o,s,l,c;return[...(i=(a=t[0])==null?void 0:a.headers)!=null?i:[],...(o=(s=n[0])==null?void 0:s.headers)!=null?o:[],...(l=(c=r[0])==null?void 0:c.headers)!=null?l:[]].map(d=>d.getLeafHeaders()).flat()},At(e.options,vo))}};function n5(e,t,n,r){var i,a;let o=0;const s=function(p,m){m===void 0&&(m=1),o=Math.max(o,m),p.filter(g=>g.getIsVisible()).forEach(g=>{var v;(v=g.columns)!=null&&v.length&&s(g.columns,m+1)},0)};s(e);let l=[];const c=(p,m)=>{const g={depth:m,id:[r,`${m}`].filter(Boolean).join("_"),headers:[]},v=[];p.forEach(b=>{const y=[...v].reverse()[0],x=b.column.depth===g.depth;let w,C=!1;if(x&&b.column.parent?w=b.column.parent:(w=b.column,C=!0),y&&(y==null?void 0:y.column)===w)y.subHeaders.push(b);else{const S=che(n,w,{id:[r,m,w.id,b==null?void 0:b.id].filter(Boolean).join("_"),isPlaceholder:C,placeholderId:C?`${v.filter(_=>_.column===w).length}`:void 0,depth:m,index:v.length});S.subHeaders.push(b),v.push(S)}g.headers.push(b),b.headerGroup=g}),l.push(g),m>0&&c(v,m-1)},d=t.map((p,m)=>che(n,p,{depth:o,index:m}));c(d,o-1),l.reverse();const h=p=>p.filter(g=>g.column.getIsVisible()).map(g=>{let v=0,b=0,y=[0];g.subHeaders&&g.subHeaders.length?(y=[],h(g.subHeaders).forEach(w=>{let{colSpan:C,rowSpan:S}=w;v+=C,y.push(S)})):v=1;const x=Math.min(...y);return b=b+x,g.colSpan=v,g.rowSpan=b,{colSpan:v,rowSpan:b}});return h((i=(a=l[0])==null?void 0:a.headers)!=null?i:[]),l}const Nq=(e,t,n,r,i,a,o)=>{let s={id:t,index:r,original:n,depth:i,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(s._valuesCache.hasOwnProperty(l))return s._valuesCache[l];const c=e.getColumn(l);if(c!=null&&c.accessorFn)return s._valuesCache[l]=c.accessorFn(s.original,r),s._valuesCache[l]},getUniqueValues:l=>{if(s._uniqueValuesCache.hasOwnProperty(l))return s._uniqueValuesCache[l];const c=e.getColumn(l);if(c!=null&&c.accessorFn)return c.columnDef.getUniqueValues?(s._uniqueValuesCache[l]=c.columnDef.getUniqueValues(s.original,r),s._uniqueValuesCache[l]):(s._uniqueValuesCache[l]=[s.getValue(l)],s._uniqueValuesCache[l])},renderValue:l=>{var c;return(c=s.getValue(l))!=null?c:e.options.renderFallbackValue},subRows:a??[],getLeafRows:()=>M7n(s.subRows,l=>l.subRows),getParentRow:()=>s.parentId?e.getRow(s.parentId,!0):void 0,getParentRows:()=>{let l=[],c=s;for(;;){const d=c.getParentRow();if(!d)break;l.push(d),c=d}return l.reverse()},getAllCells:Tt(()=>[e.getAllLeafColumns()],l=>l.map(c=>R7n(e,s,c,c.id)),At(e.options,"debugRows")),_getAllCellsByColumnId:Tt(()=>[s.getAllCells()],l=>l.reduce((c,d)=>(c[d.column.id]=d,c),{}),At(e.options,"debugRows"))};for(let l=0;l<e._features.length;l++){const c=e._features[l];c==null||c.createRow==null||c.createRow(s,e)}return s},N7n={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},k3e=(e,t,n)=>{var r;const i=n.toLowerCase();return!!(!((r=e.getValue(t))==null||(r=r.toString())==null||(r=r.toLowerCase())==null)&&r.includes(i))};k3e.autoRemove=e=>zu(e);const T3e=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};T3e.autoRemove=e=>zu(e);const A3e=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};A3e.autoRemove=e=>zu(e);const j3e=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};j3e.autoRemove=e=>zu(e)||!(e!=null&&e.length);const I3e=(e,t,n)=>!n.some(r=>{var i;return!((i=e.getValue(t))!=null&&i.includes(r))});I3e.autoRemove=e=>zu(e)||!(e!=null&&e.length);const D3e=(e,t,n)=>n.some(r=>{var i;return(i=e.getValue(t))==null?void 0:i.includes(r)});D3e.autoRemove=e=>zu(e)||!(e!=null&&e.length);const $3e=(e,t,n)=>e.getValue(t)===n;$3e.autoRemove=e=>zu(e);const O3e=(e,t,n)=>e.getValue(t)==n;O3e.autoRemove=e=>zu(e);const Lq=(e,t,n)=>{let[r,i]=n;const a=e.getValue(t);return a>=r&&a<=i};Lq.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,i=typeof n!="number"?parseFloat(n):n,a=t===null||Number.isNaN(r)?-1/0:r,o=n===null||Number.isNaN(i)?1/0:i;if(a>o){const s=a;a=o,o=s}return[a,o]};Lq.autoRemove=e=>zu(e)||zu(e[0])&&zu(e[1]);const Vd={includesString:k3e,includesStringSensitive:T3e,equalsString:A3e,arrIncludes:j3e,arrIncludesAll:I3e,arrIncludesSome:D3e,equals:$3e,weakEquals:O3e,inNumberRange:Lq};function zu(e){return e==null||e===""}const L7n={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:ll("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?Vd.includesString:typeof r=="number"?Vd.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Vd.equals:Array.isArray(r)?Vd.arrIncludes:Vd.weakEquals},e.getFilterFn=()=>{var n,r;return KM(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:Vd[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,i;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const i=e.getFilterFn(),a=r==null?void 0:r.find(d=>d.id===e.id),o=rp(n,a?a.value:void 0);if(dhe(i,o,e)){var s;return(s=r==null?void 0:r.filter(d=>d.id!==e.id))!=null?s:[]}const l={id:e.id,value:o};if(a){var c;return(c=r==null?void 0:r.map(d=>d.id===e.id?l:d))!=null?c:[]}return r!=null&&r.length?[...r,l]:[l]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=i=>{var a;return(a=rp(t,i))==null?void 0:a.filter(o=>{const s=n.find(l=>l.id===o.id);if(s){const l=s.getFilterFn();if(dhe(l,o.value,s))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function dhe(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const B7n=(e,t,n)=>n.reduce((r,i)=>{const a=i.getValue(e);return r+(typeof a=="number"?a:0)},0),V7n=(e,t,n)=>{let r;return n.forEach(i=>{const a=i.getValue(e);a!=null&&(r>a||r===void 0&&a>=a)&&(r=a)}),r},z7n=(e,t,n)=>{let r;return n.forEach(i=>{const a=i.getValue(e);a!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}),r},U7n=(e,t,n)=>{let r,i;return n.forEach(a=>{const o=a.getValue(e);o!=null&&(r===void 0?o>=o&&(r=i=o):(r>o&&(r=o),i<o&&(i=o)))}),[r,i]},H7n=(e,t)=>{let n=0,r=0;if(t.forEach(i=>{let a=i.getValue(e);a!=null&&(a=+a)>=a&&(++n,r+=a)}),n)return r/n},W7n=(e,t)=>{if(!t.length)return;const n=t.map(a=>a.getValue(e));if(!O7n(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),i=n.sort((a,o)=>a-o);return n.length%2!==0?i[r]:(i[r-1]+i[r])/2},G7n=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),Y7n=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,q7n=(e,t)=>t.length,A4={sum:B7n,min:V7n,max:z7n,extent:U7n,mean:H7n,median:W7n,unique:G7n,uniqueCount:Y7n,count:q7n},K7n={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:ll("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return A4.sum;if(Object.prototype.toString.call(r)==="[object Date]")return A4.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return KM(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:A4[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var i;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((i=n.subRows)!=null&&i.length)}}};function Z7n(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(a=>!t.includes(a.id));return n==="remove"?r:[...t.map(a=>e.find(o=>o.id===a)).filter(Boolean),...r]}const X7n={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:ll("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=Tt(n=>[IC(t,n)],n=>n.findIndex(r=>r.id===e.id),At(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=IC(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const i=IC(t,n);return((r=i[i.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=Tt(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>i=>{let a=[];if(!(t!=null&&t.length))a=i;else{const o=[...t],s=[...i];for(;s.length&&o.length;){const l=o.shift(),c=s.findIndex(d=>d.id===l);c>-1&&a.push(s.splice(c,1)[0])}a=[...a,...s]}return Z7n(a,n,r)},At(e.options,"debugTable"))}},j4=()=>({left:[],right:[]}),J7n={getInitialState:e=>({columnPinning:j4(),...e}),getDefaultOptions:e=>({onColumnPinningChange:ll("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(i=>i.id).filter(Boolean);t.setColumnPinning(i=>{var a,o;if(n==="right"){var s,l;return{left:((s=i==null?void 0:i.left)!=null?s:[]).filter(h=>!(r!=null&&r.includes(h))),right:[...((l=i==null?void 0:i.right)!=null?l:[]).filter(h=>!(r!=null&&r.includes(h))),...r]}}if(n==="left"){var c,d;return{left:[...((c=i==null?void 0:i.left)!=null?c:[]).filter(h=>!(r!=null&&r.includes(h))),...r],right:((d=i==null?void 0:i.right)!=null?d:[]).filter(h=>!(r!=null&&r.includes(h)))}}return{left:((a=i==null?void 0:i.left)!=null?a:[]).filter(h=>!(r!=null&&r.includes(h))),right:((o=i==null?void 0:i.right)!=null?o:[]).filter(h=>!(r!=null&&r.includes(h)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var i,a,o;return((i=r.columnDef.enablePinning)!=null?i:!0)&&((a=(o=t.options.enableColumnPinning)!=null?o:t.options.enablePinning)!=null?a:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(s=>s.id),{left:r,right:i}=t.getState().columnPinning,a=n.some(s=>r==null?void 0:r.includes(s)),o=n.some(s=>i==null?void 0:i.includes(s));return a?"left":o?"right":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();return i?(n=(r=t.getState().columnPinning)==null||(r=r[i])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=Tt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,i)=>{const a=[...r??[],...i??[]];return n.filter(o=>!a.includes(o.column.id))},At(t.options,"debugRows")),e.getLeftVisibleCells=Tt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(a=>n.find(o=>o.column.id===a)).filter(Boolean).map(a=>({...a,position:"left"})),At(t.options,"debugRows")),e.getRightVisibleCells=Tt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(a=>n.find(o=>o.column.id===a)).filter(Boolean).map(a=>({...a,position:"right"})),At(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?j4():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:j4())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var i,a;return!!((i=r.left)!=null&&i.length||(a=r.right)!=null&&a.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=Tt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),At(e.options,"debugColumns")),e.getRightLeafColumns=Tt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),At(e.options,"debugColumns")),e.getCenterLeafColumns=Tt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const i=[...n??[],...r??[]];return t.filter(a=>!i.includes(a.id))},At(e.options,"debugColumns"))}},r5={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},I4=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Q7n={getDefaultColumnDef:()=>r5,getInitialState:e=>({columnSizing:{},columnSizingInfo:I4(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:ll("columnSizing",e),onColumnSizingInfoChange:ll("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,i;const a=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:r5.minSize,(r=a??e.columnDef.size)!=null?r:r5.size),(i=e.columnDef.maxSize)!=null?i:r5.maxSize)},e.getStart=Tt(n=>[n,IC(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((i,a)=>i+a.getSize(),0),At(t.options,"debugColumns")),e.getAfter=Tt(n=>[n,IC(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((i,a)=>i+a.getSize(),0),At(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...i}=n;return i})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=i=>{if(i.subHeaders.length)i.subHeaders.forEach(r);else{var a;n+=(a=i.column.getSize())!=null?a:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),i=r==null?void 0:r.getCanResize();return a=>{if(!r||!i||(a.persist==null||a.persist(),D4(a)&&a.touches&&a.touches.length>1))return;const o=e.getSize(),s=e?e.getLeafHeaders().map(y=>[y.column.id,y.column.getSize()]):[[r.id,r.getSize()]],l=D4(a)?Math.round(a.touches[0].clientX):a.clientX,c={},d=(y,x)=>{typeof x=="number"&&(t.setColumnSizingInfo(w=>{var C,S;const _=t.options.columnResizeDirection==="rtl"?-1:1,E=(x-((C=w==null?void 0:w.startOffset)!=null?C:0))*_,k=Math.max(E/((S=w==null?void 0:w.startSize)!=null?S:0),-.999999);return w.columnSizingStart.forEach(T=>{let[j,I]=T;c[j]=Math.round(Math.max(I+I*k,0)*100)/100}),{...w,deltaOffset:E,deltaPercentage:k}}),(t.options.columnResizeMode==="onChange"||y==="end")&&t.setColumnSizing(w=>({...w,...c})))},h=y=>d("move",y),p=y=>{d("end",y),t.setColumnSizingInfo(x=>({...x,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},m=n||typeof document<"u"?document:null,g={moveHandler:y=>h(y.clientX),upHandler:y=>{m==null||m.removeEventListener("mousemove",g.moveHandler),m==null||m.removeEventListener("mouseup",g.upHandler),p(y.clientX)}},v={moveHandler:y=>(y.cancelable&&(y.preventDefault(),y.stopPropagation()),h(y.touches[0].clientX),!1),upHandler:y=>{var x;m==null||m.removeEventListener("touchmove",v.moveHandler),m==null||m.removeEventListener("touchend",v.upHandler),y.cancelable&&(y.preventDefault(),y.stopPropagation()),p((x=y.touches[0])==null?void 0:x.clientX)}},b=e9n()?{passive:!1}:!1;D4(a)?(m==null||m.addEventListener("touchmove",v.moveHandler,b),m==null||m.addEventListener("touchend",v.upHandler,b)):(m==null||m.addEventListener("mousemove",g.moveHandler,b),m==null||m.addEventListener("mouseup",g.upHandler,b)),t.setColumnSizingInfo(y=>({...y,startOffset:l,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:s,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?I4():(n=e.initialState.columnSizingInfo)!=null?n:I4())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0}}};let i5=null;function e9n(){if(typeof i5=="boolean")return i5;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return i5=e,i5}function D4(e){return e.type==="touchstart"}const t9n={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:ll("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const i=e.columns;return(n=i.length?i.some(a=>a.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=Tt(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),At(t.options,"debugRows")),e.getVisibleCells=Tt(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,i)=>[...n,...r,...i],At(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>Tt(()=>[r(),r().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(a=>a.getIsVisible==null?void 0:a.getIsVisible()),At(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((i,a)=>({...i,[a.id]:n||!(a.getCanHide!=null&&a.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function IC(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const n9n={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},r9n={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:ll("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,i,a;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&((a=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?a:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Vd.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return KM(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:Vd[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},i9n={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:ll("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var i,a;e.setExpanded(r?{}:(i=(a=e.initialState)==null?void 0:a.expanded)!=null?i:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(a=>{const o=a.split(".");r=Math.max(r,o.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var i;const a=r===!0?!0:!!(r!=null&&r[e.id]);let o={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(s=>{o[s]=!0}):o=r,n=(i=n)!=null?i:!a,!a&&n)return{...o,[e.id]:!0};if(a&&!n){const{[e.id]:s,...l}=o;return l}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,i;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((i=e.subRows)!=null&&i.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},y9=0,b9=10,$4=()=>({pageIndex:y9,pageSize:b9}),a9n={getInitialState:e=>({...e,pagination:{...$4(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:ll("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const i=a=>rp(r,a);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(i)},e.resetPagination=r=>{var i;e.setPagination(r?$4():(i=e.initialState.pagination)!=null?i:$4())},e.setPageIndex=r=>{e.setPagination(i=>{let a=rp(r,i.pageIndex);const o=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return a=Math.max(0,Math.min(a,o)),{...i,pageIndex:a}})},e.resetPageIndex=r=>{var i,a;e.setPageIndex(r?y9:(i=(a=e.initialState)==null||(a=a.pagination)==null?void 0:a.pageIndex)!=null?i:y9)},e.resetPageSize=r=>{var i,a;e.setPageSize(r?b9:(i=(a=e.initialState)==null||(a=a.pagination)==null?void 0:a.pageSize)!=null?i:b9)},e.setPageSize=r=>{e.setPagination(i=>{const a=Math.max(1,rp(r,i.pageSize)),o=i.pageSize*i.pageIndex,s=Math.floor(o/a);return{...i,pageIndex:s,pageSize:a}})},e.setPageCount=r=>e.setPagination(i=>{var a;let o=rp(r,(a=e.options.pageCount)!=null?a:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...i,pageCount:o}}),e.getPageOptions=Tt(()=>[e.getPageCount()],r=>{let i=[];return r&&r>0&&(i=[...new Array(r)].fill(null).map((a,o)=>o)),i},At(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,i=e.getPageCount();return i===-1?!0:i===0?!1:r<i-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},O4=()=>({top:[],bottom:[]}),o9n={getInitialState:e=>({rowPinning:O4(),...e}),getDefaultOptions:e=>({onRowPinningChange:ll("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,i)=>{const a=r?e.getLeafRows().map(l=>{let{id:c}=l;return c}):[],o=i?e.getParentRows().map(l=>{let{id:c}=l;return c}):[],s=new Set([...o,e.id,...a]);t.setRowPinning(l=>{var c,d;if(n==="bottom"){var h,p;return{top:((h=l==null?void 0:l.top)!=null?h:[]).filter(v=>!(s!=null&&s.has(v))),bottom:[...((p=l==null?void 0:l.bottom)!=null?p:[]).filter(v=>!(s!=null&&s.has(v))),...Array.from(s)]}}if(n==="top"){var m,g;return{top:[...((m=l==null?void 0:l.top)!=null?m:[]).filter(v=>!(s!=null&&s.has(v))),...Array.from(s)],bottom:((g=l==null?void 0:l.bottom)!=null?g:[]).filter(v=>!(s!=null&&s.has(v)))}}return{top:((c=l==null?void 0:l.top)!=null?c:[]).filter(v=>!(s!=null&&s.has(v))),bottom:((d=l==null?void 0:l.bottom)!=null?d:[]).filter(v=>!(s!=null&&s.has(v)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:i}=t.options;return typeof r=="function"?r(e):(n=r??i)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:i}=t.getState().rowPinning,a=n.some(s=>r==null?void 0:r.includes(s)),o=n.some(s=>i==null?void 0:i.includes(s));return a?"top":o?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();if(!i)return-1;const a=(n=i==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(o=>{let{id:s}=o;return s});return(r=a==null?void 0:a.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?O4():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:O4())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var i,a;return!!((i=r.top)!=null&&i.length||(a=r.bottom)!=null&&a.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var i;return((i=e.options.keepPinnedRows)==null||i?(n??[]).map(o=>{const s=e.getRow(o,!0);return s.getIsAllParentsExpanded()?s:null}):(n??[]).map(o=>t.find(s=>s.id===o))).filter(Boolean).map(o=>({...o,position:r}))},e.getTopRows=Tt(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),At(e.options,"debugRows")),e.getBottomRows=Tt(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),At(e.options,"debugRows")),e.getCenterRows=Tt(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const i=new Set([...n??[],...r??[]]);return t.filter(a=>!i.has(a.id))},At(e.options,"debugRows"))}},s9n={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:ll("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},i=e.getPreGroupedRowModel().flatRows;return t?i.forEach(a=>{a.getCanSelect()&&(r[a.id]=!0)}):i.forEach(a=>{delete r[a.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),i={...n};return e.getRowModel().rows.forEach(a=>{x9(i,a.id,r,!0,e)}),i}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=Tt(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?M4(e,n):{rows:[],flatRows:[],rowsById:{}},At(e.options,"debugTable")),e.getFilteredSelectedRowModel=Tt(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?M4(e,n):{rows:[],flatRows:[],rowsById:{}},At(e.options,"debugTable")),e.getGroupedSelectedRowModel=Tt(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?M4(e,n):{rows:[],flatRows:[],rowsById:{}},At(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(i=>i.getCanSelect()&&!n[i.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(i=>!n[i.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const i=e.getIsSelected();t.setRowSelection(a=>{var o;if(n=typeof n<"u"?n:!i,e.getCanSelect()&&i===n)return a;const s={...a};return x9(s,e.id,n,(o=r==null?void 0:r.selectChildren)!=null?o:!0,t),s})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return Bq(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return w9(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return w9(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var i;n&&e.toggleSelected((i=r.target)==null?void 0:i.checked)}}}},x9=(e,t,n,r,i)=>{var a;const o=i.getRow(t,!0);n?(o.getCanMultiSelect()||Object.keys(e).forEach(s=>delete e[s]),o.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(a=o.subRows)!=null&&a.length&&o.getCanSelectSubRows()&&o.subRows.forEach(s=>x9(e,s.id,n,r,i))};function M4(e,t){const n=e.getState().rowSelection,r=[],i={},a=function(o,s){return o.map(l=>{var c;const d=Bq(l,n);if(d&&(r.push(l),i[l.id]=l),(c=l.subRows)!=null&&c.length&&(l={...l,subRows:a(l.subRows)}),d)return l}).filter(Boolean)};return{rows:a(t.rows),flatRows:r,rowsById:i}}function Bq(e,t){var n;return(n=t[e.id])!=null?n:!1}function w9(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let i=!0,a=!1;return e.subRows.forEach(o=>{if(!(a&&!i)&&(o.getCanSelect()&&(Bq(o,t)?a=!0:i=!1),o.subRows&&o.subRows.length)){const s=w9(o,t);s==="all"?a=!0:(s==="some"&&(a=!0),i=!1)}}),i?"all":a?"some":!1}const C9=/([0-9]+)/gm,l9n=(e,t,n)=>M3e(Pp(e.getValue(n)).toLowerCase(),Pp(t.getValue(n)).toLowerCase()),u9n=(e,t,n)=>M3e(Pp(e.getValue(n)),Pp(t.getValue(n))),c9n=(e,t,n)=>Vq(Pp(e.getValue(n)).toLowerCase(),Pp(t.getValue(n)).toLowerCase()),d9n=(e,t,n)=>Vq(Pp(e.getValue(n)),Pp(t.getValue(n))),f9n=(e,t,n)=>{const r=e.getValue(n),i=t.getValue(n);return r>i?1:r<i?-1:0},h9n=(e,t,n)=>Vq(e.getValue(n),t.getValue(n));function Vq(e,t){return e===t?0:e>t?1:-1}function Pp(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function M3e(e,t){const n=e.split(C9).filter(Boolean),r=t.split(C9).filter(Boolean);for(;n.length&&r.length;){const i=n.shift(),a=r.shift(),o=parseInt(i,10),s=parseInt(a,10),l=[o,s].sort();if(isNaN(l[0])){if(i>a)return 1;if(a>i)return-1;continue}if(isNaN(l[1]))return isNaN(o)?-1:1;if(o>s)return 1;if(s>o)return-1}return n.length-r.length}const fw={alphanumeric:l9n,alphanumericCaseSensitive:u9n,text:c9n,textCaseSensitive:d9n,datetime:f9n,basic:h9n},p9n={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:ll("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const i of n){const a=i==null?void 0:i.getValue(e.id);if(Object.prototype.toString.call(a)==="[object Date]")return fw.datetime;if(typeof a=="string"&&(r=!0,a.split(C9).length>1))return fw.alphanumeric}return r?fw.text:fw.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return KM(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:fw[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const i=e.getNextSortingOrder(),a=typeof n<"u"&&n!==null;t.setSorting(o=>{const s=o==null?void 0:o.find(m=>m.id===e.id),l=o==null?void 0:o.findIndex(m=>m.id===e.id);let c=[],d,h=a?n:i==="desc";if(o!=null&&o.length&&e.getCanMultiSort()&&r?s?d="toggle":d="add":o!=null&&o.length&&l!==o.length-1?d="replace":s?d="toggle":d="replace",d==="toggle"&&(a||i||(d="remove")),d==="add"){var p;c=[...o,{id:e.id,desc:h}],c.splice(0,c.length-((p=t.options.maxMultiSortColCount)!=null?p:Number.MAX_SAFE_INTEGER))}else d==="toggle"?c=o.map(m=>m.id===e.id?{...m,desc:h}:m):d==="remove"?c=o.filter(m=>m.id!==e.id):c=[{id:e.id,desc:h}];return c})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,i;const a=e.getFirstSortDir(),o=e.getIsSorted();return o?o!==a&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(i=t.options.enableMultiRemove)!=null)||i)?!1:o==="desc"?"asc":"desc":a},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(i=>i.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},m9n=[F7n,t9n,X7n,J7n,N7n,L7n,n9n,r9n,p9n,K7n,i9n,a9n,o9n,s9n,Q7n];function g9n(e){var t,n;const r=[...m9n,...(t=e._features)!=null?t:[]];let i={_features:r};const a=i._features.reduce((p,m)=>Object.assign(p,m.getDefaultOptions==null?void 0:m.getDefaultOptions(i)),{}),o=p=>i.options.mergeOptions?i.options.mergeOptions(a,p):{...a,...p};let l={...{},...(n=e.initialState)!=null?n:{}};i._features.forEach(p=>{var m;l=(m=p.getInitialState==null?void 0:p.getInitialState(l))!=null?m:l});const c=[];let d=!1;const h={_features:r,options:{...a,...e},initialState:l,_queue:p=>{c.push(p),d||(d=!0,Promise.resolve().then(()=>{for(;c.length;)c.shift()();d=!1}).catch(m=>setTimeout(()=>{throw m})))},reset:()=>{i.setState(i.initialState)},setOptions:p=>{const m=rp(p,i.options);i.options=o(m)},getState:()=>i.options.state,setState:p=>{i.options.onStateChange==null||i.options.onStateChange(p)},_getRowId:(p,m,g)=>{var v;return(v=i.options.getRowId==null?void 0:i.options.getRowId(p,m,g))!=null?v:`${g?[g.id,m].join("."):m}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(p,m)=>{let g=(m?i.getPrePaginationRowModel():i.getRowModel()).rowsById[p];if(!g&&(g=i.getCoreRowModel().rowsById[p],!g))throw new Error;return g},_getDefaultColumnDef:Tt(()=>[i.options.defaultColumn],p=>{var m;return p=(m=p)!=null?m:{},{header:g=>{const v=g.header.column.columnDef;return v.accessorKey?v.accessorKey:v.accessorFn?v.id:null},cell:g=>{var v,b;return(v=(b=g.renderValue())==null||b.toString==null?void 0:b.toString())!=null?v:null},...i._features.reduce((g,v)=>Object.assign(g,v.getDefaultColumnDef==null?void 0:v.getDefaultColumnDef()),{}),...p}},At(e,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:Tt(()=>[i._getColumnDefs()],p=>{const m=function(g,v,b){return b===void 0&&(b=0),g.map(y=>{const x=P7n(i,y,b,v),w=y;return x.columns=w.columns?m(w.columns,x,b+1):[],x})};return m(p)},At(e,"debugColumns")),getAllFlatColumns:Tt(()=>[i.getAllColumns()],p=>p.flatMap(m=>m.getFlatColumns()),At(e,"debugColumns")),_getAllFlatColumnsById:Tt(()=>[i.getAllFlatColumns()],p=>p.reduce((m,g)=>(m[g.id]=g,m),{}),At(e,"debugColumns")),getAllLeafColumns:Tt(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(p,m)=>{let g=p.flatMap(v=>v.getLeafColumns());return m(g)},At(e,"debugColumns")),getColumn:p=>i._getAllFlatColumnsById()[p]};Object.assign(i,h);for(let p=0;p<i._features.length;p++){const m=i._features[p];m==null||m.createTable==null||m.createTable(i)}return i}function v9n(){return e=>Tt(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(i,a,o){a===void 0&&(a=0);const s=[];for(let c=0;c<i.length;c++){const d=Nq(e,e._getRowId(i[c],c,o),i[c],c,a,void 0,o==null?void 0:o.id);if(n.flatRows.push(d),n.rowsById[d.id]=d,s.push(d),e.options.getSubRows){var l;d.originalSubRows=e.options.getSubRows(i[c],c),(l=d.originalSubRows)!=null&&l.length&&(d.subRows=r(d.originalSubRows,a+1,d))}}return s};return n.rows=r(t),n},At(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function y9n(e){const t=[],n=r=>{var i;t.push(r),(i=r.subRows)!=null&&i.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function b9n(e,t,n){return n.options.filterFromLeafRows?x9n(e,t,n):w9n(e,t,n)}function x9n(e,t,n){var r;const i=[],a={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,s=function(l,c){c===void 0&&(c=0);const d=[];for(let p=0;p<l.length;p++){var h;let m=l[p];const g=Nq(n,m.id,m.original,m.index,m.depth,void 0,m.parentId);if(g.columnFilters=m.columnFilters,(h=m.subRows)!=null&&h.length&&c<o){if(g.subRows=s(m.subRows,c+1),m=g,t(m)&&!g.subRows.length){d.push(m),a[m.id]=m,i.push(m);continue}if(t(m)||g.subRows.length){d.push(m),a[m.id]=m,i.push(m);continue}}else m=g,t(m)&&(d.push(m),a[m.id]=m,i.push(m))}return d};return{rows:s(e),flatRows:i,rowsById:a}}function w9n(e,t,n){var r;const i=[],a={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,s=function(l,c){c===void 0&&(c=0);const d=[];for(let p=0;p<l.length;p++){let m=l[p];if(t(m)){var h;if((h=m.subRows)!=null&&h.length&&c<o){const v=Nq(n,m.id,m.original,m.index,m.depth,void 0,m.parentId);v.subRows=s(m.subRows,c+1),m=v}d.push(m),i.push(m),a[m.id]=m}}return d};return{rows:s(e),flatRows:i,rowsById:a}}function C9n(){return e=>Tt(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let p=0;p<t.flatRows.length;p++)t.flatRows[p].columnFilters={},t.flatRows[p].columnFiltersMeta={};return t}const i=[],a=[];(n??[]).forEach(p=>{var m;const g=e.getColumn(p.id);if(!g)return;const v=g.getFilterFn();v&&i.push({id:p.id,filterFn:v,resolvedValue:(m=v.resolveFilterValue==null?void 0:v.resolveFilterValue(p.value))!=null?m:p.value})});const o=(n??[]).map(p=>p.id),s=e.getGlobalFilterFn(),l=e.getAllLeafColumns().filter(p=>p.getCanGlobalFilter());r&&s&&l.length&&(o.push("__global__"),l.forEach(p=>{var m;a.push({id:p.id,filterFn:s,resolvedValue:(m=s.resolveFilterValue==null?void 0:s.resolveFilterValue(r))!=null?m:r})}));let c,d;for(let p=0;p<t.flatRows.length;p++){const m=t.flatRows[p];if(m.columnFilters={},i.length)for(let g=0;g<i.length;g++){c=i[g];const v=c.id;m.columnFilters[v]=c.filterFn(m,v,c.resolvedValue,b=>{m.columnFiltersMeta[v]=b})}if(a.length){for(let g=0;g<a.length;g++){d=a[g];const v=d.id;if(d.filterFn(m,v,d.resolvedValue,b=>{m.columnFiltersMeta[v]=b})){m.columnFilters.__global__=!0;break}}m.columnFilters.__global__!==!0&&(m.columnFilters.__global__=!1)}}const h=p=>{for(let m=0;m<o.length;m++)if(p.columnFilters[o[m]]===!1)return!1;return!0};return b9n(t.rows,h,e)},At(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function S9n(e){return t=>Tt(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:i,pageIndex:a}=n;let{rows:o,flatRows:s,rowsById:l}=r;const c=i*a,d=c+i;o=o.slice(c,d);let h;t.options.paginateExpandedRows?h={rows:o,flatRows:s,rowsById:l}:h=y9n({rows:o,flatRows:s,rowsById:l}),h.flatRows=[];const p=m=>{h.flatRows.push(m),m.subRows.length&&m.subRows.forEach(p)};return h.rows.forEach(p),h},At(t.options,"debugTable"))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function R3e(e,t){return e?_9n(e)?f.createElement(e,t):e:null}function _9n(e){return E9n(e)||typeof e=="function"||k9n(e)}function E9n(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function k9n(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function T9n(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=f.useState(()=>({current:g9n(t)})),[r,i]=f.useState(()=>n.current.initialState);return n.current.setOptions(a=>({...a,...e,state:{...r,...e.state},onStateChange:o=>{i(o),e.onStateChange==null||e.onStateChange(o)}})),n.current}const Ft="structure",A9n={locale:"en-US",namespace:Ft,resources:()=>Ff(()=>import("./resources3-75e0c969.js"),[])};function P3e(e){const{document:t}=e,n=en().get(t._type),{t:r}=Y(Ft),{error:i,value:a}=E_({schemaType:n,value:t});return n?i?u.jsx(u.Fragment,{children:r("doc-title.error.text",{errorMessage:i.message})}):u.jsx(u.Fragment,{children:(a==null?void 0:a.title)||u.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:r("doc-title.fallback.text")})}):u.jsx("code",{children:r("doc-title.unknown-schema-type.text",{schemaType:t._type})})}const F3e=R(L)`
  margin-left: auto;
`,j9n=R.details`
  flex: none;

  &[open] ${F3e} {
    transform: rotate(180deg);
  }
`,I9n=R.summary`
  list-style: none;

  &::-webkit-details-marker {
    display: none;
  }
`,D9n=R.table`
  width: 100%;
  text-align: left;
  padding: 0 ${({theme:e})=>Se(e.sanity.space[2])};
  border-collapse: collapse;

  th {
    padding: ${({theme:e})=>Se(e.sanity.space[1])};
  }

  td {
    padding: 0 ${({theme:e})=>Se(e.sanity.space[1])};
  }

  tr > *:last-child {
    text-align: right;
  }
`,$9n=R(U)`
  min-height: 33px;
`,fhe=e=>{const{t}=Y(Ft),n=e.totalCount-e.references.length;return n?u.jsx(L,{padding:2,children:u.jsxs(An,{space:2,children:[u.jsx(N,{size:1,muted:!0,children:t("confirm-delete-dialog.other-reference-count.title",{count:n})}),u.jsx(gt,{portal:!0,placement:"top",content:t("confirm-delete-dialog.other-reference-count.tooltip"),children:u.jsx(N,{size:1,muted:!0,children:u.jsx(Bf,{})})})]})}):null};function N3e(e){const{icon:t,layout:n,presence:r,schemaType:i,value:a}=e,o=yt(a.title)&&f.isValidElement(a.title)||pO(a.title)||D7n(a.title)?a.title:null,s=f.useMemo(()=>Yb(e.documentPreviewStore,i,a._id,o),[e.documentPreviewStore,i,o,a._id]),{draft:l,published:c,isLoading:d}=Jr(s,{draft:null,isLoading:!0,published:null}),h=d?null:u.jsx(Xa,{children:u.jsxs(U,{align:"center",gap:3,children:[r&&r.length>0&&u.jsx(YG,{presence:r}),u.jsx(Wb,{draft:l,published:c})]})}),p=u.jsx(By,{draft:l,published:c});return u.jsx(to,{...IY({value:a,draft:l,published:c}),isPlaceholder:d,icon:t,layout:n,status:h,tooltip:p})}const L3e=f.forwardRef(function(e,t){const{routerPanesState:n,groupIndex:r}=f.useContext(LI),i=f.useMemo(()=>n.slice(0,r),[r,n]),a=f.useMemo(()=>({panes:i}),[i]);return u.jsx(IO,{...e,ref:t,state:a})});function Q0(){const e=f.useContext(Vpe);if(!e)throw new Error("PaneLayout: missing context value");return e}const B3e=f.forwardRef(function(e,t){const{childId:n,childPayload:r,childParameters:i,...a}=e,{routerPanesState:o,groupIndex:s}=f.useContext(LI);return u.jsx(IO,{...a,ref:t,state:{panes:[...o.slice(0,s+1),[{id:n,params:i,payload:r}]]}})}),O9n=f.forwardRef(function(e,t){const{routerPanesState:n,groupIndex:r,siblingIndex:i}=f.useContext(LI),{params:a,payload:o,...s}=e,l=Ha(a),c=Ha(o),d=f.useMemo(()=>{const h=n[r],p=h[i],m={...p,params:l??p.params,payload:c??p.payload},g=[...h.slice(0,i),m,...h.slice(i+1)];return{panes:[...n.slice(0,r),g,...n.slice(r+1)]}},[n,r,l,c,i]);return u.jsx(IO,{ref:t,...s,state:d})}),M9n=f.forwardRef(function({documentId:e,documentType:t,parentRefPath:n,children:r,template:i,...a},o){return u.jsx(B3e,{...a,ref:o,childId:e,childPayload:i==null?void 0:i.params,childParameters:{type:t,parentRefPath:qt(n),...i&&{template:i==null?void 0:i.id}},children:r})});function yd(){return f.useContext(LI)}const hhe=[];function R9n(e){const{onClick:t,type:n,value:r}=e,i=fn(r==null?void 0:r._id),a=qb(i),o=ua(),{ReferenceChildLink:s}=yd(),l=f.useCallback(function(c){return u.jsx(s,{documentId:r==null?void 0:r._id,documentType:n==null?void 0:n.name,parentRefPath:hhe,...c})},[s,n==null?void 0:n.name,r==null?void 0:r._id]);return u.jsx(Cg,{__unstable_focusRing:!0,as:l,"data-as":"a",onClick:t,radius:2,children:u.jsx(N3e,{documentPreviewStore:o,icon:n==null?void 0:n.icon,layout:"compact",presence:(a==null?void 0:a.length)>0?a:hhe,schemaType:n,value:r})})}function P9n({crossDatasetReferences:e,internalReferences:t,documentTitle:n,totalCount:r,action:i,datasetNames:a,hasUnknownDatasetNames:o,onReferenceLinkClick:s}){const l=en(),c=Pr(),{t:d}=Y(Ft),h=f.useCallback(g=>{const v=l.get(g._type);return v?u.jsx(R9n,{type:v,value:g,onClick:s}):u.jsx(L,{padding:2,children:u.jsx(to,{icon:Hl,title:d("confirm-delete-dialog.preview-item.preview-unavailable.title"),subtitle:d("confirm-delete-dialog.preview-item.preview-unavailable.subtitle",{documentId:g._id}),layout:"default"})})},[l,d,s]);if((t==null?void 0:t.totalCount)===0&&(e==null?void 0:e.totalCount)===0)return u.jsx(N,{as:"p",size:1,children:u.jsx(ht,{t:d,i18nKey:"confirm-delete-dialog.confirmation.text",context:i,components:{DocumentTitle:()=>u.jsx("strong",{children:n})}})});const p=[...a,...o?["unavailable"]:[]],m=d("confirm-delete-dialog.cdr-summary.subtitle",{count:p.length,datasets:p.join(", "),context:o&&p.length?"unavailable":""});return u.jsxs(U,{direction:"column",gap:4,children:[u.jsx(te,{padding:3,radius:2,tone:"caution",flex:"none",children:u.jsxs(U,{children:[u.jsx(N,{"aria-hidden":"true",size:1,children:u.jsx(fr,{})}),u.jsx(L,{flex:1,marginLeft:3,children:u.jsx(N,{size:1,children:u.jsx(ht,{i18nKey:"confirm-delete-dialog.referring-document-count.text",components:{DocumentTitle:()=>n},t:d,values:{count:r}})})})]})}),u.jsx(L,{flex:"none",children:u.jsx(N,{size:1,children:u.jsx(ht,{i18nKey:"confirm-delete-dialog.referring-documents-descriptor.text",t:d,context:i,components:{DocumentTitle:()=>n}})})}),u.jsx(te,{radius:2,shadow:1,flex:"auto",padding:2,children:u.jsxs(U,{direction:"column",children:[t.totalCount>0&&u.jsxs(ee,{as:"ul",marginBottom:2,space:2,"data-testid":"internal-references",children:[t==null?void 0:t.references.map(g=>u.jsx(L,{as:"li",children:h(g)},g._id)),t.totalCount>t.references.length&&u.jsx(L,{as:"li",padding:3,children:u.jsx(fhe,{...t})})]}),e.totalCount>0&&u.jsxs(j9n,{"data-testid":"cross-dataset-references",style:{borderTop:t.totalCount>0?"1px solid var(--card-shadow-outline-color)":void 0},children:[u.jsx(I9n,{children:u.jsx(te,{as:"a",marginTop:t.totalCount>0?2:0,radius:2,shadow:1,paddingY:1,children:u.jsxs(U,{align:"center",gap:3,paddingX:3,paddingY:1,children:[u.jsx(N,{size:1,children:u.jsx(uD,{})}),u.jsxs(ee,{space:2,children:[u.jsx(N,{textOverflow:"ellipsis",size:1,children:d("confirm-delete-dialog.cdr-summary.title",{count:p.length,documentCount:d("confirm-delete-dialog.cdr-summary.document-count",{count:e.totalCount})})}),u.jsx(N,{title:m,textOverflow:"ellipsis",size:1,muted:!0,children:m})]}),u.jsx(F3e,{children:u.jsx(N,{muted:!0,size:1,children:u.jsx(Ii,{})})})]})})}),u.jsxs(L,{overflow:"auto",paddingTop:2,children:[u.jsxs(D9n,{children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:u.jsx(N,{muted:!0,size:1,style:{minWidth:"5rem"},weight:"medium",children:d("confirm-delete-dialog.cdr-table.project-id.label")})}),u.jsx("th",{children:u.jsx(N,{muted:!0,size:1,weight:"medium",children:d("confirm-delete-dialog.cdr-table.dataset.label")})}),u.jsx("th",{children:u.jsx(N,{muted:!0,size:1,weight:"medium",children:d("confirm-delete-dialog.cdr-table.document-id.label")})})]})}),u.jsx("tbody",{children:e.references.filter(g=>"projectId"in g).map(({projectId:g,datasetName:v,documentId:b},y)=>u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx(N,{size:1,children:g})}),u.jsx("td",{children:u.jsx(N,{size:1,children:v||"unavailable"})}),u.jsx("td",{children:u.jsxs($9n,{align:"center",gap:2,justify:"flex-end",children:[u.jsx(N,{textOverflow:"ellipsis",size:1,children:b||"unavailable"}),b&&u.jsx(E7n,{text:b,onCopy:()=>{c.push({title:d("confirm-delete-dialog.cdr-table.id-copied-toast.title"),status:"success"})},children:u.jsx(fe,{mode:"bleed",icon:Ql,tooltipProps:{content:d("confirm-delete-dialog.cdr-table.copy-id-button.tooltip")}})})]})})]},`${b}-${y}`))})]}),u.jsx(fhe,{...e})]})]})]})}),u.jsx(L,{flex:"none",children:u.jsx(N,{size:1,children:u.jsx(ht,{i18nKey:"confirm-delete-dialog.referential-integrity-disclaimer.text",t:d,context:i,components:{DocumentTitle:()=>n}})})})]})}function F9n(e){return typeof e!="object"||!e?!1:"statusCode"in e&&"response"in e}const N9n=5e3;let R4;const V3e=()=>(R4||(R4=Io(document,"visibilitychange").pipe(Vi(null),de(()=>document.visibilityState==="visible"),xr(),mt(e=>e?vi(0,N9n):nr),oa({refCount:!0,bufferSize:1}))),R4);function L9n(e,{versionedClient:t}){const n=la(e),r=fn(e),i={uri:t.getDataUrl("doc",`${n},${r}`),json:!0,query:{excludeContent:"true"},tag:"use-referring-documents.document-existence"};return t.observable.request(i).pipe(de(({omitted:a})=>{const o=a.filter(s=>s.reason==="existence");if(o.length!==2)return o.length===0||o.some(s=>s.id===n)?r:n}))}function B9n(e,t){const{versionedClient:n}=t;return V3e().pipe(mt(()=>L9n(e,t)),mt(r=>{if(!r)return xe({totalCount:0,references:[]});const i=n.config().dataset;return n.observable.request({url:`/data/references/${i}/documents/${r}/to?excludeInternalReferences=true&excludePaths=true`,tag:"use-referring-documents.external"}).pipe(Cn(a=>{if(F9n(a)&&a.statusCode===404)return xe({totalCount:0,references:[]});throw a}))}))}const V9n=nm(([e,t])=>t.listenQuery({fetch:'{"references":*[references($documentId)][0...100]{_id,_type},"totalCount":count(*[references($documentId)])}',listen:"*[references($documentId)]"},{documentId:e},{tag:"use-referring-documents",transitions:["appear","disappear"],throttleTime:5e3})),z9n=nm(([e,t])=>V3e().pipe(mt(()=>B9n(e,{versionedClient:t}))));function U9n(e){const t=Zt(Gt),n=vl(),r=fn(e),[i,a]=V9n(f.useMemo(()=>[r,n],[n,r])),[o,s]=z9n(f.useMemo(()=>[r,t],[r,t])),l=f.useMemo(()=>Array.from(new Set(o==null?void 0:o.references.map(h=>h.projectId).filter(Boolean))).sort(),[o==null?void 0:o.references]),c=f.useMemo(()=>Array.from(new Set(o==null?void 0:o.references.map(h=>(h==null?void 0:h.datasetName)||"").filter(h=>!!h&&h!==""))).sort(),[o==null?void 0:o.references]),d=f.useMemo(()=>!!(o!=null&&o.references.some(h=>typeof h.datasetName!="string")),[o==null?void 0:o.references]);return{totalCount:((i==null?void 0:i.totalCount)||0)+((o==null?void 0:o.totalCount)||0),projectIds:l,datasetNames:c,hasUnknownDatasetNames:d,internalReferences:i,crossDatasetReferences:o,isLoading:a||s}}const H9n=R(L)`
  box-sizing: border-box;
`,W9n=R(U).attrs({align:"center",direction:"column",justify:"center"})`
  height: 110px;
`;function G9n({id:e,type:t,action:n="delete",onCancel:r,onConfirm:i}){const{t:a}=Y(Ft),o=`deletion-confirmation-${f.useId()}`,{internalReferences:s,crossDatasetReferences:l,isLoading:c,totalCount:d,projectIds:h,datasetNames:p,hasUnknownDatasetNames:m}=U9n(e),g=u.jsx(P3e,{document:f.useMemo(()=>({_id:e,_type:t}),[e,t])}),v=!c;return u.jsx(Ui,{width:1,id:o,header:a("confirm-delete-dialog.header.text",{context:n}),footer:{cancelButton:{onClick:r,text:a("confirm-delete-dialog.cancel-button.text")},confirmButton:v?{text:d>0?a("confirm-delete-dialog.confirm-anyway-button.text",{context:n}):a("confirm-delete-dialog.confirm-button.text",{context:n}),onClick:i}:void 0},onClose:r,onClickOutside:r,children:u.jsx(H9n,{children:l&&s&&!c?u.jsx(P9n,{crossDatasetReferences:l,internalReferences:s,documentTitle:g,isLoading:c,totalCount:d,action:n,projectIds:h,datasetNames:p,hasUnknownDatasetNames:m,onReferenceLinkClick:r}):u.jsx(W9n,{"data-testid":"loading-container",children:u.jsx(wn,{showText:!0,title:a("confirm-delete-dialog.loading.text")})})})})}function zq(e){const{t}=Y(Ft),n=f.useId(),[r,i]=f.useState(null),a=f.useCallback(()=>i(null),[]);return r?u.jsx(Ui,{id:`dialog-error-${n}`,"data-testid":"confirm-delete-error-dialog",header:t("confirm-delete-dialog.error.title.text"),footer:{confirmButton:{text:t("confirm-delete-dialog.error.retry-button.text"),onClick:a,tone:"default"}},onClose:e.onCancel,children:u.jsx(L,{padding:4,children:u.jsx(N,{size:1,children:t("confirm-delete-dialog.error.message.text")})})}):u.jsx(sb,{onCatch:i,children:u.jsx(G9n,{...e})})}function z3e({children:e,ms:t=0}){const[n,r]=f.useState(t<=0);return f.useEffect(()=>{if(t<=0)return;const i=setTimeout(()=>r(!0),t);return()=>{clearTimeout(i)}},[t]),!n||!e?u.jsx(u.Fragment,{}):typeof e=="function"?e():e}const Y9n=!1,DC=51,QS=204,q9n=R(Jo)`
  position: relative;
  width: 1px;
  min-width: 1px;

  &:before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    width: 1px;
    background-color: var(--card-border-color);
  }

  &:not([data-disabled]) {
    cursor: ew-resize;
    width: 9px;
    min-width: 9px;
    margin: 0 -4px;

    &:before {
      left: 4px;
    }

    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      width: 9px;
      bottom: 0;
      background-color: var(--card-border-color);
      opacity: 0;
      transition: opacity 150ms;
    }

    &[data-dragging]:after,
    &:hover:after {
      opacity: 0.2;
    }
  }
`;function K9n({disabled:e,element:t}){const{resize:n}=Q0(),[r,i]=f.useState(!1),a=f.useCallback(o=>{if(!t)return;i(!0),o.preventDefault();const s=o.pageX;n("start",t,0);const l=d=>{d.preventDefault();const h=d.pageX-s;n("move",t,h)},c=d=>{d.preventDefault(),i(!1),window.removeEventListener("mousemove",l),window.removeEventListener("mouseup",c),n("end",t,0)};window.addEventListener("mousemove",l),window.addEventListener("mouseup",c)},[t,n]);return u.jsx(q9n,{"data-disabled":e?"":void 0,"data-dragging":r?"":void 0,onMouseDown:a})}const Z9n=R(te)`
  outline: none;

  // NOTE: This will render a border to the right side of each pane
  // without taking up physical space.
  box-shadow: 1px 0 0 var(--card-border-color);
`,N_=f.forwardRef(function(e,t){var n,r,i;const{children:a,currentMinWidth:o,currentMaxWidth:s,flex:l=1,id:c,minWidth:d,maxWidth:h,selected:p=!1,...m}=e,[g,v]=f.useState(null),{collapse:b,collapsed:y,expand:x,expandedElement:w,mount:C,panes:S}=Q0(),_=S.find(q=>q.element===g),E=_&&S.indexOf(_),k=typeof E=="number"?S[E+1]:void 0,T=E===S.length-1,j=y?!1:(_==null?void 0:_.collapsed)||!1,I=(k==null?void 0:k.collapsed)||!1,A=f.useRef(null),$=(n=_==null?void 0:_.flex)!=null?n:l,D=(r=_==null?void 0:_.currentMinWidth)!=null?r:o,M=(i=_==null?void 0:_.currentMaxWidth)!=null?i:s;f.useImperativeHandle(t,()=>A.current);const O=f.useCallback(q=>{v(q),A.current=q},[]);f.useEffect(()=>{if(g)return C(g,{currentMinWidth:o,currentMaxWidth:s,flex:l,id:c,minWidth:d,maxWidth:h})},[o,s,l,c,d,h,C,g]);const F=f.useCallback(()=>{g&&b(g)},[b,g]),P=f.useCallback(()=>{g&&x(g)},[x,g]),V=f.useMemo(()=>({collapse:F,collapsed:y?!1:j,expand:P,index:E,isLast:T,rootElement:g}),[j,F,P,T,y,E,g]),H=f.useMemo(()=>{if(!y)return j?DC:D===0||T?d||QS:D||d||QS},[j,D,T,y,d]),W=f.useMemo(()=>{if(j)return DC;if(!(y&&T))return T?h?M??h:void 0:M??h},[j,M,T,y,h]),G=y&&!T,X=f.useMemo(()=>!T&&!y&&u.jsx(Mf,{zOffset:"paneResizer",children:u.jsx(K9n,{disabled:j||I,element:g})}),[j,T,y,I,g]),z=f.useMemo(()=>({flex:$,minWidth:H,maxWidth:W===1/0?void 0:W}),[$,H,W]);return u.jsxs(u.Fragment,{children:[u.jsx(Mf,{zOffset:"pane",children:u.jsx(Bpe.Provider,{value:V,children:u.jsx(jDn,{isLastPane:T,children:u.jsxs(Z9n,{"data-testid":"pane","data-ui":"Pane",tone:"inherit",hidden:G,id:c,overflow:y?void 0:"hidden",...m,"data-pane-collapsed":j?"":void 0,"data-pane-index":E,"data-pane-selected":p?"":void 0,ref:O,style:z,children:[Y9n,u.jsx(Cf,{element:g,children:!G&&u.jsx(U,{direction:"column",height:"fill",children:a})})]})})})}),X]})}),U3e=R(te)`
  position: relative;
  outline: none;
`;U3e.displayName="PaneContent__root";function rh(){const e=f.useContext(Bpe);if(!e)throw new Error("Pane: missing context value");return e}const L_=f.forwardRef(function(e,t){const{as:n,children:r,overflow:i,padding:a,...o}=e,{collapsed:s}=rh(),{collapsed:l}=Q0();return u.jsx(U3e,{"data-testid":"pane-content",forwardedAs:n,...o,flex:1,hidden:s,overflow:l?void 0:i,padding:a,ref:t,tone:"inherit",children:r})}),X9n={constrainSize:!0,placement:"left-start",portal:!0};function jI(e){const{disabled:t,isAfterGroup:n,node:r}=e,i=KO("i18n"in r?r:void 0);if(r.type==="divider")return u.jsx(ur,{});const{title:a}=i(r);return r.type==="group"?r.children.length===0?null:r.expanded?u.jsxs(u.Fragment,{children:[n&&u.jsx(ur,{}),r.children.map((o,s)=>{var l;return u.jsx(jI,{disabled:t||!!r.disabled,isAfterGroup:((l=r.children[s-1])==null?void 0:l.type)==="group",node:o},o.key)})]}):u.jsxs(u.Fragment,{children:[n&&u.jsx(ur,{}),u.jsx(Vz,{disabled:t,icon:r.icon,popover:X9n,text:a,children:r.children.map((o,s)=>{var l;return u.jsx(jI,{disabled:t||!!r.disabled,isAfterGroup:((l=r.children[s-1])==null?void 0:l.type)==="group",node:o},o.key)})})]}):u.jsxs(u.Fragment,{children:[n&&u.jsx(ur,{}),u.jsx(J9n,{disabled:t,node:r})]})}function J9n(e){const{node:t}=e;return t.intent?u.jsx(eBn,{...e,intent:t.intent}):u.jsx(Q9n,{...e})}function Q9n(e){var t;const{disabled:n,node:r}=e,i=typeof r.disabled=="object"&&u.jsx(N,{size:1,children:r.disabled.reason}),{title:a}=hd(r);return u.jsx(Oq,{content:i,placement:"left",children:u.jsx(We,{disabled:n||!!r.disabled,hotkeys:(t=r.hotkey)==null?void 0:t.split("+"),icon:r.icon,iconRight:r.iconRight||r.selected&&_a,onClick:r.onAction,pressed:r.selected,text:a,tone:r.tone})})}function eBn(e){var t;const{disabled:n,intent:r,node:i}=e,a=typeof i.disabled=="object"&&u.jsx(N,{size:1,children:i.disabled.reason}),o=s_({intent:r.type,params:r.params}),s=f.useCallback(c=>{o.onClick(c),i.onAction()},[o,i]),{title:l}=hd(i);return u.jsx(Oq,{content:a,placement:"left",children:u.jsx(We,{as:"a",disabled:n||!!i.disabled,hotkeys:(t=i.hotkey)==null?void 0:t.split("+"),href:o.href,icon:i.icon,iconRight:i.selected?_a:void 0,onClick:s,pressed:i.selected,text:l,tone:i.tone})})}const tBn={constrainSize:!0,placement:"bottom",portal:!0};function S9(e,t){return e.some(n=>n.type==="item"&&n.tone===t||n.type==="group"&&S9(n.children,t))}function H3e(e){const{nodes:t,actionsNodes:n}=e,r=f.useId(),i=S9(t,"critical"),a=S9(t,"caution");return u.jsx(Kt,{button:u.jsx(wi,{tone:i?"critical":a?"caution":void 0,"data-testid":"pane-context-menu-button"}),id:r,menu:u.jsxs(Ot,{children:[n&&u.jsxs(u.Fragment,{children:[n,u.jsx(ur,{})]}),t.map((o,s)=>{var l;const c=((l=t[s-1])==null?void 0:l.type)==="group";return u.jsx(jI,{isAfterGroup:c,node:o},o.key)})]}),popover:tBn})}const nBn=R(Jo)`
  position: sticky;
  bottom: 0;

  &:before {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    top: -1px;
    border-bottom: 1px solid var(--card-border-color);
  }
`,rBn=R(te)`
  padding-bottom: env(safe-area-inset-bottom);
`,iBn=f.forwardRef(function(e,t){const{children:n,padding:r}=e,{collapsed:i}=rh();return u.jsx(Mf,{zOffset:"paneFooter",children:u.jsx(nBn,{"data-testid":"pane-footer",hidden:i,ref:t,children:u.jsx(rBn,{tone:"inherit",children:u.jsx(L,{padding:r,children:n})})})})}),aBn=R(Jo)(({$border:e})=>ce`
    line-height: 0;
    position: sticky;
    top: 0;

    &:not([data-collapsed]):after {
      content: '';
      display: block;
      position: absolute;
      left: 0;
      right: 0;
      bottom: -1px;
      border-bottom: 1px solid ${e?"var(--card-border-color)":"transparent"};
      opacity: 1;
    }
  `),oBn=R(U)`
  transform-origin: calc(51px / 2);

  [data-collapsed] > div > & {
    transform: rotate(90deg);
  }
`,sBn=R(te)(({theme:e})=>{const{fg:t,bg:n}=e.sanity.color.card.enabled;return ce`
    background-color: ${n};

    [data-ui='Text'] {
      color: ${t};
    }
  `}),lBn=R(ir)`
  width: 66%;
  max-width: 175px;
`,uBn=R(N)`
  cursor: default;
  outline: none;
`,cBn=R(L)(({theme:e})=>{const{color:t,space:n}=e.sanity;return ce`
    overflow: hidden;
    overflow: clip;
    position: relative;

    & > div {
      white-space: nowrap;
      overflow: auto;
      /* Hide scrollbars */
      scrollbar-width: none;
      &::-webkit-scrollbar {
        width: 0;
        height: 0;
      }
    }

    /* right padding */
    & > div:after {
      content: '';
      display: inline-block;
      top: 0;
      right: 0;
      bottom: 0;
      width: ${n[3]}px;
      height: 1px;
    }

    /* Gradient that makes it look like tabs disappear into nothing (looks nicer) */
    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(to right, ${Sz(t.base.bg,0)}, var(--card-bg-color));
      width: ${n[3]}px;
      pointer-events: none;
    }
  `}),ZM=f.forwardRef(function(e,t){const{actions:n,backButton:r,border:i,contentAfter:a,loading:o,subActions:s,tabs:l,tabIndex:c,title:d}=e,{collapse:h,collapsed:p,expand:m,rootElement:g}=rh(),v=Ng(g||null),b=f.useMemo(()=>({width:p?(v==null?void 0:v.height)||window.innerHeight:void 0}),[p,v]),y=f.useCallback(()=>{p||h()},[h,p]),x=f.useCallback(()=>{p&&m()},[p,m]);return u.jsx(ru,{zOffset:100,children:u.jsx(aBn,{$border:i,"data-collapsed":p?"":void 0,"data-testid":"pane-header",ref:t,children:u.jsx(Mf,{zOffset:"paneHeader",children:u.jsxs(te,{"data-collapsed":p?"":void 0,tone:"inherit",children:[u.jsxs(oBn,{gap:1,onClick:x,padding:3,paddingBottom:p?3:2,sizing:"border",style:b,children:[r&&u.jsx(L,{flex:"none",children:r}),u.jsxs(sBn,{__unstable_focusRing:!0,flex:1,forwardedAs:"button",onClick:y,paddingLeft:r?1:2,padding:2,tabIndex:c,children:[o&&u.jsx(lBn,{animated:!0,radius:1,size:1}),!o&&u.jsx(uBn,{size:1,textOverflow:"ellipsis",weight:"semibold",children:d})]}),n&&u.jsx(U,{align:"center",hidden:p,children:u.jsx(Mf,{zOffset:"paneHeader",children:n})})]}),!!(!p&&(l||s))&&u.jsxs(U,{align:"center",hidden:p,overflow:"auto",paddingBottom:3,paddingX:3,children:[u.jsx(cBn,{flex:1,marginRight:s?3:0,children:l}),s&&s]}),!p&&a&&a]})})})})});function W3e(e){var t;if(!e.disabled)return{disabledReason:void 0,ariaLabel:void 0,isDisabled:!1};const n=typeof e.disabled=="object"?e.disabled.reason:void 0,r=typeof e.disabled=="object"&&typeof((t=e.disabled)==null?void 0:t.reason)=="string"?e.disabled.reason:"This is disabled";return{disabledReason:n,ariaLabel:r,isDisabled:!!e.disabled}}function G3e(e){const{node:t}=e;return t.type==="item"?u.jsx(dBn,{node:t}):t.type==="group"?u.jsx(hBn,{node:t}):(console.warn('unknown menu node (expected `type: "item" | "group"`):',t),null)}function dBn(e){const{node:t}=e,{title:n}=hd(t),{t:r}=Y();if(t.intent)return u.jsx(fBn,{...e,intent:t.intent});const{disabledReason:i,ariaLabel:a,isDisabled:o}=W3e(t);return u.jsx(F_,{disabled:o,icon:t.icon,onClick:t.onAction,selected:t.selected,tone:t.tone,"aria-label":a||n||r("status-button.aria-label"),tooltipProps:{hotkeys:!o&&t.hotkey?t.hotkey.split("+"):void 0,content:o?i:n}})}function fBn(e){const{intent:t,node:n}=e,r=s_({intent:t.type,params:t.params}),{t:i}=Y(),a=f.useCallback(c=>{r.onClick(c),n.onAction()},[r,n]),{disabledReason:o,ariaLabel:s,isDisabled:l}=W3e(n);return u.jsx(F_,{forwardedAs:"a",disabled:l,href:r.href,icon:n.icon,onClick:a,selected:n.selected,tone:n.tone,"aria-label":s||n.title||i("status-button.aria-label"),tooltipProps:{hotkeys:!l&&n.hotkey?n.hotkey.split("+"):void 0,content:l?o:n.title,placement:"bottom",portal:!0}})}function hBn(e){var t;const{node:n}=e,{title:r}=hd(n);return u.jsx(Kt,{button:u.jsx(fe,{disabled:!!n.disabled,icon:(t=n.icon)!=null?t:Hl,label:r,mode:"bleed",tooltipProps:{content:n.title,portal:!0}}),id:f.useId(),menu:u.jsx(Ot,{children:n.children.map((i,a)=>{var o;return u.jsx(jI,{disabled:!!n.disabled,isAfterGroup:((o=n.children[a-1])==null?void 0:o.type)==="group",node:i},i.key)})})})}const pBn=R(te)`
  transition: opacity 200ms;
  position: relative;
  z-index: 1;
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
  opacity: 0;

  &:not([hidden]) {
    display: flex;
  }

  &:not([data-collapsed]) {
    overflow: auto;
  }

  &[data-mounted] {
    opacity: 1;
  }

  &[data-resizing] {
    pointer-events: none;
  }
`;function mBn(e,t,n,r){var i,a;const o={flex:e.left.flex+e.right.flex,width:e.left.width+e.right.width},s=(i=t.minWidth)!=null?i:QS,l=(a=n.minWidth)!=null?a:QS,c=Math.min(t.maxWidth||1/0,o.width-l),d=Math.min(n.maxWidth||1/0,o.width-s);let h=s-e.left.width;const p=e.right.width-d;h<p&&(h=p);let m=e.right.width-l;const g=c-e.left.width;m>g&&(m=g);const v=Math.min(Math.max(r,h),m),b=e.left.width+v,y=e.right.width-v,x=b/o.width*o.flex,w=y/o.width*o.flex;return{leftFlex:x,leftW:b,rightFlex:w,rightW:y}}function gBn(e,t){const n=[];let r=t;for(;r!==e;){const i=r.parentElement;if(!i)return n;const a=Array.from(i.childNodes).indexOf(r);if(n.unshift(a),i===e)return n;r=i}return n}const phe=[];function vBn(e,t){const n=new WeakMap;for(const i of t)n.set(i,gBn(e,i));const r=(i,a)=>{const o=n.get(i)||phe,s=n.get(a)||phe,l=Math.max(o.length,s.length);for(let c=0;c<l;c+=1){const d=o[c]||-1,h=s[c]||-1;if(d!==h)return d-h}return 0};t.sort(r)}function yBn(){const e=[],t=[],n=new WeakMap,r=new Set,i={};let a=null,o=0,s=null,l=new Map,c=!1;function d(x){r.add(x),s===x&&(s=null),y()}function h(x){r.delete(x),s=x,y()}function p(x,w){return n.set(x,{...w,original:w}),t.push(x),a&&vBn(a,t),h(x),()=>{const C=t.indexOf(x);C>-1&&t.splice(C,1),n.delete(x),y()}}function m(x,w,C){var S,_,E,k;const T=t.indexOf(w),j=n.get(w);if(!j)return;const I=t[T+1],A=n.get(I);if(A){if(x==="start"&&(c=!0,i.left={element:w,flex:j.flex||1,width:w.offsetWidth},i.right={element:I,flex:A.flex||1,width:I.offsetWidth},y()),x==="move"&&i.left&&i.right){l=new Map;const{leftW:$,rightW:D,leftFlex:M,rightFlex:O}=mBn(i,j,A,C);l.set(w,{flex:M,width:$}),l.set(I,{flex:O,width:D}),y()}if(x==="end"){c=!1;const $=l.get(w),D=l.get(I);n.set(w,{...j,currentMinWidth:0,currentMaxWidth:(S=j.maxWidth)!=null?S:1/0,flex:(_=$==null?void 0:$.flex)!=null?_:j.flex}),n.set(I,{...A,currentMinWidth:0,currentMaxWidth:(E=j.maxWidth)!=null?E:1/0,flex:(k=D==null?void 0:D.flex)!=null?k:A.flex}),l=new Map,delete i.left,delete i.right,y()}}}function g(x){a=x}function v(x){o=x,y()}function b(x){return e.push(x),()=>{const w=e.push(x);w>-1&&e.splice(w,1)}}return{collapse:d,expand:h,mount:p,resize:m,setRootElement:g,setRootWidth:v,subscribe:b};function y(){var x,w,C,S;if(!o)return;const _=[];for(const $ of t)$!==s&&_.unshift($);s&&_.unshift(s);const E=new WeakMap,k=_.length,T=_[0],j=(k-1)*DC;let I=o-j;for(const $ of _){const D=n.get($);if(!D)continue;const M=D.currentMinWidth||D.minWidth||QS,O=$===T,F=r.has($),P=M>I,V=O?!1:F||P,H=l.get($);E.set($,{element:$,collapsed:V,currentMinWidth:(x=H==null?void 0:H.width)!=null?x:D.currentMinWidth,currentMaxWidth:(w=H==null?void 0:H.width)!=null?w:D.currentMaxWidth,flex:(S=(C=H==null?void 0:H.flex)!=null?C:D.flex)!=null?S:1}),V?I-=DC:I-=M-DC}const A=[];for(const $ of t){const D=E.get($);D&&A.push(D)}for(const $ of e)$({expandedElement:s||t[t.length-1]||null,panes:A,resizing:c})}}function bBn(e){const{children:t,minWidth:n,onCollapse:r,onExpand:i,...a}=e,o=f.useMemo(()=>yBn(),[]),[s,l]=f.useState(null),c=Ng(s),d=(c==null?void 0:c.width)||0,h=d===void 0||!n?void 0:d<n,[p,m]=f.useState({expandedElement:null,panes:[],resizing:!1});f.useEffect(()=>o.setRootElement(s),[o,s]),f.useEffect(()=>o.setRootWidth(d),[o,d]),f.useEffect(()=>o.subscribe(m),[o]),f.useEffect(()=>{h!==void 0&&(h&&r&&r(),!h&&i&&i())},[h,r,i]);const g=f.useMemo(()=>({collapse:o.collapse,collapsed:h,expand:o.expand,expandedElement:p.expandedElement,mount:o.mount,panes:p.panes,resize:o.resize,resizing:p.resizing}),[h,o,p.expandedElement,p.panes,p.resizing]);return u.jsx(Vpe.Provider,{value:g,children:u.jsx(pBn,{"data-ui":"PaneLayout",...a,"data-collapsed":h?"":void 0,"data-resizing":p.resizing?"":void 0,"data-mounted":d?"":void 0,ref:l,children:t})})}function Uq(e){return(e.type==="item"||e.type==="group")&&e.renderAsButton}const Y3e=jFt(Uq);function q3e(e){var t,n;const{fieldActions:r=[],menuItems:i,menuItemGroups:a}=e,o=[];let s=0;for(let d=0;d<r.length;d+=1){const h=r[d];o.push(K3e(h,`${d}-${h.type}`))}s+=o.length;const l=[];for(const d of a)l.find(h=>h.key===d.id)||l.push({type:"group",key:d.id,children:[],expanded:!0,renderAsButton:!1,title:d.title,i18n:d.i18n});const c=[];for(let d=0;d<i.length;d+=1){const h=i[d];let p=h.group&&l.find(m=>m.key===h.group);h.group&&!p&&(p={type:"group",key:h.group,expanded:!0,icon:h.icon,title:h.group,children:[],renderAsButton:!1},l.push(p)),p?p.children.push({type:"item",key:`${s+d}-item`,hotkey:h.shortcut,icon:h.icon,intent:h.intent,onAction:()=>e.actionHandler(h),renderAsButton:(t=h.showAsAction)!=null?t:!1,selected:h.selected,title:h.title,i18n:h.i18n,tone:h.tone}):c.push({type:"item",key:`${s+d}-item`,hotkey:h.shortcut,icon:h.icon,intent:h.intent,onAction:()=>e.actionHandler(h),renderAsButton:(n=h.showAsAction)!=null?n:!1,selected:h.selected,title:h.title,i18n:h.i18n,tone:h.tone})}return[...c,...l,...o]}function K3e(e,t){var n,r,i;return e.type==="divider"?{type:"divider",key:t}:e.type==="group"?{type:"group",key:t,children:e.children.map((a,o)=>K3e(a,`${t}-${o}-${a.type}`)),disabled:e.disabled,expanded:(n=e.expanded)!=null?n:!0,icon:e.icon,title:e.title,i18n:e.i18n,renderAsButton:(r=e.renderAsButton)!=null?r:!1}:{type:"item",key:t,intent:e.intent,disabled:e.disabled,icon:e.icon,iconRight:e.iconRight,onAction:e.onAction,renderAsButton:(i=e.renderAsButton)!=null?i:!1,selected:e.selected,title:e.title,i18n:e.i18n,tone:e.tone}}const xBn=f.forwardRef(function(e,t){const{intent:n,...r}=e,i=f.useMemo(()=>f.forwardRef(function(a,o){return u.jsx(pu,{...a,intent:n.type,params:n.params,ref:o})}),[n]);return e.disabled?u.jsx(fe,{...r,as:"a",role:"link","aria-disabled":"true"}):u.jsx(fe,{...r,as:i,"data-as":"a",ref:t})});function P4({reveal:e,context:t,loading:n,children:r}){const i=Kn(),{t:a}=Y(Ft);return e?u.jsx(gt,{content:n?a("insufficient-permissions-message-tooltip.loading-text"):u.jsx(ou,{context:t,currentUser:i}),portal:!0,children:u.jsx("div",{children:r})}):u.jsx(u.Fragment,{children:r})}const wBn={constrainSize:!0,placement:"bottom",portal:!0},mhe=(e,t,n)=>{var r;const i=(r=t.find(o=>o.id===n.templateId))==null?void 0:r.schemaType;if(!i)return null;const a={template:n.templateId,type:i,id:n.initialDocumentId};return{type:"create",params:n.parameters?[a,n.parameters]:a}};function CBn({templateItems:e}){const t=en(),n=nx(),{t:r}=Y(Ft),i=KO([...e,...n]),[a,o]=NY({templateItems:e}),s=f.useMemo(()=>!o&&(a==null?void 0:a.every(c=>!c.granted)),[o,a]),l=f.useMemo(()=>a?a.reduce((c,d)=>(c[d.id]=d,c),{}):{},[a]);if(s)return u.jsx(P4,{context:"create-document-type",reveal:!0,loading:o,children:u.jsx(fe,{"aria-label":r("pane-header.disabled-created-button.aria-label"),icon:wa,"data-testid":"action-intent-button",disabled:!0,mode:"bleed",tooltipProps:null})});if(e.length===1){const c=e[0],d=l[c.id],h=!(d!=null&&d.granted),p=mhe(t,n,c);return p?u.jsx(P4,{reveal:h,loading:o,context:"create-document-type",children:u.jsx(xBn,{"aria-label":i(c).title,icon:c.icon||wa,intent:p,mode:"bleed",disabled:h,"data-testid":"action-intent-button",tooltipProps:h?null:{content:r("pane-header.create-new-button.tooltip")}})}):null}return u.jsx(Kt,{button:u.jsx(fe,{icon:wa,mode:"bleed","data-testid":"multi-action-intent-button",tooltipProps:{content:r("pane-header.create-new-button.tooltip")}}),id:"create-menu",menu:u.jsx(Ot,{children:e.map((c,d)=>{const h=l[c.id],p=!(h!=null&&h.granted),m=mhe(t,n,c),g=n.find(y=>y.id===c.templateId);if(!g||!m)return null;const v=f.forwardRef((y,x)=>p?u.jsx("button",{type:"button",disabled:!0,...y,ref:x}):u.jsx(pu,{...y,intent:m.type,params:m.params,ref:x}));v.displayName="Link";const{title:b}=i({...c,title:c.title||i(g).title});return u.jsx(P4,{context:"create-document-type",reveal:p,loading:o,children:u.jsx(We,{as:v,"data-as":p?"button":"a",text:b,"aria-label":p?r("pane-header.disabled-created-button.aria-label"):b,disabled:p,"data-testid":`action-intent-button-${d}`})},c.id)})}),popover:wBn})}function SBn(e){return e!=null}const _Bn=e=>{const t=n=>typeof n!="object"||!n?n:Array.isArray(n)?n.map(t):Object.entries(n).sort(([r],[i])=>r.localeCompare(i,"en"));return JSON.stringify(t((n=>JSON.parse(JSON.stringify(n)))(e)))},Z3e=f.memo(function(e){const{initialValueTemplateItems:t=cn,menuItems:n=cn,menuItemGroups:r=cn,actionHandlers:i=Drn}=e,a=nx(),o=f.useCallback(p=>{if(typeof p.action=="string"&&!(p.action in i))return console.warn("No handler for action:",p.action),!1;const m=typeof p.action=="function"?p.action:typeof p.action=="string"?i[p.action]:null;return m?(m(p.params),!0):!1},[i]),s=f.useMemo(()=>q3e({actionHandler:o,menuItemGroups:r,menuItems:n.filter(p=>{var m;return((m=p.intent)==null?void 0:m.type)!=="create"})}),[o,r,n]),l=f.useMemo(()=>s.filter(Uq),[s]),c=f.useMemo(()=>s.filter(Y3e),[s]),d=f.useMemo(()=>n.map((p,m)=>{var g;if(((g=p.intent)==null?void 0:g.type)!=="create")return null;const{params:v}=p.intent;if(!v)return null;const b=Array.isArray(v)?v[0]:v,y=Array.isArray(v)?v[1]:void 0,x=b.template||b.type;if(!x)return null;const w=a.find(S=>S.id===x);if(!w)return null;const C=b.id;return{item:p,template:w,templateParams:y,menuItemIndex:m,initialDocumentId:C}}).filter(SBn).map(({initialDocumentId:p,item:m,template:g,menuItemIndex:v,templateParams:b})=>({id:`menuItem${v}`,initialDocumentId:p,templateId:g.id,type:"initialValueTemplateItem",title:m.title||g.title,i18n:m.i18n||g.i18n,icon:m.icon,description:g.description,parameters:b,schemaType:g.schemaType})),[n,a]),h=f.useMemo(()=>Tp([...d,...t],p=>_Bn([p.initialDocumentId,p.templateId,p.parameters])),[d,t]);return u.jsxs(U,{gap:1,children:[h.length>0&&u.jsx(CBn,{templateItems:h}),l.map(p=>u.jsx(G3e,{node:p},p.key)),c.length>0&&u.jsx(H3e,{nodes:c})]})});function EBn(e){const{t}=Y(Ft),{layout:n,value:r}=e;return u.jsx(to,{title:u.jsx("em",{children:u.jsx(ht,{t,i18nKey:"pane-item.missing-schema-type.title",components:{Code:"code"},values:{documentType:r._type}})}),subtitle:u.jsx(ht,{t,i18nKey:"pane-item.missing-schema-type.subtitle",components:{Code:"code"},values:{documentId:r._id}}),media:()=>u.jsx(fr,{}),layout:n})}function ghe(e,t,n){return e===!1?!1:e||t&&t.icon||n||!1}function X3e(e){const{icon:t,id:n,layout:r="default",pressed:i,schemaType:a,selected:o,title:s,value:l,margin:c,marginBottom:d,marginTop:h}=e,p=en(),m=ua(),{ChildLink:g}=yd(),v=qb(n),b=!!(a&&a.name&&p.get(a.name)),[y,x]=f.useState(!1),w=f.useMemo(()=>l&&x4e(l)?!a||!b?u.jsx(EBn,{value:l}):u.jsx(N3e,{documentPreviewStore:m,icon:ghe(t,a,Hu),layout:r,schemaType:a,value:l,presence:v}):u.jsx(to,{status:u.jsx(L,{style:{opacity:.5},children:u.jsx(N,{muted:!0,size:1,children:u.jsx(no,{})})}),icon:ghe(t,a,yB),layout:"compact",title:s}),[m,b,t,r,a,s,l,v]),C=f.useMemo(()=>function(_){return u.jsx(g,{..._,childId:n})},[g,n]),S=f.useCallback(_=>{if(_.metaKey){x(!1);return}x(!0)},[]);return f.useEffect(()=>x(!1),[o]),u.jsx(Cg,{"data-testid":`pane-item-${s}`,__unstable_focusRing:!0,as:C,"data-as":"a",margin:c,marginBottom:d,marginTop:h,onClick:S,pressed:i,radius:2,selected:o||y,sizing:"border",tabIndex:-1,tone:"inherit",children:w})}const B_=f.memo(e=>{const{actions:t,children:n,actionProps:r,onActionComplete:i,group:a}=e;return u.jsx(r3e,{onReset:i,hooks:t,args:r,group:a,children:n})});B_.displayName="Memo(RenderActionCollectionState)";const J3e=f.memo(e=>{const{badges:t,children:n,badgeProps:r}=e;return u.jsx(r3e,{hooks:t,args:r,children:n})});J3e.displayName="Memo(RenderBadgeCollectionState)";function Q3e(e){const{children:t,currentMinWidth:n,flex:r,minWidth:i,paneKey:a,title:o="Error",tone:s="critical"}=e;return u.jsxs(N_,{currentMinWidth:n,flex:r,id:a,minWidth:i,tone:s,children:[u.jsx(ZM,{title:o}),u.jsx(L_,{overflow:"auto",children:u.jsx(L,{paddingX:4,paddingY:5,children:t})})]})}function kBn(e){const t=[{ms:300,messageKey:"panes.resolving.default-message"},{ms:5e3,messageKey:"panes.resolving.slow-resolve-message"}],n=xe(null);return Mn(...t.map(r=>n.pipe(E$("messageKey"in r?{messageKey:r.messageKey}:{message:r.message}),qCe(r.ms))))}const TBn="panes.resolving.default-message",ABn=R(U)`
  opacity: 0;
  transition: opacity 200ms;

  &[data-mounted] {
    opacity: 1;
  }
`,Hq=f.memo(e=>{const{delay:t=300,flex:n,message:r=kBn,minWidth:i,paneKey:a,path:o,selected:s,title:l,tone:c}=e,{t:d}=Y(Ft),h=f.useMemo(()=>typeof r=="function"?r(o?o.split(";"):[]):r,[r,o]),[p,m]=f.useState(()=>typeof h=="string"?h:d(TBn));f.useEffect(()=>{if(typeof h!="object"||typeof h.subscribe!="function")return;const x=h.subscribe(w=>{m("messageKey"in w?d(w.messageKey):w.message)});return()=>x.unsubscribe()},[h,d]);const[g,v]=f.useState(null),[b,y]=f.useState(!1);return f.useEffect(()=>{if(g)return sJe(()=>y(!0))},[g]),u.jsx(N_,{flex:n,id:a,minWidth:i,selected:s,tone:c,children:u.jsx(L_,{children:u.jsx(ABn,{align:"center","data-mounted":b?"":void 0,direction:"column",height:"fill",justify:"center",ref:v,children:u.jsx(wn,{showText:!0,title:l||p})})})})});Hq.displayName="Memo(LoadingPane)";function Cr(){const e=f.useContext(zpe);if(!e)throw new Error("DocumentPane: missing context value");return e}function jBn(e){const{children:t,documentId:n,documentType:r}=e;return u.jsx(nRe,{documentId:n,documentType:r,children:u.jsx(IBn,{documentId:n,documentType:r,children:t})})}function IBn(e){const{children:t,documentId:n,documentType:r}=e,{enabled:i}=om(),{connectionState:a,onPathOpen:o,inspector:s,openInspector:l}=Cr(),{params:c,setParams:d,createPathWithParams:h}=yd(),p=c==null?void 0:c.comment,m=f.useRef(c);f.useLayoutEffect(()=>{m.current=c},[c]);const g=f.useCallback(y=>{const x=h({...m.current,comment:y,inspect:Vw});return`${window.location.origin}${x}`},[h]),v=f.useCallback(()=>{d({...m.current,comment:void 0})},[d]),b=f.useCallback(()=>{(s==null?void 0:s.name)!==Vw&&l(Vw)},[s==null?void 0:s.name,l]);return i?u.jsx(tRe,{documentId:n,documentType:r,getCommentLink:g,isCommentsOpen:(s==null?void 0:s.name)===Vw,isConnecting:a==="connecting",onClearSelectedComment:v,onCommentsOpen:b,onPathOpen:o,selectedCommentId:p,sortOrder:"desc",type:"field",children:t}):u.jsx(u.Fragment,{children:t})}const eFe=!1,DBn={},$Bn=Symbol("LOADING_PANE"),tFe="documentPanelPortalElement";function sm(){const e=f.useContext(Hpe);if(!e)throw new Error("StructureTool: missing context value");return e}const OBn=320,MBn=600,_9=320,RBn=540,PBn={},E9="inspect:",FBn=[{id:"inspectors"},{id:"links"}],k9="sanity/structure/history",NBn="sanity/structure/validation";function LBn(e){const{documentId:t,documentType:n,inspectors:r,onMenuItems:i}=e,a=r.length,o=f.useRef(a),[s,l]=f.useState(()=>Array.from(new Array(a))),c=f.useRef(s);f.useEffect(()=>{if(o.current!==a){const p=Array.from(new Array(a));for(let m=0;m<a;m++)p[m]=c.current[m];o.current=a,l(()=>(c.current=p,p))}},[a]);const d=f.useCallback((p,m)=>{l(g=>{const v=[...g];return v[p]=m,c.current=v,v})},[]);f.useEffect(()=>{i(s.filter(Boolean))},[s,i]);const h=f.useMemo(()=>r.map((p,m)=>p.useMenuItem?[BBn({documentId:t,documentType:n,index:m,setMenuItem:d,useMenuItem:p.useMenuItem}),p.name]:[()=>null,""]),[t,n,r,d]);return u.jsx(u.Fragment,{children:h.map(([p,m])=>m&&u.jsx(p,{},m))})}function BBn({documentId:e,documentType:t,index:n,setMenuItem:r,useMenuItem:i}){return f.memo(function(){const a=i({documentId:e,documentType:t}),o=Ha(a);return f.useEffect(()=>{r(n,o)},[o]),null})}function Wq(){const{connectionState:e,schemaType:t,title:n,value:r}=Cr(),i=!!r&&e!=="connecting",{error:a,value:o}=E_({enabled:i,schemaType:t,value:r});return e==="connecting"?{error:void 0,title:void 0}:n?{error:void 0,title:n}:r?a?{error:`Error: ${a.message}`,title:void 0}:{error:void 0,title:o==null?void 0:o.title}:{error:void 0,title:`New ${(t==null?void 0:t.title)||(t==null?void 0:t.name)}`}}const VBn=["patch","commit"],zBn=f.memo(function(){const{push:e}=Pr(),{documentId:t,documentType:n}=Cr(),{title:r}=Wq(),i=qPe(t,n),a=f.useRef(i),o=yd(),{t:s}=Y(Ft),l=r||s("panes.document-operation-results.operation-undefined-title"),c=l.length>25?`${l.slice(0,25)}...`:l;return f.useEffect(()=>{if(!i||i===a.current)return;let d;return i.type==="error"&&e({closable:!0,duration:3e4,status:"error",title:s("panes.document-operation-results.operation-error",{context:i.op}),description:u.jsxs("details",{children:[u.jsx("summary",{children:s("panes.document-operation-results.error.summary.title")}),i.error.message]})}),i.type==="success"&&!VBn.includes(i.op)&&e({closable:!0,status:"success",title:u.jsx(ht,{context:i.op,i18nKey:"panes.document-operation-results.operation-success",t:s,values:{title:c},components:{Strong:"strong"}})}),i.type==="success"&&i.op==="delete"&&(d=setTimeout(()=>o.closeCurrentAndAfter(),0)),a.current=i,()=>clearTimeout(d)},[i,o,e,s,c]),null}),UBn=R(te)({position:"relative",zIndex:1,lineHeight:0});function Gq(e){const{as:t,children:n,closeButtonLabel:r,onClose:i,title:a,...o}=e,{t:s}=Y(Ft);return u.jsxs(UBn,{...o,as:t,children:[u.jsxs(U,{padding:2,children:[u.jsx(L,{flex:1,padding:3,children:u.jsx(N,{as:"h1",size:1,weight:"medium",children:a})}),u.jsx(L,{flex:"none",padding:1,children:u.jsx(fe,{"aria-label":r,icon:Rr,mode:"bleed",onClick:i,tooltipProps:{content:s("document-inspector.close-button.tooltip")}})})]}),n]})}const HBn=R.div`
  position: absolute;
  top: 0;
  left: -4px;
  bottom: 0;
  width: 9px;
  z-index: 201;
  cursor: ew-resize;

  /* Border */
  & > span:nth-child(1) {
    display: block;
    border-left: 1px solid var(--card-border-color);
    position: absolute;
    top: 0;
    left: 4px;
    bottom: 0;
    transition: opacity 200ms;
  }

  /* Hover effect */
  & > span:nth-child(2) {
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    width: 9px;
    bottom: 0;
    background-color: var(--card-border-color);
    opacity: 0;
    transition: opacity 150ms;
  }

  @media (hover: hover) {
    &:hover > span:nth-child(2) {
      opacity: 0.2;
    }
  }
`;function WBn(e){const{onResize:t,onResizeStart:n}=e,r=f.useRef(0),i=f.useCallback(a=>{a.preventDefault(),r.current=a.pageX,n();const o=l=>{l.preventDefault(),t(l.pageX-r.current)},s=()=>{window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",s)};window.addEventListener("mousemove",o),window.addEventListener("mouseup",s)},[t,n]);return u.jsxs(HBn,{onMouseDown:i,children:[u.jsx("span",{}),u.jsx("span",{})]})}const GBn=R(L)`
  position: relative;
  flex: 1;
  padding-left: 1px;
`;function YBn(e){const{as:t,children:n,minWidth:r,maxWidth:i,...a}=e,[o,s]=f.useState(null),l=f.useRef(),[c,d]=f.useState(),h=f.useCallback(()=>{l.current=o==null?void 0:o.offsetWidth},[o]),p=f.useCallback(g=>{const v=l.current;v&&d(Math.min(Math.max(v-g,r),i))},[r,i]),m=f.useMemo(()=>c?{flex:"none",width:c}:{minWidth:r,maxWidth:i},[r,i,c]);return u.jsxs(GBn,{as:t,...a,ref:s,style:m,children:[n,u.jsx(WBn,{onResize:p,onResizeStart:h})]})}function qBn(e){const{documentId:t,documentType:n,flex:r}=e,{collapsed:i}=rh(),{closeInspector:a,inspector:o}=Cr(),{features:s}=sm(),l=f.useCallback(()=>{o&&a(o.name)},[a,o]);if(i||!o)return null;const c=f.createElement(o.component,{onClose:l,documentId:t,documentType:n});return s.resizablePanes?u.jsx(YBn,{as:"aside","data-ui":"DocumentInspectorPanel",flex:r,maxWidth:RBn,minWidth:_9,children:c}):u.jsx(L,{as:"aside","data-ui":"DocumentInspectorPanel",flex:r,children:c})}const KBn="studio.structure-tool";function T9(e,t,n){const r=KOe(),[i,a]=f.useState(n),o=[KBn,e,t].filter(Boolean).join("."),s=f.useMemo(()=>r.getKey(o),[r,o]);f.useEffect(()=>{const c=s.pipe(Vi(n),de(d=>d===null?n:d)).subscribe({next:a});return()=>c==null?void 0:c.unsubscribe()},[n,o,s]);const l=f.useCallback(c=>{c!==i&&(a(c),r.setKey(o,c))},[r,o,i]);return f.useMemo(()=>[i,l],[l,i])}const Lv={id:"parsed",title:"document-inspector.view-mode.parsed"},Bv={id:"raw",title:"document-inspector.view-mode.raw-json"},ZBn=[Lv,Bv],II=new o7n({maxSize:1e3});function nFe(e,t){const n=II.get(e);return n===void 0?(II.set(e,Array.isArray(t)||yt(t)),nFe(e,t)):n}function XBn(e){const{path:t}=e,n=II.get(t);n!==void 0&&II.set(t,!n)}function rFe(e){const t=window.getSelection();if(t){const n=document.createRange();t.removeAllRanges(),n.selectNodeContents(e),t.addRange(n)}}function vhe(e){rFe(e.currentTarget)}function JBn(e){e.keyCode===65&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),rFe(e.currentTarget))}function QBn(e){return yt(e)&&xg(e._id)&&xg(e._type)}const eVn=R.div(({theme:e})=>{const{color:t,fonts:n,space:r}=e.sanity;return ce`
    & .json-inspector,
    & .json-inspector .json-inspector__selection {
      font-family: ${n.code.family};
      font-size: ${n.code.sizes[1].fontSize}px;
      line-height: ${n.code.sizes[1].lineHeight}px;
      color: var(--card-code-fg-color);
    }

    & .json-inspector .json-inspector__leaf {
      padding-left: ${Se(r[4])};
    }

    & .json-inspector .json-inspector__leaf.json-inspector__leaf_root {
      padding-top: ${Se(r[3])};
      padding-left: 0;
    }

    & .json-inspector > .json-inspector__leaf_root > .json-inspector__line > .json-inspector__key {
      display: none;
    }

    & .json-inspector .json-inspector__line {
      display: block;
      position: relative;
      cursor: default;
    }

    & .json-inspector .json-inspector__line::after {
      content: '';
      position: absolute;
      top: 0;
      left: -200px;
      right: -50px;
      bottom: 0;
      z-index: -1;
      pointer-events: none;
    }

    & .json-inspector .json-inspector__line:hover::after {
      background: var(--card-code-bg-color);
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line {
      cursor: pointer;
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line::before {
      content: '▸ ';
      margin-left: calc(0 - ${Se(r[4])} + 3px);
      font-size: ${n.code.sizes[1].fontSize}px;
      line-height: ${n.code.sizes[1].lineHeight}px;
    }

    &
      .json-inspector
      .json-inspector__leaf_expanded.json-inspector__leaf_composite
      > .json-inspector__line::before {
      content: '▾ ';
      font-size: ${n.code.sizes[1].fontSize}px;
      line-height: ${n.code.sizes[1].lineHeight}px;
    }

    & .json-inspector .json-inspector__radio,
    & .json-inspector .json-inspector__flatpath {
      display: none;
    }

    & .json-inspector .json-inspector__value {
      margin-left: ${Se(r[4]/2)};
    }

    &
      .json-inspector
      > .json-inspector__leaf_root
      > .json-inspector__line
      > .json-inspector__key
      + .json-inspector__value {
      margin: 0;
    }

    & .json-inspector .json-inspector__key {
      color: ${t.syntax.property};
    }

    & .json-inspector .json-inspector__value_helper,
    & .json-inspector .json-inspector__value_null {
      color: ${t.syntax.constant};
    }

    & .json-inspector .json-inspector__not-found {
      padding-top: ${Se(r[3])};
    }

    & .json-inspector .json-inspector__value_string {
      color: ${t.syntax.string};
    }

    & .json-inspector .json-inspector__value_boolean {
      color: ${t.syntax.boolean};
    }

    & .json-inspector .json-inspector__value_number {
      color: ${t.syntax.number};
    }

    & .json-inspector .json-inspector__show-original {
      display: inline-block;
      padding: 0 6px;
      cursor: pointer;
    }

    & .json-inspector .json-inspector__show-original:hover {
      color: inherit;
    }

    & .json-inspector .json-inspector__show-original::before {
      content: '↔';
    }

    & .json-inspector .json-inspector__show-original:hover::after {
      content: ' expand';
    }
  `});function tVn(e){const{onChange:t,query:n}=e,r=f.useCallback(a=>t(a.target.value),[t]),{t:i}=Y(Ft);return u.jsx(Zr,{icon:Ca,onChange:r,placeholder:i("document-inspector.search.placeholder"),radius:2,value:n||""})}function nVn(e){const{value:t}=e,{onInspectClose:n,paneKey:r}=Cr(),i=`${r}_inspect_`,[a,o]=T9("inspect-view-mode",null,"parsed"),s=ZBn.find(h=>h.id===a),l=f.useCallback(()=>{o(Lv.id)},[o]),c=f.useCallback(()=>{o(Bv.id)},[o]),{t:d}=Y(Ft);return u.jsx(Ui,{bodyHeight:"fill",id:`${i}dialog`,header:QBn(t)?u.jsx(ht,{t:d,i18nKey:"document-inspector.dialog.title",components:{DocumentTitle:()=>u.jsx("em",{children:u.jsx(P3e,{document:t})})}}):u.jsx("em",{children:d("document-inspector.dialog.title-no-value")}),onClose:n,onClickOutside:n,padding:!1,width:2,children:u.jsxs(U,{direction:"column",height:"fill",children:[u.jsx(te,{padding:3,paddingTop:0,shadow:1,style:{position:"sticky",bottom:0,zIndex:3},children:u.jsxs(ub,{space:1,children:[u.jsx(uS,{"aria-controls":`${i}tabpanel`,id:`${i}tab-${Lv.id}`,label:d(Lv.title),onClick:l,selected:s===Lv}),u.jsx(uS,{"aria-controls":`${i}tabpanel`,id:`${i}tab-${Bv.id}`,label:d(Bv.title),onClick:c,selected:s===Bv})]})}),u.jsxs(Mxe,{"aria-labelledby":`${i}tab-${a}`,flex:1,id:`${i}tabpanel`,overflow:"auto",padding:4,style:{outline:"none"},children:[s===Lv&&u.jsx(eVn,{children:u.jsx(r7n,{data:t,isExpanded:nFe,onClick:XBn,search:tVn,filterOptions:{ignoreCase:!0}})}),s===Bv&&u.jsx(fi,{language:"json",tabIndex:0,onKeyDown:JBn,onDoubleClick:vhe,onFocus:vhe,size:1,children:JSON.stringify(t,null,2)})]})]})})}function A9({size:e}){return u.jsx(fe,{"aria-hidden":!0,disabled:!0,size:e,style:{pointerEvents:"none",visibility:"hidden",width:0},text:"-"})}function XM(e){const{action:t,content:n,icon:r,tone:i="transparent",...a}=e;return u.jsx(te,{borderBottom:!0,paddingX:4,paddingY:2,tone:i,...a,children:u.jsxs(U,{align:"center",gap:3,children:[r&&u.jsx(N,{size:0,children:u.jsx(r,{})}),u.jsx(U,{align:"center",flex:1,gap:2,paddingY:3,children:n}),u.jsx(A9,{}),t&&u.jsx(fe,{as:t==null?void 0:t.as,mode:"ghost",onClick:t==null?void 0:t.onClick,text:t.text,tone:t.tone||"default"})]})})}function rVn({revisionId:e}){const{documentId:t,documentType:n}=Cr(),{restore:r}=bu(t,n),{navigateIntent:i}=is(),a=f.useCallback(()=>{e&&(r.execute(e),i("edit",{id:t,type:n}))},[t,n,i,r,e]),{t:o}=Y(Ft);return u.jsx(XM,{action:e?{onClick:a,text:o("banners.deleted-document-banner.restore-button.text")}:void 0,content:u.jsx(N,{size:1,weight:"medium",children:o("banners.deleted-document-banner.text")}),"data-testid":"deleted-document-banner",icon:Ky})}function iVn(){const{schemaType:e}=Cr(),{t}=Y(Ft);return Vhe(e)?u.jsx(XM,{content:u.jsxs(N,{size:1,weight:"medium",children:[u.jsx(ht,{t,i18nKey:"banners.deprecated-document-type-banner.text"})," ",e.deprecated.reason]}),"data-testid":"deprecated-document-type-banner",icon:Ea}):null}function aVn({granted:e,requiredPermission:t}){const n=Kn(),r=z0({style:"short"}),{t:i}=Y(Ft);if(e)return null;const a=((n==null?void 0:n.roles)||[]).map(s=>s.title),o=r.formatToParts(a).map(s=>s.type==="element"?u.jsx("code",{children:s.value},s.value):s.value);return u.jsx(XM,{content:u.jsx(N,{size:1,weight:"medium",children:u.jsx(ht,{t:i,i18nKey:"banners.permission-check-banner.missing-permission",components:{Roles:()=>u.jsx(u.Fragment,{children:o})},values:{count:o.length,roles:a},context:t})}),"data-testid":"permission-check-banner",icon:Ky})}const iFe=f.memo(()=>{var e,t,n,r,i,a,o;const s=ua(),{params:l,groupIndex:c,routerPanesState:d,replaceCurrent:h,BackLink:p}=yd(),m=(e=d[c])==null?void 0:e[0].id,g=d[c-1],v=g==null?void 0:g[0],b=v==null?void 0:v.id,y=!!((t=v==null?void 0:v.params)!=null&&t.rev),x=f.useMemo(()=>(l==null?void 0:l.parentRefPath)&&el(l.parentRefPath)||null,[l==null?void 0:l.parentRefPath]),{t:w}=Y(Ft),C=f.useMemo(()=>{const E=x==null?void 0:x[0];if(!b||!E||!x)return xe({loading:!1});const k=fn(b),T=el(E),j=T.findIndex(I=>typeof I=="object"&&"_key"in I);return Ai(xe({loading:!0}),s.unstable_observePathsDocumentPair(k,j===-1?T:T.slice(0,j)).pipe(CU(750),de(({draft:I,published:A})=>{var $;return{loading:!1,result:{availability:{draft:I.availability,published:A.availability},refValue:($=Uy(I.snapshot||A.snapshot,x))==null?void 0:$._ref}}})))},[s,b,x]),S=Jr(C,{loading:!0}),_=f.useCallback(()=>{var E;S.loading||(E=S.result)!=null&&E.refValue&&h({id:S.result.refValue,params:l})},[S.loading,S.result,h,l]);return!b||!x||y||S.loading||!((n=S.result)!=null&&n.availability.draft.available)&&!((r=S.result)!=null&&r.availability.published.available)||((i=S.result)==null?void 0:i.refValue)===m?null:u.jsx(XM,{action:(a=S.result)!=null&&a.refValue?{onClick:_,icon:g0,text:w("banners.reference-changed-banner.reason-changed.reload-button.text")}:{as:p,icon:Rr,text:w("banners.reference-changed-banner.reason-removed.close-button.text")},"data-testid":"reference-changed-banner",content:u.jsx(N,{size:1,weight:"medium",children:(o=S.result)!=null&&o.refValue?w("banners.reference-changed-banner.reason-changed.text"):w("banners.reference-changed-banner.reason-removed.text")}),icon:fr,tone:"caution"})});iFe.displayName="Memo(ReferenceChangedBanner)";const oVn=R(ee)`
  ${({theme:e})=>ce`
      @supports not (container-type: inline-size) {
        display: none !important;
      }

      container-type: inline-size;

      [data-heading] {
        font-size: ${e.sanity.fonts.heading.sizes[4].fontSize}px;
        line-height: ${e.sanity.fonts.heading.sizes[4].lineHeight}px;
        overflow-wrap: break-word;
        text-wrap: pretty;
      }

      @container (max-width: 560px) {
        [data-heading] {
          font-size: ${e.sanity.fonts.heading.sizes[3].fontSize}px;
          line-height: ${e.sanity.fonts.heading.sizes[3].lineHeight}px;
        }
      }

      @container (max-width: 420px) {
        [data-heading] {
          font-size: ${e.sanity.fonts.heading.sizes[2].fontSize}px;
          line-height: ${e.sanity.fonts.heading.sizes[2].lineHeight}px;
        }
      }
    `}
`,sVn=({documentId:e,schemaType:t,title:n})=>{var r;const i=e===t.name,{t:a}=cb(Ft);return t.__experimental_formPreviewTitle===!1?null:u.jsxs(oVn,{marginBottom:6,space:4,children:[!i&&u.jsx(N,{muted:!0,size:1,children:(r=t.title)!=null?r:t.name}),u.jsx(zi,{as:"h2","data-heading":!0,muted:!n,"data-testid":"document-panel-document-title",children:n??a("document-view.form-view.form-title-fallback")})]})};function lVn(e){const t=f.useRef();return f.useEffect(()=>{t.current=e},[e]),t.current}const uVn=1e3*60*60*24*24;function cVn(e){const t=Pr(),n=lVn(e.enabled);f.useEffect(()=>{!n&&e.enabled&&t.push({...e,duration:uVn}),n&&!e.enabled&&t.push({...e,duration:.01})},[e,t,n])}const dVn=e=>e.preventDefault(),fVn=f.forwardRef(function(e,t){var n;const{hidden:r,margins:i}=e,{collapsedFieldSets:a,collapsedPaths:o,displayed:s,editState:l,documentId:c,documentType:d,fieldActions:h,onChange:p,validation:m,ready:g,formState:v,onFocus:b,connectionState:y,onBlur:x,onSetCollapsedPath:w,onPathOpen:C,onSetCollapsedFieldSet:S,onSetActiveFieldGroup:_,openPath:E}=Cr(),k=vl(),T=qb(c),{title:j}=Wq(),I=f.useMemo(()=>tDe(),[]),A=(n=l==null?void 0:l.transactionSyncLock)==null?void 0:n.enabled,{t:$}=Y(Ft);cVn({id:`sync-lock-${c}`,status:"warning",enabled:A,title:$("document-view.form-view.sync-lock-toast.title"),description:$("document-view.form-view.sync-lock-toast.description")}),f.useEffect(()=>{const H=k.pair.documentEvents(c,d).pipe(Qn(W=>{W.type==="mutation"&&I.publish(hVn(W)),W.type==="rebase"&&I.publish(pVn(W))})).subscribe();return()=>{H.unsubscribe()}},[c,k,d,I]);const D=!!(s!=null&&s._rev);f.useEffect(()=>{D&&I.publish({type:"mutation",patches:[],snapshot:s})},[D]);const[M,O]=f.useState(null),[F,P]=f.useState(!1);f.useEffect(()=>{!F&&g&&!(v!=null&&v.focusPath.length)&&M&&(P(!0),Lg(M))},[F,M,v==null?void 0:v.focusPath.length,g]);const V=f.useCallback(H=>{O(H),typeof t=="function"?t(H):t&&(t.current=H)},[t]);return u.jsx(si,{hidden:r,paddingX:4,paddingTop:5,paddingBottom:9,sizing:"border",width:1,children:u.jsx(zb,{margins:i,children:u.jsx(L,{as:"form",onSubmit:dVn,ref:V,children:y==="connecting"?u.jsx(z3e,{ms:300,children:u.jsxs(U,{align:"center",direction:"column",height:"fill",justify:"center",children:[u.jsx(Wp,{muted:!0}),u.jsx(L,{marginTop:3,children:u.jsx(N,{align:"center",muted:!0,size:1,children:$("document-view.form-view.loading")})})]})}):v===null||r?u.jsx(L,{padding:2,children:u.jsx(N,{children:$("document-view.form-view.form-hidden")})}):u.jsxs(u.Fragment,{children:[u.jsx(sVn,{documentId:c,schemaType:v.schemaType,title:j}),u.jsx(oOe,{__internal_fieldActions:h,__internal_patchChannel:I,changed:v.changed,collapsedFieldSets:a,collapsedPaths:o,focused:v.focused,focusPath:v.focusPath,groups:v.groups,id:"root",members:v.members,onChange:p,onFieldGroupSelect:_,onPathBlur:x,onPathFocus:b,onPathOpen:C,onSetFieldSetCollapsed:S,onSetPathCollapsed:w,openPath:E,presence:T,readOnly:y==="reconnecting"||v.readOnly,schemaType:v.schemaType,validation:m,value:v.value})]})})})})});function hVn(e){const t=e.mutations.map(n=>n.patch).filter(Boolean);return{type:"mutation",snapshot:e.document,patches:W7(e.origin,t)}}function pVn(e){const t=e.remoteMutations.map(r=>r.patch).filter(Boolean),n=e.localMutations.map(r=>r.patch).filter(Boolean);return{type:"rebase",snapshot:e.document,patches:W7("remote",t).concat(W7("local",n))}}const mVn=R(L)({position:"relative"}),gVn=R(qO)(({$disabled:e})=>e?{height:"100%"}:ce`
    height: 100%;
    overflow: auto;
    position: relative;
    scroll-behavior: smooth;
    outline: none;
  `),vVn=function(e){const{footerHeight:t,headerHeight:n,isInspectOpen:r,rootElement:i,setDocumentPanelPortalElement:a}=e,{activeViewId:o,displayed:s,documentId:l,documentType:c,editState:d,inspector:h,value:p,views:m,ready:g,schemaType:v,permissions:b,isPermissionsLoading:y,isDeleting:x,isDeleted:w,timelineStore:C,onChange:S}=Cr(),{collapsed:_}=Q0(),{collapsed:E}=rh(),k=Gf(),{features:T}=sm(),j=f.useRef(null),[I,A]=f.useState(null),$=f.useRef(null),D=p._createdAt?"update":"create",M=f.useMemo(()=>m.find(X=>X.id===o)||m[0]||{type:"form"},[o,m]),O=T.splitPanes&&j.current||k.element,F=f.useMemo(()=>_?[n||0,0,t?t+2:2,0]:[0,0,2,0],[_,t,n]),P=M.type!=="form",V=f.useMemo(()=>M.type==="component"&&M.component&&f.createElement(M.component,{document:{draft:(d==null?void 0:d.draft)||null,displayed:s||p,historical:s,published:(d==null?void 0:d.published)||null},documentId:l,options:M.options,schemaType:v}),[M,s,l,d==null?void 0:d.draft,d==null?void 0:d.published,v,p]),H=va(C,X=>X.lastNonDeletedRevId);f.useEffect(()=>{I!=null&&I.scrollTo&&I.scrollTo(0,0)},[l,I]),f.useEffect(()=>{O&&a(O)},[O,a]);const W=f.useMemo(()=>r?u.jsx(nVn,{value:s||p}):null,[r,s,p]),G=!!(!E&&h);return u.jsx(L_,{children:u.jsxs(U,{height:"fill",children:[(T.resizablePanes||!G)&&u.jsx(mVn,{flex:2,overflow:"hidden",children:u.jsx(lb,{element:O,__unstable_elements:{documentScrollElement:I},children:u.jsx(Cf,{element:I,children:u.jsxs(Oy,{scrollElement:I,containerElement:$,children:[M.type==="form"&&!y&&g&&u.jsxs(u.Fragment,{children:[u.jsx(aVn,{granted:!!(b!=null&&b.granted),requiredPermission:D}),!x&&w&&u.jsx(rVn,{revisionId:H}),u.jsx(iFe,{}),u.jsx(iVn,{})]}),u.jsxs(gVn,{$disabled:_||!1,"data-testid":"document-panel-scroller",ref:A,children:[u.jsx(fVn,{hidden:P,margins:F,ref:$},l+(g?"_ready":"_pending")),V]}),W,u.jsx("div",{"data-testid":"document-panel-portal",ref:j})]})})})}),G&&u.jsx(Cf,{element:i,children:u.jsx(qBn,{documentId:l,documentType:v.name,flex:1})})]})})},aFe=["left","bottom"],yVn={small:0,medium:1,large:2,full:"auto"};function bVn(e){const{dialog:t,referenceElement:n}=e;return u.jsx(nd,{content:u.jsx(xVn,{dialog:t}),fallbackPlacements:aFe,open:!0,placement:"top",portal:!0,preventOverflow:!0,referenceElement:n})}function xVn(e){const{dialog:t}=e,{cancelButtonIcon:n,cancelButtonText:r,confirmButtonIcon:i,confirmButtonText:a,message:o,onCancel:s,onConfirm:l,tone:c}=t,{t:d}=Y(Ft),{isTopLayer:h}=Ds(),p=f.useRef(null),m=f.useCallback(g=>{g.key==="Escape"&&h&&s()},[h,s]);return Xo(m),yn(h&&s,()=>[p.current]),u.jsxs(U,{direction:"column",ref:p,style:{minWidth:304,maxWidth:400},children:[u.jsx(L,{flex:1,overflow:"auto",padding:4,children:u.jsx(N,{children:o})}),u.jsx(L,{paddingX:4,paddingY:3,style:{borderTop:"1px solid var(--card-border-color)"},children:u.jsxs(Vn,{columns:2,gap:2,children:[u.jsx(St,{"data-testid":"confirm-dialog-cancel-button",icon:n,onClick:s,mode:"ghost",text:r||d("confirm-dialog.cancel-button.fallback-text")}),u.jsx(St,{"data-testid":"confirm-dialog-confirm-button",icon:i,onClick:l,text:a||d("confirm-dialog.confirm-button.fallback-text"),tone:c})]})})]})}function wVn(e){const{dialog:t}=e,n=f.useId(),r=t.footer&&u.jsx(L,{paddingX:4,paddingY:3,children:t.footer});return u.jsx(Mf,{zOffset:"fullscreen",children:u.jsx(KD,{animate:!0,__unstable_hideCloseButton:t.showCloseButton===!1,footer:r,header:t.header,id:n,onClose:t.onClose,onClickOutside:t.onClose,width:t.width===void 0?1:yVn[t.width],children:u.jsx(L,{padding:4,children:t.content})})})}function CVn(e){const{dialog:t,referenceElement:n}=e;return u.jsx(nd,{content:u.jsx(SVn,{dialog:t}),fallbackPlacements:aFe,open:!0,placement:"top",portal:!0,preventOverflow:!0,referenceElement:n})}function SVn(e){const{dialog:t}=e,{content:n,onClose:r}=t,{isTopLayer:i}=Ds(),a=f.useRef(null),o=f.useCallback(s=>{s.key==="Escape"&&i&&r()},[i,r]);return Xo(o),yn(i&&r,()=>[a.current]),u.jsx("div",{ref:a,children:n})}function yhe(e){const{children:t}=e,{element:n,elements:r}=Gf(),i=(r==null?void 0:r[tFe])||n;return u.jsx(lb,{element:i,children:t})}function Yq(e){const{dialog:t,referenceElement:n=null}=e,r=f.useId();if(t.type==="confirm")return u.jsx(bVn,{dialog:t,referenceElement:n});if(t.type==="popover")return u.jsx(CVn,{dialog:t,referenceElement:n});if(t.type==="dialog"||!t.type)return u.jsx(yhe,{children:u.jsx(wVn,{dialog:t})});if(t.type==="custom")return u.jsx(yhe,{children:t==null?void 0:t.component});const i=t;return console.warn(`Unsupported modal type ${i.type}`),u.jsx(Ui,{id:r,onClose:i.onClose,onClickOutside:i.onClose,width:1,children:i.content||u.jsxs(N,{size:1,children:["Unexpected modal type (",u.jsx("code",{children:i.type}),")"]})})}const oFe=f.memo(function({actionStates:e,children:t,referenceElement:n}){const[r,i]=f.useState(-1),a=f.useMemo(()=>e[r],[r,e]),o=f.useCallback(l=>{i(l)},[]),s=f.useMemo(()=>t({handleAction:o}),[t,o]);return u.jsxs(u.Fragment,{children:[a&&a.dialog&&u.jsx(Mf,{zOffset:"paneFooter",children:u.jsx(Yq,{dialog:a.dialog,referenceElement:n})}),s]})});function _Vn(e){const{actionStates:t,disabled:n}=e,r=f.useId(),[i,a]=f.useState(null),o=f.useMemo(()=>({placement:"top-end",portal:!0,preventOverflow:!0}),[]),{t:s}=Y(Ft),l=f.useCallback(({handleAction:c})=>u.jsx(Kt,{id:`${r}-action-menu`,button:u.jsx(wi,{"aria-label":s("buttons.action-menu-button.aria-label"),disabled:n,"data-testid":"action-menu-button",size:"large",tooltipProps:{content:s("buttons.action-menu-button.tooltip")}}),menu:u.jsx(Ot,{padding:1,children:t.map((d,h)=>u.jsx(sFe,{actionState:d,disabled:n,index:h,onAction:c},h))}),popover:o,ref:a}),[t,n,r,o,s]);return u.jsx(oFe,{actionStates:t,referenceElement:i,children:l})}function sFe(e){const{actionState:t,disabled:n,index:r,onAction:i}=e,{onHandle:a}=t,o=f.useCallback(()=>{i(r),a&&a()},[r,i,a]),s=f.useMemo(()=>t.shortcut?String(t.shortcut).split("+").map(l=>l.slice(0,1).toUpperCase()+l.slice(1)):void 0,[t.shortcut]);return u.jsx(We,{"data-testid":`action-${t.label.replace(" ","")}`,disabled:n||!!t.disabled,hotkeys:s,icon:t.icon,onClick:o,text:t.label,tone:t.tone,...t.disabled&&{tooltipProps:{content:t.title}}})}const EVn={NOTHING_TO_DELETE:"action.delete.disabled.nothing-to-delete",NOT_READY:"action.delete.disabled.not-ready"},qq=({id:e,type:t,draft:n,onComplete:r})=>{const{setIsDeleting:i}=Cr(),{delete:a}=bu(e,t),[o,s]=f.useState(!1),[l,c]=f.useState(!1),{t:d}=Y(Ft),h=f.useCallback(()=>{c(!1),r()},[r]),p=f.useCallback(()=>{s(!0),c(!1),i(!0),a.execute(),r()},[a,r,i]),m=f.useCallback(()=>{c(!0)},[]),[g,v]=vd({id:e,type:t,permission:"delete"}),b=Kn();return f.useMemo(()=>!v&&!(g!=null&&g.granted)?{tone:"critical",icon:Kr,disabled:!0,label:d("action.delete.label"),title:u.jsx(ou,{context:"delete-document",currentUser:b})}:{tone:"critical",icon:Kr,disabled:o||!!a.disabled||v,title:a.disabled&&d(EVn[a.disabled])||"",label:d(o?"action.delete.running.label":"action.delete.label"),shortcut:"Ctrl+Alt+D",onHandle:m,dialog:l&&{type:"custom",component:u.jsx(zq,{action:"delete",id:(n==null?void 0:n._id)||e,type:t,onCancel:h,onConfirm:p})}},[b,a.disabled,n==null?void 0:n._id,m,h,p,e,l,o,v,g==null?void 0:g.granted,d,t])};qq.action="delete";qq.displayName="DeleteAction";const kVn={NO_CHANGES:"action.discard-changes.disabled.no-change",NOT_PUBLISHED:"action.discard-changes.disabled.not-published",NOT_READY:"action.discard-changes.disabled.not-ready"},Kq=({id:e,type:t,published:n,liveEdit:r,onComplete:i})=>{const{discardChanges:a}=bu(e,t),[o,s]=f.useState(!1),[l,c]=vd({id:e,type:t,permission:"discardDraft"}),d=Kn(),{t:h}=Y(Ft),p=f.useCallback(()=>{a.execute(),i()},[a,i]),m=f.useCallback(()=>{s(!0)},[]),g=f.useMemo(()=>o&&{type:"confirm",tone:"critical",onCancel:i,onConfirm:p,message:h("action.discard-changes.confirm-dialog.confirm-discard-changes")},[p,o,i,h]);return f.useMemo(()=>!n||r?null:!c&&!(l!=null&&l.granted)?{tone:"critical",icon:qc,disabled:!0,label:h("action.discard-changes.label"),title:u.jsx(ou,{context:"discard-changes",currentUser:d})}:{tone:"critical",icon:qc,disabled:!!a.disabled||c,title:a.disabled&&kVn[a.disabled]||"",label:h("action.discard-changes.label"),onHandle:m,dialog:g},[d,g,a.disabled,m,c,r,l==null?void 0:l.granted,n,h])};Kq.action="discardChanges";Kq.displayName="DiscardChangesAction";const TVn={NOTHING_TO_DUPLICATE:"action.duplicate.disabled.nothing-to-duplicate",NOT_READY:"action.duplicate.disabled.not-ready"},Zq=({id:e,type:t,onComplete:n})=>{const r=vl(),{duplicate:i}=bu(e,t),{navigateIntent:a}=is(),[o,s]=f.useState(!1),[l,c]=vd({id:e,type:t,permission:"duplicate"}),{t:d}=Y(Ft),h=Kn(),p=f.useCallback(async()=>{const m=qa();s(!0);const g=kft(r.pair.operationEvents(e,t).pipe($t(v=>v.op==="duplicate"&&v.type==="success")));i.execute(m),await g,a("edit",{id:m,type:t}),n()},[r.pair,i,e,a,n,t]);return f.useMemo(()=>!c&&!(l!=null&&l.granted)?{icon:Ql,disabled:!0,label:d("action.duplicate.label"),title:u.jsx(ou,{context:"duplicate-document",currentUser:h})}:{icon:Ql,disabled:o||!!i.disabled||c,label:d(o?"action.duplicate.running.label":"action.duplicate.label"),title:i.disabled?d(TVn[i.disabled]):"",onHandle:p},[h,i.disabled,p,o,c,l==null?void 0:l.granted,d])};Zq.action="duplicate";Zq.displayName="DuplicateAction";const JM=({id:e,type:t,revision:n,onComplete:r})=>{const{restore:i}=bu(e,t),a=qPe(e,t),{navigateIntent:o}=is(),s=f.useRef(a),[l,c]=f.useState(!1),{t:d}=Y(Ft),h=f.useCallback(()=>{i.execute(n),r()},[i,n,r]);f.useEffect(()=>{!a||a===s.current||(a.type==="success"&&a.op==="restore"&&o("edit",{id:e,type:t}),s.current=a)},[a,e,o,t]);const p=f.useCallback(()=>{c(!0)},[]),m=f.useMemo(()=>l?{type:"confirm",tone:"critical",onCancel:r,onConfirm:h,message:d("action.restore.confirm.message")}:null,[h,l,r,d]),g=n==="@initial",v=n===void 0;return f.useMemo(()=>v?null:{label:d("action.restore.label"),color:"primary",onHandle:p,title:d(g?"action.restore.disabled.cannot-restore-initial":"action.restore.tooltip"),icon:gD,dialog:m,disabled:g},[m,p,g,v,d])};JM.action="restore";JM.displayName="HistoryRestoreAction";const AVn=bi({name:"Document Published",version:1,description:'User clicked the "Publish" button in the document pane'}),jVn={LIVE_EDIT_ENABLED:"action.publish.live-edit.publish-disabled",ALREADY_PUBLISHED:"action.publish.already-published.no-time-ago.tooltip",NO_CHANGES:"action.publish.no-changes.tooltip",NOT_READY:"action.publish.disabled.not-ready"};function IVn(e,t,n){return e==="ALREADY_PUBLISHED"&&t?u.jsx(DVn,{publishedAt:t}):n(jVn[e])}function DVn({publishedAt:e}){const{t}=Y(Ft),n=d0(e,{useTemporalPhrase:!0});return u.jsx("span",{children:t("action.publish.already-published.tooltip",{timeSincePublished:n})})}const Xq=e=>{var t;const{id:n,type:r,liveEdit:i,draft:a,published:o}=e,[s,l]=f.useState(null),{publish:c}=bu(n,r),d=ex(n,r),h=JPe(n,r),{changesOpen:p,onHistoryOpen:m,documentId:g,documentType:v}=Cr(),b=HM(g,v),{t:y}=Y(Ft),x=((b==null?void 0:b.draft)||(b==null?void 0:b.published)||{})._rev,w=d.validation.some(P9),[C,S]=f.useState(!1),_=h.isSyncing,E=d.isValidating,[k,T]=vd({id:n,type:r,permission:"publish"}),j=Kn(),I=c.disabled?IVn(c.disabled,(o||{})._updatedAt,y)||"":w?y("action.publish.validation-issues.tooltip"):"",A=!!a,$=f.useCallback(()=>{c.execute(),l("publishing")},[c]);f.useEffect(()=>{const O=d.isValidating===!1&&d.revision!==x;!C||_||!O||(w||$(),S(!1))},[_,$,w,C,d.revision,x,E,d.isValidating]),f.useEffect(()=>{const O=s==="publishing"&&!A;O&&p&&m();const F=O?"published":null,P=setTimeout(()=>{l(F)},O?200:4e3);return()=>clearTimeout(P)},[p,s,A,m]);const D=Os(),M=f.useCallback(()=>{D.log(AVn,{publishedImmediately:!(a!=null&&a._createdAt),previouslyPublished:!!o}),h.isSyncing||d.isValidating||d.revision!==x?S(!0):$()},[D,a==null?void 0:a._createdAt,o,h.isSyncing,d.isValidating,d.revision,x,$]);return f.useMemo(()=>{var O;if(i)return{tone:"default",icon:ig,label:y("action.publish.live-edit.label"),title:y("action.publish.live-edit.tooltip"),disabled:!0};if(!T&&!(k!=null&&k.granted))return{tone:"default",icon:ig,label:"Publish",title:u.jsx(ou,{context:"publish-document",currentUser:j}),disabled:!0};const F=!!(C||(O=b==null?void 0:b.transactionSyncLock)!=null&&O.enabled||s==="publishing"||s==="published"||w||c.disabled);return{disabled:F||T,tone:"default",label:y(s==="published"?"action.publish.published.label":C||s==="publishing"?"action.publish.running.label":"action.publish.draft.label"),icon:ig,title:C?y("action.publish.waiting"):s==="published"||s==="publishing"?null:I,shortcut:F||C?null:"Ctrl+Alt+P",onHandle:M}},[j,(t=b==null?void 0:b.transactionSyncLock)==null?void 0:t.enabled,M,w,T,i,k==null?void 0:k.granted,c.disabled,C,s,y,I])};Xq.action="publish";Xq.displayName="PublishAction";const $Vn={NOT_PUBLISHED:"action.unpublish.disabled.not-published",NOT_READY:"action.unpublish.disabled.not-ready",LIVE_EDIT_ENABLED:"action.unpublish.disabled.live-edit-enabled"},Jq=({id:e,type:t,draft:n,onComplete:r,liveEdit:i})=>{const{unpublish:a}=bu(e,t),[o,s]=f.useState(!1),[l,c]=vd({id:e,type:t,permission:"unpublish"}),d=Kn(),{t:h}=Y(Ft),p=f.useCallback(()=>{s(!1),r()},[r]),m=f.useCallback(()=>{s(!1),a.execute(),r()},[r,a]),g=f.useMemo(()=>o?{type:"dialog",onClose:r,content:u.jsx(zq,{id:(n==null?void 0:n._id)||e,type:t,action:"unpublish",onCancel:p,onConfirm:m})}:null,[n,e,p,m,o,r,t]);return f.useMemo(()=>i?null:!c&&!(l!=null&&l.granted)?{tone:"critical",icon:PC,label:"Unpublish",title:u.jsx(ou,{context:"unpublish-document",currentUser:d}),disabled:!0}:{tone:"critical",icon:PC,disabled:!!a.disabled||c,label:h("action.unpublish.label"),title:a.disabled?h($Vn[a.disabled]):"",onHandle:()=>s(!0),dialog:g},[d,g,c,i,l==null?void 0:l.granted,h,a.disabled])};Jq.action="unpublish";Jq.displayName="UnpublishAction";const lFe=f.memo(function(e){var t,n;const{disabled:r,showMenu:i,states:a}=e,{__internal_tasks:o,schemaType:s,openPath:l}=Cr(),[c,...d]=a,[h,p]=f.useState(null),m=(n=(t=Dn().beta)==null?void 0:t.treeArrayEditing)==null?void 0:n.enabled,g=f.useMemo(()=>m?l$e(s,l):!1,[m,l,s]),v=f.useMemo(()=>!c||!c.title&&!c.shortcut?null:u.jsxs(U,{style:{maxWidth:300},align:"center",gap:3,children:[c.title&&u.jsx(N,{size:1,children:c.title}),c.shortcut&&u.jsx(zz,{"data-testid":"document-status-bar-hotkeys",fontSize:1,style:{marginTop:-4,marginBottom:-4},keys:String(c.shortcut).split("+").map(b=>b.slice(0,1).toUpperCase()+b.slice(1).toLowerCase())})]}),[c]);return u.jsxs(U,{align:"center",gap:1,children:[o&&o.footerAction,c&&u.jsx(ru,{zOffset:200,children:u.jsx(gt,{disabled:!v,content:v,placement:"top",children:u.jsx(ee,{children:u.jsx(fe,{"data-testid":`action-${c.label}`,disabled:r||!!c.disabled||g,icon:c.icon,onClick:c.onHandle,ref:p,size:"large",text:c.label,tone:c.tone||"primary"})})})}),i&&d.length>0&&u.jsx(_Vn,{actionStates:d,disabled:r}),c&&c.dialog&&u.jsx(Yq,{dialog:c.dialog,referenceElement:h})]})}),OVn=f.memo(function(){const{actions:e,connectionState:t,documentId:n,editState:r}=Cr(),i=f.useMemo(()=>(e??[]).filter(o=>!Qq(o)),[e]),a=f.useCallback(({states:o})=>u.jsx(lFe,{disabled:t!=="connected",showMenu:i.length>1,states:o},n),[i.length,t,n]);return i.length===0||!r?null:u.jsx(B_,{actions:i,actionProps:r,group:"default",children:a})}),MVn=f.memo(function(){const{actions:e,connectionState:t,editState:n,timelineStore:r}=Cr(),i=va(r,d=>d.revTime),a=(i==null?void 0:i.id)||"",o=((n==null?void 0:n.draft)||(n==null?void 0:n.published)||{})._rev===a,s=f.useMemo(()=>({...n||{},revision:a}),[n,a]),l=f.useMemo(()=>(e??[]).filter(Qq).slice(-1),[e]),c=f.useCallback(({states:d})=>u.jsx(lFe,{disabled:t!=="connected"||!!o,showMenu:!1,states:d}),[t,o]);return u.jsx(B_,{actions:l,actionProps:s,group:"default",children:c})});function Qq(e){return e.action===JM.action}const RVn={create:LT,delete:Kr,discardDraft:Rr,initial:LT,editDraft:Yc,editLive:Yc,publish:ig,unpublish:PC};function PVn(e){return RVn[e]}const FVn=R(ee)`
  max-width: 200px;
`,NVn=R(U)`
  max-height: calc(100vh - 198px);
  min-width: 244px;
`,LVn=R(L)(({$visible:e})=>ce`
    opacity: 0;
    pointer-events: none;

    ${e&&ce`
      opacity: 1;
      pointer-events: auto;
    `}
  `),uFe={initial:"timeline.operation.created-initial",create:"timeline.operation.created",publish:"timeline.operation.published",editLive:"timeline.operation.edited-live",editDraft:"timeline.operation.edited-draft",unpublish:"timeline.operation.unpublished",discardDraft:"timeline.operation.draft-discarded",delete:"timeline.operation.deleted"},$T=R(U)(({theme:e})=>{var t;const n=(t=e.sanity.color.base.skeleton)==null?void 0:t.from;return ce`
    --timeline-hairline-width: 1px;
    position: relative;
    z-index: 2;
    margin: 0;
    padding: 0;

    &::before {
      position: absolute;
      content: '';
      height: 100%;
      width: var(--timeline-hairline-width);
      background: ${n};
      top: 0;
      left: calc((100% - var(--timeline-hairline-width)) / 2);
      z-index: 1;
    }
  `}),BVn=R(St)(({$selected:e,$disabled:t})=>ce`
    position: relative;
    width: 100%;

    /* Line styling */
    &[data-first] ${$T}::before {
      height: 50%;
      top: unset;
      bottom: 0;
    }

    &[data-last] ${$T}::before {
      height: 50%;
    }

    ${e&&ce`
      ${$T}::before {
        background: transparent;
      }
    `}

    ${t&&ce`
      cursor: not-allowed;
    `}
  `),VVn=R(L)`
  background: var(--card-bg-color);
  border-radius: 50px;
  position: relative;
  z-index: 2;
`,zVn=R(L)`
  min-width: 1rem;
  margin-left: ${({theme:e})=>`-${Se(e.sanity.space[1])}`};
`;function UVn({maxLength:e,userIds:t}){return u.jsx(A2,{maxLength:e,children:t.map(n=>u.jsx(sl,{user:n,withTooltip:!0},n))})}const bhe={initial:"primary",create:"primary",publish:"positive",editLive:"caution",editDraft:"caution",unpublish:"critical",discardDraft:"critical",delete:"critical",withinSelection:"primary"};function HVn({chunk:e,isFirst:t,isLast:n,isLatest:r,isSelected:i,onSelect:a,timestamp:o,type:s}){const{t:l}=Y("studio"),c=PVn(s),d=Array.from(e.authors),h=s!=="delete",p=Xl({dateStyle:"medium",timeStyle:"short"}),m=f.useMemo(()=>{const v=new Date(o);return p.format(v)},[o,p]),g=f.useCallback(v=>{v.preventDefault(),v.stopPropagation(),h&&a(e)},[a,e,h]);return u.jsx(BVn,{$selected:i,$disabled:!h,"data-testid":"timeline-item-button","data-chunk-id":e.id,"data-first":t?!0:void 0,"data-last":n?!0:void 0,"data-ui":"timelineItem",mode:i?"default":"bleed",onClick:g,padding:0,radius:2,tone:i?"primary":bhe[e.type],children:u.jsx(L,{paddingX:2,children:u.jsxs(U,{align:"stretch",children:[u.jsx($T,{align:"center",children:u.jsx(VVn,{padding:2,children:u.jsx(N,{size:2,children:c&&f.createElement(c)})})}),u.jsxs(ee,{space:2,margin:2,children:[r&&u.jsx(U,{children:u.jsx(te,{padding:1,radius:2,shadow:1,tone:i?"primary":bhe[e.type],children:u.jsx(N,{muted:!0,size:0,weight:"medium",children:l("timeline.latest")})})}),u.jsx(L,{children:u.jsx(N,{size:1,weight:"medium",children:l(uFe[s])||u.jsx("code",{children:s})})}),u.jsx(zVn,{paddingX:1,children:u.jsx(N,{as:"time",size:0,muted:!0,dateTime:o,children:m})})]}),u.jsx(U,{flex:1,justify:"flex-end",align:"center",children:u.jsx(UVn,{maxLength:3,userIds:d})})]})})})}const j9=({chunks:e,disabledBeforeFirstChunk:t,hasMoreChunks:n,lastChunk:r,onLoadMore:i,onSelect:a,firstChunk:o})=>{const[s,l]=f.useState(!1),{t:c}=Y("studio"),d=f.useMemo(()=>e.filter(m=>t&&o?m.index<o.index:!0),[e,t,o]),h=f.useMemo(()=>r!=null&&r.id?d.findIndex(m=>m.id===r.id):-1,[r==null?void 0:r.id,d]),p=f.useCallback((m,{activeIndex:g})=>{const v=g===0,b=d&&g===d.length-1||!1;return u.jsxs(L,{paddingBottom:b?1:0,paddingTop:v?1:0,paddingX:1,children:[u.jsx(HVn,{chunk:m,isFirst:v,isLast:b,isLatest:g===0&&!t,isSelected:g===h,onSelect:a,timestamp:m.endTimestamp,type:m.type}),g===d.length-1&&n&&u.jsx(wn,{})]})},[t,d,n,a,h]);return f.useEffect(()=>l(!0),[]),u.jsxs(LVn,{$visible:!h||s,"data-ui":"timeline",children:[d.length===0&&u.jsxs(FVn,{padding:3,space:3,children:[u.jsx(N,{size:1,weight:"medium",children:c("timeline.error.no-document-history-title")}),u.jsx(N,{muted:!0,size:1,children:c("timeline.error.no-document-history-description")})]}),d.length>0&&u.jsx(NVn,{direction:"column",children:u.jsx(fd,{activeItemDataAttr:"data-hovered",ariaLabel:c("timeline.list.aria-label"),autoFocus:"list",initialIndex:h,initialScrollAlign:"center",itemHeight:40,items:d,onEndReached:i,onEndReachedIndexOffset:20,overscan:5,renderItem:p,wrapAround:!1})})]})};j9.displayName="Timeline";function WVn(){const{t:e}=Y("studio");return u.jsxs(U,{align:"flex-start",gap:3,padding:4,children:[u.jsx(qr,{tone:"critical",children:u.jsx(Ea,{})}),u.jsxs(ee,{space:4,children:[u.jsx(qr,{size:1,tone:"critical",weight:"medium",children:e("timeline.error.load-document-changes-title")}),u.jsx(qr,{size:1,tone:"critical",children:e("timeline.error.load-document-changes-description")})]})]})}const GVn=R(Fn)`
  overflow: hidden;
  overflow: clip;
`;function cFe({chunk:e,mode:t,placement:n}){const{setTimelineRange:r,setTimelineMode:i,timelineError:a,ready:o,timelineStore:s}=Cr(),[l,c]=f.useState(!1),[d,h]=f.useState(null),p=f.useRef(null),m=Pr(),g=va(s,D=>D.chunks),v=va(s,D=>D.isLoading),b=va(s,D=>D.hasMoreChunks),y=va(s,D=>D.realRevChunk),x=va(s,D=>D.sinceTime),{t:w}=Y("studio"),C=f.useCallback(()=>{i(t),c(!0)},[t,i]),S=f.useCallback(()=>{i("closed"),c(!1)},[i]),_=f.useCallback(D=>{l&&(D.key==="Escape"||D.key==="Tab")&&(S(),d==null||d.focus())},[d,S,l]);Xo(_),yn(l&&S,()=>[d,p.current]);const E=f.useCallback(D=>{try{const[M,O]=s.findRangeForRev(D);i("closed"),r(M,O)}catch(M){m.push({closable:!0,description:M.message,status:"error",title:w("timeline.error.unable-to-load-revision")})}},[i,r,w,s,m]),k=f.useCallback(D=>{try{const[M,O]=s.findRangeForSince(D);i("closed"),r(M,O)}catch(M){m.push({closable:!0,description:M.message,status:"error",title:w("timeline.error.unable-to-load-revision")})}},[i,r,w,s,m]),T=f.useCallback(()=>{v||s.loadMore()},[v,s]),j=a?u.jsx(WVn,{}):u.jsxs(u.Fragment,{children:[t==="rev"&&u.jsx(j9,{chunks:g,firstChunk:y,hasMoreChunks:b,lastChunk:y,onLoadMore:T,onSelect:E}),t==="since"&&u.jsx(j9,{chunks:g,disabledBeforeFirstChunk:!0,firstChunk:y,hasMoreChunks:b,lastChunk:x,onLoadMore:T,onSelect:k})]}),I={timestamp:{dateStyle:"medium",timeStyle:"short"}},A=e?w(uFe[e.type],{context:"timestamp",timestamp:new Date(e==null?void 0:e.endTimestamp),formatParams:I}):w("timeline.latest-revision"),$=e?w("timeline.since",{timestamp:new Date(e==null?void 0:e.endTimestamp),formatParams:I}):w("timeline.since-version-missing");return u.jsx(GVn,{"data-testid":"timeline-menu",constrainSize:!0,content:l&&j,"data-ui":"versionMenu",open:l,placement:n,portal:!0,ref:p,children:u.jsx(fe,{"data-testid":l?"timeline-menu-close-button":"timeline-menu-open-button",disabled:!o,mode:"bleed",iconRight:Ii,onClick:l?S:C,ref:h,selected:l,style:{maxWidth:"100%"},text:o?t==="rev"?A:$:w("timeline.loading-history")})})}function YVn(){const{activeViewId:e,paneKey:t,views:n}=Cr(),r=`${t}tabpanel`;return u.jsx(ub,{space:1,children:n.map((i,a)=>{var o;return u.jsx(qVn,{icon:i.icon,id:`${t}tab-${i.id}`,isActive:e===i.id,label:i.title,tabPanelId:r,viewId:a===0?null:(o=i.id)!=null?o:null},i.id)})})}function qVn(e){const{icon:t,id:n,isActive:r,label:i,tabPanelId:a,viewId:o,...s}=e,{ready:l}=Cr(),{setView:c}=yd(),d=f.useCallback(()=>c(o),[c,o]);return u.jsx(uS,{...s,"aria-controls":a,disabled:!l,icon:t,id:n,label:i,onClick:d,selected:r})}function KVn(){const{connectionState:e,schemaType:t,title:n,value:r}=Cr(),i=!!r&&e!=="connecting",{error:a,value:o}=E_({enabled:i,schemaType:t,value:r}),{t:s}=Y(Ft);return e==="connecting"?u.jsx(u.Fragment,{}):n?u.jsx(u.Fragment,{children:n}):r?a?u.jsx(u.Fragment,{children:s("panes.document-header-title.error.text",{error:a.message})}):u.jsx(u.Fragment,{children:(o==null?void 0:o.title)||u.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:s("panes.document-header-title.untitled.text")})}):u.jsx(u.Fragment,{children:s("panes.document-header-title.new.text",{schemaType:(t==null?void 0:t.title)||(t==null?void 0:t.name)})})}const ZVn=f.memo(f.forwardRef(function(e,t){const{menuItems:n}=e,{actions:r,editState:i,onMenuAction:a,onPaneClose:o,onPaneSplit:s,menuItemGroups:l,schemaType:c,timelineStore:d,connectionState:h,views:p,unstable_languageFilter:m}=Cr(),{features:g}=sm(),{index:v,BackLink:b,hasGroupSiblings:y}=yd(),{actions:x}=GG(),[w,C]=f.useState(null),S=f.useMemo(()=>(r??[]).filter(H=>!Qq(H)),[r]),_=f.useMemo(()=>q3e({actionHandler:a,fieldActions:x,menuItems:n,menuItemGroups:l}),[a,x,l,n]),E=f.useMemo(()=>_.filter(Uq),[_]),k=f.useMemo(()=>_.filter(Y3e),[_]),T=p.length>1,j=va(d,H=>H.revTime),{collapsed:I,isLast:A}=rh(),$=A&&!I?-1:0,D=g.splitViews&&s&&p.length>1,M=D&&y,O=g.backButton&&v>0,F=!M&&!O&&!!b,{t:P}=Y(Ft),V=f.useCallback(({states:H})=>u.jsx(XVn,{contextMenuNodes:k,setReferenceElement:C,referenceElement:w,states:H}),[k,w]);return u.jsx(Xa,{children:u.jsx(ZM,{border:!0,ref:t,loading:h==="connecting",title:u.jsx(KVn,{}),tabs:T&&u.jsx(YVn,{}),tabIndex:$,backButton:O&&u.jsx(fe,{as:b,"data-as":"a",icon:Gy,mode:"bleed",tooltipProps:{content:P("pane-header.back-button.text")}}),subActions:u.jsx(cFe,{chunk:j,mode:"rev",placement:"bottom-end"}),actions:u.jsxs(U,{align:"center",gap:1,children:[m.length>0&&u.jsx(u.Fragment,{children:m.map((H,W)=>f.createElement(H,{key:`language-filter-${W}`,schemaType:c}))}),E.map(H=>u.jsx(G3e,{node:H},H.key)),i&&u.jsx(B_,{actions:S,actionProps:i,group:"paneActions",children:V}),D&&u.jsx(fe,{"aria-label":P("buttons.split-pane-button.aria-label"),icon:$B,mode:"bleed",onClick:s,tooltipProps:{content:P("buttons.split-pane-button.tooltip")}},"split-pane-button"),M&&u.jsx(fe,{icon:Rr,mode:"bleed",onClick:o,tooltipProps:{content:P("buttons.split-pane-close-button.title")}},"close-view-button"),F&&u.jsx(fe,{icon:Rr,mode:"bleed",tooltipProps:{content:P("buttons.split-pane-close-group-button.title")},as:b},"close-view-button")]})})})})),XVn=f.memo(function(e){const{setReferenceElement:t,referenceElement:n,contextMenuNodes:r}=e,i=f.useDeferredValue(e.states);return u.jsx(JVn,{setReferenceElement:t,referenceElement:n,contextMenuNodes:r,states:i})}),JVn=f.memo(function(e){const{states:t,setReferenceElement:n,contextMenuNodes:r,referenceElement:i}=e,a=f.useCallback(({handleAction:o})=>u.jsx("div",{ref:n,children:u.jsx(H3e,{nodes:r,actionsNodes:t.length>0?t.map((s,l)=>u.jsx(sFe,{actionState:s,disabled:!!s.disabled,index:l,onAction:o},s.label)):void 0},"context-menu")}),[r,n,t]);return u.jsx(oFe,{actionStates:t,referenceElement:i,children:a})}),QVn={primary:"primary",success:"positive",warning:"caution",danger:"critical"},ezn=f.memo(function({states:e}){return e.length===0?null:u.jsx(An,{space:1,children:e.map((t,n)=>u.jsx(gt,{content:t.title,disabled:!t.title,placement:"top",portal:!0,children:u.jsx(ro,{fontSize:1,mode:"outline",paddingX:2,paddingY:1,radius:4,tone:t.color?QVn[t.color]:void 0,style:{whiteSpace:"nowrap"},children:t.label})},`${t.label}-${n}`))})}),tzn=f.memo(function(e){const t=f.useDeferredValue(e.states);return u.jsx(ezn,{states:t})});function nzn(){const{badges:e,editState:t}=Cr(),n=f.useCallback(({states:r})=>u.jsx(tzn,{states:r}),[]);return!t||!e?null:u.jsx(J3e,{badges:e,badgeProps:t,children:n})}const rzn=R(Di.path)`
  transform-origin: center;
`,izn=e=>u.jsx(Di.circle,{fill:"none",r:"8",cx:"12.5",cy:"12.5",strokeWidth:"1.2",...e}),azn=e=>u.jsx(rzn,{fill:"none",d:"M14 17.5619L11.5 20.5L14.5 23.0619M11 7.43811L13.5 4.50001L10.5 1.93811",...e}),ozn=e=>u.jsx(Di.path,{d:"M9.5 12.1316L11.7414 14.5L16 10",...e}),szn=Np`
  0% {
    transform: rotate(0);
  }
  100% {
    transform: rotate(360deg);
  }
`,lzn=R.g`
  transform-origin: center;

  &[data-rotate] {
    animation: ${szn} 1s ease-in-out infinite;
  }
`,uzn={syncing:{scale:1,transition:{duration:0}},saved:{scale:[1,.8,1.2,.9,1.1,.95,1.05,.99,1],transition:{duration:.5,delay:.2}},changes:{transition:{duration:0}}},czn={syncing:{strokeDasharray:"0, 0, 23, 3, 23, 3",strokeDashoffset:10,opacity:1,transition:{duration:0}},saved:{strokeDasharray:"0, 0, 23, 0, 23, 0",strokeDashoffset:10,opacity:1,transition:{duration:.2}},changes:{strokeDasharray:"0, 60, 23, 0, 23, 0",strokeDashoffset:0,opacity:0,transition:{duration:.5}}},dzn={syncing:{opacity:1,transition:{duration:0}},saved:{opacity:0,transition:{duration:.2}},changes:{opacity:0}},fzn={syncing:{pathLength:0,transition:{duration:0}},saved:{pathLength:1,transition:{delay:.4,duration:.3}},changes:{pathLength:0,transition:{duration:.2}}};function hzn(e){const{status:t}=e;return t?u.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",stroke:"currentColor",strokeWidth:"1.2","data-sanity-icon":"animated-status-icon",children:u.jsxs(Di.g,{variants:uzn,initial:t,animate:t,children:[u.jsxs(lzn,{"data-rotate":t==="changes"?void 0:"",children:[u.jsx(azn,{variants:dzn,initial:t,animate:t}),u.jsx(izn,{variants:czn,initial:t,animate:t})]}),u.jsx(ozn,{variants:fzn,initial:t,animate:t})]})}):null}const pzn={saved:{i18nKey:"status-bar.document-status-pulse.status.saved.text",tone:"positive"},syncing:{i18nKey:"status-bar.document-status-pulse.status.syncing.text",tone:"default"}},mzn=e=>{const{status:t}=e,{t:n}=Y(Ft);if(t!=="saved"&&t!=="syncing")return null;const r=pzn[t];return u.jsxs(U,{align:"center",gap:2,"data-testid":"pane-footer-document-status-pulse",children:[u.jsx(qr,{size:1,tone:r.tone,children:u.jsx(hzn,{status:t})}),u.jsx(N,{muted:!0,size:1,children:n(r.i18nKey)})]})},gzn=1e3,vzn=3e3;function yzn({singleLine:e}){const{documentId:t,documentType:n,editState:r,value:i}=Cr(),[a,o]=f.useState(null),s=JPe(t,n),l=i==null?void 0:i._updatedAt;return f.useEffect(()=>{if(a==="syncing"&&!s.isSyncing){const c=setTimeout(()=>o("saved"),gzn);return()=>clearTimeout(c)}if(a==="saved"){const c=setTimeout(()=>o(null),vzn);return()=>clearTimeout(c)}},[a,l,s.isSyncing]),f.useLayoutEffect(()=>{o(null)},[t]),f.useLayoutEffect(()=>{s.isSyncing&&o("syncing")},[s.isSyncing,l]),a?u.jsx(mzn,{status:a||void 0}):u.jsx(gt,{content:u.jsx(By,{absoluteDate:!0,draft:r==null?void 0:r.draft,published:r==null?void 0:r.published}),placement:"top",children:u.jsxs(U,{align:"center",gap:3,children:[u.jsx(Wb,{draft:r==null?void 0:r.draft,published:r==null?void 0:r.published}),u.jsx(By,{draft:r==null?void 0:r.draft,published:r==null?void 0:r.published,singleLine:e})]})})}function bzn({element:e,onResize:t}){f.useLayoutEffect(()=>(e&&VS.observe(e,t),()=>{e&&VS.unobserve(e)}),[e,t])}const xzn=480;function wzn(e){const{actionsBoxRef:t}=e,{editState:n,timelineStore:r}=Cr(),i=va(r,h=>h.onOlderRevision),[a,o]=f.useState(null),[s,l]=f.useState(null),c=f.useCallback(h=>{o(h.contentRect.width<xzn)},[]);bzn({element:s,onResize:c});const d=(n==null?void 0:n.ready)&&typeof a=="boolean";return u.jsx(U,{direction:"column",ref:l,sizing:"border",children:d&&u.jsxs(U,{align:"stretch",gap:1,justify:"space-between",paddingY:2,paddingLeft:4,paddingRight:3,children:[u.jsxs(U,{align:"center",flex:1,gap:a?2:3,wrap:"wrap",paddingRight:3,children:[u.jsxs(U,{align:"center",children:[u.jsx(yzn,{singleLine:!a}),u.jsx(A9,{size:"large"})]}),u.jsx(nzn,{})]}),u.jsxs(U,{align:"flex-start",justify:"flex-end",ref:t,style:{flexShrink:0,marginLeft:"auto"},children:[u.jsx(A9,{size:"large"}),i?u.jsx(MVn,{}):u.jsx(OVn,{})]})]})})}const Czn=f.memo(function(e){const{actionsBoxElement:t,activeIndex:n,as:r="div",children:i,id:a,onActionStart:o,onKeyDown:s,rootRef:l,states:c,...d}=e,h=c[n],p=f.useCallback(m=>{const g=c.filter(b=>b.shortcut&&Ki(b.shortcut,m)),v=g[0];if(g.length>1&&console.warn(`Keyboard shortcut conflict: More than one document action matches the shortcut "${v.shortcut}"`),v&&!v.disabled&&v.onHandle){m.preventDefault(),v.onHandle(),o(c.indexOf(v));return}s&&s(m)},[o,s,c]);return f.createElement(r,{id:a,onKeyDown:p,tabIndex:-1,...d,ref:l},[i,h&&h.dialog&&u.jsx(Mf,{zOffset:"paneFooter",children:u.jsx(Yq,{dialog:h.dialog,referenceElement:t})})])}),dFe=f.memo(e=>{const{actionsBoxElement:t,as:n="div",children:r,...i}=e,{actions:a,editState:o}=Cr(),[s,l]=f.useState(-1),c=f.useCallback(p=>{l(p)},[]),d=f.useMemo(()=>o&&{...o,onComplete:()=>{},revision:void 0},[o]),h=f.useCallback(({states:p})=>u.jsx(Czn,{...i,activeIndex:s,actionsBoxElement:t,as:n,onActionStart:c,states:p,children:r}),[t,s,n,r,c,i]);return!d||!a?null:u.jsx(B_,{actionProps:d,actions:a,children:h})});dFe.displayName="Memo(DocumentActionShortcuts)";function Szn({currentInspector:e,hasValue:t,inspectors:n,inspectorMenuItems:r}){return n.map((i,a)=>{var o;const s=r[a];return!s||s.hidden?null:{action:`${E9}${i.name}`,group:s.showAsAction?void 0:"inspectors",icon:s.icon,isDisabled:!t,selected:(e==null?void 0:e.name)===i.name,shortcut:(o=s.hotkeys)==null?void 0:o.join("+"),showAsAction:s.showAsAction,title:s.title,tone:s.tone}}).filter(Boolean)}function _zn({hasValue:e,t}){return{action:"inspect",group:"inspectors",title:t("document-inspector.menu-item.title"),icon:wB,isDisabled:!e,shortcut:"Ctrl+Alt+I"}}function Ezn({previewUrl:e,t}){return e?{action:"production-preview",group:"links",title:t("production-preview.menu-item.title"),icon:g1,shortcut:"Ctrl+Alt+O"}:null}function kzn(e){const t=Szn(e),n=[Ezn(e)].filter(Boolean);return[...t,_zn(e),...n]}const Tzn=e=>yt(e)&&typeof e._id=="string"&&typeof e._type=="string";function fFe(e){const{resolveProductionUrl:t}=Dn().document,n=f.useMemo(()=>new w$(void 0),[]);f.useEffect(()=>{n.next(e)},[n,e]);const r=f.useMemo(()=>n.asObservable().pipe(xr(),CU(500),mt(i=>Tzn(i)?ar(t({document:i})):xe(void 0)),xr(),Cn(i=>{const a=yt(i)&&typeof i.message=="string"?i.message:"Unknown error";throw new Error(`An error was thrown while trying to get your preview url: ${a}`)})),[t,n]);return Jr(r)}function Azn(e){const{documentType:t,value:n,currentMinWidth:r,paneKey:i,minWidth:a}=e,{t:o}=Y();return u.jsx(Q3e,{currentMinWidth:r,flex:2.5,minWidth:a,paneKey:i,title:u.jsx(ht,{t:o,i18nKey:"panes.document-pane.document-unknown-type.title",values:{documentType:t}}),tone:"caution",children:u.jsxs(ee,{space:4,children:[t&&u.jsx(N,{as:"p",children:u.jsx(ht,{t:o,i18nKey:"panes.document-pane.document-unknown-type.text",values:{documentType:t}})}),!t&&u.jsx(N,{as:"p",children:o("panes.document-pane.document-unknown-type.without-schema.text")}),gl]})})}const xhe=[],whe=["fixed","fixed","absolute"],jzn=R(bin)`
  flex: 1;
  display: flex;
  flex-direction: column;
  min-height: 0;
  min-width: 0;
`;function Izn(){const{changesOpen:e,documentId:t,documentType:n,fieldActions:r,focusPath:i,inspectOpen:a,inspector:o,inspectors:s,onFocus:l,onHistoryOpen:c,onMenuAction:d,onPathOpen:h,paneKey:p,schemaType:m,value:g}=Cr(),{features:v}=sm(),{t:b}=cb(Ft),{collapsed:y}=Q0(),x=l3e(),w=fFe(g),[C,S]=f.useState(null),[_,E]=f.useState(null),[k,T]=f.useState(null),[j,I]=f.useState(null),[A,$]=f.useState(null);W4n({element:C,focusPath:i,value:g});const[D,M]=f.useState([]),[O,F]=f.useState([]),P=Ng(_),V=Ng(k),H=P==null?void 0:P.height,W=V==null?void 0:V.height,G=MBn+(o?_9:0),X=OBn+(o?_9:0),z=f.useMemo(()=>s==null?void 0:s.find(Q=>Q.name===(o==null?void 0:o.name)),[s,o==null?void 0:o.name]),q=!!g,Z=f.useMemo(()=>kzn({currentInspector:z,features:v,hasValue:q,inspectorMenuItems:D,inspectors:s,previewUrl:w,t:b}),[z,v,q,D,s,w,b]),K=f.useCallback(Q=>{for(const re of Z)if(re.shortcut&&Ki(re.shortcut,Q)){Q.preventDefault(),Q.stopPropagation(),d(re);return}},[d,Z]),J=f.useCallback(Q=>{h(Q),l(Q)},[h,l]);return m?u.jsxs(vMe,{value:g,children:[s.length>0&&u.jsx(LBn,{documentId:t,documentType:n,inspectors:s,onMenuItems:M}),r.length>0&&m&&u.jsx(b_,{actions:r,documentId:t,documentType:n,onActions:F,path:xhe,schemaType:m}),u.jsx(y_,{actions:O,path:xhe,children:u.jsxs(dFe,{actionsBoxElement:j,as:N_,currentMinWidth:G,"data-testid":"document-pane",flex:2.5,id:p,minWidth:X,onKeyUp:K,rootRef:S,children:[u.jsx(ZVn,{ref:T,menuItems:Z}),u.jsx(EA,{position:whe,zOffset:x.paneDialog,children:u.jsx(U,{direction:"column",flex:1,height:y?void 0:"fill",children:u.jsx(jzn,{"data-testid":"change-connector-root",isReviewChangesOpen:e,onOpenReviewChanges:c,onSetFocus:J,children:u.jsx(vVn,{footerHeight:H||null,headerHeight:W||null,isInspectOpen:a,rootElement:C,setDocumentPanelPortalElement:$})})})}),u.jsx(lb,{__unstable_elements:{[tFe]:A},children:u.jsx(EA,{position:whe,zOffset:x.portal,children:u.jsx(iBn,{ref:E,children:u.jsx(Xa,{children:u.jsx(wzn,{actionsBoxRef:I})})})})}),u.jsx(zBn,{})]})})]}):u.jsx(Azn,{currentMinWidth:G,documentType:n,minWidth:X,paneKey:p,value:g})}function Dzn(e){var t,n;return(n=(t=e.document)==null?void 0:t.components)==null?void 0:n.unstable_layout}function $zn(){return mu({pick:Dzn,defaultComponent:Izn})}function Ozn(e,t){const n=t.panePayload||{},r=t.templateName;t.urlTemplate&&r&&r!==t.urlTemplate&&console.warn(`Conflicting templates: URL says "${t.urlTemplate}", structure node says "${r}". Using "${r}".`);const i=r||t.urlTemplate,a=e.filter(l=>l.schemaType===t.documentType),o={...t.templateParams,...typeof n=="object"?n||{}:{}};let s=i;return!i&&a.length===1&&(s=a[0].id),{templateName:s,templateParams:o}}const eK=f.memo(e=>{const{children:t,index:n,pane:r,paneKey:i,onFocusPath:a}=e,o=en(),s=nx(),{setDocumentMeta:l}=UM(),{__internal_tasks:c,document:{actions:d,badges:h,unstable_fieldActions:p,unstable_languageFilter:m,inspectors:g}}=Dn(),v=VY(),b=yd(),y=b.setParams,{features:x}=sm(),{push:w}=Pr(),{options:C,menuItemGroups:S=FBn,title:_=null,views:E=[]}=r,k=Ha(C),T=k.id,j=fn(T),I=C.type,A=Ha(b.params)||PBn,$=Ha(b.payload),{templateName:D,templateParams:M}=f.useMemo(()=>Ozn(s,{documentType:I,templateName:k.template,templateParams:k.templateParameters,panePayload:$,urlTemplate:A.template}),[I,k,A,$,s]),O=pwn({documentId:j,documentType:I,templateName:D,templateParams:M}),F=Ha(O),{patch:P}=bu(j,I),V=HM(j,I),{validation:H}=ex(j,I),W=GPe(j,I),G=o.get(I),X=(V==null?void 0:V.draft)||(V==null?void 0:V.published)||F.value,[z,q]=f.useState(!1),Z=f.useMemo(()=>d({schemaType:I,documentId:j}),[d,j,I]),K=f.useMemo(()=>h({schemaType:I,documentId:j}),[h,j,I]),J=f.useMemo(()=>m({schemaType:I,documentId:j}),[j,I,m]),Q=Ha(H),re=Ha(E),[ae,ne]=f.useState(()=>A.path?el(A.path):cn),se=f.useRef([]),le=A.view||re[0]&&re[0].id||null,[oe,ge]=f.useState("closed"),[_e,Me]=f.useState(null);f.useEffect(()=>{A.prefersLatestPublished&&V.published&&y({...Pa(A,"prefersLatestPublished"),rev:`${V.published._updatedAt}/${V.published._rev}`})},[V,y,A]);const me=wCn({documentId:j,documentType:I,onError:Me,rev:A.rev,since:A.since}),ye=va(me,ot=>ot.onOlderRevision),De=va(me,ot=>ot.revTime),be=va(me,ot=>ot.sinceAttributes),he=va(me,ot=>ot.timelineDisplayed),ve=va(me,ot=>ot.timelineReady),Ce=va(me,ot=>ot.isPristine),Te=f.useMemo(()=>ve?!(V!=null&&V.draft)&&!(V!=null&&V.published)&&!Ce:!1,[V==null?void 0:V.draft,V==null?void 0:V.published,Ce,ve]),Ge=fFe(X),[Je,tt]=f.useState([]);f.useEffect(()=>{const ot=v.documentPresence(j).subscribe(En=>{tt(En)});return()=>{ot.unsubscribe()}},[j,v]);const Ne=f.useMemo(()=>g({documentId:j,documentType:I}),[j,I,g]),[Fe,lt]=f.useState(()=>A.inspect||null),Dt=f.useRef(A.inspect);f.useEffect(()=>{Dt.current!==A.inspect&&(Dt.current=A.inspect,lt(A.inspect||null))},[A.inspect]);const Be=Ne==null?void 0:Ne.find(ot=>ot.name===Fe),ct=Ne.find(ot=>ot.name===k9),Ct=(Be==null?void 0:Be.name)===k9,{t:Ke}=Y(Ft),rn=A.inspect==="on",Nr=Ct?be:(V==null?void 0:V.published)||null,Sr=f.useMemo(()=>G?p({documentId:j,documentType:I,schemaType:G}):[],[j,I,p,G]),bn=W==="connected"&&V.ready&&(ve||!!_e),_t=f.useMemo(()=>ye?he||{_id:X._id,_type:X._type}:X,[ye,he,X]),ze=f.useCallback((ot,En)=>{y({...A,since:ot,rev:En||void 0})},[A,y]),Lt=f.useCallback(ot=>{sR.current||(ne(cn),se.current!==cn&&(se.current=cn,a==null||a(cn)))},[a,ne]),hn=f.useRef(()=>{throw new Error("Nope")});hn.current=ot=>{P.execute(KMe(ot.patches),F.value)};const an=f.useCallback(ot=>hn.current(ot),[]),ti=f.useCallback(ot=>{var En,_r,Mo,wd;const Cd=ot&&Ne.find(oo=>oo.name===ot);if(ot&&!Cd){console.warn(`No inspector named "${ot}"`);return}if(Be){if(Cd){const oo=(_r=(En=Cd.onClose)==null?void 0:En.call(Cd,{params:A}))!=null?_r:{params:A};lt(null),Dt.current=void 0,y({...oo.params,inspect:void 0});return}if(Be){const oo=(wd=(Mo=Be.onClose)==null?void 0:Mo.call(Be,{params:A}))!=null?wd:{params:A};lt(null),Dt.current=void 0,y({...oo.params,inspect:void 0})}}},[Be,Ne,A,y]),Ci=f.useCallback((ot,En)=>{var _r,Mo,wd,Cd;const oo=Ne.find(qFe=>qFe.name===ot);if(!oo){console.warn(`No inspector named "${ot}"`);return}if((Be==null?void 0:Be.name)===oo.name){y({...A,...En,inspect:oo.name});return}let sx=A;Be&&(sx=((Mo=(_r=oo.onClose)==null?void 0:_r.call(oo,{params:sx}))!=null?Mo:{params:sx}).params);const YFe=(Cd=(wd=oo.onOpen)==null?void 0:wd.call(oo,{params:sx}))!=null?Cd:{params:sx};lt(oo.name),Dt.current=oo.name,y({...YFe.params,...En,inspect:oo.name})},[Be,Ne,A,y]),ca=f.useCallback(()=>{ct&&ti(ct.name)},[ti,ct]),ao=f.useCallback(()=>{x.reviewChanges&&ct&&Ci(ct.name)},[x.reviewChanges,Ci,ct]),bl=f.useCallback(()=>b.closeCurrent(),[b]),lm=f.useCallback(()=>b.duplicateCurrent(),[b]),bd=f.useCallback((ot=!rn)=>{y(ot?{...A,inspect:"on"}:Pa(A,"inspect"))},[rn,A,y]),ax=f.useCallback(ot=>{if(ot.action==="production-preview"&&Ge)return window.open(Ge),!0;if(ot.action==="inspect")return bd(!0),!0;if(ot.action==="reviewChanges")return ao(),!0;if(typeof ot.action=="string"&&ot.action.startsWith(E9)){const En=ot.action.slice(E9.length),_r=Ne.find(Mo=>Mo.name===En);if(_r)return _r.name===Fe?ti(_r.name):Ci(_r.name),!0}return!1},[ti,ao,Fe,Ne,Ci,Ge,bd]),ih=f.useCallback(()=>bd(!1),[bd]),[xd,ox]=f.useState([]),[zFe,fK]=f.useState(),[iR,hK]=f.useState(),[aR,pK]=f.useState(),mK=f.useCallback((ot,En)=>{hK(_r=>Cc(_r,ot,En))},[]),gK=f.useCallback((ot,En)=>{pK(_r=>Cc(_r,ot,En))},[]),vK=f.useCallback((ot,En)=>fK(_r=>Cc(_r,ot,En)),[]),UFe=X._createdAt?"update":"create",yK=!!(G!=null&&G.liveEdit),oR=X._id?X._id:"dummy-id",HFe=f.useMemo(()=>({...X,_id:yK?fn(oR):la(oR)}),[yK,X,oR]),[nv,W_]=Cwn({document:HFe,permission:UFe}),bK=!(X!=null&&X._id),WFe=f.useMemo(()=>{var ot;const En=!W_&&!(nv!=null&&nv.granted),_r=!yte(G,"update"),Mo=bK&&!yte(G,"create"),wd=W==="reconnecting",Cd=(ot=V.transactionSyncLock)==null?void 0:ot.enabled;return!bn||De!==null||En||_r||Mo||wd||Cd||z||Te},[W,V.transactionSyncLock,bK,Te,z,W_,nv==null?void 0:nv.granted,bn,De,G]),G_=HMe(G,{value:_t,readOnly:WFe,comparisonValue:Nr,focusPath:ae,openPath:xd,collapsedPaths:iR,presence:Je,validation:Q,collapsedFieldSets:aR,fieldGroupState:zFe,changesOpen:Ct});f.useEffect(()=>{l({documentId:j,documentType:I,schemaType:G,onChange:an})},[j,I,G,an,l]);const Y_=f.useRef(G_);Y_.current=G_;const rv=f.useCallback(ot=>{Lkn(Y_.current,ot).forEach(En=>{En.type==="expandPath"&&hK(_r=>Cc(_r,En.path,!1)),En.type==="expandFieldSet"&&pK(_r=>Cc(_r,En.path,!1)),En.type==="setSelectedGroup"&&fK(_r=>Cc(_r,En.path,En.groupName))}),ox(ot)},[Y_]),xK=f.useCallback((ot,En)=>{v.setLocation([{type:"document",documentId:j,path:ot,lastActiveAt:new Date().toISOString(),selection:En==null?void 0:En.selection}])},[j,v]),wK=f.useMemo(()=>xb(xK,1e3,{leading:!0,trailing:!0}),[xK]),CK=f.useCallback((ot,En)=>{ne(ot),_g(se.current,ot)||(rv(ot.slice(0,-1)),se.current=ot,a==null||a(ot)),wK(ot,En)},[a,rv,wK]),GFe=f.useMemo(()=>({actions:Z,activeViewId:le,badges:K,changesOpen:Ct,closeInspector:ti,collapsedFieldSets:aR,collapsedPaths:iR,compareValue:Nr,connectionState:W,displayed:_t,documentId:j,documentIdRaw:T,documentType:I,editState:V,fieldActions:Sr,focusPath:ae,inspector:Be||null,inspectors:Ne,__internal_tasks:c,onBlur:Lt,onChange:an,onFocus:CK,onPathOpen:rv,onHistoryClose:ca,onHistoryOpen:ao,onInspectClose:ih,onMenuAction:ax,onPaneClose:bl,onPaneSplit:lm,onSetActiveFieldGroup:vK,onSetCollapsedPath:mK,onSetCollapsedFieldSet:gK,openInspector:Ci,openPath:xd,index:n,inspectOpen:rn,validation:Q,menuItemGroups:S||[],paneKey:i,previewUrl:Ge,ready:bn,schemaType:G,isPermissionsLoading:W_,permissions:nv,setTimelineMode:ge,setTimelineRange:ze,setIsDeleting:q,isDeleting:z,isDeleted:Te,timelineError:_e,timelineMode:oe,timelineStore:me,title:_,value:X,views:re,formState:G_,unstable_languageFilter:J}),[c,Z,le,K,Ct,ti,aR,iR,Nr,W,Be,_t,j,T,I,V,Sr,ae,G_,Lt,an,CK,ca,ao,ih,ax,gK,mK,bl,lm,vK,n,rn,Ne,Te,z,W_,J,S,Ci,xd,i,nv,Ge,bn,G,rv,ze,_e,oe,me,_,Q,X,re]);f.useEffect(()=>{W==="reconnecting"&&w({id:"sanity/structure/reconnecting",status:"warning",title:Ke("panes.document-pane-provider.reconnecting.title")})},[W,w,Ke]);const sR=f.useRef(!1);return f.useEffect(()=>{var ot;if(bn&&A.path){const{path:En,..._r}=A,Mo=P4e((ot=Y_.current)==null?void 0:ot.value,el(En));sR.current=!0,_g(se.current,Mo)||(ne(Mo),rv(Mo),se.current=Mo,a==null||a(Mo));const wd=setTimeout(()=>{sR.current=!1},0);return b.setParams(_r),()=>clearTimeout(wd)}},[A,j,a,rv,bn,b]),u.jsx(zpe.Provider,{value:GFe,children:t})});eK.displayName="Memo(DocumentPaneProvider)";const hFe=f.memo(function(e){const{name:t}=Dn();return u.jsx(gM,{name:e.pane.source||t,children:u.jsx(s4n,{children:u.jsx(Mzn,{...e})})})});function Mzn(e){var t;const{pane:n,paneKey:r}=e,{resolveNewDocumentOptions:i}=Dn().document,a=yd(),o=Rzn(n.options,a.params),{documentType:s,isLoaded:l}=fwn(o.id,o.type),c=$zn(),d=f.useMemo(()=>i({type:"document",documentId:o.id,schemaType:o.type}),[o.id,o.type,i]),[h,p]=NY({templateItems:d}),m=l&&!p,g=f.useMemo(()=>m&&s&&o.type!==s?Pzn(e,o,s):e,[e,s,m,o]),{ReferenceChildLink:v,handleEditReference:b,groupIndex:y,routerPanesState:x}=a,w=((t=x[y+1])==null?void 0:t[0].params)||{},C=x.length,{parentRefPath:S}=w,_=f.useMemo(()=>S?{path:el(S),state:y>=C-1?"none":y>=C-2?"selected":"pressed"}:{path:[],state:"none"},[S,y,C]),{t:E}=Y(Ft);return o.type==="*"&&!m?u.jsx(Hq,{flex:2.5,minWidth:320,paneKey:r,title:E("panes.document-pane.document-not-found.loading")}):s?u.jsx(eK,{...g,children:u.jsx(zun,{EditReferenceLinkComponent:v,onEditReference:b,initialValueTemplateItems:h,activePath:_,children:u.jsx(jBn,{documentId:o.id,documentType:o.type,children:u.jsx(c,{documentId:o.id,documentType:o.type})})})},`${s}-${o.id}`):u.jsx(Q3e,{flex:2.5,minWidth:320,paneKey:r,title:E("panes.document-pane.document-not-found.title"),children:u.jsx(ee,{space:4,children:u.jsx(N,{as:"p",children:u.jsx(ht,{t:E,i18nKey:"panes.document-pane.document-not-found.text",values:{id:o.id},components:{Code:({children:k})=>u.jsx("code",{children:k})}})})})})}function Rzn(e,t={}){const n=nx();return f.useMemo(()=>{if(e.type&&e.type!=="*")return e;const r=e.template||t.template,i=r?n.find(o=>o.id===r):void 0,a=i==null?void 0:i.schemaType;return a?{...e,type:a}:e},[e,t.template,n])}function Pzn(e,t,n){return{...e,pane:{...e.pane,options:{...t,type:n}}}}const Che=100,I9=2e3,pFe={by:[{field:"_updatedAt",direction:"desc"}]},mFe={},Fzn=R(L)`
  position: relative;
`,Nzn=R(L)`
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
`,Lzn=[...Array(30).keys()];function Bzn(e){const{layout:t}=e;return u.jsx(ee,{paddingX:3,paddingY:2,paddingTop:0,space:1,children:Lzn.map(n=>u.jsx(to,{isPlaceholder:!0,layout:t},n))})}function Vzn(e){const{childItemId:t,error:n,filterIsSimpleTypeConstraint:r,hasMaxItems:i,hasSearchQuery:a,isActive:o,isLazyLoading:s,isLoading:l,items:c,layout:d,loadingVariant:h,onListChange:p,onRetry:m,paneTitle:g,searchInputElement:v,showIcons:b}=e,y=en(),{collapsed:x}=Q0(),{collapsed:w,index:C}=rh(),[S,_]=f.useState(!1),{t:E}=Y(Ft),k=f.useCallback(()=>{l||s||!S||p()},[s,l,p,S]);f.useEffect(()=>{if(w)return;const A=setTimeout(()=>{_(!0)},0);return()=>{clearTimeout(A)}},[w,c]);const T=f.useCallback((A,{activeIndex:$})=>{const D=fn(A._id),M=t===D,O=!o&&M,F=o&&M,P=$===c.length-1,V=P&&s,H=P&&i;return u.jsxs(u.Fragment,{children:[u.jsx(X3e,{icon:b===!1?!1:void 0,id:D,layout:d,marginBottom:1,pressed:O,schemaType:y.get(A._type),selected:F,value:A}),V&&u.jsx(wn,{}),H&&u.jsx(L,{marginY:1,paddingX:3,paddingY:4,children:u.jsx(N,{align:"center",muted:!0,size:1,children:E("panes.document-list-pane.max-items.text",{limit:I9})})})]})},[t,o,c.length,d,y,b,i,s,E]),j=f.useMemo(()=>a?u.jsx(U,{align:"center",direction:"column",height:"fill",justify:"center",children:u.jsx(si,{width:1,children:u.jsx(L,{paddingX:4,paddingY:5,children:u.jsx(N,{align:"center",muted:!0,children:E("panes.document-list-pane.no-documents.text")})})})}):u.jsx(U,{align:"center",direction:"column",height:"fill",justify:"center",children:u.jsx(si,{width:1,children:u.jsx(L,{paddingX:4,paddingY:5,children:u.jsx(N,{align:"center",muted:!0,children:E(r?"panes.document-list-pane.no-documents-of-type.text":"panes.document-list-pane.no-matching-documents.text")})})})}),[r,a,E]),I=f.useMemo(()=>{if(!S)return null;if(n)return u.jsx(U,{align:"center",direction:"column",height:"fill",justify:"center",children:u.jsx(si,{width:1,children:u.jsxs(ee,{paddingX:4,paddingY:5,space:4,children:[u.jsx(zi,{as:"h3",children:E("panes.document-list-pane.error.title")}),u.jsx(N,{as:"p",children:u.jsx(ht,{t:E,i18nKey:"panes.document-list-pane.error.text",values:{error:n.message},components:{Code:({children:$})=>u.jsx("code",{children:$})}})}),m&&u.jsx(L,{children:u.jsx(fe,{icon:g0,onClick:m,text:E("panes.document-list-pane.error.retry-button.text"),tone:"primary"})})]})})});if(!l&&c.length===0)return j;if(h==="initial"&&l)return u.jsx(z3e,{ms:300,children:u.jsx(Bzn,{layout:d})});if(h==="spinner"&&l)return null;const A=`${C}-${w}`;return u.jsx(Fzn,{overflow:"hidden",height:"fill",children:u.jsx(Nzn,{children:u.jsx(fd,{activeItemDataAttr:"data-hovered",ariaLabel:g,canReceiveFocus:!0,inputElement:v,itemHeight:51,items:c,onEndReached:k,onlyShowSelectionWhenActive:!0,overscan:10,paddingBottom:1,paddingX:3,renderItem:T,wrapAround:!1},A)})})},[w,n,k,C,l,c,d,h,m,T,v,S]);return u.jsx(L_,{"data-testid":"document-list-pane",overflow:x||h==="initial"?"hidden":"auto",children:I})}function zzn(e){return YO(e).map(t=>({...t.draft||t.published,hasPublished:!!t.published,hasDraft:!!t.draft}))}function Uzn(e,t){const n=e.by.map(r=>{if(r.mapWith)return r;const i=Hzn(t,r.field);return i?Gzn(i,"datetime")?{...r,mapWith:"dateTime"}:i.jsonType==="string"?{...r,mapWith:"lower"}:r:r});return n.every((r,i)=>r===e.by[i])?e:{...e,by:n}}function Hzn(e,t){const n=el(t);let r=e;for(const i of n){if(!r)return;if(typeof i=="string"){r=Wzn(r,i);continue}if(!(Pn(i)||Cs(i))||r.jsonType!=="array")return;const[a,o]=r.of||[];if(o||!a)return;if(!Zs(a)){r=a;continue}const[s,l]=a.to||[];if(l||!s)return;r=s}return r}function Wzn(e,t){if(!("fields"in e))return;const n=e.fields.find(r=>r.name===t);return n?n.type:void 0}function Gzn(e,t){let n=e.type;for(;n;){if(n.name===t||!n.type&&n.jsonType===t)return!0;n=n.type}return!1}function Vv(e){switch(e.type){case"OpCall":{const{left:t,right:n}=e;switch(e.op){case"==":return t.type==="AccessAttribute"&&t.name==="_type"&&!t.base?n.type!=="Value"||typeof n.value!="string"?null:new Set([n.value]):n.type==="AccessAttribute"&&n.name==="_type"&&!n.base?t.type!=="Value"||typeof t.value!="string"?null:new Set([t.value]):null;case"in":{if(t.type!=="AccessAttribute"||t.name!=="_type"||t.base||n.type!=="Array")return null;const r=new Set;for(const i of n.elements){if(i.isSplat||i.value.type!=="Value"||typeof i.value.value!="string")return null;r.add(i.value.value)}return r.size?r:null}default:return null}}case"Group":return Vv(e.base);case"Or":{const t=Vv(e.left);if(!t)return null;const n=Vv(e.right);return n?new Set([...t,...n]):null}case"And":{const t=Vv(e.left),n=Vv(e.right);return!t&&!n?null:new Set([...t||[],...n||[]])}default:return null}}function tK(e,t={}){try{const n=Vv(dH(e,{params:t}));return n?Array.from(n).sort():null}catch{return null}}const Yzn=["_id","_type","_createdAt","_updatedAt","_rev"];function D9(e,t,n=!1){const[r,...i]=t;if(!("fields"in e))return"";const a=e.fields.find(l=>l.name===r);if(!a){if(!Yzn.includes(r)){const l=`The current ordering config targeted the nonexistent field "${r}" on schema type "${e.name}". It should be one of ${e.fields.map(c=>c.name).join(", ")}`;if(n)throw new Error(l);console.warn(l)}return""}if("to"in a.type&&a.type.name==="reference"){const l=a.type.to;return`${r}->{${l.map(c=>D9(c,i)).join(",")}}`}const o=i.length>0&&D9(a.type,i),s=o?`{${o}}`:"";return i.length>0?`${r}${s}`:r}function gFe(e,t,n=!1){return t.map(r=>D9(e,r.field.split("."),n)).join(", ")}function qzn(e){const{client:t,schema:n,sort:r,limit:i,params:a,filter:o,searchQuery:s,staticTypeNames:l,maxFieldDepth:c,enableLegacySearch:d}=e,h=r.by,p=r==null?void 0:r.extendedProjection,m=na(()=>t.listen(`*[${o}]`,a,{events:["welcome","mutation","reconnect"],includeResult:!1,visibility:"query"})).pipe(It((b,y)=>y===0&&b.type!=="welcome"?kp(()=>new Error(b.type==="reconnect"?"Could not establish EventSource connection":`Received unexpected type of first event "${b.type}"`)):xe(b)),Yo()),[g,v]=xU(m,b=>b.type==="welcome");return Mn(g.pipe($a(1)),v.pipe(fS(1e3,au,{leading:!0,trailing:!0}))).pipe(kG(b=>(l?xe(l):t.observable.fetch(`array::unique(*[${o}][]._type)`,a)).pipe(It(y=>{const x=DDe(n,l||[]).filter(S=>y.includes(S.name)?(gFe(S,r.by,!0),!0):!1),w=uM(x,t,{filter:o,params:a,enableLegacySearch:d,maxDepth:c}),C=()=>w({query:s||"",types:x},{__unstable_extendedProjection:p,comments:[`findability-source: ${s?"list-query":"list"}`],limit:i,skipSortByScore:!0,sort:h}).pipe(de(S=>S.hits.map(({hit:_})=>_)));return b.type==="mutation"&&b.visibility!=="query"?vi(1200).pipe(It(C)):C()}))))}const Kzn=[],She={error:null,onRetry:void 0,result:null},Zzn={result:null,error:null};function Xzn(e){const{filter:t,params:n,sortOrder:r,searchQuery:i,apiVersion:a}=e,o=Zt({...Gt,apiVersion:a||Gt.apiVersion}),{enableLegacySearch:s=!1}=Fr().search,l=en(),c=cM(),[d,h]=f.useState(She),{onRetry:p,error:m,result:g}=d,v=g==null?void 0:g.documents,b=f.useMemo(()=>v?zzn(v):Kzn,[v]),[y,x]=f.useState(!1),[w,C]=f.useState(!1),[S,_]=f.useState(!1),E=f.useMemo(()=>tK(t,n),[t,n]),k=g===null&&!m,T=(v==null?void 0:v.length)===I9,j=f.useCallback(()=>{k||w||S||_(!0)},[k,w,S]),I=f.useCallback(D=>{var M,O;if(D.error){h(D);return}const F=((O=(M=D.result)==null?void 0:M.documents)==null?void 0:O.length)||0;if(!D.error&&(D==null?void 0:D.result)===null&&S){x(!0);return}if(F<Che&&F!==0&&!S&&C(!0),(D==null?void 0:D.result)===null){h(P=>({...P.error?D:P}));return}x(!1),h(D)},[S]),A=f.useMemo(()=>{const D=new Mr,M=()=>D.next();return qzn({client:o,filter:t,limit:S?I9:Che,params:n,schema:l,searchQuery:i||"",sort:r||pFe,staticTypeNames:E,maxFieldDepth:c,enableLegacySearch:s}).pipe(de(O=>({result:{documents:O},error:null})),Vi(Zzn),Cn(O=>O instanceof ProgressEvent?kp(()=>new Error("Request error")):kp(()=>O)),Cn((O,F)=>Ai(xe({result:null,error:O}),Mn(Io(window,"online"),D).pipe($a(1),It(()=>F)))),il((O,F)=>({...O,...F,onRetry:M})))},[S,r,o,t,n,l,i,E,c,s]);f.useEffect(()=>{const D=A.subscribe(I);return()=>{D.unsubscribe()}},[I,A]);const $=f.useCallback(()=>{C(!1),x(!1),h(She),_(!1)},[]);return f.useEffect(()=>{$()},[$,t,n,r,i]),{error:m,hasMaxItems:T,isLazyLoading:y,isLoading:k,isSearchReady:!m,items:b,onListChange:j,onRetry:p}}const Jzn=Np`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Qzn=R(Zy)`
  animation: ${Jzn} 500ms linear infinite;
`,eUn=f.memo(function(e){const{childItemId:t,isActive:n,pane:r,paneKey:i,sortOrder:a,layout:o}=e,s=en(),{displayOptions:l,options:c}=r,{apiVersion:d,filter:h}=c,p=CFe(c.params||mFe),m=f.useMemo(()=>{const G=tK(h,p);return(G==null?void 0:G.length)===1?G[0]:null},[h,p]),g=(l==null?void 0:l.showIcons)!==!1,{t:v}=Y(Ft),{title:b}=hd(r),[y,x]=f.useState(""),[w,C]=f.useState(""),[S,_]=f.useState(null),E=f.useRef(!1),k=m&&a?Uzn(a,s.get(m)):a,T=Ha(k),{error:j,hasMaxItems:I,isLazyLoading:A,isLoading:$,isSearchReady:D,items:M,onListChange:O,onRetry:F}=Xzn({apiVersion:d,filter:h,params:p,searchQuery:y==null?void 0:y.trim(),sortOrder:T}),P=A$(G=>G.pipe(de(X=>X.target.value),Qn(C),wU(X=>X===""?xe(""):vi(300)),Qn(x))),V=f.useCallback(()=>{x(""),C("")},[]),H=f.useCallback(G=>{G.key==="Escape"&&V()},[V]);f.useEffect(()=>(E.current===!1&&!$&&(E.current=!0),()=>{E.current=!1}),[$]),f.useEffect(()=>{V(),E.current=!1},[i,V]);const W=f.useMemo(()=>$&&M.length===0&&E.current?"spinner":"initial",[$,M.length]);return u.jsxs(u.Fragment,{children:[u.jsx(L,{paddingX:3,paddingBottom:3,children:u.jsx(Zr,{"aria-label":v("panes.document-list-pane.search-input.aria-label"),autoComplete:"off",border:!1,clearButton:!!y,disabled:!D,fontSize:[2,2,1],icon:W==="spinner"?Qzn:Ca,onChange:P,onClear:V,onKeyDown:H,padding:2,placeholder:v("panes.document-list-pane.search-input.placeholder"),radius:2,ref:_,spellCheck:!1,value:w})}),u.jsx(Vzn,{childItemId:t,error:j,filterIsSimpleTypeConstraint:!!m,hasMaxItems:I,hasSearchQuery:!!y,isActive:n,isLazyLoading:A,isLoading:$,items:M,layout:o,loadingVariant:W,onListChange:O,onRetry:F,paneTitle:b,searchInputElement:S,showIcons:g},i)]})}),vFe=f.memo(({contentAfter:e,index:t,initialValueTemplates:n=[],menuItemGroups:r=[],menuItems:i=[],setLayout:a,setSortOrder:o,title:s})=>{const{features:l}=sm(),{collapsed:c,isLast:d}=rh(),h=d&&!c?-1:0,p=f.useMemo(()=>({setLayout:({layout:m})=>{a(m)},setSortOrder:m=>{o(m)}}),[a,o]);return u.jsx(Xa,{children:u.jsx(ZM,{actions:u.jsx(Z3e,{initialValueTemplateItems:n,actionHandlers:p,menuItemGroups:r,menuItems:i}),backButton:l.backButton&&t>0&&u.jsx(fe,{as:L3e,"data-as":"a",icon:Gy,mode:"bleed",tooltipProps:{content:"Back"}}),contentAfter:e,tabIndex:h,title:s})})});vFe.displayName="Memo(PaneHeader)";function tUn(e){const{row:t,table:n}=e,{selectedAnchor:r,setSelectedAnchor:i}=n.options.meta||{},a=f.useCallback(o=>{if(o.shiftKey&&r!==null&&r!==void 0){const s=t.index,l=s<r?s:r,c=s<r?r:s,d=n.getRowModel().flatRows.slice(l,c+1).map(({id:p})=>p),h=n.getSelectedRowModel().rows.map(({id:p})=>p);n.setRowSelection(()=>[...d,...h].reduce((p,m)=>({...p,[m]:!0}),{}))}else if(i){const s=t.getIsSelected();i(s?null:t.index),t.toggleSelected()}},[r,t,i,n]);return u.jsx(Gp,{style:{paddingLeft:4},checked:e.row.getIsSelected(),disabled:!e.row.getCanSelect(),onChange:()=>null,onClick:a})}const nUn=()=>{const e=f.useContext(Upe);if(e===void 0)throw new Error("useDocumentSheetListContext must be used within an DocumentSheetListProvider");return e};function rUn({children:e,table:t}){const[n,r]=f.useState(null),[i,a]=f.useState([]),o=f.useCallback((w=null)=>{(n==null?void 0:n.state)==="focused"&&document.activeElement instanceof HTMLElement&&document.activeElement.blur(),r(w),a([])},[n]),s=f.useCallback(()=>o(),[o]),l=f.useCallback(w=>{if(!n)return;const C=t.getVisibleLeafColumns(),S=C.findIndex(_=>_.id===n.colId)+(w==="left"?-1:1);S<0||S>=C.length||o({colId:C[S].id,rowIndex:n.rowIndex,state:"selected"})},[o,n,t]),c=f.useCallback(w=>{n&&a(C=>{const{rowIndex:S}=n,_=T=>T+(w==="down"?1:-1);if(!C.length){const T=_(S);return T<0?[]:[T]}const E=C[C.length-1],k=_(E);return k<0?C:k===S?[]:C.includes(k)?C.slice(0,-1):[...C,k]})},[n]),d=f.useCallback((w,C)=>{o({colId:w,rowIndex:C,state:"selected"})},[o]),h=f.useCallback(()=>{if(n)if(i.length)a([]);else{const w=n.state==="selected"?null:{...n,state:"selected"};o(w)}},[o,n,i.length]),p=f.useCallback((w,C)=>{if(!n)return;const S=C==="ArrowDown"?"down":"up",_=S==="down"?1:-1;if(w)c(S);else{const E=n.rowIndex+_;if(E<0)return;d(n.colId,E)}},[c,n,d]),m=f.useCallback(w=>{if(!n)return;const{key:C,shiftKey:S}=w;switch(C){case"Shift":break;case"Escape":h();break;case"ArrowDown":case"ArrowUp":w.preventDefault(),p(S,C);break;case"ArrowLeft":case"ArrowRight":n.state==="selected"&&(w.preventDefault(),l(C==="ArrowLeft"?"left":"right"));break}},[n,h,p,l]),g=f.useCallback(w=>{var C;n&&((C=document.getElementById(`cell-${n.colId}-${n.rowIndex}`))!=null&&C.contains(w.target)||s())},[s,n]);f.useEffect(()=>(n&&(document.addEventListener("keydown",m),document.addEventListener("click",g)),()=>{n&&(document.removeEventListener("keydown",m),document.removeEventListener("click",g))}),[g,m,n]);const v=f.useCallback(()=>r(w=>w?{...w,state:"focused"}:null),[]),b=f.useCallback((w,C)=>(n==null?void 0:n.colId)!==w?null:n.rowIndex===C?n.state==="focused"?"focused":"selectedAnchor":i.includes(C)?"selectedRange":null,[n,i]),y=f.useCallback(()=>{n&&o({colId:n.colId,rowIndex:n.rowIndex+1,state:"selected"})},[o,n]),x=f.useMemo(()=>({focusAnchorCell:v,resetFocusSelection:s,setSelectedAnchorCell:d,getStateByCellId:b,submitFocusedCell:y}),[v,s,d,b,y]);return u.jsx(Upe.Provider,{value:x,children:e})}const yFe=R.td`
  display: flex;
  overflow: hidden;
  box-sizing: border-box;
  width: ${({width:e})=>e}px;
  border-top: 1px solid var(--card-border-color);
  background-color: var(--card-bg-color);
`,iUn=R(yFe)`
  position: sticky;
  z-index: 2;
`;function aUn(e){const{getValue:t,column:n,row:r,fieldType:i}=e,a=`cell-${n.id}-${r.index}`,[o,s]=f.useState(t()),[l,c]=f.useState(!1),d=f.useRef(null),{focusAnchorCell:h,resetFocusSelection:p,setSelectedAnchorCell:m,getStateByCellId:g,submitFocusedCell:v}=nUn(),b=g(n.id,r.index),y=f.useCallback(()=>{m(n.id,r.index),h()},[n.id,h,r.index,m]),{patchDocument:x}=e.table.options.meta||{},w=()=>{var A;(A=d.current)==null||A.focus(),d.current instanceof HTMLInputElement&&d.current.select()},C=A=>{A.detail===2?w():(A.preventDefault(),m(n.id,r.index))},S=f.useCallback(A=>{const{key:$}=A;$==="Enter"&&(b==="selectedAnchor"&&w(),b==="focused"&&v())},[b,v]),_=A=>{c(!0),s(A.target.value)},E=()=>{l&&(x==null||x(r.id,n.id,o),c(!1)),p()},k=f.useCallback(A=>{var $;const D=($=A.clipboardData)==null?void 0:$.getData("Text");(typeof D=="string"||typeof D=="number")&&(s(D),x==null||x(r.id,n.id,D))},[n.id,x,r.id]),T=f.useCallback(()=>{navigator.clipboard.writeText(o.toString())},[o]);f.useEffect(()=>((b==="selectedAnchor"||b==="focused")&&document.addEventListener("keydown",S),(b==="selectedAnchor"||b==="selectedRange")&&document.addEventListener("paste",k),b==="selectedAnchor"&&document.addEventListener("copy",T),()=>{(b==="selectedAnchor"||b==="focused")&&document.removeEventListener("keydown",S),(b==="selectedAnchor"||b==="selectedRange")&&document.removeEventListener("paste",k),b==="selectedAnchor"&&document.removeEventListener("copy",T)}),[a,b,n.id,g,T,S,k,r.index]);const j=()=>b==="focused"?"2px solid blue":b==="selectedRange"?"1px solid green":b==="selectedAnchor"?"1px solid blue":"1px solid transparent",I={onFocus:y,onBlur:E,onMouseDown:C,"aria-selected":!!b,"data-testid":a,id:a,ref:A=>d.current=A};return i.name==="boolean"?u.jsxs(iu,{...I,onChange:()=>null,radius:0,style:{boxShadow:"none",border:j(),padding:0},value:JSON.stringify(o),children:[u.jsx("option",{value:"True",children:"True"}),u.jsx("option",{value:"False",children:"False"})]}):u.jsx(Zr,{...I,size:0,radius:0,border:!1,style:{border:j(),padding:"22px 16px"},value:typeof o=="string"||typeof o=="number"?o:JSON.stringify(o),onChange:_})}function oUn(e){var t,n;const r=e.column.getIsPinned(),i=r?iUn:yFe,a=r&&e.column.getIsLastColumn("left")?2:1;return u.jsx(i,{style:{left:(t=e.column.getStart("left"))!=null?t:void 0,borderRight:`${a}px solid var(--card-border-color)`},width:e.column.getSize(),children:R3e(e.column.columnDef.cell,(n=e.getContext)==null?void 0:n.call(e))},e.row.original._id+e.id)}const bFe=5,sUn=e=>{var t,n;const{documentPreviewStore:r,row:i,schemaType:a}=e,o="Document title",s=f.useMemo(()=>Yb(r,a,i.original._id,o),[r,i.original._id,a]),{draft:l,published:c,isLoading:d}=Jr(s,{draft:null,isLoading:!0,published:null});if(d)return u.jsx(N,{size:1,muted:!0,children:"Loading..."});const h=(n=(t=l==null?void 0:l.title)!=null?t:c==null?void 0:c.title)!=null?n:"Untitled";return u.jsxs(U,{align:"center",gap:3,children:[u.jsx(Wb,{draft:l,published:c}),u.jsx(N,{size:1,children:h})]})},DI=$7n(),lUn=["string","number","boolean"],xFe=(e,t)=>e.fields.reduce((n,r)=>{const{type:i,name:a}=r;if(lUn.includes(i.name)){const o=DI.accessor(t?`${t}.${r.name}`:r.name,{id:t?`${t}_${r.name}`:r.name,header:r.type.title,enableHiding:!0,cell:s=>u.jsx(aUn,{...s,fieldType:i})});return[...n,o]}return i.name==="object"&&Bi(i)&&!t?[...n,DI.group({header:a,columns:xFe(i,r.name)})]:n},[]);function uUn(e){return"accessorKey"in e}function cUn(e){return"columns"in e}const wFe=e=>e.flatMap(t=>uUn(t)?t:cUn(t)?t.columns?wFe(t.columns):[]:[]);function dUn(e){const t=ua(),n=f.useMemo(()=>e?[DI.display({id:"selected",enableHiding:!1,header:i=>u.jsxs(L,{children:[u.jsx(Gp,{style:{paddingLeft:4},indeterminate:i.table.getIsSomeRowsSelected(),onChange:i.table.getToggleAllPageRowsSelectedHandler()}),i.table.getSelectedRowModel().rows.length," selected"]}),cell:tUn}),DI.accessor("Preview",{enableHiding:!1,id:"Preview",cell:i=>u.jsx(sUn,{...i,documentPreviewStore:t,schemaType:e})}),...xFe(e)]:[],[t,e]),[r]=f.useMemo(()=>wFe(n).reduce(([i,a],o)=>{if(!o.id)throw new Error("Column must have an id");const s=o.id;return o.enableHiding?a===bFe?[{...i,[s]:!1},a]:[{...i,[s]:!0},a+1]:[{...i,[s]:!0},a]},[{},0]),[n]);return{columns:n,initialColumnsVisibility:r}}function fUn({table:e}){const{t}=Y(),n=e.getVisibleLeafColumns().filter(o=>o.getCanHide()).length>=bFe,r=f.useCallback(()=>{e.resetColumnVisibility()},[e]),i=o=>()=>{o.toggleVisibility()},a=o=>{const s=o.getIsVisible(),l=e.getVisibleLeafColumns().filter(c=>c.getCanHide()).length===1;return n&&!s||l&&s};return u.jsx(ZD,{button:u.jsx(St,{mode:"bleed",text:t("sheet-list.edit-columns"),size:1}),id:"columns-control",menu:u.jsx(Ot,{padding:3,paddingTop:4,style:{width:240},children:u.jsxs(U,{direction:"column",height:"fill",gap:3,children:[u.jsx(N,{weight:"semibold",size:1,children:t("sheet-list.select-fields")}),u.jsx(U,{style:{flex:"1 1 auto",maxHeight:320,overflowY:"scroll"},children:u.jsx(ee,{children:e.getAllLeafColumns().filter(o=>o.getCanHide()).map(o=>{var s;return u.jsxs(U,{marginY:2,align:"center",children:[u.jsx(Gp,{readOnly:a(o),checked:o.getIsVisible(),onChange:i(o),id:`col-visibility-${o.id}`,style:{display:"block"}}),u.jsx(L,{flex:1,paddingLeft:3,children:u.jsx(N,{size:1,children:u.jsx("label",{htmlFor:`col-visibility-${o.id}`,children:(s=o.columnDef.header)==null?void 0:s.toString()})})})]},o.id)})})}),u.jsx(St,{width:"fill",mode:"ghost",size:1,text:t("sheet-list.reset-columns"),onClick:r})]})}),placement:"bottom",popover:{portal:!0}})}const hUn=R(U)`
  flex-shrink: 0;
`;function pUn(){const{state:{filtersVisible:e}}=Qt();return u.jsxs(hUn,{children:[u.jsx(Eq,{}),e&&u.jsx(_q,{showTypeFilter:!1})]})}const nK=R.th`
  margin: 16px;
  z-index: 1;
  padding: 22px 0px;
  border-top: 1px solid var(--card-border-color);
  background-color: var(--card-badge-default-bg-color);
  box-sizing: border-box;
  text-align: left;
  width: ${({width:e})=>e}px;
  max-width: ${({width:e})=>e}px;
`,mUn=R(nK)`
  position: sticky;
  z-index: 2;
`,gUn=R.div`
  visibility: hidden;

  ${nK}:hover & {
    visibility: visible;
  }
`;function vUn(e){var t;const{header:n,headerGroup:r}=e,{t:i}=Y(),a=n.column.getIsPinned(),o=r.depth>0&&!n.column.parent?null:u.jsx(N,{size:1,weight:"semibold",textOverflow:"ellipsis",children:R3e(n.column.columnDef.header,n.getContext())}),s=a?mUn:nK,l=n.column.getCanHide()&&(r.depth===0?!n.column.columns.length:n.column.parent),c=a&&n.column.getIsLastColumn("left")?2:1;return u.jsx(s,{style:{left:(t=n.column.getStart("left"))!=null?t:void 0,borderRight:`${c}px solid var(--card-border-color)`},"data-testid":`header-${n.id}`,width:n.getSize(),children:u.jsxs(U,{justify:"space-between",marginX:2,align:"baseline",children:[u.jsx(gt,{delay:500,content:o,children:u.jsx(L,{style:{boxSizing:"border-box"},marginLeft:3,marginRight:3,children:o})}),l&&u.jsx(gUn,{children:u.jsx(ZD,{button:u.jsx(fe,{tooltipProps:{content:"Open field menu"},mode:"bleed",icon:qy,"data-testid":"field-menu-button"}),id:"field menu",popover:{placement:"bottom-end"},menu:u.jsx(Ot,{children:u.jsx(We,{text:i("sheet-list.hide-field"),icon:Rr,onClick:()=>n.column.toggleVisibility()})})})})]})},n.id)}function yUn({table:e}){return u.jsx(Xa,{children:u.jsxs(U,{gap:3,align:"center",children:[u.jsx(fe,{onClick:()=>e.setPageIndex(0),disabled:!e.getCanPreviousPage(),icon:mB,tooltipProps:{content:"Go to first page"}}),u.jsx(fe,{onClick:()=>e.previousPage(),disabled:!e.getCanPreviousPage(),icon:Lf,tooltipProps:{content:"Go to previous page"}}),u.jsxs(N,{style:{whiteSpace:"nowrap"},children:[e.getState().pagination.pageIndex+1," of ",e.getPageCount()]}),u.jsx(fe,{onClick:()=>e.nextPage(),disabled:!e.getCanNextPage(),icon:no,tooltipProps:{content:"Go to next page"}}),u.jsx(fe,{onClick:()=>e.setPageIndex(e.getPageCount()-1),disabled:!e.getCanNextPage(),icon:cD,tooltipProps:{content:"Go to last page"}}),u.jsx("select",{value:e.getState().pagination.pageSize,onChange:t=>{e.setPageSize(Number(t.target.value))},children:[25,50,100].map(t=>u.jsx("option",{value:t,children:t},t))})]})})}function bUn(e){return e.reduce((t,n)=>({...t,[n._id]:n}),{})}function xUn(e,t){switch(t.type){case"DOCUMENTS_SET":{const n=bUn(t.documents);return{...e,documents:n}}case"DOCUMENT_RECEIVED":{const n=t.payload;return{...e,documents:{...e.documents,[n._id]:n}}}case"DOCUMENT_DELETED":{const{[t.id]:n,...r}=e.documents;return{...e,documents:r}}case"DOCUMENT_UPDATED":{const n=t.payload,r=n._id,i={...e.documents[r],...n};return{...e,documents:{...e.documents,[r]:i}}}default:return e}}const wUn={events:["welcome","mutation","reconnect"],includeResult:!0,visibility:"query"};function CUn({filter:e,params:t,apiVersion:n}){const r=`*[${e}][0...2000]`,i=Zt({...Gt,apiVersion:n||Gt.apiVersion}),[a,o]=f.useReducer(xUn,{documents:{}}),[s,l]=f.useState(i!==null),[c,d]=f.useState(null),h=f.useCallback(async()=>{if(!i){l(!1);return}try{const g=await i.fetch(r,t);o({type:"DOCUMENTS_SET",documents:g}),l(!1)}catch(g){d(g)}},[i,t,r]),p=f.useCallback(async g=>{if(g.type==="welcome"&&(l(!0),await h(),l(!1)),g.type==="reconnect"&&l(!0),g.type==="mutation"){if(g.transition==="appear"){const v=g.result;v&&o({type:"DOCUMENT_RECEIVED",payload:v})}if(g.transition==="disappear"&&o({type:"DOCUMENT_DELETED",id:g.documentId}),g.transition==="update"){const v=g.result;v&&o({type:"DOCUMENT_UPDATED",payload:v})}}},[h]),m=f.useMemo(()=>i?i.observable.listen(r,t,wUn).pipe(Cn(g=>(d(g),xe(g)))):xe(),[i,t,r]);return f.useEffect(()=>{const g=m.subscribe(p);return()=>{g==null||g.unsubscribe()}},[p,m]),{data:f.useMemo(()=>{const g=Object.keys(a.documents).reduce((v,b)=>{const y=a.documents[b],x=y._id===la(y._id),w=x?y._id:la(y._id);return v[w]&&!x||(v[w]=y),v},{});return Object.values(g)},[a.documents]),isLoading:s,error:c}}function SUn({typeName:e}){const{state:t}=Qt(),n=f.useMemo(()=>{const a=new Map;return t.result.hits.forEach(o=>a.set(fn(o.hit._id),o.hit)),a},[t.result.hits]),{data:r,isLoading:i}=CUn({filter:`_type == "${e}"`});return{data:f.useMemo(()=>r.filter(a=>n.has(fn(a._id))),[r,n]),isLoading:i}}const _Un=R(U)`
  height: 100%;
`,EUn=R.div`
  overflow: auto; //our scrollable table container
  position: relative; //needed for sticky header
`,kUn=R.table`
  border-collapse: separate;
  border-spacing: 0;
  font-family: arial, sans-serif;
  white-space: nowrap;
  width: 100%;
  border: 1px solid lightgray;

  thead {
    display: grid;
    position: sticky;
    top: 0;
    z-index: 10;
  }
  tr {
    padding: 0;
  }
  tr:last-child {
    border-bottom: none;
  }
`;function TUn({documentSchemaType:e}){const{dispatch:t,state:n}=Qt(),{columns:r,initialColumnsVisibility:i}=dUn(e),{data:a}=SUn({typeName:e.name}),[o,s]=f.useState(null),l=n.result.hits.length,c=T9n({data:a,columns:r,getCoreRowModel:v9n(),getFilteredRowModel:C9n(),getPaginationRowModel:S9n(),autoResetPageIndex:!1,initialState:{columnPinning:{left:["selected","Preview"]},pagination:{pageSize:25},columnVisibility:i},getRowId:m=>m._id,meta:{selectedAnchor:o,setSelectedAnchor:s,patchDocument:(m,g,v)=>null}}),{rows:d}=c.getRowModel();f.useEffect(()=>(t({type:"TERMS_TYPE_ADD",schemaType:e}),()=>{t({type:"TERMS_TYPE_REMOVE",schemaType:e})}),[e,t]);const h=f.useCallback(m=>u.jsx(L,{as:"tr",paddingY:2,style:{display:"flex",width:"100%"},children:m.getVisibleCells().map(g=>f.createElement(oUn,{...g,key:m.original._id+g.id}))},m.original._id+m.id),[]),p=`Total: ${l} rows, showing ${d.length} rows`;return u.jsxs(_Un,{direction:"column",paddingX:3,"data-testid":"document-sheet-list-pane",children:[u.jsxs(U,{direction:"row",align:"center",paddingY:3,paddingX:1,justify:"space-between",children:[u.jsxs(U,{direction:"row",align:"center",children:[u.jsx(pUn,{}),u.jsx(N,{size:0,muted:!0,children:p})]}),u.jsx(fUn,{table:c})]}),u.jsx(EUn,{children:u.jsx(rUn,{table:c,children:u.jsxs(kUn,{children:[u.jsx("thead",{children:c.getHeaderGroups().map(m=>u.jsx(L,{as:"tr",children:m.headers.map(g=>u.jsx(vUn,{header:g,headerGroup:m},g.id))},m.id))}),u.jsx("tbody",{children:c.getRowModel().rows.map(h)})]})})}),u.jsx(U,{justify:"flex-end",padding:3,gap:4,paddingY:5,children:u.jsx(yUn,{table:c})})]})}function AUn(e){const t=en(),n=e.pane.schemaTypeName,r=t.get(n);if(!r||!E4e(r))throw new Error(`Schema type "${n}" not found or not a document schema`);return u.jsx(Aq,{children:u.jsx(TUn,{...e,documentSchemaType:r})})}const jUn=e=>{const{menuItems:t,sortOrderRaw:n,layout:r}=e;return t==null?void 0:t.map(i=>{var a,o,s,l;return(a=i.params)!=null&&a.layout?{...i,selected:r===((o=i.params)==null?void 0:o.layout)}:(s=i==null?void 0:i.params)!=null&&s.by?{...i,selected:wt(n==null?void 0:n.by,((l=i==null?void 0:i.params)==null?void 0:l.by)||cn)}:{...i,selected:!1}})};function CFe(e){const t=f.useRef(e);return Ap(t.current,e)||(t.current=e),t.current}const SFe=f.memo(function(e){const{index:t,isSelected:n,pane:r,paneKey:i}=e,{name:a}=Dn(),{defaultLayout:o="default",initialValueTemplates:s=cn,menuItemGroups:l,menuItems:c,options:d}=r,{defaultOrdering:h=cn,filter:p}=d,m=CFe(d.params||mFe),g=r.source,v=f.useMemo(()=>{const T=tK(p,m);return(T==null?void 0:T.length)===1?T[0]:null},[p,m]),[b,y]=T9("layout",v??r.id,o),{title:x}=hd(r),w=f.useMemo(()=>(h==null?void 0:h.length)>0?{by:h}:pFe,[h]),[C,S]=T9("sort-order",v??r.id,w),_=f.useMemo(()=>jUn({menuItems:c,sortOrderRaw:C,layout:b}),[b,c,C]),E=b==="sheetList",k=E?f.createElement(AUn,{...e,key:e.pane.id}):u.jsx(eUn,{...e,sortOrder:C,layout:b});return u.jsx(gM,{name:g||a,children:u.jsxs(N_,{"data-ui":"DocumentListPane",id:i,minWidth:320,...E?{}:{currentMaxWidth:350,maxWidth:640},selected:n,children:[eFe,u.jsx(vFe,{index:t,initialValueTemplates:s,menuItemGroups:l,menuItems:_,setLayout:y,setSortOrder:S,title:x}),k]})})});var IUn=Object.defineProperty,DUn=(e,t,n)=>t in e?IUn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_he=(e,t,n)=>DUn(e,typeof t!="symbol"?t+"":t,n);class Tn extends Error{constructor(t,n,r,i){super(t),_he(this,"path"),_he(this,"helpId"),this.name="SerializeError";const a=typeof r>"u"?"<unknown>":`${r}`;this.path=(n||[]).concat(i?`${a} (${i})`:a)}withHelpUrl(t){return this.helpId=t,this}}var rr=(e=>(e.ID_REQUIRED="structure-node-id-required",e.TITLE_REQUIRED="structure-title-required",e.FILTER_REQUIRED="structure-filter-required",e.INVALID_LIST_ITEM="structure-invalid-list-item",e.COMPONENT_REQUIRED="structure-view-component-required",e.DOCUMENT_ID_REQUIRED="structure-document-id-required",e.DOCUMENT_TYPE_REQUIRED="structure-document-type-required",e.SCHEMA_TYPE_REQUIRED="structure-schema-type-required",e.SCHEMA_TYPE_NOT_FOUND="structure-schema-type-not-found",e.LIST_ITEMS_MUST_BE_ARRAY="structure-list-items-must-be-array",e.QUERY_PROVIDED_FOR_FILTER="structure-query-provided-for-filter",e.ACTION_OR_INTENT_REQUIRED="structure-action-or-intent-required",e.LIST_ITEM_IDS_MUST_BE_UNIQUE="structure-list-item-ids-must-be-unique",e.ACTION_AND_INTENT_MUTUALLY_EXCLUSIVE="structure-action-and-intent-mutually-exclusive",e.API_VERSION_REQUIRED_FOR_CUSTOM_FILTER="structure-api-version-required-for-custom-filter",e))(rr||{});const _Fe={title:"Last edited",i18n:{title:{key:"menu-items.sort-by.last-edited",ns:Ft}},name:"lastEditedDesc",by:[{field:"_updatedAt",direction:"desc"}]},$Un={title:"Created",i18n:{title:{key:"menu-items.sort-by.created",ns:Ft}},name:"lastCreatedDesc",by:[{field:"_createdAt",direction:"desc"}]},OUn=_Fe,Ehe=[_Fe,$Un];var MUn=Object.defineProperty,RUn=(e,t,n)=>t in e?MUn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,PUn=(e,t,n)=>RUn(e,t+"",n);function rK(e,t,n){return e instanceof Rf?e.serialize({path:n,index:t}):e}class Rf{constructor(t,n){this._context=t,PUn(this,"spec"),this.spec=n||{}}action(t){return this.clone({action:t})}getAction(){return this.spec.action}intent(t){return this.clone({intent:t})}getIntent(){return this.spec.intent}title(t){return this.clone({title:t})}getTitle(){return this.spec.title}i18n(t){return this.clone({i18n:t})}getI18n(){return this.spec.i18n}group(t){return this.clone({group:t})}getGroup(){return this.spec.group}icon(t){return this.clone({icon:t})}getIcon(){return this.spec.icon}params(t){return this.clone({params:t})}getParams(){return this.spec.params}showAsAction(t=!0){return this.clone({showAsAction:!!t})}getShowAsAction(){return this.spec.showAsAction}serialize(t={path:[]}){const{title:n,action:r,intent:i}=this.spec;if(!n){const a=typeof r=="string"?`action: "${r}"`:void 0;throw new Tn("`title` is required for menu item",t.path,t.index,a).withHelpUrl(rr.TITLE_REQUIRED)}if(!r&&!i)throw new Tn(`\`action\` or \`intent\` required for menu item with title ${this.spec.title}`,t.path,t.index,`"${n}"`).withHelpUrl(rr.ACTION_OR_INTENT_REQUIRED);if(i&&r)throw new Tn("cannot set both `action` AND `intent`",t.path,t.index,`"${n}"`).withHelpUrl(rr.ACTION_AND_INTENT_MUTUALLY_EXCLUSIVE);return{...this.spec,title:n}}clone(t){const n=new Rf(this._context);return n.spec={...this.spec,...t||{}},n}}function iK(e,{by:t,title:n,i18n:r},i){let a=new Rf(e).group("sorting").title(e.i18n.t("default-menu-item.fallback-title",{ns:"studio",replace:{title:n}})).icon(Z1).action("setSortOrder").params({by:t,extendedProjection:i});return r&&(a=a.i18n(r)),a}function aK(e,t){const{schema:n}=e,r=typeof t=="string"?n.get(t):t;return!r||!("orderings"in r)?[]:(r.orderings?r.orderings.concat(Ehe):Ehe).map(i=>iK(e,i,gFe(r,i.by)))}var FUn=Object.defineProperty,NUn=(e,t,n)=>t in e?FUn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,F4=(e,t,n)=>NUn(e,typeof t!="symbol"?t+"":t,n);function oK(e,t,n){return e instanceof Sg?e.serialize({path:n,index:t}):e}class Sg{constructor(t,n){this._context=t,F4(this,"_id"),F4(this,"_title"),F4(this,"_i18n"),this._id=n?n.id:"",this._title=n?n.title:"",this._i18n=n?n.i18n:void 0}id(t){return new Sg(this._context,{id:t,title:this._title,i18n:this._i18n})}getId(){return this._id}title(t){return new Sg(this._context,{title:t,id:this._id,i18n:this._i18n})}getTitle(){return this._title}i18n(t){return new Sg(this._context,{i18n:t,id:this._id,title:this._title})}getI18n(){return this._i18n}serialize(t={path:[]}){const{_id:n,_title:r,_i18n:i}=this;if(!n)throw new Tn("`id` is required for a menu item group",t.path,t.index,r).withHelpUrl(rr.ID_REQUIRED);if(!r)throw new Tn("`title` is required for a menu item group",t.path,n).withHelpUrl(rr.TITLE_REQUIRED);return{id:n,title:r,i18n:i}}}const EFe=/([^A-Za-z0-9-_.])/;function V_(e,t,n){if(typeof e!="string")throw new Tn(`Structure node id must be of type string, got ${typeof e}`,t,n);const[r]=e.match(EFe)||[];if(r)throw new Tn(`Structure node id cannot contain character "${r}"`,t,n);if(e.startsWith("__edit__"))throw new Tn("Structure node id cannot start with __edit__",t,n);return e}function QM(e,t){if(t)return t;const n=ehe(e);return EFe.test(n)?ehe(cIe(e)):n}var LUn=Object.defineProperty,BUn=(e,t,n)=>t in e?LUn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,VUn=(e,t,n)=>BUn(e,t+"",n);class Vy{constructor(t){VUn(this,"spec"),this.spec={options:{},...t||{}}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:QM(t,this.spec.id)})}getTitle(){return this.spec.title}i18n(t){return this.clone({i18n:t})}getI18n(){return this.spec.i18n}child(t){return this.clone({child:t})}getChild(){return this.spec.child}component(t){return this.clone({component:t})}getComponent(){return this.spec.component}options(t){return this.clone({options:t})}getOptions(){return this.spec.options||{}}menuItems(t){return this.clone({menuItems:t})}getMenuItems(){return this.spec.menuItems}menuItemGroups(t){return this.clone({menuItemGroups:t})}getMenuItemGroups(){return this.spec.menuItemGroups}canHandleIntent(t){return this.clone({canHandleIntent:t})}serialize(t={path:[]}){const{id:n,title:r,child:i,options:a,component:o}=this.spec;if(!n)throw new Tn("`id` is required for `component` structure item",t.path,t.index).withHelpUrl(rr.ID_REQUIRED);if(!o)throw new Tn("`component` is required for `component` structure item",t.path,t.index).withHelpUrl(rr.ID_REQUIRED);return{id:V_(n,t.path,t.index),title:r,type:"component",child:i,component:o,canHandleIntent:this.spec.canHandleIntent,options:a||{},menuItems:(this.spec.menuItems||[]).map((s,l)=>rK(s,l,t.path)),menuItemGroups:(this.spec.menuItemGroups||[]).map((s,l)=>oK(s,l,t.path))}}clone(t){const n=new Vy;return n.spec={...this.spec,...t||{}},n}}async function kFe(e,t){const n="*[_id in [$documentId, $draftId]]._type",r=fn(t),i=la(t);return(await e(Gt).fetch(n,{documentId:r,draftId:i},{tag:"structure.resolve-type"}))[0]}var zUn=Object.defineProperty,UUn=(e,t,n)=>t in e?zUn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,HUn=(e,t,n)=>UUn(e,t+"",n);class eR{constructor(){HUn(this,"spec",{})}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:this.spec.id||e6n(t)})}getTitle(){return this.spec.title}icon(t){return this.clone({icon:t})}getIcon(){return this.spec.icon}serialize(t={path:[]}){const{id:n,title:r,icon:i}=this.spec;if(!n)throw new Tn("`id` is required for view item",t.path,t.index).withHelpUrl(rr.ID_REQUIRED);if(!r)throw new Tn("`title` is required for view item",t.path,t.index).withHelpUrl(rr.TITLE_REQUIRED);return{id:V_(n,t.path,t.index),title:r,icon:i}}}function WUn(e){return typeof e.serialize=="function"}function sK(e,t,n){return WUn(e)?e.serialize({path:n,index:t}):e}var GUn=Object.defineProperty,YUn=(e,t,n)=>t in e?GUn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qUn=(e,t,n)=>YUn(e,t+"",n);const KUn=e=>yt(e)&&e.type==="component";class z_ extends eR{constructor(t){const n=KUn(t)?{...t}:{options:{}};super(),qUn(this,"spec"),this.spec=n;const r=typeof t=="function"?t:this.spec.component;r&&(this.spec=this.component(r).spec)}component(t){return this.clone({component:t})}getComponent(){return this.spec.component}options(t){return this.clone({options:t})}getOptions(){return this.spec.options||{}}serialize(t={path:[]}){const n=super.serialize(t),r=this.spec.component;if(typeof r!="function")throw new Tn("`component` is required and must be a function for `component()` view item",t.path,t.index).withHelpUrl(rr.COMPONENT_REQUIRED);return{...n,component:r,options:this.spec.options||{},type:"component"}}clone(t){const n=new z_;return n.spec={...this.spec,...t||{}},n}}var ZUn=Object.defineProperty,XUn=(e,t,n)=>t in e?ZUn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,JUn=(e,t,n)=>XUn(e,t+"",n);class U_ extends eR{constructor(t){super(),JUn(this,"spec"),this.spec={id:"editor",title:"Editor",...t||{}}}serialize(t={path:[]}){return{...super.serialize(t),type:"form"}}clone(t){const n=new U_;return n.spec={...this.spec,...t||{}},n}}const lK=e=>new U_(e),TFe=e=>new z_(e);var QUn=Object.freeze({__proto__:null,ComponentViewBuilder:z_,FormViewBuilder:U_,GenericViewBuilder:eR,component:TFe,form:lK,maybeSerializeView:sK}),eHn=Object.defineProperty,tHn=(e,t,n)=>t in e?eHn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nHn=(e,t,n)=>tHn(e,t+"",n);const rHn=({resolveDocumentNode:e,getClient:t})=>async(n,{params:r,path:i})=>{let a=r.type;const o=i.slice(0,i.length-1),s=i[i.length-1];if(a||(a=await kFe(t,n)),!a)throw new Tn("Failed to resolve document, and no type provided in parameters.",o,s);return e({documentId:n,schemaType:a})};class Pf{constructor(t,n){this._context=t,nHn(this,"spec"),this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:QM(t,this.spec.id)})}getTitle(){return this.spec.title}i18n(t){return this.clone({i18n:t})}getI18n(){return this.spec.i18n}child(t){return this.clone({child:t})}getChild(){return this.spec.child}documentId(t){const n=this.spec.id||t;return this.clone({id:n,options:{...this.spec.options||{},id:t}})}getDocumentId(){var t;return(t=this.spec.options)==null?void 0:t.id}schemaType(t){return this.clone({options:{...this.spec.options||{},type:typeof t=="string"?t:t.name}})}getSchemaType(){var t;return(t=this.spec.options)==null?void 0:t.type}initialValueTemplate(t,n){return this.clone({options:{...this.spec.options||{},template:t,templateParameters:n}})}getInitialValueTemplate(){var t;return(t=this.spec.options)==null?void 0:t.template}getInitialValueTemplateParameters(){var t;return(t=this.spec.options)==null?void 0:t.templateParameters}views(t){return this.clone({views:t})}getViews(){return this.spec.views||[]}serialize({path:t=[],index:n,hint:r}={path:[]}){const i=t[n||t.length-1],a=this.spec.id||i&&`${i}`||"",o={id:a,type:void 0,template:void 0,templateParameters:void 0,...this.spec.options};if(typeof a!="string"||!a)throw new Tn("`id` is required for document nodes",t,n,r).withHelpUrl(rr.ID_REQUIRED);if(!o||!o.id)throw new Tn("document id (`id`) is required for document nodes",t,a,r).withHelpUrl(rr.DOCUMENT_ID_REQUIRED);if(!o||!o.type)throw new Tn("document type (`schemaType`) is required for document nodes",t,a,r);const s=(this.spec.views&&this.spec.views.length>0?this.spec.views:[lK()]).map((d,h)=>sK(d,h,t)),l=s.map(d=>d.id),c=ra(l.filter((d,h)=>l.includes(d,h+1)));if(c.length>0)throw new Tn(`document node has views with duplicate IDs: ${c.join(",  ")}`,t,a,r);return{...this.spec,child:this.spec.child||rHn(this._context),id:V_(a,t,n),type:"document",options:iHn(o),views:s}}clone(t={}){const n=new Pf(this._context),r={...this.spec.options||{},...t.options||{}};return n.spec={...this.spec,...t,options:r},n}}function iHn(e){const t={id:e.id||"",type:e.type||"*"};return e.template&&(t.template=e.template),e.templateParameters&&(t.templateParameters=e.templateParameters),t}function AFe(e,t){let n=t!=null&&t.type?e.resolveDocumentNode({schemaType:t.type}):new Pf(e);if(!t)return n;const{id:r,type:i,template:a,templateParameters:o}=t.options;return n=n.id(t.id).documentId(r),i&&(n=n.schemaType(i)),a&&(n=n.initialValueTemplate(a,o)),t.child&&(n=n.child(t.child)),n}function jFe({resolveDocumentNode:e,templates:t},n,r){const i=t.find(a=>a.id===n);if(!i)throw new Error(`Template with ID "${n}" not defined`);return e({schemaType:i.schemaType}).initialValueTemplate(n,r)}var aHn=Object.defineProperty,oHn=(e,t,n)=>t in e?aHn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sHn=(e,t,n)=>oHn(e,t+"",n);class H_{constructor(t,n){this._context=t,sHn(this,"spec"),this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t})}getTitle(){return this.spec.title}description(t){return this.clone({description:t})}getDescription(){return this.spec.description}templateId(t){const n=this.spec.id||t;return this.clone({id:n,templateId:t})}getTemplateId(){return this.spec.templateId}parameters(t){return this.clone({parameters:t})}getParameters(){return this.spec.parameters}serialize({path:t=[],index:n,hint:r}={path:[]}){const{spec:i,_context:a}=this,{templates:o}=a;if(typeof i.id!="string"||!i.id)throw new Tn("`id` is required for initial value template item nodes",t,n,r).withHelpUrl(rr.ID_REQUIRED);if(!i.templateId)throw new Tn("template id (`templateId`) is required for initial value template item nodes",t,i.id,r).withHelpUrl(rr.ID_REQUIRED);const s=o.find(l=>l.id===i.templateId);if(!s)throw new Tn("template id (`templateId`) is required for initial value template item nodes",t,i.id,r).withHelpUrl(rr.ID_REQUIRED);return{id:i.id,templateId:i.id,schemaType:s.schemaType,type:"initialValueTemplateItem",description:i.description||s.description,title:i.title||s.title,subtitle:i.subtitle,icon:i.icon||s.icon,initialDocumentId:i.initialDocumentId,parameters:i.parameters}}clone(t={}){const n=new H_(this._context);return n.spec={...this.spec,...t},n}}function IFe(e){const{schema:t,getStructureBuilder:n,templates:r}=e,i=t.getTypeNames();return r.filter(a=>{var o;return!((o=a.parameters)!=null&&o.length)}).sort((a,o)=>i.indexOf(a.schemaType)-i.indexOf(o.schemaType)).map(a=>n().initialValueTemplateItem(a.id))}function DFe(e,t,n){return e instanceof H_?e.serialize({path:n,index:t}):e}function $Fe(e,t){const{schema:n,templates:r}=e;return t.map(i=>{const a=r.find(p=>p.id===i.templateId),o=i.title||(a==null?void 0:a.title)||"Create",s={};a&&a.schemaType&&(s.type=a.schemaType),i.templateId&&(s.template=i.templateId);const l=i.parameters?[s,i.parameters]:s,c=a&&n.get(a.schemaType),d=i.i18n||(a==null?void 0:a.i18n);let h=new Rf(e).title(o).icon(a&&a.icon||(c==null?void 0:c.icon)||wa).intent({type:"create",params:l});return d&&(h=h.i18n(d)),h.serialize()})}const uK=Symbol("Document type list canHandleIntent"),tR=(e,t,{pane:n})=>{var r,i;const a=e==="edit",o=e==="create",s=n,l=((r=s.options)==null?void 0:r.filter)||"",c=((i=s.options)==null?void 0:i.params)||{},d=s.schemaTypeName?[s.schemaTypeName]:nR(l,c),h=s.initialValueTemplates||[];return o&&t.template?h.some(p=>p.templateId===t.template):a&&t.id&&d.includes(t.type)||o&&d.includes(t.type)};tR.identity=uK;const khe=["default","card","media","detail","block"];var lHn=Object.defineProperty,uHn=(e,t,n)=>t in e?lHn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,The=(e,t,n)=>uHn(e,typeof t!="symbol"?t+"":t,n);function cHn(){}const cK=(e,t,{pane:n,index:r})=>r<=1&&tR(e,t,{pane:n,index:r});class dK{constructor(){The(this,"initialValueTemplatesSpecified",!1),The(this,"spec",{})}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:QM(t,this.spec.id)})}getTitle(){return this.spec.title}i18n(t){return this.clone({i18n:t})}getI18n(){return this.spec.i18n}defaultLayout(t){return this.clone({defaultLayout:t})}getDefaultLayout(){return this.spec.defaultLayout}menuItems(t){return this.clone({menuItems:t})}getMenuItems(){return this.spec.menuItems}menuItemGroups(t){return this.clone({menuItemGroups:t})}getMenuItemGroups(){return this.spec.menuItemGroups}child(t){return this.clone({child:t})}getChild(){return this.spec.child}canHandleIntent(t){return this.clone({canHandleIntent:t})}getCanHandleIntent(){return this.spec.canHandleIntent}showIcons(t=!0){return this.clone({displayOptions:{...this.spec.displayOptions||{},showIcons:t}})}getShowIcons(){return this.spec.displayOptions?this.spec.displayOptions.showIcons:void 0}initialValueTemplates(t){return this.initialValueTemplatesSpecified=!0,this.clone({initialValueTemplates:Array.isArray(t)?t:[t]})}getInitialValueTemplates(){return this.spec.initialValueTemplates}serialize(t={path:[]}){const n=this.spec.id||"",r=t.path,i=this.spec.defaultLayout;if(i&&!khe.includes(i))throw new Tn(`\`layout\` must be one of ${khe.map(o=>`"${o}"`).join(", ")}`,r,n||t.index,this.spec.title);const a=(this.spec.initialValueTemplates||[]).map((o,s)=>DFe(o,s,r));return{id:V_(n,t.path,n||t.index),title:this.spec.title,i18n:this.spec.i18n,type:"genericList",defaultLayout:i,child:this.spec.child||cHn,canHandleIntent:this.spec.canHandleIntent||cK,displayOptions:this.spec.displayOptions,initialValueTemplates:a,menuItems:(this.spec.menuItems||[]).map((o,s)=>rK(o,s,r)),menuItemGroups:(this.spec.menuItemGroups||[]).map((o,s)=>oK(o,s,r))}}}var dHn=Object.defineProperty,fHn=(e,t,n)=>t in e?dHn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hHn=(e,t,n)=>fHn(e,t+"",n);const pHn=(e,t)=>{var n;const r=((n=e.options)==null?void 0:n.filter.trim())||"";if(["*","{"].includes(r[0]))throw new Tn(`\`filter\` cannot start with \`${r[0]}\` - looks like you are providing a query, not a filter`,t.path,e.id,e.title).withHelpUrl(rr.QUERY_PROVIDED_FOR_FILTER);return r},mHn=e=>(t,n)=>{var r;const i=n.parent,a=(r=n.params)!=null&&r.template?e.templates.find(s=>s.id===n.params.template):void 0,o=a?a.schemaType:i.schemaTypeName||kFe(e.getClient,t);return Promise.resolve(o).then(s=>s?e.resolveDocumentNode({schemaType:s,documentId:t}):new Pf(e).id("editor").documentId(t).schemaType(""))};class ix extends dK{constructor(t,n){super(),this._context=t,hHn(this,"spec"),this.spec=n||{},this.initialValueTemplatesSpecified=!!(n!=null&&n.initialValueTemplates)}apiVersion(t){return this.clone({options:{...this.spec.options||{filter:""},apiVersion:t}})}getApiVersion(){var t;return(t=this.spec.options)==null?void 0:t.apiVersion}filter(t){return this.clone({options:{...this.spec.options||{},filter:t}})}getFilter(){var t;return(t=this.spec.options)==null?void 0:t.filter}schemaType(t){const n=typeof t=="string"?t:t.name;return this.clone({schemaTypeName:n})}getSchemaType(){return this.spec.schemaTypeName}params(t){return this.clone({options:{...this.spec.options||{filter:""},params:t}})}getParams(){var t;return(t=this.spec.options)==null?void 0:t.params}defaultOrdering(t){if(!Array.isArray(t))throw new Error("`defaultOrdering` must be an array of order clauses");return this.clone({options:{...this.spec.options||{filter:""},defaultOrdering:t}})}getDefaultOrdering(){var t;return(t=this.spec.options)==null?void 0:t.defaultOrdering}serialize(t={path:[]}){var n;if(typeof this.spec.id!="string"||!this.spec.id)throw new Tn("`id` is required for document lists",t.path,t.index,this.spec.title).withHelpUrl(rr.ID_REQUIRED);if(!this.spec.options||!this.spec.options.filter)throw new Tn("`filter` is required for document lists",t.path,this.spec.id,this.spec.title).withHelpUrl(rr.FILTER_REQUIRED);return((n=this.spec.options)==null?void 0:n.filter)!=="_type == $type"&&this.spec.options.filter&&!this.spec.options.apiVersion&&console.warn(`No apiVersion specified for document type list with custom filter: \`${this.spec.options.filter}\`. This will be required in the future. See %s for more info.`,Qxe(rr.API_VERSION_REQUIRED_FOR_CUSTOM_FILTER)),{...super.serialize(t),type:"documentList",schemaTypeName:this.spec.schemaTypeName,child:this.spec.child||mHn(this._context),options:{...this.spec.options,apiVersion:this.spec.options.apiVersion||Gt.apiVersion,filter:pHn(this.spec,t)}}}clone(t){const n=new ix(this._context);return n.spec={...this.spec,...t||{}},this.initialValueTemplatesSpecified||(n.spec.initialValueTemplates=gHn(this._context,n.spec)),n.spec.schemaTypeName||(n.spec.schemaTypeName=vHn(n.spec)),n}getSpec(){return this.spec}}function gHn(e,t){const{document:n}=e,{schemaTypeName:r,options:i}=t,{filter:a,params:o}=i||{filter:"",params:{}},s=r?[r]:Array.from(new Set(nR(a,o)));if(s.length!==0)return s.flatMap(l=>n.resolveNewDocumentOptions({type:"structure",schemaType:l})).map(l=>({...l,icon:wa}))}function vHn(e){const{options:t}=e,{filter:n,params:r}=t||{filter:"",params:{}},i=nR(n,r);return i.length===1?i[0]:void 0}function nR(e,t={}){let n=yHn(e,t);return n.length===0&&(n=bHn(e,t)),n}function yHn(e,t={}){const n=/\b_type\s*==\s*(['"].*?['"]|\$.*?(?:\s|$))|\B(['"].*?['"]|\$.*?(?:\s|$))\s*==\s*_type/g,r=[];let i;for(;(i=n.exec(e))!==null;)r.push(i[1]||i[2]);return r.map(a=>((a[0]==="$"?t[a.slice(1)]:a)||"").trim().replace(/^["']|["']$/g,"")).filter(Boolean)}function bHn(e,t={}){const n=/\b_type\s+in\s+\[(.*?)\]/,r=e.match(n);return r?r[1].split(/,\s*/).map(i=>i.trim().replace(/^["']+|["']+$/g,"")).map(i=>i[0]==="$"?t[i.slice(1)]:i).filter(Boolean):[]}var xHn=Object.defineProperty,wHn=(e,t,n)=>t in e?xHn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,CHn=(e,t,n)=>wHn(e,t+"",n);const SHn=e=>e instanceof ev?"ListBuilder":AHn(e)?"Promise":Array.isArray(e)?"array":typeof e,_Hn=e=>e.type==="listItem",EHn=(e,t,n)=>(n.pane.items||[]).filter(OFe).some(r=>r.schemaType.name===t.type&&r._id===t.id)||cK(e,t,n),kHn=(e,t)=>{const n=(t.parent.items.filter(_Hn).find(r=>r.id===e)||{child:void 0}).child;return!n||typeof n!="function"?n:typeof n=="function"?n(e,t):n};function THn(e,t,n){if(e instanceof tv)return e.serialize({path:n,index:t});const r=e;if(r&&r.type==="divider")return e;if(!r||r.type!=="listItem"){const i=r&&r.type||SHn(r),a=i==="array"?" - did you forget to spread (...moreItems)?":"";throw new Tn(`List items must be of type "listItem", got "${i}"${a}`,n,t).withHelpUrl(rr.INVALID_LIST_ITEM)}return e}function AHn(e){return yt(e)&&typeof e.then=="function"}class ev extends dK{constructor(t,n){super(),this._context=t,CHn(this,"spec"),this.spec=n||{},this.initialValueTemplatesSpecified=!!(n&&n.initialValueTemplates)}items(t){return this.clone({items:t})}getItems(){return this.spec.items}serialize(t={path:[]}){const n=this.spec.id;if(typeof n!="string"||!n)throw new Tn("`id` is required for lists",t.path,t.index).withHelpUrl(rr.ID_REQUIRED);const r=typeof this.spec.items>"u"?[]:this.spec.items;if(!Array.isArray(r))throw new Tn("`items` must be an array of items",t.path,t.index).withHelpUrl(rr.LIST_ITEMS_MUST_BE_ARRAY);const i=(t.path||[]).concat(n),a=r.map((s,l)=>THn(s,l,i)),o=a.filter((s,l)=>fIe(a,{id:s.id},l+1));if(o.length>0){const s=o.map(c=>c.id).slice(0,5),l=o.length>5?`${s.join(", ")}...`:s.join(", ");throw new Tn(`List items with same ID found (${l})`,t.path,t.index).withHelpUrl(rr.LIST_ITEM_IDS_MUST_BE_UNIQUE)}return{...super.serialize(t),type:"list",canHandleIntent:this.spec.canHandleIntent||EHn,child:this.spec.child||kHn,items:a}}clone(t){const n=new ev(this._context);return n.spec={...this.spec,...t||{}},n}}var jHn=Object.defineProperty,IHn=(e,t,n)=>t in e?jHn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,DHn=(e,t,n)=>IHn(e,t+"",n);class tv{constructor(t,n){this._context=t,DHn(this,"spec"),this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:QM(t,this.spec.id)})}getTitle(){return this.spec.title}i18n(t){return this.clone({i18n:t})}getI18n(){return this.spec.i18n}icon(t){return this.clone({icon:t})}showIcon(t=!0){return this.clone({displayOptions:{...this.spec.displayOptions||{},showIcon:t}})}getShowIcon(){return this.spec.displayOptions?this.spec.displayOptions.showIcon:void 0}getIcon(){return this.spec.icon}child(t){return this.clone({child:t})}getChild(){return this.spec.child}schemaType(t){return this.clone({schemaType:t})}getSchemaType(){const t=this.spec.schemaType;return typeof t=="string"?this._context.schema.get(t):this.spec.schemaType}serialize(t={path:[]}){const{id:n,title:r,child:i}=this.spec;if(typeof n!="string"||!n)throw new Tn("`id` is required for list items",t.path,t.index).withHelpUrl(rr.ID_REQUIRED);if(!t.titleIsOptional&&(typeof r!="string"||!r))throw new Tn("`title` is required for list items",t.path,n).withHelpUrl(rr.TITLE_REQUIRED);let a=this.spec.schemaType;if(typeof a=="string"){const l=this._context.schema.get(a);if(!l)throw new Tn(`Could not find type "${a}" in schema`,t.path,n).withHelpUrl(rr.SCHEMA_TYPE_NOT_FOUND);a=l}const o={path:t.path.concat(n),hint:"child"};let s=i instanceof Vy||i instanceof ix||i instanceof Pf||i instanceof ev?i.serialize(o):i;if(typeof s=="function"){const l=s;s=(c,d)=>l(c,{...d,serializeOptions:o})}return{...this.spec,id:V_(n,t.path,t.index),schemaType:a,child:s,title:r,type:"listItem"}}clone(t){const n=new tv(this._context);return n.spec={...this.spec,...t||{}},n}}var $Hn=Object.defineProperty,OHn=(e,t,n)=>t in e?$Hn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,MHn=(e,t,n)=>OHn(e,t+"",n);const RHn=(e,t)=>n=>{const r=t.schemaType&&(typeof t.schemaType=="string"?t.schemaType:t.schemaType.name);return r?e.resolveDocumentNode({schemaType:r,documentId:n}):new Pf(e).id("documentEditor").documentId(n)};class rR extends tv{constructor(t,n){super(t,n),this._context=t,MHn(this,"spec"),this.spec=n||{}}serialize(t={path:[]}){const n=super.serialize({...t,titleIsOptional:!0});if(!n.schemaType)throw new Tn("`schemaType` is required for document list items",t.path,t.index).withHelpUrl(rr.SCHEMA_TYPE_REQUIRED);const r=n.child||RHn(this._context,n);return{...n,child:r,schemaType:n.schemaType,_id:n.id}}clone(t){const n=new rR(this._context);return n.spec={...this.spec,...t||{}},n}}function OFe(e){return yt(e)&&typeof e.schemaType<"u"&&typeof e._id=="string"}var PHn=Object.defineProperty,FHn=(e,t,n)=>t in e?PHn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NHn=(e,t,n)=>FHn(e,t+"",n);class e2 extends ix{constructor(t,n){super(t),this._context=t,NHn(this,"spec"),this.spec=n||{}}child(t){return this.cloneWithoutDefaultIntentHandler({child:t})}clone(t){const n=super.clone(t),r=new e2(this._context);return r.spec={...this.spec,...n.getSpec(),...t||{}},r}cloneWithoutDefaultIntentHandler(t){const n=super.clone(t),r=new e2(this._context),i=this.spec.canHandleIntent,a=i&&i.identity===uK?{canHandleIntent:void 0}:{};return r.spec={...n.getSpec(),...this.spec,...t||{},...a},r}}const LHn=["sanity.imageAsset","sanity.fileAsset"];function BHn(e){return LHn.includes(e)}function VHn(e){var t;return((t=e.type)==null?void 0:t.name)==="document"}function zHn(e){return e.type==="list"}function UHn({schema:e}){return e.getTypeNames().filter(t=>{const n=e.get(t);return n&&VHn(n)}).filter(t=>!BHn(t))}function MFe(e){return UHn(e).map(t=>RFe(e,t))}function RFe(e,t){const{schema:n}=e,r=n.get(t);if(!r)throw new Error(`Schema type with name "${t}" not found`);const i=r.title||Rn(t);return new tv(e).id(t).title(i).schemaType(r).child((a,o)=>{const s=o.parent,l=zHn(s)?s.items.find(d=>d.id===a):null;let c=PFe(e,t);return l&&l.title&&(c=c.title(l.title)),c})}function PFe(e,t){const{schema:n,resolveDocumentNode:r}=e,i=typeof t=="string"?t:t.schemaType,a=typeof i=="string"?i:i.name,o=typeof t=="string"?{schemaType:i}:t,s=n.get(a);if(!s)throw new Error(`Schema type with name "${a}" not found`);const l=s.title||Rn(a);return new e2(e).id(o.id||a).title(o.title||l).filter("_type == $type").params({type:a}).schemaType(s).defaultOrdering(OUn.by).menuItemGroups(o.menuItemGroups||[{id:"sorting",title:"Sort",i18n:{title:{key:"menu-item-groups.actions-group",ns:Ft}}},{id:"layout",title:"Layout",i18n:{title:{key:"menu-item-groups.layout-group",ns:Ft}}},{id:"actions",title:"Actions",i18n:{title:{key:"menu-item-groups.sorting-group",ns:Ft}}}]).child(o.child||(c=>r({schemaType:a,documentId:c}))).canHandleIntent(o.canHandleIntent||tR).menuItems(o.menuItems||[...aK(e,s),new Rf(e).group("layout").i18n({title:{key:"menu-items.layout.compact-view",ns:Ft}}).title("Compact view").icon(yD).action("setLayout").params({layout:"default"}),new Rf(e).group("layout").i18n({title:{key:"menu-items.layout.detailed-view",ns:Ft}}).title("Detailed view").icon(OB).action("setLayout").params({layout:"detail"})])}function HHn(e){return!e||typeof e=="string"?!1:!!e.icon}function WHn(e){const t=MFe(e);return new ev(e).id("__root__").title("Content").i18n({title:{key:"default-definition.content-title",ns:Ft}}).items(t).showIcons(t.some(n=>HHn(n.getSchemaType())))}function FFe({defaultDocumentNode:e,source:t}){const n=FMn(t),r={...t,getStructureBuilder:()=>i,resolveDocumentNode:a=>{let o=(e==null?void 0:e(i,{...a,...n}))||new Pf(r);return o.getId()||(o=o.id("documentEditor")),a.documentId&&(o=o.documentId(fn(a.documentId))),o.schemaType(a.schemaType)}},i={defaults:()=>WHn(r),documentTypeList:(...a)=>PFe(r,...a),documentTypeListItem:(...a)=>RFe(r,...a),documentTypeListItems:(...a)=>MFe(r,...a),document:(...a)=>new Pf(r,...a),documentWithInitialValueTemplate:(...a)=>jFe(r,...a),defaultDocument:r.resolveDocumentNode,list:(...a)=>new ev(r,...a),listItem:(...a)=>new tv(r,...a),menuItem:(...a)=>new Rf(r,...a),menuItemGroup:(...a)=>new Sg(r,...a),menuItemsFromInitialValueTemplateItems:(...a)=>$Fe(r,...a),documentList:(...a)=>new ix(r,...a),documentListItem:(...a)=>new rR(r,...a),orderingMenuItem:(...a)=>iK(r,...a),orderingMenuItemsForType:(...a)=>aK(r,...a),editor:(...a)=>AFe(r,...a),defaultInitialValueTemplateItems:(...a)=>IFe(r,...a),initialValueTemplateItem:(a,o)=>new H_(r,{id:a,parameters:o,templateId:a}),component:a=>Sf.isValidElementType(a)?new Vy().component(a):new Vy(a),divider:()=>({id:J2e("__divider__"),type:"divider"}),view:QUn,context:r};return i}const NFe=e=>{const{liveEdit:t}=e;return t?{label:"Live",color:"danger"}:null};NFe.displayName="LiveEditBadge";const LFe={activePanes:[]};function GHn(e){LFe.activePanes=e}function YHn(e,t,n,r){var i;const a=(n==null?void 0:n.panes)||[],o=LFe.activePanes||[],s=t.id||qa(),l=e==="create"&&t.template;for(let c=o.length-1;c>=0;c--){const d=o[c];if(typeof d=="object"&&((i=d.canHandleIntent)!=null&&i.call(d,e,t,{pane:d,index:c})||d.type==="documentList"&&d.schemaTypeName===t.type&&d.options.filter==="_type == $type")){const h=l?{template:t.template}:DBn;return{panes:a.slice(0,c).concat([[{id:s,params:h,payload:r}]])}}}return{intent:e,params:t,payload:r}}function qHn(e){const t=new Map;return ZO(e,n=>{if(n.action==="unchanged"||!("annotation"in n)||!n.annotation)return!0;const{author:r,timestamp:i}=n.annotation,a=t.get(r);return(!a||a.timestamp<i)&&t.set(r,n.annotation),!0}),Array.from(t.values()).sort((n,r)=>n.timestamp<r.timestamp?1:-1)}const KHn=R(qO)`
  height: 100%;
  overflow: auto;
  position: relative;
  scroll-behavior: smooth;
`;function ZHn(e){const{onClose:t}=e,{documentId:n,schemaType:r,timelineError:i,timelineStore:a,value:o}=Cr(),s=f.useRef(null),l=va(a,y=>y.diff),c=va(a,y=>y.onOlderRevision),d=va(a,y=>y.selectionState),h=va(a,y=>y.sinceTime),p=d==="loading",m=!c,{t:g}=Y("studio"),v=f.useMemo(()=>({documentId:n,schemaType:r,FieldWrapper:Arn,rootDiff:l,isComparingCurrent:m,value:o}),[n,l,m,r,o]),b=f.useMemo(()=>l?qHn(l):[],[l]);return u.jsxs(U,{"data-testid":"review-changes-pane",direction:"column",height:"fill",overflow:"hidden",children:[u.jsx(Gq,{as:"header",closeButtonLabel:g("changes.action.close-label"),flex:"none",onClose:t,title:g("changes.title"),children:u.jsxs(U,{gap:1,padding:3,paddingTop:0,paddingBottom:2,children:[u.jsx(L,{flex:1,children:u.jsx(cFe,{mode:"since",chunk:h,placement:"bottom-start"})}),u.jsx(L,{flex:"none",children:u.jsx(Wo,{annotations:b,description:g("changes.changes-by-author"),portal:!0,children:u.jsx(A2,{maxLength:4,"aria-label":g("changes.changes-by-author"),children:b.map(({author:y})=>u.jsx(sl,{user:y},y))})})})]})}),u.jsx(te,{flex:1,children:u.jsx(Cf,{element:s.current,children:u.jsx(KHn,{"data-ui":"Scroller",ref:s,children:u.jsx(L,{flex:1,padding:4,children:u.jsx(XHn,{diff:l,documentContext:v,error:i,loading:p,schemaType:r})})})})})]})}function XHn({error:e,diff:t,documentContext:n,loading:r,schemaType:i}){return e?u.jsx(L7,{}):r?u.jsx(wn,{showText:!0}):t?u.jsx(Ghe.Provider,{value:n,children:u.jsx(T_,{diff:t,schemaType:i})}):u.jsx(L7,{})}const JHn={name:k9,useMenuItem:()=>{const{features:e}=sm(),{t}=Y();return{hidden:!e.reviewChanges,icon:gD,title:t("changes.title")}},component:ZHn,onClose:({params:e})=>({params:{...e,since:void 0}}),onOpen:({params:e})=>({params:{...e,since:"@lastPublished"}})};function QHn(e){const{path:t,schemaType:n,value:r}=e,i=[];let a=n,o=r;for(const s of t){if(typeof s=="string"){if(!yt(o)&&o!==void 0)throw new Error(`Parent value is not an object, cannot get path segment: .${s}`);if(a.jsonType!=="object")throw new Error(`Parent type is not an object schema type, cannot get path segment: .${s}`);o=o==null?void 0:o[s];const l=a.fields.find(c=>c.name===s);if(!l)return i.push({name:s}),i;a=l.type,i.push(a);continue}if(typeof s=="number"){if(!Wse(o)&&o!==void 0)throw new Error(`Parent value is not an array, cannot get path segment: [${s}]`);if(a.jsonType!=="array")throw new Error(`Parent type is not an array schema type, cannot get path segment: [${s}]`);o=o==null?void 0:o[s];const l=a.of.find(c=>typeof o=="string"?c.jsonType==="string":typeof o=="number"?c.jsonType==="number":typeof o=="boolean"?c.jsonType==="boolean":yt(o)?c.name===(o==null?void 0:o._type):!1);if(!l)throw new Error(`Item type not found: [${s}]`);a=l,i.push(a);continue}if(yt(s)&&s._key){if(!Wse(o))throw new Error(`Parent value is not an array, cannot get path segment: [_key == ${s}]`);if(a.jsonType!=="array")throw new Error(`Parent type is not an array schema type, cannot get path segment: .${s}`);if(o=(o??[]).find(c=>yt(c)&&c._key===s._key),!yt(o))throw new Error(`Array item not found: [_key == ${s._key}]`);const l=a.of.find(c=>yt(o)&&c.name===(o==null?void 0:o._type));if(!l)throw new Error(`Array item type not found: .${o==null?void 0:o._type}`);a=l,i.push(a);continue}throw new Error(`Invalid path segment: ${JSON.stringify(s)}`)}return i}const eWn={error:Ea,warning:fr,info:Bf},tWn={error:"critical",warning:"caution",info:"primary"};function nWn(e){const{onClose:t}=e,{onFocus:n,onPathOpen:r,schemaType:i,validation:a,value:o}=Cr(),{t:s}=Y("validation"),l=f.useCallback(c=>{r(c),n(c)},[n,r]);return u.jsxs(U,{direction:"column",height:"fill",overflow:"hidden",children:[u.jsx(Gq,{as:"header",closeButtonLabel:s("panel.close-button-aria-label"),flex:"none",onClose:t,title:s("panel.title")}),u.jsxs(te,{flex:1,overflow:"auto",padding:3,children:[a.length===0&&u.jsx(L,{padding:2,children:u.jsx(N,{muted:!0,size:1,children:s("panel.no-errors-message")})}),a.length>0&&u.jsx(ee,{space:2,children:a.map((c,d)=>u.jsx(rWn,{marker:c,onOpen:l,schemaType:i,value:o},d))})]})]})}function rWn(e){const{marker:t,onOpen:n,schemaType:r,value:i}=e,a=f.useCallback(()=>n(t.path),[t,n]),[o,s]=f.useState(null);return u.jsxs(sb,{onCatch:s,children:[o&&u.jsx(te,{padding:3,radius:2,tone:"critical",children:u.jsx(N,{size:1,children:o.error.message})}),!o&&u.jsx(te,{__unstable_focusRing:!0,as:"button",onClick:a,padding:3,radius:2,tone:tWn[t.level],children:u.jsxs(U,{align:"flex-start",gap:3,children:[u.jsx(L,{flex:"none",children:u.jsx(N,{size:1,children:f.createElement(eWn[t.level])})}),u.jsxs(ee,{flex:1,space:2,children:[u.jsx(iWn,{path:t.path,schemaType:r,value:i}),u.jsx(N,{muted:!0,size:1,children:t.message})]})]})})]})}function iWn(e){const{path:t,schemaType:n,value:r}=e,i=f.useMemo(()=>{try{return QHn({path:t,schemaType:n,value:r})}catch(a){console.error(a)}return null},[t,n,r]);return i!=null&&i.length?u.jsx(N,{size:1,children:i.map((a,o)=>u.jsxs(f.Fragment,{children:[o>0&&u.jsx("span",{style:{color:"var(--card-muted-fg-color)",opacity:.5},children:" / "}),u.jsx("span",{style:{fontWeight:500},children:a.title||a.name})]},o))}):null}function aWn(e){const{documentId:t,documentType:n}=e,{t:r}=Y("validation"),{validation:i}=ex(t,n),a=f.useMemo(()=>i.map(d=>({level:d.level,message:d.message,path:d.path})),[i]),o=a.some(j4e),s=a.some(I4e),l=f.useMemo(()=>o?Ea:s?fr:Lp,[o,s]),c=f.useMemo(()=>o?"critical":s?"caution":"positive",[o,s]);return{hidden:a.length===0,icon:l,title:r("panel.title"),tone:c,showAsAction:!0}}const oWn={name:NBn,component:nWn,useMenuItem:aWn},sWn={};function lWn(e){try{return JSON.parse(decodeURIComponent(e))}catch{return console.warn("Failed to parse JSON parameters"),{}}}function uWn(e){return(e||[]).map(t=>t.map(bWn).join("|")).map(encodeURIComponent).join(";")}function cWn(e){return JSON.stringify(e)}function dWn(e){return xWn(decodeURIComponent(e))}function fWn(e){return uWn(e)}const hWn=ma.create("/",[ma.intents("/intent"),ma.create("/edit/:type/:editDocumentId",[ma.create({path:"/:params",transform:{params:{toState:lWn,toPath:cWn}}})]),ma.create({path:"/:panes",children:[ma.create("/:action",ma.create("/:legacyEditDocumentId"))],transform:{panes:{toState:dWn,toPath:fWn}}})]),pWn=/^([.a-z0-9_-]+),?({.*?})?(?:(;|$))/i,mWn=e=>/^[a-z0-9]+=[^=]+/i.test(e),gWn=e=>/^[A-Za-z0-9\-_]+(?:={0,2})$/.test(e),BFe=["view","since","rev","inspect","comment"],vWn=Boolean;function yWn(e,t){const n={...t,params:sWn,payload:void 0};return e.reduce((r,i)=>{if(mWn(i)){const a=i.slice(0,i.indexOf("=")),o=i.slice(a.length+1);r.params={...r.params,[decodeURIComponent(a)]:decodeURIComponent(o)}}else gWn(i)?r.payload=SWn(i):console.warn("Unknown pane segment: %s - skipping",i);return r},n)}function bWn(e,t,n){const{payload:r,params:i={},id:a}=e,[o]=n,s=e===o,l=t!==0&&a===o.id,c=typeof r>"u"?void 0:VTe(r),d=Object.entries(i).filter(h=>{var p;const[m,g]=h;if(!g)return!1;if(s)return!0;const v=(p=o.params)==null?void 0:p[m];return!(g===v&&!BFe.includes(m))}).map(([h,p])=>`${encodeURIComponent(h)}=${encodeURIComponent(p)}`);return[l?"":a].concat([d.length>0&&d,c].filter(vWn).flat()).join(",")||","}function xWn(e){return e.indexOf(",{")!==-1?wWn(e):e.split(";").map(t=>{const[n,...r]=t.split("|").map(i=>{const[a,...o]=i.split(",");return yWn(o,{id:a})});return[n,...r.map(i=>({...n,...i,id:i.id||n.id,params:{...Pa(n.params,BFe),...i.params},payload:i.payload||n.payload}))]}).filter(t=>t.length>0)}function wWn(e){const t=[];let n=e;for(;n.length;){const[r,i,a]=n.match(pWn)||[];if(!r){n=n.slice(1);continue}const o=a&&CWn(a);t.push({id:i,payload:o}),n=n.slice(r.length)}return[t]}function CWn(e){try{return JSON.parse(e)}catch(t){console.warn(`Failed to parse parameters: ${t.message}`);return}}function SWn(e){try{return e?BTe(e):void 0}catch(t){console.warn(`Failed to parse parameters: ${t.message}`);return}}const _Wn=[Xq,Jq,Kq,Zq,qq,JM],EWn=[NFe],kWn=[oWn,JHn],VFe=Lb(e=>{const t=(e==null?void 0:e.icon)||SB;return{name:"sanity/structure",document:{actions:n=>Array.from(new Set([...n,..._Wn])),badges:n=>Array.from(new Set([...n,...EWn])),inspectors:n=>Array.from(new Set([...n,...kWn]))},tools:[{name:(e==null?void 0:e.name)||"structure",title:(e==null?void 0:e.title)||"Structure",icon:t,component:f.lazy(()=>Ff(()=>import("./index3-3d64526f.js"),[])),canHandleIntent:(n,r)=>n==="create"?TWn(r):n==="edit"?AWn(r):!1,getIntentState:YHn,controlsDocumentTitle:!0,options:e,router:hWn}],i18n:{bundles:[A9n]}}});function TWn(e){return"type"in e?"template"in e?{template:!0}:!0:!1}function AWn(e){return"id"in e?"mode"in e?{mode:e.mode==="structure"}:!0:!1}function jWn({defaultDocumentNode:e,structure:t,children:n}){const[r,i]=f.useState(!1),a=Dn(),o=PMn(a),s=vl(),l=f.useMemo(()=>FFe({defaultDocumentNode:e,source:a}),[e,a]),c=f.useMemo(()=>t?t(l,{...o,documentStore:s}):l.defaults(),[l,t,o,s]),d=f.useMemo(()=>({backButton:r,resizablePanes:!r,reviewChanges:!r,splitPanes:!r,splitViews:!r}),[r]),h=f.useMemo(()=>({features:d,layoutCollapsed:r,setLayoutCollapsed:i,rootPaneNode:c,structureContext:l.context}),[d,r,c,l.context]);return u.jsx(Hpe.Provider,{value:h,children:n})}var IWn=Object.freeze({__proto__:null,default:hFe}),DWn=Object.freeze({__proto__:null,default:SFe});const KWn=Object.freeze(Object.defineProperty({__proto__:null,BackLink:L3e,ChildLink:B3e,ComponentBuilder:Vy,ComponentViewBuilder:z_,ConfirmDeleteDialogContainer:zq,DEFAULT_INTENT_HANDLER:uK,DocumentBuilder:Pf,DocumentInspectorHeader:Gq,DocumentListBuilder:ix,DocumentListItemBuilder:rR,DocumentPane:hFe,DocumentPaneProvider:eK,DocumentTypeListBuilder:e2,FormViewBuilder:U_,GenericListBuilder:dK,GenericViewBuilder:eR,HELP_URL:rr,InitialValueTemplateItemBuilder:H_,LOADING_PANE:$Bn,ListBuilder:ev,ListItemBuilder:tv,LoadingPane:Hq,MenuItemBuilder:Rf,MenuItemGroupBuilder:Sg,Pane:N_,PaneContainer:SFe,PaneContent:L_,PaneHeader:ZM,PaneHeaderActions:Z3e,PaneItem:X3e,PaneLayout:bBn,ParameterizedLink:O9n,ReferenceChildLink:M9n,SerializeError:Tn,StructureToolProvider:jWn,_DEBUG:eFe,component:TFe,createStructureBuilder:FFe,defaultInitialValueTemplateItems:IFe,defaultIntentChecker:tR,documentFromEditor:AFe,documentFromEditorWithInitialValue:jFe,form:lK,getOrderingMenuItem:iK,getOrderingMenuItemsForSchemaType:aK,getTypeNamesFromFilter:nR,isDocumentListItem:OFe,maybeSerializeInitialValueTemplateItem:DFe,maybeSerializeMenuItem:rK,maybeSerializeMenuItemGroup:oK,maybeSerializeView:sK,menuItemsFromInitialValueTemplateItems:$Fe,pane:IWn,pane$1:DWn,setActivePanes:GHn,shallowIntentChecker:cK,structureLocaleNamespace:Ft,structureTool:VFe,useDocumentPane:Cr,useDocumentTitle:Wq,usePane:rh,usePaneLayout:Q0,usePaneRouter:yd,useStructureTool:sm},Symbol.toStringTag,{value:"Module"})),$Wn="vision",OWn={locale:"en-US",namespace:$Wn,resources:()=>Ff(()=>import("./resources-7356be53.js"),[])},MWn=Lb(e=>{const{name:t,title:n,icon:r,...i}=e||{};return{name:"@sanity/vision",tools:[{name:t||"vision",title:n||"Vision",icon:r||fD,component:f.lazy(()=>Ff(()=>import("./SanityVision-b00148cf.js"),[])),options:i,router:ma.create("/*")}],i18n:{bundles:[OWn]}}}),RWn=zhe({name:"skoda",title:"Skoda",type:"document",fields:[Hd({name:"pageId",title:"Landing Page Identifier",type:"string",options:{list:[{title:"Landing Page 1",value:"landingPage1"},{title:"Landing Page 2",value:"landingPage2"},{title:"Landing Page 3",value:"landingPage3"}],layout:"radio"}}),Hd({name:"title",title:"Title",type:"string"}),Hd({name:"description",title:"Description",type:"text"}),Hd({name:"image",title:"Banner Image",type:"image",options:{hotspot:!0}}),Hd({name:"model",title:"Model",type:"string",options:{list:[{title:"Model 1",value:"m1"},{title:"Model 2",value:"m2"},{title:"Model 3",value:"m3"}],layout:"dropdown"}})]}),PWn=[RWn],FWn={name:"default",title:"Skoda",projectId:"5abo01o1",dataset:"skoda",plugins:[VFe(),MWn()],schema:{types:PWn}};V4n(document.getElementById("sanity"),FWn,{reactStrictMode:!1,basePath:"/"});export{L_ as $,O9n as A,L3e as B,BWn as C,Pa as D,sb as E,LI as F,de as G,Y as H,Ft as I,Tn as J,te as K,Hq as L,si as M,zi as N,ee as O,lb as P,fi as Q,M9n as R,gM as S,N as T,L as U,Qxe as V,fe as W,g0 as X,N_ as Y,ZM as Z,Ff as _,nn as a,ht as a0,U as a1,fr as a2,Vi as a3,il as a4,mt as a5,xr as a6,bU as a7,gU as a8,qa as a9,_A as aA,Ql as aB,Ea as aC,Rz as aD,w0e as aE,e0e as aF,Wxe as aG,m0 as aH,yn as aI,nd as aJ,ro as aK,Ag as aL,r7n as aM,fge as aN,Qe as aO,hd as aP,Sf as aQ,rh as aR,Z3e as aS,Gy as aT,eFe as aU,KO as aV,X3e as aW,fd as aX,KWn as aY,kft as aa,HM as ab,E_ as ac,bBn as ad,Eft as ae,ar as af,xe as ag,Ai as ah,qHt as ai,Ou as aj,$u as ak,Ye as al,Dct as am,_f as an,Se as ao,ce as ap,o7n as aq,Zt as ar,$Wn as as,St as at,Wp as au,ab as av,Vn as aw,iu as ax,Zr as ay,An as az,l_ as b,ya as c,LG as d,sm as e,vl as f,Pe as g,R as h,yt as i,u as j,wt as k,Ki as l,Pr as m,en as n,jn as o,ib as p,YWn as q,f as r,$Bn as s,Fr as t,is as u,GHn as v,jWn as w,Q0 as x,qt as y,B3e as z};
